"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@firecms+core@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.2_sdo5nwpxnnm4g3nm64nvhkbfbi";
exports.ids = ["vendor-chunks/@firecms+core@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.2_sdo5nwpxnnm4g3nm64nvhkbfbi"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@firecms+core@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.2_sdo5nwpxnnm4g3nm64nvhkbfbi/node_modules/@firecms/core/dist/index.es.js":
/*!*************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@firecms+core@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.2_sdo5nwpxnnm4g3nm64nvhkbfbi/node_modules/@firecms/core/dist/index.es.js ***!
  \*************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppBar: () => (/* binding */ AppBar),\n/* harmony export */   AppContext: () => (/* binding */ AppContext),\n/* harmony export */   ArrayContainer: () => (/* binding */ ArrayContainer),\n/* harmony export */   ArrayContainerItem: () => (/* binding */ ArrayContainerItem),\n/* harmony export */   ArrayCustomShapedFieldBinding: () => (/* binding */ ArrayCustomShapedFieldBinding),\n/* harmony export */   ArrayEnumPreview: () => (/* binding */ ArrayEnumPreview),\n/* harmony export */   ArrayItemOptions: () => (/* binding */ ArrayItemOptions),\n/* harmony export */   ArrayOfMapsPreview: () => (/* binding */ ArrayOfMapsPreview),\n/* harmony export */   ArrayOfReferencesFieldBinding: () => (/* binding */ ArrayOfReferencesFieldBinding),\n/* harmony export */   ArrayOfReferencesPreview: () => (/* binding */ ArrayOfReferencesPreview),\n/* harmony export */   ArrayOfStorageComponentsPreview: () => (/* binding */ ArrayOfStorageComponentsPreview),\n/* harmony export */   ArrayOfStringsPreview: () => (/* binding */ ArrayOfStringsPreview),\n/* harmony export */   ArrayOneOfPreview: () => (/* binding */ ArrayOneOfPreview),\n/* harmony export */   ArrayPropertyEnumPreview: () => (/* binding */ ArrayPropertyEnumPreview),\n/* harmony export */   ArrayPropertyPreview: () => (/* binding */ ArrayPropertyPreview),\n/* harmony export */   AsyncPreviewComponent: () => (/* binding */ AsyncPreviewComponent),\n/* harmony export */   AuthControllerContext: () => (/* binding */ AuthControllerContext),\n/* harmony export */   BlockFieldBinding: () => (/* binding */ BlockFieldBinding),\n/* harmony export */   BooleanPreview: () => (/* binding */ BooleanPreview),\n/* harmony export */   COLLECTION_GROUP_PARENT_ID: () => (/* binding */ COLLECTION_GROUP_PARENT_ID),\n/* harmony export */   COLLECTION_PATH_SEPARATOR: () => (/* binding */ COLLECTION_PATH_SEPARATOR),\n/* harmony export */   CircularProgressCenter: () => (/* binding */ CircularProgressCenter),\n/* harmony export */   ConfirmationDialog: () => (/* binding */ ConfirmationDialog),\n/* harmony export */   DEFAULT_FIELD_CONFIGS: () => (/* binding */ DEFAULT_FIELD_CONFIGS),\n/* harmony export */   DRAWER_WIDTH: () => (/* binding */ DRAWER_WIDTH),\n/* harmony export */   DatePreview: () => (/* binding */ DatePreview),\n/* harmony export */   DateTimeFieldBinding: () => (/* binding */ DateTimeFieldBinding),\n/* harmony export */   DefaultAppBar: () => (/* binding */ DefaultAppBar),\n/* harmony export */   DefaultDrawer: () => (/* binding */ DefaultDrawer),\n/* harmony export */   DefaultHomePage: () => (/* binding */ DefaultHomePage),\n/* harmony export */   Drawer: () => (/* binding */ Drawer),\n/* harmony export */   DrawerLogo: () => (/* binding */ DrawerLogo),\n/* harmony export */   DrawerNavigationItem: () => (/* binding */ DrawerNavigationItem),\n/* harmony export */   EmptyValue: () => (/* binding */ EmptyValue),\n/* harmony export */   EntityCollectionRowActions: () => (/* binding */ EntityCollectionRowActions),\n/* harmony export */   EntityCollectionTable: () => (/* binding */ EntityCollectionTable),\n/* harmony export */   EntityCollectionView: () => (/* binding */ EntityCollectionView),\n/* harmony export */   EntityCollectionViewActions: () => (/* binding */ EntityCollectionViewActions),\n/* harmony export */   EntityForm: () => (/* binding */ EntityForm),\n/* harmony export */   EntityReference: () => (/* binding */ EntityReference),\n/* harmony export */   EntityView: () => (/* binding */ EntityView),\n/* harmony export */   EnumValuesChip: () => (/* binding */ EnumValuesChip),\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   ErrorView: () => (/* binding */ ErrorView),\n/* harmony export */   FieldCaption: () => (/* binding */ FieldCaption),\n/* harmony export */   FieldHelperText: () => (/* binding */ FieldHelperText),\n/* harmony export */   FireCMS: () => (/* binding */ FireCMS),\n/* harmony export */   FireCMSLogo: () => (/* binding */ FireCMSLogo),\n/* harmony export */   FireCMSRouter: () => (/* binding */ FireCMSRouter),\n/* harmony export */   FormEntry: () => (/* binding */ FormEntry),\n/* harmony export */   FormLayout: () => (/* binding */ FormLayout),\n/* harmony export */   GeoPoint: () => (/* binding */ GeoPoint),\n/* harmony export */   IconForView: () => (/* binding */ IconForView),\n/* harmony export */   ImagePreview: () => (/* binding */ ImagePreview),\n/* harmony export */   KeyValueFieldBinding: () => (/* binding */ KeyValueFieldBinding),\n/* harmony export */   KeyValuePreview: () => (/* binding */ KeyValuePreview),\n/* harmony export */   LabelWithIcon: () => (/* binding */ LabelWithIcon),\n/* harmony export */   LabelWithIconAndTooltip: () => (/* binding */ LabelWithIconAndTooltip),\n/* harmony export */   MapFieldBinding: () => (/* binding */ MapFieldBinding),\n/* harmony export */   MapPropertyPreview: () => (/* binding */ MapPropertyPreview),\n/* harmony export */   MarkdownEditorFieldBinding: () => (/* binding */ MarkdownEditorFieldBinding),\n/* harmony export */   ModeControllerContext: () => (/* binding */ ModeControllerContext),\n/* harmony export */   ModeControllerProvider: () => (/* binding */ ModeControllerProvider),\n/* harmony export */   MultiSelectFieldBinding: () => (/* binding */ MultiSelectFieldBinding),\n/* harmony export */   NavigationCard: () => (/* binding */ NavigationCard),\n/* harmony export */   NavigationCardBinding: () => (/* binding */ NavigationCardBinding),\n/* harmony export */   NavigationGroup: () => (/* binding */ NavigationGroup),\n/* harmony export */   NavigationRoutes: () => (/* binding */ NavigationRoutes),\n/* harmony export */   NotFoundPage: () => (/* binding */ NotFoundPage),\n/* harmony export */   NumberPropertyPreview: () => (/* binding */ NumberPropertyPreview),\n/* harmony export */   PropertyConfigBadge: () => (/* binding */ PropertyConfigBadge),\n/* harmony export */   PropertyFieldBinding: () => (/* binding */ PropertyFieldBinding),\n/* harmony export */   PropertyIdCopyTooltip: () => (/* binding */ PropertyIdCopyTooltip),\n/* harmony export */   PropertyIdCopyTooltipContent: () => (/* binding */ PropertyIdCopyTooltipContent),\n/* harmony export */   PropertyPreview: () => (/* binding */ PropertyPreview),\n/* harmony export */   PropertyTableCell: () => (/* binding */ PropertyTableCell),\n/* harmony export */   ReadOnlyFieldBinding: () => (/* binding */ ReadOnlyFieldBinding),\n/* harmony export */   ReferenceFieldBinding: () => (/* binding */ ReferenceFieldBinding),\n/* harmony export */   ReferencePreview: () => (/* binding */ ReferencePreview),\n/* harmony export */   ReferenceSelectionTable: () => (/* binding */ ReferenceSelectionTable),\n/* harmony export */   ReferenceWidget: () => (/* binding */ ReferenceWidget),\n/* harmony export */   RepeatFieldBinding: () => (/* binding */ RepeatFieldBinding),\n/* harmony export */   Scaffold: () => (/* binding */ Scaffold),\n/* harmony export */   SearchIconsView: () => (/* binding */ SearchIconsView),\n/* harmony export */   SelectFieldBinding: () => (/* binding */ SelectFieldBinding),\n/* harmony export */   SelectableTable: () => (/* binding */ SelectableTable),\n/* harmony export */   SelectableTableContext: () => (/* binding */ SelectableTableContext),\n/* harmony export */   SideDialogs: () => (/* binding */ SideDialogs),\n/* harmony export */   SkeletonPropertyComponent: () => (/* binding */ SkeletonPropertyComponent),\n/* harmony export */   SmallNavigationCard: () => (/* binding */ SmallNavigationCard),\n/* harmony export */   SnackbarProvider: () => (/* binding */ SnackbarProvider),\n/* harmony export */   StorageThumbnail: () => (/* binding */ StorageThumbnail),\n/* harmony export */   StorageThumbnailInternal: () => (/* binding */ StorageThumbnailInternal),\n/* harmony export */   StorageUploadFieldBinding: () => (/* binding */ StorageUploadFieldBinding),\n/* harmony export */   StringPropertyPreview: () => (/* binding */ StringPropertyPreview),\n/* harmony export */   SwitchFieldBinding: () => (/* binding */ SwitchFieldBinding),\n/* harmony export */   TextFieldBinding: () => (/* binding */ TextFieldBinding),\n/* harmony export */   UrlComponentPreview: () => (/* binding */ UrlComponentPreview),\n/* harmony export */   Vector: () => (/* binding */ Vector),\n/* harmony export */   VirtualTable: () => (/* binding */ VirtualTable),\n/* harmony export */   addInitialSlash: () => (/* binding */ addInitialSlash),\n/* harmony export */   applyPermissionsFunctionIfEmpty: () => (/* binding */ applyPermissionsFunctionIfEmpty),\n/* harmony export */   buildAdditionalFieldDelegate: () => (/* binding */ buildAdditionalFieldDelegate),\n/* harmony export */   buildCollection: () => (/* binding */ buildCollection),\n/* harmony export */   buildEntityCallbacks: () => (/* binding */ buildEntityCallbacks),\n/* harmony export */   buildEnumLabel: () => (/* binding */ buildEnumLabel),\n/* harmony export */   buildEnumValueConfig: () => (/* binding */ buildEnumValueConfig),\n/* harmony export */   buildEnumValues: () => (/* binding */ buildEnumValues),\n/* harmony export */   buildFieldConfig: () => (/* binding */ buildFieldConfig),\n/* harmony export */   buildIdColumn: () => (/* binding */ buildIdColumn),\n/* harmony export */   buildProperties: () => (/* binding */ buildProperties),\n/* harmony export */   buildPropertiesOrBuilder: () => (/* binding */ buildPropertiesOrBuilder),\n/* harmony export */   buildProperty: () => (/* binding */ buildProperty),\n/* harmony export */   canCreateEntity: () => (/* binding */ canCreateEntity),\n/* harmony export */   canDeleteEntity: () => (/* binding */ canDeleteEntity),\n/* harmony export */   canEditEntity: () => (/* binding */ canEditEntity),\n/* harmony export */   copyEntityAction: () => (/* binding */ copyEntityAction),\n/* harmony export */   defaultDateFormat: () => (/* binding */ defaultDateFormat),\n/* harmony export */   deleteEntityAction: () => (/* binding */ deleteEntityAction),\n/* harmony export */   deleteEntityWithCallbacks: () => (/* binding */ deleteEntityWithCallbacks),\n/* harmony export */   editEntityAction: () => (/* binding */ editEntityAction),\n/* harmony export */   enumToObjectEntries: () => (/* binding */ enumToObjectEntries),\n/* harmony export */   flattenObject: () => (/* binding */ flattenObject),\n/* harmony export */   fullPathToCollectionSegments: () => (/* binding */ fullPathToCollectionSegments),\n/* harmony export */   getArrayResolvedProperties: () => (/* binding */ getArrayResolvedProperties),\n/* harmony export */   getArrayValuesCount: () => (/* binding */ getArrayValuesCount),\n/* harmony export */   getBracketNotation: () => (/* binding */ getBracketNotation),\n/* harmony export */   getCollectionByPathOrId: () => (/* binding */ getCollectionByPathOrId),\n/* harmony export */   getCollectionPathsCombinations: () => (/* binding */ getCollectionPathsCombinations),\n/* harmony export */   getColorForProperty: () => (/* binding */ getColorForProperty),\n/* harmony export */   getColorScheme: () => (/* binding */ getColorScheme),\n/* harmony export */   getColumnKeysForProperty: () => (/* binding */ getColumnKeysForProperty),\n/* harmony export */   getDefaultFieldConfig: () => (/* binding */ getDefaultFieldConfig),\n/* harmony export */   getDefaultFieldId: () => (/* binding */ getDefaultFieldId),\n/* harmony export */   getDefaultPropertiesOrder: () => (/* binding */ getDefaultPropertiesOrder),\n/* harmony export */   getDefaultValueFor: () => (/* binding */ getDefaultValueFor),\n/* harmony export */   getDefaultValueForDataType: () => (/* binding */ getDefaultValueForDataType),\n/* harmony export */   getDefaultValuesFor: () => (/* binding */ getDefaultValuesFor),\n/* harmony export */   getEntityImagePreviewPropertyKey: () => (/* binding */ getEntityImagePreviewPropertyKey),\n/* harmony export */   getEntityPreviewKeys: () => (/* binding */ getEntityPreviewKeys),\n/* harmony export */   getEntityTitlePropertyKey: () => (/* binding */ getEntityTitlePropertyKey),\n/* harmony export */   getFieldConfig: () => (/* binding */ getFieldConfig),\n/* harmony export */   getFieldId: () => (/* binding */ getFieldId),\n/* harmony export */   getFormFieldKeys: () => (/* binding */ getFormFieldKeys),\n/* harmony export */   getHashValue: () => (/* binding */ getHashValue),\n/* harmony export */   getIcon: () => (/* binding */ getIcon),\n/* harmony export */   getIconForProperty: () => (/* binding */ getIconForProperty),\n/* harmony export */   getIconForWidget: () => (/* binding */ getIconForWidget),\n/* harmony export */   getIdIcon: () => (/* binding */ getIdIcon),\n/* harmony export */   getLabelOrConfigFrom: () => (/* binding */ getLabelOrConfigFrom),\n/* harmony export */   getLastSegment: () => (/* binding */ getLastSegment),\n/* harmony export */   getPropertiesWithPropertiesOrder: () => (/* binding */ getPropertiesWithPropertiesOrder),\n/* harmony export */   getPropertyInPath: () => (/* binding */ getPropertyInPath),\n/* harmony export */   getRandomId: () => (/* binding */ getRandomId$1),\n/* harmony export */   getReferenceFrom: () => (/* binding */ getReferenceFrom),\n/* harmony export */   getResolvedPropertyInPath: () => (/* binding */ getResolvedPropertyInPath),\n/* harmony export */   getValueInPath: () => (/* binding */ getValueInPath),\n/* harmony export */   hydrateRegExp: () => (/* binding */ hydrateRegExp),\n/* harmony export */   iconSynonyms: () => (/* binding */ iconSynonyms),\n/* harmony export */   iconsSearch: () => (/* binding */ iconsSearch),\n/* harmony export */   isDefaultFieldConfigId: () => (/* binding */ isDefaultFieldConfigId),\n/* harmony export */   isEmptyObject: () => (/* binding */ isEmptyObject),\n/* harmony export */   isEnumValueDisabled: () => (/* binding */ isEnumValueDisabled),\n/* harmony export */   isHidden: () => (/* binding */ isHidden),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isPropertyBuilder: () => (/* binding */ isPropertyBuilder),\n/* harmony export */   isReadOnly: () => (/* binding */ isReadOnly),\n/* harmony export */   isReferenceProperty: () => (/* binding */ isReferenceProperty),\n/* harmony export */   isValidRegExp: () => (/* binding */ isValidRegExp),\n/* harmony export */   joinCollectionLists: () => (/* binding */ joinCollectionLists),\n/* harmony export */   makePropertiesEditable: () => (/* binding */ makePropertiesEditable),\n/* harmony export */   makePropertiesNonEditable: () => (/* binding */ makePropertiesNonEditable),\n/* harmony export */   mergeCollection: () => (/* binding */ mergeCollection),\n/* harmony export */   mergeDeep: () => (/* binding */ mergeDeep),\n/* harmony export */   mergeEntityActions: () => (/* binding */ mergeEntityActions),\n/* harmony export */   navigateToEntity: () => (/* binding */ navigateToEntity),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   plural: () => (/* binding */ plural),\n/* harmony export */   printChanged: () => (/* binding */ printChanged),\n/* harmony export */   propertiesToColumns: () => (/* binding */ propertiesToColumns),\n/* harmony export */   randomColor: () => (/* binding */ randomColor),\n/* harmony export */   randomString: () => (/* binding */ randomString),\n/* harmony export */   removeFunctions: () => (/* binding */ removeFunctions),\n/* harmony export */   removeInPath: () => (/* binding */ removeInPath),\n/* harmony export */   removeInitialAndTrailingSlashes: () => (/* binding */ removeInitialAndTrailingSlashes),\n/* harmony export */   removeInitialSlash: () => (/* binding */ removeInitialSlash),\n/* harmony export */   removeNulls: () => (/* binding */ removeNulls),\n/* harmony export */   removePropsIfExisting: () => (/* binding */ removePropsIfExisting),\n/* harmony export */   removeTrailingSlash: () => (/* binding */ removeTrailingSlash),\n/* harmony export */   removeUndefined: () => (/* binding */ removeUndefined),\n/* harmony export */   renderSkeletonCaptionText: () => (/* binding */ renderSkeletonCaptionText),\n/* harmony export */   renderSkeletonIcon: () => (/* binding */ renderSkeletonIcon),\n/* harmony export */   renderSkeletonImageThumbnail: () => (/* binding */ renderSkeletonImageThumbnail),\n/* harmony export */   renderSkeletonText: () => (/* binding */ renderSkeletonText),\n/* harmony export */   resolveArrayProperty: () => (/* binding */ resolveArrayProperty),\n/* harmony export */   resolveCollection: () => (/* binding */ resolveCollection),\n/* harmony export */   resolveCollectionPathIds: () => (/* binding */ resolveCollectionPathIds),\n/* harmony export */   resolveDefaultSelectedView: () => (/* binding */ resolveDefaultSelectedView),\n/* harmony export */   resolveEntityView: () => (/* binding */ resolveEntityView),\n/* harmony export */   resolveEnumValues: () => (/* binding */ resolveEnumValues),\n/* harmony export */   resolveNavigationFrom: () => (/* binding */ resolveNavigationFrom),\n/* harmony export */   resolvePermissions: () => (/* binding */ resolvePermissions),\n/* harmony export */   resolveProperties: () => (/* binding */ resolveProperties),\n/* harmony export */   resolveProperty: () => (/* binding */ resolveProperty),\n/* harmony export */   resolvePropertyEnum: () => (/* binding */ resolvePropertyEnum),\n/* harmony export */   resolveStorageFilenameString: () => (/* binding */ resolveStorageFilenameString),\n/* harmony export */   resolveStoragePathString: () => (/* binding */ resolveStoragePathString),\n/* harmony export */   resolvedSelectedEntityView: () => (/* binding */ resolvedSelectedEntityView),\n/* harmony export */   sanitizeData: () => (/* binding */ sanitizeData),\n/* harmony export */   saveEntityWithCallbacks: () => (/* binding */ saveEntityWithCallbacks),\n/* harmony export */   segmentsToStrippedPath: () => (/* binding */ segmentsToStrippedPath),\n/* harmony export */   serializeRegExp: () => (/* binding */ serializeRegExp),\n/* harmony export */   singular: () => (/* binding */ singular),\n/* harmony export */   slugify: () => (/* binding */ slugify),\n/* harmony export */   sortProperties: () => (/* binding */ sortProperties),\n/* harmony export */   stripCollectionPath: () => (/* binding */ stripCollectionPath),\n/* harmony export */   toKebabCase: () => (/* binding */ toKebabCase),\n/* harmony export */   toSnakeCase: () => (/* binding */ toSnakeCase),\n/* harmony export */   traverseValueProperty: () => (/* binding */ traverseValueProperty),\n/* harmony export */   traverseValuesProperties: () => (/* binding */ traverseValuesProperties),\n/* harmony export */   unslugify: () => (/* binding */ unslugify),\n/* harmony export */   updateDateAutoValues: () => (/* binding */ updateDateAutoValues),\n/* harmony export */   useApp: () => (/* binding */ useApp),\n/* harmony export */   useAuthController: () => (/* binding */ useAuthController),\n/* harmony export */   useBrowserTitleAndIcon: () => (/* binding */ useBrowserTitleAndIcon),\n/* harmony export */   useBuildLocalConfigurationPersistence: () => (/* binding */ useBuildLocalConfigurationPersistence),\n/* harmony export */   useBuildModeController: () => (/* binding */ useBuildModeController),\n/* harmony export */   useBuildNavigationController: () => (/* binding */ useBuildNavigationController),\n/* harmony export */   useClearRestoreValue: () => (/* binding */ useClearRestoreValue),\n/* harmony export */   useClipboard: () => (/* binding */ useClipboard),\n/* harmony export */   useCollectionFetch: () => (/* binding */ useCollectionFetch),\n/* harmony export */   useColumnIds: () => (/* binding */ useColumnIds),\n/* harmony export */   useCustomizationController: () => (/* binding */ useCustomizationController),\n/* harmony export */   useDataSource: () => (/* binding */ useDataSource),\n/* harmony export */   useDataSourceTableController: () => (/* binding */ useDataSourceTableController),\n/* harmony export */   useDebouncedCallback: () => (/* binding */ useDebouncedCallback),\n/* harmony export */   useDebouncedData: () => (/* binding */ useDebouncedData),\n/* harmony export */   useDialogsController: () => (/* binding */ useDialogsController),\n/* harmony export */   useEntityFetch: () => (/* binding */ useEntityFetch),\n/* harmony export */   useFireCMSContext: () => (/* binding */ useFireCMSContext),\n/* harmony export */   useLargeLayout: () => (/* binding */ useLargeLayout),\n/* harmony export */   useModeController: () => (/* binding */ useModeController),\n/* harmony export */   useNavigationController: () => (/* binding */ useNavigationController),\n/* harmony export */   useReferenceDialog: () => (/* binding */ useReferenceDialog),\n/* harmony export */   useResolvedNavigationFrom: () => (/* binding */ useResolvedNavigationFrom),\n/* harmony export */   useSelectableTableController: () => (/* binding */ useSelectableTableController),\n/* harmony export */   useSelectionController: () => (/* binding */ useSelectionController),\n/* harmony export */   useSideDialogContext: () => (/* binding */ useSideDialogContext),\n/* harmony export */   useSideDialogsController: () => (/* binding */ useSideDialogsController),\n/* harmony export */   useSideEntityController: () => (/* binding */ useSideEntityController),\n/* harmony export */   useSnackbarController: () => (/* binding */ useSnackbarController),\n/* harmony export */   useStorageSource: () => (/* binding */ useStorageSource),\n/* harmony export */   useTableSearchHelper: () => (/* binding */ useTableSearchHelper),\n/* harmony export */   useTraceUpdate: () => (/* binding */ useTraceUpdate),\n/* harmony export */   useValidateAuthenticator: () => (/* binding */ useValidateAuthenticator),\n/* harmony export */   yupToFormErrors: () => (/* binding */ yupToFormErrors)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-compiler-runtime */ \"(ssr)/./node_modules/.pnpm/react-compiler-runtime@19.0.0-beta-e993439-20250328_react@18.3.1/node_modules/react-compiler-runtime/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _firecms_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @firecms/ui */ \"(ssr)/./node_modules/.pnpm/@firecms+ui@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.20__gv3rlt2syyojh67e34v4sc3r6u/node_modules/@firecms/ui/dist/index.es.js\");\n/* harmony import */ var notistack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! notistack */ \"(ssr)/./node_modules/.pnpm/notistack@3.0.2_csstype@3.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/notistack/notistack.esm.js\");\n/* harmony import */ var object_hash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! object-hash */ \"(ssr)/./node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/index.js\");\n/* harmony import */ var _firecms_formex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @firecms/formex */ \"(ssr)/./node_modules/.pnpm/@firecms+formex@3.0.0-beta.12_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@firecms/formex/dist/index.es.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-fast-compare */ \"(ssr)/./node_modules/.pnpm/react-fast-compare@3.2.2/node_modules/react-fast-compare/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router */ \"(ssr)/./node_modules/.pnpm/react-router@6.30.0_react@18.3.1/node_modules/react-router/dist/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-router-dom */ \"(ssr)/./node_modules/.pnpm/react-router-dom@6.30.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! date-fns */ \"(ssr)/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/format.mjs\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns/locale */ \"(ssr)/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale.mjs\");\n/* harmony import */ var react_use_measure__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-use-measure */ \"(ssr)/./node_modules/.pnpm/react-use-measure@2.1.7_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-use-measure/dist/index.js\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! yup */ \"(ssr)/./node_modules/.pnpm/yup@0.32.11/node_modules/yup/es/index.js\");\n/* harmony import */ var react_window__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-window */ \"(ssr)/./node_modules/.pnpm/react-window@1.8.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-window/dist/index.esm.js\");\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dropzone */ \"(ssr)/./node_modules/.pnpm/react-dropzone@14.3.8_react@18.3.1/node_modules/react-dropzone/dist/es/index.js\");\n/* harmony import */ var _hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @hello-pangea/dnd */ \"(ssr)/./node_modules/.pnpm/@hello-pangea+dnd@17.0.0_@types+react@18.3.20_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@hello-pangea/dnd/dist/dnd.esm.js\");\n/* harmony import */ var react_image_file_resizer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-image-file-resizer */ \"(ssr)/./node_modules/.pnpm/react-image-file-resizer@0.4.8/node_modules/react-image-file-resizer/build/index.js\");\n/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! fuse.js */ \"(ssr)/./node_modules/.pnpm/fuse.js@7.1.0/node_modules/fuse.js/dist/fuse.mjs\");\n/* harmony import */ var _firecms_editor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @firecms/editor */ \"(ssr)/./node_modules/.pnpm/@firecms+editor@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3_h55f373iir4mnjhruau3i2zoxe/node_modules/@firecms/editor/dist/index.es.js\");\n/* harmony import */ var _radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @radix-ui/react-portal */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-portal@1.1.4_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3._6r6q4romnkulnx3f3a4rpwj4y4/node_modules/@radix-ui/react-portal/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SnackbarProvider = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2);\n  const {\n    children\n  } = t0;\n  let t1;\n  if ($[0] !== children) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(notistack__WEBPACK_IMPORTED_MODULE_4__.SnackbarProvider, { maxSnack: 3, autoHideDuration: 3500, children });\n    $[0] = children;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  return t1;\n};\nconst DEFAULT_MODE_STATE = {\n  mode: \"light\",\n  setMode: (mode) => {\n  }\n};\nconst ModeControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext(DEFAULT_MODE_STATE);\nconst ModeControllerProvider = ModeControllerContext.Provider;\nconst AuthControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nfunction removeInitialAndTrailingSlashes(s) {\n  return removeInitialSlash(removeTrailingSlash(s));\n}\nfunction removeInitialSlash(s) {\n  if (s.startsWith(\"/\")) return s.slice(1);\n  else return s;\n}\nfunction removeTrailingSlash(s) {\n  if (s.endsWith(\"/\")) return s.slice(0, -1);\n  else return s;\n}\nfunction addInitialSlash(s) {\n  if (s.startsWith(\"/\")) return s;\n  else return `/${s}`;\n}\nfunction getLastSegment(path) {\n  const cleanPath = removeInitialAndTrailingSlashes(path);\n  if (cleanPath.includes(\"/\")) {\n    const segments = cleanPath.split(\"/\");\n    return segments[segments.length - 1];\n  }\n  return cleanPath;\n}\nfunction resolveCollectionPathIds(path, allCollections) {\n  const cleanPath = removeInitialAndTrailingSlashes(path);\n  const subpaths = cleanPath.split(\"/\");\n  if (subpaths.length % 2 === 0) {\n    throw Error(`resolveCollectionPathAliases: Collection paths must have an odd number of segments: ${path}`);\n  }\n  const aliasedCollection = allCollections.find((col) => col.id === subpaths[0]);\n  let resolvedAliased;\n  if (aliasedCollection) {\n    resolvedAliased = aliasedCollection.path;\n  }\n  if (subpaths.length > 1) {\n    const segmentCollection = getCollectionByPathOrId(resolvedAliased ?? subpaths[0], allCollections);\n    if (!segmentCollection?.subcollections) {\n      return cleanPath;\n    }\n    const restOfThePath = cleanPath.split(\"/\").slice(2).join(\"/\");\n    return (resolvedAliased ?? subpaths[0]) + \"/\" + subpaths[1] + \"/\" + resolveCollectionPathIds(restOfThePath, segmentCollection.subcollections);\n  } else {\n    return resolvedAliased ?? cleanPath;\n  }\n}\nfunction getCollectionByPathOrId(pathOrId, collections) {\n  const subpaths = removeInitialAndTrailingSlashes(pathOrId).split(\"/\");\n  if (subpaths.length % 2 === 0) {\n    throw Error(`getCollectionByPathOrId: Collection paths must have an odd number of segments: ${pathOrId}`);\n  }\n  const subpathCombinations = getCollectionPathsCombinations(subpaths);\n  let result;\n  for (let i = 0; i < subpathCombinations.length; i++) {\n    const subpathCombination = subpathCombinations[i];\n    const navigationEntry = collections && collections.sort((a, b) => (a.id ?? \"\").localeCompare(b.id ?? \"\")).find((entry) => entry.id === subpathCombination || entry.path === subpathCombination);\n    if (navigationEntry) {\n      if (subpathCombination === pathOrId) {\n        result = navigationEntry;\n      } else if (navigationEntry.subcollections) {\n        const newPath = pathOrId.replace(subpathCombination, \"\").split(\"/\").slice(2).join(\"/\");\n        if (newPath.length > 0) result = getCollectionByPathOrId(newPath, navigationEntry.subcollections);\n      }\n    }\n    if (result) break;\n  }\n  return result;\n}\nfunction getCollectionPathsCombinations(subpaths) {\n  const entries = subpaths.length > 0 && subpaths.length % 2 === 0 ? subpaths.splice(0, subpaths.length - 1) : subpaths;\n  const length = entries.length;\n  const result = [];\n  for (let i = length; i > 0; i = i - 2) {\n    result.push(entries.slice(0, i).join(\"/\"));\n  }\n  return result;\n}\nfunction navigateToEntity({\n  openEntityMode,\n  collection,\n  entityId,\n  copy,\n  path,\n  selectedTab,\n  sideEntityController,\n  onClose,\n  navigation\n}) {\n  if (openEntityMode === \"side_panel\") {\n    sideEntityController.open({\n      entityId,\n      path,\n      copy,\n      selectedTab,\n      collection,\n      updateUrl: true,\n      onClose\n    });\n  } else {\n    let to = navigation.buildUrlCollectionPath(entityId ? `${path}/${entityId}` : path);\n    if (entityId && selectedTab) {\n      to += `/${selectedTab}`;\n    }\n    if (!entityId) {\n      to += \"#new\";\n    }\n    if (copy) {\n      to += \"#copy\";\n    }\n    navigation.navigate(to);\n  }\n}\nclass EntityReference {\n  /**\n   * ID of the entity\n   */\n  id;\n  /**\n   * A string representing the path of the referenced document (relative\n   * to the root of the database).\n   */\n  path;\n  constructor(id, path) {\n    this.id = id;\n    this.path = path;\n  }\n  get pathWithId() {\n    return `${this.path}/${this.id}`;\n  }\n  isEntityReference() {\n    return true;\n  }\n}\nclass GeoPoint {\n  /**\n   * The latitude of this GeoPoint instance.\n   */\n  latitude;\n  /**\n   * The longitude of this GeoPoint instance.\n   */\n  longitude;\n  constructor(latitude, longitude) {\n    this.latitude = latitude;\n    this.longitude = longitude;\n  }\n}\nclass Vector {\n  value;\n  constructor(value) {\n    this.value = value;\n  }\n}\nconst pick = (obj, ...args) => ({\n  ...args.reduce((res, key) => ({\n    ...res,\n    [key]: obj[key]\n  }), {})\n});\nfunction isObject(item) {\n  return item && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction mergeDeep(target, source) {\n  const targetIsObject = isObject(target);\n  const output = targetIsObject ? {\n    ...target\n  } : target;\n  if (targetIsObject && isObject(source)) {\n    Object.keys(source).forEach((key) => {\n      const sourceElement = source[key];\n      if (sourceElement instanceof Date) {\n        Object.assign(output, {\n          [key]: new Date(sourceElement.getTime())\n        });\n      } else if (isObject(sourceElement)) {\n        if (!(key in target)) Object.assign(output, {\n          [key]: sourceElement\n        });\n        else output[key] = mergeDeep(target[key], sourceElement);\n      } else {\n        Object.assign(output, {\n          [key]: sourceElement\n        });\n      }\n    });\n  }\n  return output;\n}\nfunction getValueInPath(o, path) {\n  if (!o) return void 0;\n  if (typeof o === \"object\") {\n    if (path in o) {\n      return o[path];\n    }\n    if (path.includes(\".\") || path.includes(\"[\")) {\n      let pathSegments = path.split(/[.[]/);\n      if (path.includes(\"[\")) {\n        pathSegments = pathSegments.map((segment) => segment.replace(\"]\", \"\"));\n      }\n      const firstSegment = pathSegments[0];\n      const isArrayAndIndexExists = Array.isArray(o[firstSegment]) && !isNaN(parseInt(pathSegments[1]));\n      const nextObject = isArrayAndIndexExists ? o[firstSegment][parseInt(pathSegments[1])] : o[firstSegment];\n      const nextPath = pathSegments.slice(isArrayAndIndexExists ? 2 : 1).join(\".\");\n      if (nextPath === \"\") return nextObject;\n      return getValueInPath(nextObject, nextPath);\n    }\n  }\n  return void 0;\n}\nfunction removeInPath(o, path) {\n  let currentObject = {\n    ...o\n  };\n  const parts = path.split(\".\");\n  const last = parts.pop();\n  for (const part of parts) {\n    currentObject = currentObject[part];\n  }\n  if (last) delete currentObject[last];\n  return currentObject;\n}\nfunction removeFunctions(o) {\n  if (o === void 0) return void 0;\n  if (o === null) return null;\n  if (typeof o === \"object\") {\n    return Object.entries(o).filter(([_, value]) => typeof value !== \"function\").map(([key, value]) => {\n      if (Array.isArray(value)) {\n        return {\n          [key]: value.map((v) => removeFunctions(v))\n        };\n      } else if (typeof value === \"object\") {\n        return {\n          [key]: removeFunctions(value)\n        };\n      } else return {\n        [key]: value\n      };\n    }).reduce((a, b) => ({\n      ...a,\n      ...b\n    }), {});\n  }\n  return o;\n}\nfunction getHashValue(v) {\n  if (!v) return null;\n  if (typeof v === \"object\") {\n    if (\"id\" in v) return v.id;\n    else if (v instanceof Date) return v.toLocaleString();\n    else if (v instanceof GeoPoint) return object_hash__WEBPACK_IMPORTED_MODULE_5__(v);\n  }\n  return object_hash__WEBPACK_IMPORTED_MODULE_5__(v, {\n    ignoreUnknown: true\n  });\n}\nfunction removeUndefined(value, removeEmptyStrings) {\n  if (typeof value === \"function\") {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map((v) => removeUndefined(v, removeEmptyStrings));\n  }\n  if (typeof value === \"object\") {\n    const res = {};\n    if (value === null) return value;\n    Object.keys(value).forEach((key) => {\n      if (!isEmptyObject(value)) {\n        const childRes = removeUndefined(value[key], removeEmptyStrings);\n        const isString = typeof childRes === \"string\";\n        const shouldKeepIfString = !removeEmptyStrings || removeEmptyStrings && !isString || removeEmptyStrings && isString && childRes !== \"\";\n        if (childRes !== void 0 && !isEmptyObject(childRes) && shouldKeepIfString) res[key] = childRes;\n      }\n    });\n    return res;\n  }\n  return value;\n}\nfunction removeNulls(value) {\n  if (typeof value === \"function\") {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map((v) => removeNulls(v));\n  }\n  if (typeof value === \"object\") {\n    const res = {};\n    if (value === null) return value;\n    Object.keys(value).forEach((key) => {\n      if (value[key] !== null) res[key] = removeNulls(value[key]);\n    });\n    return res;\n  }\n  return value;\n}\nfunction isEmptyObject(obj) {\n  return obj && Object.getPrototypeOf(obj) === Object.prototype && Object.keys(obj).length === 0;\n}\nfunction removePropsIfExisting(source, comparison) {\n  const isObject2 = (val) => typeof val === \"object\" && val !== null;\n  const isArray = (val) => Array.isArray(val);\n  if (!isObject2(source) || !isObject2(comparison)) {\n    return source;\n  }\n  const res = isArray(source) ? [...source] : {\n    ...source\n  };\n  if (isArray(res)) {\n    for (let i = res.length - 1; i >= 0; i--) {\n      if (res[i] === comparison[i]) {\n        res.splice(i, 1);\n      } else if (isObject2(res[i]) && isObject2(comparison[i])) {\n        res[i] = removePropsIfExisting(res[i], comparison[i]);\n      }\n    }\n  } else {\n    Object.keys(comparison).forEach((key) => {\n      if (key in res) {\n        if (isObject2(res[key]) && isObject2(comparison[key])) {\n          res[key] = removePropsIfExisting(res[key], comparison[key]);\n        } else if (res[key] === comparison[key]) {\n          delete res[key];\n        }\n      }\n    });\n  }\n  return res;\n}\nconst DEFAULT_ONE_OF_TYPE = \"type\";\nconst DEFAULT_ONE_OF_VALUE = \"value\";\nfunction isReadOnly(property) {\n  if (property.readOnly) return true;\n  if (property.dataType === \"date\") {\n    if (property.autoValue) return true;\n  }\n  if (property.dataType === \"reference\") {\n    return !property.path;\n  }\n  return false;\n}\nfunction isHidden(property) {\n  return typeof property.disabled === \"object\" && Boolean(property.disabled.hidden);\n}\nfunction isPropertyBuilder(propertyOrBuilder) {\n  return typeof propertyOrBuilder === \"function\";\n}\nfunction getDefaultValuesFor(properties) {\n  if (!properties) return {};\n  return Object.entries(properties).map(([key, property]) => {\n    if (!property) return {};\n    const value = getDefaultValueFor(property);\n    return value === void 0 ? {} : {\n      [key]: value\n    };\n  }).reduce((a, b) => ({\n    ...a,\n    ...b\n  }), {});\n}\nfunction getDefaultValueFor(property) {\n  if (!property) return void 0;\n  if (isPropertyBuilder(property)) return void 0;\n  if (property.defaultValue || property.defaultValue === null) {\n    return property.defaultValue;\n  } else if (property.dataType === \"map\" && property.properties) {\n    const defaultValuesFor = getDefaultValuesFor(property.properties);\n    if (Object.keys(defaultValuesFor).length === 0) return void 0;\n    return defaultValuesFor;\n  } else {\n    return getDefaultValueForDataType(property.dataType);\n  }\n}\nfunction getDefaultValueForDataType(dataType) {\n  if (dataType === \"string\") {\n    return null;\n  } else if (dataType === \"number\") {\n    return null;\n  } else if (dataType === \"boolean\") {\n    return false;\n  } else if (dataType === \"date\") {\n    return null;\n  } else if (dataType === \"array\") {\n    return [];\n  } else if (dataType === \"map\") {\n    return {};\n  } else {\n    return null;\n  }\n}\nfunction updateDateAutoValues({\n  inputValues,\n  properties,\n  status,\n  timestampNowValue,\n  setDateToMidnight\n}) {\n  return traverseValuesProperties(inputValues, properties, (inputValue, property) => {\n    if (property.dataType === \"date\") {\n      let resultDate;\n      if (status === \"existing\" && property.autoValue === \"on_update\") {\n        resultDate = timestampNowValue;\n      } else if ((status === \"new\" || status === \"copy\") && (property.autoValue === \"on_update\" || property.autoValue === \"on_create\")) {\n        resultDate = timestampNowValue;\n      } else {\n        resultDate = inputValue;\n      }\n      if (property.mode === \"date\") resultDate = setDateToMidnight(resultDate);\n      return resultDate;\n    } else {\n      return inputValue;\n    }\n  }) ?? {};\n}\nfunction sanitizeData(values, properties) {\n  const result = values;\n  Object.entries(properties).forEach(([key, property]) => {\n    if (values && values[key] !== void 0) result[key] = values[key];\n    else if (property.validation?.required) result[key] = null;\n  });\n  return result;\n}\nfunction getReferenceFrom(entity) {\n  return new EntityReference(entity.id, entity.path);\n}\nfunction traverseValuesProperties(inputValues, properties, operation) {\n  const updatedValues = Object.entries(properties).map(([key, property]) => {\n    const inputValue = inputValues && inputValues[key];\n    const updatedValue = traverseValueProperty(inputValue, property, operation);\n    if (updatedValue === null) return null;\n    if (updatedValue === void 0) return void 0;\n    return {\n      [key]: updatedValue\n    };\n  }).reduce((a, b) => ({\n    ...a,\n    ...b\n  }), {});\n  const result = {\n    ...inputValues,\n    ...updatedValues\n  };\n  if (Object.keys(result).length === 0) return void 0;\n  return result;\n}\nfunction traverseValueProperty(inputValue, property, operation) {\n  let value;\n  if (property.dataType === \"map\" && property.properties) {\n    value = traverseValuesProperties(inputValue, property.properties, operation);\n  } else if (property.dataType === \"array\") {\n    if (property.of && Array.isArray(inputValue)) {\n      value = inputValue.map((e) => traverseValueProperty(e, property.of, operation));\n    } else if (property.oneOf && Array.isArray(inputValue)) {\n      const typeField = property.oneOf?.typeField ?? DEFAULT_ONE_OF_TYPE;\n      const valueField = property.oneOf?.valueField ?? DEFAULT_ONE_OF_VALUE;\n      value = inputValue.map((e) => {\n        if (e === null) return null;\n        if (typeof e !== \"object\") return e;\n        const type = e[typeField];\n        const childProperty = property.oneOf?.properties[type];\n        if (!type || !childProperty) return e;\n        return {\n          [typeField]: type,\n          [valueField]: traverseValueProperty(e[valueField], childProperty, operation)\n        };\n      });\n    } else {\n      value = inputValue;\n    }\n  } else {\n    value = operation(inputValue, property);\n  }\n  return value;\n}\nfunction enumToObjectEntries(enumValues) {\n  if (Array.isArray(enumValues)) {\n    return enumValues;\n  } else {\n    return Object.entries(enumValues).map(([id, value]) => {\n      if (typeof value === \"string\") {\n        return {\n          id,\n          label: value\n        };\n      } else {\n        return {\n          ...value,\n          id\n        };\n      }\n    });\n  }\n}\nfunction getLabelOrConfigFrom(enumValues, key) {\n  if (key === null || key === void 0) return void 0;\n  return enumValues.find((entry) => String(entry.id) === String(key));\n}\nfunction getColorScheme(enumValues, key) {\n  const labelOrConfig = getLabelOrConfigFrom(enumValues, key);\n  if (!labelOrConfig?.color) return (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.getColorSchemeForSeed)(key.toString());\n  if (typeof labelOrConfig === \"object\" && \"color\" in labelOrConfig) {\n    if (typeof labelOrConfig.color === \"string\") return _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CHIP_COLORS[labelOrConfig.color];\n    if (typeof labelOrConfig.color === \"object\") return labelOrConfig.color;\n  }\n  return void 0;\n}\nfunction isEnumValueDisabled(labelOrConfig) {\n  return typeof labelOrConfig === \"object\" && labelOrConfig.disabled;\n}\nfunction buildEnumLabel(labelOrConfig) {\n  if (labelOrConfig === void 0) return void 0;\n  if (typeof labelOrConfig === \"object\") {\n    return labelOrConfig.label;\n  } else {\n    return labelOrConfig;\n  }\n}\nfunction ErrorTooltip(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2);\n  let t0;\n  if ($[0] !== props) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { ...props, tooltipClassName: \"!text-red-500 bg-red-50\", children: props.children });\n    $[0] = props;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  return t0;\n}\nfunction ErrorView(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    title,\n    error,\n    tooltip\n  } = t0;\n  const component = error instanceof Error ? error.message : error;\n  console.warn(\"ErrorView\", error);\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ErrorIcon, { className: \"mx-2\", size: \"small\", color: \"error\" });\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  let t2;\n  if ($[1] !== title) {\n    t2 = title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body2\", className: \"font-medium\", children: title });\n    $[1] = title;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== component) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body2\", children: component });\n    $[3] = component;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== t2 || $[6] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex items-center m-2\", children: [\n      t1,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"pl-4\", children: [\n        t2,\n        t3\n      ] })\n    ] });\n    $[5] = t2;\n    $[6] = t3;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  const body = t4;\n  if (tooltip) {\n    let t5;\n    if ($[8] !== body || $[9] !== tooltip) {\n      t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorTooltip, { title: tooltip, children: body });\n      $[8] = body;\n      $[9] = tooltip;\n      $[10] = t5;\n    } else {\n      t5 = $[10];\n    }\n    return t5;\n  }\n  return body;\n}\nfunction sortProperties(properties, propertiesOrder) {\n  try {\n    const propertiesKeys = Object.keys(properties);\n    const allPropertiesOrder = propertiesOrder ?? propertiesKeys;\n    return allPropertiesOrder.map((key) => {\n      if (properties[key]) {\n        const property = properties[key];\n        if (!isPropertyBuilder(property) && property?.dataType === \"map\" && property.properties) {\n          return {\n            [key]: {\n              ...property,\n              properties: sortProperties(property.properties, property.propertiesOrder)\n            }\n          };\n        } else {\n          return {\n            [key]: property\n          };\n        }\n      } else {\n        return void 0;\n      }\n    }).filter((a) => a !== void 0).reduce((a, b) => ({\n      ...a,\n      ...b\n    }), {});\n  } catch (e) {\n    console.error(\"Error sorting properties\", e);\n    return properties;\n  }\n}\nfunction resolveDefaultSelectedView(defaultSelectedView, params) {\n  if (!defaultSelectedView) {\n    return void 0;\n  } else if (typeof defaultSelectedView === \"string\") {\n    return defaultSelectedView;\n  } else {\n    return defaultSelectedView(params);\n  }\n}\nconst applyPermissionsFunctionIfEmpty = (collections, permissionsBuilder) => {\n  return collections.map((collection) => {\n    if (collection.permissions) {\n      return collection;\n    }\n    return {\n      ...collection,\n      permissions: permissionsBuilder\n    };\n  });\n};\nconst kebabCaseRegex = /[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g;\nconst toKebabCase = (str) => {\n  const regExpMatchArray = str.match(kebabCaseRegex);\n  if (!regExpMatchArray) return \"\";\n  return regExpMatchArray.map((x) => x.toLowerCase()).join(\"-\");\n};\nconst snakeCaseRegex = /[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g;\nconst toSnakeCase = (str) => {\n  const regExpMatchArray = str.match(snakeCaseRegex);\n  if (!regExpMatchArray) return \"\";\n  return regExpMatchArray.map((x) => x.toLowerCase()).join(\"_\");\n};\nfunction randomString(strLength = 5) {\n  return Math.random().toString(36).slice(2, 2 + strLength);\n}\nfunction randomColor() {\n  return Math.floor(Math.random() * 16777215).toString(16);\n}\nfunction slugify(text, separator = \"_\", lowercase = true) {\n  if (!text) return \"\";\n  const from = \"/_,:;-\";\n  const to = `aaaaaeeeeeiiiiooooouuuunc${separator}${separator}${separator}${separator}${separator}${separator}${separator}`;\n  for (let i = 0, l = from.length; i < l; i++) {\n    text = text.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n  }\n  text = text.toString().replace(/\\s+/g, separator).replace(/&/g, separator).replace(/[^\\w\\\\-]+/g, \"\").replace(new RegExp(\"\\\\\" + separator + \"\\\\\" + separator + \"+\", \"g\"), separator).trim().replace(/^\\s+|\\s+$/g, \"\");\n  return lowercase ? text.toLowerCase() : text;\n}\nfunction unslugify(slug) {\n  if (!slug) return \"\";\n  if (slug.includes(\"-\") || slug.includes(\"_\") || !slug.includes(\" \")) {\n    const result = slug.replace(/[-_]/g, \" \");\n    return result.replace(/\\w\\S*/g, function(txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1);\n    }).trim();\n  } else {\n    return slug.trim();\n  }\n}\nconst defaultDateFormat = \"MMMM dd, yyyy, HH:mm:ss\";\nconst COLLECTION_PATH_SEPARATOR = \"::\";\nfunction stripCollectionPath(path) {\n  return segmentsToStrippedPath(fullPathToCollectionSegments(path));\n}\nfunction segmentsToStrippedPath(paths) {\n  if (paths.length === 1) return paths[0];\n  return paths.reduce((a, b) => `${a}${COLLECTION_PATH_SEPARATOR}${b}`);\n}\nfunction fullPathToCollectionSegments(path) {\n  return path.split(\"/\").filter((e, i) => i % 2 === 0);\n}\nfunction serializeRegExp(input) {\n  if (!input) return \"\";\n  return input.toString();\n}\nfunction hydrateRegExp(input) {\n  if (!input) return void 0;\n  const fragments = input.match(/\\/(.*?)\\/([a-z]*)?$/i);\n  if (fragments) {\n    return new RegExp(fragments[1], fragments[2] || \"\");\n  } else {\n    return new RegExp(input, \"\");\n  }\n}\nfunction isValidRegExp(input) {\n  const fullRegexp = input.match(/\\/((?![*+?])(?:[^\\r\\n[/\\\\]|\\\\.|\\[(?:[^\\r\\n\\]\\\\]|\\\\.)*])+)\\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/);\n  if (fullRegexp) return true;\n  const simpleRegexp = input.match(/((?![*+?])(?:[^\\r\\n[/\\\\]|\\\\.|\\[(?:[^\\r\\n\\]\\\\]|\\\\.)*])+)/);\n  return !!simpleRegexp;\n}\nconst reservedKeys = [\"edit\", \"copy\", \"delete\"];\nfunction mergeEntityActions(currentActions, newActions) {\n  const updatedActions = [];\n  currentActions.forEach((action) => {\n    const newAction = newActions.find((a) => a.key === action.key);\n    if (newAction) {\n      const mergedAction = {\n        ...action,\n        ...newAction\n      };\n      updatedActions.push(mergedAction);\n    } else {\n      updatedActions.push(action);\n    }\n  });\n  newActions.forEach((action) => {\n    if (!currentActions.find((a) => a.key === action.key) && (!action.key || !reservedKeys.includes(action.key))) {\n      updatedActions.push(action);\n    }\n  });\n  return updatedActions;\n}\nfunction useDebouncedCallback(value, callback, immediate, t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const timeoutMs = t0 === void 0 ? 300 : t0;\n  const pendingUpdate = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  let t1;\n  if ($[0] !== callback) {\n    t1 = () => {\n      callback();\n      pendingUpdate.current = false;\n    };\n    $[0] = callback;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const performUpdate = t1;\n  const handlerRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(void 0);\n  let t2;\n  if ($[2] !== immediate || $[3] !== performUpdate || $[4] !== timeoutMs) {\n    t2 = () => {\n      pendingUpdate.current = true;\n      clearTimeout(handlerRef.current);\n      handlerRef.current = setTimeout(performUpdate, timeoutMs);\n      return () => {\n        if (immediate) {\n          performUpdate();\n        }\n      };\n    };\n    $[2] = immediate;\n    $[3] = performUpdate;\n    $[4] = timeoutMs;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  let t3;\n  if ($[6] !== immediate || $[7] !== value) {\n    t3 = [immediate, value];\n    $[6] = immediate;\n    $[7] = value;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(t2, t3);\n}\nfunction isReferenceProperty(propertyOrBuilder, fields) {\n  const resolvedProperty = resolveProperty({\n    propertyKey: \"ignore\",\n    // TODO\n    propertyOrBuilder,\n    propertyConfigs: fields\n  });\n  if (!resolvedProperty) return null;\n  if (resolvedProperty.dataType === \"reference\") {\n    return true;\n  }\n  if (resolvedProperty.dataType === \"array\") {\n    if (Array.isArray(resolvedProperty.of)) return false;\n    else return resolvedProperty.of?.dataType === \"reference\";\n  }\n  return false;\n}\nfunction getIdIcon(size) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircleIcon, { size });\n}\nfunction getIconForWidget(widget, size) {\n  const Icon2 = widget?.Icon ?? _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircleIcon;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon2, { size });\n}\nfunction getIconForProperty(property, size = \"small\", fields = {}) {\n  if (isPropertyBuilder(property)) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FunctionsIcon, { size });\n  } else {\n    const widget = getFieldConfig(property, fields);\n    return getIconForWidget(widget, size);\n  }\n}\nfunction getColorForProperty(property, fields) {\n  if (isPropertyBuilder(property)) {\n    return \"#888\";\n  } else {\n    const widget = getFieldConfig(property, fields);\n    return widget?.color ?? \"#666\";\n  }\n}\nfunction getPropertyInPath(properties, path) {\n  if (typeof properties === \"object\") {\n    if (path in properties) {\n      return properties[path];\n    }\n    if (path.includes(\".\")) {\n      const pathSegments = path.split(\".\");\n      const childProperty = properties[pathSegments[0]];\n      if (typeof childProperty === \"object\" && childProperty.dataType === \"map\" && childProperty.properties) {\n        return getPropertyInPath(childProperty.properties, pathSegments.slice(1).join(\".\"));\n      }\n    }\n  }\n  return void 0;\n}\nfunction getResolvedPropertyInPath(properties, path) {\n  if (typeof properties === \"object\") {\n    if (path in properties) {\n      return properties[path];\n    }\n    if (path.includes(\".\")) {\n      const pathSegments = path.split(\".\");\n      const childProperty = properties[pathSegments[0]];\n      if (childProperty.dataType === \"map\" && childProperty.properties) {\n        return getResolvedPropertyInPath(childProperty.properties, pathSegments.slice(1).join(\".\"));\n      }\n    }\n  }\n  return void 0;\n}\nfunction getBracketNotation(path) {\n  return path.replace(/\\.([^.]*)/g, \"[$1]\");\n}\nfunction getPropertiesWithPropertiesOrder(properties, propertiesOrder) {\n  if (!propertiesOrder) return properties;\n  const result = {};\n  propertiesOrder.filter(Boolean).forEach((path) => {\n    const property = getPropertyInPath(properties, path);\n    if (typeof property === \"object\" && property.dataType === \"map\" && property.properties) {\n      result[path] = {\n        ...property,\n        properties: getPropertiesWithPropertiesOrder(property.properties, property.propertiesOrder ?? [])\n      };\n    }\n    if (property) {\n      result[path] = property;\n    }\n  });\n  return result;\n}\nfunction getDefaultPropertiesOrder(collection) {\n  if (collection.propertiesOrder) return collection.propertiesOrder;\n  return [...Object.keys(collection.properties), ...(collection.additionalFields ?? []).map((field) => field.key)];\n}\nconst DEFAULT_PERMISSIONS = {\n  read: true,\n  edit: true,\n  create: true,\n  delete: true\n};\nfunction resolvePermissions(collection, authController, path, entity) {\n  const permission = collection.permissions;\n  if (permission === void 0) {\n    return DEFAULT_PERMISSIONS;\n  } else if (typeof permission === \"object\") {\n    return permission;\n  } else if (typeof permission === \"function\") {\n    const pathSegments = fullPathToCollectionSegments(path);\n    return permission({\n      entity,\n      path,\n      user: authController.user,\n      authController,\n      collection,\n      pathSegments\n    });\n  }\n  console.error(\"Permissions:\", permission);\n  throw Error(\"New type of permission added and not mapped\");\n}\nfunction canEditEntity(collection, authController, path, entity) {\n  return resolvePermissions(collection, authController, path, entity)?.edit ?? DEFAULT_PERMISSIONS.edit;\n}\nfunction canCreateEntity(collection, authController, path, entity) {\n  if (collection.collectionGroup) return false;\n  return resolvePermissions(collection, authController, path, entity)?.create ?? DEFAULT_PERMISSIONS.create;\n}\nfunction canDeleteEntity(collection, authController, path, entity) {\n  return resolvePermissions(collection, authController, path, entity)?.delete ?? DEFAULT_PERMISSIONS.delete;\n}\nconst iconSynonyms = {\n  abc: \"alphabet character font letter symbol text type\",\n  access_alarm: \"clock time\",\n  access_alarms: \"clock time\",\n  accessibility: \"accessible body handicap help human people person user\",\n  accessibility_new: \"accessible arms body handicap help human people person user\",\n  accessible: \"accessibility body handicap help human people person user wheelchair\",\n  accessible_forward: \"accessibility body handicap help human people person wheelchair\",\n  access_time: \"clock time\",\n  account_balance: \"bank bill building card cash coin commerce court credit currency dollars finance money online payment structure temple transaction\",\n  account_balance_wallet: \"bank bill card cash coin commerce credit currency dollars finance money online payment transaction\",\n  account_box: \"avatar face human people person profile square thumbnail user\",\n  account_circle: \"avatar face human people person profile thumbnail user\",\n  account_tree: \"analytics chart connect data diagram flow infographic measure metrics process project sitemap square statistics structure tracking\",\n  ac_unit: \"air cold conditioner freeze snowflake temperature weather winter\",\n  adb: \"android bridge debug\",\n  add: \"+ create item new plus symbol\",\n  add_alarm: \"clock plus time\",\n  add_alert: \"+ active alarm announcement bell callout chime information new notifications notify plus reminder ring sound symbol\",\n  add_a_photo: \"+ camera lens new photography picture plus symbol\",\n  add_box: \"create new plus square symbol\",\n  add_business: \"+ bill building card cash coin commerce company credit currency dollars market money new online payment plus retail shopping storefront symbol\",\n  add_card: \"+ bill cash coin commerce cost credit currency dollars finance money new online payment plus price shopping symbol\",\n  add_chart: \"+ analytics bars data diagram infographic measure metrics new plus statistics symbol tracking\",\n  add_circle: \"+ create new plus\",\n  add_circle_outline: \"+ create new plus\",\n  add_comment: \"+ bubble chat communicate feedback message new plus speech symbol\",\n  add_ic_call: \"+ cell contact device hardware mobile new plus symbol telephone\",\n  add_link: \"attach clip new plus symbol\",\n  add_location: \"+ destination direction gps maps new pin place plus stop symbol\",\n  add_location_alt: \"+ destination direction maps new pin place plus stop symbol\",\n  add_moderator: \"+ certified new plus privacy private protection security shield symbol verified\",\n  add_photo_alternate: \"+ image landscape mountains new photography picture plus symbol\",\n  add_road: \"+ destination direction highway maps new plus stop street symbol traffic\",\n  add_shopping_cart: \"card cash checkout coin commerce credit currency dollars money online payment plus\",\n  add_task: \"+ approve check circle completed increase mark ok plus select tick yes\",\n  add_to_drive: \"+ app backup cloud data files folders gdrive google plus recovery storage\",\n  add_to_home_screen: \"Android add arrow cell device hardware iOS mobile phone tablet to up\",\n  add_to_photos: \"collection image landscape mountains photography picture plus\",\n  add_to_queue: \"+ Android backlog chrome desktop device display hardware iOS lineup mac monitor new plus screen symbol television watch web window\",\n  adf_scanner: \"document feeder machine office\",\n  adjust: \"alter center circles control dot edit filter fix image mix move setting slider sort switch target tune\",\n  admin_panel_settings: \"account avatar certified face human people person privacy private profile protection security shield user verified\",\n  ad_units: \"Android banner cell device hardware iOS mobile notifications phone tablet top\",\n  agriculture: \"automobile cars cultivation farm harvest maps tractor transport travel truck vehicle\",\n  air: \"blowing breeze flow wave weather wind\",\n  airlines: \"airplane airport flight transportation travel trip\",\n  airline_seat_flat: \"bed body business class first human people person rest sleep travel\",\n  airline_seat_flat_angled: \"bed body business class first human people person rest sleep travel\",\n  airline_seat_individual_suite: \"bed body business class first human people person rest sleep travel\",\n  airline_seat_legroom_extra: \"body feet human people person sitting space travel\",\n  airline_seat_legroom_normal: \"body feet human people person sitting space travel\",\n  airline_seat_legroom_reduced: \"body feet human people person sitting space travel\",\n  airline_seat_recline_extra: \"body feet human legroom people person sitting space travel\",\n  airline_seat_recline_normal: \"body extra feet human legroom people person sitting space travel\",\n  airline_stops: \"arrow destination direction layover location maps place transportation travel trip\",\n  airplanemode_active: \"flight flying on signal\",\n  airplanemode_inactive: \"airport disabled enabled flight flying maps offline slash transportation travel\",\n  airplane_ticket: \"airport boarding flight fly maps pass transportation travel\",\n  airplay: \"apple arrow cast connect control desktop device display monitor screen signal television tv\",\n  airport_shuttle: \"automobile bus cars commercial delivery direction maps mini public transportation travel truck van vehicle\",\n  alarm: \"alart bell clock countdown date notification schedule time\",\n  alarm_add: \"+ alart bell clock countdown date new notification plus schedule symbol time\",\n  alarm_off: \"alart bell clock disabled duration enabled notification slash stop timer watch\",\n  alarm_on: \"alart bell checkmark clock disabled duration enabled notification off ready slash start timer watch\",\n  album: \"artist audio bvb cd computer data disk file music play record sound storage track vinyl\",\n  align_horizontal_center: \"alignment format layout lines paragraph rules style text\",\n  align_horizontal_left: \"alignment format layout lines paragraph rules style text\",\n  align_horizontal_right: \"alignment format layout lines paragraph rules style text\",\n  align_vertical_bottom: \"alignment format layout lines paragraph rules style text\",\n  align_vertical_center: \"alignment format layout lines paragraph rules style text\",\n  align_vertical_top: \"alignment format layout lines paragraph rules style text\",\n  all_inbox: \"Inbox delivered delivery email letter message post send\",\n  all_inclusive: \"endless forever infinite infinity loop mobius neverending strip sustainability sustainable\",\n  all_out: \"arrows circle directional expand shape\",\n  alternate_email: \"@ address contact tag\",\n  alt_route: \"alternate alternative arrows direction maps navigation options other routes split symbol\",\n  analytics: \"assessment bar chart data diagram infographic measure metrics statistics tracking\",\n  anchor: \"google logo\",\n  android: \"brand character logo mascot operating system toy\",\n  animation: \"circles film motion movement movie moving sequence video\",\n  announcement: \"! alert attention balloon bubble caution chat comment communicate danger error exclamation feedback important mark message news notification speech symbol warning\",\n  aod: \"Android always device display hardware homescreen iOS mobile phone tablet\",\n  apartment: \"accommodation architecture building city company estate flat home house office places real residence residential shelter units workplace\",\n  api: \"developer development enterprise software\",\n  app_blocking: \"Android applications cancel cell device hardware iOS mobile phone stopped tablet\",\n  app_registration: \"apps edit pencil register\",\n  approval: \"apply approvals approve certificate certification disapproval drive file impression ink mark postage stamp\",\n  apps: \"all applications circles collection components dots grid homescreen icons interface squares ui ux\",\n  app_settings_alt: \"Android applications cell device gear hardware iOS mobile phone tablet\",\n  app_shortcut: \"bookmarked favorite highlight important mobile saved software special star\",\n  apps_outage: \"all applications circles collection components dots grid interface squares ui ux\",\n  architecture: \"art compass design drawing engineering geometric tool\",\n  archive: \"inbox mail store\",\n  arrow_back: \"application components direction interface left navigation previous screen ui ux website\",\n  arrow_back_ios: \"application chevron components direction interface left navigation previous screen ui ux website\",\n  arrow_back_ios_new: \"application chevron components direction interface left navigation previous screen ui ux website\",\n  arrow_circle_down: \"direction navigation\",\n  arrow_circle_up: \"direction navigation\",\n  arrow_downward: \"application components direction interface navigation screen ui ux website\",\n  arrow_drop_down: \"application components direction interface navigation screen ui ux website\",\n  arrow_drop_down_circle: \"application components direction interface navigation screen ui ux website\",\n  arrow_drop_up: \"application components direction interface navigation screen ui ux website\",\n  arrow_forward: \"application arrows components direction interface navigation right screen ui ux website\",\n  arrow_forward_ios: \"application chevron components direction interface navigation next right screen ui ux website\",\n  arrow_left: \"application backstack backward components direction interface navigation previous screen ui ux website\",\n  arrow_right: \"application components continue direction forward interface navigation screen ui ux website\",\n  arrow_right_alt: \"arrows direction east navigation pointing shape\",\n  arrow_upward: \"application components direction interface navigation screen submit ui ux website\",\n  article: \"clarify document file news page paper text writing\",\n  art_track: \"album artist audio display format image insert music photography picture sound tracks\",\n  aspect_ratio: \"expand image monitor resize resolution scale screen square\",\n  assessment: \"analytics bars chart data diagram infographic measure metrics report statistics tracking\",\n  assignment: \"article clipboard document task text writing\",\n  assignment_ind: \"account clipboard document face people person profile task user\",\n  assignment_late: \"! alert announcement attention caution clipboard danger document error exclamation important mark notification symbol task warning\",\n  assignment_return: \"arrow back clipboard document left point retun task\",\n  assignment_returned: \"arrow clipboard document down point task\",\n  assignment_turned_in: \"approve checkmark clipboard complete document done finished ok select task tick validate verified yes\",\n  assistant: \"bubble chat comment communicate feedback message recommendation speech star suggestion twinkle\",\n  assistant_direction: \"destination location maps navigate navigation pin place right stop\",\n  assistant_photo: \"flag recommendation smart star suggestion\",\n  assured_workload: \"compliance confidential federal government regulatory secure sensitive\",\n  atm: \"alphabet automated bill card cart cash character coin commerce credit currency dollars font letter machine money online payment shopping symbol teller text type\",\n  attach_email: \"attachment clip compose envelop letter link message send\",\n  attach_file: \"add item link mail media paperclip\",\n  attachment: \"compose file image item link paperclip\",\n  attach_money: \"bill card cash coin commerce cost credit currency dollars finance online payment price profit sale symbol\",\n  attractions: \"amusement entertainment ferris fun maps park places wheel\",\n  attribution: \"attribute body copyright copywriter human people person\",\n  audio_file: \"document key music note sound track\",\n  audiotrack: \"key music note sound\",\n  auto_awesome: \"adjust editing enhance filter image photography photos setting stars\",\n  auto_awesome_mosaic: \"adjust collage editing enhance filter grid image layout photographs photography photos pictures setting\",\n  auto_awesome_motion: \"adjust animation collage editing enhance filter image live photographs photography photos pictures setting video\",\n  auto_delete: \"bin can clock date garbage remove schedule time trash\",\n  auto_fix_high: \"adjust editing enhance erase magic modify pen stars tool wand\",\n  auto_fix_normal: \"edit erase magic modify stars wand\",\n  auto_fix_off: \"disabled edit enabled erase magic modify on slash stars wand\",\n  autofps_select: \"A alphabet character font frame frequency letter per rate seconds symbol text type\",\n  auto_graph: \"analytics chart data diagram infographic line measure metrics stars statistics tracking\",\n  auto_mode: \"around arrows direction inprogress loading navigation nest refresh renew rotate turn\",\n  autorenew: \"around arrows cached direction inprogress loader loading navigation pending refresh rotate status turn\",\n  auto_stories: \"audiobook flipping pages reading story\",\n  av_timer: \"clock countdown duration minutes seconds stopwatch\",\n  baby_changing_station: \"babies bathroom body children father human infant kids mother newborn people person toddler wc young\",\n  backpack: \"bookbag knapsack storage travel\",\n  backspace: \"arrow cancel clear correct delete erase remove\",\n  backup: \"arrow cloud data drive files folders point storage submit upload\",\n  backup_table: \"drive files folders format layout stack storage\",\n  badge: \"account avatar card certified employee face human identification name people person profile security user work\",\n  bakery_dining: \"bread breakfast brunch croissant food\",\n  balance: \"equal equilibrium equity impartiality justice parity stability. steadiness symmetry\",\n  balcony: \"architecture doors estate home house maps outside place real residence residential stay terrace window\",\n  ballot: \"bullet bulllet election list point poll vote\",\n  bar_chart: \"analytics anlytics data diagram infographic measure metrics statistics tracking\",\n  batch_prediction: \"bulb idea light\",\n  bathroom: \"closet home house place plumbing shower sprinkler wash water wc\",\n  bathtub: \"bathing bathroom clean home hotel human person shower travel\",\n  battery_alert: \"! attention caution cell charge danger error exclamation important mark mobile notification power symbol warning\",\n  battery_charging_full: \"cell charge lightening lightning mobile power thunderbolt\",\n  battery_full: \"cell charge mobile power\",\n  battery_saver: \"+ add charge charging new plus power symbol\",\n  battery_std: \"cell charge mobile plus power standard\",\n  battery_unknown: \"? assistance cell charge help information mark mobile power punctuation question support symbol\",\n  beach_access: \"parasol places summer sunny umbrella\",\n  bed: \"bedroom double full furniture home hotel house king night pillows queen rest size sleep\",\n  bedroom_baby: \"babies children home horse house infant kid newborn rocking toddler young\",\n  bedroom_child: \"children furniture home hotel house kid night pillows rest size sleep twin young\",\n  bedroom_parent: \"double full furniture home hotel house king master night pillows queen rest sizem sleep\",\n  bedtime: \"nightime sleep\",\n  bedtime_off: \"nightime sleep\",\n  beenhere: \"approve archive bookmark checkmark complete done favorite label library reading remember ribbon save select tag tick validate verified yes\",\n  bento: \"box dinner food lunch meal restaurant takeout\",\n  bike_scooter: \"automobile cars maps transportation vehicle vespa\",\n  biotech: \"chemistry laboratory microscope research science technology test\",\n  blender: \"appliance cooking electric juicer kitchen machine vitamix\",\n  blinds_closed: \"cover curtains nest shutter sunshade\",\n  block: \"allowed avoid banned cancel close disable entry exit not prohibited quit remove stop\",\n  bloodtype: \"donate droplet emergency hospital medicine negative positive water\",\n  bluetooth: \"cast connection device network paring streaming symbol wireless\",\n  bluetooth_audio: \"connection device music signal sound symbol\",\n  bluetooth_connected: \"cast connection device network paring streaming symbol wireless\",\n  bluetooth_disabled: \"cast connection device enabled network offline paring slash streaming symbol wireless\",\n  bluetooth_drive: \"automobile cars cast connection device maps paring streaming symbol transportation travel vehicle wireless\",\n  bluetooth_searching: \"connection device network paring symbol wireless\",\n  blur_circular: \"circle dots editing effect enhance filter\",\n  blur_linear: \"dots editing effect enhance filter\",\n  blur_off: \"disabled dots editing effect enabled enhance on slash\",\n  blur_on: \"disabled dots editing effect enabled enhance filter off slash\",\n  bolt: \"electric energy fast flash lightning power thunderbolt\",\n  book: \"blog bookmark favorite label library reading remember ribbon save tag\",\n  bookmark: \"archive favorite follow label library reading remember ribbon save tag\",\n  bookmark_add: \"+ favorite plus remember ribbon save symbol\",\n  bookmark_added: \"approve check complete done favorite remember save select tick validate verified yes\",\n  bookmark_border: \"archive favorite label library outline reading remember ribbon save tag\",\n  bookmark_remove: \"delete favorite minus remember ribbon save subtract\",\n  bookmarks: \"favorite label layers library multiple reading remember ribbon save stack tag\",\n  book_online: \"Android admission appointment cell device event hardware iOS mobile pass phone reservation tablet ticket\",\n  border_all: \"doc editing editor spreadsheet stroke text type writing\",\n  border_bottom: \"doc editing editor spreadsheet stroke text type writing\",\n  border_clear: \"doc editing editor spreadsheet stroke text type writing\",\n  border_color: \"all create doc editing editor marker pencil spreadsheet stroke text type writing\",\n  border_horizontal: \"doc editing editor spreadsheet stroke text type writing\",\n  border_inner: \"doc editing editor spreadsheet stroke text type writing\",\n  border_left: \"doc editing editor spreadsheet stroke text type writing\",\n  border_outer: \"doc editing editor spreadsheet stroke text type writing\",\n  border_right: \"doc editing editor spreadsheet stroke text type writing\",\n  border_style: \"color doc editing editor spreadsheet stroke text type writing\",\n  border_top: \"doc editing editor spreadsheet stroke text type writing\",\n  border_vertical: \"doc editing editor spreadsheet stroke text type writing\",\n  boy: \"body gender human male people person social symbol\",\n  branding_watermark: \"components copyright design emblem format identity interface layout logo screen stamp ui ux website window\",\n  breakfast_dining: \"bakery bread butter food toast\",\n  brightness_1: \"circle control crescent cresent level moon screen\",\n  brightness_2: \"circle control crescent cresent level moon night screen\",\n  brightness_3: \"circle control crescent cresent level moon night screen\",\n  brightness_4: \"circle control crescent cresent dark level moon night screen sun\",\n  brightness_5: \"circle control crescent cresent level moon screen sun\",\n  brightness_6: \"circle control crescent cresent level moon screen sun\",\n  brightness_7: \"circle control crescent cresent level light moon screen sun\",\n  brightness_auto: \"A control display level mobile monitor phone screen\",\n  brightness_high: \"auto control mobile monitor phone\",\n  brightness_low: \"auto control mobile monitor phone\",\n  brightness_medium: \"auto control mobile monitor phone\",\n  broken_image: \"corrupt error landscape mountains photography picture torn\",\n  browser_not_supported: \"disabled enabled internet off on page screen slash website www\",\n  browser_updated: \"Android arrow chrome desktop device display download hardware iOS mac monitor screen web window\",\n  brunch_dining: \"breakfast champagne champaign drink food lunch meal\",\n  brush: \"art design draw editing painting tool\",\n  bubble_chart: \"analytics bars data diagram infographic measure metrics statistics tracking\",\n  bug_report: \"animal file fix insect issue problem testing ticket virus warning\",\n  build: \"adjust fix repair spanner tool wrench\",\n  build_circle: \"adjust fix repair tool wrench\",\n  bungalow: \"architecture cottage estate home house maps place real residence residential stay traveling\",\n  burst_mode: \"image landscape mountains multiple photography picture\",\n  bus_alert: \"! attention automobile cars caution danger error exclamation important maps mark notification symbol transportation vehicle warning\",\n  business: \"address apartment architecture building company estate flat home office place real residence residential shelter structure\",\n  business_center: \"baggage briefcase places purse suitcase work\",\n  cabin: \"architecture camping cottage estate home house log maps place real residence residential stay traveling wood\",\n  cable: \"connection device electronics usb wire\",\n  cached: \"around arrows inprogress loader loading refresh reload renew rotate\",\n  cake: \"baked birthday candles celebration dessert food frosting party pastries pastry pie social sweet\",\n  calculate: \"+ - = calculator count finance math\",\n  calendar_today: \"date event month remember reminder schedule week\",\n  calendar_view_day: \"date event format grid layout month remember reminder schedule today week\",\n  calendar_view_month: \"date event format grid layout schedule today\",\n  calendar_view_week: \"date event format grid layout month schedule today\",\n  call: \"cell contact device hardware mobile talk telephone\",\n  call_end: \"cell contact device hardware mobile talk telephone\",\n  call_made: \"arrow device mobile\",\n  call_merge: \"arrow device mobile\",\n  call_missed: \"arrow device mobile\",\n  call_missed_outgoing: \"arrow device mobile\",\n  call_received: \"arrow device mobile\",\n  call_split: \"arrow device mobile\",\n  call_to_action: \"alert bar components cta design information interface layout message notification screen ui ux website window\",\n  camera: \"album aperture lens photography picture record screenshot shutter\",\n  camera_alt: \"image photography picture\",\n  camera_enhance: \"important lens photography picture quality special star\",\n  camera_front: \"body human lens mobile person phone photography portrait selfie\",\n  camera_indoor: \"architecture building estate filming home house image inside motion nest picture place real residence residential shelter videography\",\n  camera_outdoor: \"architecture building estate filming home house image motion nest outside picture place real residence residential shelter videography\",\n  camera_rear: \"front lens mobile phone photography picture portrait selfie\",\n  camera_roll: \"film image library photography\",\n  cameraswitch: \"arrows flip rotate swap view\",\n  campaign: \"alert announcement loud megaphone microphone notification speaker\",\n  cancel: \"circle close cross disable exit status stop\",\n  cancel_presentation: \"close device exit no quit remove screen share slide stop website window\",\n  cancel_schedule_send: \"email no quit remove share stop x\",\n  candlestick_chart: \"analytics data diagram finance infographic measure metrics statistics tracking\",\n  card_giftcard: \"account balance bill cart cash certificate coin commerce creditcard currency dollars money online payment present shopping\",\n  card_membership: \"bill bookmark cash certificate coin commerce cost creditcard currency dollars finance loyalty money online payment shopping subscription\",\n  card_travel: \"bill cash coin commerce cost creditcard currency dollars finance membership miles money online payment trip\",\n  carpenter: \"building construction cutting handyman repair saw tool\",\n  car_rental: \"automobile cars key maps transportation vehicle\",\n  car_repair: \"automobile cars maps transportation vehicle\",\n  cases: \"baggage briefcase business purse suitcase\",\n  casino: \"dice dots entertainment gamble gambling games luck places\",\n  cast: \"Android airplay chromecast connect desktop device display hardware iOS mac monitor screencast streaming television tv web window wireless\",\n  cast_connected: \"Android airplay chromecast desktop device display hardware iOS mac monitor screencast streaming television tv web window wireless\",\n  cast_for_education: \"Android airplay chrome connect desktop device display hardware iOS learning lessons mac monitor screencast streaming teaching television tv web window wireless\",\n  category: \"categories circle collection items product sort square triangle\",\n  celebration: \"activity birthday event fun party\",\n  cell_tower: \"broadcast casting network signal transmitting wireless\",\n  cell_wifi: \"connection data internet mobile network phone service signal wireless\",\n  center_focus_strong: \"camera image lens photography zoom\",\n  center_focus_weak: \"camera image lens photography zoom\",\n  chair: \"comfort couch decoration furniture home house living lounging loveseat room seating sofa\",\n  chair_alt: \"cahir furniture home house kitchen lounging seating table\",\n  chalet: \"architecture cottage estate home house maps place real residence residential stay traveling\",\n  change_circle: \"around arrows direction navigation rotate\",\n  change_history: \"shape triangle\",\n  charging_station: \"Android battery cell device electric hardware iOS lightning mobile phone tablet thunderbolt\",\n  chat: \"bubble comment communicate feedback message speech talk text\",\n  chat_bubble: \"comment communicate feedback message speech talk text\",\n  chat_bubble_outline: \"comment communicate feedback message speech talk text\",\n  check: \"checkmark complete confirm correct done enter okay purchased select success tick yes\",\n  check_box: \"approved button checkmark component control form ok selected selection square success tick toggle ui yes\",\n  check_box_outline_blank: \"button checkmark component control deselected empty form selection square tick toggle ui\",\n  check_circle: \"approve checkmark complete done download finished ok select success tick upload validate verified yes\",\n  check_circle_outline: \"approve checkmark complete done finished ok select success tick validate verified yes\",\n  checkroom: \"check closet clothes coat hanger\",\n  chevron_left: \"arrows back direction triangle\",\n  chevron_right: \"arrows direction forward triangle\",\n  child_care: \"babies baby children face infant kids newborn toddler young\",\n  child_friendly: \"baby care carriage children infant kid newborn stroller toddler young\",\n  chrome_reader_mode: \"text\",\n  circle: \"bullet button dot full geometry moon period radio\",\n  circle_notifications: \"active alarm alert bell chime notify reminder ring sound\",\n  class: \"archive bookmark category favorite item label library reading remember ribbon save tag\",\n  clean_hands: \"bacteria disinfect germs gesture sanitizer\",\n  cleaning_services: \"dust sweep\",\n  clear: \"allowed back cancel correct cross delete disable erase exit not times\",\n  clear_all: \"delete document erase format lines list notifications wipe\",\n  close: \"allowed cancel cross disable exit not status stop times\",\n  closed_caption: \"accessible alphabet character decoder font language letter media movies subtitles symbol text tv type\",\n  closed_caption_disabled: \"accessible alphabet character decoder enabled font language letter media movies off slash subtitles symbol text tv type\",\n  closed_caption_off: \"accessible alphabet character decoder font language letter media movies outline subtitles symbol text tv type\",\n  close_fullscreen: \"action arrows collapse direction minimize\",\n  cloud: \"connection internet network sky upload weather\",\n  cloud_circle: \"application backup connection drive files folders internet network sky storage upload\",\n  cloud_done: \"application approve backup checkmark complete connection drive files folders internet network ok select sky storage tick upload validate verified yes\",\n  cloud_download: \"application arrow backup connection drive files folders internet network sky storage upload\",\n  cloud_off: \"application backup connection disabled drive enabled files folders internet network offline sky slash storage upload\",\n  cloud_queue: \"connection internet network sky upload\",\n  cloud_sync: \"application around backup connection drive files folders inprogress internet loading network refresh renew rotate sky storage turn upload\",\n  cloud_upload: \"application arrow backup connection download drive files folders internet network sky storage\",\n  co2: \"carbon dioxide gas\",\n  code: \"brackets css developer engineering html parenthesis platform\",\n  code_off: \"brackets css developer disabled enabled engineering html on platform slash\",\n  coffee: \"beverage cup drink mug plate set tea\",\n  coffee_maker: \"appliances beverage cup drink machine mug\",\n  collections: \"album gallery image landscape library mountains photography picture stack\",\n  collections_bookmark: \"album archive favorite gallery label library reading remember ribbon save stack tag\",\n  colorize: \"color dropper extract eye picker pipette tool\",\n  color_lens: \"art paint pallet\",\n  comment: \"bubble chat communicate document feedback message note outline speech\",\n  comment_bank: \"archive bookmark bubble cchat communicate favorite label library message remember ribbon save speech tag\",\n  comments_disabled: \"bubble chat communicate enabled feedback message offline on slash speech\",\n  commit: \"accomplish bind circle dedicate execute line perform pledge\",\n  commute: \"automobile car direction maps public train transportation trip vehicle\",\n  compare: \"adjustment editing edits enhance fix images photography photos scan settings\",\n  compare_arrows: \"collide directional facing left pointing pressure push right together\",\n  compass_calibration: \"connection internet location maps network refresh service signal wifi wireless\",\n  compress: \"arrows collide pressure push together\",\n  computer: \"Android chrome desktop device hardware iOS laptop mac monitor pc web window\",\n  confirmation_number: \"admission entertainment event ticket\",\n  connected_tv: \"Android airplay chrome desktop device display hardware iOS mac monitor screencast streaming television web window wireless\",\n  connecting_airports: \"airplanes flight transportation travel trip\",\n  connect_without_contact: \"communicating distance people signal socialize\",\n  construction: \"build carpenter equipment fix hammer improvement industrial industry repair tools wrench\",\n  contactless: \"applepay bluetooth cash connection connectivity credit device finance payment signal tap transaction wifi wireless\",\n  contact_mail: \"account address avatar communicate email face human information message people person profile user\",\n  contact_page: \"account avatar data document drive face folders human people person profile sheet slide storage user writing\",\n  contact_phone: \"account avatar call communicate face human information message mobile number people person profile user\",\n  contacts: \"account address avatar call cell face human information mobile number people person phone profile user\",\n  contact_support: \"? alert announcement bubble chat comment communicate help information mark message punctuation speech symbol vquestion\",\n  content_copy: \"copy document duplicate file multiple past\",\n  content_cut: \"cut document file past scissors trim\",\n  content_paste: \"clipboard copy cut document file multiple\",\n  content_paste_go: \"clipboard disabled document enabled file slash\",\n  content_paste_off: \"clipboard disabled document enabled file slash\",\n  content_paste_search: \"clipboard document file find trace track\",\n  contrast: \"black editing effect filter grayscale images photography pictures settings white\",\n  control_camera: \"adjust arrows center direction left move right\",\n  control_point: \"+ add circle plus\",\n  control_point_duplicate: \"+ add circle multiple new plus symbol\",\n  co_present: \"arrow co-present presentation screen share slides togather website\",\n  copy_all: \"content cut document file multiple page paper past\",\n  copyright: \"alphabet character circle emblem font legal letter owner symbol text\",\n  coronavirus: \"19 bacteria covid disease germs illness sick social\",\n  corporate_fare: \"architecture building business estate organization place real residence residential shelter\",\n  cottage: \"architecture beach estate home house lake lodge maps place real residence residential stay traveling\",\n  countertops: \"home house kitchen sink table\",\n  create: \"compose editing input item new pencil write writing\",\n  create_new_folder: \"+ add data directory document drive file plus sheet slide storage symbol\",\n  credit_card: \"bill cash charge coin commerce cost creditcard currency dollars finance information money online payment price shopping symbol\",\n  credit_card_off: \"charge commerce cost disabled enabled finance money online payment slash\",\n  credit_score: \"approve bill card cash check coin commerce complete cost currency dollars done finance loan mark money ok online payment select symbol tick validate verified yes\",\n  crib: \"babies baby bassinet bed children cradle infant kid newborn sleeping toddler\",\n  crop: \"adjustments area editing frame images photos rectangle settings size square\",\n  crop_din: \"adjustments area editing frame images photos picture rectangle settings size square\",\n  crop_free: \"adjustments barcode editing focus frame image photos qrcode settings size square zoom\",\n  crop_landscape: \"adjustments area editing frame images photos picture settings size square\",\n  crop_original: \"adjustments area editing frame images photos picture settings size square\",\n  crop_portrait: \"adjustments area editing frame images photos picture rectangle settings size square\",\n  crop_rotate: \"adjustments area arrows editing frame images photos settings size turn\",\n  crop_square: \"adjustments area editing frame images photos rectangle settings size\",\n  css: \"alphabet brackets character code developer engineering font html letter platform symbol text type\",\n  currency_exchange: \"360 around arrows cash coin commerce direction dollars inprogress money pay renew rotate sync turn universal\",\n  currency_franc: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_lira: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_pound: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_ruble: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_rupee: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_yen: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  currency_yuan: \"bill card cash coin commerce cost credit dollars finance money online payment price shopping symbol\",\n  curtains: \"blinds cover nest open shutter sunshade\",\n  curtains_closed: \"blinds cover nest shutter sunshade\",\n  dangerous: \"broken fix no sign stop update warning wrong\",\n  dark_mode: \"application device interface moon night silent theme ui ux website\",\n  dashboard: \"cards format layout rectangle shapes square website\",\n  dashboard_customize: \"cards format layout rectangle shapes square website\",\n  data_saver_off: \"analytics bars chart diagram donut infographic measure metrics ring statistics tracking\",\n  data_saver_on: \"+ add analytics chart diagram infographic measure metrics new plus ring statistics symbol tracking\",\n  data_thresholding: \"hidden privacy thresold\",\n  data_usage: \"analytics chart circle diagram infographic measure metrics statistics tracking\",\n  date_range: \"agenda calendar event month remember reminder schedule time today week\",\n  deblur: \"adjust editing enhance face image lines photography sharpen\",\n  deck: \"chairs furniture garden home house outdoors outside patio social terrace umbrella yard\",\n  dehaze: \"adjust editing enhance image lines photography remove\",\n  delete: \"bin garbage junk recycle remove trashcan\",\n  delete_forever: \"bin cancel exit garbage junk recycle remove trashcan\",\n  delete_outline: \"bin can garbage remove trash\",\n  delete_sweep: \"bin garbage junk recycle remove trashcan\",\n  density_large: \"horizontal lines rules\",\n  density_medium: \"horizontal lines rules\",\n  density_small: \"horizontal lines rules\",\n  departure_board: \"automobile bus cars clock maps public schedule time transportation travel vehicle\",\n  description: \"article bill data document drive file folders invoice item notes page paper sheet slide text writing\",\n  desktop_access_disabled: \"Android apple chrome device display enabled hardware iOS mac monitor offline pc screen slash web window\",\n  desktop_mac: \"Android apple chrome device display hardware iOS monitor pc screen web window\",\n  desktop_windows: \"Android chrome device display hardware iOS mac monitor pc screen television tv web\",\n  details: \"editing enhance image photography sharpen triangle\",\n  developer_board: \"computer development devkit hardware microchip processor\",\n  developer_board_off: \"computer development disabled enabled hardware microchip on processor slash\",\n  developer_mode: \"Android bracket cell code development device engineer hardware iOS mobile phone tablet\",\n  device_hub: \"Android circle computer desktop hardware iOS laptop mobile monitor phone square tablet triangle watch wearable web\",\n  devices: \"Android computer desktop hardware iOS laptop mobile monitor phone tablet watch wearable web\",\n  devices_other: \"Android cell chrome desktop gadget hardware iOS ipad mac mobile monitor phone smartwatch tablet vr wearables window\",\n  device_thermostat: \"celsius fahrenheit temperature thermometer\",\n  device_unknown: \"? Android assistance cell hardware help iOS information mark mobile phone punctuation question support symbol tablet\",\n  dialer_sip: \"alphabet call cell character contact device font hardware initiation internet letter mobile over protocol routing session symbol telephone text type voice\",\n  dialpad: \"buttons call contact device dots mobile numbers phone\",\n  diamond: \"fashion gems jewelry logo retail valuables\",\n  difference: \"compare content copy cut document duplicate file multiple past\",\n  dining: \"cafeteria cutlery diner eating fork room spoon\",\n  dinner_dining: \"breakfast food fork lunch meal restaurant spaghetti utensils\",\n  directions: \"arrow maps naviate right route sign traffic\",\n  directions_bike: \"bicycle human maps person public route transportation\",\n  directions_boat: \"automobile cars ferry maps public transportation vehicle\",\n  directions_boat_filled: \"automobile cars ferry maps public transportation vehicle\",\n  directions_bus: \"automobile cars maps public transportation vehicle\",\n  directions_bus_filled: \"automobile cars maps public transportation vehicle\",\n  directions_car: \"automobile cars maps public transportation vehicle\",\n  directions_car_filled: \"automobile cars maps public transportation vehicle\",\n  directions_off: \"arrow disabled enabled maps right route sign slash traffic\",\n  directions_railway: \"automobile cars maps public train transportation vehicle\",\n  directions_railway_filled: \"automobile cars maps public train transportation vehicle\",\n  directions_run: \"body health human jogging maps people person route running walk\",\n  directions_subway: \"automobile cars maps public rail train transportation vehicle\",\n  directions_subway_filled: \"automobile cars maps public rail train transportation vehicle\",\n  directions_transit: \"automobile cars maps metro public rail subway train transportation vehicle\",\n  directions_transit_filled: \"automobile cars maps public rail subway train transportation vehicle\",\n  directions_walk: \"body human jogging maps people person route run\",\n  dirty_lens: \"camera photography picture splat\",\n  disabled_by_default: \"box cancel close exit no quit remove square stop\",\n  disc_full: \"! alert attention caution cd danger error exclamation important mark music notification storage symbol vinyl warning\",\n  display_settings: \"Android application change chrome desktop details device gear hardware iOS information mac monitor options personal screen service web window\",\n  dns: \"address bars domain information ip list lookup name network server system\",\n  dock: \"Android cell charger charging connector device hardware iOS mobile phone power station tablet\",\n  document_scanner: \"article data drive file folders notes page paper sheet slide text writing\",\n  do_disturb: \"cancel close denied deny remove silence stop\",\n  do_disturb_alt: \"cancel close denied deny remove silence stop\",\n  do_disturb_off: \"cancel close denied deny disabled enabled on remove silence slash stop\",\n  do_disturb_on: \"cancel close denied deny disabled enabled off remove silence slash stop\",\n  domain: \"apartment architecture building business estate home place real residence residential shelter web www\",\n  domain_add: \"+ apartment architecture building business estate home new place plus real residence residential shelter symbol web www\",\n  domain_disabled: \"apartment architecture building business company enabled estate home internet maps office offline on place real residence residential slash website\",\n  domain_verification: \"application approve check complete design desktop done interface internet layout mark ok screen select tick ui ux validate verified website window www yes\",\n  done: \"approve checkmark complete finished ok select success tick validate verified yes\",\n  done_all: \"approve checkmark complete finished layers multiple ok select stack success tick validate verified yes\",\n  done_outline: \"all approve checkmark complete finished ok select success tick validate verified yes\",\n  do_not_disturb: \"cancel close denied deny remove silence stop\",\n  do_not_disturb_alt: \"cancel close denied deny remove silence stop\",\n  do_not_disturb_off: \"cancel close denied deny disabled enabled on remove silence slash stop\",\n  do_not_disturb_on: \"cancel close denied deny disabled enabled off remove silence slash stop\",\n  do_not_disturb_on_total_silence: \"busy mute on quiet total\",\n  do_not_step: \"boot disabled enabled feet foot off on shoe slash sneaker\",\n  do_not_touch: \"disabled enabled fingers gesture hand off on slash\",\n  donut_large: \"analytics chart circle complete data diagram infographic inprogress, measure metrics pie statistics tracking\",\n  donut_small: \"analytics chart circle data diagram infographic inprogress measure metrics pie statistics tracking\",\n  door_back: \"closed doorway entrance exit home house\",\n  doorbell: \"alarm home house ringing\",\n  door_front: \"closed doorway entrance exit home house\",\n  door_sliding: \"automatic doorway double entrance exit glass home house two\",\n  double_arrow: \"arrows chevron direction multiple navigation right\",\n  downhill_skiing: \"athlete athletic body entertainment exercise hobby human people person ski snow social sports travel winter\",\n  download: \"arrow downloads drive install upload\",\n  download_done: \"arrows check downloads drive installed ok tick upload\",\n  download_for_offline: \"arrow circle for install offline upload\",\n  downloading: \"arrow circle downloads install pending progress upload\",\n  drafts: \"document email envelope file letter message read\",\n  drag_handle: \"application components design interface layout lines menu move screen ui ux website window\",\n  drag_indicator: \"application circles components design dots drop interface layout mobile monitor move phone screen shape shift tablet ui ux website window\",\n  drive_eta: \"automobile cars destination direction estimate maps public transportation travel trip vehicle\",\n  drive_file_move: \"arrows data direction document folders right sheet side slide storage\",\n  drive_file_rename_outline: \"compose create draft editing input pencil write writing\",\n  drive_folder_upload: \"arrow data document file sheet slide storage\",\n  dry: \"air bathroom dryer fingers gesture hand wc\",\n  dry_cleaning: \"hanger hotel laundry places service towel\",\n  duo: \"call chat conference device video\",\n  dvr: \"Android audio chrome computer desktop device display electronic hardware iOS laptop list mac monitor recorder screen tv video web window\",\n  dynamic_feed: \"layer live multiple post refresh update\",\n  dynamic_form: \"code electric fast lightning lists questionnaire thunderbolt\",\n  earbuds: \"accessory audio earphone headphone listen music sound\",\n  earbuds_battery: \"accessory audio charging earphone headphone listen music sound\",\n  east: \"arrow directional maps navigation right\",\n  edgesensor_high: \"Android cell device hardware iOS mobile move phone sensitivity tablet vibrate\",\n  edgesensor_low: \"Android cell device hardware iOS mobile move phone sensitivity tablet vibrate\",\n  edit: \"compose create editing input new pencil write writing\",\n  edit_attributes: \"approve attribution check complete done mark ok select tick validate verified yes\",\n  edit_location: \"destination direction gps maps pencil pin place stop write\",\n  edit_location_alt: \"pencil pin\",\n  edit_notifications: \"active alarm alert bell chime compose create draft editing input new notify pencil reminder ring sound write writing\",\n  edit_off: \"compose create disabled draft editing enabled input new offline on pencil slash write writing\",\n  edit_road: \"destination direction highway maps pencil street traffic\",\n  egg: \"breakfast brunch food\",\n  egg_alt: \"breakfast brunch food\",\n  eject: \"arrow disc drive dvd player remove triangle up usb\",\n  elderly: \"body cane human old people person senior\",\n  elderly_woman: \"body cane female gender girl human lady old people person senior social symbol women\",\n  electrical_services: \"charge cord plug power wire\",\n  electric_bike: \"automobile cars electricity maps scooter transportation travel vehicle vespa\",\n  electric_bolt: \"energy fast lightning nest thunderbolt\",\n  electric_car: \"automobile cars electricity maps transportation travel vehicle\",\n  electric_meter: \"energy fast lightning measure nest thunderbolt usage voltage volts\",\n  electric_moped: \"automobile bike cars maps scooter transportation travel vehicle vespa\",\n  electric_rickshaw: \"automobile cars india maps transportation truck vehicle\",\n  electric_scooter: \"automobile bike cars maps transportation vehicle vespa\",\n  elevator: \"body down human people person up\",\n  email: \"envelope letter message note post receive send write\",\n  e_mobiledata: \"alphabet font letter text type\",\n  emoji_emotions: \"emoticon expressions face feelings glad happiness happy like mood person pleased smiley smiling social survey\",\n  emoji_events: \"achievement award chalice champion cup first prize reward sport trophy winner\",\n  emoji_food_beverage: \"coffee cup dring drink mug plate set tea\",\n  emoji_nature: \"animal bee daisy flower honey insect ladybug petals spring summer\",\n  emoji_objects: \"creative idea lamp lightbulb solution thinking\",\n  emoji_people: \"arm body greeting human person social wave waving\",\n  emoji_symbols: \"ampersand character hieroglyph music note percent sign\",\n  emoji_transportation: \"architecture automobile building cars commute company direction estate maps office place public real residence residential shelter travel vehicle\",\n  energy_savings_leaf: \"eco leaves nest usage\",\n  engineering: \"body cogs cogwheel construction fixing gears hat helmet human maintenance people person setting worker\",\n  enhanced_encryption: \"+ add locked new password plus privacy private protection safety secure security symbol\",\n  equalizer: \"adjustment analytics chart data graph measure metrics music noise sound static statistics tracking volume\",\n  error: \"! alert announcement attention caution circle danger exclamation feedback important mark notification problem symbol warning\",\n  error_outline: \"! alert announcement attention caution circle danger exclamation feedback important mark notification problem symbol warning\",\n  escalator: \"down staircase up\",\n  escalator_warning: \"body child human kid parent people person\",\n  euro: \"bill card cash coin commerce cost credit currency dollars euros finance money online payment price profit shopping symbol\",\n  euro_symbol: \"bill card cash coin commerce cost credit currency dollars finance money online payment price profit\",\n  event: \"agenda calendar date item mark month range remember reminder today week\",\n  event_available: \"agenda approve calendar check complete done item mark ok schedule select tick time validate verified yes\",\n  event_busy: \"agenda calendar cancel close date exit item no remove schedule stop time unavailable\",\n  event_note: \"agenda calendar date item schedule text time writing\",\n  event_repeat: \"around calendar date day inprogress loading month refresh renew rotate schedule turn\",\n  event_seat: \"assigned bench chair furniture reservation row section sit\",\n  ev_station: \"automobile cars charge charging electricity filling fuel gasoline maps places power station transportation vehicle\",\n  exit_to_app: \"application arrow back components design export interface layout leave login logout mobile monitor move output phone pointing quit register right screen signin signout signup tablet ux website window\",\n  expand: \"arrows compress enlarge grow move push together\",\n  expand_circle_down: \"arrows chevron collapse direction expandable list more\",\n  expand_less: \"arrows chevron collapse direction expandable list up\",\n  expand_more: \"arrows chevron collapse direction down expandable list\",\n  explicit: \"adult alphabet character content font language letter media movies music parent rating supervision symbol text type\",\n  explore: \"compass destination direction east location maps needle north south travel west\",\n  explore_off: \"compass destination direction disabled east enabled location maps needle north slash south travel west\",\n  exposure: \"add brightness contrast editing effect image minus photography picture plus settings subtract\",\n  extension: \"add-ons app extended game item jigsaw piece plugin puzzle shape\",\n  extension_off: \"disabled enabled extended jigsaw piece puzzle shape slash\",\n  face: \"account avatar emoji eyes human login logout people person profile recognition security social thumbnail unlock user\",\n  face_retouching_natural: \"editing effect emoji emotion faces image photography settings star tag\",\n  face_retouching_off: \"disabled editing effect emoji emotion enabled faces image natural photography settings slash tag\",\n  fact_check: \"approve complete done list mark ok select tick validate verified yes\",\n  factory: \"industry manufacturing warehouse\",\n  family_restroom: \"bathroom children father kids mother parents wc\",\n  fastfood: \"drink hamburger maps meal places\",\n  fast_forward: \"control ff media music play speed time tv video\",\n  fast_rewind: \"back control media music play speed time tv video\",\n  favorite: \"appreciate health heart like love remember save shape success\",\n  favorite_border: \"health heart like love outline remember save shape success\",\n  fax: \"machine office phone send\",\n  featured_play_list: \"audio collection highlighted item music playlist recommended\",\n  featured_video: \"advertisement advertisment highlighted item play recommended watch,advertised\",\n  feed: \"article headline information newspaper public social timeline\",\n  feedback: \"! alert announcement attention bubble caution chat comment communicate danger error exclamation important mark message notification speech symbol warning\",\n  female: \"gender girl lady social symbol woman women\",\n  fence: \"backyard barrier boundaries boundary home house protection\",\n  festival: \"circus event local maps places tent tour travel\",\n  fiber_dvr: \"alphabet character digital electronics font letter network recorder symbol text tv type video\",\n  fiber_manual_record: \"circle dot play watch\",\n  fiber_new: \"alphabet character font letter network symbol text type\",\n  fiber_pin: \"alphabet character font letter network symbol text type\",\n  fiber_smart_record: \"circle dot play watch\",\n  file_copy: \"bill clone content cut document duplicate invoice item multiple page past\",\n  file_download: \"arrows downloads drive export install upload\",\n  file_download_done: \"arrows check downloads drive installed tick upload\",\n  file_download_off: \"arrow disabled drive enabled export install on save slash upload\",\n  file_open: \"arrow document drive left page paper\",\n  file_present: \"clip data document drive folders note paper reminder sheet slide storage writing\",\n  file_upload: \"arrows download drive export\",\n  filter: \"editing effect image landscape mountains photography picture settings\",\n  filter_1: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_2: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_3: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_4: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_5: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_6: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_7: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_8: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_9: \"digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_9_plus: \"+ digit editing effect images multiple number photography pictures settings stack symbol\",\n  filter_alt: \"edit funnel options refine sift\",\n  filter_alt_off: \"[offline] disabled edit funnel options refine sift slash\",\n  filter_b_and_w: \"black contrast editing effect grayscale images photography pictures settings white\",\n  filter_center_focus: \"camera dot edit image photography picture\",\n  filter_drama: \"camera cloud editing effect image photography picture sky\",\n  filter_frames: \"boarders border camera center editing effect filters focus image options photography picture\",\n  filter_hdr: \"camera editing effect image mountains photography picture\",\n  filter_list: \"lines organize sort\",\n  filter_list_off: \"[offline] alt disabled edit options refine sift slash\",\n  filter_none: \"multiple stack\",\n  filter_tilt_shift: \"blur center editing effect focus images photography pictures\",\n  filter_vintage: \"editing effect flower images photography pictures\",\n  find_in_page: \"data document drive file folders glass look magnifying paper search see sheet slide writing\",\n  find_replace: \"around arrows glass inprogress loading look magnifying refresh renew rotate search see\",\n  fingerprint: \"biometrics identification identity reader thumbprint touchid verification\",\n  fire_extinguisher: \"emergency water\",\n  fireplace: \"chimney flame home house living pit room warm winter\",\n  first_page: \"arrow back chevron left rewind\",\n  fitness_center: \"athlete dumbbell exercise gym health hobby places sport weights workout\",\n  fit_screen: \"enlarge format layout reduce scale size\",\n  flag: \"country goal mark nation report start\",\n  flag_circle: \"country goal mark nation report round start\",\n  flaky: \"approve check close complete contrast done exit mark no ok options select stop tick verified yes\",\n  flare: \"bright editing effect images lensflare light photography pictures shine sparkle star sun\",\n  flash_auto: \"camera electric fast lightning thunderbolt\",\n  flashlight_off: \"disabled enabled on slash\",\n  flashlight_on: \"disabled enabled off slash\",\n  flash_off: \"camera disabled electric enabled fast lightning on slash thunderbolt\",\n  flash_on: \"camera disabled electric enabled fast lightning off slash thunderbolt\",\n  flatware: \"cafeteria cutlery diner dining eating fork room spoon\",\n  flight: \"airplane airport flying transportation travel trip\",\n  flight_class: \"airplane business first seat transportation travel trip window\",\n  flight_land: \"airplane airport arrival arriving flying landing transportation travel\",\n  flight_takeoff: \"airplane airport departed departing flying landing transportation travel\",\n  flip: \"editing image orientation scanning\",\n  flip_camera_android: \"center editing front image mobile orientation rear reverse rotate turn\",\n  flip_camera_ios: \"android editing front image mobile orientation rear reverse rotate turn\",\n  flip_to_back: \"arrangement format front layout move order sort\",\n  flip_to_front: \"arrangement back format layout move order sort\",\n  flutter_dash: \"bird mascot\",\n  fmd_bad: \"! alert attention caution danger destination direction error exclamation important location maps mark notification pin place symbol warning\",\n  fmd_good: \"destination direction location maps pin place stop\",\n  folder: \"data directory document drive file folders sheet slide storage\",\n  folder_delete: \"bin can data document drive file folders garbage remove sheet slide storage trash\",\n  folder_off: \"[online] data disabled document drive enabled file folders sheet slash slide storage\",\n  folder_open: \"data directory document drive file folders sheet slide storage\",\n  folder_shared: \"account collaboration data directory document drive face human people person profile sheet slide storage team user\",\n  folder_special: \"bookmark data directory document drive favorite file highlight important marked saved shape sheet slide star storage\",\n  folder_zip: \"compress data document drive file folders open sheet slide storage\",\n  follow_the_signs: \"arrow body directional human people person right social\",\n  font_download: \"A alphabet character letter square symbol text type\",\n  font_download_off: \"alphabet character disabled enabled letter slash square symbol text type\",\n  food_bank: \"architecture building charity eat estate fork house knife meal place real residence residential shelter utensils\",\n  forest: \"jungle nature plantation plants trees woodland\",\n  fork_left: \"arrows directions maps navigation path route sign traffic\",\n  fork_right: \"arrows directions maps navigation path route sign traffic\",\n  format_align_center: \"alignment doc editing editor lines spreadsheet text type writing\",\n  format_align_justify: \"alignment density doc editing editor extra lines small spreadsheet text type writing\",\n  format_align_left: \"alignment doc editing editor lines spreadsheet text type writing\",\n  format_align_right: \"alignment doc editing editor lines spreadsheet text type writing\",\n  format_bold: \"B alphabet character doc editing editor font letter spreadsheet styles symbol text type writing\",\n  format_clear: \"T alphabet character disabled doc editing editor enabled font letter off slash spreadsheet style symbol text type writing\",\n  format_color_fill: \"bucket doc editing editor paint spreadsheet style text type writing\",\n  format_color_reset: \"clear disabled doc droplet editing editor enabled fill liquid off on paint slash spreadsheet style text type water writing\",\n  format_color_text: \"doc editing editor fill paint spreadsheet style type writing\",\n  format_indent_decrease: \"alignment doc editing editor indentation paragraph spreadsheet text type writing\",\n  format_indent_increase: \"alignment doc editing editor indentation paragraph spreadsheet text type writing\",\n  format_italic: \"alphabet character doc editing editor font letter spreadsheet style symbol text type writing\",\n  format_line_spacing: \"alignment doc editing editor spreadsheet text type writing\",\n  format_list_bulleted: \"alignment doc editing editor notes spreadsheet task text todo type writing\",\n  format_list_numbered: \"alignment digit doc editing editor notes spreadsheet symbol task text todo type writing\",\n  format_list_numbered_rtl: \"alignment digit doc editing editor notes spreadsheet symbol task text todo type writing\",\n  format_overline: \"alphabet character doc editing editor font letter spreadsheet style symbol text type under writing\",\n  format_paint: \"brush color doc editing editor fill paintroller spreadsheet style text type writing\",\n  format_quote: \"doc editing editor quotation spreadsheet text type writing\",\n  format_shapes: \"alphabet character color doc editing editor fill font letter paint spreadsheet style symbol text type writing\",\n  format_size: \"alphabet character color doc editing editor fill font letter paint spreadsheet style symbol text type writing\",\n  format_strikethrough: \"alphabet character doc editing editor font letter spreadsheet style symbol text type writing\",\n  format_textdirection_l_to_r: \"alignment doc editing editor ltr paragraph spreadsheet type writing\",\n  format_textdirection_r_to_l: \"alignment doc editing editor paragraph rtl spreadsheet type writing\",\n  format_underlined: \"alphabet character doc editing editor font letter spreadsheet style symbol text type writing\",\n  forum: \"bubble chat comment communicate community conversation feedback hub messages speech talk\",\n  forward: \"arrow mail message playback right sent\",\n  forward_10: \"arrow circle controls digit fast music number play rotate seconds speed symbol time video\",\n  forward_30: \"arrow circle controls digit fast music number rotate seconds speed symbol time video\",\n  forward_5: \"10 arrow circle controls digit fast music number rotate seconds speed symbol time video\",\n  forward_to_inbox: \"arrow email envelop letter message send\",\n  foundation: \"architecture base basis building construction estate home house real residential\",\n  free_breakfast: \"beverage cafe coffee cup drink mug tea\",\n  fullscreen: \"adjust application components interface size ui ux view website\",\n  fullscreen_exit: \"adjust application components interface size ui ux view website\",\n  functions: \"average calculate count doc editing editor math sigma spreadsheet style sum text type writing\",\n  gamepad: \"buttons console controller device gaming playstation video\",\n  games: \"adjust arrows controller direction dpad gaming left move nintendo playstation right xbox\",\n  garage: \"automobile automotive cars direction maps transportation travel vehicle\",\n  gas_meter: \"droplet energy measure nest usage water\",\n  gavel: \"agreement contract court document government hammer judge law mallet official police rules terms\",\n  gesture: \"drawing finger gestures hand line motion\",\n  get_app: \"arrows downloads export install play pointing retrieve upload\",\n  gif: \"alphabet animated animation bitmap character font format graphics interchange letter symbol text type\",\n  gif_box: \"alphabet animated animation bitmap character font format graphics interchange letter symbol text type\",\n  girl: \"body female gender human lady people person social symbol woman women\",\n  gite: \"architecture estate home hostel house maps place real residence residential stay traveling\",\n  g_mobiledata: \"alphabet character font letter network service symbol text type\",\n  golf_course: \"athlete athletic ball club entertainment flag golfer golfing hobby hole places putt sports\",\n  gpp_bad: \"cancel certified close error exit no privacy private protection remove security shield sim stop verified\",\n  gpp_good: \"certified check ok pass security shield sim tick\",\n  gpp_maybe: \"! alert attention caution certified danger error exclamation important mark notification privacy private protection security shield sim symbol verified warning\",\n  gps_fixed: \"destination direction location maps pin place pointer stop tracking\",\n  gps_not_fixed: \"destination direction disabled enabled fixed location maps not off online place pointer slash tracking\",\n  gps_off: \"destination direction disabled enabled fixed location maps not offline place pointer slash tracking\",\n  grade: \"achievement important likes marked rated rating reward saved shape special star\",\n  gradient: \"color editing effect filter images photography pictures\",\n  grading: \"approve check complete document done feedback grade mark ok reviewed select tick validate verified writing yes\",\n  grain: \"dots editing effect filter images photography pictures\",\n  graphic_eq: \"audio equalizer music recording sound voice\",\n  grass: \"backyard fodder ground home lawn plant turf\",\n  grid_goldenratio: \"layout lines space\",\n  grid_off: \"collage disabled enabled image layout on slash view\",\n  grid_on: \"collage disabled enabled image layout off sheet slash view\",\n  grid_view: \"application blocks components dashboard design interface layout screen square tiles ui ux website window\",\n  group: \"accounts committee face family friends humans network people persons profiles social team users\",\n  group_add: \"accounts committee face family friends humans increase more network people persons plus profiles social team users\",\n  group_remove: \"accounts committee face family friends humans network people persons profiles social team users\",\n  groups: \"body club collaboration crowd gathering human meeting people person social teams\",\n  group_work: \"alliance circle collaboration film partnership reel teamwork together\",\n  g_translate: \"emblem google language logo mark speaking speech translator words\",\n  hail: \"body human people person pick public stop taxi transportation\",\n  handyman: \"build construction fix hammer repair screwdriver tools\",\n  hardware: \"break construction hammer nail repair tool\",\n  hd: \"alphabet character definition display font high letter movies quality resolution screen symbol text tv type video\",\n  hdr_auto: \"A alphabet camera character circle dynamic font high letter photo range symbol text type\",\n  hdr_auto_select: \"+ A alphabet camera character circle dynamic font high letter photo range symbol text type\",\n  hdr_enhanced_select: \"add alphabet character dynamic font high letter plus range symbol text type\",\n  hdr_off: \"alphabet character disabled dynamic enabled enhance font high letter range select slash symbol text type\",\n  hdr_off_select: \"alphabet camera character circle disabled dynamic enabled font high letter photo range slash symbol text type\",\n  hdr_on: \"add alphabet character dynamic enhance font high letter plus range select symbol text type\",\n  hdr_on_select: \"+ alphabet camera character circle dynamic font high letter photo range symbol text type\",\n  hdr_plus: \"+ add alphabet character circle dynamic enhance font high letter range select symbol text type\",\n  hdr_strong: \"circles dots dynamic enhance high range\",\n  hdr_weak: \"circles dots dynamic enhance high range\",\n  headphones: \"accessory audio device earphone headset listen music sound\",\n  headphones_battery: \"accessory audio charging device earphone headset listen music sound\",\n  headset: \"accessory audio device earbuds earmuffs earphone headphones listen music sound\",\n  headset_mic: \"accessory audio chat device earphone headphones listen music sound talk\",\n  headset_off: \"accessory audio chat device disabled earphone enabled headphones listen mic music slash sound talk\",\n  healing: \"bandage bandaid editing emergency fix health hospital image medicine\",\n  health_and_safety: \"+ add certified plus privacy private protection security shield symbol verified\",\n  hearing: \"accessibility accessible aid handicap help impaired listen sound volume\",\n  hearing_disabled: \"accessibility accessible aid enabled handicap help impaired listen off on slash sound volume\",\n  heart_broken: \"break core crush health nucleus split\",\n  heat_pump: \"air conditioner cool energy furnance nest usage\",\n  height: \"arrows color doc down editing editor fill format paint resize spreadsheet stretch style text type up writing\",\n  help: \"? alert announcement assistance circle information mark punctuation question shape support symbol\",\n  help_center: \"? assistance information mark punctuation question support symbol\",\n  help_outline: \"? alert announcement assistance circle information mark punctuation question shape support symbol\",\n  hevc: \"alphabet character coding efficiency font high letter symbol text type video\",\n  hexagon: \"shape sides six\",\n  hide_image: \"disabled enabled landscape mountains off on photography picture slash\",\n  hide_source: \"circle disabled enabled offline on shape slash\",\n  highlight: \"color doc editing editor emphasize fill flashlight format marker paint spreadsheet style text type writing\",\n  highlight_off: \"cancel circle clear click close delete disable exit focus no quit remove stop target times\",\n  high_quality: \"alphabet character definition display font hq letter movies resolution screen symbol text tv type\",\n  hiking: \"backpacking bag climbing duffle mountain social sports stick trail travel walking\",\n  history: \"arrow backwards clock date refresh renew reverse revert rotate schedule time turn undo\",\n  history_edu: \"document education feather letter paper pen quill school tools write writing\",\n  history_toggle_off: \"clock date schedule time\",\n  hls: \"alphabet character developer engineering font letter platform symbol text type\",\n  hls_off: \"[offline] alphabet character developer disabled enabled engineering font letter platform slash symbol text type\",\n  h_mobiledata: \"alphabet character font letter network service symbol text type\",\n  holiday_village: \"architecture beach camping cottage estate home house lake lodge maps place real residence residential stay traveling vacation\",\n  home: \"address application--house architecture building components design estate homepage interface layout place real residence residential screen shelter structure unit ux website window\",\n  home_max: \"device gadget hardware internet iot nest smart things\",\n  home_mini: \"Internet device gadget hardware iot nest smart things\",\n  home_repair_service: \"equipment fix kit mechanic repairing toolbox tools workshop\",\n  home_work: \"architecture building estate house office place real residence residential shelter\",\n  horizontal_rule: \"gmail line novitas\",\n  horizontal_split: \"bars format layout lines stacked\",\n  hotel: \"bed body human people person sleep stay travel trip\",\n  hot_tub: \"bathing bathroom bathtub hotel human jacuzzi person shower spa steam travel water\",\n  hourglass_bottom: \"countdown half loading minutes time waiting\",\n  hourglass_disabled: \"clock countdown empty enabled loading minutes off on slash time waiting\",\n  hourglass_empty: \"countdown loading minutes start time waiting\",\n  hourglass_full: \"countdown loading minutes time waiting\",\n  hourglass_top: \"countdown half loading minutes time waiting\",\n  house: \"architecture building estate family homepage places real residence residential shelter\",\n  houseboat: \"architecture beach estate floating home maps place real residence residential sea stay traveling vacation\",\n  house_siding: \"architecture building construction estate exterior facade home real residential\",\n  how_to_reg: \"approve ballot check complete done election mark ok poll register registration select tick to validate verified vote yes\",\n  how_to_vote: \"ballot election poll\",\n  h_plus_mobiledata: \"+ alphabet character font letter network service symbol text type\",\n  html: \"alphabet brackets character code css developer engineering font letter platform symbol text type\",\n  http: \"alphabet character font internet letter network symbol text transfer type url website\",\n  https: \"connection encrypt internet key locked network password privacy private protection safety secure security ssl web\",\n  hub: \"center connection core focal network nucleus point topology\",\n  hvac: \"air conditioning heating ventilation\",\n  icecream: \"dessert food snack\",\n  ice_skating: \"athlete athletic entertainment exercise hobby shoe skates social sports travel\",\n  image: \"disabled enabled frame hide landscape mountains off on photography picture slash\",\n  image_aspect_ratio: \"photography picture rectangle square\",\n  image_not_supported: \"disabled enabled landscape mountains off on photography picture slash\",\n  image_search: \"find glass landscape look magnifying mountains photography picture see\",\n  imagesearch_roller: \"art paint\",\n  important_devices: \"Android cell computer desktop hardware iOS mobile monitor phone star tablet web\",\n  import_contacts: \"address book friends information magazine open\",\n  import_export: \"arrows direction down explort up\",\n  inbox: \"archive email incoming message\",\n  indeterminate_check_box: \"application button components control design form interface minus screen selected selection square toggle ui undetermined ux website\",\n  info: \"about alert announcement announcment assistance bubble circle details help information service support\",\n  input: \"arrow box download login move right\",\n  insert_chart: \"analytics barchart bars data diagram infographic measure metrics statistics tracking\",\n  insert_chart_outlined: \"analytics bars data diagram infographic measure metrics statistics tracking\",\n  insert_comment: \"add bubble chat feedback message\",\n  insert_drive_file: \"bill document format invoice item sheet slide\",\n  insert_emoticon: \"account emoji face happy human like people person profile sentiment smiley user\",\n  insert_invitation: \"agenda calendar date event mark month range remember reminder today week\",\n  insert_link: \"add anchor attach clip file mail media\",\n  insert_page_break: \"document file paper\",\n  insert_photo: \"image landscape mountains photography picture wallpaper\",\n  insights: \"analytics bars chart data diagram infographic measure metrics stars statistics tracking\",\n  install_desktop: \"Android chrome device display fix hardware iOS mac monitor place pwa screen web window\",\n  install_mobile: \"Android cell device hardware iOS phone pwa tablet\",\n  integration_instructions: \"brackets clipboard code css developer document engineering html platform\",\n  interests: \"circle heart shapes social square triangle\",\n  interpreter_mode: \"language microphone person speaking symbol\",\n  inventory: \"archive box buy check clipboard document e-commerce file list organize packages product purchase shop stock store supply\",\n  invert_colors: \"droplet editing hue inverted liquid palette tone water\",\n  invert_colors_off: \"disabled droplet enabled hue inverted liquid offline opacity palette slash tone water\",\n  ios_share: \"arrows button direction export internet link send sharing social up website\",\n  iron: \"appliance clothes electric ironing machine object\",\n  iso: \"add editing effect image minus photography picture plus sensor shutter speed subtract\",\n  javascript: \"alphabet brackets character code css developer engineering font html letter platform symbol text type\",\n  join_full: \"circle combine command left outter right sql\",\n  join_inner: \"circle command matching sql values\",\n  join_left: \"circle command matching sql values\",\n  join_right: \"circle command matching sql values\",\n  kayaking: \"athlete athletic body canoe entertainment exercise hobby human lake paddle paddling people person rafting river row social sports summer travel water\",\n  key: \"blackout password restricted secret unlock\",\n  keyboard: \"computer device hardware input keypad letter office text type\",\n  keyboard_alt: \"computer device hardware input keypad letter office text type\",\n  keyboard_arrow_down: \"arrows chevron open\",\n  keyboard_arrow_left: \"arrows chevron\",\n  keyboard_arrow_right: \"arrows chevron open start\",\n  keyboard_arrow_up: \"arrows chevron submit\",\n  keyboard_backspace: \"arrow left\",\n  keyboard_capslock: \"arrow up\",\n  keyboard_command_key: \"button command control key\",\n  keyboard_control_key: \"control key\",\n  keyboard_double_arrow_down: \"arrows direction multiple navigation\",\n  keyboard_double_arrow_left: \"arrows direction multiple navigation\",\n  keyboard_double_arrow_right: \"arrows direction multiple navigation\",\n  keyboard_double_arrow_up: \"arrows direction multiple navigation\",\n  keyboard_hide: \"arrow computer device down hardware input keypad text\",\n  keyboard_option_key: \"alt key modifier\",\n  keyboard_return: \"arrow back left\",\n  keyboard_tab: \"arrow next right\",\n  keyboard_voice: \"microphone noise recorder speaker\",\n  key_off: \"[offline] disabled enabled on password slash unlock\",\n  king_bed: \"bedroom double furniture home hotel house night pillows queen rest sleep\",\n  kitchen: \"appliance cabinet cold food freezer fridge home house ice places refrigerator storage\",\n  kitesurfing: \"athlete athletic beach body entertainment exercise hobby human people person social sports travel water\",\n  label: \"badge favorite indent item library mail remember save stamp sticker tag\",\n  label_important: \"badge favorite important. indent item library mail remember save stamp sticker tag wing\",\n  label_off: \"disabled enabled favorite indent library mail on remember save slash stamp sticker tag wing\",\n  lan: \"computer connection data internet network service\",\n  landscape: \"image mountains nature photography picture\",\n  language: \"country earth globe i18n internet l10n planet website world www\",\n  laptop: \"Android chrome computer connect desktop device display hardware iOS link mac monitor smart tv web windows\",\n  laptop_chromebook: \"Android chromebook device display hardware iOS mac monitor screen web window\",\n  laptop_mac: \"Android apple chrome device display hardware iOS monitor screen web window\",\n  laptop_windows: \"Android chrome device display hardware iOS mac monitor screen web\",\n  last_page: \"application arrow chevron components end forward interface right screen ui ux website\",\n  launch: \"application arrow box components core interface internal new open screen ui ux website window\",\n  layers: \"arrange disabled enabled interaction maps off overlay pages slash stack\",\n  layers_clear: \"arrange delete disabled enabled interaction maps off overlay pages slash\",\n  leaderboard: \"analytics bars chart data diagram infographic measure metrics statistics tracking\",\n  leak_add: \"connection data link network service signals synce wireless\",\n  leak_remove: \"connection data disabled enabled link network offline service signals slash synce wireless\",\n  legend_toggle: \"analytics chart data diagram infographic measure metrics monitoring stackdriver statistics tracking\",\n  lens: \"circle full geometry moon\",\n  lens_blur: \"camera dim dot effect foggy fuzzy image photo soften\",\n  library_add: \"+ collection layers multiple music new plus save stacked symbol video\",\n  library_add_check: \"approve collection complete done layers mark multiple music ok select stacked tick validate verified video yes\",\n  library_books: \"add album audio collection reading\",\n  library_music: \"add album audio collection song sounds\",\n  light: \"bulb ceiling hanging inside interior lamp lighting pendent room\",\n  lightbulb: \"alert announcement idea information learning mode\",\n  lightbulb_circle: \"alert announcement idea information\",\n  light_mode: \"brightness day device lighting morning mornng sky sunny\",\n  linear_scale: \"application components design interface layout measure menu screen slider ui ux website window\",\n  line_axis: \"dash horizontal stroke vertical\",\n  line_style: \"dash dotted editor rule spacing\",\n  line_weight: \"editor height size spacing style thickness\",\n  link: \"anchor chain clip connection external hyperlink linked links multimedia unlisted url\",\n  linked_camera: \"connection lens network photography picture signals sync wireless\",\n  link_off: \"anchor attached chain clip connection disabled enabled linked links multimedia slash unlink url\",\n  liquor: \"alcohol bar bottle club cocktail drink food party store wine\",\n  list: \"editor file format index menu options playlist task todo\",\n  list_alt: \"box contained editor format lines reorder sheet stacked task title todo\",\n  live_help: \"? alert announcement assistance bubble chat comment communicate faq information mark message punctuation question speech support symbol\",\n  live_tv: \"Android antennas chrome desktop device hardware iOS mac monitor movie play stream television web window\",\n  living: \"chair comfort couch decoration furniture home house lounging loveseat room seating sofa\",\n  local_activity: \"event star things ticket\",\n  local_airport: \"airplane flight flying transportation travel trip\",\n  local_atm: \"bill card cart cash coin commerce credit currency dollars financial money online payment price profit shopping symbol\",\n  local_bar: \"alcohol bottle club cocktail drink food liquor martini wine\",\n  local_cafe: \"bottle coffee cup drink food mug restaurant tea\",\n  local_car_wash: \"automobile cars maps transportation travel vehicle\",\n  local_convenience_store: \"-- 24 bill building business card cash coin commerce company credit currency dollars maps market money new online payment plus shopping storefront symbol\",\n  local_dining: \"cutlery eat food fork knife meal restaurant spoon\",\n  local_drink: \"cup droplet glass liquid park water\",\n  local_fire_department: \"911 firefighter flame hot\",\n  local_florist: \"flower shop\",\n  local_gas_station: \"auto car filling fuel gasoline oil station vehicle\",\n  local_grocery_store: \"market shop\",\n  local_hospital: \"911 aid cross doctor emergency first health medical medicine plus\",\n  local_hotel: \"bed body human people person sleep stay travel trip\",\n  local_laundry_service: \"cleaning clothing dryer hotel washer\",\n  local_library: \"book community learning person read\",\n  local_mall: \"bill building business buy card cart cash coin commerce credit currency dollars handbag money online payment shopping storefront\",\n  local_offer: \"deal discount price shopping store tag\",\n  local_parking: \"alphabet auto car character font garage letter symbol text type vehicle\",\n  local_pharmacy: \"911 aid cross emergency first food hospital medicine places\",\n  local_phone: \"booth call telecommunication\",\n  local_pizza: \"drink fastfood meal\",\n  local_police: \"911 badge law officer protection security shield\",\n  local_post_office: \"delivery email envelop letter message package parcel postal send stamp\",\n  local_printshop: \"draft fax ink machine office paper printer send\",\n  local_see: \"camera lens photography picture\",\n  local_shipping: \"automobile cars delivery letter mail maps office package parcel postal semi send shopping stamp transportation truck vehicle\",\n  local_taxi: \"automobile cab call cars direction lyft maps public transportation uber vehicle yellow\",\n  location_city: \"apartments architecture buildings business company estate home landscape place real residence residential shelter town urban\",\n  location_disabled: \"destination direction enabled maps off pin place pointer slash stop tracking\",\n  location_off: \"destination direction disabled enabled gps maps pin place room slash stop\",\n  location_on: \"destination direction disabled enabled gps maps off pin place room slash stop\",\n  location_searching: \"destination direction maps pin place pointer stop tracking\",\n  lock: \"connection key locked logout padlock password privacy private protection safety secure security signout\",\n  lock_clock: \"date locked password privacy private protection safety schedule secure security time\",\n  lock_open: \"connection key login padlock password privacy private protection register safety secure security signin signup unlocked\",\n  lock_reset: \"around inprogress loading locked password privacy private protection refresh renew rotate safety secure security turn\",\n  login: \"access application arrow components design enter interface left screen ui ux website\",\n  logo_dev: \"dev.to\",\n  logout: \"application arrow components design exit interface leave login right screen ui ux website\",\n  looks: \"circle half rainbow\",\n  looks_3: \"digit numbers square symbol\",\n  looks_4: \"digit numbers square symbol\",\n  looks_5: \"digit numbers square symbol\",\n  looks_6: \"digit numbers square symbol\",\n  looks_one: \"1 digit numbers square symbol\",\n  looks_two: \"2 digit numbers square symbol\",\n  loop: \"around arrows direction inprogress loader loading music navigation refresh renew repeat rotate turn\",\n  loupe: \"+ add details focus glass magnifying new plus symbol\",\n  low_priority: \"arrange arrow backward bottom list move order task todo\",\n  loyalty: \"badge card credit heart love membership miles points program sale subscription tag travel trip\",\n  lte_mobiledata: \"alphabet character font internet letter network speed symbol text type wifi wireless\",\n  lte_plus_mobiledata: \"+ alphabet character font internet letter network speed symbol text type wifi wireless\",\n  luggage: \"airport baggage carry flight hotel on suitcase travel trip\",\n  lunch_dining: \"breakfast dinner drink fastfood hamburger meal\",\n  lyrics: \"audio bubble chat comment communicate feedback key message music note song sound speech track\",\n  mail: \"email envelope inbox letter message send\",\n  mail_lock: \"email envelop letter locked message password privacy private protection safety secure security send\",\n  mail_outline: \"email envelope letter message note post receive send write\",\n  male: \"boy gender man social symbol\",\n  man: \"boy gender male social symbol\",\n  manage_accounts: \"change details face gear options people person profile service-human settings user\",\n  manage_search: \"glass history magnifying text\",\n  map: \"destination direction location maps pin place route stop travel\",\n  maps_home_work: \"building house office\",\n  maps_ugc: \"+ add bubble comment communicate feedback message new plus speech symbol\",\n  margin: \"design layout padding size square\",\n  mark_as_unread: \"envelop letter mail postal receive send\",\n  mark_chat_read: \"approve bubble check comment communicate complete done message ok select sent speech tick verified yes\",\n  mark_chat_unread: \"bubble circle comment communicate message notification speech\",\n  mark_email_read: \"approve check complete done envelop letter message note ok select send sent tick yes\",\n  mark_email_unread: \"check circle envelop letter message note notification send\",\n  markunread: \"email envelope letter message send\",\n  markunread_mailbox: \"deliver envelop letter postal postbox receive send\",\n  masks: \"air cover covid face hospital medical pollution protection respirator sick social\",\n  maximize: \"application components design interface line screen shape ui ux website\",\n  media_bluetooth_off: \"connection connectivity device disabled enabled music note offline paring signal slash symbol wireless\",\n  media_bluetooth_on: \"connection connectivity device disabled enabled music note off online paring signal slash symbol wireless\",\n  mediation: \"alternative arrows compromise direction dots negotiation party right structure\",\n  medical_services: \"aid bag briefcase emergency first kit medicine\",\n  medication: \"doctor drug emergency hospital medicine pharmacy pills prescription\",\n  meeting_room: \"building doorway entrance home house interior logout office open places signout\",\n  memory: \"card chip digital micro processor sd storage\",\n  menu: \"application components hamburger interface lines playlist screen ui ux website\",\n  menu_book: \"dining food meal page restaurant\",\n  menu_open: \"application arrow chevron components hamburger interface left lines screen ui ux website\",\n  merge: \"arrows directions maps navigation path route sign traffic\",\n  merge_type: \"arrow combine direction format text\",\n  message: \"bubble chat comment communicate feedback speech talk text\",\n  mic: \"hearing microphone noise record search sound speech voice\",\n  mic_external_off: \"audio disabled enabled microphone slash sound voice\",\n  mic_external_on: \"audio disabled enabled microphone off slash sound voice\",\n  mic_none: \"hearing microphone noise record sound voice\",\n  mic_off: \"audio disabled enabled hearing microphone noise recording slash sound voice\",\n  microwave: \"appliance cooking electric heat home house kitchen machine\",\n  military_tech: \"army award badge honor medal merit order privilege prize rank reward ribbon soldier star status trophy winner\",\n  minimize: \"application components design interface line screen shape ui ux website\",\n  missed_video_call: \"arrow camera filming hardware image motion picture record videography\",\n  mms: \"bubble chat comment communicate feedback image landscape message mountains multimedia photography picture speech\",\n  mobiledata_off: \"arrow disabled down enabled internet network on slash speed up wifi wireless\",\n  mobile_friendly: \"Android approve cell check complete device done hardware iOS mark ok phone select tablet tick validate verified yes\",\n  mobile_off: \"Android cell device disabled enabled hardware iOS phone silence slash tablet\",\n  mobile_screen_share: \"Android arrow cell device hardware iOS mirror monitor phone screencast streaming tablet tv wireless\",\n  mode: \"compose create draft draw edit pencil write\",\n  mode_comment: \"bubble chat comment communicate feedback message mode speech\",\n  mode_edit: \"compose create draft draw pencil write\",\n  mode_edit_outline: \"compose create draft draw pencil write\",\n  model_training: \"arrow bulb idea inprogress light loading refresh renew restore reverse rotate\",\n  mode_night: \"dark disturb moon sleep weather\",\n  mode_of_travel: \"arrow destination direction location maps pin place stop transportation trip\",\n  mode_standby: \"disturb power sleep target\",\n  monetization_on: \"bill card cash circle coin commerce cost credit currency dollars finance money online payment price profit sale shopping symbol\",\n  money: \"100 bill card cash coin commerce cost credit currency digit dollars finance number online payment price profit shopping symbol\",\n  money_off: \"bill card cart cash coin commerce credit currency disabled dollars enabled finance money online payment price profit shopping slash symbol\",\n  money_off_csred: \"bill card cart cash coin commerce credit currency disabled dollars enabled online payment shopping slash symbol\",\n  monitor: \"Android chrome device display hardware iOS mac screen web window\",\n  monitor_weight: \"body device diet health scale smart\",\n  monochrome_photos: \"black camera image photography picture white\",\n  mood: \"emoji emoticon emotions expressions face feelings glad happiness happy like person pleased smiley smiling social survey\",\n  mood_bad: \"disappointment dislike emoji emoticon emotions expressions face feelings person rating smiley social survey unhappiness unhappy unpleased unsmile unsmiling\",\n  more: \"3 archive badge bookmark dots etc favorite indent label remember save stamp sticker tab tag three\",\n  more_horiz: \"3 application components dots etc horizontal interface ios pending screen status three ui ux website\",\n  more_time: \"+ add clock date new plus schedule symbol\",\n  more_vert: \"3 android application components dots etc interface screen three ui ux vertical website\",\n  motion_photos_auto: \"A alphabet animation automatic character circle font gif letter live symbol text type video\",\n  motion_photos_off: \"animation circle disabled enabled slash video\",\n  mouse: \"click computer cursor device hardware wireless\",\n  move_down: \"arrow direction jump navigation transfer\",\n  move_to_inbox: \"archive arrow down email envelop incoming letter message move send to\",\n  move_up: \"arrow direction jump navigation transfer\",\n  movie: \"cinema film media screen show slate tv video watch\",\n  movie_creation: \"clapperboard film movies slate video\",\n  movie_filter: \"clapperboard creation film movies slate stars video\",\n  moving: \"arrow direction navigation travel up\",\n  mp: \"alphabet character font image letter megapixel photography pixels quality resolution symbol text type\",\n  multiline_chart: \"analytics bars data diagram infographic line measure metrics multiple statistics tracking\",\n  multiple_stop: \"arrows directions dots left maps navigation right\",\n  museum: \"architecture attraction building estate event exhibition explore local palces places real see shop store tour\",\n  music_note: \"audiotrack key sound\",\n  music_off: \"audiotrack disabled enabled key note on slash sound\",\n  music_video: \"band mv recording screen tv watch\",\n  my_location: \"destination direction maps navigation pin place point stop\",\n  nat: \"communication\",\n  nature: \"forest outdoor outside park tree wilderness\",\n  nature_people: \"activity body forest human outdoor outside park person tree wilderness\",\n  navigate_before: \"arrows direction left\",\n  navigate_next: \"arrows direction right\",\n  navigation: \"arrow destination direction location maps pin place point stop\",\n  nearby_error: \"! alert attention caution danger exclamation important mark notification symbol warning\",\n  nearby_off: \"disabled enabled on slash\",\n  near_me: \"arrow destination direction location maps navigation pin place point stop\",\n  near_me_disabled: \"destination direction enabled location maps navigation off pin place point slash\",\n  nest_cam_wired_stand: \"camera filming hardware image motion picture videography\",\n  network_cell: \"cellular data internet mobile phone speed wifi wireless\",\n  network_check: \"connection internet meter signal speed tick wifi wireless\",\n  network_locked: \"alert available cellular connection data error internet mobile not privacy private protection restricted safety secure security service signal warning wifi wireless\",\n  network_wifi: \"cellular data internet mobile phone speed wireless\",\n  new_releases: \"! alert announcement attention burst caution danger error exclamation important mark notification star symbol warning\",\n  newspaper: \"article data document drive file folders magazine media notes page sheet slide text writing\",\n  next_plan: \"arrow circle right\",\n  next_week: \"arrow baggage briefcase business suitcase\",\n  nfc: \"communication data field mobile near wireless\",\n  nightlife: \"alcohol bar bottle club cocktail dance drink food glass liquor music note wine\",\n  nightlight: \"dark disturb mode moon sleep weather\",\n  nightlight_round: \"dark half mode moon\",\n  night_shelter: \"architecture bed building estate homeless house place real sleep\",\n  nights_stay: \"cloud crescent dark mode moon phases silence silent sky time weather\",\n  no_accounts: \"avatar disabled enabled face human offline people person profile slash thumbnail unavailable unidentifiable unknown user\",\n  no_backpack: \"accessory bookbag knapsack travel\",\n  no_drinks: \"alcohol beverage bottle cocktail food liquor wine\",\n  no_encryption: \"disabled enabled lock off password safety security slash\",\n  no_encryption_gmailerrorred: \"disabled enabled locked off slash\",\n  no_flash: \"camera disabled enabled image lightning off on photography picture slash thunderbolt\",\n  no_food: \"disabled drink enabled fastfood hamburger meal off on slash\",\n  no_luggage: \"baggage carry disabled enabled off on slash suitcase travel\",\n  no_meals: \"dining disabled eat enabled food fork knife off restaurant slash spoon utensils\",\n  no_meeting_room: \"building disabled doorway enabled entrance home house interior office on open places slash\",\n  no_photography: \"camera disabled enabled image off on picture slash\",\n  nordic_walking: \"athlete athletic body entertainment exercise hiking hobby human people person social sports travel walker\",\n  north: \"arrow directional maps navigation up\",\n  north_east: \"arrow maps navigation noth right up\",\n  north_west: \"arrow directional left maps navigation up\",\n  no_sim: \"camera card device eject insert memory phone storage\",\n  no_stroller: \"baby care carriage children disabled enabled infant kid newborn off on parents slash toddler young\",\n  not_accessible: \"accessibility body handicap help human person wheelchair\",\n  note: \"bookmark message paper\",\n  note_add: \"+ -doc create data document drive file folders new page paper plus sheet slide symbol writing\",\n  note_alt: \"clipboard document file memo page paper writing\",\n  notes: \"comment document text write writing\",\n  notification_add: \"+ active alarm alert bell chime notifications notify plus reminder ring sound symbol\",\n  notification_important: \"! active alarm alert announcement attention bell caution chime danger error exclamation feedback mark notifications notify problem reminder ring sound symbol warning\",\n  notifications: \"active alarm alert bell chime notify reminder ring sound\",\n  notifications_active: \"alarm alert bell chime notify reminder ringing sound\",\n  notifications_none: \"alarm alert bell notify reminder ring sound\",\n  notifications_off: \"active alarm alert bell chime disabled enabled notify offline reminder ring slash sound\",\n  notifications_paused: \"--- active alarm aleet alert bell chime ignore notify pause quiet reminder ring sleep snooze sound zzz\",\n  not_interested: \"allowed banned cancel circle close disabled dislike exit interested not off prohibited quit remove stop\",\n  not_listed_location: \"? assistance destination direction help information maps pin place punctuation questionmark stop support symbol\",\n  no_transfer: \"automobile bus cars direction disabled enabled maps off public slash transportation vehicle\",\n  not_started: \"circle media pause play video\",\n  offline_bolt: \"circle electric fast flash lightning spark thunderbolt\",\n  offline_pin: \"approve checkmark circle complete done ok select tick validate verified yes\",\n  offline_share: \"Android arrow cell connect device direction hardware iOS link mobile multiple phone right tablet\",\n  oil_barrel: \"droplet gasoline nest water\",\n  ondemand_video: \"Android chrome desktop device hardware iOS mac monitor play television tv web window\",\n  on_device_training: \"arrow bulb call cell contact hardware idea inprogress light loading mobile model refresh renew restore reverse rotate telephone\",\n  online_prediction: \"bulb connection idea light network signal wireless\",\n  opacity: \"color droplet hue inverted liquid palette tone water\",\n  open_in_browser: \"arrow box new up website window\",\n  open_in_full: \"action arrows expand grow move\",\n  open_in_new: \"application arrow box components interface screen ui ux website window\",\n  open_in_new_off: \"arrow box disabled enabled export on slash window\",\n  open_with: \"arrows directional expand move\",\n  other_houses: \"architecture cottage estate home maps place real residence residential stay traveling\",\n  outbound: \"arrow circle directional right up\",\n  outbox: \"mail send sent\",\n  outdoor_grill: \"barbecue barbeque bbq charcoal cooking home house outside\",\n  outlet: \"connecter electricity plug power\",\n  outlined_flag: \"country goal mark nation report start\",\n  padding: \"design layout margin size square\",\n  pages: \"article gplus paper post star\",\n  pageview: \"document find glass magnifying paper search\",\n  paid: \"circle currency money payment transaction\",\n  palette: \"art colors filters paint\",\n  panorama: \"angle image mountains photography picture view wide\",\n  panorama_fish_eye: \"angle circle image photography picture wide\",\n  panorama_horizontal: \"angle image photography picture wide\",\n  panorama_photosphere: \"angle horizontal image photography picture wide\",\n  panorama_vertical: \"angle image photography picture wide\",\n  panorama_wide_angle: \"image photography picture\",\n  pan_tool: \"drag fingers gesture hands human move scan stop touch wait\",\n  paragliding: \"athlete athletic body entertainment exercise fly hobby human parachute people person skydiving social sports travel\",\n  park: \"attraction fresh local nature outside plant tree\",\n  party_mode: \"camera lens photography picture\",\n  password: \"key login pin security star unlock\",\n  pattern: \"key login password pin security star unlock\",\n  pause: \"controls media music pending player status video wait\",\n  pause_circle: \"controls media music video\",\n  pause_circle_filled: \"controls media music pending status video wait\",\n  pause_circle_outline: \"controls media music pending status video wait\",\n  pause_presentation: \"application desktop device pending screen share slides status wait website window www\",\n  payment: \"bill cash charge coin commerce cost creditcard currency dollars finance financial information money online price shopping symbol\",\n  payments: \"bill card cash coin commerce cost credit currency dollars finance layer money multiple online price shopping symbol\",\n  pedal_bike: \"automobile bicycle cars direction human maps public route scooter transportation vehicle vespa\",\n  pending: \"circle dots loading progress waiting\",\n  pending_actions: \"clipboard clock date document remember schedule time\",\n  pentagon: \"five shape sides\",\n  people: \"accounts committee community face family friends group humans network persons profiles social team users\",\n  people_alt: \"accounts committee face family friends group humans network persons profiles social team users\",\n  people_outline: \"accounts committee face family friends group humans network persons profiles social team users\",\n  percent: \"math number symbol\",\n  perm_camera_mic: \"image microphone min photography picture speaker\",\n  perm_contact_calendar: \"account agenda date face human information people person profile schedule time user\",\n  perm_data_setting: \"cellular configure gear information network settings wifi wireless\",\n  perm_device_information: \"Android alert announcement cell hardware iOS important mobile phone tablet\",\n  perm_identity: \"account avatar face human information people person profile save, thumbnail user\",\n  perm_media: \"collection data directories document file folders images landscape mountains photography picture save storage\",\n  perm_phone_msg: \"bubble call cell chat comment communicate contact device message mobile recording save speech telephone voice\",\n  perm_scan_wifi: \"alert announcement connection information internet network service signal wireless\",\n  person: \"account avatar face human people profile user\",\n  person_add: \"+ account avatar face friend human new people plus profile symbol user\",\n  person_add_alt: \"+ account face human people plus profile user\",\n  person_add_disabled: \"+ account enabled face human new offline people plus profile slash symbol user\",\n  personal_video: \"Android cam chrome desktop device hardware iOS mac monitor television tv web window\",\n  person_off: \"account avatar disabled enabled face human people profile slash user\",\n  person_outline: \"account avatar face human people profile user\",\n  person_pin: \"account avatar destination direction face gps human location maps people place profile stop user\",\n  person_pin_circle: \"account destination direction face gps human location maps people place profile stop user\",\n  person_remove: \"account avatar delete face human minus people profile unfriend user\",\n  person_search: \"account avatar face find glass human look magnifying people profile user\",\n  pest_control: \"bug exterminator insects\",\n  pest_control_rodent: \"exterminator mice\",\n  pets: \"animal cat claw dog hand paw\",\n  phishing: \"fishing fraud hook scam\",\n  phone: \"call cell chat contact device hardware mobile telephone text\",\n  phone_android: \"cell device hardware iOS mobile tablet\",\n  phone_bluetooth_speaker: \"call cell connection connectivity contact device hardware mobile signal symbol telephone wireless\",\n  phone_callback: \"arrow cell contact device down hardware mobile telephone\",\n  phone_disabled: \"call cell contact device enabled hardware mobile offline slash telephone\",\n  phone_enabled: \"call cell contact device hardware mobile telephone\",\n  phone_forwarded: \"arrow call cell contact device direction hardware mobile right telephone\",\n  phone_iphone: \"Android apple cell device hardware iOS mobile tablet\",\n  phonelink: \"Android chrome computer connect desktop device hardware iOS mac mobile sync tablet web windows\",\n  phonelink_erase: \"Android cancel cell close connection device exit hardware iOS mobile no remove stop tablet\",\n  phonelink_lock: \"Android cell connection device erase hardware iOS locked mobile password privacy private protection safety secure security tablet\",\n  phonelink_off: \"Android chrome computer connect desktop device disabled enabled hardware iOS mac mobile slash sync tablet web windows\",\n  phonelink_ring: \"Android cell connection data device hardware iOS mobile network service signal tablet wireless\",\n  phonelink_setup: \"Android call chat device hardware iOS information mobile settings tablet text\",\n  phone_locked: \"call cell contact device hardware mobile password privacy private protection safety secure security telephone\",\n  phone_missed: \"arrow call cell contact device hardware mobile telephone\",\n  phone_paused: \"call cell contact device hardware mobile telephone wait\",\n  photo: \"image mountains photography picture\",\n  photo_album: \"archive bookmark image label library mountains photography picture ribbon save tag\",\n  photo_camera: \"image photography picture\",\n  photo_camera_back: \"image landscape mountains photography picture rear\",\n  photo_camera_front: \"account face human image people person photography picture portrait profile user\",\n  photo_filter: \"filters image photography picture stars\",\n  photo_library: \"album image mountains photography picture\",\n  photo_size_select_actual: \"image mountains photography picture\",\n  photo_size_select_large: \"adjust album editing image library mountains photography picture\",\n  photo_size_select_small: \"adjust album editing image large library mountains photography picture\",\n  php: \"alphabet brackets character code css developer engineering font html letter platform symbol text type\",\n  piano: \"instrument keyboard keys musical social\",\n  piano_off: \"disabled enabled instrument keyboard keys musical on slash social\",\n  picture_as_pdf: \"alphabet character document file font image letter multiple photography symbol text type\",\n  picture_in_picture: \"cropped overlap photo position shape\",\n  picture_in_picture_alt: \"cropped overlap photo position shape\",\n  pie_chart: \"analytics bars data diagram infographic measure metrics statistics tracking\",\n  pie_chart_outline: \"analytics bars data diagram infographic measure metrics statistics tracking\",\n  pin: \"1 2 3 digit key login logout number password pattern security star symbol unlock\",\n  pinch: \"arrows compress direction finger grasp hand navigation nip squeeze tweak\",\n  pin_drop: \"destination direction gps location maps navigation place stop\",\n  pivot_table_chart: \"analytics arrows bars data diagram direction drive editing grid infographic measure metrics rotate sheet statistics tracking\",\n  place: \"destination direction location maps navigation pin point stop\",\n  plagiarism: \"document find glass look magnifying page paper search see\",\n  play_arrow: \"controls media music player start video\",\n  play_circle: \"arrow controls media music video\",\n  play_disabled: \"controls enabled media music off slash video\",\n  play_for_work: \"arrow circle down google half\",\n  play_lesson: \"audio bookmark digital ebook lesson multimedia play reading ribbon\",\n  playlist_add: \"+ collection music new plus symbol task todo\",\n  playlist_add_check: \"approve checkmark collection complete done music ok select task tick todo validate verified yes\",\n  playlist_add_check_circle: \"album artist audio cd collection mark music record sound track\",\n  playlist_add_circle: \"album artist audio cd check collection mark music record sound track\",\n  playlist_play: \"arow arrow collection music\",\n  playlist_remove: \"- collection minus music\",\n  plumbing: \"build construction fix handyman repair tools wrench\",\n  plus_one: \"1 add digit increase number symbol\",\n  podcasts: \"broadcast casting network signal transmitting wireless\",\n  point_of_sale: \"checkout cost machine merchant money payment pos retail system transaction\",\n  policy: \"certified find glass legal look magnifying privacy private protection search security see shield verified\",\n  poll: \"analytics barchart bars data diagram infographic measure metrics statistics survey tracking vote\",\n  pool: \"athlete athletic beach body entertainment exercise hobby human ocean people person places sea sports swimming water\",\n  portable_wifi_off: \"connected connection data device disabled enabled internet network offline service signal slash usage wireless\",\n  portrait: \"account face human people person photo picture profile user\",\n  post_add: \"+ data document drive file folders item page paper plus sheet slide text writing\",\n  power: \"charge cord electrical online outlet plug socket\",\n  power_input: \"dc lines supply\",\n  power_off: \"charge cord disabled electrical enabled on outlet plug slash\",\n  power_settings_new: \"information off save shutdown\",\n  precision_manufacturing: \"arm automatic chain conveyor crane factory industry machinery mechanical production repairing robot supply warehouse\",\n  pregnant_woman: \"baby birth body female human lady maternity mom mother people person user women\",\n  present_to_all: \"arrow presentation screen share slides website\",\n  preview: \"design eye layout reveal screen see show website window www\",\n  price_change: \"arrows bill card cash coin commerce cost credit currency dollars down finance money online payment shopping symbol up\",\n  price_check: \"approve bill card cash coin commerce complete cost credit currency dollars done finance mark money ok online payment select shopping symbol tick validate verified yes\",\n  print: \"draft fax ink machine office paper printer send\",\n  print_disabled: \"enabled off on paper printer slash\",\n  priority_high: \"! alert attention caution danger error exclamation important mark notification symbol warning\",\n  privacy_tip: \"alert announcement announcment assistance certified details help information private protection security service shield support verified\",\n  production_quantity_limits: \"! alert attention bill card cart cash caution coin commerce credit currency danger dollars error exclamation important mark money notification online payment shopping symbol warning\",\n  propane: \"gas nest\",\n  propane_tank: \"bbq gas grill nest\",\n  psychology: \"behavior body brain cognitive function gear head human intellectual mental mind people person preferences psychiatric science settings social therapy thinking thoughts\",\n  public: \"country earth global globe language map network planet social space web world\",\n  public_off: \"disabled earth enabled global globe map network on planet slash social space web world\",\n  publish: \"arrow cloud file import submit upload\",\n  published_with_changes: \"approve arrows check complete done inprogress loading mark ok refresh renew replace rotate select tick validate verified yes\",\n  push_pin: \"location marker place remember save\",\n  qr_code: \"barcode camera media product quick response smartphone urls\",\n  qr_code_2: \"barcode camera media product quick response smartphone urls\",\n  qr_code_scanner: \"barcode camera media product quick response smartphone urls\",\n  query_builder: \"clock date hour minute save schedule time\",\n  query_stats: \"analytics chart data diagram find glass infographic line look magnifying measure metrics search see statistics tracking\",\n  question_answer: \"bubble chat comment communicate conversation converse feedback message speech talk\",\n  question_mark: \"? assistance help information mark punctuation question support symbol\",\n  queue: \"add collection layers multiple music playlist stack stream video\",\n  queue_music: \"add collection playlist stream\",\n  queue_play_next: \"+ add arrow collection desktop device display hardware monitor music new playlist plus screen steam symbol tv video\",\n  quickreply: \"bubble chat comment communicate fast lightning message speech thunderbolt\",\n  quiz: \"? assistance faq help information mark punctuation question support symbol test\",\n  radar: \"detect military near network position scan\",\n  radio: \"antenna audio device frequency hardware listen media music player signal tune\",\n  radio_button_checked: \"application bullet circle components design form interface off point record screen selected toggle ui ux website\",\n  radio_button_unchecked: \"bullet circle deselected form off point record toggle\",\n  railway_alert: \"! attention automobile bike cars caution danger direction error exclamation important maps mark notification public scooter subway symbol train transportation vehicle vespa warning\",\n  ramen_dining: \"breakfast dinner drink fastfood lunch meal noodles restaurant\",\n  ramp_left: \"arrows directions maps navigation path route sign traffic\",\n  ramp_right: \"arrows directions maps navigation path route sign traffic\",\n  rate_review: \"chat comment feedback message pencil stars write\",\n  raw_off: \"alphabet character disabled enabled font image letter original photography slash symbol text type\",\n  raw_on: \"alphabet character disabled enabled font image letter off original photography slash symbol text type\",\n  read_more: \"arrow text\",\n  receipt: \"bill credit invoice paper payment sale transaction\",\n  receipt_long: \"bill check document list paperwork record store transaction\",\n  recent_actors: \"account avatar cards carousel contacts face human layers list people person profile thumbnail user\",\n  recommend: \"approved circle confirm favorite gesture hand like reaction social support thumbs well\",\n  record_voice_over: \"account face human people person profile recording sound speaking speech transcript user\",\n  rectangle: \"four parallelograms polygons quadrilaterals recangle shape sides\",\n  redeem: \"bill cart cash certificate coin commerce credit currency dollars giftcard money online payment present shopping\",\n  redo: \"arrow backward forward next repeat rotate undo\",\n  reduce_capacity: \"arrow body covid decrease down human people person social\",\n  refresh: \"around arrows direction inprogress loading navigation refresh renew right rotate turn\",\n  remember_me: \"Android avatar device hardware human iOS identity mobile people person phone profile tablet user\",\n  remove: \"can delete line minus negative substract subtract trash\",\n  remove_circle: \"allowed banned block can delete disable minus negative not substract trash\",\n  remove_circle_outline: \"allowed banned block can delete disable minus negative not substract trash\",\n  remove_done: \"approve check complete disabled enabled finished mark multiple off ok select slash tick yes\",\n  remove_from_queue: \"collection desktop device display hardware list monitor screen steam television\",\n  remove_moderator: \"certified disabled enabled off privacy private protection security shield slash verified\",\n  remove_red_eye: \"iris looking preview see sight vision\",\n  remove_road: \"- cancel close destination direction exit highway maps minus new no stop street symbol traffic\",\n  remove_shopping_cart: \"card cash checkout coin commerce credit currency disabled dollars enabled off online payment slash tick\",\n  reorder: \"format lines list stacked\",\n  repeat: \"arrows controls media music video\",\n  repeat_on: \"arrows controls media music video\",\n  repeat_one: \"1 arrows controls digit media music number symbol video\",\n  repeat_one_on: \"arrows controls digit media music number symbol video\",\n  replay: \"arrows controls music refresh reload renew repeat retry rewind undo video\",\n  replay_10: \"arrows controls digit music number refresh renew repeat rewind symbol ten video\",\n  replay_30: \"arrows controls digit music number refresh renew repeat rewind symbol thirty video\",\n  replay_5: \"arrows controls digit five music number refresh renew repeat rewind symbol video\",\n  replay_circle_filled: \"arrows controls music refresh renew repeat video\",\n  reply: \"arrow backward left mail message send share\",\n  reply_all: \"arrows backward group left mail message multiple send share\",\n  report: \"! alert attention caution danger error exclamation important mark notification octagon symbol warning\",\n  report_gmailerrorred: \"! alert attention caution danger exclamation important mark notification octagon symbol warning\",\n  report_off: \"! alert attention caution danger disabled enabled error exclamation important mark notification octagon offline slash symbol warning\",\n  report_problem: \"! alert announcement attention caution danger error exclamation feedback important mark notification symbol triangle warning\",\n  request_quote: \"bill card cash coin commerce cost credit currency dollars finance money online payment price shopping symbol\",\n  reset_tv: \"arrow device hardware monitor television\",\n  restart_alt: \"around arrow inprogress loading reboot refresh renew repeat reset\",\n  restaurant: \"breakfast cutlery dining dinner eat food fork knife local lunch meal places spoon utensils\",\n  restaurant_menu: \"book dining eat food fork knife local meal spoon\",\n  restore: \"arrow backwards clock date history refresh renew reverse rotate schedule time turn undo\",\n  restore_from_trash: \"arrow backwards can clock date delete garbage history refresh remove renew reverse rotate schedule time turn up\",\n  restore_page: \"arrow data doc file history paper refresh rotate sheet storage undo web\",\n  reviews: \"bubble chat comment communicate feedback message rate rating recommendation speech\",\n  rice_bowl: \"dinner food lunch meal restaurant\",\n  ring_volume: \"calling cell contact device hardware incoming mobile ringer sound telephone\",\n  r_mobiledata: \"alphabet character font letter symbol text type\",\n  rocket: \"spaceship\",\n  rocket_launch: \"spaceship takeoff\",\n  roller_shades: \"blinds cover curtains nest open shutter sunshade\",\n  roller_shades_closed: \"blinds cover curtains nest shutter sunshade\",\n  roofing: \"architecture building chimney construction estate home house real residence residential service shelter\",\n  room: \"destination direction gps location maps marker pin place spot stop\",\n  room_preferences: \"building doorway entrance gear home house interior office open settings\",\n  room_service: \"alert bell concierge delivery hotel notify\",\n  rotate_90_degrees_ccw: \"arrows direction editing image photo turn\",\n  rotate_90_degrees_cw: \"arrows ccw direction editing image photo turn\",\n  rotate_left: \"around arrow circle direction inprogress loading refresh reload renew reset turn\",\n  rotate_right: \"around arrow circle direction inprogress loading refresh renew turn\",\n  roundabout_left: \"arrows directions maps navigation path route sign traffic\",\n  roundabout_right: \"arrows directions maps navigation path route sign traffic\",\n  rounded_corner: \"adjust edit shape square transform\",\n  route: \"directions maps path sign traffic\",\n  router: \"box cable connection device hardware internet network signal wifi\",\n  rowing: \"activity boat body canoe human people person sports water\",\n  rss_feed: \"application blog connection data internet network service signal website wifi wireless\",\n  rsvp: \"alphabet character font invitation invite letter plat respond rpondez sil symbol text type vous\",\n  rtt: \"call real rrt text time\",\n  rule: \"approve check done incomplete line mark missing no ok select tick validate verified wrong x yes\",\n  rule_folder: \"approve cancel check close complete data document done drive exit file mark no ok remove select sheet slide storage tick validate verified yes\",\n  run_circle: \"body exercise human people person running\",\n  running_with_errors: \"! alert attention caution danger duration exclamation important mark notification processing symbol time warning\",\n  rv_hookup: \"arrow attach automobile automotive back cars connect direction left maps public right trailer transportation travel truck van vehicle\",\n  safety_divider: \"apart distance separate social space\",\n  sailing: \"entertainment fishing hobby ocean sailboat sea social sports travel water\",\n  sanitizer: \"bacteria bottle clean covid disinfect germs pump\",\n  satellite: \"bluetooth connection connectivity data device image internet landscape location maps mountains network photography picture scan service signal symbol wifi wireless--\",\n  satellite_alt: \"alternative artificial communication space station television\",\n  save: \"data diskette document drive file floppy multimedia storage write\",\n  save_alt: \"arrow diskette document down file floppy multimedia write\",\n  save_as: \"compose create data disk document draft drive editing file floppy input multimedia pencil storage write writing\",\n  saved_search: \"find glass important look magnifying marked see star\",\n  savings: \"bank bill card cash coin commerce cost credit currency dollars finance money online payment piggy symbol\",\n  scale: \"measure monitor weight\",\n  scanner: \"copy device hardware machine\",\n  scatter_plot: \"analytics bars chart circles data diagram dot infographic measure metrics statistics tracking\",\n  schedule: \"calendar clock date mark save time\",\n  schedule_send: \"calendar clock date email letter remember share time\",\n  schema: \"analytics chart data diagram flow infographic measure metrics statistics tracking\",\n  school: \"academy achievement cap class college education graduation hat knowledge learning university\",\n  science: \"beaker chemical chemistry experiment flask glass laboratory research tube\",\n  score: \"2k alphabet analytics bars character chart data diagram digit font infographic letter measure metrics number statistics symbol text tracking type\",\n  screen_lock_landscape: \"Android device hardware iOS mobile phone rotate security tablet\",\n  screen_lock_portrait: \"Android device hardware iOS mobile phone rotate security tablet\",\n  screen_lock_rotation: \"Android arrow device hardware iOS mobile phone rotate tablet turn\",\n  screen_rotation: \"Android arrow device hardware iOS mobile phone rotate tablet turn\",\n  screen_search_desktop: \"Android arrow device hardware iOS lock monitor rotate web\",\n  screen_share: \"Android arrow cast chrome device display hardware iOS laptop mac mirror monitor steam streaming web window\",\n  screenshot: \"Android cell crop device hardware iOS mobile phone tablet\",\n  screenshot_monitor: \"Android chrome desktop device display hardware iOS mac screengrab web window\",\n  sd: \"alphabet camera card character data device digital drive flash font image letter memory photo secure symbol text type\",\n  sd_card: \"camera digital memory photos secure storage\",\n  sd_card_alert: \"! attention camera caution danger digital error exclamation important mark memory notification photos secure storage symbol warning\",\n  sd_storage: \"camera card data digital memory microsd secure\",\n  search: \"filter find glass look magnifying see up\",\n  search_off: \"cancel close disabled enabled find glass look magnifying on see slash stop x\",\n  security: \"certified privacy private protection shield verified\",\n  security_update: \"Android arrow device download hardware iOS mobile phone tablet\",\n  security_update_good: \"Android checkmark device hardware iOS mobile ok phone tablet tick\",\n  security_update_warning: \"! Android alert attention caution danger device download error exclamation hardware iOS important mark mobile notification phone symbol tablet\",\n  segment: \"alignment fonts format lines list paragraph part piece rules style text\",\n  select_all: \"selection square tool\",\n  self_improvement: \"body calm care chi human meditate meditation people person relax sitting wellbeing yoga zen\",\n  sell: \"bill card cart cash coin commerce credit currency dollars money online payment price shopping tag\",\n  send: \"chat email message paper plane reply right share telegram\",\n  send_and_archive: \"arrow download email letter save share\",\n  send_time_extension: \"deliver dispatch envelop mail message schedule\",\n  send_to_mobile: \"Android arrow device export forward hardware iOS phone right share tablet\",\n  sensors: \"connection network scan signal wireless\",\n  sensors_off: \"connection disabled enabled network scan signal slash wireless\",\n  sentiment_dissatisfied: \"angry disappointed dislike emoji emoticon emotions expressions face feelings frown mood person sad smiley survey unhappy unsatisfied upset\",\n  sentiment_neutral: \"emotionless emotions expressions face feelings indifference mood okay person survey\",\n  sentiment_satisfied: \"emoji emoticon emotions expressions face feelings glad happiness happy like mood person pleased smiley smiling survey\",\n  sentiment_satisfied_alt: \"account emoji face happy human people person profile smile user\",\n  sentiment_very_dissatisfied: \"angry disappointed dislike emoji emoticon emotions expressions face feelings mood person sad smiley sorrow survey unhappy unsatisfied upset\",\n  sentiment_very_satisfied: \"emoji emoticon emotions expressions face feelings glad happiness happy like mood person pleased smiley smiling survey\",\n  set_meal: \"chopsticks dinner fish food lunch restaurant teishoku\",\n  settings: \"application change details gear information options personal service\",\n  settings_accessibility: \"body details human information people personal preferences profile user\",\n  settings_applications: \"change details gear information options personal save service\",\n  settings_backup_restore: \"arrow backwards history refresh reverse rotate time undo\",\n  settings_bluetooth: \"connection connectivity device network signal symbol wifi\",\n  settings_brightness: \"dark filter light mode sun\",\n  settings_cell: \"Android cellphone device hardware iOS mobile tablet\",\n  settings_ethernet: \"arrows brackets computer connection connectivity dots internet network parenthesis wifi\",\n  settings_input_antenna: \"airplay arrows computer connection connectivity dots internet network screencast stream wifi wireless\",\n  settings_input_component: \"audio av cables connection connectivity internet plugs points video wifi\",\n  settings_input_composite: \"cable component connection connectivity plugs points\",\n  settings_input_hdmi: \"cable connection connectivity definition high plugin points video wire\",\n  settings_input_svideo: \"cable connection connectivity definition plugin plugs points standard svideo,\",\n  settings_overscan: \"arrows expand image photo picture\",\n  settings_phone: \"call cell contact device hardware mobile telephone\",\n  settings_power: \"information off save shutdown\",\n  settings_remote: \"bluetooth connection connectivity control device signal wifi wireless\",\n  settings_suggest: \"change details gear options recommendation service suggestion system\",\n  settings_system_daydream: \"backup cloud drive storage\",\n  settings_voice: \"microphone recorder speaker\",\n  share: \"android connect contect link multimedia multiple network options send shared sharing social\",\n  share_location: \"destination direction gps maps pin place stop tracking\",\n  shield: \"certified privacy private protection secure security verified\",\n  shop: \"arrow bag bill briefcase buy card cart cash coin commerce credit currency dollars google money online payment play purchase shopping store\",\n  shop_2: \"add arrow buy cart google play purchase shopping\",\n  shopping_bag: \"bill business buy card cart cash coin commerce credit currency dollars money online payment storefront\",\n  shopping_basket: \"add bill buy card cart cash checkout coin commerce credit currency dollars money online payment purchase\",\n  shopping_cart: \"add bill buy card cash checkout coin commerce credit currency dollars money online payment purchase\",\n  shopping_cart_checkout: \"arrow cash coin commerce currency dollars money online payment right\",\n  shop_two: \"add arrow briefcase buy cart google play purchase shopping\",\n  shortcut: \"arrow direction forward right\",\n  short_text: \"brief comment document lines note write writing\",\n  show_chart: \"analytics bars chart data diagram infographic line measure metrics presentation show statistics stock tracking\",\n  shower: \"bathroom closet home house place plumbing sprinkler wash water wc\",\n  shuffle: \"arrows controls music random video\",\n  shuffle_on: \"arrows controls music random video\",\n  shutter_speed: \"aperture camera duration image lens photography photos picture setting stop timer watch\",\n  sick: \"covid discomfort emotions expressions face feelings fever flu ill mood pain person survey upset\",\n  signal_cellular_0_bar: \"data internet mobile network phone speed wifi wireless\",\n  signal_cellular_4_bar: \"data internet mobile network phone speed wifi wireless\",\n  signal_cellular_alt: \"analytics bar chart data diagram infographic internet measure metrics mobile network phone statistics tracking wifi wireless\",\n  signal_cellular_connected_no_internet_0_bar: \"! alert attention caution danger data error exclamation important mark mobile network notification phone symbol warning wifi wireless\",\n  signal_cellular_connected_no_internet_4_bar: \"! alert attention caution danger data error exclamation important mark mobile network notification phone symbol warning wifi wireless\",\n  signal_cellular_nodata: \"internet mobile network offline phone quit wifi wireless x\",\n  signal_cellular_no_sim: \"camera card chip device disabled enabled memory network offline phone slash storage\",\n  signal_cellular_null: \"data internet mobile network phone wifi wireless\",\n  signal_cellular_off: \"data disabled enabled internet mobile network offline phone slash wifi wireless\",\n  signal_wifi_bad: \"bar cancel cellular close data exit internet mobile network no phone quit remove stop wireless\",\n  signal_wifi_off: \"cellular data disabled enabled internet mobile network phone slash speed wireless\",\n  signal_wifi_statusbar_null: \"cellular data internet mobile network phone speed wireless\",\n  signpost: \"arrow direction left maps right signal signs street traffic\",\n  sim_card: \"camera chip device memory network phone storage\",\n  sim_card_alert: \"! attention camera caution danger digital error exclamation important mark memory notification photos sd secure storage symbol warning\",\n  sim_card_download: \"arrow camera chip device memory phone storage\",\n  single_bed: \"bedroom double furniture home hotel house king night pillows queen rest sleep twin\",\n  sip: \"alphabet call character dialer font initiation internet letter over phone protocol routing session symbol text type voice\",\n  skateboarding: \"athlete athletic body entertainment exercise hobby human people person skateboarder social sports\",\n  skip_next: \"arrow back controls forward music play previous transport video\",\n  skip_previous: \"arrow backward controls forward music next play transport video\",\n  sledding: \"athlete athletic body entertainment exercise hobby human people person sledge snow social sports travel winter\",\n  slideshow: \"movie photos play presentation square video view\",\n  slow_motion_video: \"arrow circle controls music play speed time\",\n  smart_button: \"action auto components composer function interface special stars ui ux website\",\n  smart_display: \"airplay chrome connect device screencast stream television tv video wireless\",\n  smartphone: \"Android call cell chat device hardware iOS mobile tablet text\",\n  smart_screen: \"Android airplay cell connect device hardware iOS mobile phone screencast stream tablet video\",\n  smart_toy: \"games robot\",\n  smoke_free: \"cigarette disabled enabled never no off places prohibited slash smoking tobacco warning zone\",\n  smoking_rooms: \"allowed cigarette places smoke tobacco zone\",\n  sms: \"3 bubble chat comment communication conversation dots message more service speech three\",\n  sms_failed: \"! alert attention bubbles caution chat comment communication conversation danger error exclamation important mark message notification service speech symbol warning\",\n  snippet_folder: \"data document drive file sheet slide storage\",\n  snooze: \"alarm bell clock duration notification set timer watch\",\n  snowboarding: \"athlete athletic body entertainment exercise hobby human people person social sports travel winter\",\n  snowmobile: \"automobile car direction skimobile social sports transportation travel vehicle winter\",\n  snowshoeing: \"body human people person sports travel walking winter\",\n  soap: \"bathroom clean fingers gesture hand wash wc\",\n  social_distance: \"6 apart body ft human people person space\",\n  solar_power: \"eco energy heat nest sunny\",\n  sort: \"filter find lines list organize\",\n  sort_by_alpha: \"alphabetize az by character font letters list order organize symbol text type\",\n  soup_kitchen: \"breakfast brunch dining food lunch meal\",\n  source: \"code composer content creation data document file folder mode storage view\",\n  south: \"arrow directional down maps navigation\",\n  south_america: \"america continent landscape place region south\",\n  south_east: \"arrow directional down maps navigation right\",\n  south_west: \"arrow directional down left maps navigation\",\n  spa: \"aromatherapy flower healthcare leaf massage meditation nature petals places relax wellbeing wellness\",\n  space_bar: \"keyboard line\",\n  speaker: \"audio box electronic loud music sound stereo system video\",\n  speaker_group: \"audio box electronic loud multiple music sound stereo system video\",\n  speaker_notes: \"bubble cards chat comment communicate format list message speech text\",\n  speaker_notes_off: \"bubble cards chat comment communicate disabled enabled format list message on slash speech text\",\n  speaker_phone: \"Android cell device hardware iOS mobile sound tablet volume\",\n  speed: \"arrow clock controls dial fast gauge measure motion music slow speedometer test velocity video\",\n  spellcheck: \"alphabet approve character checkmark edit font letter ok processor select symbol text tick type word write yes\",\n  splitscreen: \"grid layout multitasking two\",\n  spoke: \"connection network radius\",\n  sports: \"athlete athletic basketball blowing coach entertainment exercise game hobby instrument live referee soccer social sound trophy warning whistle\",\n  sports_bar: \"alcohol beer drink liquor pint places pub\",\n  sports_baseball: \"athlete athletic entertainment exercise game hobby social\",\n  sports_basketball: \"athlete athletic entertainment exercise game hobby social\",\n  sports_cricket: \"athlete athletic ball bat entertainment exercise game hobby social\",\n  sports_esports: \"controller entertainment gamepad gaming hobby online playstation social video xbox\",\n  sports_football: \"american athlete athletic entertainment exercise game hobby social\",\n  sports_golf: \"athlete athletic ball club entertainment exercise game golfer golfing hobby social\",\n  sports_handball: \"athlete athletic body entertainment exercise game hobby human people person social\",\n  sports_hockey: \"athlete athletic entertainment exercise game hobby ice social sticks\",\n  sports_kabaddi: \"athlete athletic body combat entertainment exercise fighting game hobby human judo martial people person social wrestle wrestling\",\n  sports_martial_arts: \"athlete athletic entertainment exercise hobby human karate people person social\",\n  sports_mma: \"arts athlete athletic boxing combat entertainment exercise fighting game glove hobby martial mixed social\",\n  sports_motorsports: \"athlete athletic automobile bike drive driving entertainment helmet hobby motorcycle protect social vehicle\",\n  sports_rugby: \"athlete athletic ball entertainment exercise game hobby social\",\n  sports_score: \"destination flag goal\",\n  sports_soccer: \"athlete athletic entertainment exercise football game hobby social\",\n  sports_tennis: \"athlete athletic ball bat entertainment exercise game hobby racket social\",\n  sports_volleyball: \"athlete athletic entertainment exercise game hobby social\",\n  square: \"draw four quadrangle shape sides\",\n  square_foot: \"construction feet inches length measurement ruler school set tools\",\n  ssid_chart: \"graph lines network wifi\",\n  stacked_bar_chart: \"analytics chart-chart data diagram infographic measure metrics statistics tracking\",\n  stacked_line_chart: \"analytics data diagram infographic measure metrics statistics tracking\",\n  stadium: \"activity amphitheater arena coliseum event local star things ticket\",\n  stairs: \"down staircase up\",\n  star: \"best bookmark favorite highlight ranking rate rating save toggle\",\n  star_border: \"best bookmark favorite highlight outline ranking rate rating save toggle\",\n  star_half: \"0.5 1/2 achievement bookmark favorite highlight important marked ranking rate rating reward saved shape special toggle\",\n  star_outline: \"bookmark favorite half highlight ranking rate rating save toggle\",\n  star_rate: \"achievement bookmark favorite highlight important marked ranking rating reward saved shape special\",\n  stars: \"achievement bookmark circle favorite highlight important like love marked ranking rate rating reward saved shape special\",\n  start: \"arrow keyboard next right\",\n  stay_current_landscape: \"Android device hardware iOS mobile phone tablet\",\n  stay_current_portrait: \"Android device hardware iOS mobile phone tablet\",\n  stay_primary_landscape: \"Android current device hardware iOS mobile phone tablet\",\n  stay_primary_portrait: \"Android current device hardware iOS mobile phone tablet\",\n  sticky_note_2: \"bookmark message paper text writing\",\n  stop: \"arrow controls music pause player square video\",\n  stop_circle: \"controls music pause play square video\",\n  stop_screen_share: \"Android arrow cast chrome device disabled display enabled hardware iOS laptop mac mirror monitor offline slash steam streaming web window\",\n  storage: \"computer database drive memory network server\",\n  store: \"bill building business buy card cash coin company credit currency dollars e-commerce market money online payment purchase shopping storefront\",\n  storefront: \"business buy cafe commerce market merchant places restaurant retail sell shopping stall\",\n  store_mall_directory: \"building\",\n  storm: \"forecast hurricane temperature twister weather wind\",\n  straight: \"arrows directions maps navigation path route sign traffic up\",\n  straighten: \"length measurement piano ruler size\",\n  stream: \"cast connected feed live network signal wireless\",\n  streetview: \"gps location maps\",\n  strikethrough_s: \"alphabet character cross doc editing editor font letter out spreadsheet styles symbol text type writing\",\n  stroller: \"baby care carriage children infant kid newborn toddler young\",\n  style: \"booklet cards filters options tags\",\n  subdirectory_arrow_left: \"arrow down navigation\",\n  subdirectory_arrow_right: \"arrow down navigation\",\n  subject: \"alignment document email full justify lines list note text writing\",\n  subscript: \"2 doc editing editor gmail novitas spreadsheet style symbol text writing\",\n  subscriptions: \"enroll media order playlist queue signup subscribe youtube\",\n  subtitles: \"accessibility accessible captions character closed decoder language media movies translate tv\",\n  subtitles_off: \"accessibility accessible caption closed disabled enabled language slash translate video\",\n  subway: \"automobile bike cars maps metro rail scooter train transportation travel tunnel underground vehicle vespa\",\n  summarize: \"document list menu note report summary\",\n  superscript: \"2 doc editing editor gmail novitas spreadsheet style symbol text writing\",\n  supervised_user_circle: \"account avatar control face human parental parents people person profile supervisor\",\n  supervisor_account: \"administrator avatar control face human parental parents people person profile supervised user\",\n  support: \"assist help lifebuoy rescue safety\",\n  support_agent: \"care customer face headphone person representative service\",\n  surfing: \"athlete athletic beach body entertainment exercise hobby human people person sea social sports summer water\",\n  surround_sound: \"audio circle signal speaker system volume volumn wireless\",\n  swap_calls: \"arrows device direction mobile share\",\n  swap_horiz: \"arrows back direction forward horizontal\",\n  swap_horizontal_circle: \"arrows back direction forward\",\n  swap_vert: \"arrows back direction down navigation up vertical\",\n  swap_vertical_circle: \"arrows back direction down horizontal up\",\n  swipe: \"arrows fingers gesture hands touch\",\n  swipe_down: \"arrows direction disable enable finger hands hit navigation strike swing swpie take\",\n  swipe_down_alt: \"arrows direction disable enable finger hands hit navigation strike swing swpie take\",\n  swipe_left: \"arrows finger hand hit navigation reject strike swing take\",\n  swipe_left_alt: \"arrows finger hand hit navigation reject strike swing take\",\n  swipe_right: \"accept arrows direction finger hands hit navigation strike swing swpie take\",\n  swipe_right_alt: \"accept arrows direction finger hands hit navigation strike swing swpie take\",\n  swipe_up: \"arrows direction disable enable finger hands hit navigation strike swing swpie take\",\n  swipe_up_alt: \"arrows direction disable enable finger hands hit navigation strike swing swpie take\",\n  swipe_vertical: \"arrows direction finger hands hit navigation strike swing swpie take verticle\",\n  switch_access_shortcut: \"arrows direction navigation new north star symbol up\",\n  switch_access_shortcut_add: \"+ arrows direction navigation new north plus star symbol up\",\n  switch_account: \"choices face human multiple options people person profile social user\",\n  switch_camera: \"arrows photography picture\",\n  switch_left: \"arrows directional navigation toggle\",\n  switch_right: \"arrows directional navigation toggle\",\n  switch_video: \"arrows camera photography videos\",\n  sync: \"360 around arrows direction inprogress loading refresh renew rotate turn\",\n  sync_alt: \"arrows horizontal internet technology update wifi\",\n  sync_disabled: \"360 around arrows direction enabled inprogress loading off refresh renew rotate slash turn\",\n  sync_lock: \"around arrows locked password privacy private protection renew rotate safety secure security turn\",\n  sync_problem: \"! 360 alert around arrows attention caution danger direction error exclamation important inprogress loading mark notification refresh renew rotate symbol turn warning\",\n  system_security_update: \"Android arrow cell device down hardware iOS mobile phone tablet\",\n  system_security_update_good: \"Android approve cell check complete device done hardware iOS mark mobile ok phone select tablet tick validate verified yes\",\n  system_security_update_warning: \"! Android alert attention caution cell danger device error exclamation hardware iOS important mark mobile notification phone symbol tablet\",\n  system_update: \"Android arrows cell device direction download hardware iOS install mobile phone tablet\",\n  system_update_alt: \"arrow download export\",\n  tab: \"browser computer documents folder internet tabs website windows\",\n  table_chart: \"analytics bars data diagram grid infographic measure metrics statistics tracking\",\n  table_rows: \"grid layout lines stacked\",\n  tablet: \"Android device hardware iOS ipad mobile web\",\n  tablet_android: \"device hardware iOS ipad mobile web\",\n  tablet_mac: \"Android apple device hardware iOS ipad mac mobile tablet web\",\n  table_view: \"format grid group layout multiple\",\n  tab_unselected: \"browser computer documents folder internet tabs website windows\",\n  tag: \"hashtag key media number pound social trend\",\n  tag_faces: \"emoji emotion happy satisfied smile\",\n  takeout_dining: \"box container delivery food meal restaurant\",\n  tap_and_play: \"Android cell connection device hardware iOS internet mobile network nfc phone signal tablet to wifi wireless\",\n  tapas: \"appetizer brunch dinner food lunch restaurant snack\",\n  task: \"approve check complete data document done drive file folders mark ok page paper select sheet slide tick validate verified writing yes\",\n  task_alt: \"approve check circle complete done mark ok select tick validate verified yes\",\n  taxi_alert: \"! attention automobile cab cars caution danger direction error exclamation important lyft maps mark notification public symbol transportation uber vehicle warning yellow\",\n  terminal: \"application code emulator program software\",\n  terrain: \"geography landscape mountain\",\n  text_decrease: \"- alphabet character font letter minus remove resize subtract symbol type\",\n  text_fields: \"T add alphabet character font input letter symbol type\",\n  text_format: \"A alphabet character font letter square style symbol type\",\n  text_increase: \"+ add alphabet character font letter new plus resize symbol type\",\n  text_rotate_up: \"A alphabet arrow character field font letter move symbol type\",\n  text_rotate_vertical: \"A alphabet arrow character down field font letter move symbol type verticle\",\n  text_rotation_angledown: \"A alphabet arrow character field font letter move rotate symbol type\",\n  text_rotation_angleup: \"A alphabet arrow character field font letter move rotate symbol type\",\n  text_rotation_down: \"A alphabet arrow character field font letter move rotate symbol type\",\n  text_rotation_none: \"A alphabet arrow character field font letter move rotate symbol type\",\n  textsms: \"bubble chat comment communicate dots feedback message speech\",\n  text_snippet: \"data document file notes storage writing\",\n  texture: \"diagonal lines pattern stripes\",\n  theater_comedy: \"broadway event movie musical places show standup tour watch\",\n  theaters: \"film media movies photography showtimes video watch\",\n  thermostat: \"forecast temperature weather\",\n  thermostat_auto: \"A celsius fahrenheit temperature thermometer\",\n  thumb_down: \"dislike downvote favorite fingers gesture hands ranking rate rating reject up\",\n  thumb_down_alt: \"bad decline disapprove dislike feedback hand hate negative no reject social veto vote\",\n  thumb_down_off_alt: \"bad decline disapprove dislike favorite feedback filled fingers gesture hands hate negative no ranking rate rating reject sad social veto vote\",\n  thumbs_up_down: \"dislike favorite fingers gesture hands rate rating vote\",\n  thumb_up: \"approve dislike down favorite fingers gesture hands ranking rate rating success upvote\",\n  thumb_up_alt: \"agreed approved confirm correct favorite feedback good hand happy like okay positive satisfaction social success vote yes\",\n  thumb_up_off_alt: \"agreed approved confirm correct favorite feedback fingers gesture good hands happy like okay positive ranking rate rating satisfaction social vote yes\",\n  timelapse: \"duration motion photo timer video\",\n  timeline: \"analytics chart data graph history line movement points tracking trending zigzag zigzap\",\n  timer: \"alarm alart bell clock disabled duration enabled notification off slash stopwatch wait\",\n  timer_10: \"digits duration numbers seconds\",\n  timer_10_select: \"alphabet camera character digit font letter number seconds symbol text type\",\n  timer_3: \"digits duration numbers seconds\",\n  timer_3_select: \"alphabet camera character digit font letter number seconds symbol text type\",\n  timer_off: \"alarm alart bell clock disabled duration enabled notification slash stopwatch\",\n  time_to_leave: \"automobile cars destination direction drive estimate eta maps public transportation travel trip vehicle\",\n  tips_and_updates: \"alert announcement electricity idea information lamp lightbulb stars\",\n  title: \"T alphabet character font header letter subject symbol text type\",\n  toc: \"content format lines list reorder stacked table text titles\",\n  today: \"agenda calendar date event mark month range remember reminder schedule time week\",\n  toggle_off: \"application components configuration control design disable inable inactive interface selection settings slider switch ui ux website\",\n  toggle_on: \"application components configuration control design disable inable inactive interface off selection settings slider switch ui ux website\",\n  token: \"badge hexagon mark shield sign symbol\",\n  toll: \"bill booth card cash circles coin commerce credit currency dollars highway money online payment ticket\",\n  tonality: \"circle editing filter image photography picture\",\n  topic: \"data document drive file folder sheet slide storage\",\n  tornado: \"crisis disaster natural rain storm weather wind\",\n  touch_app: \"arrow command fingers gesture hand press swipe tap\",\n  tour: \"destination flag places travel visit\",\n  toys: \"car fan games kids windmill\",\n  track_changes: \"bullseye circle evolve lines movement radar rotate shift target\",\n  traffic: \"direction light maps signal street\",\n  train: \"automobile cars direction maps public rail subway transportation vehicle\",\n  tram: \"automobile cars direction maps public rail subway train transportation vehicle\",\n  transfer_within_a_station: \"arrows body direction human left maps people person public right route stop transit transportation vehicle walk\",\n  transform: \"adjust crop editing image photo picture\",\n  transgender: \"female lgbt neutral neutrual social symbol\",\n  transit_enterexit: \"arrow direction maps navigation route transportation\",\n  translate: \"alphabet language letter speaking speech text translator words\",\n  travel_explore: \"earth find glass global globe look magnifying map network planet search see social space web world\",\n  trending_down: \"analytics arrow change chart data diagram infographic measure metrics movement rate rating sale statistics tracking\",\n  trending_flat: \"arrow change chart data graph metric movement rate right tracking\",\n  trending_up: \"analytics arrow change chart data diagram infographic measure metrics movement rate rating statistics tracking\",\n  trip_origin: \"circle departure\",\n  try: \"bookmark bubble chat comment communicate favorite feedback highlight important marked message saved shape special speech star\",\n  tty: \"call cell contact deaf device hardware impaired mobile speech talk telephone text\",\n  tune: \"adjust editing options settings sliders\",\n  tungsten: \"electricity indoor lamp lightbulb setting\",\n  turned_in: \"archive bookmark favorite item label library reading remember ribbon save submit tag\",\n  turned_in_not: \"archive bookmark favorite item label library outline reading remember ribbon save submit tag\",\n  turn_left: \"arrows directions maps navigation path route sign traffic\",\n  turn_right: \"arrows directions maps navigation path route sign traffic\",\n  turn_sharp_left: \"arrows directions maps navigation path route sign traffic\",\n  turn_sharp_right: \"arrows directions maps navigation path route sign traffic\",\n  turn_slight_left: \"arrows directions maps navigation path right route sign traffic\",\n  turn_slight_right: \"arrows directions maps navigation path route sharp sign traffic\",\n  tv: \"device display linear living monitor room screencast stream television video wireless\",\n  tv_off: \"Android chrome desktop device disabled enabled hardware iOS mac monitor slash television web window\",\n  two_wheeler: \"automobile bicycle cars direction maps moped motorbike motorcycle public ride riding scooter transportation travel twom vehicle wheeler wheels\",\n  umbrella: \"beach protection rain sunny\",\n  unarchive: \"arrow inbox mail store undo up\",\n  undo: \"arrow backward mail previous redo repeat rotate\",\n  unfold_less: \"arrows chevron collapse direction expandable inward list navigation up\",\n  unfold_more: \"arrows chevron collapse direction down expandable list navigation\",\n  unpublished: \"approve check circle complete disabled done enabled mark off ok select slash tick validate verified yes\",\n  unsubscribe: \"cancel close email envelop esubscribe message newsletter off remove send\",\n  upcoming: \"alarm calendar mail message notification\",\n  update: \"arrow backwards clock forward future history load refresh reverse rotate schedule time\",\n  update_disabled: \"arrow backwards clock enabled forward history load off on refresh reverse rotate schedule slash time\",\n  upgrade: \"arrow export instal line replace update\",\n  upload: \"arrows download drive\",\n  upload_file: \"arrow data document download drive folders page paper sheet slide writing\",\n  usb: \"cable connection device wire\",\n  usb_off: \"cable connection device wire\",\n  u_turn_left: \"arrows directions maps navigation path route sign traffic u-turn\",\n  u_turn_right: \"arrows directions maps navigation path route sign traffic u-turn\",\n  vaccines: \"aid covid doctor drug emergency hospital immunity injection medical medication medicine needle pharmacy sick syringe vaccination vial\",\n  verified: \"approve badge burst check complete done mark ok select star tick validate yes\",\n  verified_user: \"approve audit certified checkmark complete done ok privacy private protection security select shield tick validate yes\",\n  vertical_align_bottom: \"alignment arrow doc down editing editor spreadsheet text type writing\",\n  vertical_align_center: \"alignment arrow doc down editing editor spreadsheet text type up writing\",\n  vertical_align_top: \"alignment arrow doc editing editor spreadsheet text type up writing\",\n  vertical_shades: \"blinds cover curtains nest open shutter sunshade\",\n  vertical_shades_closed: \"blinds cover curtains nest roller shutter sunshade\",\n  vertical_split: \"design format grid layout paragraph text website writing\",\n  vibration: \"Android alert cell device hardware iOS mobile mode motion notification phone silence silent tablet vibrate\",\n  video_call: \"+ add camera chat conference filming hardware image motion new picture plus screen symbol videography\",\n  videocam: \"camera chat conference filming hardware image motion picture screen videography\",\n  video_camera_back: \"image landscape mountains photography picture rear\",\n  video_camera_front: \"account face human image people person photography picture profile user\",\n  videocam_off: \"camera chat conference disabled enabled filming hardware image motion offline picture screen slash videography\",\n  video_file: \"camera document filming hardware image motion picture videography\",\n  videogame_asset: \"console controller device gamepad gaming nintendo playstation xbox\",\n  videogame_asset_off: \"console controller device disabled enabled gamepad gaming playstation slash\",\n  video_label: \"device item screen window\",\n  video_library: \"arrow collection play\",\n  video_settings: \"change details gear information options play screen service window\",\n  video_stable: \"filming recording setting stability taping\",\n  view_agenda: \"blocks cards design format grid layout website,stacked\",\n  view_array: \"blocks design format grid layout website\",\n  view_carousel: \"banner blocks cards design format grid images layout website\",\n  view_column: \"blocks design format grid layout vertical website\",\n  view_comfy: \"grid layout pattern squares\",\n  view_comfy_alt: \"cozy design format layout web\",\n  view_compact: \"grid layout pattern squares\",\n  view_compact_alt: \"dense design format layout web\",\n  view_cozy: \"comfy design format layout web\",\n  view_day: \"blocks calendar cards carousel design format grid layout website week\",\n  view_headline: \"blocks design format grid layout paragraph text website\",\n  view_in_ar: \"3d augmented cube daydream headset reality square vr\",\n  view_kanban: \"grid layout pattern squares\",\n  view_list: \"blocks design format grid layout lines reorder stacked title website\",\n  view_module: \"blocks design format grid layout reorder squares stacked title website\",\n  view_quilt: \"blocks design format grid layout reorder squares stacked title website\",\n  view_sidebar: \"design format grid layout web\",\n  view_stream: \"blocks design format grid layout lines list reorder stacked title website\",\n  view_timeline: \"grid layout pattern squares\",\n  view_week: \"bars blocks columns day design format grid layout website\",\n  vignette: \"border editing effect filter gradient image photography setting\",\n  villa: \"architecture beach estate home house maps place real residence residential stay traveling vacation\",\n  visibility: \"eye on password preview reveal see shown visability\",\n  visibility_off: \"disabled enabled eye hidden invisible on password reveal see show slash view visability\",\n  voice_chat: \"bubble camera comment communicate facetime feedback message speech video\",\n  voicemail: \"call device message missed mobile phone recording\",\n  voice_over_off: \"account disabled enabled face human people person profile recording slash speaking speech transcript user\",\n  volume_down: \"audio av control music quieter shh soft sound speaker tv\",\n  volume_mute: \"audio control music sound speaker tv\",\n  volume_off: \"audio av control disabled enabled low music mute slash sound speaker tv\",\n  volume_up: \"audio control music sound speaker tv\",\n  volunteer_activism: \"donation fingers gesture giving hands heart love sharing\",\n  vpn_key: \"login network passcode password register security signin signup unlock\",\n  vpn_key_off: \"[offline] disabled enabled network on passcode password slash unlock\",\n  vpn_lock: \"earth globe locked network password privacy private protection safety secure security virtual world\",\n  vrpano: \"angle image landscape mountains panorama photography picture view wide\",\n  wallpaper: \"background image landscape photography picture\",\n  warehouse: \"garage industry manufacturing storage\",\n  warning: \"! alert announcement attention caution danger error exclamation feedback important mark notification problem symbol triangle\",\n  warning_amber: \"! alert attention caution danger error exclamation important mark notification symbol triangle\",\n  wash: \"bathroom clean fingers gesture hand wc\",\n  watch: \"Android clock gadget iOS smartwatch time vr wearables web wristwatch\",\n  watch_later: \"clock date hour minute schedule time\",\n  watch_off: \"Android clock close gadget iOS shut time vr wearables web wristwatch\",\n  water: \"aqua beach lake ocean river waves weather\",\n  water_damage: \"architecture building droplet estate house leak plumbing real residence residential shelter\",\n  waterfall_chart: \"analytics bar data diagram infographic measure metrics statistics tracking\",\n  waves: \"beach lake ocean pool river sea swim water\",\n  wb_auto: \"A W alphabet automatic balance character editing font image letter photography symbol text type white wp\",\n  wb_cloudy: \"balance editing white wp\",\n  wb_incandescent: \"balance bright editing lamp lightbulb lighting settings white wp\",\n  wb_iridescent: \"balance bright editing lighting settings white wp\",\n  wb_shade: \"balance house lighting white\",\n  wb_sunny: \"balance bright lighting weather white\",\n  wc: \"bathroom closet female gender man person restroom toilet unisex wash water women\",\n  web: \"blocks browser internet page screen website www\",\n  web_asset: \"-website application browser design desktop download image interface internet layout screen ui ux video window www\",\n  web_asset_off: \"browser disabled enabled internet on screen slash webpage website windows www\",\n  webhook: \"api developer development enterprise software\",\n  weekend: \"chair couch furniture home living lounge relax room seat\",\n  west: \"arrow directional left maps navigation\",\n  whatshot: \"arrow circle direction fire frames round trending\",\n  wheelchair_pickup: \"accessibility accessible body handicap help human person\",\n  where_to_vote: \"approve ballot check complete destination direction done election location maps mark ok pin place poll select stop tick validate verified yes\",\n  widgets: \"app blocks box menu setting squares ui\",\n  wifi: \"connection data internet network scan service signal wireless\",\n  wifi_calling: \"cell connection connectivity contact device hardware mobile signal telephone wireless\",\n  wifi_calling_3: \"cellular data internet mobile network phone speed wireless\",\n  wifi_channel: \"(scan) [cellular connection data internet mobile] network service signal wireless\",\n  wifi_find: \"(scan) [cellular connection data detect discover glass internet look magnifying mobile] network notice search service signal wireless\",\n  wifi_lock: \"cellular connection data internet locked mobile network password privacy private protection safety secure security service signal wireless\",\n  wifi_off: \"connection data disabled enabled internet network offline scan service signal slash wireless\",\n  wifi_password: \"(scan) [cellular connection data internet lock mobile] network secure service signal wireless\",\n  wifi_protected_setup: \"around arrows rotate\",\n  wifi_tethering: \"cellular connection data internet mobile network phone scan service signal speed wireless\",\n  wifi_tethering_off: \"cellular connection data disabled enabled internet mobile network offline phone scan service signal slash speed wireless\",\n  window: \"close glass grid home house interior layout outside\",\n  wind_power: \"eco energy nest windy\",\n  wine_bar: \"alcohol cocktail cup drink glass liquor\",\n  work: \"-briefcase baggage business job suitcase\",\n  work_history: \"arrow backwards baggage briefcase business clock date job refresh renew reverse rotate schedule suitcase time turn\",\n  work_off: \"baggage briefcase business disabled enabled job on slash suitcase\",\n  work_outline: \"baggage briefcase business job suitcase\",\n  workspace_premium: \"certification degree ecommerce guarantee medal permit ribbon verification\",\n  workspaces: \"circles collaboration dot filled group team\",\n  wrap_text: \"arrow doc editing editor spreadsheet type write writing\",\n  wrong_location: \"cancel close destination direction exit maps no pin place quit remove stop\",\n  wysiwyg: \"composer mode screen software system text view visibility website window\",\n  yard: \"backyard flower garden home house nature pettle plants\",\n  youtube_searched_for: \"arrow backwards find glass history inprogress loading look magnifying refresh renew restore reverse rotate see yt\",\n  zoom_in: \"bigger find glass grow look magnifier magnifying plus scale search see size\",\n  zoom_in_map: \"arrows destination location maps move place stop\",\n  zoom_out: \"find glass look magnifier magnifying minus negative scale search see size smaller\",\n  zoom_out_map: \"arrows destination location maps move place stop\"\n};\nconst map = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.iconKeys.map((importName) => {\n  const iconSynonym = importName in iconSynonyms ? iconSynonyms[importName] : \"\";\n  return {\n    key: importName,\n    synonyms: iconSynonym\n  };\n});\nconst iconsSearch = new fuse_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"](map, {\n  isCaseSensitive: false,\n  shouldSort: true,\n  ignoreLocation: true,\n  distance: 0,\n  keys: [\"key\", \"synonyms\"]\n});\nfunction hashString(str) {\n  let hash2 = 0;\n  let i;\n  let chr;\n  for (i = 0; i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    hash2 = (hash2 << 5) - hash2 + chr;\n    hash2 |= 0;\n  }\n  return Math.abs(hash2);\n}\nfunction getIcon(iconKey, className, color) {\n  if (!iconKey) return void 0;\n  iconKey = slugify(iconKey);\n  if (!(iconKey in iconKeysMap)) {\n    return void 0;\n  }\n  return iconKey in iconKeysMap ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { iconKey, size: \"medium\", className, color }) : void 0;\n}\nconst IconForView = react__WEBPACK_IMPORTED_MODULE_2__.memo(function IconForView2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);\n  const {\n    collectionOrView,\n    className,\n    color,\n    size: t1\n  } = t0;\n  const size = t1 === void 0 ? \"medium\" : t1;\n  if (!collectionOrView) {\n    let t22;\n    if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n      $[0] = t22;\n    } else {\n      t22 = $[0];\n    }\n    return t22;\n  }\n  let t2;\n  if ($[1] !== className || $[2] !== collectionOrView.icon || $[3] !== color) {\n    t2 = getIcon(collectionOrView.icon, className, color);\n    $[1] = className;\n    $[2] = collectionOrView.icon;\n    $[3] = color;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  const icon = t2;\n  if (collectionOrView?.icon && icon) {\n    return icon;\n  }\n  const t3 = (\"singularName\" in collectionOrView ? collectionOrView.singularName : void 0) ?? collectionOrView.name;\n  let t4;\n  if ($[5] !== t3) {\n    t4 = slugify(t3);\n    $[5] = t3;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let slugName = t4;\n  let key;\n  if (slugName in iconKeysMap) {\n    key = slugName;\n  }\n  if (!key) {\n    let t52;\n    if ($[7] !== collectionOrView.path) {\n      t52 = slugify(collectionOrView.path);\n      $[7] = collectionOrView.path;\n      $[8] = t52;\n    } else {\n      t52 = $[8];\n    }\n    slugName = t52;\n    if (slugName in iconKeysMap) {\n      key = slugName;\n    }\n  }\n  const iconsCount = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.coolIconKeys.length;\n  if (!key) {\n    key = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.coolIconKeys[hashString(collectionOrView.path) % iconsCount];\n  }\n  let t5;\n  if ($[9] !== className || $[10] !== color || $[11] !== key || $[12] !== size) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { iconKey: key, size, className, color });\n    $[9] = className;\n    $[10] = color;\n    $[11] = key;\n    $[12] = size;\n    $[13] = t5;\n  } else {\n    t5 = $[13];\n  }\n  return t5;\n}, (prevProps, nextProps) => {\n  return react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.collectionOrView?.icon, nextProps.collectionOrView?.icon) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.color, nextProps.color);\n});\nconst iconKeysMap = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.iconKeys.reduce((acc, key) => {\n  acc[key] = key;\n  return acc;\n}, {});\nfunction plural(word, amount) {\n  if (amount !== void 0 && amount === 1) {\n    return word;\n  }\n  const plurals = {\n    \"(quiz)$\": \"$1zes\",\n    \"^(ox)$\": \"$1en\",\n    \"([m|l])ouse$\": \"$1ice\",\n    \"(matr|vert|ind)ix|ex$\": \"$1ices\",\n    \"(x|ch|ss|sh)$\": \"$1es\",\n    \"([^aeiouy]|qu)y$\": \"$1ies\",\n    \"(hive)$\": \"$1s\",\n    \"(?:([^f])fe|([lr])f)$\": \"$1$2ves\",\n    \"(shea|lea|loa|thie)f$\": \"$1ves\",\n    sis$: \"ses\",\n    \"([ti])um$\": \"$1a\",\n    \"(tomat|potat|ech|her|vet)o$\": \"$1oes\",\n    \"(bu)s$\": \"$1ses\",\n    \"(alias)$\": \"$1es\",\n    \"(octop)us$\": \"$1i\",\n    \"(ax|test)is$\": \"$1es\",\n    \"(us)$\": \"$1es\",\n    \"([^s]+)$\": \"$1s\"\n  };\n  const irregular = {\n    move: \"moves\",\n    foot: \"feet\",\n    goose: \"geese\",\n    sex: \"sexes\",\n    child: \"children\",\n    man: \"men\",\n    tooth: \"teeth\",\n    person: \"people\"\n  };\n  const uncountable = [\"sheep\", \"fish\", \"deer\", \"moose\", \"series\", \"species\", \"money\", \"rice\", \"information\", \"equipment\", \"bison\", \"cod\", \"offspring\", \"pike\", \"salmon\", \"shrimp\", \"swine\", \"trout\", \"aircraft\", \"hovercraft\", \"spacecraft\", \"sugar\", \"tuna\", \"you\", \"wood\"];\n  if (uncountable.indexOf(word.toLowerCase()) >= 0) {\n    return word;\n  }\n  for (const w in irregular) {\n    const pattern = new RegExp(`${w}$`, \"i\");\n    const replace = irregular[w];\n    if (pattern.test(word)) {\n      return word.replace(pattern, replace);\n    }\n  }\n  for (const reg in plurals) {\n    const pattern = new RegExp(reg, \"i\");\n    if (pattern.test(word)) {\n      return word.replace(pattern, plurals[reg]);\n    }\n  }\n  return word;\n}\nfunction singular(word, amount) {\n  if (amount !== void 0 && amount !== 1) {\n    return word;\n  }\n  const singulars = {\n    \"(quiz)zes$\": \"$1\",\n    \"(matr)ices$\": \"$1ix\",\n    \"(vert|ind)ices$\": \"$1ex\",\n    \"^(ox)en$\": \"$1\",\n    \"(alias)es$\": \"$1\",\n    \"(octop|vir)i$\": \"$1us\",\n    \"(cris|ax|test)es$\": \"$1is\",\n    \"(shoe)s$\": \"$1\",\n    \"(o)es$\": \"$1\",\n    \"(bus)es$\": \"$1\",\n    \"([m|l])ice$\": \"$1ouse\",\n    \"(x|ch|ss|sh)es$\": \"$1\",\n    \"(m)ovies$\": \"$1ovie\",\n    \"(s)eries$\": \"$1eries\",\n    \"([^aeiouy]|qu)ies$\": \"$1y\",\n    \"([lr])ves$\": \"$1f\",\n    \"(tive)s$\": \"$1\",\n    \"(hive)s$\": \"$1\",\n    \"(li|wi|kni)ves$\": \"$1fe\",\n    \"(shea|loa|lea|thie)ves$\": \"$1f\",\n    \"(^analy)ses$\": \"$1sis\",\n    \"((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$\": \"$1$2sis\",\n    \"([ti])a$\": \"$1um\",\n    \"(n)ews$\": \"$1ews\",\n    \"(h|bl)ouses$\": \"$1ouse\",\n    \"(corpse)s$\": \"$1\",\n    \"(us)es$\": \"$1\",\n    s$: \"\"\n  };\n  const irregular = {\n    move: \"moves\",\n    foot: \"feet\",\n    goose: \"geese\",\n    sex: \"sexes\",\n    child: \"children\",\n    man: \"men\",\n    tooth: \"teeth\",\n    person: \"people\"\n  };\n  const uncountable = [\"sheep\", \"fish\", \"deer\", \"moose\", \"series\", \"species\", \"money\", \"rice\", \"information\", \"equipment\", \"bison\", \"cod\", \"offspring\", \"pike\", \"salmon\", \"shrimp\", \"swine\", \"trout\", \"aircraft\", \"hovercraft\", \"spacecraft\", \"sugar\", \"tuna\", \"you\", \"wood\"];\n  if (uncountable.indexOf(word.toLowerCase()) >= 0) {\n    return word;\n  }\n  for (const w in irregular) {\n    const pattern = new RegExp(`${irregular[w]}$`, \"i\");\n    if (pattern.test(word)) {\n      return word.replace(pattern, w);\n    }\n  }\n  for (const reg in singulars) {\n    const pattern = new RegExp(reg, \"i\");\n    if (pattern.test(word)) {\n      return word.replace(pattern, singulars[reg]);\n    }\n  }\n  return word;\n}\nfunction getEntityPreviewKeys(targetCollection, fields, previewProperties, limit = 3) {\n  const allProperties = Object.keys(targetCollection.properties);\n  let listProperties = previewProperties?.filter((p) => allProperties.includes(p));\n  if (!listProperties && targetCollection.previewProperties) {\n    listProperties = targetCollection.previewProperties?.filter((p) => allProperties.includes(p));\n  }\n  if (listProperties && listProperties.length > 0) {\n    return listProperties;\n  } else {\n    listProperties = allProperties;\n    return listProperties.filter((key) => {\n      const propertyOrBuilder = targetCollection.properties[key];\n      return propertyOrBuilder && !isPropertyBuilder(propertyOrBuilder) && !isReferenceProperty(propertyOrBuilder, fields);\n    }).slice(0, limit);\n  }\n}\nfunction getEntityTitlePropertyKey(collection, propertyConfigs) {\n  if (collection.titleProperty) {\n    return collection.titleProperty;\n  }\n  for (const key in collection.properties) {\n    const property = collection.properties[key];\n    if (!isPropertyBuilder(property)) {\n      const field = getFieldConfig(property, propertyConfigs);\n      if (field?.key === \"text_field\") {\n        return key;\n      }\n    }\n  }\n  return void 0;\n}\nfunction getEntityImagePreviewPropertyKey(collection) {\n  for (const key in collection.properties) {\n    const property = collection.properties[key];\n    if (property.dataType === \"string\" && property.storage?.acceptedFiles?.includes(\"image/*\")) {\n      return key;\n    }\n  }\n  for (const key in collection.properties) {\n    const property = collection.properties[key];\n    if (property.dataType === \"array\" && property.of?.dataType === \"string\" && property.of.storage?.acceptedFiles?.includes(\"image/*\")) {\n      return key;\n    }\n  }\n  return void 0;\n}\nfunction flattenObject(obj, parentKey = \"\") {\n  if (!obj) return obj;\n  return Object.keys(obj).reduce((flatObj, key) => {\n    const newKey = parentKey ? `${parentKey}.${key}` : key;\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      if (Array.isArray(obj[key])) {\n        obj[key].forEach((item, index) => {\n          Object.assign(flatObj, flattenObject(item, `${newKey}[${index}]`));\n        });\n      } else {\n        Object.assign(flatObj, flattenObject(obj[key], newKey));\n      }\n    } else {\n      flatObj[newKey] = obj[key];\n    }\n    return flatObj;\n  }, {});\n}\nfunction getArrayValuesCount(array) {\n  return array.reduce((acc, obj) => {\n    Object.entries(obj).forEach(([key, value]) => {\n      if (Array.isArray(value)) {\n        acc[key] = Math.max(acc[key] || 0, value.length);\n      }\n      if (typeof value === \"object\" && value !== null) {\n        const nested = getArrayValuesCount([value]);\n        Object.entries(nested).forEach(([nestedKey, nestedCount]) => {\n          const compoundKey = `${key}.${nestedKey}`;\n          acc[compoundKey] = Math.max(acc[compoundKey] || 0, nestedCount);\n        });\n      }\n    });\n    return acc;\n  }, {});\n}\nfunction makePropertiesEditable(properties) {\n  Object.keys(properties).forEach((key) => {\n    const property = properties[key];\n    if (property) {\n      property.editable = true;\n      if (property.dataType === \"map\" && property.properties) {\n        makePropertiesEditable(property.properties);\n      }\n    }\n  });\n  return properties;\n}\nfunction makePropertiesNonEditable(properties) {\n  return Object.entries(properties).reduce((acc, [key, property]) => {\n    if (!isPropertyBuilder(property) && property.dataType === \"map\" && property.properties) {\n      const updated = {\n        ...property,\n        properties: makePropertiesNonEditable(property.properties)\n      };\n      acc[key] = updated;\n    }\n    if (isPropertyBuilder(property)) {\n      acc[key] = property;\n    } else {\n      acc[key] = {\n        ...property,\n        editable: false\n      };\n    }\n    return acc;\n  }, {});\n}\nfunction applyModifyFunction(modifyCollection, collection, parentPaths) {\n  if (modifyCollection) {\n    const modified = modifyCollection({\n      collection,\n      parentPaths\n    });\n    const resCollection = modified ?? collection;\n    if (resCollection.subcollections) {\n      resCollection.subcollections = resCollection.subcollections.map((subcollection) => {\n        return applyModifyFunction(modifyCollection, subcollection, [...parentPaths, collection.path]);\n      });\n    }\n    return resCollection;\n  } else {\n    return collection;\n  }\n}\nfunction joinCollectionLists(targetCollections, sourceCollections, parentPaths = [], modifyCollection) {\n  const updatedCollections = (sourceCollections ?? []).map((sourceCol) => {\n    const targetCol = targetCollections?.find((collection) => {\n      return collection.id === sourceCol.id;\n    });\n    if (!targetCol) {\n      return applyModifyFunction(modifyCollection, sourceCol, parentPaths);\n    } else {\n      return mergeCollection(targetCol, sourceCol, parentPaths, modifyCollection);\n    }\n  });\n  const sourceCollectionIds = updatedCollections.map((c2) => c2.id);\n  const resultStoredCollections = targetCollections.filter((col) => {\n    return !sourceCollectionIds.includes(col.id);\n  }).map((col) => {\n    if (modifyCollection) {\n      return applyModifyFunction(modifyCollection, col, parentPaths);\n    } else {\n      return col;\n    }\n  });\n  return [...updatedCollections, ...resultStoredCollections];\n}\nfunction mergeCollection(target, source, parentPaths = [], modifyCollection) {\n  const subcollectionsMerged = joinCollectionLists(target?.subcollections ?? [], source?.subcollections ?? [], [...parentPaths, target.path], modifyCollection);\n  const propertiesMerged = {\n    ...target.properties\n  };\n  Object.keys(source.properties).forEach((key) => {\n    const property = target.properties[key];\n    if (property) propertiesMerged[key] = mergePropertyOrBuilder(property, source.properties[key]);\n    else propertiesMerged[key] = source.properties[key];\n  });\n  const mergedCollection = mergeDeep(target, source);\n  const targetPropertiesOrder = getCollectionKeys(target);\n  const sourcePropertiesOrder = getCollectionKeys(source);\n  const mergedPropertiesOrder = [.../* @__PURE__ */ new Set([...sourcePropertiesOrder, ...targetPropertiesOrder])];\n  const mergedEntityViews = [.../* @__PURE__ */ new Set([...target.entityViews ?? [], ...source.entityViews ?? []])];\n  let resultCollection = {\n    ...mergedCollection,\n    subcollections: subcollectionsMerged,\n    properties: sortProperties(propertiesMerged, mergedPropertiesOrder),\n    propertiesOrder: mergedPropertiesOrder,\n    entityViews: mergedEntityViews\n  };\n  if (modifyCollection) {\n    const modifiedCollection = modifyCollection({\n      collection: resultCollection,\n      parentPaths\n    });\n    if (modifiedCollection) resultCollection = modifiedCollection;\n  }\n  resultCollection[\"merged\"] = true;\n  return resultCollection;\n}\nfunction mergePropertyOrBuilder(target, source) {\n  if (isPropertyBuilder(source)) {\n    return source;\n  } else if (isPropertyBuilder(target)) {\n    return target;\n  } else {\n    const mergedProperty = mergeDeep(target, source);\n    const targetEditable = Boolean(target.editable);\n    const sourceEditable = Boolean(source.editable);\n    if (source.dataType === \"map\" && source.properties) {\n      const targetProperties = \"properties\" in target ? target.properties : {};\n      const sourceProperties = \"properties\" in source ? source.properties : {};\n      const targetPropertiesOrder = \"propertiesOrder\" in target && target.propertiesOrder ? target.propertiesOrder : Object.keys(targetProperties);\n      const sourcePropertiesOrder = \"propertiesOrder\" in source && source.propertiesOrder ? source.propertiesOrder : \"properties\" in source ? Object.keys(source.properties) : [];\n      const mergedPropertiesOrder = [.../* @__PURE__ */ new Set([...targetPropertiesOrder, ...sourcePropertiesOrder])];\n      const mergedProperties = {\n        ...targetProperties\n      };\n      Object.keys(source.properties).forEach((key) => {\n        const property = targetProperties[key];\n        if (property) mergedProperties[key] = mergePropertyOrBuilder(property, sourceProperties[key]);\n      });\n      return {\n        ...mergedProperty,\n        editable: targetEditable && sourceEditable,\n        properties: mergedProperties,\n        propertiesOrder: mergedPropertiesOrder\n      };\n    }\n    return {\n      ...mergedProperty,\n      editable: targetEditable && sourceEditable\n    };\n  }\n}\nfunction getCollectionKeys(collection) {\n  if (collection.propertiesOrder && collection.propertiesOrder.length > 0) {\n    const propertiesOrder = collection.propertiesOrder;\n    if (collection.additionalFields) {\n      collection.additionalFields.forEach((field) => {\n        if (!propertiesOrder.includes(field.key)) {\n          propertiesOrder.push(field.key);\n        }\n      });\n    }\n    return propertiesOrder;\n  }\n  return [...Object.keys(collection.properties), ...(collection.additionalFields ?? [])?.map((f) => f.key)];\n}\nfunction buildCollection(collection) {\n  return collection;\n}\nfunction buildProperty(property) {\n  return property;\n}\nfunction buildProperties(properties) {\n  return properties;\n}\nfunction buildPropertiesOrBuilder(propertiesOrBuilder) {\n  return propertiesOrBuilder;\n}\nfunction buildEnumValues(enumValues) {\n  return enumValues;\n}\nfunction buildEnumValueConfig(enumValueConfig) {\n  return enumValueConfig;\n}\nfunction buildEntityCallbacks(callbacks) {\n  return callbacks;\n}\nfunction buildAdditionalFieldDelegate(additionalFieldDelegate) {\n  return additionalFieldDelegate;\n}\nfunction buildFieldConfig(propertyConfig) {\n  return propertyConfig;\n}\nfunction printChanged(props, prev, path = \"\", depth = 0, maxDepth = 10) {\n  if (depth > maxDepth) {\n    return;\n  }\n  if (props && prev && typeof props === \"object\" && typeof prev === \"object\") {\n    Object.keys(props).forEach((key) => {\n      printChanged(props[key], prev[key], path + \".\" + key, depth + 1, maxDepth);\n    });\n  } else if (props !== prev) {\n    console.log(\"Changed props:\", path);\n  }\n}\nfunction useTraceUpdate(props, t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3);\n  const maxDepth = t0 === void 0 ? 3 : t0;\n  const prev = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(props);\n  let t1;\n  if ($[0] !== maxDepth || $[1] !== props) {\n    t1 = () => {\n      console.log(\"Changed props:\");\n      printChanged(props, prev.current, \"\", 0, maxDepth);\n      prev.current = props;\n    };\n    $[0] = maxDepth;\n    $[1] = props;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1);\n}\nasync function resolveStorageFilenameString({\n  input,\n  storage,\n  values,\n  entityId,\n  path,\n  property,\n  file,\n  propertyKey\n}) {\n  let result;\n  if (typeof input === \"function\") {\n    result = await input({\n      path,\n      entityId,\n      values,\n      property,\n      file,\n      storage,\n      propertyKey\n    });\n    if (!result) console.warn(\"Storage callback returned empty result. Using default name value\");\n  } else {\n    result = replacePlaceholders({\n      file,\n      input,\n      entityId,\n      propertyKey,\n      path\n    });\n  }\n  if (!result) result = randomString() + \"_\" + file.name;\n  return result;\n}\nfunction resolveStoragePathString({\n  input,\n  storage,\n  values,\n  entityId,\n  path,\n  property,\n  file,\n  propertyKey\n}) {\n  let result;\n  if (typeof input === \"function\") {\n    result = input({\n      path,\n      entityId,\n      values,\n      property,\n      file,\n      storage,\n      propertyKey\n    });\n    if (!result) console.warn(\"Storage callback returned empty result. Using default name value\");\n  } else {\n    result = replacePlaceholders({\n      file,\n      input,\n      entityId,\n      propertyKey,\n      path\n    });\n  }\n  if (!result) result = randomString() + \"_\" + file.name;\n  return result;\n}\nfunction replacePlaceholders({\n  file,\n  input,\n  entityId,\n  propertyKey,\n  path\n}) {\n  const ext = file.name.split(\".\").pop();\n  let result = input.replace(\"{entityId}\", entityId).replace(\"{propertyKey}\", propertyKey).replace(\"{rand}\", randomString()).replace(\"{file}\", file.name).replace(\"{file.type}\", file.type);\n  if (path) {\n    result = result.replace(\"{path}\", path);\n  }\n  if (ext) {\n    result = result.replace(\"{file.ext}\", ext);\n    const name = file.name.replace(`.${ext}`, \"\");\n    result = result.replace(\"{file.name}\", name);\n  }\n  if (!result) result = randomString() + \"_\" + file.name;\n  return result;\n}\nconst DataSourceContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useDataSource = (collection) => {\n  const defaultDataSource = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(DataSourceContext);\n  return defaultDataSource;\n};\nconst NavigationContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useNavigationController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(NavigationContext);\n};\nconst useAuthController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(AuthControllerContext);\n};\nconst SideDialogsControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useSideDialogsController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(SideDialogsControllerContext);\n};\nconst SideEntityControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useSideEntityController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(SideEntityControllerContext);\n};\nconst StorageSourceContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useStorageSource = (collection) => {\n  const defaultStorageSource = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(StorageSourceContext);\n  if (collection?.overrides?.storageSource) {\n    return collection.overrides.storageSource;\n  }\n  return defaultStorageSource;\n};\nconst useSnackbarController = () => {\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = (0,notistack__WEBPACK_IMPORTED_MODULE_4__.useSnackbar)();\n  const open = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((props) => {\n    const {\n      type,\n      message,\n      autoHideDuration\n    } = props;\n    enqueueSnackbar({\n      message,\n      variant: type,\n      autoHideDuration\n    });\n  }, []);\n  const close = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    closeSnackbar();\n  }, []);\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => ({\n    open,\n    close\n  }), [open, close]);\n};\nconst UserConfigurationPersistenceContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext(void 0);\nconst useUserConfigurationPersistence = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(UserConfigurationPersistenceContext);\n};\nconst DialogsControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst DialogsProvider = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(16);\n  const {\n    children\n  } = t0;\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = [];\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  const [dialogEntries, setDialogEntries] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t1);\n  const dialogEntriesRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(dialogEntries);\n  let t2;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (newPanels) => {\n      dialogEntriesRef.current = newPanels;\n      setDialogEntries(newPanels);\n    };\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const updateDialogEntries = t2;\n  let t3;\n  if ($[2] !== dialogEntries.length) {\n    t3 = () => {\n      if (dialogEntries.length === 0) {\n        return;\n      }\n      const updatedPanels = [...dialogEntriesRef.current.slice(0, -1)];\n      updateDialogEntries(updatedPanels);\n    };\n    $[2] = dialogEntries.length;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  const close = t3;\n  let t4;\n  if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = (dialogEntry) => {\n      const updatedPanels_0 = [...dialogEntriesRef.current, dialogEntry];\n      updateDialogEntries(updatedPanels_0);\n      return {\n        closeDialog: () => {\n          const updatedPanels_1 = dialogEntriesRef.current.filter((e) => e.key !== dialogEntry.key);\n          updateDialogEntries(updatedPanels_1);\n        }\n      };\n    };\n    $[4] = t4;\n  } else {\n    t4 = $[4];\n  }\n  const open = t4;\n  let t5;\n  if ($[5] !== close) {\n    t5 = {\n      open,\n      close\n    };\n    $[5] = close;\n    $[6] = t5;\n  } else {\n    t5 = $[6];\n  }\n  let t6;\n  if ($[7] !== close || $[8] !== dialogEntries) {\n    let t72;\n    if ($[10] !== close) {\n      t72 = (entry, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(entry.Component, { open: true, closeDialog: close, ...entry.props }, `dialog_${i}`);\n      $[10] = close;\n      $[11] = t72;\n    } else {\n      t72 = $[11];\n    }\n    t6 = dialogEntries.map(t72);\n    $[7] = close;\n    $[8] = dialogEntries;\n    $[9] = t6;\n  } else {\n    t6 = $[9];\n  }\n  let t7;\n  if ($[12] !== children || $[13] !== t5 || $[14] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DialogsControllerContext.Provider, { value: t5, children: [\n      children,\n      t6\n    ] });\n    $[12] = children;\n    $[13] = t5;\n    $[14] = t6;\n    $[15] = t7;\n  } else {\n    t7 = $[15];\n  }\n  return t7;\n};\nconst useDialogsController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(DialogsControllerContext);\n};\nconst CustomizationControllerContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useCustomizationController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(CustomizationControllerContext);\n};\nconst AnalyticsContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useAnalyticsController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(AnalyticsContext);\n};\nconst useFireCMSContext = () => {\n  const authController = useAuthController();\n  const sideDialogsController = useSideDialogsController();\n  const sideEntityController = useSideEntityController();\n  const navigation = useNavigationController();\n  const dataSource = useDataSource();\n  const storageSource = useStorageSource();\n  const snackbarController = useSnackbarController();\n  const userConfigPersistence = useUserConfigurationPersistence();\n  const dialogsController = useDialogsController();\n  const customizationController = useCustomizationController();\n  const analyticsController = useAnalyticsController();\n  const fireCMSContextRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef({\n    authController,\n    sideDialogsController,\n    sideEntityController,\n    navigation,\n    dataSource,\n    storageSource,\n    snackbarController,\n    userConfigPersistence,\n    dialogsController,\n    customizationController,\n    analyticsController\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    fireCMSContextRef.current = {\n      authController,\n      sideDialogsController,\n      sideEntityController,\n      navigation,\n      dataSource,\n      storageSource,\n      snackbarController,\n      userConfigPersistence,\n      dialogsController,\n      customizationController,\n      analyticsController\n    };\n  }, [authController, dialogsController, navigation, sideDialogsController]);\n  return fireCMSContextRef.current;\n};\nfunction useCollectionFetch(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(26);\n  const {\n    path: inputPath,\n    collection,\n    filterValues,\n    sortBy,\n    itemCount,\n    searchString\n  } = t0;\n  const dataSource = useDataSource();\n  const navigationController = useNavigationController();\n  let t1;\n  if ($[0] !== inputPath || $[1] !== navigationController) {\n    t1 = navigationController.resolveIdsFrom(inputPath);\n    $[0] = inputPath;\n    $[1] = navigationController;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  const path = t1;\n  const sortByProperty = sortBy ? sortBy[0] : void 0;\n  const currentSort = sortBy ? sortBy[1] : void 0;\n  const context = useFireCMSContext();\n  let t2;\n  if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = [];\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t2);\n  const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [dataLoadingError, setDataLoadingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [noMoreToLoad, setNoMoreToLoad] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  let t3;\n  if ($[4] !== collection || $[5] !== context || $[6] !== currentSort || $[7] !== dataSource || $[8] !== filterValues || $[9] !== itemCount || $[10] !== path || $[11] !== searchString || $[12] !== sortByProperty) {\n    t3 = () => {\n      setDataLoading(true);\n      const onEntitiesUpdate = async (entities) => {\n        if (collection.callbacks?.onFetch) {\n          try {\n            entities = await Promise.all(entities.map((entity) => collection.callbacks.onFetch({\n              collection,\n              path,\n              entity,\n              context\n            })));\n          } catch (t42) {\n            const e = t42;\n            console.error(e);\n          }\n        }\n        setDataLoading(false);\n        setDataLoadingError(void 0);\n        setData(entities.map(_temp$s));\n        setNoMoreToLoad(!itemCount || entities.length < itemCount);\n      };\n      const onError = (error) => {\n        console.error(\"ERROR\", error);\n        setDataLoading(false);\n        setData([]);\n        setDataLoadingError(error);\n      };\n      if (dataSource.listenCollection) {\n        return dataSource.listenCollection({\n          path,\n          collection,\n          onUpdate: onEntitiesUpdate,\n          onError,\n          searchString,\n          filter: filterValues,\n          limit: itemCount,\n          startAfter: void 0,\n          orderBy: sortByProperty,\n          order: currentSort\n        });\n      } else {\n        dataSource.fetchCollection({\n          path,\n          collection,\n          searchString,\n          filter: filterValues,\n          limit: itemCount,\n          startAfter: void 0,\n          orderBy: sortByProperty,\n          order: currentSort\n        }).then(onEntitiesUpdate).catch(onError);\n        return _temp2$e;\n      }\n    };\n    $[4] = collection;\n    $[5] = context;\n    $[6] = currentSort;\n    $[7] = dataSource;\n    $[8] = filterValues;\n    $[9] = itemCount;\n    $[10] = path;\n    $[11] = searchString;\n    $[12] = sortByProperty;\n    $[13] = t3;\n  } else {\n    t3 = $[13];\n  }\n  let t4;\n  if ($[14] !== currentSort || $[15] !== filterValues || $[16] !== itemCount || $[17] !== path || $[18] !== searchString || $[19] !== sortByProperty) {\n    t4 = [path, itemCount, currentSort, sortByProperty, filterValues, searchString];\n    $[14] = currentSort;\n    $[15] = filterValues;\n    $[16] = itemCount;\n    $[17] = path;\n    $[18] = searchString;\n    $[19] = sortByProperty;\n    $[20] = t4;\n  } else {\n    t4 = $[20];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t3, t4);\n  let t5;\n  if ($[21] !== data || $[22] !== dataLoading || $[23] !== dataLoadingError || $[24] !== noMoreToLoad) {\n    t5 = {\n      data,\n      dataLoading,\n      dataLoadingError,\n      noMoreToLoad\n    };\n    $[21] = data;\n    $[22] = dataLoading;\n    $[23] = dataLoadingError;\n    $[24] = noMoreToLoad;\n    $[25] = t5;\n  } else {\n    t5 = $[25];\n  }\n  return t5;\n}\nfunction _temp2$e() {\n}\nfunction _temp$s(e_0) {\n  return {\n    ...e_0\n  };\n}\nconst CACHE = {};\nfunction useEntityFetch(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);\n  const {\n    path: inputPath,\n    entityId,\n    collection,\n    databaseId,\n    useCache: t1\n  } = t0;\n  const useCache = t1 === void 0 ? false : t1;\n  const dataSource = useDataSource();\n  const navigationController = useNavigationController();\n  let t2;\n  if ($[0] !== inputPath || $[1] !== navigationController) {\n    t2 = navigationController.resolveIdsFrom(inputPath);\n    $[0] = inputPath;\n    $[1] = navigationController;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  const path = t2;\n  const context = useFireCMSContext();\n  const [entity, setEntity] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n  const [dataLoadingError, setDataLoadingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  let t3;\n  if ($[3] !== collection || $[4] !== context || $[5] !== dataSource || $[6] !== databaseId || $[7] !== entityId || $[8] !== path || $[9] !== useCache) {\n    t3 = () => {\n      setDataLoading(true);\n      const onEntityUpdate = async (updatedEntity) => {\n        if (collection.callbacks?.onFetch && updatedEntity) {\n          try {\n            updatedEntity = await collection.callbacks.onFetch({\n              collection,\n              path,\n              entity: updatedEntity,\n              context\n            });\n          } catch (t42) {\n            const e = t42;\n            console.error(e);\n          }\n        }\n        CACHE[`${path}/${entityId}`] = updatedEntity;\n        setEntity(updatedEntity);\n        setDataLoading(false);\n        setDataLoadingError(void 0);\n      };\n      const onError = (error) => {\n        console.error(\"ERROR fetching entity\", error);\n        setDataLoading(false);\n        setEntity(void 0);\n        setDataLoadingError(error);\n      };\n      if (entityId && useCache && CACHE[`${path}/${entityId}`]) {\n        setEntity(CACHE[`${path}/${entityId}`]);\n        setDataLoading(false);\n        setDataLoadingError(void 0);\n        return _temp$r;\n      } else {\n        if (entityId && path && collection) {\n          if (dataSource.listenEntity) {\n            return dataSource.listenEntity({\n              path,\n              entityId,\n              databaseId,\n              collection,\n              onUpdate: onEntityUpdate,\n              onError\n            });\n          } else {\n            dataSource.fetchEntity({\n              path,\n              entityId,\n              databaseId,\n              collection\n            }).then(onEntityUpdate).catch(onError);\n            return _temp2$d;\n          }\n        } else {\n          onEntityUpdate(void 0);\n          return _temp3$4;\n        }\n      }\n    };\n    $[3] = collection;\n    $[4] = context;\n    $[5] = dataSource;\n    $[6] = databaseId;\n    $[7] = entityId;\n    $[8] = path;\n    $[9] = useCache;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  let t4;\n  if ($[11] !== entityId || $[12] !== path) {\n    t4 = [entityId, path];\n    $[11] = entityId;\n    $[12] = path;\n    $[13] = t4;\n  } else {\n    t4 = $[13];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t3, t4);\n  let t5;\n  if ($[14] !== dataLoading || $[15] !== dataLoadingError || $[16] !== entity) {\n    t5 = {\n      entity,\n      dataLoading,\n      dataLoadingError\n    };\n    $[14] = dataLoading;\n    $[15] = dataLoadingError;\n    $[16] = entity;\n    $[17] = t5;\n  } else {\n    t5 = $[17];\n  }\n  return t5;\n}\nfunction _temp3$4() {\n}\nfunction _temp2$d() {\n}\nfunction _temp$r() {\n}\nasync function saveEntityWithCallbacks({\n  collection,\n  path,\n  entityId,\n  values,\n  previousValues,\n  status,\n  dataSource,\n  context,\n  onSaveSuccess,\n  onSaveFailure,\n  onPreSaveHookError,\n  onSaveSuccessHookError\n}) {\n  if (status !== \"new\" && !entityId) {\n    throw new Error(\"Entity id must be specified when updating an existing entity\");\n  }\n  let updatedValues;\n  const customizationController = context.customizationController;\n  const resolvedPath = context.navigation.resolveIdsFrom(path);\n  const callbacks = collection.callbacks;\n  if (callbacks?.onPreSave) {\n    try {\n      const resolvedCollection = resolveCollection({\n        collection,\n        path,\n        values: previousValues,\n        entityId,\n        propertyConfigs: customizationController.propertyConfigs\n      });\n      updatedValues = await callbacks.onPreSave({\n        collection: resolvedCollection,\n        path,\n        resolvedPath,\n        entityId,\n        values,\n        previousValues,\n        status,\n        context\n      });\n    } catch (e) {\n      console.error(e);\n      if (onPreSaveHookError) onPreSaveHookError(e);\n      return;\n    }\n  } else {\n    updatedValues = values;\n  }\n  console.debug(\"Saving entity\", {\n    entityId,\n    updatedValues,\n    collection\n  });\n  return dataSource.saveEntity({\n    collection,\n    path: resolvedPath,\n    entityId,\n    values: updatedValues,\n    previousValues,\n    status\n  }).then((entity) => {\n    try {\n      if (callbacks?.onSaveSuccess) {\n        const resolvedCollection = resolveCollection({\n          collection,\n          path,\n          values: updatedValues,\n          entityId,\n          propertyConfigs: customizationController.propertyConfigs\n        });\n        callbacks.onSaveSuccess({\n          collection: resolvedCollection,\n          path,\n          resolvedPath,\n          entityId: entity.id,\n          values: updatedValues,\n          previousValues,\n          status,\n          context\n        });\n      }\n    } catch (e) {\n      if (onSaveSuccessHookError) onSaveSuccessHookError(e);\n    }\n    if (onSaveSuccess) onSaveSuccess(entity);\n  }).catch((e) => {\n    console.error(\"!!!\", e);\n    if (callbacks?.onSaveFailure) {\n      const resolvedCollection = resolveCollection({\n        collection,\n        path,\n        values: updatedValues,\n        entityId,\n        propertyConfigs: customizationController.propertyConfigs\n      });\n      callbacks.onSaveFailure({\n        collection: resolvedCollection,\n        path,\n        resolvedPath,\n        entityId,\n        values: updatedValues,\n        previousValues,\n        status,\n        context\n      });\n    }\n    if (onSaveFailure) onSaveFailure(e);\n  });\n}\nasync function deleteEntityWithCallbacks({\n  dataSource,\n  entity,\n  collection,\n  callbacks,\n  onDeleteSuccess,\n  onDeleteFailure,\n  onPreDeleteHookError,\n  onDeleteSuccessHookError,\n  context\n}) {\n  console.debug(\"Deleting entity\", entity.path, entity.id);\n  const entityDeleteProps = {\n    entity,\n    collection,\n    entityId: entity.id,\n    path: entity.path,\n    context\n  };\n  if (callbacks?.onPreDelete) {\n    try {\n      await callbacks.onPreDelete(entityDeleteProps);\n    } catch (e) {\n      console.error(e);\n      if (onPreDeleteHookError) onPreDeleteHookError(entity, e);\n      return false;\n    }\n  }\n  return dataSource.deleteEntity({\n    entity,\n    collection\n  }).then(() => {\n    onDeleteSuccess && onDeleteSuccess(entity);\n    try {\n      if (callbacks?.onDelete) {\n        callbacks.onDelete(entityDeleteProps);\n      }\n      return true;\n    } catch (e) {\n      if (onDeleteSuccessHookError) onDeleteSuccessHookError(entity, e);\n      return false;\n    }\n  }).catch((e) => {\n    if (onDeleteFailure) onDeleteFailure(entity, e);\n    return false;\n  });\n}\nfunction resolveNavigationFrom({\n  path,\n  context\n}) {\n  const dataSource = context.dataSource;\n  const navigation = context.navigation;\n  if (!navigation) {\n    throw Error(\"Calling resolveNavigationFrom, but main navigation has not yet been initialised\");\n  }\n  const navigationEntries = getNavigationEntriesFromPath({\n    path,\n    collections: navigation.collections ?? []\n  });\n  const resultPromises = navigationEntries.map((entry) => {\n    if (entry.type === \"collection\") {\n      return Promise.resolve(entry);\n    } else if (entry.type === \"entity\") {\n      const collection = navigation.getCollection(entry.path);\n      if (!collection) {\n        throw Error(`No collection defined in the navigation for the entity with path ${entry.path}`);\n      }\n      return dataSource.fetchEntity({\n        path: entry.path,\n        entityId: entry.entityId,\n        collection\n      }).then((entity) => {\n        if (!entity) return void 0;\n        return {\n          ...entry,\n          entity\n        };\n      });\n    } else if (entry.type === \"custom_view\") {\n      return Promise.resolve(entry);\n    } else {\n      throw Error(\"Unmapped element in useEntitiesFromPath\");\n    }\n  }).filter((v) => Boolean(v));\n  return Promise.all(resultPromises);\n}\nfunction useResolvedNavigationFrom(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const {\n    path\n  } = t0;\n  const context = useFireCMSContext();\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [dataLoadingError, setDataLoadingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  let t1;\n  let t2;\n  if ($[0] !== context || $[1] !== path) {\n    t1 = () => {\n      const navigation = context.navigation;\n      if (navigation) {\n        setDataLoading(true);\n        setDataLoadingError(void 0);\n        resolveNavigationFrom({\n          path,\n          context\n        }).then(setData).catch((e) => setDataLoadingError(e)).finally(() => setDataLoading(false));\n      }\n    };\n    t2 = [path, context];\n    $[0] = context;\n    $[1] = path;\n    $[2] = t1;\n    $[3] = t2;\n  } else {\n    t1 = $[2];\n    t2 = $[3];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  if (!context.navigation) {\n    let t32;\n    if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t32 = {\n        dataLoading: true\n      };\n      $[4] = t32;\n    } else {\n      t32 = $[4];\n    }\n    return t32;\n  }\n  let t3;\n  if ($[5] !== data || $[6] !== dataLoading || $[7] !== dataLoadingError) {\n    t3 = {\n      data,\n      dataLoading,\n      dataLoadingError\n    };\n    $[5] = data;\n    $[6] = dataLoading;\n    $[7] = dataLoadingError;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  return t3;\n}\nconst useModeController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ModeControllerContext);\n};\nconst useClipboard = (options) => {\n  const {\n    onSuccess,\n    onError,\n    disableClipboardAPI = false,\n    copiedDuration\n  } = options || {};\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const [isCoppied, setIsCoppied] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [clipboard, setClipbaord] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (copiedDuration) setTimeout(() => setIsCoppied(false), copiedDuration);\n  }, [isCoppied]);\n  const isSupported = () => navigator.clipboard !== void 0;\n  const handleError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((error) => {\n    if (onError) onError(error);\n    else throw new Error(error);\n  }, [onError]);\n  const handleSuccess = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((text) => {\n    if (onSuccess) onSuccess(text);\n    setIsCoppied(true);\n    setClipbaord(text);\n  }, [onSuccess]);\n  const copyToClipboard = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((text_0) => {\n    navigator.clipboard.writeText(text_0).then(() => handleSuccess(text_0)).catch((err) => {\n      handleError(err);\n      setIsCoppied(false);\n    });\n  }, [handleError, handleSuccess]);\n  const clearClipboard = () => {\n    if (isSupported()) {\n      navigator.clipboard.writeText(\"\");\n    }\n  };\n  const copy = (text_1) => action(\"copy\", typeof text_1 === \"object\" ? void 0 : text_1);\n  const cut = () => action(\"cut\");\n  const action = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((operation = \"copy\", text_2) => {\n    const element = ref.current;\n    const isInput = element && (element.tagName === \"INPUT\" || element.tagName === \"TEXTAREA\");\n    const input = ref.current;\n    if (isSupported() && !disableClipboardAPI) {\n      if (text_2) {\n        copyToClipboard(text_2);\n      } else if (element) {\n        if (isInput) {\n          copyToClipboard(input.value);\n          if (operation === \"cut\") {\n            input.value = \"\";\n          }\n        } else {\n          copyToClipboard(element.innerText);\n        }\n      } else {\n        handleError(\"Both the ref & text were undefined\");\n      }\n    }\n  }, [disableClipboardAPI, copyToClipboard, handleError]);\n  return {\n    ref,\n    isCoppied,\n    clipboard,\n    clearClipboard,\n    isSupported,\n    copy,\n    cut\n  };\n};\nconst breakpoints = {\n  xs: 0,\n  sm: 640,\n  md: 768,\n  lg: 1024,\n  xl: 1280,\n  \"2xl\": 1536,\n  \"3xl\": 1920\n};\nlet isLargeLayoutGlobal = checkLargeLayout(\"lg\");\nconst listeners = [];\nconst notifyListeners = () => {\n  listeners.forEach((listener) => listener(isLargeLayoutGlobal));\n};\nif (typeof window !== \"undefined\") window.addEventListener(\"resize\", () => {\n  const newIsLargeLayout = checkLargeLayout(\"lg\");\n  if (newIsLargeLayout !== isLargeLayoutGlobal) {\n    isLargeLayoutGlobal = newIsLargeLayout;\n    notifyListeners();\n  }\n});\nconst useLargeLayout = () => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2);\n  const [isLargeLayout, setIsLargeLayout] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(isLargeLayoutGlobal);\n  let t0;\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = () => {\n      const listener = (newIsLargeLayout) => {\n        setIsLargeLayout(newIsLargeLayout);\n      };\n      listeners.push(listener);\n      setIsLargeLayout(isLargeLayoutGlobal);\n      return () => {\n        const index = listeners.indexOf(listener);\n        if (index > -1) {\n          listeners.splice(index, 1);\n        }\n      };\n    };\n    t1 = [];\n    $[0] = t0;\n    $[1] = t1;\n  } else {\n    t0 = $[0];\n    t1 = $[1];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n  return isLargeLayout;\n};\nfunction checkLargeLayout(breakpoint = \"lg\") {\n  if (typeof window === \"undefined\") return false;\n  return window.matchMedia(`(min-width: ${breakpoints[breakpoint] + 1}px)`).matches;\n}\nfunction useReferenceDialog(referenceDialogProps) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const navigation = useNavigationController();\n  const sideDialogsController = useSideDialogsController();\n  let t0;\n  if ($[0] !== navigation || $[1] !== referenceDialogProps || $[2] !== sideDialogsController) {\n    t0 = () => {\n      if (referenceDialogProps.path) {\n        let usedCollection = referenceDialogProps.collection;\n        if (!usedCollection) {\n          usedCollection = navigation.getCollection(referenceDialogProps.path);\n        }\n        if (!usedCollection) {\n          throw Error(\"Not able to resolve the collection in useReferenceDialog. Make sure a collection is registered in path \" + referenceDialogProps.path);\n        }\n        sideDialogsController.open({\n          key: `reference_${referenceDialogProps.path}`,\n          component: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferenceSelectionTable, { collection: usedCollection, ...referenceDialogProps }),\n          width: \"90vw\",\n          onClose: () => {\n            referenceDialogProps.onClose?.();\n          }\n        });\n      } else {\n        throw Error(\"useReferenceDialog: You are trying to open a reference dialog, but have not declared the `path`\");\n      }\n    };\n    $[0] = navigation;\n    $[1] = referenceDialogProps;\n    $[2] = sideDialogsController;\n    $[3] = t0;\n  } else {\n    t0 = $[3];\n  }\n  const open = t0;\n  let t1;\n  if ($[4] !== sideDialogsController) {\n    t1 = () => {\n      sideDialogsController.close();\n    };\n    $[4] = sideDialogsController;\n    $[5] = t1;\n  } else {\n    t1 = $[5];\n  }\n  const close = t1;\n  let t2;\n  if ($[6] !== close || $[7] !== open) {\n    t2 = {\n      open,\n      close\n    };\n    $[6] = close;\n    $[7] = open;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  return t2;\n}\nconst fireCMSLogo = \"data:image/png;base64,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\\n\";\nfunction useBrowserTitleAndIcon(name, logo) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(4);\n  let t0;\n  let t1;\n  if ($[0] !== logo || $[1] !== name) {\n    t0 = () => {\n      if (document) {\n        document.title = `${name} - FireCMS`;\n        let link = document.querySelector(\"link[rel~='icon']\");\n        if (!link) {\n          link = document.createElement(\"link\");\n          link.rel = \"icon\";\n          document.getElementsByTagName(\"head\")[0].appendChild(link);\n        }\n        link.href = logo ?? fireCMSLogo;\n      }\n    };\n    t1 = [name, logo];\n    $[0] = logo;\n    $[1] = name;\n    $[2] = t0;\n    $[3] = t1;\n  } else {\n    t0 = $[2];\n    t1 = $[3];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n}\nfunction getParentReferencesFromPath(props) {\n  const {\n    path,\n    collections = [],\n    currentFullPath\n  } = props;\n  const subpaths = removeInitialAndTrailingSlashes(path).split(\"/\");\n  const subpathCombinations = getCollectionPathsCombinations(subpaths);\n  const result = [];\n  for (let i = 0; i < subpathCombinations.length; i++) {\n    const subpathCombination = subpathCombinations[i];\n    const collection = collections && collections.find((entry) => entry.id === subpathCombination || entry.path === subpathCombination);\n    if (collection) {\n      const collectionPath = currentFullPath && currentFullPath.length > 0 ? currentFullPath + \"/\" + collection.path : collection.path;\n      const restOfThePath = removeInitialAndTrailingSlashes(removeInitialAndTrailingSlashes(path).replace(subpathCombination, \"\"));\n      const nextSegments = restOfThePath.length > 0 ? restOfThePath.split(\"/\") : [];\n      if (nextSegments.length > 0) {\n        const entityId = nextSegments[0];\n        const fullPath = collectionPath + \"/\" + entityId;\n        result.push(new EntityReference(entityId, collectionPath));\n        if (nextSegments.length > 1) {\n          const newPath = nextSegments.slice(1).join(\"/\");\n          if (!collection) {\n            throw Error(\"collection not found resolving path: \" + collection);\n          }\n          if (collection.subcollections) {\n            result.push(...getParentReferencesFromPath({\n              path: newPath,\n              collections: collection.subcollections,\n              currentFullPath: fullPath\n            }));\n          }\n        }\n      }\n      break;\n    }\n  }\n  return result;\n}\nconst DEFAULT_BASE_PATH = \"/\";\nconst DEFAULT_COLLECTION_PATH = \"/c\";\nfunction useBuildNavigationController(props) {\n  const {\n    basePath = DEFAULT_BASE_PATH,\n    baseCollectionPath = DEFAULT_COLLECTION_PATH,\n    authController,\n    collections: collectionsProp,\n    collectionPermissions,\n    views: viewsProp,\n    adminViews: adminViewsProp,\n    viewsOrder,\n    userConfigPersistence,\n    dataSourceDelegate,\n    injectCollections,\n    disabled\n  } = props;\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const collectionsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  const viewsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  const adminViewsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  const [initialised, setInitialised] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [topLevelNavigation, setTopLevelNavigation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const [navigationLoading, setNavigationLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n  const [navigationLoadingError, setNavigationLoadingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const cleanBasePath = removeInitialAndTrailingSlashes(basePath);\n  const cleanBaseCollectionPath = removeInitialAndTrailingSlashes(baseCollectionPath);\n  const homeUrl = cleanBasePath ? `/${cleanBasePath}` : \"/\";\n  const fullCollectionPath = cleanBasePath ? `/${cleanBasePath}/${cleanBaseCollectionPath}` : `/${cleanBaseCollectionPath}`;\n  const buildCMSUrlPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path) => cleanBasePath ? `/${cleanBasePath}/${encodePath(path)}` : `/${encodePath(path)}`, [cleanBasePath]);\n  const buildUrlCollectionPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_0) => `${removeInitialAndTrailingSlashes(baseCollectionPath)}/${encodePath(path_0)}`, [baseCollectionPath]);\n  const computeTopNavigation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((collections, views, adminViews, viewsOrder_0) => {\n    let navigationEntries = [...(collections ?? []).map((collection) => !collection.hideFromNavigation ? {\n      url: buildUrlCollectionPath(collection.id ?? collection.path),\n      type: \"collection\",\n      name: collection.name.trim(),\n      path: collection.id ?? collection.path,\n      collection,\n      description: collection.description?.trim(),\n      group: getGroup(collection)\n    } : void 0).filter(Boolean), ...(views ?? []).map((view) => !view.hideFromNavigation ? {\n      url: buildCMSUrlPath(Array.isArray(view.path) ? view.path[0] : view.path),\n      name: view.name.trim(),\n      type: \"view\",\n      path: view.path,\n      view,\n      description: view.description?.trim(),\n      group: getGroup(view)\n    } : void 0).filter(Boolean), ...(adminViews ?? []).map((view_0) => !view_0.hideFromNavigation ? {\n      url: buildCMSUrlPath(Array.isArray(view_0.path) ? view_0.path[0] : view_0.path),\n      name: view_0.name.trim(),\n      type: \"admin\",\n      path: view_0.path,\n      view: view_0,\n      description: view_0.description?.trim(),\n      group: \"Admin\"\n    } : void 0).filter(Boolean)];\n    navigationEntries = navigationEntries.sort((a, b) => {\n      if (a.group !== \"Views\" && a.group !== \"Admin\" && (b.group === \"Views\" || b.group === \"Admin\")) {\n        return -1;\n      }\n      if (b.group !== \"Views\" && b.group !== \"Admin\" && (a.group === \"Views\" || a.group === \"Admin\")) {\n        return 1;\n      }\n      if (a.group === \"Admin\" && b.group !== \"Admin\") {\n        return 1;\n      }\n      if (a.group !== \"Admin\" && b.group === \"Admin\") {\n        return -1;\n      }\n      if (a.group === \"Views\" && b.group !== \"Views\") {\n        return -1;\n      }\n      if (a.group !== \"Views\" && b.group === \"Views\") {\n        return 1;\n      }\n      return 0;\n    });\n    if (viewsOrder_0) {\n      navigationEntries = navigationEntries.sort((a_0, b_0) => {\n        const aIndex = viewsOrder_0.indexOf(a_0.path);\n        const bIndex = viewsOrder_0.indexOf(b_0.path);\n        if (aIndex === -1 && bIndex === -1) {\n          return 0;\n        }\n        if (aIndex === -1) {\n          return 1;\n        }\n        if (bIndex === -1) {\n          return -1;\n        }\n        return aIndex - bIndex;\n      });\n    }\n    const groups = Object.values(navigationEntries).map((e) => e.group).filter(Boolean).filter((value, index, array) => array.indexOf(value) === index);\n    return {\n      navigationEntries,\n      groups\n    };\n  }, [buildCMSUrlPath, buildUrlCollectionPath]);\n  const refreshNavigation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async () => {\n    if (disabled || authController.initialLoading) return;\n    console.debug(\"Refreshing navigation\");\n    try {\n      const [resolvedCollections = [], resolvedViews, resolvedAdminViews = []] = await Promise.all([resolveCollections(collectionsProp, collectionPermissions, authController, dataSourceDelegate, injectCollections), resolveCMSViews(viewsProp, authController, dataSourceDelegate), resolveCMSViews(adminViewsProp, authController, dataSourceDelegate)]);\n      let shouldUpdateTopLevelNav = false;\n      if (!areCollectionListsEqual(collectionsRef.current ?? [], resolvedCollections)) {\n        collectionsRef.current = resolvedCollections;\n        console.debug(\"Collections have changed\", resolvedCollections);\n        shouldUpdateTopLevelNav = true;\n      }\n      if (collectionsRef.current === void 0) {\n        collectionsRef.current = resolvedCollections;\n        shouldUpdateTopLevelNav = true;\n      }\n      if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(viewsRef.current, resolvedViews)) {\n        viewsRef.current = resolvedViews;\n        shouldUpdateTopLevelNav = true;\n      }\n      if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(adminViewsRef.current, resolvedAdminViews)) {\n        adminViewsRef.current = resolvedAdminViews;\n        shouldUpdateTopLevelNav = true;\n      }\n      const computedTopLevelNav = computeTopNavigation(resolvedCollections, resolvedViews, resolvedAdminViews, viewsOrder);\n      if (shouldUpdateTopLevelNav && !react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(topLevelNavigation, computedTopLevelNav)) {\n        setTopLevelNavigation(computedTopLevelNav);\n      }\n    } catch (e_0) {\n      console.error(e_0);\n      setNavigationLoadingError(e_0);\n    }\n    if (navigationLoading) setNavigationLoading(false);\n    if (!initialised) setInitialised(true);\n  }, [collectionsProp, collectionPermissions, authController.user, authController.initialLoading, disabled, viewsProp, adminViewsProp, computeTopNavigation, injectCollections]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    refreshNavigation();\n  }, [refreshNavigation]);\n  const getCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((idOrPath, includeUserOverride = false) => {\n    const collections_0 = collectionsRef.current;\n    if (!collections_0) return void 0;\n    const baseCollection = getCollectionByPathOrId(removeInitialAndTrailingSlashes(idOrPath), collections_0);\n    const userOverride = includeUserOverride ? userConfigPersistence?.getCollectionConfig(idOrPath) : void 0;\n    const overriddenCollection = baseCollection ? mergeDeep(baseCollection, userOverride ?? {}) : void 0;\n    let result = overriddenCollection;\n    if (overriddenCollection) {\n      const subcollections = overriddenCollection.subcollections;\n      const callbacks = overriddenCollection.callbacks;\n      const permissions = overriddenCollection.permissions;\n      result = {\n        ...result,\n        subcollections: result?.subcollections ?? subcollections,\n        callbacks: result?.callbacks ?? callbacks,\n        permissions: result?.permissions ?? permissions\n      };\n    }\n    if (!result) return void 0;\n    return {\n      ...overriddenCollection,\n      ...result\n    };\n  }, [userConfigPersistence]);\n  const getCollectionFromPaths = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((pathSegments) => {\n    const collections_1 = collectionsRef.current;\n    if (collections_1 === void 0) throw Error(\"getCollectionFromPaths: Collections have not been initialised yet\");\n    let currentCollections = [...collections_1 ?? []];\n    for (let i = 0; i < pathSegments.length; i++) {\n      const pathSegment = pathSegments[i];\n      const collection_0 = currentCollections.find((c2) => c2.id === pathSegment || c2.path === pathSegment);\n      if (!collection_0) return void 0;\n      currentCollections = collection_0.subcollections;\n      if (i === pathSegments.length - 1) return collection_0;\n    }\n    return void 0;\n  }, []);\n  const getCollectionFromIds = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((ids) => {\n    const collections_2 = collectionsRef.current;\n    if (collections_2 === void 0) throw Error(\"getCollectionFromIds: Collections have not been initialised yet\");\n    let currentCollections_0 = [...collections_2 ?? []];\n    for (let i_0 = 0; i_0 < ids.length; i_0++) {\n      const id = ids[i_0];\n      const collection_1 = currentCollections_0.find((c_0) => c_0.id === id);\n      if (!collection_1) return void 0;\n      currentCollections_0 = collection_1.subcollections;\n      if (i_0 === ids.length - 1) return collection_1;\n    }\n    return void 0;\n  }, []);\n  const isUrlCollectionPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_1) => removeInitialAndTrailingSlashes(path_1 + \"/\").startsWith(removeInitialAndTrailingSlashes(fullCollectionPath) + \"/\"), [fullCollectionPath]);\n  const urlPathToDataPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_2) => {\n    if (path_2.startsWith(fullCollectionPath)) return path_2.replace(fullCollectionPath, \"\");\n    throw Error(\"Expected path starting with \" + fullCollectionPath);\n  }, [fullCollectionPath]);\n  const resolveIdsFrom = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_3) => {\n    const collections_3 = collectionsRef.current ?? [];\n    return resolveCollectionPathIds(path_3, collections_3);\n  }, []);\n  const getAllParentReferencesForPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_4) => {\n    const collections_4 = collectionsRef.current ?? [];\n    return getParentReferencesFromPath({\n      path: path_4,\n      collections: collections_4\n    });\n  }, []);\n  const getParentCollectionIds = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_5) => {\n    const strings = path_5.split(\"/\");\n    const oddPathSegments = strings.filter((_, i_1) => i_1 % 2 === 0);\n    oddPathSegments.pop();\n    const result_0 = [];\n    for (let i_2 = 1; i_2 <= oddPathSegments.length; i_2++) {\n      result_0.push(oddPathSegments.slice(0, i_2));\n    }\n    return result_0.map((r) => getCollectionFromPaths(r)?.id).filter(Boolean);\n  }, [getAllParentReferencesForPath]);\n  const convertIdsToPaths = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((ids_0) => {\n    const collections_5 = collectionsRef.current;\n    let currentCollections_1 = collections_5;\n    const paths = [];\n    for (let i_3 = 0; i_3 < ids_0.length; i_3++) {\n      const id_0 = ids_0[i_3];\n      const collection_2 = currentCollections_1.find((c_1) => c_1.id === id_0);\n      if (!collection_2) throw Error(`Collection with id ${id_0} not found`);\n      paths.push(collection_2.path);\n      currentCollections_1 = collection_2.subcollections;\n    }\n    return paths;\n  }, [getCollectionFromIds]);\n  return {\n    collections: collectionsRef.current,\n    views: viewsRef.current,\n    adminViews: adminViewsRef.current,\n    loading: !initialised || navigationLoading,\n    navigationLoadingError,\n    homeUrl,\n    basePath,\n    baseCollectionPath,\n    initialised,\n    getCollection,\n    getCollectionFromPaths,\n    getCollectionFromIds,\n    isUrlCollectionPath,\n    urlPathToDataPath,\n    buildUrlCollectionPath,\n    resolveIdsFrom,\n    topLevelNavigation,\n    refreshNavigation,\n    getParentReferencesFromPath: getAllParentReferencesForPath,\n    getParentCollectionIds,\n    convertIdsToPaths,\n    navigate\n  };\n}\nfunction encodePath(input) {\n  return encodeURIComponent(removeInitialAndTrailingSlashes(input)).replaceAll(\"%2F\", \"/\").replaceAll(\"%23\", \"#\");\n}\nfunction filterOutNotAllowedCollections(resolvedCollections, authController) {\n  return resolvedCollections.filter((c2) => Boolean(c2.path)).filter((c2) => {\n    if (!c2.permissions) return true;\n    const resolvedPermissions = resolvePermissions(c2, authController, c2.path, null);\n    return resolvedPermissions?.read !== false;\n  }).map((c2) => {\n    if (!c2.subcollections) return c2;\n    return {\n      ...c2,\n      subcollections: filterOutNotAllowedCollections(c2.subcollections, authController)\n    };\n  });\n}\nasync function resolveCollections(collections, collectionPermissions, authController, dataSource, injectCollections) {\n  let resolvedCollections = [];\n  if (typeof collections === \"function\") {\n    resolvedCollections = await collections({\n      user: authController.user,\n      authController,\n      dataSource\n    });\n  } else if (Array.isArray(collections)) {\n    resolvedCollections = collections;\n  }\n  if (injectCollections) {\n    resolvedCollections = injectCollections(resolvedCollections ?? []);\n  }\n  resolvedCollections = applyPermissionsFunctionIfEmpty(resolvedCollections, collectionPermissions);\n  resolvedCollections = filterOutNotAllowedCollections(resolvedCollections, authController);\n  return resolvedCollections;\n}\nasync function resolveCMSViews(baseViews, authController, dataSource) {\n  let resolvedViews = [];\n  if (typeof baseViews === \"function\") {\n    resolvedViews = await baseViews({\n      user: authController.user,\n      authController,\n      dataSource\n    });\n  } else if (Array.isArray(baseViews)) {\n    resolvedViews = baseViews;\n  }\n  return resolvedViews;\n}\nfunction getGroup(collectionOrView) {\n  const trimmed = collectionOrView.group?.trim();\n  if (!trimmed || trimmed === \"\") {\n    return \"Views\";\n  }\n  return trimmed ?? \"Views\";\n}\nfunction areCollectionListsEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n  const aCopy = [...a];\n  const bCopy = [...b];\n  const aSorted = aCopy.sort((x, y) => x.id.localeCompare(y.id));\n  const bSorted = bCopy.sort((x, y) => x.id.localeCompare(y.id));\n  return aSorted.every((value, index) => areCollectionsEqual(value, bSorted[index]));\n}\nfunction areCollectionsEqual(a, b) {\n  const {\n    subcollections: subcollectionsA,\n    ...restA\n  } = a;\n  const {\n    subcollections: subcollectionsB,\n    ...restB\n  } = b;\n  if (!areCollectionListsEqual(subcollectionsA ?? [], subcollectionsB ?? [])) {\n    return false;\n  }\n  return react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(removeFunctions(restA), removeFunctions(restB));\n}\nfunction useBuildLocalConfigurationPersistence() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(15);\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = {};\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  const configCache = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(t0);\n  const getCollectionFromStorage = _temp$q;\n  let t1;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = (path) => {\n      const storageKey_0 = `collection_config::${stripCollectionPath(path)}`;\n      if (configCache.current[storageKey_0]) {\n        return configCache.current[storageKey_0];\n      }\n      return getCollectionFromStorage(storageKey_0);\n    };\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const getCollectionConfig = t1;\n  let t2;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (path_0, data) => {\n      const storageKey_1 = `collection_config::${stripCollectionPath(path_0)}`;\n      localStorage.setItem(storageKey_1, JSON.stringify(data));\n      const cachedConfig = configCache.current[storageKey_1];\n      const newConfig = mergeDeep(cachedConfig ?? getCollectionFromStorage(path_0), data);\n      configCache.current[storageKey_1] = mergeDeep(configCache.current[storageKey_1], newConfig);\n    };\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  const onCollectionModified = t2;\n  let t3;\n  if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = [];\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  const [recentlyVisitedPaths, _setRecentlyVisitedPaths] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t3);\n  let t4;\n  if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = [];\n    $[4] = t4;\n  } else {\n    t4 = $[4];\n  }\n  const [favouritePaths, _setFavouritePaths] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t4);\n  let t5;\n  if ($[5] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t5 = [];\n    $[5] = t5;\n  } else {\n    t5 = $[5];\n  }\n  const [collapsedGroups, _setCollapsedGroups] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t5);\n  let t6;\n  let t7;\n  if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t6 = () => {\n      _setRecentlyVisitedPaths(localStorage.getItem(\"recently_visited_paths\") ? JSON.parse(localStorage.getItem(\"recently_visited_paths\")) : []);\n      _setFavouritePaths(localStorage.getItem(\"favourite_paths\") ? JSON.parse(localStorage.getItem(\"favourite_paths\")) : []);\n      _setCollapsedGroups(localStorage.getItem(\"collapsed_groups\") ? JSON.parse(localStorage.getItem(\"collapsed_groups\")) : []);\n    };\n    t7 = [];\n    $[6] = t6;\n    $[7] = t7;\n  } else {\n    t6 = $[6];\n    t7 = $[7];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t6, t7);\n  let t8;\n  if ($[8] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = (paths) => {\n      localStorage.setItem(\"recently_visited_paths\", JSON.stringify(paths));\n      _setRecentlyVisitedPaths(paths);\n    };\n    $[8] = t8;\n  } else {\n    t8 = $[8];\n  }\n  const setRecentlyVisitedPaths = t8;\n  let t9;\n  if ($[9] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = (paths_0) => {\n      localStorage.setItem(\"favourite_paths\", JSON.stringify(paths_0));\n      _setFavouritePaths(paths_0);\n    };\n    $[9] = t9;\n  } else {\n    t9 = $[9];\n  }\n  const setFavouritePaths = t9;\n  let t10;\n  if ($[10] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t10 = (paths_1) => {\n      localStorage.setItem(\"collapsed_groups\", JSON.stringify(paths_1));\n      _setCollapsedGroups(paths_1);\n    };\n    $[10] = t10;\n  } else {\n    t10 = $[10];\n  }\n  const setCollapsedGroups = t10;\n  let t11;\n  if ($[11] !== collapsedGroups || $[12] !== favouritePaths || $[13] !== recentlyVisitedPaths) {\n    t11 = {\n      onCollectionModified,\n      getCollectionConfig,\n      recentlyVisitedPaths,\n      setRecentlyVisitedPaths,\n      favouritePaths,\n      setFavouritePaths,\n      collapsedGroups,\n      setCollapsedGroups\n    };\n    $[11] = collapsedGroups;\n    $[12] = favouritePaths;\n    $[13] = recentlyVisitedPaths;\n    $[14] = t11;\n  } else {\n    t11 = $[14];\n  }\n  return t11;\n}\nfunction _temp$q(storageKey) {\n  const item = localStorage.getItem(storageKey);\n  return item ? JSON.parse(item) : {};\n}\nfunction useBuildModeController() {\n  const prefersDarkModeQuery = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (typeof window === \"undefined\") return false;\n    const mediaQueryList = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    return mediaQueryList.matches;\n  }, []);\n  const prefersDarkModeStorage = localStorage.getItem(\"prefers-dark-mode\") != null ? localStorage.getItem(\"prefers-dark-mode\") === \"true\" : null;\n  const prefersDarkMode = prefersDarkModeStorage ?? prefersDarkModeQuery();\n  const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(prefersDarkMode ? \"dark\" : \"light\");\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setMode(prefersDarkMode ? \"dark\" : \"light\");\n    setDocumentMode(prefersDarkMode ? \"dark\" : \"light\");\n  }, [prefersDarkMode]);\n  const setDocumentMode = (mode_0) => {\n    document.body.style.setProperty(\"color-scheme\", mode_0);\n    document.documentElement.dataset.theme = mode_0;\n  };\n  const setModeInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((mode_1) => {\n    if (mode_1 === \"light\") {\n      setDocumentMode(\"light\");\n      localStorage.setItem(\"prefers-dark-mode\", \"false\");\n      setMode(\"light\");\n    } else if (mode_1 === \"dark\") {\n      setDocumentMode(\"dark\");\n      localStorage.setItem(\"prefers-dark-mode\", \"true\");\n      setMode(\"dark\");\n    } else {\n      const preferredMode = prefersDarkModeQuery() ? \"dark\" : \"light\";\n      setDocumentMode(preferredMode);\n      localStorage.removeItem(\"prefers-dark-mode\");\n      setMode(preferredMode);\n    }\n  }, [prefersDarkModeQuery]);\n  return {\n    mode,\n    setMode: setModeInternal\n  };\n}\nfunction useValidateAuthenticator(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);\n  const {\n    disabled,\n    authController,\n    authenticator,\n    storageSource,\n    dataSourceDelegate\n  } = t0;\n  const authenticationEnabled = Boolean(authenticator);\n  const [authLoading, setAuthLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(authenticationEnabled);\n  const [notAllowedError, setNotAllowedError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [authVerified, setAuthVerified] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!authenticationEnabled || Boolean(authController.loginSkipped));\n  const canAccessMainView = authVerified && (!authenticationEnabled || Boolean(authController.user) || Boolean(authController.loginSkipped)) && !notAllowedError;\n  let t1;\n  let t2;\n  if ($[0] !== authController.loginSkipped) {\n    t1 = () => {\n      if (authController.loginSkipped) {\n        setAuthVerified(true);\n      }\n    };\n    t2 = [authController.loginSkipped];\n    $[0] = authController.loginSkipped;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t1 = $[1];\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  const checkedUserRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  let t3;\n  if ($[3] !== authController || $[4] !== authenticator || $[5] !== dataSourceDelegate || $[6] !== disabled || $[7] !== storageSource) {\n    t3 = async () => {\n      if (disabled) {\n        return;\n      }\n      if (authController.initialLoading) {\n        return;\n      }\n      if (!authController.user && !authController.loginSkipped) {\n        checkedUserRef.current = void 0;\n        setAuthLoading(false);\n        setAuthVerified(false);\n        return;\n      }\n      const delegateUser = authController.user;\n      if (authenticator instanceof Function && delegateUser && !react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(checkedUserRef.current?.uid, delegateUser.uid)) {\n        setAuthLoading(true);\n        try {\n          const allowed = await authenticator({\n            user: delegateUser,\n            authController,\n            dataSourceDelegate,\n            storageSource\n          });\n          if (!allowed) {\n            authController.signOut();\n            setNotAllowedError(true);\n          }\n        } catch (t42) {\n          const e = t42;\n          setNotAllowedError(e);\n          authController.signOut();\n        }\n        setAuthLoading(false);\n        setAuthVerified(true);\n        checkedUserRef.current = delegateUser;\n      } else {\n        setAuthLoading(false);\n      }\n      if (!authController.initialLoading && !delegateUser) {\n        setAuthVerified(true);\n      }\n    };\n    $[3] = authController;\n    $[4] = authenticator;\n    $[5] = dataSourceDelegate;\n    $[6] = disabled;\n    $[7] = storageSource;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  const checkAuthentication = t3;\n  let t4;\n  let t5;\n  if ($[9] !== checkAuthentication) {\n    t4 = () => {\n      checkAuthentication();\n    };\n    t5 = [checkAuthentication];\n    $[9] = checkAuthentication;\n    $[10] = t4;\n    $[11] = t5;\n  } else {\n    t4 = $[10];\n    t5 = $[11];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t4, t5);\n  const t6 = authenticationEnabled && authLoading;\n  let t7;\n  if ($[12] !== authVerified || $[13] !== canAccessMainView || $[14] !== notAllowedError || $[15] !== t6) {\n    t7 = {\n      canAccessMainView,\n      authLoading: t6,\n      notAllowedError,\n      authVerified\n    };\n    $[12] = authVerified;\n    $[13] = canAccessMainView;\n    $[14] = notAllowedError;\n    $[15] = t6;\n    $[16] = t7;\n  } else {\n    t7 = $[16];\n  }\n  return t7;\n}\nfunction EmptyValue() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(1);\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"rounded-full bg-surface-200 bg-opacity-30 dark:bg-opacity-20 w-5 h-2 inline-block\" });\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  return t0;\n}\nconst SMALL_THUMBNAIL = 40;\nconst MEDIUM_THUMBNAIL = 100;\nconst LARGE_THUMBNAIL = 200;\nfunction getThumbnailMeasure(size) {\n  if (size === \"small\") return SMALL_THUMBNAIL;\n  else if (size === \"medium\") return MEDIUM_THUMBNAIL;\n  else if (size === \"large\") return LARGE_THUMBNAIL;\n  else throw Error(\"Thumbnail size not mapped\");\n}\nfunction getPreviewSizeFrom(size) {\n  switch (size) {\n    case \"xs\":\n    case \"s\":\n      return \"small\";\n    case \"m\":\n      return \"medium\";\n    case \"l\":\n    case \"xl\":\n      return \"large\";\n    default:\n      throw Error(\"Missing mapping value in getPreviewSizeFrom: \" + size);\n  }\n}\nfunction ImagePreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(26);\n  const {\n    size,\n    url\n  } = t0;\n  let t1;\n  let t2;\n  if ($[0] !== size) {\n    t2 = getThumbnailMeasure(size);\n    $[0] = size;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  t1 = t2;\n  const imageSize = t1;\n  if (size === \"small\") {\n    const t32 = \"tiny_image_preview_\" + url;\n    let t42;\n    if ($[2] !== imageSize) {\n      t42 = {\n        position: \"relative\",\n        objectFit: \"cover\",\n        width: imageSize,\n        height: imageSize,\n        maxHeight: \"100%\"\n      };\n      $[2] = imageSize;\n      $[3] = t42;\n    } else {\n      t42 = $[3];\n    }\n    let t52;\n    if ($[4] !== t32 || $[5] !== t42 || $[6] !== url) {\n      t52 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", { src: url, className: \"rounded-md\", style: t42 }, t32);\n      $[4] = t32;\n      $[5] = t42;\n      $[6] = url;\n      $[7] = t52;\n    } else {\n      t52 = $[7];\n    }\n    return t52;\n  }\n  let t3;\n  if ($[8] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = {\n      maxWidth: \"100%\",\n      maxHeight: \"100%\"\n    };\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  const imageStyle = t3;\n  let t4;\n  if ($[9] !== imageSize) {\n    t4 = {\n      width: imageSize,\n      height: imageSize\n    };\n    $[9] = imageSize;\n    $[10] = t4;\n  } else {\n    t4 = $[10];\n  }\n  const t5 = \"image_preview_\" + url;\n  let t6;\n  if ($[11] !== url) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", { src: url, className: \"rounded-md\", style: imageStyle });\n    $[11] = url;\n    $[12] = t6;\n  } else {\n    t6 = $[12];\n  }\n  let t7;\n  if ($[13] !== url) {\n    t7 = navigator && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { asChild: true, title: \"Copy url to clipboard\", side: \"bottom\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { variant: \"filled\", size: \"small\", onClick: (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      return navigator.clipboard.writeText(url);\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ContentCopyIcon, { className: \"text-surface-700 dark:text-surface-300\", size: \"smallest\" }) }) });\n    $[13] = url;\n    $[14] = t7;\n  } else {\n    t7 = $[14];\n  }\n  let t8;\n  if ($[15] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon, { className: \"text-surface-700 dark:text-surface-300\", size: \"smallest\" });\n    $[15] = t8;\n  } else {\n    t8 = $[15];\n  }\n  let t9;\n  if ($[16] !== url) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Open image in new tab\", side: \"bottom\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: \"invisible group-hover:visible\", variant: \"filled\", component: \"a\", href: url, rel: \"noopener noreferrer\", target: \"_blank\", size: \"small\", onClick: _temp$p, children: t8 }) });\n    $[16] = url;\n    $[17] = t9;\n  } else {\n    t9 = $[17];\n  }\n  let t10;\n  if ($[18] !== t7 || $[19] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row gap-2 absolute bottom-[-4px] right-[-4px] invisible group-hover:visible\", children: [\n      t7,\n      t9\n    ] });\n    $[18] = t7;\n    $[19] = t9;\n    $[20] = t10;\n  } else {\n    t10 = $[20];\n  }\n  let t11;\n  if ($[21] !== t10 || $[22] !== t4 || $[23] !== t5 || $[24] !== t6) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"relative flex items-center justify-center max-w-full max-h-full group\", style: t4, children: [\n      t6,\n      t10\n    ] }, t5);\n    $[21] = t10;\n    $[22] = t4;\n    $[23] = t5;\n    $[24] = t6;\n    $[25] = t11;\n  } else {\n    t11 = $[25];\n  }\n  return t11;\n}\nfunction _temp$p(e_0) {\n  return e_0.stopPropagation();\n}\nfunction UrlComponentPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(31);\n  const {\n    url,\n    previewType,\n    size,\n    hint,\n    interactive: t1\n  } = t0;\n  const interactive = t1 === void 0 ? true : t1;\n  if (!previewType) {\n    if (!url || !url.trim()) {\n      let t22;\n      if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {});\n        $[0] = t22;\n      } else {\n        t22 = $[0];\n      }\n      return t22;\n    }\n    let t2;\n    if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon, { size: \"small\" });\n      $[1] = t2;\n    } else {\n      t2 = $[1];\n    }\n    let t3;\n    if ($[2] !== url) {\n      t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"a\", { className: \"flex gap-4 break-words items-center font-medium text-primary visited:text-primary dark:visited:text-primary dark:text-primary\", href: url, rel: \"noopener noreferrer\", onMouseDown: _temp$o, target: \"_blank\", children: [\n        t2,\n        url\n      ] });\n      $[2] = url;\n      $[3] = t3;\n    } else {\n      t3 = $[3];\n    }\n    return t3;\n  }\n  if (previewType === \"image\") {\n    let t2;\n    if ($[4] !== size || $[5] !== url) {\n      t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ImagePreview, { url, size });\n      $[4] = size;\n      $[5] = url;\n      $[6] = t2;\n    } else {\n      t2 = $[6];\n    }\n    return t2;\n  } else {\n    if (previewType === \"audio\") {\n      let t2;\n      if ($[7] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", { children: \"audio\" });\n        $[7] = t2;\n      } else {\n        t2 = $[7];\n      }\n      let t3;\n      if ($[8] !== url) {\n        t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"audio\", { controls: true, className: \"max-w-100%\", src: url, children: [\n          \"Your browser does not support the\",\n          t2,\n          \" element.\"\n        ] });\n        $[8] = url;\n        $[9] = t3;\n      } else {\n        t3 = $[9];\n      }\n      return t3;\n    } else {\n      if (previewType === \"video\") {\n        let t2;\n        if ($[10] !== interactive || $[11] !== size || $[12] !== url) {\n          t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VideoPreview, { size, src: url, interactive });\n          $[10] = interactive;\n          $[11] = size;\n          $[12] = url;\n          $[13] = t2;\n        } else {\n          t2 = $[13];\n        }\n        return t2;\n      } else {\n        let t2;\n        if ($[14] !== size) {\n          t2 = getThumbnailMeasure(size);\n          $[14] = size;\n          $[15] = t2;\n        } else {\n          t2 = $[15];\n        }\n        let t3;\n        if ($[16] !== size) {\n          t3 = getThumbnailMeasure(size);\n          $[16] = size;\n          $[17] = t3;\n        } else {\n          t3 = $[17];\n        }\n        let t4;\n        if ($[18] !== t2 || $[19] !== t3) {\n          t4 = {\n            width: t2,\n            height: t3\n          };\n          $[18] = t2;\n          $[19] = t3;\n          $[20] = t4;\n        } else {\n          t4 = $[20];\n        }\n        let t5;\n        if ($[21] === Symbol.for(\"react.memo_cache_sentinel\")) {\n          t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DescriptionIcon, { className: \"text-surface-700 dark:text-surface-300\" });\n          $[21] = t5;\n        } else {\n          t5 = $[21];\n        }\n        let t6;\n        if ($[22] !== hint) {\n          t6 = hint && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { className: \"max-w-full truncate rtl text-left\", variant: \"caption\", children: hint });\n          $[22] = hint;\n          $[23] = t6;\n        } else {\n          t6 = $[23];\n        }\n        let t7;\n        if ($[24] !== t4 || $[25] !== t6 || $[26] !== url) {\n          t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"a\", { href: url, rel: \"noopener noreferrer\", target: \"_blank\", onClick: _temp2$c, className: \"flex flex-col items-center justify-center\", style: t4, children: [\n            t5,\n            t6\n          ] });\n          $[24] = t4;\n          $[25] = t6;\n          $[26] = url;\n          $[27] = t7;\n        } else {\n          t7 = $[27];\n        }\n        let t8;\n        if ($[28] !== hint || $[29] !== t7) {\n          t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: hint, children: t7 });\n          $[28] = hint;\n          $[29] = t7;\n          $[30] = t8;\n        } else {\n          t8 = $[30];\n        }\n        return t8;\n      }\n    }\n  }\n}\nfunction _temp2$c(e_0) {\n  return e_0.stopPropagation();\n}\nfunction _temp$o(e) {\n  e.preventDefault();\n}\nfunction VideoPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13);\n  const {\n    size,\n    src,\n    interactive\n  } = t0;\n  let t1;\n  if (size === \"small\") {\n    t1 = \"140px\";\n  } else {\n    if (size === \"medium\") {\n      t1 = \"240px\";\n    } else {\n      if (size === \"large\") {\n        t1 = \"100%\";\n      } else {\n        throw new Error(\"Invalid size\");\n      }\n    }\n  }\n  const imageSize = t1;\n  let t2;\n  if ($[0] !== interactive) {\n    t2 = {\n      controls: interactive\n    };\n    $[0] = interactive;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const videoProps = t2;\n  let t3;\n  if ($[2] !== imageSize) {\n    t3 = {\n      position: \"relative\",\n      objectFit: \"cover\",\n      width: imageSize,\n      minWidth: \"140px\",\n      maxHeight: \"100%\"\n    };\n    $[2] = imageSize;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  const t4 = !interactive;\n  let t5;\n  if ($[4] !== t4) {\n    t5 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"max-w-100% rounded\", {\n      \"pointer-events-none\": t4\n    });\n    $[4] = t4;\n    $[5] = t5;\n  } else {\n    t5 = $[5];\n  }\n  let t6;\n  if ($[6] !== src) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"source\", { src });\n    $[6] = src;\n    $[7] = t6;\n  } else {\n    t6 = $[7];\n  }\n  let t7;\n  if ($[8] !== t3 || $[9] !== t5 || $[10] !== t6 || $[11] !== videoProps) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"video\", { style: t3, ...videoProps, className: t5, children: t6 });\n    $[8] = t3;\n    $[9] = t5;\n    $[10] = t6;\n    $[11] = videoProps;\n    $[12] = t7;\n  } else {\n    t7 = $[12];\n  }\n  return t7;\n}\nfunction SkeletonPropertyComponent(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(27);\n  const {\n    property,\n    size\n  } = t0;\n  if (!property) {\n    console.error(\"No property assigned for skeleton component\", property, size);\n  }\n  let content;\n  if (property.dataType === \"string\") {\n    const stringProperty = property;\n    if (stringProperty.url) {\n      let t1;\n      if ($[0] !== size || $[1] !== stringProperty) {\n        t1 = renderUrlComponent(stringProperty, size);\n        $[0] = size;\n        $[1] = stringProperty;\n        $[2] = t1;\n      } else {\n        t1 = $[2];\n      }\n      content = t1;\n    } else {\n      if (stringProperty.storage) {\n        let t1;\n        if ($[3] !== size) {\n          t1 = renderSkeletonImageThumbnail(size);\n          $[3] = size;\n          $[4] = t1;\n        } else {\n          t1 = $[4];\n        }\n        content = t1;\n      } else {\n        let t1;\n        if ($[5] === Symbol.for(\"react.memo_cache_sentinel\")) {\n          t1 = renderSkeletonText();\n          $[5] = t1;\n        } else {\n          t1 = $[5];\n        }\n        content = t1;\n      }\n    }\n  } else {\n    if (property.dataType === \"array\") {\n      const arrayProperty = property;\n      if (arrayProperty.of) {\n        if (Array.isArray(arrayProperty.of)) {\n          let t1;\n          if ($[6] !== arrayProperty.of) {\n            t1 = arrayProperty.of.map(_temp$n);\n            $[6] = arrayProperty.of;\n            $[7] = t1;\n          } else {\n            t1 = $[7];\n          }\n          let t2;\n          if ($[8] !== t1) {\n            t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n              t1,\n              \" \"\n            ] });\n            $[8] = t1;\n            $[9] = t2;\n          } else {\n            t2 = $[9];\n          }\n          content = t2;\n        } else {\n          if (arrayProperty.of.dataType === \"map\" && arrayProperty.of.properties) {\n            let t1;\n            if ($[10] !== arrayProperty.of.previewProperties || $[11] !== arrayProperty.of.properties || $[12] !== size) {\n              t1 = renderArrayOfMaps(arrayProperty.of.properties, size, arrayProperty.of.previewProperties);\n              $[10] = arrayProperty.of.previewProperties;\n              $[11] = arrayProperty.of.properties;\n              $[12] = size;\n              $[13] = t1;\n            } else {\n              t1 = $[13];\n            }\n            content = t1;\n          } else {\n            if (arrayProperty.of.dataType === \"string\") {\n              if (arrayProperty.of.enumValues) {\n                let t1;\n                if ($[14] === Symbol.for(\"react.memo_cache_sentinel\")) {\n                  t1 = renderArrayEnumTableCell();\n                  $[14] = t1;\n                } else {\n                  t1 = $[14];\n                }\n                content = t1;\n              } else {\n                if (arrayProperty.of.storage) {\n                  let t1;\n                  if ($[15] !== arrayProperty.of) {\n                    t1 = renderGenericArrayCell(arrayProperty.of);\n                    $[15] = arrayProperty.of;\n                    $[16] = t1;\n                  } else {\n                    t1 = $[16];\n                  }\n                  content = t1;\n                } else {\n                  let t1;\n                  if ($[17] === Symbol.for(\"react.memo_cache_sentinel\")) {\n                    t1 = renderArrayOfStrings();\n                    $[17] = t1;\n                  } else {\n                    t1 = $[17];\n                  }\n                  content = t1;\n                }\n              }\n            } else {\n              let t1;\n              if ($[18] !== arrayProperty.of) {\n                t1 = renderGenericArrayCell(arrayProperty.of);\n                $[18] = arrayProperty.of;\n                $[19] = t1;\n              } else {\n                t1 = $[19];\n              }\n              content = t1;\n            }\n          }\n        }\n      }\n    } else {\n      if (property.dataType === \"map\") {\n        const t1 = property;\n        let t2;\n        if ($[20] !== size || $[21] !== t1) {\n          t2 = renderMap(t1, size);\n          $[20] = size;\n          $[21] = t1;\n          $[22] = t2;\n        } else {\n          t2 = $[22];\n        }\n        content = t2;\n      } else {\n        if (property.dataType === \"date\") {\n          let t1;\n          if ($[23] === Symbol.for(\"react.memo_cache_sentinel\")) {\n            t1 = renderSkeletonText();\n            $[23] = t1;\n          } else {\n            t1 = $[23];\n          }\n          content = t1;\n        } else {\n          if (property.dataType === \"reference\") {\n            let t1;\n            if ($[24] === Symbol.for(\"react.memo_cache_sentinel\")) {\n              t1 = renderReference();\n              $[24] = t1;\n            } else {\n              t1 = $[24];\n            }\n            content = t1;\n          } else {\n            if (property.dataType === \"boolean\") {\n              let t1;\n              if ($[25] === Symbol.for(\"react.memo_cache_sentinel\")) {\n                t1 = renderSkeletonText();\n                $[25] = t1;\n              } else {\n                t1 = $[25];\n              }\n              content = t1;\n            } else {\n              let t1;\n              if ($[26] === Symbol.for(\"react.memo_cache_sentinel\")) {\n                t1 = renderSkeletonText();\n                $[26] = t1;\n              } else {\n                t1 = $[26];\n              }\n              content = t1;\n            }\n          }\n        }\n      }\n    }\n  }\n  return content || null;\n}\nfunction _temp$n(p, i) {\n  return renderGenericArrayCell(p, i);\n}\nfunction renderMap(property, size) {\n  if (!property.properties) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n  let mapPropertyKeys;\n  if (size === \"large\") {\n    mapPropertyKeys = Object.keys(property.properties);\n  } else {\n    mapPropertyKeys = property.previewProperties || Object.keys(property.properties);\n    if (size === \"medium\") mapPropertyKeys = mapPropertyKeys.slice(0, 3);\n    else if (size === \"small\") mapPropertyKeys = mapPropertyKeys.slice(0, 1);\n  }\n  if (size !== \"large\") return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full flex flex-col space-y-4\", children: mapPropertyKeys.map((key, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: property.properties && property.properties[key] && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property: property.properties[key], size: \"medium\" }) }, `map_${key}`)) });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"table\", { className: \"table-auto\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"tbody\", { children: mapPropertyKeys && mapPropertyKeys.map((key, index) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"tr\", { className: \"border-b last:border-b-0\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { className: \"align-top\", style: {\n        width: \"30%\"\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", { className: \"text-xs text-secondary\", children: property.properties[key].name }) }, `table-cell-title--${key}`),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { style: {\n        width: \"70%\"\n      }, children: property.properties && property.properties[key] && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property: property.properties[key], size: \"medium\" }) }, `table-cell-${key}`)\n    ] }, `map_preview_table__${index}`);\n  }) }) });\n}\nfunction renderArrayOfMaps(properties, size, previewProperties) {\n  let tableProperties = previewProperties;\n  if (!tableProperties || !tableProperties.length) {\n    tableProperties = Object.keys(properties);\n    if (size) tableProperties = tableProperties.slice(0, 3);\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"table\", { className: \"table-auto\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"tbody\", { children: [0, 1, 2].map((value, index) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"tr\", { children: tableProperties && tableProperties.map((key) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property: properties[key], size: \"medium\" }) }, `table-cell-${key}`)) }, `table_${value}_${index}`);\n  }) }) });\n}\nfunction renderArrayOfStrings() {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: [0, 1].map((value, index) => renderSkeletonText(index)) });\n}\nfunction renderArrayEnumTableCell() {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: [0, 1].map((value, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: renderSkeletonText(index) })) });\n}\nfunction renderGenericArrayCell(property, index = 0) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: [0, 1].map((value, index2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property, size: \"medium\" }, `i_${index2}`) })) }, \"array_index_\" + index);\n}\nfunction renderSkeletonImageThumbnail(size) {\n  const imageSize = size === \"small\" ? 40 : size === \"medium\" ? 100 : 200;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { width: imageSize, height: imageSize });\n}\nfunction renderReference() {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { width: 200, height: 100 });\n}\nfunction renderUrlComponent(property, size = \"large\") {\n  if (typeof property.url === \"boolean\") {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { style: {\n      display: \"flex\"\n    }, children: [\n      renderSkeletonIcon(),\n      renderSkeletonText()\n    ] });\n  }\n  return renderUrlFile(size);\n}\nfunction renderUrlFile(size) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: `w-${getThumbnailMeasure(size)} h-${getThumbnailMeasure(size)}`, children: renderSkeletonIcon() });\n}\nfunction renderSkeletonText(index, width = 120) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { width }, `skeleton_${index}`);\n}\nfunction renderSkeletonCaptionText(index) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { height: 20 });\n}\nfunction renderSkeletonIcon() {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { width: 24, height: 24 });\n}\nconst StorageThumbnail = react__WEBPACK_IMPORTED_MODULE_2__.memo(StorageThumbnailInternal, areEqual$1);\nfunction areEqual$1(prevProps, nextProps) {\n  return prevProps.size === nextProps.size && prevProps.storagePathOrDownloadUrl === nextProps.storagePathOrDownloadUrl && prevProps.storeUrl === nextProps.storeUrl && prevProps.interactive === nextProps.interactive;\n}\nconst URL_CACHE = {};\nfunction StorageThumbnailInternal(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(12);\n  const {\n    interactive,\n    storagePathOrDownloadUrl,\n    size\n  } = t0;\n  const [, setError] = react__WEBPACK_IMPORTED_MODULE_2__.useState(void 0);\n  const storage = useStorageSource();\n  const [downloadConfig, setDownloadConfig] = react__WEBPACK_IMPORTED_MODULE_2__.useState(URL_CACHE[storagePathOrDownloadUrl]);\n  let t1;\n  if ($[0] !== storage || $[1] !== storagePathOrDownloadUrl) {\n    t1 = () => {\n      if (!storagePathOrDownloadUrl) {\n        return;\n      }\n      let unmounted;\n      unmounted = false;\n      storage.getDownloadURL(storagePathOrDownloadUrl).then(function(downloadConfig_0) {\n        if (!unmounted) {\n          setDownloadConfig(downloadConfig_0);\n          URL_CACHE[storagePathOrDownloadUrl] = downloadConfig_0;\n        }\n      }).catch(setError);\n      return () => {\n        unmounted = true;\n      };\n    };\n    $[0] = storage;\n    $[1] = storagePathOrDownloadUrl;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  let t2;\n  if ($[3] !== storagePathOrDownloadUrl) {\n    t2 = [storagePathOrDownloadUrl];\n    $[3] = storagePathOrDownloadUrl;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  if (!storagePathOrDownloadUrl) {\n    return null;\n  }\n  const filetype = downloadConfig?.metadata ? getFiletype(downloadConfig?.metadata.contentType) : void 0;\n  const previewType = filetype?.startsWith(\"image\") ? \"image\" : filetype?.startsWith(\"video\") ? \"video\" : filetype?.startsWith(\"audio\") ? \"audio\" : \"file\";\n  if (downloadConfig?.fileNotFound) {\n    let t32;\n    if ($[5] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t32 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"File not found\" });\n      $[5] = t32;\n    } else {\n      t32 = $[5];\n    }\n    return t32;\n  }\n  let t3;\n  if ($[6] !== downloadConfig || $[7] !== interactive || $[8] !== previewType || $[9] !== size || $[10] !== storagePathOrDownloadUrl) {\n    t3 = downloadConfig?.url ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UrlComponentPreview, { previewType, url: downloadConfig.url, interactive, size, hint: storagePathOrDownloadUrl }) : renderSkeletonImageThumbnail(size);\n    $[6] = downloadConfig;\n    $[7] = interactive;\n    $[8] = previewType;\n    $[9] = size;\n    $[10] = storagePathOrDownloadUrl;\n    $[11] = t3;\n  } else {\n    t3 = $[11];\n  }\n  return t3;\n}\nfunction getFiletype(input) {\n  if (input.startsWith(\"image\")) return \"image/*\";\n  else if (input.startsWith(\"video\")) return \"video/*\";\n  else if (input.startsWith(\"audio\")) return \"audio/*\";\n  else if (input.startsWith(\"application\")) return \"application/*\";\n  else if (input.startsWith(\"text\")) return \"text/*\";\n  else if (input.startsWith(\"font\")) return \"font/*\";\n  else return input;\n}\nfunction EnumValuesChip(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    enumValues,\n    enumKey,\n    size,\n    className,\n    children\n  } = t0;\n  if (!enumValues) {\n    return null;\n  }\n  let label;\n  let t1;\n  if ($[0] !== enumKey || $[1] !== enumValues) {\n    const enumValuesConfig = enumToObjectEntries(enumValues);\n    const enumValue = enumKey !== void 0 ? getLabelOrConfigFrom(enumValuesConfig, enumKey) : void 0;\n    label = buildEnumLabel(enumValue);\n    t1 = getColorScheme(enumValuesConfig, enumKey);\n    $[0] = enumKey;\n    $[1] = enumValues;\n    $[2] = label;\n    $[3] = t1;\n  } else {\n    label = $[2];\n    t1 = $[3];\n  }\n  const colorScheme = t1;\n  const t2 = !label;\n  const t3 = !children && (label !== void 0 ? label : String(enumKey));\n  let t4;\n  if ($[4] !== children || $[5] !== className || $[6] !== colorScheme || $[7] !== size || $[8] !== t2 || $[9] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { className, colorScheme, error: t2, outlined: false, size, children: [\n      children,\n      t3\n    ] });\n    $[4] = children;\n    $[5] = className;\n    $[6] = colorScheme;\n    $[7] = size;\n    $[8] = t2;\n    $[9] = t3;\n    $[10] = t4;\n  } else {\n    t4 = $[10];\n  }\n  return t4;\n}\nfunction StringPropertyPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(20);\n  const {\n    propertyKey,\n    value,\n    property,\n    size\n  } = t0;\n  if (property.enumValues) {\n    const enumKey = value;\n    let t1;\n    if ($[0] !== property) {\n      t1 = resolvePropertyEnum(property);\n      $[0] = property;\n      $[1] = t1;\n    } else {\n      t1 = $[1];\n    }\n    const resolvedProperty = t1;\n    let t2;\n    if ($[2] !== enumKey || $[3] !== resolvedProperty.enumValues || $[4] !== size) {\n      t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues: resolvedProperty.enumValues, size });\n      $[2] = enumKey;\n      $[3] = resolvedProperty.enumValues;\n      $[4] = size;\n      $[5] = t2;\n    } else {\n      t2 = $[5];\n    }\n    return t2;\n  } else {\n    if (property.previewAsTag) {\n      const t1 = propertyKey ?? \"\";\n      let t2;\n      if ($[6] !== t1) {\n        t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.getColorSchemeForSeed)(t1);\n        $[6] = t1;\n        $[7] = t2;\n      } else {\n        t2 = $[7];\n      }\n      const colorScheme = t2;\n      let t3;\n      if ($[8] !== colorScheme || $[9] !== size || $[10] !== value) {\n        t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { colorScheme, size, children: value }) });\n        $[8] = colorScheme;\n        $[9] = size;\n        $[10] = value;\n        $[11] = t3;\n      } else {\n        t3 = $[11];\n      }\n      return t3;\n    } else {\n      if (property.url) {\n        const t1 = typeof property.url === \"string\" ? property.url : void 0;\n        let t2;\n        if ($[12] !== size || $[13] !== t1 || $[14] !== value) {\n          t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UrlComponentPreview, { size, url: value, previewType: t1 });\n          $[12] = size;\n          $[13] = t1;\n          $[14] = value;\n          $[15] = t2;\n        } else {\n          t2 = $[15];\n        }\n        return t2;\n      } else {\n        if (!value) {\n          let t12;\n          if ($[16] === Symbol.for(\"react.memo_cache_sentinel\")) {\n            t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n            $[16] = t12;\n          } else {\n            t12 = $[16];\n          }\n          return t12;\n        }\n        let t1;\n        if ($[17] !== size || $[18] !== value) {\n          const lines = value.split(\"\\n\");\n          t1 = value && value.includes(\"\\n\") ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"overflow-x-scroll\", size === \"small\" ? \"text-sm\" : \"\"), children: lines.map((str, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: str }),\n            index !== lines.length - 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"br\", {})\n          ] }, `string_preview_${index}`)) }) : size === \"small\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"text-sm\", children: value }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: value });\n          $[17] = size;\n          $[18] = value;\n          $[19] = t1;\n        } else {\n          t1 = $[19];\n        }\n        return t1;\n      }\n    }\n  }\n}\nfunction ArrayPropertyPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(12);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey) {\n    t1 = resolveArrayProperty({\n      propertyKey,\n      property: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const property = t1;\n  if (!property.of) {\n    throw Error(`You need to specify an 'of' prop (or specify a custom field) in your array property ${propertyKey}`);\n  }\n  if (property.dataType !== \"array\") {\n    throw Error(\"Picked wrong preview component ArrayPreview\");\n  }\n  const values = value;\n  if (!values) {\n    return null;\n  }\n  const childSize = size === \"medium\" ? \"medium\" : \"small\";\n  let t2;\n  if ($[4] !== childSize || $[5] !== property.of || $[6] !== property.resolvedProperties || $[7] !== propertyKey || $[8] !== values) {\n    t2 = values && values.map((value_0, index) => {\n      const of = property.resolvedProperties[index] ?? property.resolvedProperties[index] ?? (Array.isArray(property.of) ? property.of[index] : property.of);\n      return of ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"m-1 border-b last:border-b-0\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey, value: value_0, property: of, size: childSize }) }) }) }, \"preview_array_\" + index) : null;\n    });\n    $[4] = childSize;\n    $[5] = property.of;\n    $[6] = property.resolvedProperties;\n    $[7] = propertyKey;\n    $[8] = values;\n    $[9] = t2;\n  } else {\n    t2 = $[9];\n  }\n  let t3;\n  if ($[10] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: t2 });\n    $[10] = t2;\n    $[11] = t3;\n  } else {\n    t3 = $[11];\n  }\n  return t3;\n}\nfunction EntityPreview({\n  actions,\n  disabled,\n  hover,\n  collection: collectionProp,\n  previewProperties,\n  onClick,\n  size,\n  includeId = true,\n  includeEntityLink = true,\n  entity\n}) {\n  const analyticsController = useAnalyticsController();\n  const sideEntityController = useSideEntityController();\n  const customizationController = useCustomizationController();\n  const navigationController = useNavigationController();\n  const collection = collectionProp ?? navigationController.getCollection(entity.path);\n  if (!collection) {\n    throw Error(`Couldn't find the corresponding collection view for the path: ${entity.path}`);\n  }\n  const resolvedCollection = react__WEBPACK_IMPORTED_MODULE_2__.useMemo(() => resolveCollection({\n    collection,\n    path: entity.path,\n    values: entity.values,\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection]);\n  const listProperties = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => getEntityPreviewKeys(resolvedCollection, customizationController.propertyConfigs, previewProperties, size === \"medium\" || size === \"large\" ? 3 : 1), [previewProperties, resolvedCollection, size]);\n  const titleProperty = getEntityTitlePropertyKey(resolvedCollection, customizationController.propertyConfigs);\n  const imagePropertyKey = getEntityImagePreviewPropertyKey(resolvedCollection);\n  const imageProperty = imagePropertyKey ? resolvedCollection.properties[imagePropertyKey] : void 0;\n  const usedImageProperty = imageProperty && \"of\" in imageProperty ? imageProperty.of : imageProperty;\n  const restProperties = listProperties.filter((p) => p !== titleProperty && p !== imagePropertyKey);\n  const imageValue = imagePropertyKey ? getValueInPath(entity.values, imagePropertyKey) : void 0;\n  const usedImageValue = imageProperty !== void 0 ? \"of\" in imageProperty ? (imageValue ?? []).length > 0 ? imageValue[0] : void 0 : imageValue : void 0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(EntityPreviewContainer, { onClick: disabled ? void 0 : onClick, hover: disabled ? void 0 : hover, size, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex w-10 h-10 ml-1 mr-2 shrink-0\", size === \"small\" ? \"my-0.5\" : \"m-2 self-start\"), children: [\n      usedImageProperty && usedImageValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { property: usedImageProperty, propertyKey: imagePropertyKey, size: \"small\", value: usedImageValue }),\n      (!usedImageProperty || !usedImageValue) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { collectionOrView: collection, color: \"primary\", size, className: \"m-auto p-1\" })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col grow-1 w-full m-1 shrink-1\", style: {\n      \"maxWidth\": \"calc(100% - 96px)\"\n    }, children: [\n      size !== \"small\" && includeId && (entity ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"block whitespace-nowrap overflow-hidden truncate\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: \"disabled\", className: \"font-mono\", children: entity.id }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, {})),\n      titleProperty && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"truncate my-0.5 text-sm font-medium\", children: entity ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: titleProperty, value: getValueInPath(entity.values, titleProperty), property: resolvedCollection.properties[titleProperty], size: \"large\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property: resolvedCollection.properties[titleProperty], size: \"large\" }) }),\n      restProperties && restProperties.map((key) => {\n        const childProperty = resolvedCollection.properties[key];\n        if (!childProperty) return null;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"truncate\", restProperties.length > 1 ? \"my-0.5\" : \"my-0\"), children: entity ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: key, value: getValueInPath(entity.values, key), property: childProperty, size: \"small\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SkeletonPropertyComponent, { property: childProperty, size: \"small\" }) }, \"ref_prev_\" + key);\n      })\n    ] }),\n    entity && includeEntityLink && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: `See details for ${entity.id}`, className: \"shrink-0\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"inherit\", size: \"medium\", className: size !== \"small\" ? \"self-start\" : \"\", onClick: (e) => {\n      e.stopPropagation();\n      analyticsController.onAnalyticsEvent?.(\"entity_click_from_reference\", {\n        path: entity.path,\n        entityId: entity.id\n      });\n      sideEntityController.open({\n        entityId: entity.id,\n        path: entity.path,\n        collection,\n        updateUrl: true\n      });\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.KeyboardTabIcon, { size: \"medium\" }) }) }),\n    actions\n  ] });\n}\nconst EntityPreviewContainer = react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((t0, ref) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(26);\n  let children;\n  let className;\n  let hover;\n  let onClick;\n  let props;\n  let size;\n  let style;\n  let t1;\n  if ($[0] !== t0) {\n    ({\n      children,\n      hover,\n      onClick,\n      size,\n      style,\n      className,\n      fullwidth: t1,\n      ...props\n    } = t0);\n    $[0] = t0;\n    $[1] = children;\n    $[2] = className;\n    $[3] = hover;\n    $[4] = onClick;\n    $[5] = props;\n    $[6] = size;\n    $[7] = style;\n    $[8] = t1;\n  } else {\n    children = $[1];\n    className = $[2];\n    hover = $[3];\n    onClick = $[4];\n    props = $[5];\n    size = $[6];\n    style = $[7];\n    t1 = $[8];\n  }\n  const fullwidth = t1 === void 0 ? true : t1;\n  let t2;\n  if ($[9] !== style) {\n    t2 = {\n      ...style,\n      tabindex: 0\n    };\n    $[9] = style;\n    $[10] = t2;\n  } else {\n    t2 = $[10];\n  }\n  const t3 = fullwidth ? \"w-full\" : \"\";\n  const t4 = hover ? \"hover:bg-surface-accent-50 dark:hover:bg-surface-800 group-hover:bg-surface-accent-50 dark:group-hover:bg-surface-800\" : \"\";\n  const t5 = size === \"small\" ? \"p-1\" : \"px-2 py-1\";\n  const t6 = onClick ? \"cursor-pointer\" : \"\";\n  let t7;\n  if ($[11] !== className || $[12] !== t3 || $[13] !== t4 || $[14] !== t5 || $[15] !== t6) {\n    t7 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"bg-white dark:bg-surface-900\", \"min-h-[42px]\", t3, \"items-center\", t4, t5, \"flex border rounded-lg\", t6, _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, className);\n    $[11] = className;\n    $[12] = t3;\n    $[13] = t4;\n    $[14] = t5;\n    $[15] = t6;\n    $[16] = t7;\n  } else {\n    t7 = $[16];\n  }\n  let t8;\n  if ($[17] !== onClick) {\n    t8 = (event) => {\n      if (onClick) {\n        event.preventDefault();\n        onClick(event);\n      }\n    };\n    $[17] = onClick;\n    $[18] = t8;\n  } else {\n    t8 = $[18];\n  }\n  let t9;\n  if ($[19] !== children || $[20] !== props || $[21] !== ref || $[22] !== t2 || $[23] !== t7 || $[24] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref, style: t2, className: t7, onClick: t8, ...props, children });\n    $[19] = children;\n    $[20] = props;\n    $[21] = ref;\n    $[22] = t2;\n    $[23] = t7;\n    $[24] = t8;\n    $[25] = t9;\n  } else {\n    t9 = $[25];\n  }\n  return t9;\n});\nEntityPreviewContainer.displayName = \"EntityPreviewContainer\";\nconst ReferencePreview = function ReferencePreview2(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  const reference = props.reference;\n  if (!(typeof reference === \"object\" && \"isEntityReference\" in reference && reference.isEntityReference())) {\n    console.warn(\"Reference preview received value of type\", typeof reference);\n    const t02 = props.onClick;\n    const t1 = props.size;\n    let t2;\n    if ($[0] !== reference) {\n      t2 = JSON.stringify(reference);\n      $[0] = reference;\n      $[1] = t2;\n    } else {\n      t2 = $[1];\n    }\n    let t3;\n    if ($[2] !== t2) {\n      t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Unexpected value. Click to edit\", tooltip: t2 });\n      $[2] = t2;\n      $[3] = t3;\n    } else {\n      t3 = $[3];\n    }\n    let t4;\n    if ($[4] !== props.onClick || $[5] !== props.size || $[6] !== t3) {\n      t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreviewContainer, { onClick: t02, size: t1, children: t3 });\n      $[4] = props.onClick;\n      $[5] = props.size;\n      $[6] = t3;\n      $[7] = t4;\n    } else {\n      t4 = $[7];\n    }\n    return t4;\n  }\n  let t0;\n  if ($[8] !== props) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreviewInternal, { ...props });\n    $[8] = props;\n    $[9] = t0;\n  } else {\n    t0 = $[9];\n  }\n  return t0;\n};\nfunction ReferencePreviewInternal(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(16);\n  const {\n    disabled,\n    reference,\n    previewProperties,\n    size,\n    hover,\n    onClick,\n    includeEntityLink: t1,\n    includeId: t2\n  } = t0;\n  const includeEntityLink = t1 === void 0 ? true : t1;\n  const includeId = t2 === void 0 ? true : t2;\n  const customizationController = useCustomizationController();\n  const navigationController = useNavigationController();\n  let t3;\n  if ($[0] !== navigationController || $[1] !== reference.path) {\n    t3 = navigationController.getCollection(reference.path);\n    $[0] = navigationController;\n    $[1] = reference.path;\n    $[2] = t3;\n  } else {\n    t3 = $[2];\n  }\n  const collection = t3;\n  if (!collection) {\n    if (customizationController.components?.missingReference) {\n      let t42;\n      if ($[3] !== customizationController.components.missingReference || $[4] !== reference.path) {\n        t42 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(customizationController.components.missingReference, { path: reference.path });\n        $[3] = customizationController.components.missingReference;\n        $[4] = reference.path;\n        $[5] = t42;\n      } else {\n        t42 = $[5];\n      }\n      return t42;\n    } else {\n      throw Error(`Couldn't find the corresponding collection view for the path: ${reference.path}`);\n    }\n  }\n  let t4;\n  if ($[6] !== collection || $[7] !== disabled || $[8] !== hover || $[9] !== includeEntityLink || $[10] !== includeId || $[11] !== onClick || $[12] !== previewProperties || $[13] !== reference || $[14] !== size) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreviewExisting, { reference, collection, previewProperties, size, disabled, includeEntityLink, includeId, onClick, hover });\n    $[6] = collection;\n    $[7] = disabled;\n    $[8] = hover;\n    $[9] = includeEntityLink;\n    $[10] = includeId;\n    $[11] = onClick;\n    $[12] = previewProperties;\n    $[13] = reference;\n    $[14] = size;\n    $[15] = t4;\n  } else {\n    t4 = $[15];\n  }\n  return t4;\n}\nfunction ReferencePreviewExisting(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(35);\n  const {\n    reference,\n    collection,\n    previewProperties,\n    size,\n    disabled,\n    includeEntityLink,\n    includeId,\n    onClick,\n    hover\n  } = t0;\n  let t1;\n  if ($[0] !== collection || $[1] !== reference.id || $[2] !== reference.path) {\n    t1 = {\n      path: reference.path,\n      entityId: reference.id,\n      collection,\n      useCache: true\n    };\n    $[0] = collection;\n    $[1] = reference.id;\n    $[2] = reference.path;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const {\n    entity,\n    dataLoading\n  } = useEntityFetch(t1);\n  if (entity) {\n    referencesCache.set(reference.pathWithId, entity);\n  }\n  let t2;\n  if ($[4] !== entity || $[5] !== reference.pathWithId) {\n    t2 = entity ?? referencesCache.get(reference.pathWithId);\n    $[4] = entity;\n    $[5] = reference.pathWithId;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  const usedEntity = t2;\n  let body;\n  if (!reference) {\n    let t32;\n    if ($[7] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t32 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Reference not set\" });\n      $[7] = t32;\n    } else {\n      t32 = $[7];\n    }\n    body = t32;\n  } else {\n    if (usedEntity && !usedEntity.values) {\n      let t32;\n      if ($[8] !== reference.path) {\n        t32 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Reference does not exist\", tooltip: reference.path });\n        $[8] = reference.path;\n        $[9] = t32;\n      } else {\n        t32 = $[9];\n      }\n      body = t32;\n    }\n  }\n  if (body) {\n    const t32 = disabled ? void 0 : onClick;\n    const t4 = disabled ? void 0 : hover;\n    let t5;\n    if ($[10] !== body || $[11] !== size || $[12] !== t32 || $[13] !== t4) {\n      t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreviewContainer, { onClick: t32, hover: t4, size, children: body });\n      $[10] = body;\n      $[11] = size;\n      $[12] = t32;\n      $[13] = t4;\n      $[14] = t5;\n    } else {\n      t5 = $[14];\n    }\n    return t5;\n  }\n  if (dataLoading && !usedEntity) {\n    const t32 = disabled ? void 0 : onClick;\n    const t4 = disabled ? void 0 : hover;\n    let t5;\n    if ($[15] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, {});\n      $[15] = t5;\n    } else {\n      t5 = $[15];\n    }\n    let t6;\n    if ($[16] !== size || $[17] !== t32 || $[18] !== t4) {\n      t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreviewContainer, { onClick: t32, hover: t4, size, children: t5 });\n      $[16] = size;\n      $[17] = t32;\n      $[18] = t4;\n      $[19] = t6;\n    } else {\n      t6 = $[19];\n    }\n    return t6;\n  }\n  if (!usedEntity) {\n    const t32 = disabled ? void 0 : onClick;\n    const t4 = disabled ? void 0 : hover;\n    let t5;\n    if ($[20] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Entity not found\" });\n      $[20] = t5;\n    } else {\n      t5 = $[20];\n    }\n    let t6;\n    if ($[21] !== size || $[22] !== t32 || $[23] !== t4) {\n      t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreviewContainer, { onClick: t32, hover: t4, size, children: t5 });\n      $[21] = size;\n      $[22] = t32;\n      $[23] = t4;\n      $[24] = t6;\n    } else {\n      t6 = $[24];\n    }\n    return t6;\n  }\n  let t3;\n  if ($[25] !== collection || $[26] !== disabled || $[27] !== hover || $[28] !== includeEntityLink || $[29] !== includeId || $[30] !== onClick || $[31] !== previewProperties || $[32] !== size || $[33] !== usedEntity) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreview, { size, previewProperties, disabled, entity: usedEntity, collection, onClick, includeEntityLink, includeId, hover });\n    $[25] = collection;\n    $[26] = disabled;\n    $[27] = hover;\n    $[28] = includeEntityLink;\n    $[29] = includeId;\n    $[30] = onClick;\n    $[31] = previewProperties;\n    $[32] = size;\n    $[33] = usedEntity;\n    $[34] = t3;\n  } else {\n    t3 = $[34];\n  }\n  return t3;\n}\nconst referencesCache = /* @__PURE__ */ new Map();\nfunction ArrayOfReferencesPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey) {\n    t1 = resolveArrayProperty({\n      propertyKey,\n      property: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const property = t1;\n  if (Array.isArray(property?.of)) {\n    throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n  }\n  if (property?.dataType !== \"array\" || !property.of || property.of.dataType !== \"reference\") {\n    throw Error(\"Picked wrong preview component ArrayOfReferencesPreview\");\n  }\n  const childSize = size === \"medium\" ? \"medium\" : \"small\";\n  let t2;\n  if ($[4] !== childSize || $[5] !== property || $[6] !== propertyKey || $[7] !== value) {\n    t2 = value && value.map((reference, index) => {\n      const ofProperty = property.of;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"mt-1 mb-1 w-full\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { disabled: !ofProperty.path, previewProperties: ofProperty.previewProperties, size: childSize, reference, includeId: ofProperty.includeId, includeEntityLink: ofProperty.includeEntityLink }) }, `preview_array_ref_${propertyKey}_${index}`);\n    });\n    $[4] = childSize;\n    $[5] = property;\n    $[6] = propertyKey;\n    $[7] = value;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  let t3;\n  if ($[9] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col w-full\", children: t2 });\n    $[9] = t2;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  return t3;\n}\nfunction ArrayOfStorageComponentsPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey) {\n    t1 = resolveArrayProperty({\n      propertyKey,\n      property: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const property = t1;\n  if (Array.isArray(property.of)) {\n    throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n  }\n  if (property.dataType !== \"array\" || !property.of || property.of.dataType !== \"string\") {\n    throw Error(\"Picked wrong preview component ArrayOfStorageComponentsPreview\");\n  }\n  const childSize = size === \"medium\" ? \"medium\" : \"small\";\n  let t2;\n  if ($[4] !== childSize || $[5] !== property.of || $[6] !== propertyKey || $[7] !== value) {\n    t2 = value && value.map((v, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey, value: v, property: property.of, size: childSize }) }, `preview_array_storage_${propertyKey}_${index}`));\n    $[4] = childSize;\n    $[5] = property.of;\n    $[6] = propertyKey;\n    $[7] = value;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  let t3;\n  if ($[9] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-wrap gap-2\", children: t2 });\n    $[9] = t2;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  return t3;\n}\nfunction ArrayEnumPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  const {\n    name,\n    value,\n    enumValues,\n    size\n  } = t0;\n  let t1;\n  if ($[0] !== enumValues || $[1] !== name || $[2] !== size || $[3] !== value) {\n    t1 = value && value.map((enumKey, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues, size: size !== \"medium\" ? \"small\" : \"medium\" }) }, `preview_array_ref_${name}_${index}`));\n    $[0] = enumValues;\n    $[1] = name;\n    $[2] = size;\n    $[3] = value;\n    $[4] = t1;\n  } else {\n    t1 = $[4];\n  }\n  let t2;\n  if ($[5] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-wrap gap-1.5\", children: t1 });\n    $[5] = t1;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  return t2;\n}\nfunction ArrayPropertyEnumPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  const {\n    propertyKey,\n    value,\n    property,\n    size\n  } = t0;\n  if (property.dataType !== \"array\") {\n    throw Error(\"Picked wrong preview component ArrayEnumPreview\");\n  }\n  const ofProperty = property.of;\n  if (!ofProperty.enumValues) {\n    throw Error(\"Picked wrong preview component ArrayEnumPreview\");\n  }\n  if (!value) {\n    return null;\n  }\n  let t1;\n  if ($[0] !== ofProperty.enumValues || $[1] !== propertyKey || $[2] !== size || $[3] !== value) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayEnumPreview, { name: propertyKey, value, enumValues: ofProperty.enumValues, size });\n    $[0] = ofProperty.enumValues;\n    $[1] = propertyKey;\n    $[2] = size;\n    $[3] = value;\n    $[4] = t1;\n  } else {\n    t1 = $[4];\n  }\n  return t1;\n}\nfunction ArrayOfStringsPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey) {\n    t1 = resolveArrayProperty({\n      propertyKey,\n      property: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const property = t1;\n  if (Array.isArray(property.of)) {\n    throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n  }\n  if (!property.of || property.dataType !== \"array\" || property.of.dataType !== \"string\") {\n    throw Error(\"Picked wrong preview component ArrayOfStringsPreview\");\n  }\n  if (value && !Array.isArray(value)) {\n    const t22 = `Unexpected value: ${value}`;\n    let t32;\n    if ($[4] !== t22) {\n      t32 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: t22 });\n      $[4] = t22;\n      $[5] = t32;\n    } else {\n      t32 = $[5];\n    }\n    return t32;\n  }\n  const stringProperty = property.of;\n  let t2;\n  if ($[6] !== propertyKey || $[7] !== size || $[8] !== stringProperty || $[9] !== value) {\n    t2 = value && value.map((v, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StringPropertyPreview, { propertyKey, property: stringProperty, value: v, size }) }) }, `preview_array_strings_${propertyKey}_${index}`));\n    $[6] = propertyKey;\n    $[7] = size;\n    $[8] = stringProperty;\n    $[9] = value;\n    $[10] = t2;\n  } else {\n    t2 = $[10];\n  }\n  let t3;\n  if ($[11] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: t2 });\n    $[11] = t2;\n    $[12] = t3;\n  } else {\n    t3 = $[12];\n  }\n  return t3;\n}\nfunction ArrayOneOfPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey) {\n    t1 = resolveArrayProperty({\n      propertyKey,\n      property: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const property = t1;\n  if (property?.dataType !== \"array\") {\n    throw Error(\"Picked wrong preview component ArrayPreview\");\n  }\n  if (!property?.oneOf) {\n    throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${propertyKey}`);\n  }\n  const values = value;\n  if (!values) {\n    return null;\n  }\n  const childSize = size === \"medium\" ? \"medium\" : \"small\";\n  const typeField = property.oneOf.typeField ?? DEFAULT_ONE_OF_TYPE;\n  const valueField = property.oneOf.valueField ?? DEFAULT_ONE_OF_VALUE;\n  const properties = property.oneOf.properties;\n  let t2;\n  if ($[4] !== childSize || $[5] !== properties || $[6] !== property.resolvedProperties || $[7] !== propertyKey || $[8] !== typeField || $[9] !== valueField || $[10] !== values) {\n    t2 = values && values.map((value_0, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"m-1 border-b last:border-b-0 py-2\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: value_0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey, value: value_0[valueField], property: property.resolvedProperties[index] ?? properties[value_0[typeField]], size: childSize }) }) }) }, \"preview_array_\" + value_0 + \"_\" + index));\n    $[4] = childSize;\n    $[5] = properties;\n    $[6] = property.resolvedProperties;\n    $[7] = propertyKey;\n    $[8] = typeField;\n    $[9] = valueField;\n    $[10] = values;\n    $[11] = t2;\n  } else {\n    t2 = $[11];\n  }\n  let t3;\n  if ($[12] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col\", children: t2 });\n    $[12] = t2;\n    $[13] = t3;\n  } else {\n    t3 = $[13];\n  }\n  return t3;\n}\nfunction MapPropertyPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(15);\n  const {\n    value,\n    property,\n    size\n  } = t0;\n  if (property.dataType !== \"map\") {\n    throw Error(\"Picked wrong preview component MapPropertyPreview\");\n  }\n  const mapProperty = property;\n  if (!mapProperty.properties || Object.keys(mapProperty.properties ?? {}).length === 0) {\n    let t12;\n    if ($[0] !== value) {\n      t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(KeyValuePreview, { value });\n      $[0] = value;\n      $[1] = t12;\n    } else {\n      t12 = $[1];\n    }\n    return t12;\n  }\n  if (!value) {\n    return null;\n  }\n  let t1;\n  if ($[2] !== mapProperty.properties) {\n    t1 = Object.keys(mapProperty.properties);\n    $[2] = mapProperty.properties;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const mapPropertyKeys = t1;\n  if (size === \"small\") {\n    let t22;\n    if ($[4] !== mapProperty.name || $[5] !== mapProperty.properties || $[6] !== mapPropertyKeys || $[7] !== size || $[8] !== value) {\n      t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full flex flex-col space-y-1 md:space-y-2\", children: mapPropertyKeys.map((key, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: key, value: value[key], property: mapProperty.properties[key], size }) }, \"map_preview_\" + mapProperty.name + key + index) }, `map_${key}`)) });\n      $[4] = mapProperty.name;\n      $[5] = mapProperty.properties;\n      $[6] = mapPropertyKeys;\n      $[7] = size;\n      $[8] = value;\n      $[9] = t22;\n    } else {\n      t22 = $[9];\n    }\n    return t22;\n  }\n  let t2;\n  if ($[10] !== mapProperty.properties || $[11] !== mapPropertyKeys || $[12] !== size || $[13] !== value) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-1 w-full\", children: mapPropertyKeys && mapPropertyKeys.map((key_0, index_0) => {\n      const childProperty = mapProperty.properties[key_0];\n      const isArrayOrMap = childProperty.dataType === \"map\" || childProperty === \"array\";\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"last:border-b-0 border-b\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row pt-0.5 pb-0.5 gap-2\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"min-w-[140px] w-[25%] py-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"font-mono break-words\", color: \"secondary\", children: childProperty.name }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow max-w-[75%]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: !isArrayOrMap && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: key_0, value: value[key_0], property: childProperty, size }) }) })\n        ] }),\n        isArrayOrMap && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"border-l pl-4 ml-2 my-2\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: key_0, value: value[key_0], property: childProperty, size }) })\n      ] }, `map_preview_table_${key_0}}`);\n    }) });\n    $[10] = mapProperty.properties;\n    $[11] = mapPropertyKeys;\n    $[12] = size;\n    $[13] = value;\n    $[14] = t2;\n  } else {\n    t2 = $[14];\n  }\n  return t2;\n}\nfunction KeyValuePreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  const {\n    value\n  } = t0;\n  if (typeof value !== \"object\") {\n    return null;\n  }\n  if (!value) {\n    let t12;\n    if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {});\n      $[0] = t12;\n    } else {\n      t12 = $[0];\n    }\n    return t12;\n  }\n  let t1;\n  if ($[1] !== value) {\n    t1 = Object.entries(value).map(_temp$m);\n    $[1] = value;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  let t2;\n  if ($[3] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-1 w-full\", children: t1 });\n    $[3] = t1;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  return t2;\n}\nfunction _temp$m(t0) {\n  const [key, childValue] = t0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"last:border-b-0 border-b\"), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row pt-0.5 pb-0.5 gap-2\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"min-w-[140px] w-[25%] py-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"font-mono break-words\", color: \"secondary\", children: key }) }, `table-cell-title-${key}-${key}`),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow max-w-[75%]\", children: childValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: childValue.toString() }) }) })\n    ] }),\n    typeof childValue === \"object\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"border-l pl-4\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(KeyValuePreview, { value: childValue }) })\n  ] }, `map_preview_table_${key}}`);\n}\nfunction DatePreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    date\n  } = t0;\n  const customizationController = useCustomizationController();\n  const dateUtilsLocale = customizationController?.locale ? date_fns_locale__WEBPACK_IMPORTED_MODULE_14__[customizationController?.locale] : void 0;\n  const dateFormat = customizationController?.dateTimeFormat ?? defaultDateFormat;\n  let t1;\n  if ($[0] !== date || $[1] !== dateFormat || $[2] !== dateUtilsLocale) {\n    t1 = date ? (0,date_fns__WEBPACK_IMPORTED_MODULE_15__.format)(date, dateFormat, {\n      locale: dateUtilsLocale\n    }) : \"\";\n    $[0] = date;\n    $[1] = dateFormat;\n    $[2] = dateUtilsLocale;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const formattedDate = t1;\n  let t2;\n  if ($[4] !== formattedDate) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: formattedDate });\n    $[4] = formattedDate;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  return t2;\n}\nfunction BooleanPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const {\n    value,\n    size,\n    property\n  } = t0;\n  let t1;\n  if ($[0] !== size || $[1] !== value) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { checked: value, padding: false, size, color: \"secondary\" });\n    $[0] = size;\n    $[1] = value;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  let t2;\n  if ($[3] !== property.name || $[4] !== size) {\n    t2 = property.name && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"text-text-secondary dark:text-text-secondary-dark\", size === \"small\" ? \"text-sm\" : \"\"), children: property.name });\n    $[3] = property.name;\n    $[4] = size;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  let t3;\n  if ($[6] !== t1 || $[7] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row gap-2 items-center\", children: [\n      t1,\n      t2\n    ] });\n    $[6] = t1;\n    $[7] = t2;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  return t3;\n}\nfunction NumberPropertyPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  const {\n    value,\n    property,\n    size\n  } = t0;\n  if (property.enumValues) {\n    const enumKey = value;\n    let t1;\n    if ($[0] !== property.enumValues) {\n      t1 = enumToObjectEntries(property.enumValues);\n      $[0] = property.enumValues;\n      $[1] = t1;\n    } else {\n      t1 = $[1];\n    }\n    const enumValues = t1;\n    if (!enumValues) {\n      let t22;\n      if ($[2] !== value) {\n        t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: value });\n        $[2] = value;\n        $[3] = t22;\n      } else {\n        t22 = $[3];\n      }\n      return t22;\n    }\n    const t2 = size !== \"medium\" ? \"small\" : \"medium\";\n    let t3;\n    if ($[4] !== enumKey || $[5] !== enumValues || $[6] !== t2) {\n      t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues, size: t2 });\n      $[4] = enumKey;\n      $[5] = enumValues;\n      $[6] = t2;\n      $[7] = t3;\n    } else {\n      t3 = $[7];\n    }\n    return t3;\n  } else {\n    let t1;\n    if ($[8] !== value) {\n      t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: value });\n      $[8] = value;\n      $[9] = t1;\n    } else {\n      t1 = $[9];\n    }\n    return t1;\n  }\n}\nconst PropertyPreview = react__WEBPACK_IMPORTED_MODULE_2__.memo(function PropertyPreview2(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(29);\n  const customizationController = useCustomizationController();\n  let content;\n  const {\n    property: inputProperty,\n    propertyKey,\n    value,\n    size,\n    height,\n    width,\n    interactive\n  } = props;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== height || $[2] !== inputProperty || $[3] !== interactive || $[4] !== propertyKey || $[5] !== props || $[6] !== size || $[7] !== value || $[8] !== width) {\n    const property = resolveProperty({\n      propertyKey,\n      propertyOrBuilder: inputProperty,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n    if (property === null) {\n      let t02;\n      if ($[10] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {});\n        $[10] = t02;\n      } else {\n        t02 = $[10];\n      }\n      content = t02;\n    } else {\n      if (property.Preview) {\n        content = (0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(property.Preview, {\n          propertyKey,\n          value,\n          property,\n          size,\n          height,\n          width,\n          customProps: property.customProps\n        });\n      } else {\n        if (value === void 0 || value === null) {\n          let t02;\n          if ($[11] === Symbol.for(\"react.memo_cache_sentinel\")) {\n            t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {});\n            $[11] = t02;\n          } else {\n            t02 = $[11];\n          }\n          content = t02;\n        } else {\n          if (property.dataType === \"string\") {\n            const stringProperty = property;\n            if (typeof value === \"string\") {\n              if (stringProperty.storage) {\n                const filePath = stringProperty.storage.previewUrl ? stringProperty.storage.previewUrl(value) : value;\n                const t02 = property.storage?.storeUrl ?? false;\n                let t1;\n                if ($[12] !== filePath || $[13] !== interactive || $[14] !== props.size || $[15] !== t02) {\n                  t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageThumbnail, { interactive, storeUrl: t02, size: props.size, storagePathOrDownloadUrl: filePath });\n                  $[12] = filePath;\n                  $[13] = interactive;\n                  $[14] = props.size;\n                  $[15] = t02;\n                  $[16] = t1;\n                } else {\n                  t1 = $[16];\n                }\n                content = t1;\n              } else {\n                if (stringProperty.url) {\n                  if (typeof stringProperty.url === \"boolean\") {\n                    let t02;\n                    if ($[17] !== props.size || $[18] !== value) {\n                      t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UrlComponentPreview, { size: props.size, url: value });\n                      $[17] = props.size;\n                      $[18] = value;\n                      $[19] = t02;\n                    } else {\n                      t02 = $[19];\n                    }\n                    content = t02;\n                  } else {\n                    if (typeof stringProperty.url === \"string\") {\n                      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UrlComponentPreview, { size: props.size, url: value, interactive, previewType: stringProperty.url });\n                    }\n                  }\n                } else {\n                  if (stringProperty.markdown) {\n                    let t02;\n                    if ($[20] !== value) {\n                      t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Markdown, { source: value, size: \"small\" });\n                      $[20] = value;\n                      $[21] = t02;\n                    } else {\n                      t02 = $[21];\n                    }\n                    content = t02;\n                  } else {\n                    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StringPropertyPreview, { ...props, property: stringProperty, value });\n                  }\n                }\n              }\n            } else {\n              content = buildWrongValueType(propertyKey, property.dataType, value);\n            }\n          } else {\n            if (property.dataType === \"array\") {\n              if (value instanceof Array) {\n                const arrayProperty = property;\n                if (!arrayProperty.of && !arrayProperty.oneOf) {\n                  throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${propertyKey}`);\n                }\n                if (arrayProperty.of) {\n                  if (Array.isArray(arrayProperty.of)) {\n                    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayPropertyPreview, { ...props, value, property });\n                  } else {\n                    if (arrayProperty.of.dataType === \"reference\") {\n                      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayOfReferencesPreview, { ...props, value, property });\n                    } else {\n                      if (arrayProperty.of.dataType === \"string\") {\n                        if (arrayProperty.of.enumValues) {\n                          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayPropertyEnumPreview, { ...props, value, property });\n                        } else {\n                          if (arrayProperty.of.storage) {\n                            content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayOfStorageComponentsPreview, { ...props, value, property });\n                          } else {\n                            content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayOfStringsPreview, { ...props, value, property });\n                          }\n                        }\n                      } else {\n                        if (arrayProperty.of.dataType === \"number\" && arrayProperty.of.enumValues) {\n                          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayPropertyEnumPreview, { ...props, value, property });\n                        } else {\n                          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayPropertyPreview, { ...props, value, property });\n                        }\n                      }\n                    }\n                  }\n                } else {\n                  if (arrayProperty.oneOf) {\n                    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayOneOfPreview, { ...props, value, property });\n                  }\n                }\n              } else {\n                content = buildWrongValueType(propertyKey, property.dataType, value);\n              }\n            } else {\n              if (property.dataType === \"map\") {\n                if (typeof value === \"object\") {\n                  content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MapPropertyPreview, { ...props, property });\n                } else {\n                  content = buildWrongValueType(propertyKey, property.dataType, value);\n                }\n              } else {\n                if (property.dataType === \"date\") {\n                  if (value instanceof Date) {\n                    let t02;\n                    if ($[22] !== value) {\n                      t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DatePreview, { date: value });\n                      $[22] = value;\n                      $[23] = t02;\n                    } else {\n                      t02 = $[23];\n                    }\n                    content = t02;\n                  } else {\n                    content = buildWrongValueType(propertyKey, property.dataType, value);\n                  }\n                } else {\n                  if (property.dataType === \"reference\") {\n                    if (typeof property.path === \"string\") {\n                      if (typeof value === \"object\" && \"isEntityReference\" in value && value.isEntityReference()) {\n                        content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { disabled: !property.path, previewProperties: property.previewProperties, includeId: property.includeId, includeEntityLink: property.includeEntityLink, size: props.size, reference: value });\n                      } else {\n                        content = buildWrongValueType(propertyKey, property.dataType, value);\n                      }\n                    } else {\n                      let t02;\n                      if ($[24] === Symbol.for(\"react.memo_cache_sentinel\")) {\n                        t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {});\n                        $[24] = t02;\n                      } else {\n                        t02 = $[24];\n                      }\n                      content = t02;\n                    }\n                  } else {\n                    if (property.dataType === \"boolean\") {\n                      if (typeof value === \"boolean\") {\n                        content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BooleanPreview, { value, size, property });\n                      } else {\n                        content = buildWrongValueType(propertyKey, property.dataType, value);\n                      }\n                    } else {\n                      if (property.dataType === \"number\") {\n                        if (typeof value === \"number\") {\n                          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NumberPropertyPreview, { ...props, value, property });\n                        } else {\n                          content = buildWrongValueType(propertyKey, property.dataType, value);\n                        }\n                      } else {\n                        let t02;\n                        if ($[25] !== value) {\n                          t02 = JSON.stringify(value);\n                          $[25] = value;\n                          $[26] = t02;\n                        } else {\n                          t02 = $[26];\n                        }\n                        content = t02;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    $[0] = customizationController.propertyConfigs;\n    $[1] = height;\n    $[2] = inputProperty;\n    $[3] = interactive;\n    $[4] = propertyKey;\n    $[5] = props;\n    $[6] = size;\n    $[7] = value;\n    $[8] = width;\n    $[9] = content;\n  } else {\n    content = $[9];\n  }\n  let t0;\n  if ($[27] !== content) {\n    t0 = content === void 0 || content === null || Array.isArray(content) && content.length === 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyValue, {}) : content;\n    $[27] = content;\n    $[28] = t0;\n  } else {\n    t0 = $[28];\n  }\n  return t0;\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nfunction buildWrongValueType(name, dataType, value) {\n  console.warn(`Unexpected value for property ${name}, of type ${dataType}`, value);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { title: \"Unexpected value\", error: `${JSON.stringify(value)}` });\n}\nfunction ArrayOfMapsPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13);\n  const {\n    propertyKey,\n    value,\n    property: inputProperty,\n    size\n  } = t0;\n  const customizationController = useCustomizationController();\n  const t1 = customizationController.propertyConfigs;\n  let t2;\n  let t3;\n  let t4;\n  if ($[0] !== customizationController.propertyConfigs || $[1] !== inputProperty || $[2] !== propertyKey || $[3] !== size || $[4] !== value) {\n    t4 = Symbol.for(\"react.early_return_sentinel\");\n    bb0: {\n      const property = resolveArrayProperty({\n        propertyKey,\n        property: inputProperty,\n        propertyConfigs: t1\n      });\n      if (Array.isArray(property?.of)) {\n        throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n      }\n      if (property?.dataType !== \"array\" || !property.of || property.of.dataType !== \"map\") {\n        throw Error(\"Picked wrong preview component ArrayOfMapsPreview\");\n      }\n      const mapProperty = property.of;\n      const properties = mapProperty.properties;\n      if (!properties) {\n        throw Error(`You need to specify a 'properties' prop (or specify a custom field) in your map property ${propertyKey}`);\n      }\n      const values = value;\n      const previewProperties = mapProperty.previewProperties;\n      if (!values) {\n        t4 = null;\n        break bb0;\n      }\n      let mapProperties;\n      mapProperties = previewProperties;\n      if (!mapProperties || !mapProperties.length) {\n        mapProperties = Object.keys(properties);\n        if (size) {\n          mapProperties = mapProperties.slice(0, 3);\n        }\n      }\n      t3 = \"table-auto text-xs\";\n      t2 = values && values.map((v, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"border-b last:border-b-0 py-2\", children: mapProperties && mapProperties.map((key) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"table-cell\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: key, value: v[key], property: properties[key], size: \"small\" }) }) }, `table-cell-${key}`)) }, `table_${v}_${index}`));\n    }\n    $[0] = customizationController.propertyConfigs;\n    $[1] = inputProperty;\n    $[2] = propertyKey;\n    $[3] = size;\n    $[4] = value;\n    $[5] = t2;\n    $[6] = t3;\n    $[7] = t4;\n  } else {\n    t2 = $[5];\n    t3 = $[6];\n    t4 = $[7];\n  }\n  if (t4 !== Symbol.for(\"react.early_return_sentinel\")) {\n    return t4;\n  }\n  let t5;\n  if ($[8] !== t2) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: t2 });\n    $[8] = t2;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  let t6;\n  if ($[10] !== t3 || $[11] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t3, children: t5 });\n    $[10] = t3;\n    $[11] = t5;\n    $[12] = t6;\n  } else {\n    t6 = $[12];\n  }\n  return t6;\n}\nconst AsyncPreviewComponent = react__WEBPACK_IMPORTED_MODULE_2__.memo(function AsyncPreviewComponentInternal(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    builder\n  } = t0;\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n  const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  let t1;\n  let t2;\n  if ($[0] !== builder) {\n    t1 = () => {\n      let unmounted;\n      unmounted = false;\n      builder.then((res) => {\n        if (!unmounted) {\n          setLoading(false);\n          setResult(res);\n        }\n      }).catch((error) => {\n        setLoading(false);\n        console.error(error);\n      });\n      return () => {\n        unmounted = true;\n      };\n    };\n    t2 = [builder];\n    $[0] = builder;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t1 = $[1];\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  if (loading) {\n    let t32;\n    if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t32 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, {});\n      $[3] = t32;\n    } else {\n      t32 = $[3];\n    }\n    return t32;\n  }\n  let t3;\n  if ($[4] !== result) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: result });\n    $[4] = result;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  return t3;\n});\nfunction EntityView({\n  entity,\n  collection,\n  path,\n  className\n}) {\n  const customizationController = useCustomizationController();\n  const resolvedCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveCollection({\n    collection,\n    path,\n    entityId: entity.id,\n    values: entity.values,\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection, path, entity, customizationController.propertyConfigs]);\n  const properties = resolvedCollection.properties;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full \" + className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-full mb-4\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"flex justify-between py-2 border-b last:border-b-0\"), children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex items-center w-1/4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"pl-2 text-sm text-surface-600\", children: \"Id\" }) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex-grow p-2 ml-2 w-3/4 text-surface-900 dark:text-white min-h-[56px] flex items-center\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"flex-grow mr-2\", children: entity.id }),\n        customizationController?.entityLinkBuilder && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", { href: customizationController.entityLinkBuilder({\n          entity\n        }), rel: \"noopener noreferrer\", target: \"_blank\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon, { size: \"small\" }) }) })\n      ] })\n    ] }),\n    Object.entries(properties).map(([key, property]) => {\n      const value = entity.values?.[key];\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"flex justify-between py-2 border-b last:border-b-0\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex items-center w-1/4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"pl-2 text-sm text-surface-600\", children: property.name }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow p-2 ml-2 w-3/4 text-surface-900 dark:text-white min-h-[56px] flex items-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          PropertyPreview,\n          {\n            propertyKey: key,\n            value,\n            property,\n            size: \"medium\"\n          }\n        ) })\n      ] }, `reference_previews_${key}`);\n    })\n  ] }) });\n}\nfunction VirtualTableInput(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(22);\n  const ref = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const {\n    value,\n    multiline,\n    updateValue,\n    focused\n  } = props;\n  const prevValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(value);\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(value);\n  const focusedState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  let t0;\n  if ($[0] !== internalValue || $[1] !== value) {\n    t0 = () => {\n      if (prevValue.current !== value && value !== internalValue) {\n        setInternalValue(value);\n      }\n      prevValue.current = value;\n    };\n    $[0] = internalValue;\n    $[1] = value;\n    $[2] = t0;\n  } else {\n    t0 = $[2];\n  }\n  let t1;\n  if ($[3] !== value) {\n    t1 = [value];\n    $[3] = value;\n    $[4] = t1;\n  } else {\n    t1 = $[4];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n  let t2;\n  if ($[5] !== internalValue || $[6] !== updateValue || $[7] !== value) {\n    t2 = () => {\n      const emptyInitialValue = !value;\n      if (emptyInitialValue && !internalValue) {\n        return;\n      }\n      if (internalValue !== value) {\n        prevValue.current = internalValue;\n        updateValue(internalValue);\n      }\n    };\n    $[5] = internalValue;\n    $[6] = updateValue;\n    $[7] = value;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  const doUpdate = t2;\n  useDebouncedCallback(internalValue, doUpdate, !focused, 2e3);\n  let t3;\n  let t4;\n  if ($[9] !== focused) {\n    t3 = () => {\n      if (ref.current && focused && !focusedState.current) {\n        focusedState.current = true;\n        ref.current.focus({\n          preventScroll: true\n        });\n        ref.current.selectionStart = ref.current.value.length;\n        ref.current.selectionEnd = ref.current.value.length;\n      } else {\n        focusedState.current = focused;\n      }\n    };\n    t4 = [focused, ref];\n    $[9] = focused;\n    $[10] = t3;\n    $[11] = t4;\n  } else {\n    t3 = $[10];\n    t4 = $[11];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t3, t4);\n  let t5;\n  if ($[12] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t5 = {\n      padding: 0,\n      margin: 0,\n      width: \"100%\",\n      color: \"unset\",\n      fontWeight: \"unset\",\n      lineHeight: 1.7142857,\n      fontSize: \"unset\",\n      fontFamily: \"unset\",\n      background: \"unset\",\n      border: \"unset\",\n      resize: \"none\",\n      outline: \"none\"\n    };\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  const t6 = internalValue ?? \"\";\n  let t7;\n  if ($[13] !== multiline) {\n    t7 = (evt) => {\n      const newValue = evt.target.value;\n      if (multiline || !newValue.endsWith(\"\\n\")) {\n        setInternalValue(newValue);\n      }\n    };\n    $[13] = multiline;\n    $[14] = t7;\n  } else {\n    t7 = $[14];\n  }\n  let t8;\n  if ($[15] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = () => {\n      focusedState.current = true;\n    };\n    $[15] = t8;\n  } else {\n    t8 = $[15];\n  }\n  let t9;\n  if ($[16] !== doUpdate) {\n    t9 = () => {\n      focusedState.current = false;\n      doUpdate();\n    };\n    $[16] = doUpdate;\n    $[17] = t9;\n  } else {\n    t9 = $[17];\n  }\n  let t10;\n  if ($[18] !== t6 || $[19] !== t7 || $[20] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextareaAutosize, { className: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.focusedDisabled, ref, style: t5, value: t6, onChange: t7, onFocus: t8, onBlur: t9 });\n    $[18] = t6;\n    $[19] = t7;\n    $[20] = t9;\n    $[21] = t10;\n  } else {\n    t10 = $[21];\n  }\n  return t10;\n}\nfunction VirtualTableSelect(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(19);\n  const {\n    enumValues,\n    internalValue,\n    disabled,\n    small,\n    focused,\n    updateValue,\n    multiple,\n    valueType\n  } = props;\n  const validValue = Array.isArray(internalValue) && multiple || !Array.isArray(internalValue) && !multiple;\n  const ref = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  let t0;\n  let t1;\n  if ($[0] !== focused) {\n    t0 = () => {\n      if (ref.current && focused) {\n        ref.current?.focus({\n          preventScroll: true\n        });\n      }\n    };\n    t1 = [focused, ref];\n    $[0] = focused;\n    $[1] = t0;\n    $[2] = t1;\n  } else {\n    t0 = $[1];\n    t1 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n  let t2;\n  if ($[3] !== multiple || $[4] !== updateValue || $[5] !== valueType) {\n    t2 = (updatedValue) => {\n      console.trace(\"onChange\");\n      if (valueType === \"number\") {\n        if (multiple) {\n          const newValue = updatedValue.map(_temp$l);\n          updateValue(newValue);\n        } else {\n          updateValue(parseFloat(updatedValue));\n        }\n      } else {\n        if (valueType === \"string\") {\n          if (!updatedValue) {\n            updateValue(null);\n          } else {\n            updateValue(updatedValue);\n          }\n        } else {\n          throw Error(\"Missing mapping in TableSelect\");\n        }\n      }\n    };\n    $[3] = multiple;\n    $[4] = updateValue;\n    $[5] = valueType;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  const onChange = t2;\n  let t3;\n  if ($[7] !== enumValues || $[8] !== small) {\n    t3 = (enumKey) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: String(enumKey), enumValues, size: small ? \"small\" : \"medium\" }, `${enumKey}`);\n    $[7] = enumValues;\n    $[8] = small;\n    $[9] = t3;\n  } else {\n    t3 = $[9];\n  }\n  const renderValue = t3;\n  let t4;\n  if ($[10] !== disabled || $[11] !== enumValues || $[12] !== internalValue || $[13] !== multiple || $[14] !== onChange || $[15] !== renderValue || $[16] !== small || $[17] !== validValue) {\n    t4 = multiple ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelect, { inputRef: ref, className: \"w-full h-full p-0 bg-transparent\", position: \"item-aligned\", disabled, includeClear: false, useChips: false, value: validValue ? internalValue.map(_temp2$b) : [], onValueChange: onChange, children: enumValues?.map((enumConfig) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelectItem, { value: String(enumConfig.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: enumConfig.id, enumValues, size: small ? \"small\" : \"medium\" }) }, enumConfig.id)) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { inputRef: ref, size: \"large\", fullWidth: true, className: \"w-full h-full p-0 bg-transparent\", position: \"item-aligned\", disabled, padding: false, value: validValue ? internalValue?.toString() : \"\", onValueChange: onChange, renderValue, children: enumValues?.map((enumConfig_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: String(enumConfig_0.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: enumConfig_0.id, enumValues, size: small ? \"small\" : \"medium\" }) }, enumConfig_0.id)) });\n    $[10] = disabled;\n    $[11] = enumValues;\n    $[12] = internalValue;\n    $[13] = multiple;\n    $[14] = onChange;\n    $[15] = renderValue;\n    $[16] = small;\n    $[17] = validValue;\n    $[18] = t4;\n  } else {\n    t4 = $[18];\n  }\n  return t4;\n}\nfunction _temp2$b(v_0) {\n  return v_0.toString();\n}\nfunction _temp$l(v) {\n  return parseFloat(v);\n}\nfunction VirtualTableNumberInput(props) {\n  const {\n    align,\n    value,\n    updateValue,\n    focused\n  } = props;\n  const propStringValue = value && typeof value === \"number\" ? value.toString() : \"\";\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(propStringValue);\n  const prevValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (prevValue.current !== value && String(value) !== internalValue) setInternalValue(value ? value.toString() : null);\n    prevValue.current = value;\n  }, [value]);\n  const doUpdate = react__WEBPACK_IMPORTED_MODULE_2__.useCallback(() => {\n    if (internalValue !== propStringValue) {\n      if (internalValue !== void 0 && internalValue !== null) {\n        const numberValue = parseFloat(internalValue);\n        if (isNaN(numberValue)) return;\n        if (numberValue !== void 0 && numberValue !== null) updateValue(numberValue);\n      } else {\n        updateValue(null);\n      }\n    }\n  }, [internalValue, value]);\n  useDebouncedCallback(internalValue, doUpdate, !focused, 2e3);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!focused && propStringValue !== internalValue) setInternalValue(value !== void 0 && value !== null ? value.toString() : null);\n  }, [value, focused]);\n  const ref = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (ref.current && focused) {\n      ref.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [focused, ref]);\n  const regexp = /^-?[0-9]+[,.]?[0-9]*$/;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", { ref, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-full text-right p-0 m-0 bg-transparent border-none resize-none outline-none font-normal leading-normal text-unset\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.focusedDisabled), style: {\n    textAlign: align\n  }, value: internalValue ?? \"\", onChange: (evt) => {\n    const newValue = evt.target.value.replace(\",\", \".\");\n    if (newValue.length === 0) setInternalValue(null);\n    if (regexp.test(newValue) || newValue.startsWith(\"-\")) setInternalValue(newValue);\n  } });\n}\nfunction VirtualTableSwitch(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    internalValue,\n    updateValue,\n    focused\n  } = props;\n  const ref = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  let t0;\n  let t1;\n  if ($[0] !== focused) {\n    t0 = () => {\n      if (ref.current && focused) {\n        ref.current.focus({\n          preventScroll: true\n        });\n      }\n    };\n    t1 = [focused, ref];\n    $[0] = focused;\n    $[1] = t0;\n    $[2] = t1;\n  } else {\n    t0 = $[1];\n    t1 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n  const t2 = Boolean(internalValue);\n  let t3;\n  if ($[3] !== t2 || $[4] !== updateValue) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BooleanSwitch, { ref, size: \"small\", value: t2, onValueChange: updateValue });\n    $[3] = t2;\n    $[4] = updateValue;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  return t3;\n}\nfunction VirtualTableDateField(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const {\n    locale\n  } = useCustomizationController();\n  const {\n    mode,\n    internalValue,\n    updateValue\n  } = props;\n  const t0 = internalValue ?? void 0;\n  let t1;\n  if ($[0] !== updateValue) {\n    t1 = (dateValue) => updateValue(dateValue ?? null);\n    $[0] = updateValue;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  let t3;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-full h-full\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.focusedDisabled);\n    t3 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-full h-full\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.focusedDisabled);\n    $[2] = t2;\n    $[3] = t3;\n  } else {\n    t2 = $[2];\n    t3 = $[3];\n  }\n  let t4;\n  if ($[4] !== locale || $[5] !== mode || $[6] !== t0 || $[7] !== t1) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DateTimeField, { value: t0, onChange: t1, size: \"large\", invisible: true, inputClassName: t2, className: t3, mode, locale });\n    $[4] = locale;\n    $[5] = mode;\n    $[6] = t0;\n    $[7] = t1;\n    $[8] = t4;\n  } else {\n    t4 = $[8];\n  }\n  return t4;\n}\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_2__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  // eslint-disable-next-line n/handle-callback-err\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(error);\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col m-2\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex items-center m-2\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ErrorIcon, { color: \"error\", size: \"small\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"ml-4\", children: \"Error\" })\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", children: this.state.error?.message ?? \"See the error in the console\" })\n      ] });\n    }\n    return this.props.children;\n  }\n}\nfunction useStorageUploadController({\n  entityId,\n  entityValues,\n  path,\n  value,\n  property,\n  propertyKey,\n  storageSource,\n  disabled,\n  onChange\n}) {\n  const storage = property.dataType === \"string\" ? property.storage : property.dataType === \"array\" && property.of.dataType === \"string\" ? property.of.storage : void 0;\n  const multipleFilesSupported = property.dataType === \"array\";\n  if (!storage) throw Error(\"Storage meta must be specified\");\n  const metadata = storage?.metadata;\n  const size = multipleFilesSupported ? \"medium\" : \"large\";\n  const compression = storage?.imageCompression;\n  const internalInitialValue = getInternalInitialValue(multipleFilesSupported, value, metadata, size);\n  const [initialValue, setInitialValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(value);\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(internalInitialValue);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(initialValue, value)) {\n      setInitialValue(value);\n      setInternalValue(internalInitialValue);\n    }\n  }, [internalInitialValue, value, initialValue]);\n  const resolvedProperty = resolveProperty({\n    propertyOrBuilder: property,\n    values: entityValues\n  });\n  const fileNameBuilder = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async (file) => {\n    if (storage.fileName) {\n      const fileName = await resolveStorageFilenameString({\n        input: storage.fileName,\n        storage,\n        values: entityValues,\n        entityId,\n        path,\n        property: resolvedProperty,\n        file,\n        propertyKey\n      });\n      if (!fileName || fileName.length === 0) {\n        throw Error(\"You need to return a valid filename\");\n      }\n      return fileName;\n    }\n    return randomString() + \"_\" + file.name;\n  }, [entityId, entityValues, path, resolvedProperty, propertyKey, storage]);\n  const storagePathBuilder = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((file_0) => {\n    return resolveStoragePathString({\n      input: storage.storagePath,\n      storage,\n      values: entityValues,\n      entityId,\n      path,\n      property: resolvedProperty,\n      file: file_0,\n      propertyKey\n    }) ?? \"/\";\n  }, [entityId, entityValues, path, resolvedProperty, propertyKey, storage]);\n  const onFileUploadComplete = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async (uploadedPath, entry, metadata_0) => {\n    console.debug(\"onFileUploadComplete\", uploadedPath, entry);\n    let uploadPathOrDownloadUrl = uploadedPath;\n    if (storage.storeUrl) {\n      uploadPathOrDownloadUrl = (await storageSource.getDownloadURL(uploadedPath)).url;\n    }\n    if (storage.postProcess && uploadPathOrDownloadUrl) {\n      uploadPathOrDownloadUrl = await storage.postProcess(uploadPathOrDownloadUrl);\n    }\n    if (!uploadPathOrDownloadUrl) {\n      console.warn(\"uploadPathOrDownloadUrl is null\");\n      return;\n    }\n    let newValue;\n    entry.storagePathOrDownloadUrl = uploadPathOrDownloadUrl;\n    entry.metadata = metadata_0;\n    newValue = [...internalValue];\n    newValue = removeDuplicates(newValue);\n    setInternalValue(newValue);\n    const fieldValue = newValue.filter((e) => !!e.storagePathOrDownloadUrl).map((e_0) => e_0.storagePathOrDownloadUrl);\n    if (multipleFilesSupported) {\n      onChange(fieldValue);\n    } else {\n      onChange(fieldValue ? fieldValue[0] : null);\n    }\n  }, [internalValue, multipleFilesSupported, onChange, storage, storageSource]);\n  const onFilesAdded = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async (acceptedFiles) => {\n    if (!acceptedFiles.length || disabled) return;\n    let newInternalValue;\n    if (multipleFilesSupported) {\n      newInternalValue = [...internalValue, ...await Promise.all(acceptedFiles.map(async (file_1) => {\n        if (compression && compressionFormat(file_1)) {\n          file_1 = await resizeAndCompressImage(file_1, compression);\n        }\n        return {\n          id: getRandomId$2(),\n          file: file_1,\n          fileName: await fileNameBuilder(file_1),\n          metadata,\n          size\n        };\n      }))];\n    } else {\n      let file_2 = acceptedFiles[0];\n      if (compression && compressionFormat(file_2)) {\n        file_2 = await resizeAndCompressImage(file_2, compression);\n      }\n      newInternalValue = [{\n        id: getRandomId$2(),\n        file: file_2,\n        fileName: await fileNameBuilder(file_2),\n        metadata,\n        size\n      }];\n    }\n    newInternalValue = removeDuplicates(newInternalValue);\n    setInternalValue(newInternalValue);\n  }, [disabled, fileNameBuilder, internalValue, metadata, multipleFilesSupported, size]);\n  return {\n    internalValue,\n    setInternalValue,\n    storage,\n    fileNameBuilder,\n    storagePathBuilder,\n    onFileUploadComplete,\n    onFilesAdded,\n    multipleFilesSupported\n  };\n}\nfunction getInternalInitialValue(multipleFilesSupported, value, metadata, size) {\n  let strings = [];\n  if (multipleFilesSupported) {\n    if (Array.isArray(value) && value.every((v) => typeof v === \"string\")) {\n      strings = value ?? [];\n    }\n  } else {\n    if (typeof value === \"string\") {\n      strings = value ? [value] : [];\n    }\n  }\n  return strings.map((entry) => ({\n    id: getRandomId$2(),\n    storagePathOrDownloadUrl: entry,\n    metadata,\n    size\n  }));\n}\nfunction removeDuplicates(items) {\n  return items.filter((item, i) => {\n    return (items.map((v) => v.storagePathOrDownloadUrl).indexOf(item.storagePathOrDownloadUrl) === i || !item.storagePathOrDownloadUrl) && (items.map((v) => v.file).indexOf(item.file) === i || !item.file);\n  });\n}\nfunction getRandomId$2() {\n  return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n}\nconst supportedTypes = {\n  \"image/jpeg\": \"JPEG\",\n  \"image/png\": \"PNG\",\n  \"image/webp\": \"WEBP\"\n};\nconst compressionFormat = (file) => supportedTypes[file.type] ? supportedTypes[file.type] : null;\nconst defaultQuality = 100;\nconst resizeAndCompressImage = (file, compression) => new Promise((resolve) => {\n  const inputQuality = compression.quality === void 0 ? defaultQuality : compression.quality;\n  const quality = inputQuality >= 0 ? inputQuality <= 100 ? inputQuality : 100 : 100;\n  const format2 = compressionFormat(file);\n  if (!format2) {\n    throw Error(\"resizeAndCompressImage: Unsupported image format\");\n  }\n  react_image_file_resizer__WEBPACK_IMPORTED_MODULE_10__.imageFileResizer(file, compression.maxWidth || Number.MAX_VALUE, compression.maxHeight || Number.MAX_VALUE, format2, quality, 0, (file2) => resolve(file2), \"file\");\n});\nfunction StorageUploadProgress({\n  storagePath,\n  entry,\n  metadata,\n  onFileUploadComplete,\n  imageSize,\n  simple\n}) {\n  const storageSource = useStorageSource();\n  const snackbarController = useSnackbarController();\n  const [error, setError] = react__WEBPACK_IMPORTED_MODULE_2__.useState();\n  const [loading, setLoading] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  const mounted = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  const uploading = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  const upload = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((file, fileName) => {\n    if (uploading.current) return;\n    uploading.current = true;\n    setError(void 0);\n    setLoading(true);\n    storageSource.uploadFile({\n      file,\n      fileName,\n      path: storagePath,\n      metadata\n    }).then(async ({\n      path\n    }) => {\n      console.debug(\"Upload successful\", path);\n      await onFileUploadComplete(path, entry, metadata);\n      if (mounted.current) setLoading(false);\n    }).catch((e) => {\n      console.warn(\"Upload error\", e);\n      if (mounted.current) {\n        setError(e);\n        setLoading(false);\n        snackbarController.open({\n          type: \"error\",\n          message: \"Error uploading file: \" + e.message\n        });\n      }\n    }).finally(() => {\n      uploading.current = false;\n    });\n  }, [entry, metadata, onFileUploadComplete, storageSource, storagePath]);\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(() => {\n    mounted.current = true;\n    if (entry.file) upload(entry.file, entry.fileName);\n    return () => {\n      mounted.current = false;\n    };\n  }, [entry.file, entry.fileName, upload]);\n  if (simple) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: `m-4 w-${imageSize} h-${imageSize}`, children: loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { className: `w-${imageSize} h-${imageSize}` }) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.paperMixin, \"relative m-4 border-box flex items-center justify-center\", `min-w-[${imageSize}px] min-h-[${imageSize}px]`), children: [\n    loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { className: \"m-4 w-full h-full\" }),\n    error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { title: \"Error uploading file\", error })\n  ] });\n}\nfunction EntityTableCellActions({\n  showError,\n  disabled,\n  showExpandIcon,\n  selected,\n  openPopup,\n  children\n}) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const doOpenPopup = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (openPopup) {\n      const cellRect = ref && ref?.current?.getBoundingClientRect();\n      openPopup(cellRect);\n    }\n  }, []);\n  const iconRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (iconRef.current && selected) {\n      iconRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [selected]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (showError || !disabled && showExpandIcon) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ref, className: \"absolute top-0.5 right-0.5 flex items-center\", children: [\n    selected && children,\n    selected && !disabled && showExpandIcon && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { ref: iconRef, color: \"inherit\", size: \"small\", onClick: doOpenPopup, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", { fill: \"#888\", width: \"20\", height: \"20\", viewBox: \"0 0 24 24\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { className: \"cls-2\", d: \"M20,5a1,1,0,0,0-1-1L14,4h0a1,1,0,0,0,0,2h2.57L13.29,9.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L18,7.42V10a1,1,0,0,0,1,1h0a1,1,0,0,0,1-1Z\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { className: \"cls-2\", d: \"M10.71,13.29a1,1,0,0,0-1.42,0L6,16.57V14a1,1,0,0,0-1-1H5a1,1,0,0,0-1,1l0,5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2H7.42l3.29-3.29A1,1,0,0,0,10.71,13.29Z\" })\n    ] }) }),\n    showError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorTooltip, { side: \"left\", title: showError.message, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex items-center justify-center\", style: {\n      width: 32,\n      height: 32\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ErrorIcon, { size: \"small\", color: \"error\" }) }) })\n  ] }) });\n}\nconst dropZoneClasses$1 = \"max-w-full box-border relative pt-[2px] items-center border border-transparent outline-none rounded-md duration-200 ease-[cubic-bezier(0.4,0,0.2,1)] focus:border-primary-solid\";\nconst activeDropClasses$1 = \"pt-0 border-2 border-solid\";\nconst acceptDropClasses$1 = \"transition-colors duration-200 ease-[cubic-bezier(0,0,0.2,1)] border-2 border-solid border-green-500 bg-green-50 dark:bg-green-900\";\nconst rejectDropClasses$1 = \"transition-colors duration-200 ease-[cubic-bezier(0,0,0.2,1)] border-2 border-solid border-red-500 bg-red-50 dark:bg-red-900\";\nfunction TableStorageUpload(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(27);\n  const {\n    propertyKey,\n    error,\n    selected,\n    openPopup,\n    value,\n    disabled,\n    property,\n    entity,\n    path,\n    previewSize,\n    updateValue\n  } = props;\n  const storageSource = useStorageSource();\n  let t0;\n  if ($[0] !== disabled || $[1] !== entity.id || $[2] !== entity.values || $[3] !== path || $[4] !== property || $[5] !== propertyKey || $[6] !== storageSource || $[7] !== updateValue || $[8] !== value) {\n    t0 = {\n      entityValues: entity.values,\n      entityId: entity.id,\n      path,\n      property,\n      propertyKey,\n      storageSource,\n      onChange: updateValue,\n      value,\n      disabled\n    };\n    $[0] = disabled;\n    $[1] = entity.id;\n    $[2] = entity.values;\n    $[3] = path;\n    $[4] = property;\n    $[5] = propertyKey;\n    $[6] = storageSource;\n    $[7] = updateValue;\n    $[8] = value;\n    $[9] = t0;\n  } else {\n    t0 = $[9];\n  }\n  const {\n    internalValue,\n    setInternalValue,\n    onFilesAdded,\n    storage,\n    onFileUploadComplete,\n    storagePathBuilder,\n    multipleFilesSupported\n  } = useStorageUploadController(t0);\n  let t1;\n  if ($[10] !== disabled || $[11] !== entity || $[12] !== error || $[13] !== internalValue || $[14] !== multipleFilesSupported || $[15] !== onFileUploadComplete || $[16] !== onFilesAdded || $[17] !== openPopup || $[18] !== previewSize || $[19] !== property || $[20] !== propertyKey || $[21] !== selected || $[22] !== setInternalValue || $[23] !== storage || $[24] !== storagePathBuilder || $[25] !== updateValue) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageUpload$1, { internalValue, setInternalValue, name: propertyKey, disabled, autoFocus: false, openPopup, error, selected, property, onChange: updateValue, entity, storagePathBuilder, storage, multipleFilesSupported, onFilesAdded, onFileUploadComplete, previewSize });\n    $[10] = disabled;\n    $[11] = entity;\n    $[12] = error;\n    $[13] = internalValue;\n    $[14] = multipleFilesSupported;\n    $[15] = onFileUploadComplete;\n    $[16] = onFilesAdded;\n    $[17] = openPopup;\n    $[18] = previewSize;\n    $[19] = property;\n    $[20] = propertyKey;\n    $[21] = selected;\n    $[22] = setInternalValue;\n    $[23] = storage;\n    $[24] = storagePathBuilder;\n    $[25] = updateValue;\n    $[26] = t1;\n  } else {\n    t1 = $[26];\n  }\n  return t1;\n}\nfunction StorageUpload$1(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(64);\n  const {\n    property,\n    internalValue,\n    openPopup,\n    entity,\n    selected,\n    error,\n    multipleFilesSupported,\n    previewSize: previewSizeInput,\n    disabled,\n    autoFocus,\n    storage,\n    onFilesAdded,\n    onFileUploadComplete,\n    storagePathBuilder\n  } = t0;\n  const previewSize = previewSizeInput;\n  if (multipleFilesSupported) {\n    const arrayProperty = property;\n    if (Array.isArray(arrayProperty.of)) {\n      throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n    }\n    if (arrayProperty.of) {\n      if (arrayProperty.of.dataType !== \"string\") {\n        throw Error(\"Storage field using array must be of data type string\");\n      }\n    } else {\n      throw Error(\"Storage field using array must be of data type string\");\n    }\n  }\n  const metadata = storage?.metadata;\n  const hasValue = Boolean(internalValue);\n  const snackbarContext = useSnackbarController();\n  let t1;\n  if ($[0] !== storage.acceptedFiles) {\n    t1 = storage.acceptedFiles ? storage.acceptedFiles.map(_temp$k).reduce(_temp2$a, {}) : void 0;\n    $[0] = storage.acceptedFiles;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] !== snackbarContext || $[3] !== storage.maxSize) {\n    t2 = (fileRejections, event) => {\n      for (const fileRejection of fileRejections) {\n        for (const error_0 of fileRejection.errors) {\n          console.error(\"Error uploading file: \", error_0);\n          if (error_0.code === \"file-too-large\") {\n            snackbarContext.open({\n              type: \"error\",\n              message: `Error uploading file: File is larger than ${storage.maxSize} bytes`\n            });\n          } else {\n            if (error_0.code === \"file-invalid-type\") {\n              snackbarContext.open({\n                type: \"error\",\n                message: \"Error uploading file: File type is not supported\"\n              });\n            }\n          }\n        }\n      }\n    };\n    $[2] = snackbarContext;\n    $[3] = storage.maxSize;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  let t3;\n  if ($[5] !== disabled || $[6] !== onFilesAdded || $[7] !== storage.maxSize || $[8] !== t1 || $[9] !== t2) {\n    t3 = {\n      accept: t1,\n      disabled,\n      maxSize: storage.maxSize,\n      noClick: true,\n      noKeyboard: true,\n      onDrop: onFilesAdded,\n      onDropRejected: t2\n    };\n    $[5] = disabled;\n    $[6] = onFilesAdded;\n    $[7] = storage.maxSize;\n    $[8] = t1;\n    $[9] = t2;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  const {\n    open,\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = (0,react_dropzone__WEBPACK_IMPORTED_MODULE_9__.useDropzone)(t3);\n  let t4;\n  if ($[11] !== getRootProps) {\n    t4 = getRootProps();\n    $[11] = getRootProps;\n    $[12] = t4;\n  } else {\n    t4 = $[12];\n  }\n  let rootProps;\n  if ($[13] !== t4) {\n    ({\n      ...rootProps\n    } = t4);\n    $[13] = t4;\n    $[14] = rootProps;\n  } else {\n    rootProps = $[14];\n  }\n  const helpText = multipleFilesSupported ? \"Drag 'n' drop some files here, or click here to edit\" : \"Drag 'n' drop a file here, or click here edit\";\n  const renderProperty = multipleFilesSupported ? property.of : property;\n  let t5;\n  let t6;\n  if ($[15] !== previewSize) {\n    t6 = getThumbnailMeasure(previewSize);\n    $[15] = previewSize;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  t5 = t6;\n  const imageSize = t5;\n  const showError = !disabled && error;\n  const t7 = `justify-${hasValue ? \"start\" : \"center\"}`;\n  const t8 = isDragActive ? activeDropClasses$1 : \"\";\n  const t9 = isDragAccept ? acceptDropClasses$1 : \"\";\n  const t10 = isDragReject ? rejectDropClasses$1 : \"\";\n  let t11;\n  if ($[17] !== t10 || $[18] !== t7 || $[19] !== t8 || $[20] !== t9) {\n    t11 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(dropZoneClasses$1, \"relative w-full h-full flex\", t7, t8, t9, t10);\n    $[17] = t10;\n    $[18] = t7;\n    $[19] = t8;\n    $[20] = t9;\n    $[21] = t11;\n  } else {\n    t11 = $[21];\n  }\n  let t12;\n  if ($[22] !== getInputProps) {\n    t12 = getInputProps();\n    $[22] = getInputProps;\n    $[23] = t12;\n  } else {\n    t12 = $[23];\n  }\n  let t13;\n  if ($[24] !== autoFocus || $[25] !== t12) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", { autoFocus, ...t12 });\n    $[24] = autoFocus;\n    $[25] = t12;\n    $[26] = t13;\n  } else {\n    t13 = $[26];\n  }\n  let t14;\n  if ($[27] !== entity || $[28] !== imageSize || $[29] !== internalValue || $[30] !== metadata || $[31] !== onFileUploadComplete || $[32] !== previewSize || $[33] !== renderProperty || $[34] !== storagePathBuilder) {\n    let t152;\n    if ($[36] !== entity || $[37] !== imageSize || $[38] !== metadata || $[39] !== onFileUploadComplete || $[40] !== previewSize || $[41] !== renderProperty || $[42] !== storagePathBuilder) {\n      t152 = (entry, index) => {\n        let child;\n        if (entry.storagePathOrDownloadUrl) {\n          child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableStorageItemPreview, { property: renderProperty, value: entry.storagePathOrDownloadUrl, entity, size: previewSize }, `storage_preview_${index}`);\n        } else {\n          if (entry.file) {\n            child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageUploadProgress, { entry, metadata, storagePath: storagePathBuilder(entry.file), onFileUploadComplete, imageSize, simple: true }, `storage_progress_${index}`);\n          }\n        }\n        return child;\n      };\n      $[36] = entity;\n      $[37] = imageSize;\n      $[38] = metadata;\n      $[39] = onFileUploadComplete;\n      $[40] = previewSize;\n      $[41] = renderProperty;\n      $[42] = storagePathBuilder;\n      $[43] = t152;\n    } else {\n      t152 = $[43];\n    }\n    t14 = internalValue.map(t152);\n    $[27] = entity;\n    $[28] = imageSize;\n    $[29] = internalValue;\n    $[30] = metadata;\n    $[31] = onFileUploadComplete;\n    $[32] = previewSize;\n    $[33] = renderProperty;\n    $[34] = storagePathBuilder;\n    $[35] = t14;\n  } else {\n    t14 = $[35];\n  }\n  let t15;\n  if ($[44] !== helpText || $[45] !== internalValue || $[46] !== open) {\n    t15 = !internalValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow m-2 max-w-[200px]\", onClick: open, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { className: \"text-surface-400 dark:text-surface-600\", variant: \"body2\", align: \"center\", children: helpText }) });\n    $[44] = helpText;\n    $[45] = internalValue;\n    $[46] = open;\n    $[47] = t15;\n  } else {\n    t15 = $[47];\n  }\n  const t16 = !disabled ? openPopup : void 0;\n  let t17;\n  if ($[48] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.EditIcon, { size: \"small\", className: \"text-surface-500\" });\n    $[48] = t17;\n  } else {\n    t17 = $[48];\n  }\n  let t18;\n  if ($[49] !== open) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"inherit\", size: \"small\", onClick: open, children: t17 });\n    $[49] = open;\n    $[50] = t18;\n  } else {\n    t18 = $[50];\n  }\n  let t19;\n  if ($[51] !== disabled || $[52] !== selected || $[53] !== showError || $[54] !== t16 || $[55] !== t18) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCellActions, { showError, disabled, showExpandIcon: true, selected, openPopup: t16, children: t18 });\n    $[51] = disabled;\n    $[52] = selected;\n    $[53] = showError;\n    $[54] = t16;\n    $[55] = t18;\n    $[56] = t19;\n  } else {\n    t19 = $[56];\n  }\n  let t20;\n  if ($[57] !== rootProps || $[58] !== t11 || $[59] !== t13 || $[60] !== t14 || $[61] !== t15 || $[62] !== t19) {\n    t20 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ...rootProps, className: t11, children: [\n      t13,\n      t14,\n      t15,\n      t19\n    ] });\n    $[57] = rootProps;\n    $[58] = t11;\n    $[59] = t13;\n    $[60] = t14;\n    $[61] = t15;\n    $[62] = t19;\n    $[63] = t20;\n  } else {\n    t20 = $[63];\n  }\n  return t20;\n}\nfunction _temp2$a(a, b) {\n  return {\n    ...a,\n    ...b\n  };\n}\nfunction _temp$k(e) {\n  return {\n    [e]: []\n  };\n}\nfunction TableStorageItemPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    property,\n    value,\n    size\n  } = t0;\n  let t1;\n  if ($[0] !== property || $[1] !== size || $[2] !== value) {\n    t1 = value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: \"ignore\", value, property, size }) });\n    $[0] = property;\n    $[1] = size;\n    $[2] = value;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  let t2;\n  if ($[4] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"relative p-2 max-w-full\", children: t1 });\n    $[4] = t1;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  return t2;\n}\nfunction TableReferenceField(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const customizationController = useCustomizationController();\n  const navigationController = useNavigationController();\n  const {\n    path\n  } = props;\n  let t0;\n  if ($[0] !== navigationController || $[1] !== path) {\n    t0 = navigationController.getCollection(path);\n    $[0] = navigationController;\n    $[1] = path;\n    $[2] = t0;\n  } else {\n    t0 = $[2];\n  }\n  const collection = t0;\n  if (!collection) {\n    if (customizationController.components?.missingReference) {\n      let t12;\n      if ($[3] !== customizationController.components.missingReference || $[4] !== path) {\n        t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(customizationController.components.missingReference, { path });\n        $[3] = customizationController.components.missingReference;\n        $[4] = path;\n        $[5] = t12;\n      } else {\n        t12 = $[5];\n      }\n      return t12;\n    } else {\n      throw Error(`Couldn't find the corresponding collection view for the path: ${path}`);\n    }\n  }\n  let t1;\n  if ($[6] !== collection || $[7] !== props) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableReferenceFieldInternal, { ...props, collection });\n    $[6] = collection;\n    $[7] = props;\n    $[8] = t1;\n  } else {\n    t1 = $[8];\n  }\n  return t1;\n}\nconst TableReferenceFieldInternal = react__WEBPACK_IMPORTED_MODULE_2__.memo(function TableReferenceFieldInternal2(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(54);\n  const {\n    name,\n    internalValue,\n    updateValue,\n    multiselect,\n    path,\n    size,\n    previewProperties,\n    title,\n    disabled,\n    forceFilter,\n    collection,\n    includeId,\n    includeEntityLink\n  } = props;\n  let t0;\n  if ($[0] !== updateValue) {\n    t0 = (entity) => {\n      updateValue(entity ? getReferenceFrom(entity) : null);\n    };\n    $[0] = updateValue;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  const onSingleEntitySelected = t0;\n  let t1;\n  if ($[2] !== updateValue) {\n    t1 = (entities) => {\n      updateValue(entities.map(_temp$j));\n    };\n    $[2] = updateValue;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const onMultipleEntitiesSelected = t1;\n  let t2;\n  if ($[4] !== internalValue) {\n    t2 = internalValue ? Array.isArray(internalValue) ? internalValue.map(_temp2$9) : internalValue.id ? [internalValue.id] : [] : [];\n    $[4] = internalValue;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  const selectedEntityIds = t2;\n  let t3;\n  if ($[6] !== collection || $[7] !== forceFilter || $[8] !== multiselect || $[9] !== onMultipleEntitiesSelected || $[10] !== onSingleEntitySelected || $[11] !== path || $[12] !== selectedEntityIds) {\n    t3 = {\n      multiselect,\n      path,\n      collection,\n      onMultipleEntitiesSelected,\n      onSingleEntitySelected,\n      selectedEntityIds,\n      forceFilter\n    };\n    $[6] = collection;\n    $[7] = forceFilter;\n    $[8] = multiselect;\n    $[9] = onMultipleEntitiesSelected;\n    $[10] = onSingleEntitySelected;\n    $[11] = path;\n    $[12] = selectedEntityIds;\n    $[13] = t3;\n  } else {\n    t3 = $[13];\n  }\n  const referenceDialogController = useReferenceDialog(t3);\n  let t4;\n  if ($[14] !== disabled || $[15] !== referenceDialogController) {\n    t4 = () => {\n      if (disabled) {\n        return;\n      }\n      referenceDialogController.open();\n    };\n    $[14] = disabled;\n    $[15] = referenceDialogController;\n    $[16] = t4;\n  } else {\n    t4 = $[16];\n  }\n  const handleOpen = t4;\n  const valueNotSet = !internalValue || Array.isArray(internalValue) && internalValue.length === 0;\n  let t5;\n  if ($[17] !== disabled || $[18] !== handleOpen || $[19] !== includeEntityLink || $[20] !== includeId || $[21] !== internalValue || $[22] !== path || $[23] !== previewProperties || $[24] !== size) {\n    t5 = () => {\n      if (internalValue && !Array.isArray(internalValue) && internalValue.isEntityReference && internalValue.isEntityReference()) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { onClick: disabled ? void 0 : handleOpen, size: getPreviewSizeFrom(size), reference: internalValue, hover: !disabled, disabled: !path, previewProperties, includeId, includeEntityLink });\n      } else {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityPreviewContainer, { onClick: disabled ? void 0 : handleOpen, size: getPreviewSizeFrom(size), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { title: \"Value is not a reference.\", error: \"Click to edit\" }) });\n      }\n    };\n    $[17] = disabled;\n    $[18] = handleOpen;\n    $[19] = includeEntityLink;\n    $[20] = includeId;\n    $[21] = internalValue;\n    $[22] = path;\n    $[23] = previewProperties;\n    $[24] = size;\n    $[25] = t5;\n  } else {\n    t5 = $[25];\n  }\n  const buildSingleReferenceField = t5;\n  let t6;\n  if ($[26] !== disabled || $[27] !== handleOpen || $[28] !== includeEntityLink || $[29] !== includeId || $[30] !== internalValue || $[31] !== name || $[32] !== path || $[33] !== previewProperties) {\n    t6 = () => {\n      if (Array.isArray(internalValue)) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: internalValue.map((reference, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full my-0.5\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { onClick: disabled ? void 0 : handleOpen, size: \"small\", reference, hover: !disabled, disabled: !path, previewProperties, includeId, includeEntityLink }) }, `preview_array_ref_${name}_${index}`)) });\n      } else {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Data is not an array of references\" });\n      }\n    };\n    $[26] = disabled;\n    $[27] = handleOpen;\n    $[28] = includeEntityLink;\n    $[29] = includeId;\n    $[30] = internalValue;\n    $[31] = name;\n    $[32] = path;\n    $[33] = previewProperties;\n    $[34] = t6;\n  } else {\n    t6 = $[34];\n  }\n  const buildMultipleReferenceField = t6;\n  if (!collection) {\n    let t72;\n    if ($[35] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t72 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"The specified collection does not exist\" });\n      $[35] = t72;\n    } else {\n      t72 = $[35];\n    }\n    return t72;\n  }\n  let t7;\n  if ($[36] !== buildSingleReferenceField || $[37] !== internalValue || $[38] !== multiselect) {\n    t7 = internalValue && !multiselect && buildSingleReferenceField();\n    $[36] = buildSingleReferenceField;\n    $[37] = internalValue;\n    $[38] = multiselect;\n    $[39] = t7;\n  } else {\n    t7 = $[39];\n  }\n  let t8;\n  if ($[40] !== buildMultipleReferenceField || $[41] !== internalValue || $[42] !== multiselect) {\n    t8 = internalValue && multiselect && buildMultipleReferenceField();\n    $[40] = buildMultipleReferenceField;\n    $[41] = internalValue;\n    $[42] = multiselect;\n    $[43] = t8;\n  } else {\n    t8 = $[43];\n  }\n  let t9;\n  if ($[44] !== disabled || $[45] !== handleOpen || $[46] !== multiselect || $[47] !== title || $[48] !== valueNotSet) {\n    t9 = valueNotSet && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(EntityPreviewContainer, { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"px-3 py-2 text-sm font-medium flex items-center\", multiselect ? \"gap-4\" : \"gap-6\", disabled ? \"text-surface-accent-500\" : \"cursor-pointer text-text-secondary dark:text-text-secondary-dark hover:bg-surface-accent-50 dark:hover:bg-surface-800 group-hover:bg-surface-accent-50 dark:group-hover:bg-surface-800\"), onClick: handleOpen, size: \"medium\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.EditIcon, { size: \"small\", className: \"ml-2 mr-1 text-surface-300 dark:text-surface-600\" }),\n      title\n    ] });\n    $[44] = disabled;\n    $[45] = handleOpen;\n    $[46] = multiselect;\n    $[47] = title;\n    $[48] = valueNotSet;\n    $[49] = t9;\n  } else {\n    t9 = $[49];\n  }\n  let t10;\n  if ($[50] !== t7 || $[51] !== t8 || $[52] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-full group\", children: [\n      t7,\n      t8,\n      t9\n    ] });\n    $[50] = t7;\n    $[51] = t8;\n    $[52] = t9;\n    $[53] = t10;\n  } else {\n    t10 = $[53];\n  }\n  return t10;\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nfunction _temp$j(e) {\n  return getReferenceFrom(e);\n}\nfunction _temp2$9(ref) {\n  return ref.id;\n}\nyup__WEBPACK_IMPORTED_MODULE_8__.addMethod(yup__WEBPACK_IMPORTED_MODULE_8__.array, \"uniqueInArray\", function(mapper = (a) => a, message) {\n  return this.test(\"uniqueInArray\", message, (values) => {\n    return !values || values.length === new Set(values.map(mapper)).size;\n  });\n});\nfunction getYupEntitySchema(entityId, properties, customFieldValidator) {\n  const objectSchema = {};\n  Object.entries(properties).forEach(([name, property]) => {\n    objectSchema[name] = mapPropertyToYup({\n      property,\n      customFieldValidator,\n      name,\n      entityId\n    });\n  });\n  return yup__WEBPACK_IMPORTED_MODULE_8__.object().shape(objectSchema);\n}\nfunction mapPropertyToYup(propertyContext) {\n  const property = propertyContext.property;\n  if (isPropertyBuilder(property)) {\n    console.error(\"Error in property\", propertyContext);\n    throw Error(\"Trying to create a yup mapping from a property builder. Please use resolved properties only\");\n  }\n  if (property.dataType === \"string\") {\n    return getYupStringSchema(propertyContext);\n  } else if (property.dataType === \"number\") {\n    return getYupNumberSchema(propertyContext);\n  } else if (property.dataType === \"boolean\") {\n    return getYupBooleanSchema(propertyContext);\n  } else if (property.dataType === \"map\") {\n    return getYupMapObjectSchema(propertyContext);\n  } else if (property.dataType === \"array\") {\n    return getYupArraySchema(propertyContext);\n  } else if (property.dataType === \"date\") {\n    return getYupDateSchema(propertyContext);\n  } else if (property.dataType === \"geopoint\") {\n    return getYupGeoPointSchema(propertyContext);\n  } else if (property.dataType === \"reference\") {\n    return getYupReferenceSchema(propertyContext);\n  }\n  console.error(\"Unsupported data type in yup mapping\", property);\n  throw Error(\"Unsupported data type in yup mapping\");\n}\nfunction getYupMapObjectSchema({\n  property,\n  entityId,\n  customFieldValidator,\n  name\n}) {\n  const objectSchema = {};\n  const validation = property.validation;\n  if (property.properties) Object.entries(property.properties).forEach(([childName, childProperty]) => {\n    objectSchema[childName] = mapPropertyToYup({\n      property: childProperty,\n      parentProperty: property,\n      customFieldValidator,\n      name: `${name}[${childName}]`,\n      entityId\n    });\n  });\n  const shape = yup__WEBPACK_IMPORTED_MODULE_8__.object().shape(objectSchema);\n  if (validation?.required) {\n    return shape.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true);\n  }\n  return yup__WEBPACK_IMPORTED_MODULE_8__.object().shape(shape.fields).default(void 0).notRequired().nullable(true);\n}\nfunction getYupStringSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.string();\n  const validation = property.validation;\n  if (property.enumValues) {\n    if (validation?.required) collection = collection.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\");\n    const entries = enumToObjectEntries(property.enumValues);\n    collection = collection.oneOf((validation?.required ? entries : [...entries, null]).map((enumValueConfig) => enumValueConfig?.id ?? null)).nullable(true);\n  }\n  if (validation) {\n    collection = validation.required ? collection.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true) : collection.notRequired().nullable(true);\n    if (validation.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value, context) => customFieldValidator({\n      name,\n      property,\n      parentProperty,\n      value,\n      entityId\n    }));\n    if (validation.min || validation.min === 0) collection = collection.min(validation.min, `${property.name} must be min ${validation.min} characters long`);\n    if (validation.max || validation.max === 0) collection = collection.max(validation.max, `${property.name} must be max ${validation.max} characters long`);\n    if (validation.matches) {\n      const regExp = typeof validation.matches === \"string\" ? hydrateRegExp(validation.matches) : validation.matches;\n      if (regExp) {\n        collection = collection.matches(regExp, validation.matchesMessage ? {\n          message: validation.matchesMessage\n        } : void 0);\n      }\n    }\n    if (validation.trim) collection = collection.trim();\n    if (validation.lowercase) collection = collection.lowercase();\n    if (validation.uppercase) collection = collection.uppercase();\n    if (property.email) collection = collection.email(`${property.name} must be an email`);\n    if (property.url) {\n      if (!property.storage || property.storage?.storeUrl) {\n        collection = collection.url(`${property.name} must be a url`);\n      } else {\n        console.warn(`Property ${property.name} has a url validation but its storage configuration is not set to store urls`);\n      }\n    }\n  } else {\n    collection = collection.notRequired().nullable(true);\n  }\n  return collection;\n}\nfunction getYupNumberSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  const validation = property.validation;\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.number().typeError(\"Must be a number\");\n  if (validation) {\n    collection = validation.required ? collection.required(validation.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true) : collection.notRequired().nullable(true);\n    if (validation.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value) => customFieldValidator({\n      name,\n      property,\n      parentProperty,\n      value,\n      entityId\n    }));\n    if (validation.min || validation.min === 0) collection = collection.min(validation.min, `${property.name} must be higher or equal to ${validation.min}`);\n    if (validation.max || validation.max === 0) collection = collection.max(validation.max, `${property.name} must be lower or equal to ${validation.max}`);\n    if (validation.lessThan || validation.lessThan === 0) collection = collection.lessThan(validation.lessThan, `${property.name} must be higher than ${validation.lessThan}`);\n    if (validation.moreThan || validation.moreThan === 0) collection = collection.moreThan(validation.moreThan, `${property.name} must be lower than ${validation.moreThan}`);\n    if (validation.positive) collection = collection.positive(`${property.name} must be positive`);\n    if (validation.negative) collection = collection.negative(`${property.name} must be negative`);\n    if (validation.integer) collection = collection.integer(`${property.name} must be an integer`);\n  } else {\n    collection = collection.notRequired().nullable(true);\n  }\n  return collection;\n}\nfunction getYupGeoPointSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.object();\n  const validation = property.validation;\n  if (validation?.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value) => customFieldValidator({\n    name,\n    property,\n    parentProperty,\n    value,\n    entityId\n  }));\n  if (validation?.required) {\n    collection = collection.required(validation.requiredMessage).nullable(true);\n  } else {\n    collection = collection.notRequired().nullable(true);\n  }\n  return collection;\n}\nfunction getYupDateSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  if (property.autoValue) {\n    return yup__WEBPACK_IMPORTED_MODULE_8__.object().nullable();\n  }\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.date();\n  const validation = property.validation;\n  if (validation) {\n    collection = validation.required ? collection.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\") : collection.notRequired();\n    if (validation.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value) => customFieldValidator({\n      name,\n      property,\n      parentProperty,\n      value,\n      entityId\n    }));\n    if (validation.min) collection = collection.min(validation.min, `${property.name} must be after ${validation.min}`);\n    if (validation.max) collection = collection.max(validation.max, `${property.name} must be before ${validation.min}`);\n  } else {\n    collection = collection.notRequired();\n  }\n  return collection.transform((v) => v instanceof Date ? v : null).nullable();\n}\nfunction getYupReferenceSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.object();\n  const validation = property.validation;\n  if (validation) {\n    collection = validation.required ? collection.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true) : collection.notRequired().nullable(true);\n    if (validation.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value) => customFieldValidator({\n      name,\n      property,\n      parentProperty,\n      value,\n      entityId\n    }));\n  } else {\n    collection = collection.notRequired().nullable(true);\n  }\n  return collection;\n}\nfunction getYupBooleanSchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  let collection = yup__WEBPACK_IMPORTED_MODULE_8__.boolean();\n  const validation = property.validation;\n  if (validation) {\n    collection = validation.required ? collection.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true) : collection.notRequired().nullable(true);\n    if (validation.unique && customFieldValidator && name) collection = collection.test(\"unique\", \"This value already exists and should be unique\", (value) => customFieldValidator({\n      name,\n      property,\n      parentProperty,\n      value,\n      entityId\n    }));\n  } else {\n    collection = collection.notRequired().nullable(true);\n  }\n  return collection;\n}\nfunction hasUniqueInArrayModifier(property) {\n  if (property.validation?.uniqueInArray) {\n    return true;\n  } else if (property.dataType === \"map\" && property.properties) {\n    return Object.entries(property.properties).filter(([key, childProperty]) => childProperty.validation?.uniqueInArray);\n  }\n  return false;\n}\nfunction getYupArraySchema({\n  property,\n  parentProperty,\n  customFieldValidator,\n  name,\n  entityId\n}) {\n  let arraySchema = yup__WEBPACK_IMPORTED_MODULE_8__.array();\n  if (property.of) {\n    if (Array.isArray(property.of)) {\n      const yupProperties = property.of.map((p, index) => ({\n        [`${name}[${index}]`]: mapPropertyToYup({\n          property: p,\n          parentProperty: property,\n          entityId\n        })\n      })).reduce((a, b) => ({\n        ...a,\n        ...b\n      }), {});\n      return yup__WEBPACK_IMPORTED_MODULE_8__.array().of(yup__WEBPACK_IMPORTED_MODULE_8__.mixed().test(\"Dynamic object validation\", \"Dynamic object validation error\", (object, context) => {\n        const yupProperty = getValueInPath(yupProperties, context.path);\n        return yupProperty.validate(object);\n      }));\n    } else {\n      arraySchema = arraySchema.of(mapPropertyToYup({\n        property: property.of,\n        parentProperty: property,\n        entityId\n      }));\n      const arrayUniqueFields = hasUniqueInArrayModifier(property.of);\n      if (arrayUniqueFields) {\n        if (typeof arrayUniqueFields === \"boolean\") {\n          arraySchema = arraySchema.uniqueInArray((v) => v, `${property.name} should have unique values within the array`);\n        } else if (Array.isArray(arrayUniqueFields)) {\n          arrayUniqueFields.forEach(([name2, childProperty]) => {\n            arraySchema = arraySchema.uniqueInArray((v) => v && v[name2], `${property.name}  ${childProperty.name ?? name2}: should have unique values within the array`);\n          });\n        }\n      }\n    }\n  }\n  const validation = property.validation;\n  if (validation) {\n    arraySchema = validation.required ? arraySchema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true) : arraySchema.notRequired().nullable(true);\n    if (validation.min || validation.min === 0) arraySchema = arraySchema.min(validation.min, `${property.name} should be min ${validation.min} entries long`);\n    if (validation.max) arraySchema = arraySchema.max(validation.max, `${property.name} should be max ${validation.max} entries long`);\n  } else {\n    arraySchema = arraySchema.notRequired().nullable(true);\n  }\n  return arraySchema;\n}\nfunction getRowHeight(size) {\n  switch (size) {\n    case \"xl\":\n      return 400;\n    case \"l\":\n      return 280;\n    case \"m\":\n      return 140;\n    case \"s\":\n      return 80;\n    case \"xs\":\n      return 54;\n    default:\n      throw Error(\"Missing mapping for collection size -> height\");\n  }\n}\nconst TableCellInner = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(12);\n  const {\n    justifyContent,\n    scrollable,\n    faded,\n    fullHeight,\n    children\n  } = t0;\n  const t1 = faded || scrollable;\n  let t2;\n  if ($[0] !== t1) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex flex-col max-h-full w-full\", {\n      \"items-start\": t1\n    });\n    $[0] = t1;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const t3 = fullHeight ? \"100%\" : void 0;\n  const t4 = scrollable ? \"auto\" : void 0;\n  const t5 = faded ? \"linear-gradient(to bottom, black 60%, transparent 100%)\" : void 0;\n  const t6 = faded ? \"linear-gradient(to bottom, black 60%, transparent 100%)\" : void 0;\n  let t7;\n  if ($[2] !== justifyContent || $[3] !== t3 || $[4] !== t4 || $[5] !== t5 || $[6] !== t6) {\n    t7 = {\n      justifyContent,\n      height: t3,\n      overflow: t4,\n      WebkitMaskImage: t5,\n      maskImage: t6\n    };\n    $[2] = justifyContent;\n    $[3] = t3;\n    $[4] = t4;\n    $[5] = t5;\n    $[6] = t6;\n    $[7] = t7;\n  } else {\n    t7 = $[7];\n  }\n  let t8;\n  if ($[8] !== children || $[9] !== t2 || $[10] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, style: t7, children });\n    $[8] = children;\n    $[9] = t2;\n    $[10] = t7;\n    $[11] = t8;\n  } else {\n    t8 = $[11];\n  }\n  return t8;\n};\nconst EntityTableCell = react__WEBPACK_IMPORTED_MODULE_2__.memo(function EntityTableCell2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(45);\n  const {\n    children,\n    actions,\n    size,\n    selected,\n    disabled,\n    disabledTooltip,\n    saved,\n    error,\n    align,\n    allowScroll,\n    removePadding,\n    fullHeight,\n    onSelect,\n    width,\n    hideOverflow: t1,\n    showExpandIcon: t2\n  } = t0;\n  const hideOverflow = t1 === void 0 ? true : t1;\n  const [measureRef, bounds] = (0,react_use_measure__WEBPACK_IMPORTED_MODULE_16__[\"default\"])();\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t3;\n  t3 = getRowHeight(size);\n  const maxHeight = t3;\n  const [onHover, setOnHover] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [internalSaved, setInternalSaved] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(saved);\n  const showError = !disabled && Boolean(error);\n  let t4;\n  let t5;\n  if ($[0] !== saved) {\n    t4 = () => {\n      if (saved) {\n        setInternalSaved(true);\n      }\n      const handler = setTimeout(() => {\n        setInternalSaved(false);\n      }, 800);\n      return () => {\n        clearTimeout(handler);\n      };\n    };\n    t5 = [saved];\n    $[0] = saved;\n    $[1] = t4;\n    $[2] = t5;\n  } else {\n    t4 = $[1];\n    t5 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t4, t5);\n  let p = 0;\n  if (!removePadding) {\n    bb0: switch (size) {\n      case \"l\":\n      case \"xl\": {\n        p = 4;\n        break bb0;\n      }\n      case \"m\": {\n        p = 2;\n        break bb0;\n      }\n      case \"s\":\n      default: {\n        p = 1;\n      }\n    }\n  }\n  let justifyContent;\n  bb1: switch (align) {\n    case \"right\": {\n      justifyContent = \"flex-end\";\n      break bb1;\n    }\n    case \"center\": {\n      justifyContent = \"center\";\n      break bb1;\n    }\n    case \"left\":\n    default: {\n      justifyContent = \"flex-start\";\n    }\n  }\n  let t6;\n  if ($[3] !== disabled || $[4] !== onSelect || $[5] !== selected) {\n    t6 = () => {\n      if (!onSelect) {\n        return;\n      }\n      const cellRect = ref && ref?.current?.getBoundingClientRect();\n      if (disabled) {\n        onSelect(void 0);\n      } else {\n        if (!selected && cellRect) {\n          onSelect(cellRect);\n        }\n      }\n    };\n    $[3] = disabled;\n    $[4] = onSelect;\n    $[5] = selected;\n    $[6] = t6;\n  } else {\n    t6 = $[6];\n  }\n  const onSelectCallback = t6;\n  let t7;\n  if ($[7] !== onSelectCallback) {\n    t7 = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      onSelectCallback();\n    };\n    $[7] = onSelectCallback;\n    $[8] = t7;\n  } else {\n    t7 = $[8];\n  }\n  const onFocus = t7;\n  let t8;\n  bb2: {\n    if (bounds) {\n      t8 = bounds.height > maxHeight;\n      break bb2;\n    }\n    t8 = false;\n  }\n  const isOverflowing = t8;\n  const isSelected = !showError && selected;\n  const scrollable = !disabled && allowScroll && isOverflowing;\n  const faded = !disabled && !allowScroll && isOverflowing;\n  let t9;\n  if ($[9] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = () => setOnHover(true);\n    $[9] = t9;\n  } else {\n    t9 = $[9];\n  }\n  const setOnHoverTrue = t9;\n  let t10;\n  if ($[10] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t10 = () => setOnHover(false);\n    $[10] = t10;\n  } else {\n    t10 = $[10];\n  }\n  const setOnHoverFalse = t10;\n  const borderClass = showError ? \"border-red-500\" : internalSaved ? \"border-green-500\" : isSelected ? \"border-primary\" : \"border-transparent\";\n  const t11 = `flex relative h-full rounded-md p-${p} border border-4  border-opacity-75`;\n  const t12 = onHover && !disabled ? \"bg-surface-50 dark:bg-surface-900\" : \"\";\n  const t13 = saved ? \"bg-surface-100 bg-opacity-75 dark:bg-surface-800 dark:bg-opacity-75\" : \"\";\n  const t14 = hideOverflow ? \"overflow-hidden\" : \"\";\n  const t15 = isSelected ? \"bg-surface-50 dark:bg-surface-900\" : \"\";\n  let t16;\n  if ($[11] !== borderClass || $[12] !== t11 || $[13] !== t12 || $[14] !== t13 || $[15] !== t14 || $[16] !== t15) {\n    t16 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"transition-colors duration-100 ease-in-out\", t11, t12, t13, t14, t15, borderClass);\n    $[11] = borderClass;\n    $[12] = t11;\n    $[13] = t12;\n    $[14] = t13;\n    $[15] = t14;\n    $[16] = t15;\n    $[17] = t16;\n  } else {\n    t16 = $[17];\n  }\n  const t17 = disabled || !isOverflowing ? \"center\" : void 0;\n  const t18 = width ?? \"100%\";\n  let t19;\n  if ($[18] !== align || $[19] !== justifyContent || $[20] !== t17 || $[21] !== t18) {\n    t19 = {\n      justifyContent,\n      alignItems: t17,\n      width: t18,\n      textAlign: align\n    };\n    $[18] = align;\n    $[19] = justifyContent;\n    $[20] = t17;\n    $[21] = t18;\n    $[22] = t19;\n  } else {\n    t19 = $[22];\n  }\n  const t20 = selected || disabled ? void 0 : 0;\n  const t21 = fullHeight && !faded && children;\n  let t22;\n  if ($[23] !== children || $[24] !== faded || $[25] !== fullHeight || $[26] !== justifyContent || $[27] !== measureRef || $[28] !== scrollable) {\n    t22 = (!fullHeight || faded) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableCellInner, { fullHeight: fullHeight ?? false, justifyContent, scrollable: scrollable ?? false, faded, children: !fullHeight && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: measureRef, style: {\n      display: \"flex\",\n      width: \"100%\",\n      justifyContent,\n      height: fullHeight ? \"100%\" : void 0\n    }, children }) });\n    $[23] = children;\n    $[24] = faded;\n    $[25] = fullHeight;\n    $[26] = justifyContent;\n    $[27] = measureRef;\n    $[28] = scrollable;\n    $[29] = t22;\n  } else {\n    t22 = $[29];\n  }\n  let t23;\n  if ($[30] !== t21 || $[31] !== t22) {\n    t23 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ErrorBoundary, { children: [\n      t21,\n      t22\n    ] });\n    $[30] = t21;\n    $[31] = t22;\n    $[32] = t23;\n  } else {\n    t23 = $[32];\n  }\n  let t24;\n  if ($[33] !== disabled || $[34] !== disabledTooltip || $[35] !== onHover) {\n    t24 = disabled && onHover && disabledTooltip && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"absolute top-1 right-1 text-xs\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: disabledTooltip, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DoNotDisturbOnIcon, { size: \"smallest\", color: \"disabled\", className: \"text-surface-500\" }) }) });\n    $[33] = disabled;\n    $[34] = disabledTooltip;\n    $[35] = onHover;\n    $[36] = t24;\n  } else {\n    t24 = $[36];\n  }\n  let t25;\n  if ($[37] !== actions || $[38] !== onFocus || $[39] !== t16 || $[40] !== t19 || $[41] !== t20 || $[42] !== t23 || $[43] !== t24) {\n    t25 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t16, ref, style: t19, tabIndex: t20, onFocus, onMouseEnter: setOnHoverTrue, onMouseMove: setOnHoverTrue, onMouseLeave: setOnHoverFalse, children: [\n      t23,\n      actions,\n      t24\n    ] });\n    $[37] = actions;\n    $[38] = onFocus;\n    $[39] = t16;\n    $[40] = t19;\n    $[41] = t20;\n    $[42] = t23;\n    $[43] = t24;\n    $[44] = t25;\n  } else {\n    t25 = $[44];\n  }\n  return t25;\n}, (a, b) => {\n  return a.error === b.error && a.value === b.value && a.disabled === b.disabled && a.saved === b.saved && a.allowScroll === b.allowScroll && a.align === b.align && a.size === b.size && a.disabledTooltip === b.disabledTooltip && a.width === b.width && a.showExpandIcon === b.showExpandIcon && a.removePadding === b.removePadding && a.fullHeight === b.fullHeight && a.selected === b.selected;\n});\nconst SelectableTableContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({});\nconst useSelectableTableController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(SelectableTableContext);\n};\nfunction useClearRestoreValue(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    property,\n    value,\n    setValue\n  } = t0;\n  const clearedValueRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t1;\n  if ($[0] !== property.disabled || $[1] !== setValue || $[2] !== value) {\n    t1 = () => {\n      const shouldClearValueIfDisabled = typeof property.disabled === \"object\" && Boolean(property.disabled.clearOnDisabled);\n      if (shouldClearValueIfDisabled) {\n        if (value != null) {\n          clearedValueRef.current = value;\n          setValue(null);\n        }\n      } else {\n        if (clearedValueRef.current) {\n          setValue(clearedValueRef.current);\n          clearedValueRef.current = null;\n        }\n      }\n    };\n    $[0] = property.disabled;\n    $[1] = setValue;\n    $[2] = value;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  let t2;\n  if ($[4] !== property) {\n    t2 = [property];\n    $[4] = property;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n}\nfunction isStorageProperty(property) {\n  if (property.dataType === \"string\" && property.markdown) return false;\n  if (property.dataType === \"string\" && property.storage) return true;\n  if (property.dataType === \"array\") {\n    if (Array.isArray(property.of)) {\n      return false;\n    } else {\n      return property.of?.dataType === \"string\" && property.of?.storage;\n    }\n  }\n  return false;\n}\nconst PropertyTableCell = react__WEBPACK_IMPORTED_MODULE_2__.memo(function PropertyTableCell2({\n  propertyKey,\n  customFieldValidator,\n  value,\n  property,\n  align,\n  width,\n  height,\n  path,\n  entity,\n  readonly,\n  disabled: disabledProp,\n  enablePopupIcon = true\n}) {\n  const {\n    onValueChange,\n    size,\n    selectedCell,\n    select,\n    setPopupCell\n  } = useSelectableTableController();\n  const selected = selectedCell?.propertyKey === propertyKey && selectedCell?.entityPath === entity.path && selectedCell?.entityId === entity.id;\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(value);\n  const internalValueRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(value);\n  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [validationError, setValidationError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [saved, setSaved] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const onValueUpdated = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setSaved(true);\n    setTimeout(() => {\n      setSaved(false);\n    }, 100);\n  }, []);\n  const customField = Boolean(property.Field);\n  const customPreview = Boolean(property.Preview);\n  const readOnlyProperty = isReadOnly(property);\n  const disabledTooltip = typeof property.disabled === \"object\" ? property.disabled.disabledMessage : void 0;\n  const disabled = readonly || disabledProp || Boolean(property.disabled);\n  const validation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => mapPropertyToYup({\n    property,\n    entityId: entity.id,\n    customFieldValidator,\n    name: propertyKey\n  }), [entity.id, property, propertyKey]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(value, internalValueRef.current)) {\n      setValidationError(void 0);\n      setInternalValue(value);\n      internalValueRef.current = value;\n      onValueUpdated();\n    }\n  }, [onValueUpdated, value]);\n  const saveValues = (value_0) => {\n    if (react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(value_0, internalValueRef.current)) return;\n    setSaved(false);\n    validation.validate(value_0).then(() => {\n      setValidationError(void 0);\n      internalValueRef.current = value_0;\n      if (onValueChange) {\n        try {\n          onValueChange({\n            value: value_0,\n            propertyKey,\n            setError,\n            onValueUpdated,\n            data: entity\n          });\n        } catch (e) {\n          console.error(\"onValueChange error\", e);\n          setError(e);\n        }\n      }\n    }).catch((e_0) => {\n      setValidationError(e_0);\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    validation.validate(internalValue).then(() => setValidationError(void 0)).catch(setValidationError);\n  }, [internalValue, validation, propertyKey, property, entity]);\n  const updateValue = (newValue) => {\n    let updatedValue;\n    if (newValue === void 0) {\n      updatedValue = null;\n    } else {\n      updatedValue = newValue;\n    }\n    setInternalValue(updatedValue);\n    saveValues(updatedValue);\n  };\n  useClearRestoreValue({\n    property,\n    value: internalValue,\n    setValue: updateValue\n  });\n  const onSelect = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((cellRect) => {\n    if (!cellRect) {\n      select(void 0);\n    } else {\n      select({\n        width,\n        height,\n        entityPath: entity.path,\n        entityId: entity.id,\n        cellRect,\n        propertyKey\n      });\n    }\n  }, [entity, height, propertyKey, select, width]);\n  const openPopup = (cellRect_0) => {\n    if (!setPopupCell) return;\n    if (!cellRect_0) {\n      setPopupCell(void 0);\n    } else {\n      setPopupCell({\n        width,\n        height,\n        entityPath: entity.path,\n        entityId: entity.id,\n        cellRect: cellRect_0,\n        propertyKey\n      });\n    }\n  };\n  let innerComponent;\n  let allowScroll = false;\n  let showExpandIcon = false;\n  let hideOverflow = true;\n  let removePadding = false;\n  let fullHeight = false;\n  let includeActions = true;\n  const showError = !disabled && error;\n  if (readonly || readOnlyProperty) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCell, { size, width, saved, value: internalValue, align: align ?? \"left\", fullHeight: false, disabledTooltip: disabledTooltip ?? (readOnlyProperty ? \"Read only\" : void 0), disabled: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { width, height: getRowHeight(size), propertyKey, property, value: internalValue, size: getPreviewSizeFrom(size) }) }, `${propertyKey}_${entity.path}_${entity.id}`);\n  }\n  if (!customField && (!customPreview || selected)) {\n    const isAStorageProperty = isStorageProperty(property);\n    if (isAStorageProperty) {\n      innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableStorageUpload, { error: validationError ?? error, disabled, focused: selected, selected, openPopup: setPopupCell ? openPopup : void 0, property, entity, path, value: internalValue, previewSize: getPreviewSizeFrom(size), updateValue, propertyKey });\n      includeActions = false;\n      showExpandIcon = true;\n      fullHeight = true;\n      removePadding = true;\n    } else if (selected && property.dataType === \"number\") {\n      const numberProperty = property;\n      if (numberProperty.enumValues) {\n        innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableSelect, { name: propertyKey, multiple: false, disabled, focused: selected, valueType: \"number\", small: getPreviewSizeFrom(size) !== \"medium\", enumValues: numberProperty.enumValues, error: validationError ?? error, internalValue, updateValue });\n        fullHeight = true;\n      } else {\n        innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableNumberInput, { align, error: validationError ?? error, focused: selected, disabled, value: internalValue, updateValue });\n        allowScroll = true;\n      }\n    } else if (selected && property.dataType === \"string\") {\n      const stringProperty = property;\n      if (stringProperty.enumValues) {\n        innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableSelect, { name: propertyKey, multiple: false, focused: selected, disabled, valueType: \"string\", small: getPreviewSizeFrom(size) !== \"medium\", enumValues: stringProperty.enumValues, error: validationError ?? error, internalValue, updateValue });\n        fullHeight = true;\n      } else if (stringProperty.markdown || !stringProperty.storage) {\n        const multiline = Boolean(stringProperty.multiline) || Boolean(stringProperty.markdown);\n        innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableInput, { error: validationError ?? error, disabled, multiline, focused: selected, value: internalValue, updateValue });\n        allowScroll = true;\n      }\n    } else if (property.dataType === \"boolean\") {\n      innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableSwitch, { error: validationError ?? error, disabled, focused: selected, internalValue, updateValue });\n    } else if (property.dataType === \"date\") {\n      innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableDateField, { name: propertyKey, error: validationError ?? error, disabled, mode: property.mode, focused: selected, internalValue, updateValue });\n      fullHeight = true;\n      hideOverflow = false;\n      allowScroll = false;\n    } else if (property.dataType === \"reference\") {\n      if (typeof property.path === \"string\") {\n        innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableReferenceField, { name: propertyKey, internalValue, updateValue, disabled, size, path: property.path, multiselect: false, previewProperties: property.previewProperties, includeId: property.includeId, includeEntityLink: property.includeEntityLink, title: property.name, forceFilter: property.forceFilter });\n      }\n      allowScroll = false;\n    } else if (property.dataType === \"array\") {\n      const arrayProperty = property;\n      if (!arrayProperty.of && !arrayProperty.oneOf) {\n        throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${propertyKey}`);\n      }\n      if (arrayProperty.of && !Array.isArray(arrayProperty.of)) {\n        if (arrayProperty.of.dataType === \"string\" || arrayProperty.of.dataType === \"number\") {\n          if (selected && arrayProperty.of.enumValues) {\n            innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableSelect, { name: propertyKey, multiple: true, disabled, focused: selected, small: getPreviewSizeFrom(size) !== \"medium\", valueType: arrayProperty.of.dataType, enumValues: arrayProperty.of.enumValues, error: validationError ?? error, internalValue, updateValue });\n            allowScroll = true;\n            fullHeight = true;\n            hideOverflow = false;\n          }\n        } else if (arrayProperty.of.dataType === \"reference\") {\n          if (typeof arrayProperty.of.path === \"string\") {\n            innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TableReferenceField, { name: propertyKey, disabled, internalValue, updateValue, size, multiselect: true, path: arrayProperty.of.path, previewProperties: arrayProperty.of.previewProperties, title: arrayProperty.name, forceFilter: arrayProperty.of.forceFilter, includeId: arrayProperty.of.includeId, includeEntityLink: arrayProperty.of.includeEntityLink });\n          }\n          allowScroll = false;\n        }\n      }\n    }\n  }\n  if (!innerComponent) {\n    allowScroll = false;\n    showExpandIcon = enablePopupIcon && selected && !innerComponent && !disabled && !readOnlyProperty;\n    innerComponent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { width, height, propertyKey, value: internalValue, property, size: getPreviewSizeFrom(size) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCell, { size, width, onSelect, selected, disabled: disabled || readOnlyProperty, disabledTooltip: disabledTooltip ?? \"Disabled\", removePadding, fullHeight, saved, error: validationError ?? error, align, allowScroll, showExpandIcon, value: internalValue, hideOverflow, actions: includeActions && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCellActions, { showError, disabled, showExpandIcon, selected, openPopup: !disabled ? openPopup : void 0 }), children: innerComponent }, `cell_${propertyKey}_${entity.path}_${entity.id}`);\n}, areEqual);\nfunction areEqual(prevProps, nextProps) {\n  return prevProps.height === nextProps.height && prevProps.propertyKey === nextProps.propertyKey && prevProps.align === nextProps.align && prevProps.width === nextProps.width && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.property, nextProps.property) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.value, nextProps.value) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.entity.id, nextProps.entity.id) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(prevProps.entity.values, nextProps.entity.values);\n}\nconst LOCAL_STORAGE_PREFIX = \"entity_cache::\";\nconst entityCache = /* @__PURE__ */ new Map();\nconst isLocalStorageAvailable = typeof localStorage !== \"undefined\";\nfunction customReplacer(key) {\n  const value = this[key];\n  if (value instanceof Date) {\n    return {\n      __type: \"Date\",\n      value: value.toISOString()\n    };\n  }\n  if (value instanceof EntityReference) {\n    return {\n      __type: \"EntityReference\",\n      id: value.id,\n      path: value.path\n    };\n  }\n  if (value instanceof GeoPoint) {\n    return {\n      __type: \"GeoPoint\",\n      latitude: value.latitude,\n      longitude: value.longitude\n    };\n  }\n  if (value instanceof Vector) {\n    return {\n      __type: \"Vector\",\n      value: value.value\n    };\n  }\n  return value;\n}\nfunction customReviver(key, value) {\n  if (value && typeof value === \"object\" && \"__type\" in value) {\n    switch (value.__type) {\n      case \"Date\":\n        return new Date(value.value);\n      case \"EntityReference\":\n        return new EntityReference(value.id, value.path);\n      case \"GeoPoint\":\n        return new GeoPoint(value.latitude, value.longitude);\n      case \"Vector\":\n        return new Vector(value.value);\n      default:\n        return value;\n    }\n  }\n  return value;\n}\nif (isLocalStorageAvailable) {\n  try {\n    for (let i = 0; i < localStorage.length; i++) {\n      const fullKey = localStorage.key(i);\n      if (fullKey && fullKey.startsWith(LOCAL_STORAGE_PREFIX)) {\n        const path = fullKey.substring(LOCAL_STORAGE_PREFIX.length);\n        const entityString = localStorage.getItem(fullKey);\n        if (entityString) {\n          try {\n            const entity = JSON.parse(entityString, customReviver);\n            entityCache.set(path, entity);\n          } catch (parseError) {\n            console.error(`Failed to parse entity for path \"${path}\" from localStorage:`, parseError);\n          }\n        }\n      }\n    }\n  } catch (error) {\n    console.error(\"Error accessing localStorage during initialization:\", error);\n  }\n}\nfunction saveEntityToCache(path, data) {\n  entityCache.set(path, data);\n  if (isLocalStorageAvailable) {\n    try {\n      const key = LOCAL_STORAGE_PREFIX + path;\n      const entityString = JSON.stringify(data, customReplacer);\n      localStorage.setItem(key, entityString);\n    } catch (error) {\n      console.error(`Failed to save entity for path \"${path}\" to localStorage:`, error);\n    }\n  }\n}\nfunction getEntityFromCache(path) {\n  if (entityCache.has(path)) {\n    return entityCache.get(path);\n  }\n  if (isLocalStorageAvailable) {\n    try {\n      const key = LOCAL_STORAGE_PREFIX + path;\n      const entityString = localStorage.getItem(key);\n      if (entityString) {\n        const entity = JSON.parse(entityString, customReviver);\n        entityCache.set(path, entity);\n        return entity;\n      }\n    } catch (error) {\n      console.error(`Failed to load entity for path \"${path}\" from localStorage:`, error);\n    }\n  }\n  return void 0;\n}\nfunction hasEntityInCache(path) {\n  return entityCache.has(path);\n}\nfunction removeEntityFromCache(path) {\n  console.debug(\"Removing entity from cache\", path);\n  entityCache.delete(path);\n  if (isLocalStorageAvailable) {\n    try {\n      const key = LOCAL_STORAGE_PREFIX + path;\n      localStorage.removeItem(key);\n    } catch (error) {\n      console.error(`Failed to remove entity for path \"${path}\" from localStorage:`, error);\n    }\n  }\n}\nconst EntityCollectionRowActions = function EntityCollectionRowActions2({\n  entity,\n  collection,\n  fullPath,\n  width,\n  frozen,\n  isSelected,\n  selectionEnabled,\n  size,\n  highlightEntity,\n  onCollectionChange,\n  unhighlightEntity,\n  actions = [],\n  hideId,\n  selectionController,\n  openEntityMode\n}) {\n  const largeLayout = useLargeLayout();\n  const context = useFireCMSContext();\n  const onCheckedChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((checked) => {\n    selectionController?.toggleEntitySelection(entity, checked);\n  }, [entity, selectionController?.toggleEntitySelection]);\n  const hasActions = actions.length > 0;\n  const hasCollapsedActions = actions.some((a) => a.collapsed || a.collapsed === void 0);\n  const collapsedActions = actions.filter((a_0) => a_0.collapsed || a_0.collapsed === void 0);\n  const uncollapsedActions = actions.filter((a_1) => a_1.collapsed === false);\n  const hasDraft = hasEntityInCache(fullPath + \"/\" + entity.id);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"h-full flex items-center justify-center flex-col bg-surface-50 dark:bg-surface-900 bg-opacity-90 dark:bg-opacity-90 z-10\", frozen ? \"sticky left-0\" : \"\"), onClick: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((event) => {\n    event.stopPropagation();\n  }, []), style: {\n    width,\n    position: frozen ? \"sticky\" : \"initial\",\n    left: frozen ? 0 : \"initial\",\n    contain: \"strict\"\n  }, children: [\n    (hasActions || selectionEnabled) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-34 flex justify-center\", children: [\n      uncollapsedActions.map((action, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: action.name, asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: (event_0) => {\n        event_0.stopPropagation();\n        action.onClick({\n          entity,\n          fullPath,\n          collection,\n          context,\n          selectionController,\n          highlightEntity,\n          unhighlightEntity,\n          onCollectionChange,\n          openEntityMode: openEntityMode ?? collection?.openEntityMode\n        });\n      }, size: largeLayout ? \"medium\" : \"small\", children: action.icon }) }, index)),\n      hasCollapsedActions && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: largeLayout ? \"medium\" : \"small\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MoreVertIcon, {}) }), children: collapsedActions.map((action_0, index_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: (e) => {\n        e.stopPropagation();\n        action_0.onClick({\n          entity,\n          fullPath,\n          collection,\n          context,\n          selectionController,\n          highlightEntity,\n          unhighlightEntity,\n          onCollectionChange,\n          openEntityMode: openEntityMode ?? collection?.openEntityMode\n        });\n      }, children: [\n        action_0.icon,\n        action_0.name\n      ] }, index_0)) }),\n      selectionEnabled && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: `Select ${entity.id}`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { size: largeLayout ? \"medium\" : \"small\", checked: Boolean(isSelected), onCheckedChange }) })\n    ] }),\n    !hideId && size !== \"xs\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-[138px] overflow-hidden truncate font-mono text-xs text-text-secondary dark:text-text-secondary-dark max-w-full text-ellipsis px-2 align-center flex items-center justify-center gap-1\", onClick: (event_1) => {\n      event_1.stopPropagation();\n    }, children: [\n      hasDraft && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Unsaved changes\", className: \"inline\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { colorScheme: \"orangeDarker\", className: \"p-0.5\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.EditIcon, { size: 12 }) }) }),\n      entity ? entity.id : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, {})\n    ] })\n  ] });\n};\nfunction CollectionTableToolbar(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(30);\n  const {\n    actions,\n    actionsStart,\n    loading,\n    onSizeChanged,\n    onTextSearch,\n    onTextSearchClick,\n    size,\n    textSearchLoading,\n    title\n  } = t0;\n  const searchInputRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const largeLayout = useLargeLayout();\n  const searchLoading = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  let t1;\n  let t2;\n  if ($[0] !== textSearchLoading) {\n    t1 = () => {\n      if (searchInputRef.current && searchLoading.current && !textSearchLoading) {\n        searchInputRef.current.focus();\n      }\n      searchLoading.current = textSearchLoading ?? false;\n    };\n    t2 = [textSearchLoading];\n    $[0] = textSearchLoading;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t1 = $[1];\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  const t3 = size;\n  let t4;\n  if ($[3] !== onSizeChanged) {\n    t4 = (v) => onSizeChanged(v);\n    $[3] = onSizeChanged;\n    $[4] = t4;\n  } else {\n    t4 = $[4];\n  }\n  let t5;\n  if ($[5] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t5 = [\"xs\", \"s\", \"m\", \"l\", \"xl\"].map(_temp2$8);\n    $[5] = t5;\n  } else {\n    t5 = $[5];\n  }\n  let t6;\n  if ($[6] !== t3 || $[7] !== t4) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Table row size\", side: \"right\", sideOffset: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { value: t3, className: \"w-16 h-10\", size: \"small\", onValueChange: t4, renderValue: _temp$i, children: t5 }) });\n    $[6] = t3;\n    $[7] = t4;\n    $[8] = t6;\n  } else {\n    t6 = $[8];\n  }\n  const sizeSelect = t6;\n  let t7;\n  if ($[9] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t7 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"no-scrollbar min-h-[56px] overflow-x-auto px-2 md:px-4 bg-surface-50 dark:bg-surface-900 border-b flex flex-row justify-between items-center w-full\");\n    $[9] = t7;\n  } else {\n    t7 = $[9];\n  }\n  let t8;\n  if ($[10] !== title) {\n    t8 = title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"hidden lg:block\", children: title });\n    $[10] = title;\n    $[11] = t8;\n  } else {\n    t8 = $[11];\n  }\n  let t9;\n  if ($[12] !== actionsStart || $[13] !== sizeSelect || $[14] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex items-center gap-2 md:mr-4 mr-2\", children: [\n      t8,\n      sizeSelect,\n      actionsStart\n    ] });\n    $[12] = actionsStart;\n    $[13] = sizeSelect;\n    $[14] = t8;\n    $[15] = t9;\n  } else {\n    t9 = $[15];\n  }\n  let t10;\n  if ($[16] !== largeLayout || $[17] !== loading) {\n    t10 = largeLayout && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[22px] mr-4\", children: loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircularProgress, { size: \"smallest\" }) });\n    $[16] = largeLayout;\n    $[17] = loading;\n    $[18] = t10;\n  } else {\n    t10 = $[18];\n  }\n  let t11;\n  if ($[19] !== onTextSearch || $[20] !== onTextSearchClick || $[21] !== textSearchLoading) {\n    t11 = (onTextSearch || onTextSearchClick) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SearchBar, { inputRef: searchInputRef, loading: textSearchLoading, disabled: Boolean(onTextSearchClick), onClick: onTextSearchClick, onTextSearch: onTextSearchClick ? void 0 : onTextSearch, expandable: true }, \"search-bar\");\n    $[19] = onTextSearch;\n    $[20] = onTextSearchClick;\n    $[21] = textSearchLoading;\n    $[22] = t11;\n  } else {\n    t11 = $[22];\n  }\n  let t12;\n  if ($[23] !== actions || $[24] !== t10 || $[25] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex items-center gap-2\", children: [\n      t10,\n      t11,\n      actions\n    ] });\n    $[23] = actions;\n    $[24] = t10;\n    $[25] = t11;\n    $[26] = t12;\n  } else {\n    t12 = $[26];\n  }\n  let t13;\n  if ($[27] !== t12 || $[28] !== t9) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t7, children: [\n      t9,\n      t12\n    ] });\n    $[27] = t12;\n    $[28] = t9;\n    $[29] = t13;\n  } else {\n    t13 = $[29];\n  }\n  return t13;\n}\nfunction _temp2$8(size_0) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: size_0, className: \"w-12 font-medium text-center\", children: size_0.toUpperCase() }, size_0);\n}\nfunction _temp$i(v_0) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"font-medium\", children: v_0.toUpperCase() });\n}\nfunction getTableCellAlignment(property) {\n  if (property.dataType === \"boolean\") {\n    return \"center\";\n  } else if (property.dataType === \"number\") {\n    if (property.enumValues) return \"left\";\n    return \"right\";\n  } else if (property.dataType === \"date\") {\n    return \"right\";\n  } else {\n    return \"left\";\n  }\n}\nfunction getTablePropertyColumnWidth(property) {\n  if (property.columnWidth) {\n    return property.columnWidth;\n  }\n  if (property.dataType === \"string\") {\n    if (property.url) {\n      return 280;\n    } else if (property.storage) {\n      return 160;\n    } else if (property.enumValues) {\n      return 200;\n    } else if (property.multiline) {\n      return 300;\n    } else if (property.markdown) {\n      return 300;\n    } else if (property.email) {\n      return 200;\n    } else {\n      return 200;\n    }\n  } else if (property.dataType === \"array\") {\n    const arrayProperty = property;\n    if (arrayProperty.of) {\n      if (Array.isArray(property.of)) {\n        return 300;\n      } else {\n        return getTablePropertyColumnWidth(arrayProperty.of);\n      }\n    } else {\n      return 300;\n    }\n  } else if (property.dataType === \"number\") {\n    if (property.enumValues) {\n      return 200;\n    }\n    return 140;\n  } else if (property.dataType === \"map\") {\n    return 360;\n  } else if (property.dataType === \"date\") {\n    return 200;\n  } else if (property.dataType === \"reference\") {\n    return 220;\n  } else if (property.dataType === \"boolean\") {\n    return 140;\n  } else {\n    return 200;\n  }\n}\nfunction getSubcollectionColumnId(collection) {\n  return `subcollection:${collection.id ?? collection.path}`;\n}\nconst COLLECTION_GROUP_PARENT_ID = \"collectionGroupParent\";\nfunction useColumnIds(collection, includeSubcollections) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  let t0;\n  bb0: {\n    if (collection.propertiesOrder) {\n      let propertyColumnConfigs;\n      if ($[0] !== collection) {\n        propertyColumnConfigs = hideAndExpandKeys(collection, collection.propertiesOrder);\n        if (collection.collectionGroup) {\n          propertyColumnConfigs.push({\n            key: COLLECTION_GROUP_PARENT_ID,\n            disabled: true\n          });\n        }\n        $[0] = collection;\n        $[1] = propertyColumnConfigs;\n      } else {\n        propertyColumnConfigs = $[1];\n      }\n      t0 = propertyColumnConfigs;\n      break bb0;\n    }\n    let t1;\n    if ($[2] !== collection || $[3] !== includeSubcollections) {\n      t1 = getDefaultColumnKeys(collection, includeSubcollections);\n      $[2] = collection;\n      $[3] = includeSubcollections;\n      $[4] = t1;\n    } else {\n      t1 = $[4];\n    }\n    t0 = t1;\n  }\n  return t0;\n}\nfunction hideAndExpandKeys(collection, keys) {\n  return keys.flatMap((key) => {\n    const property = collection.properties[key];\n    if (property) {\n      if (property.hideFromCollection) return [null];\n      if (property.disabled && typeof property.disabled === \"object\" && property.disabled.hidden) return [null];\n      if (property.dataType === \"map\" && property.spreadChildren && property.properties) {\n        return getColumnKeysForProperty(property, key);\n      }\n      return [{\n        key,\n        disabled: Boolean(property.disabled) || Boolean(property.readOnly)\n      }];\n    }\n    const additionalField = collection.additionalFields?.find((field) => field.key === key);\n    if (additionalField) {\n      return [{\n        key,\n        disabled: true\n      }];\n    }\n    if (collection.subcollections) {\n      const subCollection = collection.subcollections.find((subCol) => getSubcollectionColumnId(subCol) === key);\n      if (subCollection) {\n        return [{\n          key,\n          disabled: true\n        }];\n      }\n    }\n    if (collection.collectionGroup && key === COLLECTION_GROUP_PARENT_ID) {\n      return [{\n        key,\n        disabled: true\n      }];\n    }\n    return [null];\n  }).filter(Boolean);\n}\nfunction getDefaultColumnKeys(collection, includeSubCollections) {\n  const propertyKeys = Object.keys(collection.properties);\n  const additionalFields = collection.additionalFields ?? [];\n  const subCollections = collection.subcollections ?? [];\n  const columnIds = [...propertyKeys, ...additionalFields.map((field) => field.key)];\n  if (includeSubCollections) {\n    const subCollectionIds = subCollections.map((collection2) => getSubcollectionColumnId(collection2));\n    columnIds.push(...subCollectionIds.filter((subColId) => !columnIds.includes(subColId)));\n  }\n  if (collection.collectionGroup) {\n    columnIds.push(COLLECTION_GROUP_PARENT_ID);\n  }\n  return hideAndExpandKeys(collection, columnIds);\n}\nfunction getColumnKeysForProperty(property, key, disabled) {\n  if (property.dataType === \"map\" && property.spreadChildren && property.properties) {\n    return Object.entries(property.properties).flatMap(([childKey, childProperty]) => getColumnKeysForProperty(childProperty, `${key}.${childKey}`, disabled || Boolean(property.disabled) || Boolean(property.readOnly)));\n  }\n  return [{\n    key,\n    disabled: disabled || Boolean(property.disabled) || Boolean(property.readOnly)\n  }];\n}\nfunction getFormFieldKeys(collection) {\n  const propertyKeys = Object.keys(collection.properties);\n  const additionalFields = collection.additionalFields ?? [];\n  const allKeys = [...propertyKeys, ...additionalFields.map((field) => field.key)];\n  if (collection.propertiesOrder) {\n    return collection.propertiesOrder.filter((key) => allKeys.includes(key));\n  }\n  return allKeys;\n}\nfunction buildIdColumn(largeLayout) {\n  return {\n    key: \"id_ewcfedcswdf3\",\n    width: largeLayout ? 160 : 130,\n    title: \"ID\",\n    resizable: false,\n    frozen: largeLayout ?? false,\n    headerAlign: \"center\",\n    align: \"center\"\n  };\n}\nfunction propertiesToColumns({\n  properties,\n  sortable,\n  forceFilter,\n  AdditionalHeaderWidget\n}) {\n  const disabledFilter = Boolean(forceFilter);\n  return Object.entries(properties).flatMap(([key, property]) => getColumnKeysForProperty(property, key)).map(({\n    key,\n    disabled\n  }) => {\n    const property = getResolvedPropertyInPath(properties, key);\n    if (!property) throw Error(\"Internal error: no property found in path \" + key);\n    const filterable = filterableProperty(property);\n    return {\n      key,\n      align: getTableCellAlignment(property),\n      icon: getIconForProperty(property, \"small\"),\n      title: property.name ?? key,\n      sortable,\n      filter: !disabledFilter && filterable,\n      width: getTablePropertyColumnWidth(property),\n      resizable: true,\n      custom: {\n        resolvedProperty: property,\n        disabled\n      },\n      AdditionalHeaderWidget: AdditionalHeaderWidget ? ({\n        onHover\n      }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AdditionalHeaderWidget, { property, propertyKey: key, onHover }) : void 0\n    };\n  });\n}\nfunction filterableProperty(property, partOfArray = false) {\n  if (partOfArray) {\n    return [\"string\", \"number\", \"date\", \"reference\"].includes(property.dataType);\n  }\n  if (property.dataType === \"array\") {\n    if (property.of) return filterableProperty(property.of, true);\n    else return false;\n  }\n  return [\"string\", \"number\", \"boolean\", \"date\", \"reference\", \"array\"].includes(property.dataType);\n}\nfunction CircularProgressCenter(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  let props;\n  let text;\n  if ($[0] !== t0) {\n    ({\n      text,\n      ...props\n    } = t0);\n    $[0] = t0;\n    $[1] = props;\n    $[2] = text;\n  } else {\n    props = $[1];\n    text = $[2];\n  }\n  let t1;\n  if ($[3] !== props) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircularProgress, { ...props });\n    $[3] = props;\n    $[4] = t1;\n  } else {\n    t1 = $[4];\n  }\n  let t2;\n  if ($[5] !== text) {\n    t2 = text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"secondary\", variant: \"caption\", className: \"text-center\", children: text });\n    $[5] = text;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  let t3;\n  if ($[7] !== t1 || $[8] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex w-full h-screen max-h-full max-w-full gap-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"m-auto flex flex-col gap-2 items-center\", children: [\n      t1,\n      t2\n    ] }) });\n    $[7] = t1;\n    $[8] = t2;\n    $[9] = t3;\n  } else {\n    t3 = $[9];\n  }\n  return t3;\n}\nconst VirtualTableHeader = react__WEBPACK_IMPORTED_MODULE_2__.memo(function VirtualTableHeader2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(57);\n  const {\n    resizeHandleRef,\n    columnIndex,\n    isResizingIndex,\n    sort,\n    onColumnSort,\n    onFilterUpdate,\n    filter,\n    column,\n    onClickResizeColumn,\n    createFilterField: createFilterField2,\n    AdditionalHeaderWidget\n  } = t0;\n  const [onHover, setOnHover] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [openFilter, setOpenFilter] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  const [hidden, setHidden] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = (event) => {\n      setOpenFilter(true);\n    };\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  const handleSettingsClick = t1;\n  let t2;\n  if ($[1] !== column || $[2] !== onFilterUpdate) {\n    t2 = (filterForProperty, newOpenFilterState) => {\n      onFilterUpdate(column, filterForProperty);\n      if (newOpenFilterState !== void 0) {\n        setOpenFilter(newOpenFilterState);\n      }\n    };\n    $[1] = column;\n    $[2] = onFilterUpdate;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  const update = t2;\n  const thisColumnIsResizing = isResizingIndex === columnIndex;\n  const anotherColumnIsResizing = isResizingIndex !== columnIndex && isResizingIndex > 0;\n  const hovered = !anotherColumnIsResizing && (onHover || thisColumnIsResizing);\n  const t3 = column.frozen ? \"sticky left-0 z-10\" : \"relative z-0\";\n  let t4;\n  if ($[4] !== t3) {\n    t4 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex py-0 px-3 h-full text-xs uppercase font-semibold relative select-none items-center bg-surface-50 dark:bg-surface-900\", \"text-text-secondary hover:text-text-primary dark:text-text-secondary-dark dark:hover:text-text-primary-dark\", \"hover:bg-surface-100 dark:hover:bg-surface-800 hover:bg-opacity-50 dark:hover:bg-opacity-50\", t3);\n    $[4] = t3;\n    $[5] = t4;\n  } else {\n    t4 = $[5];\n  }\n  const t5 = column.frozen ? 0 : void 0;\n  let t6;\n  if ($[6] !== column.width || $[7] !== t5) {\n    t6 = {\n      left: t5,\n      minWidth: column.width,\n      maxWidth: column.width\n    };\n    $[6] = column.width;\n    $[7] = t5;\n    $[8] = t6;\n  } else {\n    t6 = $[8];\n  }\n  let t7;\n  let t8;\n  let t9;\n  if ($[9] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t7 = () => setOnHover(true);\n    t8 = () => setOnHover(true);\n    t9 = () => setOnHover(false);\n    $[9] = t7;\n    $[10] = t8;\n    $[11] = t9;\n  } else {\n    t7 = $[9];\n    t8 = $[10];\n    t9 = $[11];\n  }\n  const t10 = `flex items-center justify-${column.headerAlign} flex-row`;\n  let t11;\n  if ($[12] !== column.align) {\n    t11 = {\n      WebkitBoxOrient: \"vertical\",\n      WebkitLineClamp: 2,\n      justifyContent: column.align\n    };\n    $[12] = column.align;\n    $[13] = t11;\n  } else {\n    t11 = $[13];\n  }\n  let t12;\n  if ($[14] !== column.title || $[15] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"truncate -webkit-box w-full mx-1 overflow-hidden\", style: t11, children: column.title });\n    $[14] = column.title;\n    $[15] = t11;\n    $[16] = t12;\n  } else {\n    t12 = $[16];\n  }\n  let t13;\n  if ($[17] !== column.icon || $[18] !== t10 || $[19] !== t12) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"overflow-hidden flex-grow\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t10, children: [\n      column.icon,\n      t12\n    ] }) });\n    $[17] = column.icon;\n    $[18] = t10;\n    $[19] = t12;\n    $[20] = t13;\n  } else {\n    t13 = $[20];\n  }\n  let t14;\n  if ($[21] !== AdditionalHeaderWidget || $[22] !== onHover || $[23] !== openFilter) {\n    t14 = AdditionalHeaderWidget && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AdditionalHeaderWidget, { onHover: onHover || openFilter });\n    $[21] = AdditionalHeaderWidget;\n    $[22] = onHover;\n    $[23] = openFilter;\n    $[24] = t14;\n  } else {\n    t14 = $[24];\n  }\n  let t15;\n  if ($[25] !== column.key || $[26] !== column.sortable || $[27] !== hovered || $[28] !== onColumnSort || $[29] !== onHover || $[30] !== openFilter || $[31] !== sort) {\n    t15 = column.sortable && (sort || hovered || openFilter) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Badge, { color: \"secondary\", invisible: !sort, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", className: onHover || openFilter ? \"bg-white dark:bg-surface-950\" : void 0, onClick: () => {\n      onColumnSort(column.key);\n    }, children: [\n      !sort && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowUpwardIcon, {}),\n      sort === \"asc\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowUpwardIcon, {}),\n      sort === \"desc\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowUpwardIcon, { className: \"rotate-180\" })\n    ] }) });\n    $[25] = column.key;\n    $[26] = column.sortable;\n    $[27] = hovered;\n    $[28] = onColumnSort;\n    $[29] = onHover;\n    $[30] = openFilter;\n    $[31] = sort;\n    $[32] = t15;\n  } else {\n    t15 = $[32];\n  }\n  let t16;\n  if ($[33] !== t14 || $[34] !== t15) {\n    t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t14,\n      t15\n    ] });\n    $[33] = t14;\n    $[34] = t15;\n    $[35] = t16;\n  } else {\n    t16 = $[35];\n  }\n  let t17;\n  if ($[36] !== column || $[37] !== createFilterField2 || $[38] !== filter || $[39] !== hidden || $[40] !== onHover || $[41] !== openFilter || $[42] !== update) {\n    t17 = column.filter && createFilterField2 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Badge, { color: \"secondary\", invisible: !filter, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Popover, { open: openFilter, onOpenChange: setOpenFilter, className: hidden ? \"hidden\" : void 0, modal: true, trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: onHover || openFilter ? \"bg-white dark:bg-surface-950\" : void 0, size: \"small\", onClick: handleSettingsClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FilterListIcon, { size: \"small\" }) }), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterForm, { column, filter, onHover, onFilterUpdate: update, createFilterField: createFilterField2, hidden, setHidden }) }) }) });\n    $[36] = column;\n    $[37] = createFilterField2;\n    $[38] = filter;\n    $[39] = hidden;\n    $[40] = onHover;\n    $[41] = openFilter;\n    $[42] = update;\n    $[43] = t17;\n  } else {\n    t17 = $[43];\n  }\n  let t18;\n  if ($[44] !== column || $[45] !== columnIndex || $[46] !== hovered || $[47] !== onClickResizeColumn || $[48] !== resizeHandleRef) {\n    t18 = column.resizable && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: resizeHandleRef, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"absolute h-full w-[6px] top-0 right-0 cursor-col-resize\", hovered && \"bg-surface-300 dark:bg-surface-700\"), onMouseDown: onClickResizeColumn ? () => onClickResizeColumn(columnIndex, column) : void 0 });\n    $[44] = column;\n    $[45] = columnIndex;\n    $[46] = hovered;\n    $[47] = onClickResizeColumn;\n    $[48] = resizeHandleRef;\n    $[49] = t18;\n  } else {\n    t18 = $[49];\n  }\n  let t19;\n  if ($[50] !== t13 || $[51] !== t16 || $[52] !== t17 || $[53] !== t18 || $[54] !== t4 || $[55] !== t6) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t4, style: t6, onMouseEnter: t7, onMouseMove: t8, onMouseLeave: t9, children: [\n      t13,\n      t16,\n      t17,\n      t18\n    ] }) });\n    $[50] = t13;\n    $[51] = t16;\n    $[52] = t17;\n    $[53] = t18;\n    $[54] = t4;\n    $[55] = t6;\n    $[56] = t19;\n  } else {\n    t19 = $[56];\n  }\n  return t19;\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nfunction FilterForm(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(33);\n  const {\n    column,\n    onFilterUpdate,\n    filter,\n    createFilterField: createFilterField2,\n    hidden,\n    setHidden\n  } = t0;\n  const id = column.key;\n  const [filterInternal, setFilterInternal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(filter);\n  let t1;\n  let t2;\n  if ($[0] !== filter) {\n    t1 = () => {\n      setFilterInternal(filter);\n    };\n    t2 = [filter];\n    $[0] = filter;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t1 = $[1];\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  if (!column.filter) {\n    return null;\n  }\n  let t3;\n  if ($[3] !== filterInternal || $[4] !== onFilterUpdate) {\n    t3 = () => {\n      onFilterUpdate(filterInternal, false);\n    };\n    $[3] = filterInternal;\n    $[4] = onFilterUpdate;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  const submit = t3;\n  let t4;\n  if ($[6] !== onFilterUpdate) {\n    t4 = (e) => {\n      onFilterUpdate(void 0, false);\n    };\n    $[6] = onFilterUpdate;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  const reset = t4;\n  const filterIsSet = !!filter;\n  let t5;\n  if ($[8] !== column || $[9] !== createFilterField2 || $[10] !== filterInternal || $[11] !== hidden || $[12] !== id || $[13] !== setHidden) {\n    t5 = createFilterField2({\n      id,\n      filterValue: filterInternal,\n      setFilterValue: setFilterInternal,\n      column,\n      hidden,\n      setHidden\n    });\n    $[8] = column;\n    $[9] = createFilterField2;\n    $[10] = filterInternal;\n    $[11] = hidden;\n    $[12] = id;\n    $[13] = setHidden;\n    $[14] = t5;\n  } else {\n    t5 = $[14];\n  }\n  const filterField = t5;\n  if (!filterField) {\n    return null;\n  }\n  let t6;\n  if ($[15] !== submit) {\n    t6 = (e_0) => {\n      e_0.stopPropagation();\n      e_0.preventDefault();\n      submit();\n    };\n    $[15] = submit;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  let t7;\n  if ($[17] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t7 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"py-4 px-6 typography-label border-b\");\n    $[17] = t7;\n  } else {\n    t7 = $[17];\n  }\n  const t8 = column.title ?? id;\n  let t9;\n  if ($[18] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t7, children: t8 });\n    $[18] = t8;\n    $[19] = t9;\n  } else {\n    t9 = $[19];\n  }\n  let t10;\n  if ($[20] !== filterField) {\n    t10 = filterField && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"m-4\", children: filterField });\n    $[20] = filterField;\n    $[21] = t10;\n  } else {\n    t10 = $[21];\n  }\n  const t11 = !filterIsSet;\n  let t12;\n  if ($[22] !== reset || $[23] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { className: \"mr-4\", disabled: t11, variant: \"text\", color: \"primary\", type: \"reset\", \"aria-label\": \"filter clear\", onClick: reset, children: \"Clear\" });\n    $[22] = reset;\n    $[23] = t11;\n    $[24] = t12;\n  } else {\n    t12 = $[24];\n  }\n  let t13;\n  if ($[25] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"outlined\", color: \"primary\", type: \"submit\", children: \"Filter\" });\n    $[25] = t13;\n  } else {\n    t13 = $[25];\n  }\n  let t14;\n  if ($[26] !== t12) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex justify-end m-4\", children: [\n      t12,\n      t13\n    ] });\n    $[26] = t12;\n    $[27] = t14;\n  } else {\n    t14 = $[27];\n  }\n  let t15;\n  if ($[28] !== t10 || $[29] !== t14 || $[30] !== t6 || $[31] !== t9) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", { noValidate: true, onSubmit: t6, className: \"text-surface-900 dark:text-white\", children: [\n      t9,\n      t10,\n      t14\n    ] });\n    $[28] = t10;\n    $[29] = t14;\n    $[30] = t6;\n    $[31] = t9;\n    $[32] = t15;\n  } else {\n    t15 = $[32];\n  }\n  return t15;\n}\nconst VirtualTableHeaderRow = ({\n  columns,\n  currentSort,\n  onColumnSort,\n  onFilterUpdate,\n  sortByProperty,\n  filter,\n  onColumnResize,\n  onColumnResizeEnd,\n  createFilterField: createFilterField2,\n  AddColumnComponent\n}) => {\n  const columnRefs = columns.map(() => (0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)());\n  const [isResizing, setIsResizing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(-1);\n  const adjustWidthColumn = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((index, width, end) => {\n    const column = columns[index];\n    const minWidth = 100;\n    const maxWidth = 800;\n    const newWidth = width > maxWidth ? maxWidth : width < minWidth ? minWidth : width;\n    const params = {\n      width: newWidth,\n      key: column.key,\n      column: {\n        ...column,\n        width: newWidth\n      }\n    };\n    if (!end) onColumnResize(params);\n    else onColumnResizeEnd(params);\n  }, [columns, onColumnResize, onColumnResizeEnd]);\n  const getEventNewWidth = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e) => {\n    if (isResizing >= 0) {\n      const left = columnRefs[isResizing].current?.parentElement?.getBoundingClientRect().left;\n      if (!left) return;\n      return e.clientX - left;\n    }\n    return void 0;\n  }, [columnRefs, isResizing]);\n  const setCursorDocument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((isResizing_0) => {\n    document.body.style.cursor = isResizing_0 ? \"col-resize\" : \"auto\";\n  }, []);\n  const handleOnMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_0) => {\n    e_0.stopPropagation();\n    e_0.preventDefault();\n    const newWidth_0 = getEventNewWidth(e_0);\n    if (newWidth_0) adjustWidthColumn(isResizing, newWidth_0, false);\n  }, [adjustWidthColumn, getEventNewWidth, isResizing]);\n  const handleOnMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_1) => {\n    e_1.stopPropagation();\n    e_1.preventDefault();\n    const newWidth_1 = getEventNewWidth(e_1);\n    if (newWidth_1) adjustWidthColumn(isResizing, newWidth_1, true);\n    setIsResizing(-1);\n    setCursorDocument(false);\n  }, [adjustWidthColumn, getEventNewWidth, isResizing, setCursorDocument]);\n  const removeResizingListeners = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    document.removeEventListener(\"mousemove\", handleOnMouseMove);\n    document.removeEventListener(\"mouseup\", handleOnMouseUp);\n  }, [handleOnMouseMove, handleOnMouseUp]);\n  const attachResizeListeners = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    document.addEventListener(\"mousemove\", handleOnMouseMove);\n    document.addEventListener(\"mouseup\", handleOnMouseUp);\n  }, [handleOnMouseMove, handleOnMouseUp]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (isResizing >= 0) {\n      attachResizeListeners();\n    } else {\n      removeResizingListeners();\n    }\n    return () => {\n      removeResizingListeners();\n    };\n  }, [attachResizeListeners, isResizing, removeResizingListeners]);\n  const onClickResizeColumn = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((index_0) => {\n    setIsResizing(index_0);\n    setCursorDocument(true);\n  }, [setCursorDocument]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"z-20 sticky min-w-full flex w-fit flex-row top-0 left-0 h-12 border-b bg-surface-50 dark:bg-surface-900\"), children: [\n    columns.map((c2, columnIndex) => {\n      const column_0 = columns[columnIndex];\n      const filterForThisProperty = column_0 && filter && filter[column_0.key] ? filter[column_0.key] : void 0;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableHeader, { resizeHandleRef: columnRefs[columnIndex], columnIndex, isResizingIndex: isResizing, onFilterUpdate, filter: filterForThisProperty, sort: sortByProperty === column_0.key ? currentSort : void 0, onColumnSort, onClickResizeColumn, column: column_0, createFilterField: createFilterField2, AdditionalHeaderWidget: column_0.AdditionalHeaderWidget }) }, \"header_\" + column_0.key);\n    }),\n    AddColumnComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AddColumnComponent, {})\n  ] });\n};\nconst VirtualTableRow = react__WEBPACK_IMPORTED_MODULE_2__.memo(function VirtualTableRow2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);\n  const {\n    rowData,\n    rowIndex,\n    children,\n    onRowClick,\n    rowHeight,\n    style,\n    hoverRow,\n    rowClassName\n  } = t0;\n  let t1;\n  if ($[0] !== onRowClick || $[1] !== rowData || $[2] !== rowIndex) {\n    t1 = (event) => {\n      if (onRowClick) {\n        onRowClick({\n          rowData,\n          rowIndex,\n          event\n        });\n      }\n    };\n    $[0] = onRowClick;\n    $[1] = rowData;\n    $[2] = rowIndex;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const onClick = t1;\n  let t2;\n  if ($[4] !== hoverRow || $[5] !== onRowClick || $[6] !== rowClassName || $[7] !== rowData) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex min-w-full text-sm border-b border-surface-200 dark:border-surface-800 border-opacity-40 dark:border-opacity-40\", rowClassName ? rowClassName(rowData) : \"\", {\n      \"hover:bg-opacity-95\": hoverRow,\n      \"cursor-pointer\": onRowClick\n    });\n    $[4] = hoverRow;\n    $[5] = onRowClick;\n    $[6] = rowClassName;\n    $[7] = rowData;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  let t3;\n  if ($[9] !== rowHeight || $[10] !== style) {\n    t3 = {\n      ...style,\n      height: rowHeight,\n      width: \"fit-content\"\n    };\n    $[9] = rowHeight;\n    $[10] = style;\n    $[11] = t3;\n  } else {\n    t3 = $[11];\n  }\n  let t4;\n  if ($[12] !== children || $[13] !== onClick || $[14] !== t2 || $[15] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, onClick, style: t3, children });\n    $[12] = children;\n    $[13] = onClick;\n    $[14] = t2;\n    $[15] = t3;\n    $[16] = t4;\n  } else {\n    t4 = $[16];\n  }\n  return t4;\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nconst VirtualTableCell = react__WEBPACK_IMPORTED_MODULE_2__.memo(function VirtualTableCell2(props) {\n  return props.rowData && props.cellRenderer({\n    cellData: props.cellData,\n    rowData: props.rowData,\n    rowIndex: props.rowIndex,\n    isScrolling: false,\n    column: props.column,\n    columns: props.columns,\n    columnIndex: props.columnIndex,\n    width: props.column.width\n  });\n}, (a, b) => {\n  return react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.rowData, b.rowData) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.column, b.column) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.cellData, b.cellData) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.rowIndex, b.rowIndex) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.cellRenderer, b.cellRenderer) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.columnIndex, b.columnIndex);\n});\nfunction useDebounceCallback(callback, delay) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3);\n  const timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t0;\n  if ($[0] !== callback || $[1] !== delay) {\n    t0 = (...t1) => {\n      const args = t1;\n      if (timeoutRef.current !== null) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = window.setTimeout(() => {\n        callback?.(...args);\n      }, delay);\n    };\n    $[0] = callback;\n    $[1] = delay;\n    $[2] = t0;\n  } else {\n    t0 = $[2];\n  }\n  const debouncedCallback = t0;\n  return debouncedCallback;\n}\nconst VirtualListContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nVirtualListContext.displayName = \"VirtualListContext\";\nconst innerElementType = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((t0, ref) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  let children;\n  let rest;\n  if ($[0] !== t0) {\n    ({\n      children,\n      ...rest\n    } = t0);\n    $[0] = t0;\n    $[1] = children;\n    $[2] = rest;\n  } else {\n    children = $[1];\n    rest = $[2];\n  }\n  let t1;\n  if ($[3] !== children || $[4] !== ref || $[5] !== rest) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualListContext.Consumer, { children: (virtualTableProps) => {\n      const customView = virtualTableProps.customView;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: \"virtual-table\", style: {\n          position: \"relative\",\n          height: \"100%\"\n        }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ref, ...rest, style: {\n          ...rest?.style,\n          minHeight: \"100%\",\n          position: \"relative\"\n        }, children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableHeaderRow, { ...virtualTableProps }),\n          !customView && children\n        ] }) }),\n        customView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {\n          position: \"sticky\",\n          top: \"48px\",\n          flexGrow: 1,\n          height: \"calc(100% - 48px)\",\n          marginTop: \"calc(48px - 100vh)\",\n          left: 0\n        }, children: customView })\n      ] });\n    } });\n    $[3] = children;\n    $[4] = ref;\n    $[5] = rest;\n    $[6] = t1;\n  } else {\n    t1 = $[6];\n  }\n  return t1;\n});\nconst VirtualTable = react__WEBPACK_IMPORTED_MODULE_2__.memo(function VirtualTable2({\n  data,\n  onResetPagination,\n  onEndReached,\n  endOffset = 600,\n  rowHeight = 54,\n  columns: columnsProp,\n  onRowClick,\n  onColumnResize,\n  filter: filterInput,\n  checkFilterCombination,\n  onFilterUpdate,\n  sortBy,\n  error,\n  emptyComponent,\n  onSortByUpdate,\n  onScroll: onScrollProp,\n  loading,\n  cellRenderer,\n  hoverRow,\n  createFilterField: createFilterField2,\n  rowClassName,\n  style,\n  className,\n  endAdornment,\n  AddColumnComponent,\n  initialScroll = 0,\n  debug\n}) {\n  const sortByProperty = sortBy ? sortBy[0] : void 0;\n  const currentSort = sortBy ? sortBy[1] : void 0;\n  const [columns, setColumns] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(columnsProp);\n  const tableRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const endReachCallbackThreshold = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  const debouncedScroll = useDebounceCallback(onScrollProp, 200);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (tableRef.current && initialScroll) {\n      tableRef.current.scrollTo(0, initialScroll);\n    }\n  }, [tableRef, initialScroll]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setColumns(columnsProp);\n  }, [columnsProp]);\n  const [measureRef, bounds] = (0,react_use_measure__WEBPACK_IMPORTED_MODULE_16__[\"default\"])();\n  const onColumnResizeInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((params) => {\n    if (debug) console.log(\"onColumnResizeInternal\", params);\n    setColumns(columns.map((column) => column.key === params.column.key ? params.column : column));\n  }, [columns]);\n  const onColumnResizeEndInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((params_0) => {\n    if (debug) console.log(\"onColumnResizeEndInternal\", params_0);\n    setColumns(columns.map((column_0) => column_0.key === params_0.column.key ? params_0.column : column_0));\n    if (onColumnResize) {\n      onColumnResize(params_0);\n    }\n  }, [columns, onColumnResize]);\n  const filterRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (debug) console.log(\"Filter updated\", filterInput);\n    filterRef.current = filterInput;\n  }, [filterInput]);\n  const scrollToTop = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (debug) console.log(\"scrollToTop\");\n    endReachCallbackThreshold.current = 0;\n    if (tableRef.current) {\n      tableRef.current.scrollTo(tableRef.current?.scrollLeft, 0);\n    }\n  }, []);\n  const onColumnSort = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key) => {\n    if (debug) console.log(\"onColumnSort\", key);\n    const isDesc = sortByProperty === key && currentSort === \"desc\";\n    const isAsc = sortByProperty === key && currentSort === \"asc\";\n    const newSort = isAsc ? \"desc\" : isDesc ? void 0 : \"asc\";\n    const newSortProperty = isDesc ? void 0 : key;\n    const filter = filterRef.current;\n    const newSortBy = newSort && newSortProperty ? [newSortProperty, newSort] : void 0;\n    if (filter) {\n      if (checkFilterCombination && !checkFilterCombination(filter, newSortBy)) {\n        if (onFilterUpdate) onFilterUpdate(void 0);\n      }\n    }\n    if (onResetPagination) {\n      onResetPagination();\n    }\n    if (onSortByUpdate) {\n      onSortByUpdate(newSortBy);\n    }\n    scrollToTop();\n  }, [checkFilterCombination, currentSort, onFilterUpdate, onResetPagination, onSortByUpdate, scrollToTop, sortByProperty]);\n  const maxScroll = Math.max((data?.length ?? 0) * rowHeight - bounds.height, 0);\n  if (debug) console.log(\"maxScroll\", maxScroll);\n  const onEndReachedInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((scrollOffset) => {\n    if (debug) console.log(\"onEndReachedInternal\", scrollOffset, endReachCallbackThreshold.current + endOffset);\n    if (onEndReached && (data?.length ?? 0) > 0 && scrollOffset > endReachCallbackThreshold.current + endOffset) {\n      endReachCallbackThreshold.current = scrollOffset;\n      onEndReached();\n    }\n  }, [data?.length, onEndReached]);\n  const onScroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    scrollDirection,\n    scrollOffset: scrollOffset_0,\n    scrollUpdateWasRequested\n  }) => {\n    if (debug) console.log(\"onScroll\", {\n      scrollDirection,\n      scrollOffset: scrollOffset_0,\n      scrollUpdateWasRequested\n    });\n    if (onScrollProp) {\n      debouncedScroll({\n        scrollDirection,\n        scrollOffset: scrollOffset_0,\n        scrollUpdateWasRequested\n      });\n    }\n    if (!scrollUpdateWasRequested && scrollOffset_0 >= maxScroll - endOffset) onEndReachedInternal(scrollOffset_0);\n  }, [maxScroll, onEndReachedInternal]);\n  const onFilterUpdateInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((column_1, filterForProperty) => {\n    if (debug) console.log(\"onFilterUpdateInternal\", column_1, filterForProperty);\n    endReachCallbackThreshold.current = 0;\n    const filter_0 = filterRef.current;\n    let newFilterValue = filter_0 ? {\n      ...filter_0\n    } : {};\n    if (!filterForProperty) {\n      delete newFilterValue[column_1.key];\n    } else {\n      newFilterValue[column_1.key] = filterForProperty;\n    }\n    const newSortBy_0 = sortByProperty && currentSort ? [sortByProperty, currentSort] : void 0;\n    const isNewFilterCombinationValid = !checkFilterCombination || checkFilterCombination(newFilterValue, newSortBy_0);\n    if (!isNewFilterCombinationValid) {\n      newFilterValue = filterForProperty ? {\n        [column_1.key]: filterForProperty\n      } : {};\n    }\n    if (onFilterUpdate) onFilterUpdate(newFilterValue);\n  }, [checkFilterCombination, currentSort, onFilterUpdate, sortByProperty]);\n  const empty = !loading && (data?.length ?? 0) === 0;\n  const customView = error ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CenteredView, { maxWidth: \"2xl\", className: \"flex flex-col gap-2\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"h6\", children: \"Error\" }),\n    error?.message && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SafeLinkRenderer, { text: error.message })\n  ] }) : empty ? loading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CircularProgressCenter, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col overflow-auto items-center justify-center p-2 gap-2 h-full\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AssignmentIcon, {}),\n    emptyComponent\n  ] }) : void 0;\n  const virtualListController = {\n    data,\n    rowHeight,\n    cellRenderer,\n    columns,\n    currentSort,\n    onRowClick,\n    customView,\n    onColumnResize: onColumnResizeInternal,\n    onColumnResizeEnd: onColumnResizeEndInternal,\n    filter: filterRef.current,\n    onColumnSort,\n    onFilterUpdate: onFilterUpdateInternal,\n    sortByProperty,\n    hoverRow: hoverRow ?? false,\n    createFilterField: createFilterField2,\n    rowClassName,\n    endAdornment,\n    AddColumnComponent\n  };\n  if (debug) console.log(\"VirtualTable render\", virtualListController);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: measureRef, style, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"h-full w-full\", className), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualListContext.Provider, { value: virtualListController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MemoizedList, { outerRef: tableRef, width: bounds.width, height: bounds.height, itemCount: (data?.length ?? 0) + (endAdornment ? 1 : 0), onScroll, includeAddColumn: Boolean(AddColumnComponent), itemSize: rowHeight }, rowHeight) }) });\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nfunction MemoizedList({\n  outerRef,\n  width,\n  height,\n  itemCount,\n  onScroll,\n  itemSize,\n  includeAddColumn\n}) {\n  const Row = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    index,\n    style\n  }) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualListContext.Consumer, { children: ({\n      onRowClick,\n      data,\n      columns,\n      rowHeight = 54,\n      cellRenderer,\n      hoverRow,\n      rowClassName,\n      endAdornment\n    }) => {\n      if (endAdornment && index === (data ?? []).length) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {\n          ...style,\n          height: \"auto\",\n          position: \"sticky\",\n          bottom: 0,\n          zIndex: 1\n        }, children: endAdornment });\n      }\n      const rowData = data && data[index];\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(VirtualTableRow, { rowData, rowIndex: index, onRowClick, columns, hoverRow, rowClassName, style: {\n        ...style,\n        top: `calc(${style.top}px + 48px)`\n      }, rowHeight, children: [\n        columns.map((column, columnIndex) => {\n          const cellData = rowData && rowData[column.key];\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTableCell, { dataKey: column.key, cellRenderer, column, columns, rowData, cellData, rowIndex: index, columnIndex }, `cell_${column.key}`);\n        }),\n        includeAddColumn && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-20\" })\n      ] }, `row_${index}`);\n    } });\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_window__WEBPACK_IMPORTED_MODULE_17__.FixedSizeList, { outerRef, innerElementType, width, height, overscanCount: 4, itemCount, onScroll, itemSize, children: Row });\n}\nconst SafeLinkRenderer = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(4);\n  const {\n    text\n  } = t0;\n  let t1;\n  if ($[0] !== text) {\n    const urlRegex = /https?:\\/\\/[^\\s]+/g;\n    t1 = text.replace(urlRegex, _temp$h);\n    $[0] = text;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const htmlContent = t1;\n  let t2;\n  if ($[2] !== htmlContent) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"break-all\", dangerouslySetInnerHTML: {\n      __html: htmlContent\n    } });\n    $[2] = htmlContent;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  return t2;\n};\nfunction _temp$h(url) {\n  return `<a href=\"${url}\" class=\"underline\" target=\"_blank\">Link</a><br/>`;\n}\nconst operationLabels$2 = {\n  \"==\": \"==\",\n  \"!=\": \"!=\",\n  \">\": \">\",\n  \"<\": \"<\",\n  \">=\": \">=\",\n  \"<=\": \"<=\",\n  in: \"In\",\n  \"not-in\": \"Not in\",\n  \"array-contains\": \"Contains\",\n  \"array-contains-any\": \"Contains Any\"\n};\nconst multipleSelectOperations$2 = [\"array-contains-any\", \"in\", \"not-in\"];\nfunction ReferenceFilterField({\n  value,\n  setValue,\n  isArray,\n  path,\n  includeId = true,\n  previewProperties,\n  setHidden\n}) {\n  const possibleOperations = isArray ? [\"array-contains\"] : [\"==\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\n  if (isArray) {\n    possibleOperations.push(\"array-contains-any\");\n  } else {\n    possibleOperations.push(\"in\", \"not-in\");\n  }\n  const [fieldOperation, fieldValue] = value || [possibleOperations[0], void 0];\n  const [operation, setOperation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldOperation);\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldValue);\n  const selectedEntityIds = internalValue ? Array.isArray(internalValue) ? internalValue.map((ref) => {\n    if (!(ref?.isEntityReference && ref?.isEntityReference())) {\n      return null;\n    }\n    return ref.id;\n  }).filter(Boolean) : [internalValue.id] : [];\n  function updateFilter(op, val) {\n    const prevOpIsArray = multipleSelectOperations$2.includes(operation);\n    const newOpIsArray = multipleSelectOperations$2.includes(op);\n    let newValue = val;\n    if (prevOpIsArray !== newOpIsArray) {\n      newValue = newOpIsArray ? newValue?.isEntityReference && newValue?.isEntityReference() ? [newValue] : [] : void 0;\n    }\n    setOperation(op);\n    setInternalValue(newValue);\n    const hasNewValue = newValue !== null && Array.isArray(newValue) ? newValue.length > 0 : newValue !== void 0;\n    if (op && hasNewValue) {\n      setValue([op, newValue]);\n    } else {\n      setValue(void 0);\n    }\n  }\n  const navigationController = useNavigationController();\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return path ? navigationController.getCollection(path) : void 0;\n  }, [path]);\n  const onSingleEntitySelected = (entity) => {\n    updateFilter(operation, getReferenceFrom(entity));\n  };\n  const onMultipleEntitiesSelected = (entities) => {\n    updateFilter(operation, entities.map((e) => getReferenceFrom(e)));\n  };\n  const multiple = multipleSelectOperations$2.includes(operation);\n  const referenceDialogController = useReferenceDialog({\n    multiselect: multiple,\n    path,\n    collection,\n    onSingleEntitySelected,\n    onMultipleEntitiesSelected,\n    selectedEntityIds,\n    onClose: () => {\n      setHidden(false);\n    }\n  });\n  const doOpenDialog = () => {\n    setHidden(true);\n    referenceDialogController.open();\n  };\n  const buildEntry = (reference) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { disabled: !path, previewProperties, size: \"medium\", onClick: doOpenDialog, reference, hover: true, includeId, includeEntityLink: false });\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex w-[480px] flex-row\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[140px]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { value: operation, size: \"large\", fullWidth: true, onValueChange: (value_0) => {\n      updateFilter(value_0, internalValue);\n    }, renderValue: (op_0) => operationLabels$2[op_0], children: possibleOperations.map((op_1) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: op_1, children: operationLabels$2[op_1] }, op_1)) }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex-grow ml-2 h-full gap-2 flex flex-col w-[340px]\", children: [\n      internalValue && Array.isArray(internalValue) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: internalValue.map((ref_0, index) => buildEntry(ref_0)) }),\n      internalValue && !Array.isArray(internalValue) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: buildEntry(internalValue) }),\n      (!internalValue || Array.isArray(internalValue) && internalValue.length === 0) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: doOpenDialog, variant: \"outlined\", size: \"large\", className: \"h-full w-full\", children: multiple ? \"Select references\" : \"Select reference\" }),\n      !isArray && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Label, { className: \"border cursor-pointer rounded-md p-2 flex items-center gap-2 [&:has(:checked)]:bg-surface-100 dark:[&:has(:checked)]:bg-surface-800\", htmlFor: \"null-filter\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { id: \"null-filter\", checked: internalValue === null, size: \"small\", onCheckedChange: (checked) => {\n          if (internalValue !== null) updateFilter(operation, null);\n          else updateFilter(operation, void 0);\n        } }),\n        \"Filter for null values\"\n      ] })\n    ] })\n  ] });\n}\nconst operationLabels$1 = {\n  \"==\": \"==\",\n  \"!=\": \"!=\",\n  \">\": \">\",\n  \"<\": \"<\",\n  \">=\": \">=\",\n  \"<=\": \"<=\",\n  in: \"In\",\n  \"not-in\": \"Not in\",\n  \"array-contains\": \"Contains\",\n  \"array-contains-any\": \"Any\"\n};\nconst multipleSelectOperations$1 = [\"array-contains-any\", \"in\", \"not-in\"];\nfunction StringNumberFilterField(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(55);\n  const {\n    name,\n    value,\n    setValue,\n    dataType,\n    isArray,\n    enumValues\n  } = t0;\n  let possibleOperations;\n  if ($[0] !== enumValues || $[1] !== isArray) {\n    possibleOperations = isArray ? [\"array-contains\"] : [\"==\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\n    if (enumValues) {\n      isArray ? possibleOperations.push(\"array-contains-any\") : possibleOperations.push(\"in\", \"not-in\");\n    }\n    $[0] = enumValues;\n    $[1] = isArray;\n    $[2] = possibleOperations;\n  } else {\n    possibleOperations = $[2];\n  }\n  let t1;\n  if ($[3] !== possibleOperations || $[4] !== value) {\n    t1 = value || [possibleOperations[0], void 0];\n    $[3] = possibleOperations;\n    $[4] = value;\n    $[5] = t1;\n  } else {\n    t1 = $[5];\n  }\n  const [fieldOperation, fieldValue] = t1;\n  const [operation, setOperation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldOperation);\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldValue);\n  let t2;\n  if ($[6] !== operation || $[7] !== setValue) {\n    t2 = function updateFilter2(op, val) {\n      let newValue = val;\n      const prevOpIsArray = multipleSelectOperations$1.includes(operation);\n      const newOpIsArray = multipleSelectOperations$1.includes(op);\n      if (prevOpIsArray !== newOpIsArray) {\n        newValue = newOpIsArray ? typeof val === \"string\" || typeof val === \"number\" ? [val] : [] : void 0;\n      }\n      if (typeof newValue === \"number\" && isNaN(newValue)) {\n        newValue = void 0;\n      }\n      setOperation(op);\n      setInternalValue(newValue);\n      const hasNewValue = newValue !== null && Array.isArray(newValue) ? newValue.length > 0 : newValue !== void 0;\n      if (op && hasNewValue) {\n        setValue([op, newValue]);\n      } else {\n        setValue(void 0);\n      }\n    };\n    $[6] = operation;\n    $[7] = setValue;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  const updateFilter = t2;\n  let t3;\n  if ($[9] !== operation) {\n    t3 = multipleSelectOperations$1.includes(operation);\n    $[9] = operation;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  const multiple = t3;\n  let t4;\n  if ($[11] !== internalValue || $[12] !== updateFilter) {\n    t4 = (value_0) => {\n      updateFilter(value_0, internalValue);\n    };\n    $[11] = internalValue;\n    $[12] = updateFilter;\n    $[13] = t4;\n  } else {\n    t4 = $[13];\n  }\n  let t5;\n  if ($[14] !== possibleOperations) {\n    t5 = possibleOperations.map(_temp2$7);\n    $[14] = possibleOperations;\n    $[15] = t5;\n  } else {\n    t5 = $[15];\n  }\n  let t6;\n  if ($[16] !== operation || $[17] !== t4 || $[18] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[80px]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { value: operation, fullWidth: true, position: \"item-aligned\", onValueChange: t4, renderValue: _temp$g, children: t5 }) });\n    $[16] = operation;\n    $[17] = t4;\n    $[18] = t5;\n    $[19] = t6;\n  } else {\n    t6 = $[19];\n  }\n  let t7;\n  if ($[20] !== dataType || $[21] !== enumValues || $[22] !== internalValue || $[23] !== operation || $[24] !== updateFilter) {\n    t7 = !enumValues && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { type: dataType === \"number\" ? \"number\" : void 0, value: internalValue !== void 0 && internalValue != null ? String(internalValue) : \"\", onChange: (evt) => {\n      const val_0 = dataType === \"number\" ? parseFloat(evt.target.value) : evt.target.value;\n      updateFilter(operation, val_0);\n    }, endAdornment: internalValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: (e) => updateFilter(operation, void 0), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {}) }) });\n    $[20] = dataType;\n    $[21] = enumValues;\n    $[22] = internalValue;\n    $[23] = operation;\n    $[24] = updateFilter;\n    $[25] = t7;\n  } else {\n    t7 = $[25];\n  }\n  let t8;\n  if ($[26] !== dataType || $[27] !== enumValues || $[28] !== internalValue || $[29] !== multiple || $[30] !== name || $[31] !== operation || $[32] !== updateFilter) {\n    t8 = enumValues && !multiple && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { position: \"item-aligned\", fullWidth: true, value: typeof internalValue === \"string\" ? internalValue : \"\", onValueChange: (value_1) => {\n      if (value_1 !== \"\") {\n        updateFilter(operation, dataType === \"number\" ? parseInt(value_1) : value_1);\n      }\n    }, endAdornment: internalValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: \"absolute right-2 top-3\", onClick: (e_0) => updateFilter(operation, void 0), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {}) }), renderValue: (enumKey) => {\n      if (enumKey === null) {\n        return \"Filter for null values\";\n      }\n      if (enumKey === void 0) {\n        return null;\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues, size: \"small\" }, `select_value_${name}_${enumKey}`);\n    }, children: enumValues.map((enumConfig) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: String(enumConfig.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: String(enumConfig.id), enumValues, size: \"small\" }) }, `select_item_${name}_${enumConfig.id}`)) });\n    $[26] = dataType;\n    $[27] = enumValues;\n    $[28] = internalValue;\n    $[29] = multiple;\n    $[30] = name;\n    $[31] = operation;\n    $[32] = updateFilter;\n    $[33] = t8;\n  } else {\n    t8 = $[33];\n  }\n  let t9;\n  if ($[34] !== dataType || $[35] !== enumValues || $[36] !== internalValue || $[37] !== multiple || $[38] !== name || $[39] !== operation || $[40] !== updateFilter) {\n    t9 = enumValues && multiple && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelect, { position: \"item-aligned\", value: Array.isArray(internalValue) ? internalValue.map(_temp3$3) : [], onValueChange: (value_2) => {\n      updateFilter(operation, dataType === \"number\" ? value_2.map(_temp4$2) : value_2);\n    }, multiple, endAdornment: internalValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: \"absolute right-2 top-3\", onClick: (e_2) => updateFilter(operation, void 0), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {}) }), children: enumValues.map((enumConfig_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelectItem, { value: String(enumConfig_0.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: String(enumConfig_0.id), enumValues, size: \"small\" }) }, `select_value_${name}_${enumConfig_0.id}`)) });\n    $[34] = dataType;\n    $[35] = enumValues;\n    $[36] = internalValue;\n    $[37] = multiple;\n    $[38] = name;\n    $[39] = operation;\n    $[40] = updateFilter;\n    $[41] = t9;\n  } else {\n    t9 = $[41];\n  }\n  let t10;\n  if ($[42] !== internalValue || $[43] !== isArray || $[44] !== operation || $[45] !== updateFilter) {\n    t10 = !isArray && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Label, { className: \"border cursor-pointer rounded-md p-2 flex items-center gap-2 [&:has(:checked)]:bg-surface-100 dark:[&:has(:checked)]:bg-surface-800\", htmlFor: \"null-filter\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { id: \"null-filter\", checked: internalValue === null, size: \"small\", onCheckedChange: (checked) => {\n        if (internalValue !== null) {\n          updateFilter(operation, null);\n        } else {\n          updateFilter(operation, void 0);\n        }\n      } }),\n      \"Filter for null values\"\n    ] });\n    $[42] = internalValue;\n    $[43] = isArray;\n    $[44] = operation;\n    $[45] = updateFilter;\n    $[46] = t10;\n  } else {\n    t10 = $[46];\n  }\n  let t11;\n  if ($[47] !== t10 || $[48] !== t7 || $[49] !== t8 || $[50] !== t9) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex-grow ml-2 flex flex-col gap-2\", children: [\n      t7,\n      t8,\n      t9,\n      t10\n    ] });\n    $[47] = t10;\n    $[48] = t7;\n    $[49] = t8;\n    $[50] = t9;\n    $[51] = t11;\n  } else {\n    t11 = $[51];\n  }\n  let t12;\n  if ($[52] !== t11 || $[53] !== t6) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex w-[440px]\", children: [\n      t6,\n      t11\n    ] });\n    $[52] = t11;\n    $[53] = t6;\n    $[54] = t12;\n  } else {\n    t12 = $[54];\n  }\n  return t12;\n}\nfunction _temp4$2(v) {\n  return parseInt(v);\n}\nfunction _temp3$3(e_1) {\n  return String(e_1);\n}\nfunction _temp2$7(op_1) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: op_1, children: operationLabels$1[op_1] }, op_1);\n}\nfunction _temp$g(op_0) {\n  return operationLabels$1[op_0];\n}\nfunction BooleanFilterField(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8);\n  const {\n    title,\n    value,\n    setValue\n  } = t0;\n  let t1;\n  if ($[0] !== setValue) {\n    t1 = function updateFilter2(val) {\n      if (val !== void 0) {\n        setValue([\"==\", val]);\n      } else {\n        setValue(void 0);\n      }\n    };\n    $[0] = setValue;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const updateFilter = t1;\n  const valueSetToTrue = value && value[1];\n  const valueSet = !!value;\n  let t2;\n  if ($[2] !== updateFilter) {\n    t2 = (v) => updateFilter(v === null ? void 0 : v);\n    $[2] = updateFilter;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  const t3 = !valueSet ? \"No filter\" : valueSetToTrue ? `${title} is true` : `${title} is false`;\n  let t4;\n  if ($[4] !== t2 || $[5] !== t3 || $[6] !== valueSetToTrue) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[300px]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BooleanSwitchWithLabel, { value: valueSetToTrue, allowIndeterminate: true, onValueChange: t2, label: t3 }) });\n    $[4] = t2;\n    $[5] = t3;\n    $[6] = valueSetToTrue;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  return t4;\n}\nconst operationLabels = {\n  \"==\": \"==\",\n  \"!=\": \"!=\",\n  \">\": \">\",\n  \"<\": \"<\",\n  \">=\": \">=\",\n  \"<=\": \"<=\",\n  \"not-in\": \"not in\",\n  in: \"in\",\n  \"array-contains\": \"Contains\",\n  \"array-contains-any\": \"Any\"\n};\nconst multipleSelectOperations = [\"array-contains-any\", \"in\"];\nfunction DateTimeFilterField(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(38);\n  const {\n    isArray,\n    mode,\n    value,\n    setValue\n  } = t0;\n  const {\n    locale\n  } = useCustomizationController();\n  let t1;\n  if ($[0] !== isArray) {\n    t1 = isArray ? [\"array-contains\"] : [\"==\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\n    $[0] = isArray;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const possibleOperations = t1;\n  let t2;\n  if ($[2] !== possibleOperations || $[3] !== value) {\n    t2 = value || [possibleOperations[0], void 0];\n    $[2] = possibleOperations;\n    $[3] = value;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  const [fieldOperation, fieldValue] = t2;\n  const [operation, setOperation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldOperation);\n  const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(fieldValue);\n  let t3;\n  if ($[5] !== operation || $[6] !== setValue) {\n    t3 = function updateFilter2(op, val) {\n      let newValue = val;\n      const prevOpIsArray = multipleSelectOperations.includes(operation);\n      const newOpIsArray = multipleSelectOperations.includes(op);\n      if (prevOpIsArray !== newOpIsArray) {\n        newValue = newOpIsArray ? val ? [val] : [] : \"\";\n      }\n      setOperation(op);\n      setInternalValue(newValue === null ? void 0 : newValue);\n      const hasNewValue = newValue !== null && Array.isArray(newValue) ? newValue.length > 0 : newValue !== void 0;\n      if (op && hasNewValue) {\n        setValue([op, newValue]);\n      } else {\n        setValue(void 0);\n      }\n    };\n    $[5] = operation;\n    $[6] = setValue;\n    $[7] = t3;\n  } else {\n    t3 = $[7];\n  }\n  const updateFilter = t3;\n  let t4;\n  if ($[8] !== internalValue || $[9] !== updateFilter) {\n    t4 = (value_0) => {\n      updateFilter(value_0, internalValue);\n    };\n    $[8] = internalValue;\n    $[9] = updateFilter;\n    $[10] = t4;\n  } else {\n    t4 = $[10];\n  }\n  let t5;\n  if ($[11] !== possibleOperations) {\n    t5 = possibleOperations.map(_temp2$6);\n    $[11] = possibleOperations;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  let t6;\n  if ($[13] !== operation || $[14] !== t4 || $[15] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[80px]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { value: operation, size: \"large\", fullWidth: true, onValueChange: t4, renderValue: _temp$f, children: t5 }) });\n    $[13] = operation;\n    $[14] = t4;\n    $[15] = t5;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  const t7 = internalValue ?? void 0;\n  let t8;\n  if ($[17] !== operation || $[18] !== updateFilter) {\n    t8 = (dateValue) => {\n      updateFilter(operation, dateValue === null ? void 0 : dateValue);\n    };\n    $[17] = operation;\n    $[18] = updateFilter;\n    $[19] = t8;\n  } else {\n    t8 = $[19];\n  }\n  let t9;\n  if ($[20] !== locale || $[21] !== mode || $[22] !== t7 || $[23] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DateTimeField, { mode, size: \"large\", locale, value: t7, onChange: t8, clearable: true });\n    $[20] = locale;\n    $[21] = mode;\n    $[22] = t7;\n    $[23] = t8;\n    $[24] = t9;\n  } else {\n    t9 = $[24];\n  }\n  const t10 = internalValue === null;\n  let t11;\n  if ($[25] !== internalValue || $[26] !== operation || $[27] !== updateFilter) {\n    t11 = (checked) => {\n      if (internalValue !== null) {\n        updateFilter(operation, null);\n      } else {\n        updateFilter(operation, void 0);\n      }\n    };\n    $[25] = internalValue;\n    $[26] = operation;\n    $[27] = updateFilter;\n    $[28] = t11;\n  } else {\n    t11 = $[28];\n  }\n  let t12;\n  if ($[29] !== t10 || $[30] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Label, { className: \"border cursor-pointer rounded-md p-2 flex items-center gap-2 [&:has(:checked)]:bg-surface-100 dark:[&:has(:checked)]:bg-surface-800\", htmlFor: \"null-filter\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, { id: \"null-filter\", checked: t10, size: \"small\", onCheckedChange: t11 }),\n      \"Filter for null values\"\n    ] });\n    $[29] = t10;\n    $[30] = t11;\n    $[31] = t12;\n  } else {\n    t12 = $[31];\n  }\n  let t13;\n  if ($[32] !== t12 || $[33] !== t9) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex-grow ml-2 flex flex-col gap-2\", children: [\n      t9,\n      t12\n    ] });\n    $[32] = t12;\n    $[33] = t9;\n    $[34] = t13;\n  } else {\n    t13 = $[34];\n  }\n  let t14;\n  if ($[35] !== t13 || $[36] !== t6) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex w-[440px]\", children: [\n      t6,\n      t13\n    ] });\n    $[35] = t13;\n    $[36] = t6;\n    $[37] = t14;\n  } else {\n    t14 = $[37];\n  }\n  return t14;\n}\nfunction _temp2$6(op_1) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: op_1, children: operationLabels[op_1] }, op_1);\n}\nfunction _temp$f(op_0) {\n  return operationLabels[op_0];\n}\nconst SelectableTable = react__WEBPACK_IMPORTED_MODULE_2__.memo(\n  function SelectableTable2({\n    onValueChange,\n    cellRenderer,\n    onEntityClick,\n    onColumnResize,\n    hoverRow = true,\n    size = \"m\",\n    inlineEditing = false,\n    tableController: {\n      data,\n      dataLoading,\n      noMoreToLoad,\n      dataLoadingError,\n      filterValues,\n      setFilterValues,\n      sortBy,\n      setSortBy,\n      itemCount,\n      setItemCount,\n      pageSize = 50,\n      paginationEnabled,\n      checkFilterCombination,\n      setPopupCell\n    },\n    filterable = true,\n    onScroll,\n    initialScroll,\n    emptyComponent,\n    columns,\n    forceFilter,\n    highlightedRow,\n    endAdornment,\n    AddColumnComponent\n  }) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [selectedCell, setSelectedCell] = react__WEBPACK_IMPORTED_MODULE_2__.useState(void 0);\n    const loadNextPage = () => {\n      if (!paginationEnabled || dataLoading || noMoreToLoad) return;\n      if (itemCount !== void 0) setItemCount?.(itemCount + pageSize);\n    };\n    const resetPagination = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n      setItemCount?.(pageSize);\n    }, [pageSize]);\n    const onRowClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      rowData\n    }) => {\n      if (inlineEditing) return;\n      return onEntityClick && onEntityClick(rowData);\n    }, [onEntityClick, inlineEditing]);\n    (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.useOutsideAlerter)(ref, () => {\n      if (selectedCell) {\n        unselect();\n      }\n    }, Boolean(selectedCell));\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      const escFunction = (event) => {\n        if (event.keyCode === 27) {\n          unselect();\n        }\n      };\n      document.addEventListener(\"keydown\", escFunction, false);\n      return () => {\n        document.removeEventListener(\"keydown\", escFunction, false);\n      };\n    });\n    const select = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((cell) => {\n      setSelectedCell(cell);\n    }, []);\n    const unselect = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n      setSelectedCell(void 0);\n    }, []);\n    const onFilterUpdate = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((updatedFilterValues) => {\n      setFilterValues?.({\n        ...updatedFilterValues,\n        ...forceFilter\n      });\n    }, [forceFilter]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectableTableContext.Provider, { value: {\n      setPopupCell,\n      select,\n      onValueChange,\n      size: size ?? \"m\",\n      selectedCell\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"h-full w-full flex flex-col bg-white dark:bg-surface-950\", ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VirtualTable, { data, columns, cellRenderer, onRowClick: inlineEditing ? void 0 : onEntityClick ? onRowClick : void 0, onEndReached: loadNextPage, onResetPagination: resetPagination, error: dataLoadingError, onColumnResize, rowHeight: getRowHeight(size), loading: dataLoading, filter: filterValues, onFilterUpdate: setFilterValues ? onFilterUpdate : void 0, sortBy, onSortByUpdate: setSortBy, hoverRow, initialScroll, onScroll, checkFilterCombination, createFilterField: filterable ? createFilterField : void 0, rowClassName: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity) => {\n      return highlightedRow?.(entity) ? \"bg-surface-100 bg-opacity-75 dark:bg-surface-800 dark:bg-opacity-75\" : \"\";\n    }, [highlightedRow]), className: \"flex-grow\", emptyComponent, endAdornment, AddColumnComponent }) }) });\n  },\n  () => false\n  // equal\n);\nfunction createFilterField({\n  id,\n  filterValue,\n  setFilterValue,\n  column,\n  hidden,\n  setHidden\n}) {\n  if (!column.custom) {\n    return null;\n  }\n  const {\n    resolvedProperty\n  } = column.custom;\n  const isArray = resolvedProperty?.dataType === \"array\";\n  const baseProperty = isArray ? resolvedProperty.of : resolvedProperty;\n  if (!baseProperty) {\n    return null;\n  }\n  if (baseProperty.dataType === \"reference\") {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferenceFilterField, { value: filterValue, setValue: setFilterValue, name: id, isArray, path: baseProperty.path, title: resolvedProperty?.name, includeId: baseProperty.includeId, previewProperties: baseProperty?.previewProperties, hidden, setHidden });\n  } else if (baseProperty.dataType === \"number\" || baseProperty.dataType === \"string\") {\n    const name = baseProperty.name;\n    const enumValues = baseProperty.enumValues ? enumToObjectEntries(baseProperty.enumValues) : void 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StringNumberFilterField, { value: filterValue, setValue: setFilterValue, name: id, dataType: baseProperty.dataType, isArray, enumValues, title: name });\n  } else if (baseProperty.dataType === \"boolean\") {\n    const name = baseProperty.name;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BooleanFilterField, { value: filterValue, setValue: setFilterValue, name: id, title: name });\n  } else if (baseProperty.dataType === \"date\") {\n    const title = baseProperty.name;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DateTimeFilterField, { value: filterValue, setValue: setFilterValue, name: id, mode: baseProperty.mode, isArray, title });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: `Currently the filter field ${resolvedProperty.dataType} is not supported` });\n}\nconst EntityCollectionTable = function EntityCollectionTable2({\n  className,\n  style,\n  forceFilter,\n  actionsStart,\n  actions,\n  title,\n  tableRowActionsBuilder,\n  uniqueFieldValidator,\n  getPropertyFor,\n  onValueChange,\n  selectionController,\n  highlightedEntities,\n  onEntityClick,\n  onColumnResize,\n  initialScroll,\n  onScroll,\n  onSizeChanged,\n  textSearchEnabled = false,\n  hoverRow = true,\n  inlineEditing = false,\n  additionalFields,\n  displayedColumnIds,\n  defaultSize,\n  properties,\n  tableController,\n  filterable = true,\n  sortable = true,\n  endAdornment,\n  AddColumnComponent,\n  AdditionalHeaderWidget,\n  additionalIDHeaderWidget,\n  emptyComponent,\n  getIdColumnWidth,\n  onTextSearchClick,\n  textSearchLoading,\n  enablePopupIcon,\n  openEntityMode = \"side_panel\"\n}) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const largeLayout = useLargeLayout();\n  const selectedEntities = (selectionController?.selectedEntities?.length > 0 ? selectionController?.selectedEntities : highlightedEntities)?.filter(Boolean);\n  const context = useFireCMSContext();\n  const [size, setSize] = react__WEBPACK_IMPORTED_MODULE_2__.useState(defaultSize ?? \"m\");\n  const updateSize = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((size_0) => {\n    if (onSizeChanged) onSizeChanged(size_0);\n    setSize(size_0);\n  }, []);\n  const onTextSearch = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((newSearchString) => tableController.setSearchString?.(newSearchString), []);\n  const additionalFieldsMap = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return additionalFields ? additionalFields.map((aC) => ({\n      [aC.key]: aC\n    })).reduce((a, b) => ({\n      ...a,\n      ...b\n    }), {}) : {};\n  }, [additionalFields]);\n  const customFieldValidator = uniqueFieldValidator;\n  const propertyCellRenderer = ({\n    column,\n    columnIndex,\n    rowData,\n    rowIndex\n  }) => {\n    const entity = rowData;\n    const propertyKey = column.key;\n    let disabled = column.custom?.disabled;\n    const property = getPropertyFor?.({\n      propertyKey,\n      entity\n    }) ?? column.custom.resolvedProperty;\n    if (!property?.disabled) {\n      disabled = false;\n    }\n    if (!property) {\n      return null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: entity ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyTableCell, { readonly: !inlineEditing, align: column.align ?? \"left\", propertyKey, property, value: entity?.values ? getValueInPath(entity.values, propertyKey) : void 0, customFieldValidator, columnIndex, width: column.width, height: getRowHeight(size), entity, disabled, enablePopupIcon, path: entity.path }, `property_table_cell_${entity.id}_${propertyKey}`) : renderSkeletonText() });\n  };\n  const additionalCellRenderer = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    column: column_0,\n    rowData: rowData_0,\n    width\n  }) => {\n    const entity_0 = rowData_0;\n    const additionalField = additionalFieldsMap[column_0.key];\n    const value_0 = additionalField.dependencies ? Object.entries(entity_0.values).filter(([key, value]) => additionalField.dependencies.includes(key)).reduce((a_0, b_0) => ({\n      ...a_0,\n      ...b_0\n    }), {}) : entity_0;\n    const Builder = additionalField.Builder;\n    if (!Builder && !additionalField.value) {\n      throw new Error(\"When using additional fields you need to provide a Builder or a value\");\n    }\n    const child = Builder ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Builder, { entity: entity_0, context }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: additionalField.value?.({\n      entity: entity_0,\n      context\n    })?.toString() });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCell, { width, size, value: value_0, selected: false, disabled: true, align: \"left\", allowScroll: false, showExpandIcon: false, disabledTooltip: \"This column can't be edited directly\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: child }) }, `additional_table_cell_${entity_0.id}_${column_0.key}`);\n  }, [size]);\n  const collectionColumns = (() => {\n    const columnsResult = propertiesToColumns({\n      properties,\n      sortable,\n      forceFilter,\n      AdditionalHeaderWidget\n    });\n    const additionalTableColumns = additionalFields ? additionalFields.map((additionalField_0) => ({\n      key: additionalField_0.key,\n      align: \"left\",\n      sortable: false,\n      title: additionalField_0.name,\n      width: additionalField_0.width ?? 200\n    })) : [];\n    return [...columnsResult, ...additionalTableColumns];\n  })();\n  const idColumn = {\n    key: \"id_ewcfedcswdf3\",\n    width: getIdColumnWidth?.() ?? (largeLayout ? 160 : 130),\n    title: \"ID\",\n    resizable: false,\n    frozen: largeLayout,\n    headerAlign: \"center\",\n    align: \"center\",\n    AdditionalHeaderWidget: () => additionalIDHeaderWidget\n  };\n  const columns = [idColumn, ...displayedColumnIds ? displayedColumnIds.map((p) => {\n    return collectionColumns.find((c2) => c2.key === p.key);\n  }).filter(Boolean) : collectionColumns];\n  const cellRenderer = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((props) => {\n    const column_1 = props.column;\n    const columns_0 = props.columns;\n    const columnKey = column_1.key;\n    try {\n      if (props.columnIndex === 0) {\n        if (tableRowActionsBuilder) return tableRowActionsBuilder({\n          entity: props.rowData,\n          size,\n          width: column_1.width,\n          frozen: column_1.frozen\n        });\n        else return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionRowActions, { entity: props.rowData, width: column_1.width, frozen: column_1.frozen, isSelected: false, size, openEntityMode });\n      } else if (additionalFieldsMap[columnKey]) {\n        return additionalCellRenderer(props);\n      } else if (props.columnIndex < columns_0.length + 1) {\n        return propertyCellRenderer(props);\n      } else {\n        throw Error(\"Internal: columns not mapped properly\");\n      }\n    } catch (e) {\n      console.error(\"Error rendering cell\", e);\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityTableCell, { size, width: column_1.width, saved: false, value: null, align: \"left\", fullHeight: false, disabled: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: e }) });\n    }\n  }, [tableRowActionsBuilder, additionalCellRenderer, propertyCellRenderer, size]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ref, style, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"h-full w-full flex flex-col bg-white dark:bg-surface-950\", className), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CollectionTableToolbar, { onTextSearch: textSearchEnabled ? onTextSearch : void 0, textSearchLoading, onTextSearchClick: textSearchEnabled ? onTextSearchClick : void 0, size, onSizeChanged: updateSize, title, actionsStart, actions, loading: tableController.dataLoading }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectableTable, { columns, size, inlineEditing, cellRenderer, onEntityClick, highlightedRow: (entity_1) => Boolean(selectedEntities?.find((e_0) => e_0.id === entity_1.id && e_0.path === entity_1.path)), tableController, onValueChange, initialScroll, onScroll, onColumnResize, hoverRow, filterable, emptyComponent, endAdornment, AddColumnComponent })\n  ] });\n};\nfunction useDataOrder({\n  data,\n  entitiesDisplayedFirst\n}) {\n  if (!entitiesDisplayedFirst) return data;\n  const displayedFirstId = new Set(entitiesDisplayedFirst.map((e) => e.id));\n  return [...entitiesDisplayedFirst, ...data.filter((e) => !displayedFirstId.has(e.id))];\n}\nfunction useDebouncedData(data, deps, timeoutMs = 5e3) {\n  const [deferredData, setDeferredData] = react__WEBPACK_IMPORTED_MODULE_2__.useState(data);\n  const dataLength = react__WEBPACK_IMPORTED_MODULE_2__.useRef(deferredData.length ?? 0);\n  const pendingUpdate = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  const currentDeps = react__WEBPACK_IMPORTED_MODULE_2__.useRef(deps);\n  const haveDepsChanged = !react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(currentDeps.current, deps);\n  const immediateUpdate = data.length >= dataLength.current || haveDepsChanged;\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(() => {\n    const performUpdate = () => {\n      if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(deferredData, data)) {\n        currentDeps.current = deps;\n        dataLength.current = data.length;\n        setDeferredData(data);\n      }\n      pendingUpdate.current = false;\n    };\n    pendingUpdate.current = true;\n    let handler;\n    if (immediateUpdate) performUpdate();\n    else handler = setTimeout(performUpdate, timeoutMs);\n    return () => {\n      clearTimeout(handler);\n      if (pendingUpdate.current && immediateUpdate) performUpdate();\n    };\n  }, [data, timeoutMs, deps, immediateUpdate]);\n  return immediateUpdate ? data : deferredData;\n}\nconst DEFAULT_PAGE_SIZE = 50;\nfunction useDataSourceTableController({\n  fullPath,\n  collection,\n  scrollRestoration,\n  entitiesDisplayedFirst,\n  lastDeleteTimestamp,\n  forceFilter: forceFilterFromProps,\n  updateUrl\n}) {\n  const {\n    initialFilter,\n    initialSort,\n    forceFilter: forceFilterFromCollection\n  } = collection;\n  const [popupCell, setPopupCell] = react__WEBPACK_IMPORTED_MODULE_2__.useState(void 0);\n  const navigation = useNavigationController();\n  const dataSource = useDataSource();\n  const resolvedPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => navigation.resolveIdsFrom(fullPath), [fullPath, navigation.resolveIdsFrom]);\n  const forceFilter = forceFilterFromProps ?? forceFilterFromCollection;\n  const paginationEnabled = collection.pagination === void 0 || Boolean(collection.pagination);\n  const pageSize = typeof collection.pagination === \"number\" ? collection.pagination : DEFAULT_PAGE_SIZE;\n  const [searchString, setSearchString] = react__WEBPACK_IMPORTED_MODULE_2__.useState();\n  const checkFilterCombination = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((filterValues, sortBy) => {\n    if (!dataSource.isFilterCombinationValid) return true;\n    return dataSource.isFilterCombinationValid({\n      path: resolvedPath,\n      collection,\n      filterValues,\n      sortBy\n    });\n  }, []);\n  const onScroll = ({\n    scrollOffset\n  }) => {\n    if (scrollRestoration) {\n      scrollRestoration.updateCollectionScroll({\n        fullPath: resolvedPath,\n        scrollOffset,\n        data: rawData,\n        filters: filterValues_0\n      });\n    }\n  };\n  const initialSortInternal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (initialSort && forceFilter && !checkFilterCombination(forceFilter, initialSort)) {\n      console.warn(\"Initial sort is not compatible with the force filter. Ignoring initial sort\");\n      return void 0;\n    }\n    return initialSort;\n  }, [initialSort, forceFilter]);\n  const {\n    filterValues: initialFilterUrl,\n    sortBy: initialSortUrl\n  } = parseFilterAndSort(window.location.search);\n  const [filterValues_0, setFilterValues] = react__WEBPACK_IMPORTED_MODULE_2__.useState(forceFilter ?? (updateUrl ? initialFilterUrl : void 0) ?? initialFilter ?? void 0);\n  const [sortBy_0, setSortBy] = react__WEBPACK_IMPORTED_MODULE_2__.useState(initialSortUrl ?? initialSortInternal);\n  useUpdateUrl(filterValues_0, sortBy_0, searchString, updateUrl);\n  const collectionScroll = scrollRestoration?.getCollectionScroll(fullPath, filterValues_0);\n  const initialItemCount = collectionScroll?.data.length ?? pageSize;\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (scrollRestoration) {\n      scrollRestoration.updateCollectionScroll({\n        fullPath: resolvedPath,\n        scrollOffset: collectionScroll?.scrollOffset ?? 0,\n        data: rawData,\n        filters: filterValues_0\n      });\n    }\n  }, []);\n  const [itemCount, setItemCount] = react__WEBPACK_IMPORTED_MODULE_2__.useState(paginationEnabled ? initialItemCount : void 0);\n  const sortByProperty = sortBy_0 ? sortBy_0[0] : void 0;\n  const currentSort = sortBy_0 ? sortBy_0[1] : void 0;\n  const context = useFireCMSContext();\n  const [rawData, setRawData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(collectionScroll?.data ?? []);\n  const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [dataLoadingError, setDataLoadingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [noMoreToLoad, setNoMoreToLoad] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const clearFilter = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => setFilterValues(forceFilter ?? void 0), [forceFilter]);\n  const updateFilterValues = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((updatedFilter) => {\n    if (forceFilter) {\n      console.warn(\"Filter is not compatible with the force filter. Ignoring filter\");\n      return;\n    }\n    if (updatedFilter && Object.keys(updatedFilter).length === 0) {\n      setFilterValues(void 0);\n    } else {\n      setFilterValues(updatedFilter);\n    }\n  }, [forceFilter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setDataLoading(true);\n    const onEntitiesUpdate = async (entities) => {\n      if (collection.callbacks?.onFetch) {\n        try {\n          entities = await Promise.all(entities.map((entity) => collection.callbacks.onFetch({\n            collection,\n            path: resolvedPath,\n            entity,\n            context\n          })));\n        } catch (e) {\n          console.error(e);\n        }\n      }\n      setDataLoading(false);\n      setDataLoadingError(void 0);\n      setRawData(entities.map((e_0) => ({\n        ...e_0\n        // values: sanitizeData(e.values, resolvedCollection.properties)\n      })));\n      setNoMoreToLoad(!itemCount || entities.length < itemCount);\n    };\n    const onError = (error) => {\n      console.error(\"ERROR\", error);\n      setDataLoading(false);\n      setRawData([]);\n      setDataLoadingError(error);\n    };\n    if (dataSource.listenCollection) {\n      return dataSource.listenCollection({\n        path: resolvedPath,\n        collection,\n        onUpdate: onEntitiesUpdate,\n        onError,\n        searchString,\n        filter: filterValues_0,\n        limit: itemCount,\n        startAfter: void 0,\n        orderBy: sortByProperty,\n        order: currentSort\n      });\n    } else {\n      dataSource.fetchCollection({\n        path: resolvedPath,\n        collection,\n        searchString,\n        filter: filterValues_0,\n        limit: itemCount,\n        startAfter: void 0,\n        orderBy: sortByProperty,\n        order: currentSort\n      }).then(onEntitiesUpdate).catch(onError);\n      return () => {\n      };\n    }\n  }, [resolvedPath, itemCount, currentSort, sortByProperty, filterValues_0, searchString]);\n  const orderedData = useDataOrder({\n    data: rawData,\n    entitiesDisplayedFirst\n  });\n  const data = useDebouncedData(orderedData, {\n    filterValues: filterValues_0,\n    sortBy: sortBy_0,\n    searchString,\n    lastDeleteTimestamp\n  });\n  return {\n    data,\n    dataLoading,\n    noMoreToLoad,\n    dataLoadingError,\n    filterValues: filterValues_0,\n    setFilterValues: updateFilterValues,\n    sortBy: sortBy_0,\n    setSortBy,\n    searchString,\n    setSearchString,\n    clearFilter,\n    itemCount,\n    setItemCount,\n    initialScroll: collectionScroll?.scrollOffset,\n    onScroll,\n    paginationEnabled,\n    pageSize,\n    checkFilterCombination,\n    popupCell,\n    setPopupCell\n  };\n}\nfunction useUpdateUrl(filterValues, sortBy, searchString, updateUrl) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  let t0;\n  let t1;\n  if ($[0] !== filterValues || $[1] !== searchString || $[2] !== sortBy || $[3] !== updateUrl) {\n    t0 = () => {\n      if (updateUrl) {\n        const newUrl = encodeFilterAndSort(filterValues, sortBy);\n        const search = searchString ? `&search=${encodeURIComponent(searchString)}` : \"\";\n        const state = `${newUrl}${search}`;\n        const hash2 = window.location.hash;\n        if (state === \"\") {\n          window.history.replaceState({}, \"\", `${window.location.pathname}${hash2}`);\n        } else {\n          window.history.replaceState({}, \"\", `?${state}${hash2}`);\n        }\n      }\n    };\n    t1 = [filterValues, sortBy, searchString, updateUrl];\n    $[0] = filterValues;\n    $[1] = searchString;\n    $[2] = sortBy;\n    $[3] = updateUrl;\n    $[4] = t0;\n    $[5] = t1;\n  } else {\n    t0 = $[4];\n    t1 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n}\nfunction encodeFilterAndSort(filterValues, sortBy) {\n  const entries = {};\n  if (sortBy) {\n    entries[\"__sort\"] = encodeURIComponent(sortBy[0]);\n    entries[\"__sort_order\"] = encodeURIComponent(sortBy[1]);\n  }\n  if (filterValues) {\n    Object.entries(filterValues).forEach(([key, value]) => {\n      if (value) {\n        const [op, val] = value;\n        let encodedValue = val;\n        try {\n          if (typeof val === \"object\") {\n            if (val instanceof Date) {\n              encodedValue = val.toISOString();\n            } else if (Array.isArray(val)) {\n              encodedValue = JSON.stringify(val, (key2, value2) => {\n                if (value2 instanceof EntityReference) {\n                  return encodeRef(value2);\n                }\n                return value2;\n              });\n            } else if (val instanceof EntityReference) {\n              encodedValue = encodeRef(val);\n            }\n          }\n        } catch (e) {\n          encodedValue = val;\n        }\n        if (encodedValue !== void 0) {\n          entries[encodeURIComponent(`${key}_op`)] = encodeURIComponent(op);\n          entries[encodeURIComponent(`${key}_value`)] = encodeURIComponent(encodedValue.toString());\n        }\n      }\n    });\n  }\n  if (!Object.keys(entries).length) {\n    return \"\";\n  }\n  return Object.entries(entries).map(([key, value]) => `${key}=${value}`).join(\"&\");\n}\nfunction parseFilterAndSort(search) {\n  const entries = new URLSearchParams(search);\n  const filterValues = {};\n  let sortBy = void 0;\n  entries.forEach((value, key) => {\n    if (key === \"__sort\") {\n      sortBy = [decodeURIComponent(value), entries.get(\"__sort_order\")];\n    } else if (key.endsWith(\"_op\")) {\n      const field = key.replace(\"_op\", \"\");\n      const filterOp = decodeURIComponent(value);\n      const filterValStr = entries.get(`${field}_value`);\n      if (filterValStr !== null) {\n        filterValues[field] = [filterOp, decodeString(filterValStr)];\n      }\n    }\n  });\n  return {\n    filterValues: Object.keys(filterValues).length ? filterValues : void 0,\n    sortBy\n  };\n}\nfunction isDate(dateString) {\n  const regexPattern = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/;\n  if (!regexPattern.test(dateString)) {\n    return false;\n  }\n  const date = new Date(dateString);\n  return date.toISOString() === dateString;\n}\nfunction encodeRef(val) {\n  return `ref::${val.path}/${val.id}`;\n}\nfunction decodeString(val) {\n  let parsedFilterVal = val;\n  if (isDate(val)) {\n    try {\n      parsedFilterVal = new Date(val);\n    } catch (e) {\n    }\n  }\n  if (typeof parsedFilterVal === \"string\") {\n    try {\n      parsedFilterVal = JSON.parse(parsedFilterVal, (key, value) => {\n        if (typeof value === \"string\" && value.startsWith(\"ref::\")) {\n          const [path, id] = value.substring(5).split(\"/\");\n          return new EntityReference(id, path);\n        }\n        return value;\n      });\n    } catch (e) {\n    }\n  }\n  if (typeof parsedFilterVal === \"string\" && parsedFilterVal.startsWith(\"ref::\")) {\n    const [path, id] = parsedFilterVal.substring(5).split(\"/\");\n    return new EntityReference(id, path);\n  }\n  return parsedFilterVal;\n}\nfunction useSelectionController(onSelectionChange) {\n  const [selectedEntities, setSelectedEntities] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const toggleEntitySelection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity, newSelectedState) => {\n    let newValue;\n    if (newSelectedState === void 0) {\n      const isSelected = Boolean(selectedEntities.find((e) => e.id === entity.id && e.path === entity.path));\n      if (isSelected) {\n        onSelectionChange?.(entity, false);\n        newValue = selectedEntities.filter((item) => !(item.id === entity.id && item.path === entity.path));\n      } else {\n        onSelectionChange?.(entity, true);\n        newValue = [...selectedEntities, entity];\n      }\n    } else {\n      if (newSelectedState) {\n        onSelectionChange?.(entity, true);\n        newValue = [...selectedEntities, entity];\n      } else {\n        onSelectionChange?.(entity, false);\n        newValue = selectedEntities.filter((item_0) => !(item_0.id === entity.id && item_0.path === entity.path));\n      }\n    }\n    setSelectedEntities(newValue);\n  }, [selectedEntities]);\n  const isEntitySelected = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity_0) => {\n    return Boolean(selectedEntities.find((e_0) => e_0.id === entity_0.id && e_0.path === entity_0.path));\n  }, [selectedEntities]);\n  return {\n    selectedEntities,\n    setSelectedEntities,\n    isEntitySelected,\n    toggleEntitySelection\n  };\n}\nfunction useTableSearchHelper(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(33);\n  const {\n    collection,\n    fullPath,\n    parentCollectionIds\n  } = t0;\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  const dataSource = useDataSource();\n  const [textSearchLoading, setTextSearchLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [textSearchInitialised, setTextSearchInitialised] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  let onTextSearchClick;\n  let textSearchEnabled;\n  if ($[0] !== collection || $[1] !== context || $[2] !== customizationController.plugins || $[3] !== dataSource || $[4] !== fullPath || $[5] !== parentCollectionIds) {\n    textSearchEnabled = Boolean(collection.textSearchEnabled);\n    let props;\n    let t12;\n    if ($[8] !== collection || $[9] !== context || $[10] !== customizationController.plugins || $[11] !== fullPath || $[12] !== parentCollectionIds) {\n      props = {\n        context,\n        path: fullPath,\n        databaseId: collection.databaseId,\n        collection,\n        parentCollectionIds\n      };\n      t12 = customizationController.plugins?.find((p) => p.collectionView?.blockSearch?.(props));\n      $[8] = collection;\n      $[9] = context;\n      $[10] = customizationController.plugins;\n      $[11] = fullPath;\n      $[12] = parentCollectionIds;\n      $[13] = props;\n      $[14] = t12;\n    } else {\n      props = $[13];\n      t12 = $[14];\n    }\n    const searchBlocked = t12;\n    let t2;\n    if ($[15] !== customizationController.plugins || $[16] !== dataSource?.initTextSearch) {\n      t2 = Boolean(dataSource?.initTextSearch) || customizationController.plugins?.find(_temp$e);\n      $[15] = customizationController.plugins;\n      $[16] = dataSource?.initTextSearch;\n      $[17] = t2;\n    } else {\n      t2 = $[17];\n    }\n    const addTextSearchClickListener = t2;\n    if (addTextSearchClickListener) {\n      let t3;\n      if ($[18] !== addTextSearchClickListener || $[19] !== collection || $[20] !== context || $[21] !== customizationController.plugins || $[22] !== dataSource || $[23] !== fullPath || $[24] !== parentCollectionIds || $[25] !== props || $[26] !== searchBlocked) {\n        t3 = addTextSearchClickListener ? () => {\n          setTextSearchLoading(true);\n          const promises = [];\n          if (dataSource?.initTextSearch && !searchBlocked) {\n            promises.push(dataSource.initTextSearch(props));\n          }\n          if (searchBlocked) {\n            customizationController.plugins?.forEach((p_1) => {\n              if (p_1.collectionView?.onTextSearchClick) {\n                promises.push(p_1.collectionView.onTextSearchClick({\n                  context,\n                  path: fullPath,\n                  collection,\n                  parentCollectionIds\n                }));\n              }\n            });\n          }\n          return Promise.all(promises).then((res) => {\n            if (res.every(Boolean)) {\n              setTextSearchInitialised(true);\n            }\n          }).finally(() => setTextSearchLoading(false));\n        } : void 0;\n        $[18] = addTextSearchClickListener;\n        $[19] = collection;\n        $[20] = context;\n        $[21] = customizationController.plugins;\n        $[22] = dataSource;\n        $[23] = fullPath;\n        $[24] = parentCollectionIds;\n        $[25] = props;\n        $[26] = searchBlocked;\n        $[27] = t3;\n      } else {\n        t3 = $[27];\n      }\n      onTextSearchClick = t3;\n      customizationController.plugins?.forEach((p_2) => {\n        if (!textSearchEnabled) {\n          if (p_2.collectionView?.showTextSearchBar) {\n            textSearchEnabled = p_2.collectionView.showTextSearchBar({\n              context,\n              path: fullPath,\n              collection,\n              parentCollectionIds\n            });\n          }\n        }\n      });\n    }\n    $[0] = collection;\n    $[1] = context;\n    $[2] = customizationController.plugins;\n    $[3] = dataSource;\n    $[4] = fullPath;\n    $[5] = parentCollectionIds;\n    $[6] = textSearchEnabled;\n    $[7] = onTextSearchClick;\n  } else {\n    textSearchEnabled = $[6];\n    onTextSearchClick = $[7];\n  }\n  let t1;\n  if ($[28] !== onTextSearchClick || $[29] !== textSearchEnabled || $[30] !== textSearchInitialised || $[31] !== textSearchLoading) {\n    t1 = {\n      textSearchLoading,\n      textSearchInitialised,\n      onTextSearchClick,\n      textSearchEnabled\n    };\n    $[28] = onTextSearchClick;\n    $[29] = textSearchEnabled;\n    $[30] = textSearchInitialised;\n    $[31] = textSearchLoading;\n    $[32] = t1;\n  } else {\n    t1 = $[32];\n  }\n  return t1;\n}\nfunction _temp$e(p_0) {\n  return Boolean(p_0.collectionView?.onTextSearchClick);\n}\nfunction DeleteEntityDialog({\n  entityOrEntitiesToDelete,\n  collection,\n  onClose,\n  open,\n  callbacks,\n  onEntityDelete,\n  onMultipleEntitiesDelete,\n  path\n}) {\n  const dataSource = useDataSource();\n  const customizationController = useCustomizationController();\n  const snackbarController = useSnackbarController();\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const context = useFireCMSContext();\n  const entityOrEntities = Array.isArray(entityOrEntitiesToDelete) && entityOrEntitiesToDelete.length === 1 ? entityOrEntitiesToDelete[0] : entityOrEntitiesToDelete;\n  const multipleEntities = Array.isArray(entityOrEntities);\n  const resolvedCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveCollection({\n    collection,\n    path,\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection, path]);\n  const handleCancel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    onClose();\n  }, [onClose]);\n  const onDeleteSuccess = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity) => {\n    console.debug(\"Deleted\", entity);\n  }, []);\n  const onDeleteFailure = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity_0, e) => {\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error deleting: \" + e?.message\n    });\n    console.error(\"Error deleting entity\");\n    console.error(e);\n  }, [resolvedCollection.name]);\n  const onPreDeleteHookError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity_1, e_0) => {\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error before deleting: \" + e_0?.message\n    });\n    console.error(e_0);\n  }, [resolvedCollection.name]);\n  const onDeleteSuccessHookError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity_2, e_1) => {\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error after deleting: \" + e_1?.message\n    });\n    console.error(e_1);\n  }, [resolvedCollection.name]);\n  const performDelete = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity_3) => deleteEntityWithCallbacks({\n    dataSource,\n    entity: entity_3,\n    collection: resolvedCollection,\n    callbacks,\n    onDeleteSuccess,\n    onDeleteFailure,\n    onPreDeleteHookError,\n    onDeleteSuccessHookError,\n    context\n  }), [dataSource, resolvedCollection, callbacks, onDeleteSuccess, onDeleteFailure, onPreDeleteHookError, onDeleteSuccessHookError, context]);\n  const handleOk = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async () => {\n    if (entityOrEntities) {\n      setLoading(true);\n      if (multipleEntities) {\n        Promise.all(entityOrEntities.map(performDelete)).then((results) => {\n          setLoading(false);\n          if (onMultipleEntitiesDelete && entityOrEntities) onMultipleEntitiesDelete(path, entityOrEntities);\n          if (results.every(Boolean)) {\n            snackbarController.open({\n              type: \"success\",\n              message: `${resolvedCollection.name}: multiple deleted`\n            });\n          } else if (results.some(Boolean)) {\n            snackbarController.open({\n              type: \"warning\",\n              message: `${resolvedCollection.name}: Some of the entities have been deleted, but not all`\n            });\n          } else {\n            snackbarController.open({\n              type: \"error\",\n              message: `${resolvedCollection.name}: Error deleting entities`\n            });\n          }\n          onClose();\n        });\n      } else {\n        performDelete(entityOrEntities).then((success) => {\n          setLoading(false);\n          if (success) {\n            if (onEntityDelete && entityOrEntities) onEntityDelete(path, entityOrEntities);\n            snackbarController.open({\n              type: \"success\",\n              message: `${resolvedCollection.singularName ?? resolvedCollection.name} deleted`\n            });\n            onClose();\n          }\n        });\n      }\n    }\n  }, [entityOrEntities, multipleEntities, performDelete, onMultipleEntitiesDelete, path, onClose, snackbarController, resolvedCollection.name, onEntityDelete]);\n  let content;\n  if (entityOrEntities && multipleEntities) {\n    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: \"Multiple entities\" });\n  } else {\n    const entity_4 = entityOrEntities;\n    content = entity_4 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityView, { entity: entity_4, collection, path }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n  }\n  const dialogTitle = multipleEntities ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"b\", { children: resolvedCollection.name }),\n    \": Confirm multiple delete?\"\n  ] }) : `Would you like to delete this ${resolvedCollection.singularName ?? resolvedCollection.name}?`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Dialog, { maxWidth: multipleEntities ? \"lg\" : \"2xl\", \"aria-labelledby\": \"delete-dialog\", open, onOpenChange: (open_0) => !open_0 ? onClose() : void 0, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogTitle, { id: \"delete-dialog-title\", children: dialogTitle }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogContent, { fullHeight: true, children: !multipleEntities && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"p-4\", children: content }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { children: [\n      loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircularProgress, { size: \"smallest\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: handleCancel, disabled: loading, variant: \"text\", color: \"primary\", children: \"Cancel\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { autoFocus: true, disabled: loading, onClick: handleOk, variant: \"filled\", color: \"primary\", children: \"Ok\" })\n    ] })\n  ] });\n}\nfunction addRecentId(collectionId, id) {\n  const recentIds = getRecentIds(collectionId);\n  const newRecentIds = [id, ...recentIds.filter((i) => i !== id)];\n  if (newRecentIds.length > 5) {\n    newRecentIds.pop();\n  }\n  saveSearchedIdsLocally(collectionId, newRecentIds);\n  return newRecentIds;\n}\nfunction saveSearchedIdsLocally(collectionId, ids) {\n  localStorage.setItem(\"recent_id_searches::\" + collectionId, JSON.stringify(ids));\n}\nfunction getRecentIds(collectionId) {\n  const stored = localStorage.getItem(\"recent_id_searches::\" + collectionId);\n  if (!stored) return [];\n  return JSON.parse(stored);\n}\nconst editEntityAction = {\n  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.EditIcon, {}),\n  key: \"edit\",\n  name: \"Edit\",\n  collapsed: false,\n  onClick({\n    entity,\n    collection,\n    fullPath,\n    context,\n    highlightEntity,\n    unhighlightEntity,\n    openEntityMode\n  }) {\n    highlightEntity?.(entity);\n    context.analyticsController?.onAnalyticsEvent?.(\"entity_click\", {\n      path: entity.path,\n      entityId: entity.id\n    });\n    if (collection) {\n      addRecentId(collection.id, entity.id);\n    }\n    const path = collection?.collectionGroup ? entity.path : fullPath ?? entity.path;\n    navigateToEntity({\n      openEntityMode,\n      collection,\n      entityId: entity.id,\n      path,\n      sideEntityController: context.sideEntityController,\n      onClose: () => unhighlightEntity?.(entity),\n      navigation: context.navigation\n    });\n    return Promise.resolve(void 0);\n  }\n};\nconst copyEntityAction = {\n  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FileCopyIcon, {}),\n  name: \"Copy\",\n  key: \"copy\",\n  onClick({\n    entity,\n    collection,\n    context,\n    fullPath,\n    highlightEntity,\n    unhighlightEntity,\n    openEntityMode\n  }) {\n    highlightEntity?.(entity);\n    context.analyticsController?.onAnalyticsEvent?.(\"copy_entity_click\", {\n      path: entity.path,\n      entityId: entity.id\n    });\n    const path = collection?.collectionGroup ? entity.path : fullPath ?? entity.path;\n    navigateToEntity({\n      openEntityMode,\n      collection,\n      entityId: entity.id,\n      path,\n      copy: true,\n      sideEntityController: context.sideEntityController,\n      onClose: () => unhighlightEntity?.(entity),\n      navigation: context.navigation\n    });\n    return Promise.resolve(void 0);\n  }\n};\nconst deleteEntityAction = {\n  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DeleteIcon, {}),\n  name: \"Delete\",\n  key: \"delete\",\n  onClick({\n    entity,\n    fullPath,\n    collection,\n    context,\n    selectionController,\n    onCollectionChange,\n    sideEntityController\n  }) {\n    const {\n      closeDialog\n    } = context.dialogsController.open({\n      key: \"delete_entity_dialog_\" + entity.id,\n      Component: ({\n        open\n      }) => {\n        if (!collection || !fullPath) throw new Error(\"deleteEntityAction: Collection is undefined\");\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DeleteEntityDialog, { entityOrEntitiesToDelete: entity, path: fullPath, collection, callbacks: collection.callbacks, open, onEntityDelete: () => {\n          context.analyticsController?.onAnalyticsEvent?.(\"single_entity_deleted\", {\n            path: fullPath\n          });\n          selectionController?.setSelectedEntities(selectionController.selectedEntities.filter((e) => e.id !== entity.id));\n          onCollectionChange?.();\n          sideEntityController?.close();\n        }, onClose: closeDialog });\n      }\n    });\n    return Promise.resolve(void 0);\n  }\n};\nfunction ReferenceSelectionTable({\n  onSingleEntitySelected,\n  onMultipleEntitiesSelected,\n  multiselect,\n  collection,\n  path: pathInput,\n  selectedEntityIds: selectedEntityIdsProp,\n  description,\n  forceFilter,\n  maxSelection\n}) {\n  const sideDialogContext = useSideDialogContext();\n  const sideEntityController = useSideEntityController();\n  const navigation = useNavigationController();\n  const analyticsController = useAnalyticsController();\n  const customizationController = useCustomizationController();\n  const fullPath = navigation.resolveIdsFrom(pathInput);\n  const dataSource = useDataSource();\n  const [entitiesDisplayedFirst, setEntitiesDisplayedFirst] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const toggleEntitySelection = (entity) => {\n    let newValue;\n    const selectedEntities = selectionController.selectedEntities;\n    analyticsController.onAnalyticsEvent?.(\"reference_selection_toggle\", {\n      path: fullPath,\n      entityId: entity.id\n    });\n    if (selectedEntities) {\n      if (selectedEntities.map((e) => e.id).indexOf(entity.id) > -1) {\n        newValue = selectedEntities.filter((item) => item.id !== entity.id);\n      } else {\n        if (maxSelection && selectedEntities.length >= maxSelection) return;\n        newValue = [...selectedEntities, entity];\n      }\n      selectionController.setSelectedEntities(newValue);\n      if (onMultipleEntitiesSelected) onMultipleEntitiesSelected(newValue);\n    }\n  };\n  const selectionController = useSelectionController(toggleEntitySelection);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    let unmounted = false;\n    const selectedEntityIds = selectedEntityIdsProp?.map((id) => id?.toString()).filter(Boolean);\n    if (selectedEntityIds && collection) {\n      Promise.all(selectedEntityIds.map((entityId) => dataSource.fetchEntity({\n        path: fullPath,\n        entityId,\n        collection\n      }))).then((entities) => {\n        if (!unmounted) {\n          const result = entities.filter((e_0) => e_0 !== void 0);\n          selectionController.setSelectedEntities(result);\n          setEntitiesDisplayedFirst(result);\n        }\n      });\n    } else {\n      selectionController.setSelectedEntities([]);\n      setEntitiesDisplayedFirst([]);\n    }\n    return () => {\n      unmounted = true;\n    };\n  }, [dataSource, fullPath, selectedEntityIdsProp, collection, selectionController.setSelectedEntities]);\n  const onClear = () => {\n    analyticsController.onAnalyticsEvent?.(\"reference_selection_clear\", {\n      path: fullPath\n    });\n    selectionController.setSelectedEntities([]);\n    if (!multiselect && onSingleEntitySelected) {\n      onSingleEntitySelected(null);\n    } else if (onMultipleEntitiesSelected) {\n      onMultipleEntitiesSelected([]);\n    }\n  };\n  const onEntityClick = (entity_0) => {\n    if (!multiselect && onSingleEntitySelected) {\n      analyticsController.onAnalyticsEvent?.(\"reference_selected_single\", {\n        path: fullPath,\n        entityId: entity_0.id\n      });\n      onSingleEntitySelected(entity_0);\n      sideDialogContext.close(false);\n    } else {\n      toggleEntitySelection(entity_0);\n    }\n  };\n  const onNewClick = () => {\n    analyticsController.onAnalyticsEvent?.(\"reference_selection_new_entity\", {\n      path: fullPath\n    });\n    sideEntityController.open({\n      path: fullPath,\n      collection,\n      updateUrl: true,\n      onUpdate: ({\n        entity: entity_1\n      }) => {\n        setEntitiesDisplayedFirst([entity_1, ...entitiesDisplayedFirst]);\n        onEntityClick(entity_1);\n      },\n      closeOnSave: true\n    });\n  };\n  const tableRowActionsBuilder = ({\n    entity: entity_2,\n    size,\n    width,\n    frozen\n  }) => {\n    const selectedEntities_0 = selectionController.selectedEntities;\n    const isSelected = selectedEntities_0 && selectedEntities_0.map((e_1) => e_1.id).indexOf(entity_2.id) > -1;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionRowActions, { width, frozen, entity: entity_2, size, isSelected, selectionEnabled: multiselect, hideId: collection?.hideIdFromCollection, fullPath, selectionController, openEntityMode: \"side_panel\" });\n  };\n  const onDone = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((event) => {\n    event.stopPropagation();\n    sideDialogContext.close(false);\n  }, [sideDialogContext]);\n  if (!collection) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"Could not find collection with id \" + collection });\n  }\n  const resolvedCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveCollection({\n    collection,\n    path: fullPath,\n    values: {},\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection, customizationController.propertyConfigs, fullPath]);\n  const displayedColumnIds = useColumnIds(resolvedCollection, false);\n  const tableController = useDataSourceTableController({\n    fullPath,\n    collection,\n    entitiesDisplayedFirst,\n    forceFilter,\n    updateUrl: false\n  });\n  const {\n    textSearchLoading,\n    textSearchInitialised,\n    onTextSearchClick,\n    textSearchEnabled\n  } = useTableSearchHelper({\n    collection,\n    fullPath\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col h-full\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow\", children: entitiesDisplayedFirst && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionTable, { textSearchLoading, onTextSearchClick: textSearchInitialised ? void 0 : onTextSearchClick, textSearchEnabled, displayedColumnIds, onEntityClick, tableController, enablePopupIcon: false, tableRowActionsBuilder, openEntityMode: \"side_panel\", title: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"subtitle2\", className: \"flex flex-row gap-2\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { size: \"small\", collectionOrView: collection, className: \"text-surface-300 dark:text-surface-600\" }),\n      collection.singularName ? `Select ${collection.singularName}` : `Select\n                                                                                              from ${collection.name}`\n    ] }), defaultSize: collection.defaultSize, properties: resolvedCollection.properties, forceFilter, inlineEditing: false, selectionController, actions: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferenceDialogActions, { collection, path: fullPath, onNewClick, onClear }) }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { translucent: false, children: [\n      description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body2\", className: \"flex-grow text-left\", children: description }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: onDone, color: \"primary\", variant: \"filled\", children: \"Done\" })\n    ] })\n  ] });\n}\nfunction ReferenceDialogActions(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(13);\n  const {\n    collection,\n    path,\n    onClear,\n    onNewClick\n  } = t0;\n  const authController = useAuthController();\n  const largeLayout = useLargeLayout();\n  let t1;\n  if ($[0] !== onNewClick) {\n    t1 = onNewClick ? (e) => {\n      e.preventDefault();\n      onNewClick();\n    } : void 0;\n    $[0] = onNewClick;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const onClick = t1;\n  let t2;\n  if ($[2] !== authController || $[3] !== collection || $[4] !== largeLayout || $[5] !== onClick || $[6] !== path) {\n    t2 = canCreateEntity(collection, authController, path, null) && onClick && (largeLayout ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick, startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}), variant: \"outlined\", color: \"primary\", children: [\n      \"Add \",\n      collection.singularName ?? collection.name\n    ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick, variant: \"outlined\", color: \"primary\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}) }));\n    $[2] = authController;\n    $[3] = collection;\n    $[4] = largeLayout;\n    $[5] = onClick;\n    $[6] = path;\n    $[7] = t2;\n  } else {\n    t2 = $[7];\n  }\n  const addButton = t2;\n  let t3;\n  if ($[8] !== onClear) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: onClear, variant: \"text\", color: \"primary\", children: \"Clear\" });\n    $[8] = onClear;\n    $[9] = t3;\n  } else {\n    t3 = $[9];\n  }\n  let t4;\n  if ($[10] !== addButton || $[11] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t3,\n      addButton\n    ] });\n    $[10] = addButton;\n    $[11] = t3;\n    $[12] = t4;\n  } else {\n    t4 = $[12];\n  }\n  return t4;\n}\nfunction toArray(input) {\n  return Array.isArray(input) ? input : input ? [input] : [];\n}\nfunction NavigationGroup(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);\n  const {\n    children,\n    group\n  } = t0;\n  const userConfigurationPersistence = useUserConfigurationPersistence();\n  const t1 = !(userConfigurationPersistence?.collapsedGroups ?? []).includes(group ?? \"ungrouped\");\n  let t2;\n  if ($[0] !== group || $[1] !== userConfigurationPersistence) {\n    t2 = (expanded) => {\n      if (userConfigurationPersistence) {\n        if (!expanded) {\n          const paths = (userConfigurationPersistence.collapsedGroups ?? []).concat(group ?? \"ungrouped\");\n          userConfigurationPersistence.setCollapsedGroups(paths);\n        } else {\n          userConfigurationPersistence.setCollapsedGroups((userConfigurationPersistence.collapsedGroups ?? []).filter((g) => g !== (group ?? \"ungrouped\")));\n        }\n      }\n    };\n    $[0] = group;\n    $[1] = userConfigurationPersistence;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== group) {\n    t3 = group?.toUpperCase() ?? \"Views\".toUpperCase();\n    $[3] = group;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"secondary\", className: \"font-medium ml-1\", children: t3 });\n    $[5] = t3;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let t5;\n  if ($[7] !== children) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"mb-8\", children });\n    $[7] = children;\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  let t6;\n  if ($[9] !== t1 || $[10] !== t2 || $[11] !== t4 || $[12] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { invisible: true, titleClassName: \"font-medium text-sm text-surface-600 dark:text-surface-400\", innerClassName: \"py-4\", initiallyExpanded: t1, onExpandedChange: t2, title: t4, children: t5 });\n    $[9] = t1;\n    $[10] = t2;\n    $[11] = t4;\n    $[12] = t5;\n    $[13] = t6;\n  } else {\n    t6 = $[13];\n  }\n  return t6;\n}\nfunction NavigationCard(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(23);\n  const {\n    name,\n    description,\n    icon,\n    actions,\n    onClick\n  } = t0;\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"h-full p-4 cursor-pointer min-h-[230px]\");\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  let t2;\n  if ($[1] !== onClick) {\n    t2 = () => {\n      onClick?.();\n    };\n    $[1] = onClick;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== actions) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex items-center gap-1\", onClick: _temp$d, children: actions });\n    $[3] = actions;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== icon || $[6] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"h-10 flex items-center w-full justify-between text-surface-300 dark:text-surface-600\", children: [\n      icon,\n      t3\n    ] });\n    $[5] = icon;\n    $[6] = t3;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  let t5;\n  if ($[8] !== name) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { gutterBottom: true, variant: \"h5\", component: \"h2\", children: name });\n    $[8] = name;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  let t6;\n  if ($[10] !== description) {\n    t6 = description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body2\", color: \"secondary\", component: \"div\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Markdown, { source: description, size: \"small\" }) });\n    $[10] = description;\n    $[11] = t6;\n  } else {\n    t6 = $[11];\n  }\n  let t7;\n  if ($[12] !== t4 || $[13] !== t5 || $[14] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex-grow w-full\", children: [\n      t4,\n      t5,\n      t6\n    ] });\n    $[12] = t4;\n    $[13] = t5;\n    $[14] = t6;\n    $[15] = t7;\n  } else {\n    t7 = $[15];\n  }\n  let t8;\n  if ($[16] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = {\n      alignSelf: \"flex-end\"\n    };\n    $[16] = t8;\n  } else {\n    t8 = $[16];\n  }\n  let t9;\n  if ($[17] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: t8, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"p-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowForwardIcon, { className: \"text-primary\" }) }) });\n    $[17] = t9;\n  } else {\n    t9 = $[17];\n  }\n  let t10;\n  if ($[18] !== t7) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col items-start h-full\", children: [\n      t7,\n      t9\n    ] });\n    $[18] = t7;\n    $[19] = t10;\n  } else {\n    t10 = $[19];\n  }\n  let t11;\n  if ($[20] !== t10 || $[21] !== t2) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Card, { className: t1, onClick: t2, children: t10 });\n    $[20] = t10;\n    $[21] = t2;\n    $[22] = t11;\n  } else {\n    t11 = $[22];\n  }\n  return t11;\n}\nfunction _temp$d(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction SmallNavigationCard(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  const {\n    name,\n    url,\n    icon\n  } = t0;\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cardMixin, _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cardClickableMixin, \"cursor-pointer flex flex-row items-center px-4 py-2 text-inherit dark:text-inherit visited:text-inherit visited:dark:text-inherit hover:text-inherit hover:dark:text-inherit \");\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  let t2;\n  if ($[1] !== name) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { gutterBottom: true, variant: \"h5\", component: \"h2\", className: \"mb-0 ml-4\", children: name });\n    $[1] = name;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== icon || $[4] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row items-center flex-grow gap-2 \", children: [\n      icon,\n      t2\n    ] });\n    $[3] = icon;\n    $[4] = t2;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  let t4;\n  if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"p-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowForwardIcon, { color: \"primary\" }) });\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let t5;\n  if ($[7] !== t3 || $[8] !== url) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.Link, { tabIndex: 0, className: t1, to: url, children: [\n      t3,\n      t4\n    ] }) });\n    $[7] = t3;\n    $[8] = url;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  return t5;\n}\nfunction NavigationCardBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(34);\n  const {\n    path,\n    collection,\n    view,\n    url,\n    name,\n    description,\n    onClick,\n    type\n  } = t0;\n  const userConfigurationPersistence = useUserConfigurationPersistence();\n  const t1 = collection ?? view;\n  let t2;\n  if ($[0] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { collectionOrView: t1 });\n    $[0] = t1;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const collectionIcon = t2;\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  let t3;\n  if ($[2] !== userConfigurationPersistence?.favouritePaths) {\n    t3 = userConfigurationPersistence?.favouritePaths ?? [];\n    $[2] = userConfigurationPersistence?.favouritePaths;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  let t4;\n  if ($[4] !== path || $[5] !== t3) {\n    t4 = t3.includes(path);\n    $[4] = path;\n    $[5] = t3;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  const favourite = t4;\n  let t5;\n  if ($[7] !== collection || $[8] !== context || $[9] !== customizationController.plugins || $[10] !== favourite || $[11] !== path || $[12] !== userConfigurationPersistence) {\n    const actionsArray = userConfigurationPersistence ? [/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (favourite) {\n        userConfigurationPersistence.setFavouritePaths(userConfigurationPersistence.favouritePaths.filter((p) => p !== path));\n      } else {\n        userConfigurationPersistence.setFavouritePaths([...userConfigurationPersistence.favouritePaths, path]);\n      }\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.StarIcon, { size: 18, className: favourite ? \"text-secondary\" : \"text-surface-400 dark:text-surface-500\" }) }, \"favourite\")] : [];\n    if (customizationController.plugins && collection) {\n      let t62;\n      if ($[14] !== collection || $[15] !== context || $[16] !== path) {\n        t62 = {\n          path,\n          collection,\n          context\n        };\n        $[14] = collection;\n        $[15] = context;\n        $[16] = path;\n        $[17] = t62;\n      } else {\n        t62 = $[17];\n      }\n      const actionProps = t62;\n      customizationController.plugins.forEach((plugin, i) => actionsArray.push(plugin.homePage?.CollectionActions ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(plugin.homePage.CollectionActions, { ...actionProps, extraProps: plugin.homePage.extraProps }, `actions_${i}`) : null));\n    }\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: actionsArray });\n    $[7] = collection;\n    $[8] = context;\n    $[9] = customizationController.plugins;\n    $[10] = favourite;\n    $[11] = path;\n    $[12] = userConfigurationPersistence;\n    $[13] = t5;\n  } else {\n    t5 = $[13];\n  }\n  const actions = t5;\n  if (type === \"admin\") {\n    let t62;\n    if ($[18] !== collectionIcon || $[19] !== name || $[20] !== url) {\n      t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SmallNavigationCard, { icon: collectionIcon, name, url });\n      $[18] = collectionIcon;\n      $[19] = name;\n      $[20] = url;\n      $[21] = t62;\n    } else {\n      t62 = $[21];\n    }\n    return t62;\n  }\n  let t6;\n  if ($[22] !== navigate || $[23] !== onClick || $[24] !== path || $[25] !== url || $[26] !== userConfigurationPersistence) {\n    t6 = () => {\n      onClick?.();\n      navigate(url);\n      if (userConfigurationPersistence) {\n        userConfigurationPersistence.setRecentlyVisitedPaths([path, ...(userConfigurationPersistence.recentlyVisitedPaths ?? []).filter((p_0) => p_0 !== path)]);\n      }\n    };\n    $[22] = navigate;\n    $[23] = onClick;\n    $[24] = path;\n    $[25] = url;\n    $[26] = userConfigurationPersistence;\n    $[27] = t6;\n  } else {\n    t6 = $[27];\n  }\n  let t7;\n  if ($[28] !== actions || $[29] !== collectionIcon || $[30] !== description || $[31] !== name || $[32] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationCard, { icon: collectionIcon, name, description, actions, onClick: t6 });\n    $[28] = actions;\n    $[29] = collectionIcon;\n    $[30] = description;\n    $[31] = name;\n    $[32] = t6;\n    $[33] = t7;\n  } else {\n    t7 = $[33];\n  }\n  return t7;\n}\nfunction NavigationChip(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);\n  const {\n    entry\n  } = t0;\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const userConfigurationPersistence = useUserConfigurationPersistence();\n  if (!userConfigurationPersistence) {\n    return null;\n  }\n  let t1;\n  if ($[0] !== entry.path || $[1] !== userConfigurationPersistence.favouritePaths) {\n    t1 = userConfigurationPersistence.favouritePaths.includes(entry.path);\n    $[0] = entry.path;\n    $[1] = userConfigurationPersistence.favouritePaths;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  const favourite = t1;\n  let t2;\n  if ($[3] !== entry.path || $[4] !== favourite || $[5] !== userConfigurationPersistence) {\n    t2 = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (favourite) {\n        userConfigurationPersistence.setFavouritePaths(userConfigurationPersistence.favouritePaths.filter((p) => p !== entry.path));\n      } else {\n        userConfigurationPersistence.setFavouritePaths([...userConfigurationPersistence.favouritePaths, entry.path]);\n      }\n    };\n    $[3] = entry.path;\n    $[4] = favourite;\n    $[5] = userConfigurationPersistence;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  const onIconClick = t2;\n  let t3;\n  if ($[7] !== entry.url || $[8] !== navigate) {\n    t3 = () => navigate(entry.url);\n    $[7] = entry.url;\n    $[8] = navigate;\n    $[9] = t3;\n  } else {\n    t3 = $[9];\n  }\n  const t4 = favourite ? \"text-secondary\" : \"text-surface-400 dark:text-surface-500\";\n  let t5;\n  if ($[10] !== onIconClick || $[11] !== t4) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.StarIcon, { onClick: onIconClick, size: 18, className: t4 });\n    $[10] = onIconClick;\n    $[11] = t4;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  let t6;\n  if ($[13] !== entry.name || $[14] !== entry.path || $[15] !== t3 || $[16] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { onClick: t3, icon: t5, children: entry.name }, entry.path);\n    $[13] = entry.name;\n    $[14] = entry.path;\n    $[15] = t3;\n    $[16] = t5;\n    $[17] = t6;\n  } else {\n    t6 = $[17];\n  }\n  return t6;\n}\nfunction FavouritesView(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);\n  const navigationController = useNavigationController();\n  const userConfigurationPersistence = useUserConfigurationPersistence();\n  if (!userConfigurationPersistence) {\n    return null;\n  }\n  let t1;\n  if ($[0] !== userConfigurationPersistence?.favouritePaths) {\n    t1 = userConfigurationPersistence?.favouritePaths ?? [];\n    $[0] = userConfigurationPersistence?.favouritePaths;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let T0;\n  let t2;\n  let t3;\n  let t4;\n  if ($[2] !== navigationController.topLevelNavigation?.navigationEntries || $[3] !== t1) {\n    let t52;\n    if ($[8] !== navigationController.topLevelNavigation?.navigationEntries) {\n      t52 = (path) => navigationController.topLevelNavigation?.navigationEntries.find((entry) => entry.path === path);\n      $[8] = navigationController.topLevelNavigation?.navigationEntries;\n      $[9] = t52;\n    } else {\n      t52 = $[9];\n    }\n    const favouriteCollections = t1.map(t52).filter(Boolean);\n    T0 = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Collapse;\n    t4 = favouriteCollections.length > 0;\n    t2 = \"flex flex-row flex-wrap gap-2 pb-2 min-h-[32px]\";\n    t3 = favouriteCollections.map(_temp$c);\n    $[2] = navigationController.topLevelNavigation?.navigationEntries;\n    $[3] = t1;\n    $[4] = T0;\n    $[5] = t2;\n    $[6] = t3;\n    $[7] = t4;\n  } else {\n    T0 = $[4];\n    t2 = $[5];\n    t3 = $[6];\n    t4 = $[7];\n  }\n  let t5;\n  if ($[10] !== t2 || $[11] !== t3) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, children: t3 });\n    $[10] = t2;\n    $[11] = t3;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  let t6;\n  if ($[13] !== T0 || $[14] !== t4 || $[15] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(T0, { in: t4, children: t5 });\n    $[13] = T0;\n    $[14] = t4;\n    $[15] = t5;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  return t6;\n}\nfunction _temp$c(entry_0) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationChip, { entry: entry_0 }, entry_0.path);\n}\nconst scrollsMap = {};\nfunction useRestoreScroll() {\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const containerRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const [scroll, setScroll] = react__WEBPACK_IMPORTED_MODULE_2__.useState(0);\n  const [direction, setDirection] = react__WEBPACK_IMPORTED_MODULE_2__.useState(\"down\");\n  const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (!containerRef.current || !location.key) return;\n    scrollsMap[location.key] = containerRef.current.scrollTop;\n    setScroll(containerRef.current.scrollTop);\n    setDirection(containerRef.current.scrollTop > scroll ? \"down\" : \"up\");\n  }, [containerRef, location.key, scroll]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const container = containerRef.current;\n    if (!container) return;\n    container.addEventListener(\"scroll\", handleScroll, {\n      passive: true\n    });\n    return () => {\n      if (container) container.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [containerRef, handleScroll, location]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!containerRef.current || !scrollsMap[location.key]) return;\n    containerRef.current.scrollTo({\n      top: scrollsMap[location.key],\n      behavior: \"auto\"\n    });\n  }, [location]);\n  return {\n    containerRef,\n    scroll,\n    direction\n  };\n}\nfunction DefaultHomePage(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(71);\n  const {\n    additionalActions,\n    additionalChildrenStart,\n    additionalChildrenEnd\n  } = t0;\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  const navigationController = useNavigationController();\n  const fuse = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  if (!navigationController.topLevelNavigation) {\n    throw Error(\"Navigation not ready in FireCMSHomePage\");\n  }\n  const {\n    containerRef,\n    direction\n  } = useRestoreScroll();\n  const {\n    navigationEntries,\n    groups\n  } = navigationController.topLevelNavigation;\n  const [filteredUrls, setFilteredUrls] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const performingSearch = Boolean(filteredUrls);\n  let t1;\n  if ($[0] !== filteredUrls || $[1] !== navigationEntries) {\n    t1 = filteredUrls ? filteredUrls.map((url) => navigationEntries.find((e) => e.url === url)).filter(Boolean) : navigationEntries;\n    $[0] = filteredUrls;\n    $[1] = navigationEntries;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  const filteredNavigationEntries = t1;\n  let t2;\n  let t3;\n  if ($[3] !== navigationEntries) {\n    t2 = () => {\n      fuse.current = new fuse_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"](navigationEntries, {\n        keys: [\"name\", \"description\", \"group\", \"path\"]\n      });\n    };\n    t3 = [navigationEntries];\n    $[3] = navigationEntries;\n    $[4] = t2;\n    $[5] = t3;\n  } else {\n    t2 = $[4];\n    t3 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t2, t3);\n  let t4;\n  if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = (value) => {\n      if (!value || value === \"\") {\n        setFilteredUrls(null);\n      } else {\n        const searchResult = fuse.current?.search(value);\n        if (searchResult) {\n          setFilteredUrls(searchResult.map(_temp$b));\n        }\n      }\n    };\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  const updateSearchResults = t4;\n  let T0;\n  let additionalPluginChildrenEnd;\n  let additionalPluginSections;\n  let t10;\n  let t11;\n  let t12;\n  let t13;\n  let t5;\n  let t6;\n  let t7;\n  let t8;\n  let t9;\n  if ($[7] !== additionalActions || $[8] !== additionalChildrenStart || $[9] !== containerRef || $[10] !== context || $[11] !== customizationController.plugins || $[12] !== direction || $[13] !== filteredNavigationEntries || $[14] !== filteredUrls || $[15] !== groups || $[16] !== performingSearch) {\n    const filteredGroups = filteredUrls ? filteredNavigationEntries.map(_temp2$5) : [];\n    const allGroups = filteredUrls ? filteredGroups.filter((group, index) => filteredGroups.indexOf(group) === index) : [...groups];\n    if (filteredNavigationEntries.filter(_temp3$2).length > 0 || filteredNavigationEntries.length === 0) {\n      allGroups.push(void 0);\n    }\n    let additionalPluginChildrenStart;\n    if (customizationController.plugins) {\n      let t143;\n      if ($[29] !== context || $[30] !== customizationController.plugins) {\n        const sectionProps = {\n          context\n        };\n        t143 = customizationController.plugins.filter(_temp4$1).map((plugin_0, i) => {\n          const section = plugin_0.homePage.includeSection(sectionProps);\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationGroup, { group: section.title, children: section.children }, `plugin_section_${plugin_0.key}`);\n        });\n        $[29] = context;\n        $[30] = customizationController.plugins;\n        $[31] = t143;\n      } else {\n        t143 = $[31];\n      }\n      let t153;\n      if ($[32] !== t143) {\n        t153 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: t143 });\n        $[32] = t143;\n        $[33] = t153;\n      } else {\n        t153 = $[33];\n      }\n      additionalPluginSections = t153;\n      let t162;\n      if ($[34] !== customizationController.plugins) {\n        t162 = customizationController.plugins.filter(_temp5$1).map(_temp6$1);\n        $[34] = customizationController.plugins;\n        $[35] = t162;\n      } else {\n        t162 = $[35];\n      }\n      let t172;\n      if ($[36] !== t162) {\n        t172 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: t162 });\n        $[36] = t162;\n        $[37] = t172;\n      } else {\n        t172 = $[37];\n      }\n      additionalPluginChildrenStart = t172;\n      let t18;\n      if ($[38] !== customizationController.plugins) {\n        t18 = customizationController.plugins.filter(_temp7).map(_temp8);\n        $[38] = customizationController.plugins;\n        $[39] = t18;\n      } else {\n        t18 = $[39];\n      }\n      let t19;\n      if ($[40] !== t18) {\n        t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2\", children: t18 });\n        $[40] = t18;\n        $[41] = t19;\n      } else {\n        t19 = $[41];\n      }\n      additionalPluginChildrenEnd = t19;\n    }\n    t11 = \"home_page\";\n    t12 = containerRef;\n    t13 = \"py-2 overflow-auto h-full w-full\";\n    T0 = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Container;\n    t5 = \"6xl\";\n    const t142 = direction === \"down\" ? -84 : 0;\n    let t152;\n    if ($[42] !== t142) {\n      t152 = {\n        top: t142\n      };\n      $[42] = t142;\n      $[43] = t152;\n    } else {\n      t152 = $[43];\n    }\n    let t16;\n    if ($[44] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SearchBar, { onTextSearch: updateSearchResults, placeholder: \"Search collections\", large: false, autoFocus: true, innerClassName: \"w-full\", className: \"w-full flex-grow\" });\n      $[44] = t16;\n    } else {\n      t16 = $[44];\n    }\n    if ($[45] !== additionalActions || $[46] !== t152) {\n      t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-full sticky py-4 transition-all duration-400 ease-in-out top-0 z-10 flex flex-row gap-4\", style: t152, children: [\n        t16,\n        additionalActions\n      ] });\n      $[45] = additionalActions;\n      $[46] = t152;\n      $[47] = t6;\n    } else {\n      t6 = $[47];\n    }\n    if ($[48] !== performingSearch) {\n      t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FavouritesView, { hidden: performingSearch });\n      $[48] = performingSearch;\n      $[49] = t7;\n    } else {\n      t7 = $[49];\n    }\n    t8 = additionalChildrenStart;\n    t9 = additionalPluginChildrenStart;\n    let t17;\n    if ($[50] !== context || $[51] !== customizationController.plugins || $[52] !== filteredNavigationEntries || $[53] !== performingSearch) {\n      t17 = (group_0, index_0) => {\n        const AdditionalCards = [];\n        const actionProps = {\n          group: group_0,\n          context\n        };\n        if (customizationController.plugins) {\n          customizationController.plugins.forEach((plugin_5) => {\n            if (plugin_5.homePage?.AdditionalCards) {\n              AdditionalCards.push(...toArray(plugin_5.homePage?.AdditionalCards));\n            }\n          });\n        }\n        const thisGroupCollections = filteredNavigationEntries.filter((entry_0) => entry_0.group === group_0 || !entry_0.group && group_0 === void 0);\n        if (thisGroupCollections.length === 0 && (AdditionalCards.length === 0 || performingSearch)) {\n          return null;\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationGroup, { group: group_0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\", children: [\n          thisGroupCollections.map((entry_1) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"col-span-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationCardBinding, { ...entry_1, onClick: () => {\n            let event;\n            if (entry_1.type === \"collection\") {\n              event = \"home_navigate_to_collection\";\n            } else {\n              if (entry_1.type === \"view\") {\n                event = \"home_navigate_to_view\";\n              } else {\n                if (entry_1.type === \"admin\") {\n                  event = \"home_navigate_to_admin_view\";\n                } else {\n                  event = \"unmapped_event\";\n                }\n              }\n            }\n            context.analyticsController?.onAnalyticsEvent?.(event, {\n              path: entry_1.path\n            });\n          } }) }, `nav_${entry_1.group}_${entry_1.name}`)),\n          group_0?.toLowerCase() !== \"admin\" && AdditionalCards && AdditionalCards.map((AdditionalCard, i_2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AdditionalCard, { ...actionProps }) }, `nav_${group_0}_add_${i_2}`))\n        ] }) }, `plugin_section_${group_0}`);\n      };\n      $[50] = context;\n      $[51] = customizationController.plugins;\n      $[52] = filteredNavigationEntries;\n      $[53] = performingSearch;\n      $[54] = t17;\n    } else {\n      t17 = $[54];\n    }\n    t10 = allGroups.map(t17);\n    $[7] = additionalActions;\n    $[8] = additionalChildrenStart;\n    $[9] = containerRef;\n    $[10] = context;\n    $[11] = customizationController.plugins;\n    $[12] = direction;\n    $[13] = filteredNavigationEntries;\n    $[14] = filteredUrls;\n    $[15] = groups;\n    $[16] = performingSearch;\n    $[17] = T0;\n    $[18] = additionalPluginChildrenEnd;\n    $[19] = additionalPluginSections;\n    $[20] = t10;\n    $[21] = t11;\n    $[22] = t12;\n    $[23] = t13;\n    $[24] = t5;\n    $[25] = t6;\n    $[26] = t7;\n    $[27] = t8;\n    $[28] = t9;\n  } else {\n    T0 = $[17];\n    additionalPluginChildrenEnd = $[18];\n    additionalPluginSections = $[19];\n    t10 = $[20];\n    t11 = $[21];\n    t12 = $[22];\n    t13 = $[23];\n    t5 = $[24];\n    t6 = $[25];\n    t7 = $[26];\n    t8 = $[27];\n    t9 = $[28];\n  }\n  let t14;\n  if ($[55] !== T0 || $[56] !== additionalChildrenEnd || $[57] !== additionalPluginChildrenEnd || $[58] !== additionalPluginSections || $[59] !== t10 || $[60] !== t5 || $[61] !== t6 || $[62] !== t7 || $[63] !== t8 || $[64] !== t9) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(T0, { maxWidth: t5, children: [\n      t6,\n      t7,\n      t8,\n      t9,\n      t10,\n      additionalPluginSections,\n      additionalPluginChildrenEnd,\n      additionalChildrenEnd\n    ] });\n    $[55] = T0;\n    $[56] = additionalChildrenEnd;\n    $[57] = additionalPluginChildrenEnd;\n    $[58] = additionalPluginSections;\n    $[59] = t10;\n    $[60] = t5;\n    $[61] = t6;\n    $[62] = t7;\n    $[63] = t8;\n    $[64] = t9;\n    $[65] = t14;\n  } else {\n    t14 = $[65];\n  }\n  let t15;\n  if ($[66] !== t11 || $[67] !== t12 || $[68] !== t13 || $[69] !== t14) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: t11, ref: t12, className: t13, children: t14 });\n    $[66] = t11;\n    $[67] = t12;\n    $[68] = t13;\n    $[69] = t14;\n    $[70] = t15;\n  } else {\n    t15 = $[70];\n  }\n  return t15;\n}\nfunction _temp8(plugin_4, i_1) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: plugin_4.homePage.additionalChildrenEnd }, `plugin_children_start_${i_1}`);\n}\nfunction _temp7(plugin_3) {\n  return plugin_3.homePage?.additionalChildrenEnd;\n}\nfunction _temp6$1(plugin_2, i_0) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: plugin_2.homePage.additionalChildrenStart }, `plugin_children_start_${i_0}`);\n}\nfunction _temp5$1(plugin_1) {\n  return plugin_1.homePage?.additionalChildrenStart;\n}\nfunction _temp4$1(plugin) {\n  return plugin.homePage?.includeSection;\n}\nfunction _temp3$2(e_1) {\n  return !e_1.group;\n}\nfunction _temp2$5(entry) {\n  return entry.group;\n}\nfunction _temp$b(e_0) {\n  return e_0.item.url;\n}\nfunction EntityCollectionViewActions(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(41);\n  const {\n    collection,\n    relativePath,\n    parentCollectionIds,\n    onNewClick,\n    onMultipleDeleteClick,\n    selectionEnabled,\n    path,\n    selectionController,\n    tableController,\n    collectionEntitiesCount\n  } = t0;\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.plugins) {\n    t1 = customizationController.plugins ?? [];\n    $[0] = customizationController.plugins;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const plugins = t1;\n  const authController = useAuthController();\n  const largeLayout = useLargeLayout();\n  const selectedEntities = selectionController.selectedEntities;\n  let t2;\n  if ($[2] !== authController || $[3] !== collection || $[4] !== largeLayout || $[5] !== onNewClick || $[6] !== path) {\n    t2 = canCreateEntity(collection, authController, path, null) && onNewClick && (largeLayout ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { id: `add_entity_${path}`, onClick: onNewClick, startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}), variant: \"filled\", color: \"primary\", children: [\n      \"Add \",\n      collection.singularName ?? collection.name\n    ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { id: `add_entity_${path}`, onClick: onNewClick, variant: \"filled\", color: \"primary\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}) }));\n    $[2] = authController;\n    $[3] = collection;\n    $[4] = largeLayout;\n    $[5] = onNewClick;\n    $[6] = path;\n    $[7] = t2;\n  } else {\n    t2 = $[7];\n  }\n  const addButton = t2;\n  let t3;\n  if ($[8] !== authController || $[9] !== collection || $[10] !== path) {\n    t3 = canDeleteEntity(collection, authController, path, null);\n    $[8] = authController;\n    $[9] = collection;\n    $[10] = path;\n    $[11] = t3;\n  } else {\n    t3 = $[11];\n  }\n  const multipleDeleteEnabled = t3;\n  let multipleDeleteButton;\n  if (selectionEnabled) {\n    let t42;\n    if ($[12] !== largeLayout || $[13] !== multipleDeleteEnabled || $[14] !== onMultipleDeleteClick || $[15] !== selectedEntities?.length) {\n      t42 = largeLayout ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", disabled: !selectedEntities?.length || !multipleDeleteEnabled, startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DeleteIcon, {}), onClick: onMultipleDeleteClick, color: \"primary\", className: \"lg:w-20\", children: [\n        \"(\",\n        selectedEntities?.length,\n        \")\"\n      ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"primary\", disabled: !selectedEntities?.length || !multipleDeleteEnabled, onClick: onMultipleDeleteClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DeleteIcon, {}) });\n      $[12] = largeLayout;\n      $[13] = multipleDeleteEnabled;\n      $[14] = onMultipleDeleteClick;\n      $[15] = selectedEntities?.length;\n      $[16] = t42;\n    } else {\n      t42 = $[16];\n    }\n    const button = t42;\n    const t52 = multipleDeleteEnabled ? \"Delete\" : \"You have selected at least one entity you cannot delete\";\n    let t62;\n    if ($[17] !== button || $[18] !== t52) {\n      t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: t52, children: button });\n      $[17] = button;\n      $[18] = t52;\n      $[19] = t62;\n    } else {\n      t62 = $[19];\n    }\n    multipleDeleteButton = t62;\n  }\n  let t4;\n  if ($[20] !== collection || $[21] !== collectionEntitiesCount || $[22] !== context || $[23] !== parentCollectionIds || $[24] !== path || $[25] !== relativePath || $[26] !== selectionController || $[27] !== tableController) {\n    t4 = {\n      path,\n      relativePath,\n      parentCollectionIds,\n      collection,\n      selectionController,\n      context,\n      tableController,\n      collectionEntitiesCount\n    };\n    $[20] = collection;\n    $[21] = collectionEntitiesCount;\n    $[22] = context;\n    $[23] = parentCollectionIds;\n    $[24] = path;\n    $[25] = relativePath;\n    $[26] = selectionController;\n    $[27] = tableController;\n    $[28] = t4;\n  } else {\n    t4 = $[28];\n  }\n  const actionProps = t4;\n  let actions;\n  if ($[29] !== actionProps || $[30] !== collection.Actions || $[31] !== plugins) {\n    let t52;\n    if ($[33] !== actionProps) {\n      t52 = (Action, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Action, { ...actionProps }) }, `actions_${i}`);\n      $[33] = actionProps;\n      $[34] = t52;\n    } else {\n      t52 = $[34];\n    }\n    actions = toArray(collection.Actions).map(t52);\n    if (plugins) {\n      plugins.forEach((plugin, i_0) => {\n        if (plugin.collectionView?.CollectionActions) {\n          actions.push(...toArray(plugin.collectionView?.CollectionActions).map((Action_0, j) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Action_0, { ...actionProps, ...plugin.collectionView?.collectionActionsProps }) }, `plugin_actions_${i_0}_${j}`)));\n        }\n      });\n    }\n    $[29] = actionProps;\n    $[30] = collection.Actions;\n    $[31] = plugins;\n    $[32] = actions;\n  } else {\n    actions = $[32];\n  }\n  let t5;\n  if ($[35] !== actions) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: actions });\n    $[35] = actions;\n    $[36] = t5;\n  } else {\n    t5 = $[36];\n  }\n  let t6;\n  if ($[37] !== addButton || $[38] !== multipleDeleteButton || $[39] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t5,\n      multipleDeleteButton,\n      addButton\n    ] });\n    $[37] = addButton;\n    $[38] = multipleDeleteButton;\n    $[39] = t5;\n    $[40] = t6;\n  } else {\n    t6 = $[40];\n  }\n  return t6;\n}\nfunction useDraggable({\n  containerRef,\n  innerRef,\n  x,\n  y,\n  onMove\n}) {\n  let relX = 0;\n  let relY = 0;\n  const listeningRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  const onMouseDown = (event) => {\n    if (event.button !== 0 || !containerRef.current || event.defaultPrevented || event.innerClicked) {\n      return;\n    }\n    const {\n      x: x_0,\n      y: y_0\n    } = containerRef.current.getBoundingClientRect();\n    relX = event.screenX - x_0;\n    relY = event.screenY - y_0;\n    document.addEventListener(\"mousemove\", onMouseMove);\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"selectstart\", onSelect);\n    listeningRef.current = true;\n  };\n  const onMouseDownInner = (event_0) => {\n    event_0.innerClicked = true;\n  };\n  const onSelect = (event_1) => {\n    event_1.preventDefault();\n    event_1.stopPropagation();\n  };\n  const onMouseUp = (event_2) => {\n    document.removeEventListener(\"mousemove\", onMouseMove);\n    document.removeEventListener(\"mouseup\", onMouseUp);\n    document.removeEventListener(\"selectstart\", onSelect);\n    event_2.stopPropagation();\n    listeningRef.current = false;\n  };\n  const onMouseMove = (event_3) => {\n    if (event_3.target.localName === \"input\" || !listeningRef.current) return;\n    onMove({\n      x: event_3.screenX - relX,\n      y: event_3.screenY - relY\n    });\n    event_3.stopPropagation();\n  };\n  const update = () => {\n    if (containerRef.current) {\n      containerRef.current.style.top = `${y}px`;\n      containerRef.current.style.left = `${x}px`;\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const current = containerRef.current;\n    const innerCurrent = innerRef.current;\n    if (!current || !innerCurrent) return;\n    if (innerCurrent) innerCurrent.addEventListener(\"mousedown\", onMouseDownInner);\n    if (current) current.addEventListener(\"mousedown\", onMouseDown);\n    update();\n    return () => {\n      if (current) current.removeEventListener(\"mousedown\", onMouseDown);\n      if (innerCurrent) innerCurrent.removeEventListener(\"mousedown\", onMouseDownInner);\n    };\n  });\n}\nfunction useWindowSize() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3);\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = {\n      width: 0,\n      height: 0\n    };\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  const [size, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t0);\n  let t1;\n  let t2;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = () => {\n      const updateSize = function updateSize2() {\n        setSize({\n          width: window.innerWidth,\n          height: window.innerHeight\n        });\n      };\n      window.addEventListener(\"resize\", updateSize);\n      updateSize();\n      return () => window.removeEventListener(\"resize\", updateSize);\n    };\n    t2 = [];\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t1 = $[1];\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(t1, t2);\n  return size;\n}\nconst ElementResizeListener = ({\n  onResize\n}) => {\n  const rafRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  const objectRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const onResizeRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(onResize);\n  onResizeRef.current = onResize;\n  const _onResize = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e) => {\n    if (rafRef.current) {\n      cancelAnimationFrame(rafRef.current);\n    }\n    rafRef.current = requestAnimationFrame(() => {\n      onResizeRef.current(e);\n    });\n  }, []);\n  const onLoad = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    const obj = objectRef.current;\n    if (obj && obj.contentDocument && obj.contentDocument.defaultView) {\n      obj.contentDocument.defaultView.addEventListener(\"resize\", _onResize);\n    }\n  }, [_onResize]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const obj_0 = objectRef.current;\n    return () => {\n      if (obj_0 && obj_0.contentDocument && obj_0.contentDocument.defaultView) {\n        obj_0.contentDocument.defaultView.removeEventListener(\"resize\", _onResize);\n      }\n    };\n  }, [_onResize]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"object\", { onLoad, ref: objectRef, tabIndex: -1, type: \"text/html\", data: \"about:blank\", title: \"\", style: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    height: \"100%\",\n    width: \"100%\",\n    pointerEvents: \"none\",\n    zIndex: -1,\n    opacity: 0\n  } });\n};\nfunction PopupFormField(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2);\n  if (!props.open) {\n    return null;\n  }\n  let t0;\n  if ($[0] !== props) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopupFormFieldLoading, { ...props });\n    $[0] = props;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  return t0;\n}\nfunction PopupFormFieldLoading(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(23);\n  const {\n    tableKey,\n    entityId,\n    customFieldValidator,\n    propertyKey,\n    collection: inputCollection,\n    path,\n    cellRect,\n    open,\n    onClose,\n    onCellValueChange,\n    container\n  } = t0;\n  const dataSource = useDataSource();\n  const [entity, setEntity] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  let t1;\n  if ($[0] !== dataSource || $[1] !== entityId || $[2] !== inputCollection || $[3] !== path) {\n    t1 = () => {\n      if (entityId && inputCollection) {\n        dataSource.fetchEntity({\n          path,\n          entityId,\n          collection: inputCollection\n        }).then(setEntity);\n      }\n    };\n    $[0] = dataSource;\n    $[1] = entityId;\n    $[2] = inputCollection;\n    $[3] = path;\n    $[4] = t1;\n  } else {\n    t1 = $[4];\n  }\n  let t2;\n  if ($[5] !== entityId || $[6] !== inputCollection) {\n    t2 = [entityId, inputCollection];\n    $[5] = entityId;\n    $[6] = inputCollection;\n    $[7] = t2;\n  } else {\n    t2 = $[7];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  if (!entity) {\n    return null;\n  }\n  let t3;\n  if ($[8] !== cellRect || $[9] !== container || $[10] !== customFieldValidator || $[11] !== entityId || $[12] !== inputCollection || $[13] !== onCellValueChange || $[14] !== onClose || $[15] !== open || $[16] !== path || $[17] !== propertyKey || $[18] !== tableKey) {\n    t3 = {\n      tableKey,\n      entityId,\n      customFieldValidator,\n      propertyKey,\n      collection: inputCollection,\n      path,\n      cellRect,\n      open,\n      onClose,\n      onCellValueChange,\n      container\n    };\n    $[8] = cellRect;\n    $[9] = container;\n    $[10] = customFieldValidator;\n    $[11] = entityId;\n    $[12] = inputCollection;\n    $[13] = onCellValueChange;\n    $[14] = onClose;\n    $[15] = open;\n    $[16] = path;\n    $[17] = propertyKey;\n    $[18] = tableKey;\n    $[19] = t3;\n  } else {\n    t3 = $[19];\n  }\n  let t4;\n  if ($[20] !== entity || $[21] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopupFormFieldInternal, { ...t3, entity });\n    $[20] = entity;\n    $[21] = t3;\n    $[22] = t4;\n  } else {\n    t4 = $[22];\n  }\n  return t4;\n}\nfunction PopupFormFieldInternal({\n  tableKey,\n  entityId,\n  customFieldValidator,\n  propertyKey,\n  collection: inputCollection,\n  path,\n  cellRect,\n  open,\n  onClose,\n  onCellValueChange,\n  container,\n  entity\n}) {\n  const fireCMSContext = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  const [savingError, setSavingError] = react__WEBPACK_IMPORTED_MODULE_2__.useState();\n  const [popupLocation, setPopupLocation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const collection = inputCollection ? resolveCollection({\n    collection: inputCollection,\n    path,\n    values: entity?.values,\n    entityId,\n    propertyConfigs: customizationController.propertyConfigs\n  }) : void 0;\n  const windowSize = useWindowSize();\n  const draggableRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const innerRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const initialPositionSet = react__WEBPACK_IMPORTED_MODULE_2__.useRef(false);\n  const getInitialLocation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (!cellRect) throw Error(\"getInitialLocation error\");\n    return {\n      x: cellRect.left < windowSize.width - cellRect.right ? cellRect.x + cellRect.width / 2 : cellRect.x - cellRect.width / 2,\n      y: cellRect.top < windowSize.height - cellRect.bottom ? cellRect.y + cellRect.height / 2 : cellRect.y - cellRect.height / 2\n    };\n  }, [cellRect, windowSize.height, windowSize.width]);\n  const normalizePosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    x,\n    y\n  }) => {\n    const draggableBoundingRect = draggableRef.current?.getBoundingClientRect();\n    if (!draggableBoundingRect) throw Error(\"normalizePosition called before draggableBoundingRect is set\");\n    return {\n      x: Math.max(0, Math.min(x, windowSize.width - draggableBoundingRect.width)),\n      y: Math.max(0, Math.min(y, windowSize.height - draggableBoundingRect.height))\n    };\n  }, [windowSize]);\n  const updatePopupLocation = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((position) => {\n    const draggableBoundingRect_0 = draggableRef.current?.getBoundingClientRect();\n    if (!cellRect || !draggableBoundingRect_0) return;\n    const newPosition = position ?? normalizePosition(getInitialLocation());\n    if (!popupLocation || newPosition.x !== popupLocation.x || newPosition.y !== popupLocation.y) setPopupLocation(newPosition);\n  }, [cellRect, getInitialLocation, normalizePosition, popupLocation]);\n  useDraggable({\n    containerRef: draggableRef,\n    innerRef,\n    x: popupLocation?.x,\n    y: popupLocation?.y,\n    onMove: updatePopupLocation\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    initialPositionSet.current = false;\n  }, [propertyKey, entity]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(() => {\n    const draggableBoundingRect_1 = draggableRef.current?.getBoundingClientRect();\n    if (!cellRect || !draggableBoundingRect_1 || initialPositionSet.current) return;\n    updatePopupLocation();\n    initialPositionSet.current = true;\n  }, [cellRect, updatePopupLocation, initialPositionSet.current]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(() => {\n    updatePopupLocation(popupLocation);\n  }, [windowSize, cellRect]);\n  const validationSchema = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (!collection || !entityId) return;\n    return getYupEntitySchema(entityId, propertyKey && collection.properties[propertyKey] ? {\n      [propertyKey]: collection.properties[propertyKey]\n    } : {}, customFieldValidator);\n  }, [collection, entityId, propertyKey, customFieldValidator]);\n  const adaptResize = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    return updatePopupLocation(popupLocation);\n  }, [popupLocation, updatePopupLocation]);\n  const saveValue = async (values) => {\n    setSavingError(null);\n    if (inputCollection && entity && onCellValueChange && propertyKey) {\n      return onCellValueChange({\n        value: values[propertyKey],\n        propertyKey,\n        data: entity,\n        setError: setSavingError,\n        onValueUpdated: () => {\n        }\n      });\n    }\n    return Promise.resolve();\n  };\n  const formex = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.useCreateFormex)({\n    initialValues: entity?.values ?? {},\n    validation: (values_0) => {\n      return validationSchema?.validate(values_0, {\n        abortEarly: false\n      }).then(() => ({})).catch(yupToFormErrors);\n    },\n    validateOnInitialRender: true,\n    onSubmit: (values_1, actions) => {\n      saveValue(values_1).then(() => {\n        formex.resetForm({\n          values: values_1\n        });\n        onClose();\n      }).finally(() => actions.setSubmitting(false));\n    }\n  });\n  const {\n    values: values_2,\n    isSubmitting,\n    setFieldValue,\n    handleSubmit\n  } = formex;\n  const disabled = isSubmitting;\n  const formContext = {\n    collection,\n    entityId,\n    values: values_2,\n    path,\n    setFieldValue,\n    save: saveValue,\n    formex,\n    status: \"existing\",\n    openEntityMode: \"side_panel\"\n  };\n  const property = propertyKey && getPropertyInPath(collection?.properties ?? {}, propertyKey);\n  const fieldProps = propertyKey && property ? {\n    propertyKey,\n    disabled: isSubmitting || isReadOnly(property) || !!property.disabled,\n    property,\n    includeDescription: false,\n    underlyingValueHasChanged: false,\n    context: formContext,\n    partOfArray: false,\n    minimalistView: false,\n    autoFocus: open\n  } : void 0;\n  let internalForm = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[700px] max-w-full max-h-[85vh]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", { onSubmit: handleSubmit, noValidate: true, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"mb-1 p-4 flex flex-col relative\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: innerRef, className: \"cursor-auto\", style: {\n      cursor: \"auto !important\"\n    }, children: fieldProps && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...fieldProps }) }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"filled\", color: \"primary\", type: \"submit\", disabled, children: \"Save\" }) })\n  ] }) }, `popup_form_${tableKey}_${entityId}_${propertyKey}`) });\n  const plugins = customizationController.plugins;\n  if (plugins) {\n    plugins.forEach((plugin) => {\n      if (plugin.form?.provider) {\n        internalForm = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(plugin.form.provider.Component, { status: \"existing\", path, collection, entity, context: fireCMSContext, currentEntityId: entityId, formContext, ...plugin.form.provider.props, children: internalForm });\n      }\n    });\n  }\n  const form = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: `text-surface-900 dark:text-white overflow-auto rounded rounded-md bg-white dark:bg-surface-950 ${!open ? \"hidden\" : \"\"} cursor-grab max-w-[100vw]`, children: [\n    internalForm,\n    savingError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"error\", children: savingError.message })\n  ] });\n  const draggable = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { style: {\n    boxShadow: \"0 0 0 2px rgba(128,128,128,0.2)\"\n  }, className: `inline-block fixed z-20 shadow-outline rounded-md bg-white dark:bg-surface-950 ${!open ? \"invisible\" : \"visible\"} cursor-grab overflow-visible`, ref: draggableRef, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ElementResizeListener, { onResize: adaptResize }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"overflow-hidden\", children: [\n      form,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"absolute -top-3.5 -right-3.5 bg-surface-500 rounded-full\", style: {\n        width: \"32px\",\n        height: \"32px\"\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", onClick: (event) => {\n        event.stopPropagation();\n        onClose();\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, { className: \"text-white\", size: \"small\" }) }) })\n    ] })\n  ] }, `draggable_${propertyKey}_${entityId}_${open}`);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_19__.Root, { asChild: true, container, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.Formex, { value: formex, children: draggable }) });\n}\nfunction ClearFilterSortButton(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    tableController,\n    enabled\n  } = t0;\n  if (!enabled) {\n    return null;\n  }\n  const filterIsSet = !!tableController.filterValues && Object.keys(tableController.filterValues).length > 0;\n  const sortIsSet = !!tableController.sortBy && tableController.sortBy.length > 0;\n  if ((filterIsSet || sortIsSet) && (tableController.clearFilter || tableController.setSortBy)) {\n    let label;\n    if (filterIsSet && sortIsSet) {\n      label = \"Clear filter and sort\";\n    } else {\n      if (filterIsSet) {\n        label = \"Clear filter\";\n      } else {\n        label = \"Clear sort\";\n      }\n    }\n    let t1;\n    if ($[0] !== tableController) {\n      t1 = () => {\n        tableController.clearFilter?.();\n        tableController.setSortBy?.(void 0);\n      };\n      $[0] = tableController;\n      $[1] = t1;\n    } else {\n      t1 = $[1];\n    }\n    let t2;\n    if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FilterListOffIcon, {});\n      $[2] = t2;\n    } else {\n      t2 = $[2];\n    }\n    let t3;\n    if ($[3] !== label || $[4] !== t1) {\n      t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"outlined\", className: \"h-fit-content\", \"aria-label\": \"filter clear\", onClick: t1, size: \"small\", children: [\n        t2,\n        label\n      ] });\n      $[3] = label;\n      $[4] = t1;\n      $[5] = t3;\n    } else {\n      t3 = $[5];\n    }\n    return t3;\n  }\n  return null;\n}\nfunction EntityCollectionViewStartActions(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);\n  const {\n    collection,\n    relativePath,\n    parentCollectionIds,\n    path,\n    selectionController,\n    tableController,\n    collectionEntitiesCount\n  } = t0;\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== customizationController.plugins) {\n    t1 = customizationController.plugins ?? [];\n    $[0] = customizationController.plugins;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const plugins = t1;\n  let t2;\n  if ($[2] !== collection || $[3] !== collectionEntitiesCount || $[4] !== context || $[5] !== parentCollectionIds || $[6] !== path || $[7] !== relativePath || $[8] !== selectionController || $[9] !== tableController) {\n    t2 = {\n      path,\n      relativePath,\n      parentCollectionIds,\n      collection,\n      selectionController,\n      context,\n      tableController,\n      collectionEntitiesCount\n    };\n    $[2] = collection;\n    $[3] = collectionEntitiesCount;\n    $[4] = context;\n    $[5] = parentCollectionIds;\n    $[6] = path;\n    $[7] = relativePath;\n    $[8] = selectionController;\n    $[9] = tableController;\n    $[10] = t2;\n  } else {\n    t2 = $[10];\n  }\n  const actionProps = t2;\n  const t3 = !collection.forceFilter;\n  let t4;\n  if ($[11] !== t3 || $[12] !== tableController) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ClearFilterSortButton, { tableController, enabled: t3 }, \"clear_filter\");\n    $[11] = t3;\n    $[12] = tableController;\n    $[13] = t4;\n  } else {\n    t4 = $[13];\n  }\n  let t5;\n  if ($[14] !== actionProps || $[15] !== plugins || $[16] !== t4) {\n    const actions = [t4];\n    if (plugins) {\n      plugins.forEach((plugin, i) => {\n        if (plugin.collectionView?.CollectionActionsStart) {\n          actions.push(...toArray(plugin.collectionView?.CollectionActionsStart).map((Action, j) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Action, { ...actionProps, ...plugin.collectionView?.collectionActionsStartProps }) }, `plugin_actions_${i}_${j}`)));\n        }\n      });\n    }\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: actions });\n    $[14] = actionProps;\n    $[15] = plugins;\n    $[16] = t4;\n    $[17] = t5;\n  } else {\n    t5 = $[17];\n  }\n  return t5;\n}\nconst collectionScrollCache = /* @__PURE__ */ new Map();\nfunction useScrollRestoration() {\n  const updateCollectionScroll = ({\n    fullPath,\n    filters,\n    scrollOffset,\n    data\n  }) => {\n    collectionScrollCache.set(createCacheKey(fullPath, filters), {\n      scrollOffset,\n      data\n    });\n  };\n  const getCollectionScroll = (fullPath, filters) => {\n    return collectionScrollCache.get(createCacheKey(fullPath, filters));\n  };\n  return {\n    getCollectionScroll,\n    updateCollectionScroll\n  };\n}\nfunction createCacheKey(fullPath, filters) {\n  if (!filters) {\n    return fullPath;\n  }\n  const filtersString = filters ? Object.keys(filters).map((key) => {\n    const value = JSON.stringify(filters[key]);\n    return `${key}=${value}`;\n  }).join(\"&\") : \"\";\n  return `${fullPath}?${filtersString}`;\n}\nconst DEFAULT_ENTITY_OPEN_MODE = \"side_panel\";\nconst EntityCollectionView = react__WEBPACK_IMPORTED_MODULE_2__.memo(function EntityCollectionView2({\n  fullPath: fullPathProp,\n  parentCollectionIds,\n  isSubCollection,\n  className,\n  updateUrl,\n  ...collectionProp\n}) {\n  const context = useFireCMSContext();\n  const fullPath = fullPathProp ?? collectionProp.path;\n  const dataSource = useDataSource();\n  const navigation = useNavigationController();\n  const sideEntityController = useSideEntityController();\n  const authController = useAuthController();\n  const userConfigPersistence = useUserConfigurationPersistence();\n  const analyticsController = useAnalyticsController();\n  const customizationController = useCustomizationController();\n  const containerRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  const scrollRestoration = useScrollRestoration();\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const userOverride = userConfigPersistence?.getCollectionConfig(fullPath);\n    return userOverride ? mergeDeep(collectionProp, userOverride) : collectionProp;\n  }, [collectionProp, fullPath, userConfigPersistence?.getCollectionConfig]);\n  const openEntityMode = collection?.openEntityMode ?? DEFAULT_ENTITY_OPEN_MODE;\n  const collectionRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(collection);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    collectionRef.current = collection;\n  }, [collection]);\n  const canCreateEntities = canCreateEntity(collection, authController, fullPath, null);\n  const [highlightedEntity, setHighlightedEntity] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const [deleteEntityClicked, setDeleteEntityClicked] = react__WEBPACK_IMPORTED_MODULE_2__.useState(void 0);\n  const [lastDeleteTimestamp, setLastDeleteTimestamp] = react__WEBPACK_IMPORTED_MODULE_2__.useState(0);\n  const [docsCount, setDocsCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n  const unselectNavigatedEntity = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    const currentSelection = highlightedEntity;\n    setTimeout(() => {\n      if (currentSelection === highlightedEntity) setHighlightedEntity(void 0);\n    }, 2400);\n  }, [highlightedEntity]);\n  const checkInlineEditing = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity) => {\n    const collection_0 = collectionRef.current;\n    if (!canEditEntity(collection_0, authController, fullPath, entity ?? null)) {\n      return false;\n    }\n    return collection_0.inlineEditing === void 0 || collection_0.inlineEditing;\n  }, [authController, fullPath]);\n  const selectionEnabled = collection.selectionEnabled === void 0 || collection.selectionEnabled;\n  const hoverRow = !checkInlineEditing();\n  const [popOverOpen, setPopOverOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const selectionController = useSelectionController();\n  const usedSelectionController = collection.selectionController ?? selectionController;\n  const {\n    selectedEntities,\n    setSelectedEntities\n  } = usedSelectionController;\n  const tableController = useDataSourceTableController({\n    fullPath,\n    collection,\n    lastDeleteTimestamp,\n    scrollRestoration,\n    updateUrl\n  });\n  const tableKey = react__WEBPACK_IMPORTED_MODULE_2__.useRef(Math.random().toString(36));\n  const popupCell = tableController.popupCell;\n  const onPopupClose = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    tableController.setPopupCell?.(void 0);\n  }, [tableController.setPopupCell]);\n  const onEntityClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((clickedEntity) => {\n    const collection_1 = collectionRef.current;\n    setHighlightedEntity(clickedEntity);\n    analyticsController.onAnalyticsEvent?.(\"edit_entity_clicked\", {\n      path: clickedEntity.path,\n      entityId: clickedEntity.id\n    });\n    if (collection_1) {\n      addRecentId(collection_1.id, clickedEntity.id);\n    }\n    const path = collection_1?.collectionGroup ? clickedEntity.path : fullPath ?? clickedEntity.path;\n    navigateToEntity({\n      navigation,\n      path,\n      sideEntityController,\n      openEntityMode,\n      collection: collection_1,\n      entityId: clickedEntity.id\n    });\n  }, [unselectNavigatedEntity, sideEntityController]);\n  const onNewClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    const collection_2 = collectionRef.current;\n    analyticsController.onAnalyticsEvent?.(\"new_entity_click\", {\n      path: fullPath\n    });\n    navigateToEntity({\n      openEntityMode,\n      collection: collection_2,\n      entityId: void 0,\n      path: fullPath,\n      sideEntityController,\n      navigation,\n      onClose: unselectNavigatedEntity\n    });\n  }, [fullPath, sideEntityController]);\n  const onMultipleDeleteClick = () => {\n    analyticsController.onAnalyticsEvent?.(\"multiple_delete_dialog_open\", {\n      path: fullPath\n    });\n    setDeleteEntityClicked(selectedEntities);\n  };\n  const internalOnEntityDelete = (_path, entity_0) => {\n    analyticsController.onAnalyticsEvent?.(\"single_entity_deleted\", {\n      path: fullPath\n    });\n    setSelectedEntities((selectedEntities_0) => selectedEntities_0.filter((e) => e.id !== entity_0.id));\n    setLastDeleteTimestamp(Date.now());\n  };\n  const internalOnMultipleEntitiesDelete = (_path_0, entities) => {\n    analyticsController.onAnalyticsEvent?.(\"multiple_entities_deleted\", {\n      path: fullPath\n    });\n    setSelectedEntities([]);\n    setDeleteEntityClicked(void 0);\n    setLastDeleteTimestamp(Date.now());\n  };\n  let AddColumnComponent;\n  if (customizationController?.plugins) {\n    AddColumnComponent = customizationController.plugins.find((plugin) => plugin.collectionView?.AddColumnComponent)?.collectionView?.AddColumnComponent;\n  }\n  const onCollectionModifiedForUser = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_0, partialCollection) => {\n    if (userConfigPersistence) {\n      const currentStoredConfig = userConfigPersistence.getCollectionConfig(path_0);\n      const updatedConfig = mergeDeep(currentStoredConfig, partialCollection);\n      userConfigPersistence.onCollectionModified(path_0, updatedConfig);\n    }\n  }, [userConfigPersistence]);\n  const onColumnResize = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    width,\n    key\n  }) => {\n    const collection_3 = collectionRef.current;\n    if (!getPropertyInPath(collection_3.properties, key)) return;\n    const localCollection = buildPropertyWidthOverwrite(key, width);\n    onCollectionModifiedForUser(fullPath, localCollection);\n  }, [onCollectionModifiedForUser, fullPath]);\n  const onSizeChanged = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((size) => {\n    if (userConfigPersistence) onCollectionModifiedForUser(fullPath, {\n      defaultSize: size\n    });\n  }, [onCollectionModifiedForUser, fullPath, userConfigPersistence]);\n  const createEnabled = canCreateEntity(collection, authController, fullPath, null);\n  const uniqueFieldValidator = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    name,\n    value,\n    property,\n    entityId\n  }) => dataSource.checkUniqueField(fullPath, name, value, entityId, collection), [fullPath]);\n  const onValueChange = ({\n    value: value_0,\n    propertyKey,\n    onValueUpdated,\n    setError,\n    data: entity_1\n  }) => {\n    const updatedValues = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.setIn)({\n      ...entity_1.values\n    }, propertyKey, value_0);\n    const saveProps = {\n      path: entity_1.path ?? fullPath,\n      entityId: entity_1.id,\n      values: updatedValues,\n      previousValues: entity_1.values,\n      collection,\n      status: \"existing\"\n    };\n    return saveEntityWithCallbacks({\n      ...saveProps,\n      collection,\n      dataSource,\n      context,\n      onSaveSuccess: () => {\n        setError(void 0);\n        onValueUpdated();\n      },\n      onSaveFailure: (e_0) => {\n        console.error(\"Save failure\");\n        console.error(e_0);\n        setError(e_0);\n      }\n    });\n  };\n  const resolvedFullPath = navigation.resolveIdsFrom(fullPath);\n  const resolvedCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveCollection({\n    collection,\n    path: fullPath,\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection, fullPath]);\n  const getPropertyFor = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    propertyKey: propertyKey_0,\n    entity: entity_2\n  }) => {\n    let propertyOrBuilder = getPropertyInPath(collection.properties, propertyKey_0);\n    if (!propertyOrBuilder) {\n      propertyOrBuilder = getPropertyInPath(resolvedCollection.properties, propertyKey_0);\n    }\n    return resolveProperty({\n      propertyKey: propertyKey_0,\n      propertyOrBuilder,\n      path: entity_2.path,\n      values: entity_2.values,\n      entityId: entity_2.id,\n      propertyConfigs: customizationController.propertyConfigs\n    });\n  }, [collection.properties, customizationController.propertyConfigs, resolvedCollection.properties]);\n  const displayedColumnIds = useColumnIds(resolvedCollection, true);\n  const additionalFields = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const subcollectionColumns = collection.subcollections?.map((subcollection) => {\n      return {\n        key: getSubcollectionColumnId(subcollection),\n        name: subcollection.name,\n        width: 200,\n        dependencies: [],\n        Builder: ({\n          entity: entity_3\n        }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { color: \"primary\", variant: \"outlined\", startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.KeyboardTabIcon, { size: \"small\" }), onClick: (event) => {\n          event.stopPropagation();\n          navigateToEntity({\n            openEntityMode,\n            collection,\n            entityId: entity_3.id,\n            selectedTab: subcollection.id ?? subcollection.path,\n            path: fullPath,\n            navigation,\n            sideEntityController\n          });\n        }, children: subcollection.name })\n      };\n    }) ?? [];\n    const collectionGroupParentCollections = collection.collectionGroup ? [{\n      key: COLLECTION_GROUP_PARENT_ID,\n      name: \"Parent entities\",\n      width: 260,\n      dependencies: [],\n      Builder: ({\n        entity: entity_4\n      }) => {\n        const collectionsWithPath = navigation.getParentReferencesFromPath(entity_4.path);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2 w-full\", children: collectionsWithPath.map((reference) => {\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { reference, size: \"small\" }, reference.path + \"/\" + reference.id);\n        }) });\n      }\n    }] : [];\n    return [...collection.additionalFields ?? [], ...subcollectionColumns, ...collectionGroupParentCollections];\n  }, [collection, fullPath, sideEntityController]);\n  const updateLastDeleteTimestamp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setLastDeleteTimestamp(Date.now());\n  }, []);\n  const largeLayout = useLargeLayout();\n  const getActionsForEntity = ({\n    entity: entity_5,\n    customEntityActions\n  }) => {\n    const deleteEnabled = entity_5 ? canDeleteEntity(collection, authController, fullPath, entity_5) : true;\n    const actions = [editEntityAction];\n    if (createEnabled) actions.push(copyEntityAction);\n    if (deleteEnabled) actions.push(deleteEntityAction);\n    if (customEntityActions) return mergeEntityActions(actions, customEntityActions);\n    return actions;\n  };\n  const getIdColumnWidth = () => {\n    const entityActions = getActionsForEntity({});\n    const collapsedActions = entityActions.filter((a) => a.collapsed !== false);\n    const uncollapsedActions = entityActions.filter((a_0) => a_0.collapsed === false);\n    const actionsWidth = uncollapsedActions.length * (largeLayout ? 40 : 30);\n    return (largeLayout ? 80 + actionsWidth : 70 + actionsWidth) + (collapsedActions.length > 0 ? largeLayout ? 40 : 30 : 0);\n  };\n  const tableRowActionsBuilder = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    entity: entity_6,\n    size: size_0,\n    width: width_0,\n    frozen\n  }) => {\n    const isSelected = Boolean(usedSelectionController.selectedEntities.find((e_1) => e_1.id == entity_6.id && e_1.path == entity_6.path));\n    const actions_0 = getActionsForEntity({\n      entity: entity_6,\n      customEntityActions: collection.entityActions\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionRowActions, { entity: entity_6, width: width_0, frozen, isSelected, selectionEnabled, size: size_0, highlightEntity: setHighlightedEntity, unhighlightEntity: unselectNavigatedEntity, collection, fullPath, actions: actions_0, hideId: collection?.hideIdFromCollection, onCollectionChange: updateLastDeleteTimestamp, selectionController: usedSelectionController, openEntityMode });\n  }, [updateLastDeleteTimestamp, usedSelectionController]);\n  const title = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Popover, { open: popOverOpen, onOpenChange: setPopOverOpen, enabled: Boolean(collection.description), trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col items-start\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"subtitle1\", className: `leading-none truncate max-w-[160px] lg:max-w-[240px] ${collection.description ? \"cursor-pointer\" : \"cursor-auto\"}`, onClick: collection.description ? (e_2) => {\n      setPopOverOpen(true);\n      e_2.stopPropagation();\n    } : void 0, children: `${collection.name}` }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntitiesCount, { fullPath, collection, filter: tableController.filterValues, sortBy: tableController.sortBy, onCountChange: setDocsCount })\n  ] }), children: collection.description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"m-4 text-surface-900 dark:text-white\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Markdown, { source: collection.description }) }) });\n  const buildAdditionalHeaderWidget = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    property: property_0,\n    propertyKey: propertyKey_1,\n    onHover\n  }) => {\n    const collection_4 = collectionRef.current;\n    if (!customizationController.plugins) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: customizationController.plugins.filter((plugin_0) => plugin_0.collectionView?.HeaderAction).map((plugin_1, i) => {\n      const HeaderAction = plugin_1.collectionView.HeaderAction;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(HeaderAction, { onHover, propertyKey: propertyKey_1, property: property_0, fullPath, collection: collection_4, tableController, parentCollectionIds: parentCollectionIds ?? [] }, `plugin_header_action_${i}`);\n    }) });\n  }, [customizationController.plugins, fullPath, parentCollectionIds]);\n  const addColumnComponentInternal = AddColumnComponent ? function() {\n    if (typeof AddColumnComponent === \"function\") return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AddColumnComponent, { fullPath, parentCollectionIds: parentCollectionIds ?? [], collection, tableController });\n    return null;\n  } : void 0;\n  const {\n    textSearchLoading,\n    textSearchInitialised,\n    onTextSearchClick,\n    textSearchEnabled\n  } = useTableSearchHelper({\n    collection,\n    fullPath: resolvedFullPath,\n    parentCollectionIds\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"overflow-hidden h-full w-full rounded-md\", className), ref: containerRef, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionTable, { additionalFields, tableController, enablePopupIcon: true, displayedColumnIds, onSizeChanged, onEntityClick, onColumnResize, onValueChange, tableRowActionsBuilder, uniqueFieldValidator, title, selectionController: usedSelectionController, highlightedEntities: highlightedEntity ? [highlightedEntity] : [], defaultSize: collection.defaultSize, properties: resolvedCollection.properties, getPropertyFor, onTextSearchClick: textSearchInitialised ? void 0 : onTextSearchClick, onScroll: tableController.onScroll, initialScroll: tableController.initialScroll, textSearchLoading, textSearchEnabled, actionsStart: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionViewStartActions, { parentCollectionIds: parentCollectionIds ?? [], collection, tableController, path: fullPath, relativePath: collection.path, selectionController: usedSelectionController, collectionEntitiesCount: docsCount }), actions: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionViewActions, { parentCollectionIds: parentCollectionIds ?? [], collection, tableController, onMultipleDeleteClick, onNewClick, path: fullPath, relativePath: collection.path, selectionController: usedSelectionController, selectionEnabled, collectionEntitiesCount: docsCount }), emptyComponent: canCreateEntities && tableController.filterValues === void 0 && tableController.sortBy === void 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col items-center justify-center\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"subtitle2\", children: \"So empty...\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { color: \"primary\", variant: \"outlined\", onClick: onNewClick, className: \"mt-4\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}),\n        \"Create your first entity\"\n      ] })\n    ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"label\", children: \"No results with the applied filter/sort\" }), hoverRow, inlineEditing: checkInlineEditing(), AdditionalHeaderWidget: buildAdditionalHeaderWidget, AddColumnComponent: addColumnComponentInternal, getIdColumnWidth, additionalIDHeaderWidget: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityIdHeaderWidget, { path: fullPath, collection }), openEntityMode }, `collection_table_${fullPath}`),\n    popupCell && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopupFormField, { open: Boolean(popupCell), onClose: onPopupClose, cellRect: popupCell?.cellRect, propertyKey: popupCell?.propertyKey, collection, entityId: popupCell.entityId, tableKey: tableKey.current, customFieldValidator: uniqueFieldValidator, path: resolvedFullPath, onCellValueChange: onValueChange, container: containerRef.current }, `popup_form_${popupCell?.propertyKey}_${popupCell?.entityId}`),\n    deleteEntityClicked && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DeleteEntityDialog, { entityOrEntitiesToDelete: deleteEntityClicked, path: fullPath, collection, callbacks: collection.callbacks, open: Boolean(deleteEntityClicked), onEntityDelete: internalOnEntityDelete, onMultipleEntitiesDelete: internalOnMultipleEntitiesDelete, onClose: () => setDeleteEntityClicked(void 0) })\n  ] });\n}, (a, b) => {\n  return react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.path, b.path) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.parentCollectionIds, b.parentCollectionIds) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.isSubCollection, b.isSubCollection) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.className, b.className) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.properties, b.properties) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.propertiesOrder, b.propertiesOrder) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.hideIdFromCollection, b.hideIdFromCollection) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.inlineEditing, b.inlineEditing) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.selectionEnabled, b.selectionEnabled) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.selectionController, b.selectionController) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.Actions, b.Actions) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.defaultSize, b.defaultSize) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.initialFilter, b.initialFilter) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.initialSort, b.initialSort) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.textSearchEnabled, b.textSearchEnabled) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.additionalFields, b.additionalFields) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.sideDialogWidth, b.sideDialogWidth) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.openEntityMode, b.openEntityMode) && react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.forceFilter, b.forceFilter);\n});\nfunction EntitiesCount({\n  fullPath,\n  collection,\n  filter,\n  sortBy,\n  onCountChange\n}) {\n  const dataSource = useDataSource();\n  const navigation = useNavigationController();\n  const [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const sortByProperty = sortBy ? sortBy[0] : void 0;\n  const currentSort = sortBy ? sortBy[1] : void 0;\n  const resolvedPath = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => navigation.resolveIdsFrom(fullPath), [fullPath, navigation.resolveIdsFrom]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (dataSource.countEntities) dataSource.countEntities({\n      path: resolvedPath,\n      collection,\n      filter,\n      orderBy: sortByProperty,\n      order: currentSort\n    }).then(setCount).catch(setError);\n  }, [fullPath, dataSource.countEntities, resolvedPath, collection, filter, sortByProperty, currentSort]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (onCountChange) {\n      setError(void 0);\n      onCountChange(count ?? 0);\n    }\n  }, [onCountChange, count]);\n  if (error) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { className: \"w-full text-ellipsis block overflow-hidden whitespace-nowrap max-w-xs text-left w-fit-content\", variant: \"caption\", color: \"secondary\", children: count !== void 0 ? `${count} entities` : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { className: \"w-full max-w-[80px] mt-1\" }) });\n}\nfunction buildPropertyWidthOverwrite(key, width) {\n  if (key.includes(\".\")) {\n    const [parentKey, ...childKey] = key.split(\".\");\n    return {\n      properties: {\n        [parentKey]: buildPropertyWidthOverwrite(childKey.join(\".\"), width)\n      }\n    };\n  }\n  return {\n    properties: {\n      [key]: {\n        columnWidth: width\n      }\n    }\n  };\n}\nfunction EntityIdHeaderWidget(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(40);\n  const {\n    collection,\n    path\n  } = t0;\n  const navigation = useNavigationController();\n  const [openPopup, setOpenPopup] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  const [searchString, setSearchString] = react__WEBPACK_IMPORTED_MODULE_2__.useState(\"\");\n  let t1;\n  if ($[0] !== collection.id) {\n    t1 = getRecentIds(collection.id);\n    $[0] = collection.id;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const [recentIds, setRecentIds] = react__WEBPACK_IMPORTED_MODULE_2__.useState(t1);\n  const sideEntityController = useSideEntityController();\n  const openEntityMode = collection?.openEntityMode ?? DEFAULT_ENTITY_OPEN_MODE;\n  const t2 = !openPopup ? \"Find by ID\" : void 0;\n  let t3;\n  let t4;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SearchIcon, { size: \"small\" }) });\n    t4 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"my-2 rounded-lg bg-surface-50 dark:bg-surface-950 text-surface-900 dark:text-white\");\n    $[2] = t3;\n    $[3] = t4;\n  } else {\n    t3 = $[2];\n    t4 = $[3];\n  }\n  let t5;\n  if ($[4] !== collection || $[5] !== navigation || $[6] !== openEntityMode || $[7] !== path || $[8] !== searchString || $[9] !== sideEntityController) {\n    t5 = (e) => {\n      e.preventDefault();\n      if (!searchString) {\n        return;\n      }\n      setOpenPopup(false);\n      const entityId = searchString.trim();\n      setRecentIds(addRecentId(collection.id, entityId));\n      navigateToEntity({\n        openEntityMode,\n        collection,\n        entityId,\n        path,\n        sideEntityController,\n        navigation\n      });\n    };\n    $[4] = collection;\n    $[5] = navigation;\n    $[6] = openEntityMode;\n    $[7] = path;\n    $[8] = searchString;\n    $[9] = sideEntityController;\n    $[10] = t5;\n  } else {\n    t5 = $[10];\n  }\n  let t6;\n  if ($[11] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t6 = (e_0) => {\n      setSearchString(e_0.target.value);\n    };\n    $[11] = t6;\n  } else {\n    t6 = $[11];\n  }\n  let t7;\n  if ($[12] !== openPopup || $[13] !== searchString) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", { autoFocus: openPopup, placeholder: \"Find entity by ID\", onChange: t6, value: searchString, className: \"rounded-lg bg-white dark:bg-surface-800 flex-grow bg-transparent outline-none p-2 \" + _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.focusedDisabled });\n    $[12] = openPopup;\n    $[13] = searchString;\n    $[14] = t7;\n  } else {\n    t7 = $[14];\n  }\n  const t8 = !searchString.trim();\n  let t9;\n  if ($[15] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.KeyboardTabIcon, {});\n    $[15] = t9;\n  } else {\n    t9 = $[15];\n  }\n  let t10;\n  if ($[16] !== t8) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", disabled: t8, type: \"submit\", children: t9 });\n    $[16] = t8;\n    $[17] = t10;\n  } else {\n    t10 = $[17];\n  }\n  let t11;\n  if ($[18] !== t10 || $[19] !== t7) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex p-2 w-full gap-2\", children: [\n      t7,\n      t10\n    ] });\n    $[18] = t10;\n    $[19] = t7;\n    $[20] = t11;\n  } else {\n    t11 = $[20];\n  }\n  let t12;\n  if ($[21] !== t11 || $[22] !== t5) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"form\", { noValidate: true, onSubmit: t5, className: \"w-96 max-w-full\", children: t11 });\n    $[21] = t11;\n    $[22] = t5;\n    $[23] = t12;\n  } else {\n    t12 = $[23];\n  }\n  let t13;\n  if ($[24] !== collection || $[25] !== navigation || $[26] !== openEntityMode || $[27] !== path || $[28] !== recentIds || $[29] !== sideEntityController) {\n    t13 = recentIds && recentIds.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-2 p-2\", children: recentIds.map((id) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { reference: new EntityReference(id, path), hover: true, onClick: () => {\n      setOpenPopup(false);\n      navigateToEntity({\n        openEntityMode,\n        collection,\n        entityId: id,\n        path,\n        sideEntityController,\n        navigation\n      });\n    }, includeEntityLink: false, size: \"small\" }, id)) });\n    $[24] = collection;\n    $[25] = navigation;\n    $[26] = openEntityMode;\n    $[27] = path;\n    $[28] = recentIds;\n    $[29] = sideEntityController;\n    $[30] = t13;\n  } else {\n    t13 = $[30];\n  }\n  let t14;\n  if ($[31] !== t12 || $[32] !== t13) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t4, children: [\n      t12,\n      t13\n    ] });\n    $[31] = t12;\n    $[32] = t13;\n    $[33] = t14;\n  } else {\n    t14 = $[33];\n  }\n  let t15;\n  if ($[34] !== openPopup || $[35] !== t14) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Popover, { open: openPopup, onOpenChange: setOpenPopup, sideOffset: 0, align: \"start\", alignOffset: -117, trigger: t3, children: t14 });\n    $[34] = openPopup;\n    $[35] = t14;\n    $[36] = t15;\n  } else {\n    t15 = $[36];\n  }\n  let t16;\n  if ($[37] !== t15 || $[38] !== t2) {\n    t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: t2, asChild: false, children: t15 });\n    $[37] = t15;\n    $[38] = t2;\n    $[39] = t16;\n  } else {\n    t16 = $[39];\n  }\n  return t16;\n}\nfunction PropertyConfigBadge(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    propertyConfig,\n    disabled\n  } = t0;\n  const classes = \"h-8 w-8 p-1 rounded-full shadow text-white \" + (disabled ? \"bg-surface-400 dark:bg-surface-600\" : \"\");\n  let t1;\n  if ($[0] !== classes || $[1] !== disabled || $[2] !== propertyConfig) {\n    const defaultPropertyConfig = typeof propertyConfig?.property === \"object\" ? getDefaultFieldConfig(propertyConfig.property) : void 0;\n    const t2 = !disabled ? propertyConfig?.color ?? defaultPropertyConfig?.color ?? \"#888\" : void 0;\n    let t3;\n    if ($[4] !== t2) {\n      t3 = {\n        background: t2\n      };\n      $[4] = t2;\n      $[5] = t3;\n    } else {\n      t3 = $[5];\n    }\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: classes, style: t3, children: propertyConfig?.Icon ? getIconForWidget(propertyConfig, \"medium\") : getIconForWidget(defaultPropertyConfig, \"medium\") });\n    $[0] = classes;\n    $[1] = disabled;\n    $[2] = propertyConfig;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  return t1;\n}\nfunction PropertyIdCopyTooltip(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    propertyKey,\n    className,\n    children\n  } = t0;\n  let t1;\n  if ($[0] !== propertyKey) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltipContent, { propertyKey });\n    $[0] = propertyKey;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] !== children || $[3] !== className || $[4] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: t1, delayDuration: 800, side: \"top\", align: \"start\", sideOffset: 8, className, children });\n    $[2] = children;\n    $[3] = className;\n    $[4] = t1;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  return t2;\n}\nfunction PropertyIdCopyTooltipContent(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);\n  const {\n    propertyKey\n  } = t0;\n  const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const t1 = copied ? \"Copied\" : \"Property ID\";\n  let t2;\n  if ($[0] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"min-w-20 text-surface-accent-400\", color: \"disabled\", children: t1 });\n    $[0] = t1;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  let t3;\n  if ($[2] !== propertyKey) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"text-white\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", { children: propertyKey }) });\n    $[2] = propertyKey;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  let t4;\n  if ($[4] !== t2 || $[5] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { children: [\n      t2,\n      t3\n    ] });\n    $[4] = t2;\n    $[5] = t3;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let t5;\n  if ($[7] !== propertyKey) {\n    t5 = () => {\n      navigator.clipboard.writeText(propertyKey);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2e3);\n    };\n    $[7] = propertyKey;\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  const t6 = t5;\n  let t7;\n  if ($[9] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ContentCopyIcon, { size: \"smallest\", className: \"text-white\", onClick: t6 }) });\n    $[9] = t6;\n    $[10] = t7;\n  } else {\n    t7 = $[10];\n  }\n  let t8;\n  if ($[11] !== t4 || $[12] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row gap-2 items-center justify-center text-white\", children: [\n      t4,\n      t7\n    ] });\n    $[11] = t4;\n    $[12] = t7;\n    $[13] = t8;\n  } else {\n    t8 = $[13];\n  }\n  return t8;\n}\nfunction NotFoundPage() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(1);\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex w-full h-full\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"m-auto flex items-center flex-col\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"h4\", align: \"center\", gutterBottom: true, children: \"Page not found\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { align: \"center\", gutterBottom: true, children: \"This page does not exist or you may not have access to it\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", component: react_router_dom__WEBPACK_IMPORTED_MODULE_18__.Link, to: \"/\", children: \"Back to home\" })\n    ] }) });\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  return t0;\n}\nfunction ConfirmationDialog(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(20);\n  const {\n    open,\n    onAccept,\n    onCancel,\n    title,\n    loading,\n    body\n  } = t0;\n  let t1;\n  if ($[0] !== onCancel) {\n    t1 = (open_0) => !open_0 ? onCancel() : void 0;\n    $[0] = onCancel;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] !== title) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogTitle, { variant: \"h6\", className: \"mb-2\", children: title });\n    $[2] = title;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  let t3;\n  if ($[4] !== body) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogContent, { children: body });\n    $[4] = body;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  let t4;\n  if ($[6] !== onCancel) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", onClick: onCancel, autoFocus: true, children: \"Cancel\" });\n    $[6] = onCancel;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  let t5;\n  if ($[8] !== loading || $[9] !== onAccept) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LoadingButton, { color: \"primary\", type: \"submit\", loading, onClick: onAccept, children: \"Ok\" });\n    $[8] = loading;\n    $[9] = onAccept;\n    $[10] = t5;\n  } else {\n    t5 = $[10];\n  }\n  let t6;\n  if ($[11] !== t4 || $[12] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { children: [\n      t4,\n      t5\n    ] });\n    $[11] = t4;\n    $[12] = t5;\n    $[13] = t6;\n  } else {\n    t6 = $[13];\n  }\n  let t7;\n  if ($[14] !== open || $[15] !== t1 || $[16] !== t2 || $[17] !== t3 || $[18] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Dialog, { open, onOpenChange: t1, children: [\n      t2,\n      t3,\n      t6\n    ] });\n    $[14] = open;\n    $[15] = t1;\n    $[16] = t2;\n    $[17] = t3;\n    $[18] = t6;\n    $[19] = t7;\n  } else {\n    t7 = $[19];\n  }\n  return t7;\n}\nfunction FireCMSLogo(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9);\n  const {\n    width,\n    height,\n    className,\n    style\n  } = t0;\n  const t1 = width ?? \"100%\";\n  const t2 = height ?? \"100%\";\n  let t3;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"radialGradient\", { cx: \"28.6213569%\", cy: \"43.1133328%\", fx: \"28.6213569%\", fy: \"43.1133328%\", r: \"71.5003456%\", gradientTransform: \"translate(0.286214,0.431133),rotate(3.343450),scale(1.000000,0.996175),translate(-0.286214,-0.431133)\", id: \"radialGradient-1\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#FF5B79\", offset: \"0%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#FA5574\", offset: \"28.0930803%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#EC4C51\", offset: \"44.7242531%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#9543C1\", offset: \"71.4578165%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#3857B3\", offset: \"100%\" })\n    ] });\n    $[0] = t3;\n  } else {\n    t3 = $[0];\n  }\n  let t4;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"radialGradient\", { cx: \"53.6205516%\", cy: \"47.2473036%\", fx: \"53.6205516%\", fy: \"47.2473036%\", r: \"50.8229649%\", gradientTransform: \"translate(0.536206,0.472473),rotate(90.000000),scale(1.000000,1.206631),translate(-0.536206,-0.472473)\", id: \"radialGradient-2\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#68294F\", stopOpacity: \"0\", offset: \"0%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#5E2548\", stopOpacity: \"0.04641108\", offset: \"75.3503173%\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#0D060B\", stopOpacity: \"0.437431709\", offset: \"100%\" })\n    ] });\n    $[1] = t4;\n  } else {\n    t4 = $[1];\n  }\n  let t5;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"defs\", { children: [\n      t3,\n      t4,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"radialGradient\", { cx: \"53.8605015%\", cy: \"48.1990423%\", fx: \"53.8605015%\", fy: \"48.1990423%\", r: \"59.9151549%\", gradientTransform: \"translate(0.538605,0.481990),rotate(180.000000),scale(1.000000,0.925027),translate(-0.538605,-0.481990)\", id: \"radialGradient-3\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#68294F\", stopOpacity: \"0\", offset: \"0%\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#5E2548\", stopOpacity: \"0.04641108\", offset: \"84.0867343%\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", { stopColor: \"#FF0000\", stopOpacity: \"0.567324765\", offset: \"100%\" })\n      ] })\n    ] });\n    $[2] = t5;\n  } else {\n    t5 = $[2];\n  }\n  let t6;\n  if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"g\", { id: \"firecms_logo\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { fill: \"url(#radialGradient-1)\", cx: \"299.5\", cy: \"299.5\", r: \"299.5\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { fill: \"url(#radialGradient-2)\", cx: \"299.5\", cy: \"299.5\", r: \"299.5\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { fill: \"url(#radialGradient-3)\", cx: \"299.5\", cy: \"299.5\", r: \"299.5\" })\n    ] }) });\n    $[3] = t6;\n  } else {\n    t6 = $[3];\n  }\n  let t7;\n  if ($[4] !== className || $[5] !== style || $[6] !== t1 || $[7] !== t2) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", { width: t1, height: t2, viewBox: \"0 0 599 599\", version: \"1.1\", style, className, xmlns: \"http://www.w3.org/2000/svg\", children: [\n      t5,\n      t6\n    ] });\n    $[4] = className;\n    $[5] = style;\n    $[6] = t1;\n    $[7] = t2;\n    $[8] = t7;\n  } else {\n    t7 = $[8];\n  }\n  return t7;\n}\nconst AppContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({\n  hasDrawer: false,\n  drawerHovered: false,\n  drawerOpen: false,\n  openDrawer: () => {\n    throw new Error(\"openDrawer not implemented\");\n  },\n  closeDrawer: () => {\n    throw new Error(\"closeDrawer not implemented\");\n  },\n  autoOpenDrawer: false\n});\nfunction useApp() {\n  return react__WEBPACK_IMPORTED_MODULE_2__.useContext(AppContext);\n}\nconst DEFAULT_BREADCRUMBS_CONTROLLER = {\n  breadcrumbs: [],\n  set: (props) => {\n  }\n};\nconst BreadcrumbContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext(DEFAULT_BREADCRUMBS_CONTROLLER);\nconst BreadcrumbsProvider = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  const {\n    children\n  } = t0;\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = [];\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  const [breadcrumbs, setBreadcrumbs] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t1);\n  let t2;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (props) => {\n      setBreadcrumbs(props.breadcrumbs);\n    };\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const set = t2;\n  let t3;\n  if ($[2] !== breadcrumbs) {\n    t3 = {\n      breadcrumbs,\n      set\n    };\n    $[2] = breadcrumbs;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  let t4;\n  if ($[4] !== children || $[5] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BreadcrumbContext.Provider, { value: t3, children });\n    $[4] = children;\n    $[5] = t3;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  return t4;\n};\nconst useBreadcrumbsController = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BreadcrumbContext);\n};\nconst DefaultAppBar = function DefaultAppBar2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(47);\n  const {\n    title,\n    endAdornment,\n    startAdornment,\n    dropDownActions,\n    includeModeToggle: t1,\n    className,\n    style,\n    user: userProp\n  } = t0;\n  const includeModeToggle = t1 === void 0 ? true : t1;\n  const {\n    hasDrawer,\n    drawerOpen,\n    logo\n  } = useApp();\n  const navigation = useNavigationController();\n  const breadcrumbs = useBreadcrumbsController();\n  const authController = useAuthController();\n  const {\n    mode,\n    setMode\n  } = useModeController();\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const largeLayout = useLargeLayout();\n  const user = userProp ?? authController.user;\n  let avatarComponent;\n  if (user) {\n    let t22;\n    if ($[0] !== user.displayName || $[1] !== user.email) {\n      t22 = user?.displayName ? user.displayName[0].toUpperCase() : user?.email ? user.email[0].toUpperCase() : \"A\";\n      $[0] = user.displayName;\n      $[1] = user.email;\n      $[2] = t22;\n    } else {\n      t22 = $[2];\n    }\n    const initial = t22;\n    const t32 = user.photoURL ?? void 0;\n    let t42;\n    if ($[3] !== initial || $[4] !== t32) {\n      t42 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Avatar, { src: t32, children: initial });\n      $[3] = initial;\n      $[4] = t32;\n      $[5] = t42;\n    } else {\n      t42 = $[5];\n    }\n    avatarComponent = t42;\n  } else {\n    if (user === void 0 || authController.initialLoading) {\n      let t22;\n      if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"p-1 flex justify-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Skeleton, { className: \"w-10 h-10 rounded-full\" }) });\n        $[6] = t22;\n      } else {\n        t22 = $[6];\n      }\n      avatarComponent = t22;\n    } else {\n      avatarComponent = null;\n    }\n  }\n  const t2 = drawerOpen && largeLayout;\n  const t3 = hasDrawer && !(drawerOpen && largeLayout);\n  const t4 = drawerOpen && largeLayout;\n  let t5;\n  if ($[7] !== className || $[8] !== largeLayout || $[9] !== t2 || $[10] !== t3 || $[11] !== t4) {\n    t5 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-full h-16 transition-all ease-in duration-75 absolute top-0 max-w-full overflow-x-auto no-scrollbar\", \"flex flex-row gap-2 px-4 items-center\", {\n      \"pl-[19rem]\": t2,\n      \"pl-24\": t3,\n      \"z-10\": largeLayout,\n      \"duration-100\": t4\n    }, className);\n    $[7] = className;\n    $[8] = largeLayout;\n    $[9] = t2;\n    $[10] = t3;\n    $[11] = t4;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  let t6;\n  if ($[13] !== hasDrawer || $[14] !== logo || $[15] !== navigation || $[16] !== title) {\n    t6 = navigation && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"mr-2 hidden lg:block\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.Link, { className: \"visited:text-inherit visited:dark:text-inherit block\", to: navigation?.basePath ?? \"/\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-row gap-4\", children: [\n      !hasDrawer && (logo ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", { src: logo, alt: \"Logo\", className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-[32px] h-[32px] object-contain\") }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FireCMSLogo, { width: \"32px\", height: \"32px\" })),\n      typeof title === \"string\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"subtitle1\", noWrap: true, children: title }) : title\n    ] }) }) });\n    $[13] = hasDrawer;\n    $[14] = logo;\n    $[15] = navigation;\n    $[16] = title;\n    $[17] = t6;\n  } else {\n    t6 = $[17];\n  }\n  let t7;\n  if ($[18] !== breadcrumbs.breadcrumbs) {\n    t7 = breadcrumbs.breadcrumbs && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"mr-8 hidden lg:block\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-row gap-2\", children: breadcrumbs.breadcrumbs.map(_temp$a) }) });\n    $[18] = breadcrumbs.breadcrumbs;\n    $[19] = t7;\n  } else {\n    t7 = $[19];\n  }\n  let t8;\n  if ($[20] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow\" });\n    $[20] = t8;\n  } else {\n    t8 = $[20];\n  }\n  let t9;\n  if ($[21] !== endAdornment) {\n    t9 = endAdornment && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: endAdornment });\n    $[21] = endAdornment;\n    $[22] = t9;\n  } else {\n    t9 = $[22];\n  }\n  let t10;\n  if ($[23] !== includeModeToggle || $[24] !== mode || $[25] !== setMode) {\n    t10 = includeModeToggle && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"inherit\", \"aria-label\": \"Open drawer\", size: \"large\", children: mode === \"dark\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DarkModeIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LightModeIcon, {}) }), children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: () => setMode(\"dark\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DarkModeIcon, { size: \"smallest\" }),\n        \" Dark\"\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: () => setMode(\"light\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LightModeIcon, { size: \"smallest\" }),\n        \" Light \"\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: () => setMode(\"system\"), children: [\n        \" \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BrightnessMediumIcon, { size: \"smallest\" }),\n        \"System\"\n      ] })\n    ] });\n    $[23] = includeModeToggle;\n    $[24] = mode;\n    $[25] = setMode;\n    $[26] = t10;\n  } else {\n    t10 = $[26];\n  }\n  let t11;\n  if ($[27] !== user) {\n    t11 = user && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"px-4 py-2 mb-2\", children: [\n      user.displayName && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body1\", color: \"secondary\", children: user.displayName }),\n      user.email && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"body2\", color: \"secondary\", children: user.email })\n    ] });\n    $[27] = user;\n    $[28] = t11;\n  } else {\n    t11 = $[28];\n  }\n  let t12;\n  if ($[29] !== authController || $[30] !== dropDownActions || $[31] !== navigate) {\n    t12 = !dropDownActions && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: async () => {\n      await authController.signOut();\n      navigate(\"/\");\n    }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LogoutIcon, {}),\n      \"Log Out\"\n    ] });\n    $[29] = authController;\n    $[30] = dropDownActions;\n    $[31] = navigate;\n    $[32] = t12;\n  } else {\n    t12 = $[32];\n  }\n  let t13;\n  if ($[33] !== avatarComponent || $[34] !== dropDownActions || $[35] !== t11 || $[36] !== t12) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { trigger: avatarComponent, children: [\n      t11,\n      dropDownActions,\n      t12\n    ] });\n    $[33] = avatarComponent;\n    $[34] = dropDownActions;\n    $[35] = t11;\n    $[36] = t12;\n    $[37] = t13;\n  } else {\n    t13 = $[37];\n  }\n  let t14;\n  if ($[38] !== startAdornment || $[39] !== style || $[40] !== t10 || $[41] !== t13 || $[42] !== t5 || $[43] !== t6 || $[44] !== t7 || $[45] !== t9) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { style, className: t5, children: [\n      t6,\n      t7,\n      startAdornment,\n      t8,\n      t9,\n      t10,\n      t13\n    ] });\n    $[38] = startAdornment;\n    $[39] = style;\n    $[40] = t10;\n    $[41] = t13;\n    $[42] = t5;\n    $[43] = t6;\n    $[44] = t7;\n    $[45] = t9;\n    $[46] = t14;\n  } else {\n    t14 = $[46];\n  }\n  return t14;\n};\nfunction _temp$a(breadcrumb, index) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: \"secondary\", children: \"/\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.Link, { className: \"visited:text-inherit visited:dark:text-inherit block\", to: breadcrumb.url, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: \"secondary\", children: breadcrumb.title }) }, index)\n  ] }, breadcrumb.url + \"_\" + index);\n}\nconst buildIdsMap = (value) => value && Array.isArray(value) && value.length > 0 ? value.map((v, index) => {\n  if (!v) return {};\n  return {\n    [getHashValue(v) + index]: getRandomId$1()\n  };\n}).reduce((a, b) => ({\n  ...a,\n  ...b\n}), {}) : {};\nfunction ArrayContainer({\n  droppableId,\n  addLabel,\n  value,\n  disabled = false,\n  buildEntry,\n  size = \"medium\",\n  onInternalIdAdded,\n  includeAddButton,\n  newDefaultEntry,\n  onValueChange,\n  className,\n  min = 0,\n  max = Infinity\n}) {\n  const hasValue = value && Array.isArray(value) && value.length > 0;\n  const internalIdsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(buildIdsMap(value));\n  const [internalIds, setInternalIds] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(hasValue ? Object.values(internalIdsRef.current) : []);\n  const itemCustomPropsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({});\n  const updateItemCustomProps = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((internalId, customProps) => {\n    itemCustomPropsRef.current[internalId] = customProps;\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (hasValue && value && value.length !== internalIds.length) {\n      const newInternalIds = value.map((v, index) => {\n        const hashValue = getHashValue(v) + index;\n        if (hashValue in internalIdsRef.current) {\n          return internalIdsRef.current[hashValue];\n        } else {\n          const newInternalId = getRandomId$1();\n          internalIdsRef.current[hashValue] = newInternalId;\n          return newInternalId;\n        }\n      });\n      setInternalIds(newInternalIds);\n    }\n  }, [hasValue, internalIds.length, value]);\n  const insertInEnd = (e) => {\n    e.preventDefault();\n    if (disabled || (value ?? []).length >= max) return;\n    const id = getRandomId$1();\n    const newIds = [...internalIds, id];\n    if (onInternalIdAdded) onInternalIdAdded(id);\n    setInternalIds(newIds);\n    onValueChange([...value ?? [], newDefaultEntry]);\n  };\n  const remove = (index_0) => {\n    if ((value ?? []).length <= min) return;\n    const newIds_0 = [...internalIds];\n    newIds_0.splice(index_0, 1);\n    setInternalIds(newIds_0);\n    onValueChange(value.filter((_, i) => i !== index_0));\n  };\n  const copy = (index_1) => {\n    if ((value ?? []).length >= max) return;\n    const id_0 = getRandomId$1();\n    const copyingItem = value[index_1];\n    const newIds_1 = [...internalIds.slice(0, index_1 + 1), id_0, ...internalIds.slice(index_1 + 1)];\n    if (onInternalIdAdded) onInternalIdAdded(id_0);\n    setInternalIds(newIds_1);\n    onValueChange([...value.slice(0, index_1 + 1), copyingItem, ...value.slice(index_1 + 1)]);\n  };\n  const addInIndex = (index_2) => {\n    if ((value ?? []).length >= max) return;\n    const id_1 = getRandomId$1();\n    const newIds_2 = [...internalIds.slice(0, index_2), id_1, ...internalIds.slice(index_2)];\n    if (onInternalIdAdded) onInternalIdAdded(id_1);\n    setInternalIds(newIds_2);\n    onValueChange([...value.slice(0, index_2), newDefaultEntry, ...value.slice(index_2)]);\n  };\n  const onDragEnd = (result) => {\n    if (!result.destination) {\n      return;\n    }\n    const sourceIndex = result.source.index;\n    const destinationIndex = result.destination.index;\n    const newIds_3 = [...internalIds];\n    const temp = newIds_3[sourceIndex];\n    newIds_3[sourceIndex] = newIds_3[destinationIndex];\n    newIds_3[destinationIndex] = temp;\n    setInternalIds(newIds_3);\n    onValueChange(arrayMove(value, sourceIndex, destinationIndex));\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.DragDropContext, { onDragEnd, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.Droppable, { droppableId, renderClone: (provided, snapshot, rubric) => {\n    const index_3 = rubric.source.index;\n    const internalId_0 = internalIds[index_3];\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainerItem, { provided, internalId: internalId_0, index: index_3, size, disabled, buildEntry, remove, copy, isDragging: snapshot.isDragging, storedProps: itemCustomPropsRef.current[internalId_0], updateItemCustomProps, addInIndex, includeAddButton });\n  }, children: (droppableProvided, droppableSnapshot) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"space-y-1\", className), ...droppableProvided.droppableProps, ref: droppableProvided.innerRef, children: [\n    hasValue && internalIds.map((internalId_1, index_4) => {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.Draggable, { draggableId: `array_field_${internalId_1}`, isDragDisabled: disabled, index: index_4, children: (provided_0, snapshot_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainerItem, { provided: provided_0, internalId: internalId_1, index: index_4, size, disabled, buildEntry, remove, copy, isDragging: snapshot_0.isDragging, storedProps: itemCustomPropsRef.current[internalId_1], updateItemCustomProps, addInIndex, includeAddButton }) }, `array_field_${internalId_1}`);\n    }),\n    droppableProvided.placeholder,\n    includeAddButton && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"my-4 justify-center text-left\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", size: size === \"small\" ? \"small\" : \"medium\", color: \"primary\", disabled: disabled || value?.length >= max, startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}), onClick: insertInEnd, children: addLabel ?? \"Add\" }) })\n  ] }) }) });\n}\nfunction ArrayContainerItem(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(29);\n  const {\n    provided,\n    index,\n    internalId,\n    size,\n    disabled,\n    buildEntry,\n    remove,\n    addInIndex,\n    includeAddButton,\n    copy,\n    isDragging,\n    storedProps,\n    updateItemCustomProps\n  } = t0;\n  const t1 = provided.innerRef;\n  const t2 = provided.draggableProps;\n  const t3 = provided.draggableProps.style;\n  const t4 = `relative ${!isDragging ? \"hover:bg-surface-accent-50 dark:hover:bg-surface-800 dark:hover:bg-opacity-20\" : \"\"} rounded-md opacity-100`;\n  let t5;\n  if ($[0] !== internalId || $[1] !== updateItemCustomProps) {\n    t5 = (props) => updateItemCustomProps(internalId, props);\n    $[0] = internalId;\n    $[1] = updateItemCustomProps;\n    $[2] = t5;\n  } else {\n    t5 = $[2];\n  }\n  let t6;\n  if ($[3] !== buildEntry || $[4] !== index || $[5] !== internalId || $[6] !== isDragging || $[7] !== storedProps || $[8] !== t5) {\n    t6 = buildEntry({\n      index,\n      internalId,\n      isDragging,\n      storedProps,\n      storeProps: t5\n    });\n    $[3] = buildEntry;\n    $[4] = index;\n    $[5] = internalId;\n    $[6] = isDragging;\n    $[7] = storedProps;\n    $[8] = t5;\n    $[9] = t6;\n  } else {\n    t6 = $[9];\n  }\n  let t7;\n  if ($[10] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow w-[calc(100%-48px)] text-text-primary dark:text-text-primary-dark\", children: t6 });\n    $[10] = t6;\n    $[11] = t7;\n  } else {\n    t7 = $[11];\n  }\n  const t8 = size === \"small\" ? \"row\" : \"column\";\n  let t9;\n  if ($[12] !== addInIndex || $[13] !== copy || $[14] !== disabled || $[15] !== includeAddButton || $[16] !== index || $[17] !== provided || $[18] !== remove || $[19] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayItemOptions, { direction: t8, disabled, remove, index, provided, addInIndex, includeAddButton, copy });\n    $[12] = addInIndex;\n    $[13] = copy;\n    $[14] = disabled;\n    $[15] = includeAddButton;\n    $[16] = index;\n    $[17] = provided;\n    $[18] = remove;\n    $[19] = t8;\n    $[20] = t9;\n  } else {\n    t9 = $[20];\n  }\n  let t10;\n  if ($[21] !== t7 || $[22] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex items-start\", children: [\n      t7,\n      t9\n    ] });\n    $[21] = t7;\n    $[22] = t9;\n    $[23] = t10;\n  } else {\n    t10 = $[23];\n  }\n  let t11;\n  if ($[24] !== provided.draggableProps || $[25] !== provided.innerRef || $[26] !== t10 || $[27] !== t4) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: t1, ...t2, style: t3, className: t4, children: t10 });\n    $[24] = provided.draggableProps;\n    $[25] = provided.innerRef;\n    $[26] = t10;\n    $[27] = t4;\n    $[28] = t11;\n  } else {\n    t11 = $[28];\n  }\n  return t11;\n}\nfunction ArrayItemOptions({\n  direction,\n  disabled,\n  remove,\n  index,\n  provided,\n  copy,\n  includeAddButton,\n  addInIndex\n}) {\n  const [menuOpen, setMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const iconRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);\n  (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.useOutsideAlerter)(iconRef, () => setMenuOpen(false));\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: `pl-2 pt-1 pb-1 flex ${direction === \"row\" ? \"flex-row-reverse\" : \"flex-col\"} items-center`, ref: iconRef, ...provided.dragHandleProps, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { delayDuration: 400, open: menuOpen ? false : void 0, side: direction === \"column\" ? \"left\" : void 0, title: \"Drag to move. Click for more options\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", disabled, onClick: (e) => {\n      e.preventDefault();\n      setMenuOpen(true);\n    }, onDragStart: (e_0) => {\n      setMenuOpen(false);\n    }, className: `cursor-${disabled ? \"inherit\" : \"grab\"}`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.HandleIcon, {}) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { portalContainer: iconRef.current, open: menuOpen, trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { tabIndex: -1 }), children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: (e_1) => {\n        setMenuOpen(false);\n        remove(index);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.RemoveIcon, { size: \"small\" }),\n        \"Remove\"\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => {\n        setMenuOpen(false);\n        copy(index);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ContentCopyIcon, { size: \"small\" }),\n        \"Copy\"\n      ] }),\n      includeAddButton && addInIndex && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => {\n        setMenuOpen(false);\n        addInIndex(index);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.KeyboardArrowUpIcon, { size: \"small\" }),\n        \"Add on top\"\n      ] }),\n      includeAddButton && addInIndex && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => {\n        setMenuOpen(false);\n        addInIndex(index + 1);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.KeyboardArrowDownIcon, { size: \"small\" }),\n        \"Add below\"\n      ] })\n    ] })\n  ] }) });\n}\nfunction arrayMove(value, sourceIndex, destinationIndex) {\n  const result = Array.from(value);\n  const [removed] = result.splice(sourceIndex, 1);\n  result.splice(destinationIndex, 0, removed);\n  return result;\n}\nfunction getRandomId$1() {\n  return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n}\nfunction ReferenceWidget({\n  name,\n  multiselect = false,\n  path,\n  disabled,\n  value,\n  onReferenceSelected,\n  onMultipleReferenceSelected,\n  previewProperties,\n  forceFilter,\n  size,\n  className,\n  includeId,\n  includeEntityLink\n}) {\n  const navigationController = useNavigationController();\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return navigationController.getCollection(path);\n  }, [path, navigationController.getCollection]);\n  const onSingleEntitySelected = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entity) => {\n    if (disabled) return;\n    if (onReferenceSelected) {\n      const reference = entity ? getReferenceFrom(entity) : null;\n      onReferenceSelected?.({\n        reference,\n        entity\n      });\n    }\n  }, [disabled, onReferenceSelected]);\n  const onMultipleEntitiesSelected = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entities) => {\n    if (disabled) return;\n    if (onMultipleReferenceSelected) {\n      const references = entities ? entities.map((e) => getReferenceFrom(e)) : null;\n      onMultipleReferenceSelected({\n        references,\n        entities\n      });\n    }\n  }, [disabled, onReferenceSelected]);\n  const referenceDialogController = useReferenceDialog({\n    multiselect,\n    path,\n    collection,\n    onSingleEntitySelected,\n    onMultipleEntitiesSelected,\n    forceFilter\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_0) => {\n    e_0.stopPropagation();\n    if (multiselect) {\n      onMultipleEntitiesSelected([]);\n    } else {\n      onSingleEntitySelected(null);\n    }\n  }, [onReferenceSelected]);\n  let child;\n  const onEntryClick = () => {\n    if (disabled) return;\n    referenceDialogController.open();\n  };\n  if (Array.isArray(value)) {\n    child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col gap-4\", children: value.map((ref, index) => {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { onClick: onEntryClick, reference: ref, disabled, previewProperties, size, includeId, includeEntityLink }, `reference_preview_${index}`);\n    }) });\n  } else if (value?.isEntityReference && value?.isEntityReference()) {\n    child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { reference: value, onClick: onEntryClick, disabled, previewProperties, size, includeId, includeEntityLink });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"text-sm font-medium\", \"min-w-80 flex flex-col gap-4\", \"relative transition-colors duration-200 ease-in rounded font-medium\", disabled ? \"bg-opacity-50\" : \"hover:bg-opacity-75\", \"text-opacity-50 dark:text-white dark:text-opacity-50\", className), children: [\n    child,\n    !value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"justify-center text-left\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"outlined\", color: \"primary\", disabled, onClick: onEntryClick, children: [\n      \"Edit \",\n      name\n    ] }) })\n  ] });\n}\nconst UPDATE_SEARCH_INDEX_WAIT_MS = 220;\nif (true) {\n  Object.keys(iconSynonyms).forEach((icon) => {\n    if (!_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.iconKeys.includes(icon)) {\n      console.warn(`The icon ${icon} no longer exists. Remove it from \\`iconSynonyms\\``);\n    }\n  });\n}\nfunction SearchIconsView(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14);\n  const {\n    selectedIcon: t1,\n    onIconSelected\n  } = t0;\n  const selectedIcon = t1 === void 0 ? \"\" : t1;\n  const [keys, setKeys] = react__WEBPACK_IMPORTED_MODULE_2__.useState(null);\n  const [query, setQuery] = react__WEBPACK_IMPORTED_MODULE_2__.useState(\"\");\n  let t2;\n  let t3;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.debounce)((value) => {\n      if (!value || value === \"\") {\n        setKeys(null);\n      } else {\n        const searchResult = iconsSearch.search(value);\n        const limited = searchResult.slice(0, 50);\n        setKeys(limited.map(_temp$9));\n      }\n    }, UPDATE_SEARCH_INDEX_WAIT_MS);\n    $[0] = t3;\n  } else {\n    t3 = $[0];\n  }\n  t2 = t3;\n  const updateSearchResults = t2;\n  let t4;\n  let t5;\n  if ($[1] !== query) {\n    t4 = () => {\n      updateSearchResults(query);\n      return () => {\n        updateSearchResults.clear();\n      };\n    };\n    t5 = [query, updateSearchResults];\n    $[1] = query;\n    $[2] = t4;\n    $[3] = t5;\n  } else {\n    t4 = $[2];\n    t5 = $[3];\n  }\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(t4, t5);\n  const icons = keys === null ? _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.coolIconKeys : keys;\n  let t6;\n  if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SearchBar, { autoFocus: false, innerClassName: \"w-full sticky top-0 z-10\", onTextSearch: (value_0) => setQuery(value_0 ?? \"\"), placeholder: \"Search for more icons\" });\n    $[4] = t6;\n  } else {\n    t6 = $[4];\n  }\n  let t7;\n  if ($[5] !== icons || $[6] !== onIconSelected || $[7] !== selectedIcon) {\n    let t82;\n    if ($[9] !== onIconSelected || $[10] !== selectedIcon) {\n      t82 = (icon) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: icon, asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { shape: \"square\", toggled: selectedIcon === icon, onClick: onIconSelected ? () => onIconSelected(icon) : void 0, className: \"box-content m-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { iconKey: icon, size: 24 }) }) }, icon);\n      $[9] = onIconSelected;\n      $[10] = selectedIcon;\n      $[11] = t82;\n    } else {\n      t82 = $[11];\n    }\n    t7 = icons.map(t82);\n    $[5] = icons;\n    $[6] = onIconSelected;\n    $[7] = selectedIcon;\n    $[8] = t7;\n  } else {\n    t7 = $[8];\n  }\n  let t8;\n  if ($[12] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t6,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex max-w-full flex-wrap mt-4\", children: t7 })\n    ] });\n    $[12] = t7;\n    $[13] = t8;\n  } else {\n    t8 = $[13];\n  }\n  return t8;\n}\nfunction _temp$9(e) {\n  return e.item.key;\n}\nfunction FieldCaption(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3);\n  const {\n    error,\n    children\n  } = t0;\n  if (!children) {\n    return null;\n  }\n  const t1 = error ? \"error\" : \"secondary\";\n  let t2;\n  if ($[0] !== children || $[1] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: t1, className: \"ml-3.5 mt-0.5\", children });\n    $[0] = children;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  return t2;\n}\nfunction CustomIdField({\n  customId,\n  entityId,\n  status,\n  onChange,\n  error,\n  entity,\n  loading\n}) {\n  const {\n    errors\n  } = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.useFormex)();\n  const disabled = status === \"existing\" || !customId;\n  const idSetAutomatically = status !== \"existing\" && !customId;\n  const enumValues = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (!customId || typeof customId === \"boolean\" || customId === \"optional\") return void 0;\n    return enumToObjectEntries(customId);\n  }, [customId]);\n  const snackbarController = useSnackbarController();\n  const {\n    copy\n  } = useClipboard({\n    onSuccess: (text) => snackbarController.open({\n      type: \"success\",\n      message: `Copied ${text}`\n    })\n  });\n  const customizationController = useCustomizationController();\n  const fieldProps = {\n    label: idSetAutomatically ? \"ID is set automatically\" : \"ID\",\n    disabled: disabled || loading,\n    name: \"id\",\n    value: (entity && status === \"existing\" ? entity.id : entityId) ?? \"\",\n    endAdornment: loading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircularProgress, { size: \"small\" }) : entity ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Copy\", asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: (e) => copy(entity.id), \"aria-label\": \"copy-id\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ContentCopyIcon, { size: \"small\" }) }) }),\n      customizationController?.entityLinkBuilder && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Open in the console\", asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { component: \"a\", href: customizationController.entityLinkBuilder({\n        entity\n      }), rel: \"noopener noreferrer\", target: \"_blank\", onClick: (e_0) => e_0.stopPropagation(), \"aria-label\": \"go-to-datasource\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon, { size: \"small\" }) }) })\n    ] }) : void 0\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    enumValues && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { size: \"large\", error, fullWidth: true, onValueChange: (v) => onChange(v), ...fieldProps, renderValue: (option) => {\n      const enumConfig = enumValues.find((e_1) => e_1.id === option);\n      if (!enumConfig) return option;\n      return `${enumConfig.id} - ${enumConfig.label}`;\n    }, children: enumValues.map((enumConfig_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: String(enumConfig_0.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: enumConfig_0.id, enumValues, size: \"medium\" }) }, enumConfig_0.id)) }),\n    !enumValues && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { ...fieldProps, error, placeholder: customId === \"optional\" ? \"Autogenerated ID, it can be manually changed\" : status === \"new\" || status === \"copy\" ? \"ID of the new document\" : \"ID of the document\", onChange: (event) => {\n      let value = event.target.value;\n      if (value) value = value.trim();\n      return onChange(value.length ? value : void 0);\n    } }),\n    errors.id && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"ml-3.5 text-red-500 dark:text-red-500\", children: errors.id })\n  ] });\n}\nconst ErrorFocus = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    containerRef\n  } = t0;\n  const {\n    isSubmitting,\n    isValidating,\n    errors\n  } = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.useFormex)();\n  let t1;\n  let t2;\n  if ($[0] !== containerRef || $[1] !== errors || $[2] !== isSubmitting || $[3] !== isValidating) {\n    t1 = () => {\n      const keys = Object.keys(errors);\n      if (keys.length > 0 && isSubmitting && !isValidating) {\n        const errorElement = containerRef?.current?.querySelector(`#form_field_${keys[0]}`);\n        if (errorElement && containerRef?.current) {\n          const scrollableParent = getScrollableParent(containerRef.current);\n          if (scrollableParent) {\n            const top = errorElement.getBoundingClientRect().top;\n            scrollableParent.scrollTo({\n              top: scrollableParent.scrollTop + top - 196,\n              behavior: \"smooth\"\n            });\n          }\n          const input = errorElement.querySelector(\"input\");\n          if (input) {\n            input.focus();\n          }\n        }\n      }\n    };\n    t2 = [isSubmitting, isValidating, errors, containerRef];\n    $[0] = containerRef;\n    $[1] = errors;\n    $[2] = isSubmitting;\n    $[3] = isValidating;\n    $[4] = t1;\n    $[5] = t2;\n  } else {\n    t1 = $[4];\n    t2 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  return null;\n};\nconst isScrollable = (ele) => {\n  const hasScrollableContent = ele && ele.scrollHeight > ele.clientHeight;\n  const overflowYStyle = ele ? window.getComputedStyle(ele).overflowY : null;\n  const isOverflowHidden = overflowYStyle && overflowYStyle.indexOf(\"hidden\") !== -1;\n  return hasScrollableContent && !isOverflowHidden;\n};\nconst getScrollableParent = (ele) => {\n  return !ele || ele === document.body ? document.body : isScrollable(ele) ? ele : getScrollableParent(ele.parentNode);\n};\nfunction EntityFormActions(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(12);\n  const {\n    collection,\n    entity,\n    layout,\n    savingError,\n    formex,\n    disabled,\n    status,\n    pluginActions,\n    openEntityMode\n  } = t0;\n  const context = useFireCMSContext();\n  const sideEntityController = useSideEntityController();\n  let t1;\n  if ($[0] !== collection || $[1] !== context || $[2] !== disabled || $[3] !== entity || $[4] !== formex.isSubmitting || $[5] !== layout || $[6] !== openEntityMode || $[7] !== pluginActions || $[8] !== savingError || $[9] !== sideEntityController || $[10] !== status) {\n    t1 = layout === \"bottom\" ? buildBottomActions$1({\n      savingError,\n      entity,\n      collection,\n      context,\n      sideEntityController,\n      isSubmitting: formex.isSubmitting,\n      disabled,\n      status,\n      pluginActions,\n      openEntityMode\n    }) : buildSideActions$1({\n      savingError,\n      entity,\n      collection,\n      context,\n      sideEntityController,\n      isSubmitting: formex.isSubmitting,\n      disabled,\n      status,\n      pluginActions,\n      openEntityMode\n    });\n    $[0] = collection;\n    $[1] = context;\n    $[2] = disabled;\n    $[3] = entity;\n    $[4] = formex.isSubmitting;\n    $[5] = layout;\n    $[6] = openEntityMode;\n    $[7] = pluginActions;\n    $[8] = savingError;\n    $[9] = sideEntityController;\n    $[10] = status;\n    $[11] = t1;\n  } else {\n    t1 = $[11];\n  }\n  return t1;\n}\nfunction buildBottomActions$1({\n  savingError,\n  entity,\n  formActions,\n  collection,\n  context,\n  sideEntityController,\n  isSubmitting,\n  disabled,\n  status,\n  pluginActions,\n  openEntityMode\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { position: \"absolute\", children: [\n    savingError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"text-right\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"error\", children: savingError.message }) }),\n    entity && (formActions ?? []).length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow flex overflow-auto no-scrollbar\", children: (formActions ?? []).map((action) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"primary\", onClick: (event) => {\n      event.stopPropagation();\n      if (entity) action.onClick({\n        entity,\n        fullPath: collection.path,\n        collection,\n        context,\n        sideEntityController,\n        openEntityMode\n      });\n    }, children: action.icon }, action.name)) }),\n    pluginActions,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", disabled: disabled || isSubmitting, type: \"reset\", children: status === \"existing\" ? \"Discard\" : \"Clear\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"filled\", color: \"primary\", type: \"submit\", disabled: disabled || isSubmitting, children: [\n      status === \"existing\" && \"Save\",\n      status === \"copy\" && \"Create copy\",\n      status === \"new\" && \"Create\"\n    ] })\n  ] });\n}\nfunction buildSideActions$1({\n  savingError,\n  entity,\n  formActions,\n  collection,\n  context,\n  sideEntityController,\n  isSubmitting,\n  disabled,\n  status,\n  pluginActions\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"overflow-auto h-full flex flex-col gap-2 w-80 2xl:w-96 px-4 py-16 sticky top-0 border-l\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LoadingButton, { fullWidth: true, variant: \"filled\", color: \"primary\", type: \"submit\", size: \"large\", disabled: disabled || isSubmitting, children: [\n      status === \"existing\" && \"Save\",\n      status === \"copy\" && \"Create copy\",\n      status === \"new\" && \"Create\"\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { fullWidth: true, variant: \"text\", disabled: disabled || isSubmitting, type: \"reset\", children: status === \"existing\" ? \"Discard\" : \"Clear\" }),\n    pluginActions,\n    savingError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"text-right\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"error\", children: savingError.message }) })\n  ] });\n}\nfunction EntityForm({\n  path,\n  entityId: entityIdProp,\n  collection,\n  onValuesModified,\n  onIdChange,\n  onSaved,\n  entity,\n  initialDirtyValues,\n  onFormContextReady,\n  forceActionsAtTheBottom,\n  initialStatus,\n  className,\n  onStatusChange,\n  onEntityChange,\n  openEntityMode = \"full_screen\",\n  formex: formexProp,\n  Builder,\n  EntityFormActionsComponent = EntityFormActions,\n  showDefaultActions = true,\n  showEntityPath = true,\n  children\n}) {\n  if (collection.customId && collection.formAutoSave) {\n    console.warn(`The collection ${collection.path} has customId and formAutoSave enabled. This is not supported and formAutoSave will be ignored`);\n  }\n  const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialStatus);\n  const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const updateStatus = (status_0) => {\n    setStatus(status_0);\n    onStatusChange?.(status_0);\n  };\n  const [valuesToBeSaved, setValuesToBeSaved] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  useDebouncedCallback(valuesToBeSaved, () => {\n    if (valuesToBeSaved) saveEntity({\n      entityId: entityIdProp,\n      collection,\n      path,\n      values: valuesToBeSaved\n    });\n  }, false, 2e3);\n  const dataSource = useDataSource();\n  const snackbarController = useSnackbarController();\n  const customizationController = useCustomizationController();\n  const context = useFireCMSContext();\n  const analyticsController = useAnalyticsController();\n  const [underlyingChanges, setUnderlyingChanges] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n  const [customIdLoading, setCustomIdLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const mustSetCustomId = (status === \"new\" || status === \"copy\") && Boolean(collection.customId) && collection.customId !== \"optional\";\n  const initialEntityId = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (status === \"new\" || status === \"copy\") {\n      if (mustSetCustomId) {\n        return void 0;\n      } else {\n        return dataSource.generateEntityId(path, collection);\n      }\n    } else {\n      return entityIdProp;\n    }\n  }, [entityIdProp, status]);\n  const [entityId, setEntityId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialEntityId);\n  const [entityIdError, setEntityIdError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [savingError, setSavingError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const autoSave = collection.formAutoSave && !collection.customId;\n  const onSubmit = (values, formexController) => {\n    if (mustSetCustomId && !entityId) {\n      console.error(\"Missing custom Id\");\n      setEntityIdError(true);\n      formexController.setSubmitting(false);\n      return;\n    }\n    setSavingError(void 0);\n    setEntityIdError(false);\n    if (status === \"existing\") {\n      if (!entity?.id) throw Error(\"Form misconfiguration when saving, no id for existing entity\");\n    } else if (status === \"new\" || status === \"copy\") {\n      if (collection.customId) {\n        if (collection.customId !== \"optional\" && !entityId) {\n          throw Error(\"Form misconfiguration when saving, entityId should be set\");\n        }\n      }\n    } else {\n      throw Error(\"New FormType added, check EntityForm\");\n    }\n    return save(values)?.then((_) => {\n      formexController.resetForm({\n        values,\n        submitCount: 0,\n        touched: {}\n      });\n    }).finally(() => {\n      formexController.setSubmitting(false);\n    });\n  };\n  const formex = formexProp ?? (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.useCreateFormex)({\n    initialValues: initialDirtyValues ?? getInitialEntityValues(collection, path, status, entity, customizationController.propertyConfigs),\n    initialDirty: Boolean(initialDirtyValues),\n    onSubmit,\n    onReset: () => {\n      clearDirtyCache();\n      onValuesModified?.(false);\n    },\n    validation: (values_0) => {\n      return validationSchema?.validate(values_0, {\n        abortEarly: false\n      }).then(() => {\n        return {};\n      }).catch((e) => {\n        return yupToFormErrors(e);\n      });\n    }\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const handleKeyDown = (e_0) => {\n      const isUndo = (e_0.metaKey || e_0.ctrlKey) && !e_0.shiftKey && e_0.key.toLowerCase() === \"z\";\n      const isRedo = (e_0.metaKey || e_0.ctrlKey) && e_0.shiftKey && e_0.key.toLowerCase() === \"z\" || (e_0.metaKey || e_0.ctrlKey) && !e_0.shiftKey && e_0.key.toLowerCase() === \"y\";\n      if (isUndo && formex.canUndo) {\n        e_0.preventDefault();\n        formex.undo();\n      } else if (isRedo && formex.canRedo) {\n        e_0.preventDefault();\n        formex.redo();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [formex]);\n  const resolvedCollection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveCollection({\n    collection,\n    path,\n    entityId,\n    values: formex.values,\n    previousValues: formex.initialValues,\n    propertyConfigs: customizationController.propertyConfigs\n  }), [collection, path, entityId, formex.values, formex.initialValues, customizationController.propertyConfigs]);\n  const onPreSaveHookError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_1) => {\n    setSaving(false);\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error before saving: \" + e_1?.message\n    });\n    console.error(e_1);\n  }, [snackbarController]);\n  const onSaveSuccessHookError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_2) => {\n    setSaving(false);\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error after saving (entity is saved): \" + e_2?.message\n    });\n    console.error(e_2);\n  }, [snackbarController]);\n  function clearDirtyCache() {\n    if (status === \"new\" || status === \"copy\") {\n      removeEntityFromCache(path + \"#new\");\n    } else {\n      removeEntityFromCache(path + \"/\" + entityId);\n    }\n  }\n  const onSaveSuccess = (updatedEntity) => {\n    clearDirtyCache();\n    onValuesModified?.(false);\n    setSaving(false);\n    if (!autoSave) snackbarController.open({\n      type: \"success\",\n      message: `${collection.singularName ?? collection.name}: Saved correctly`\n    });\n    onEntityChange?.(updatedEntity);\n    updateStatus(\"existing\");\n    setEntityId(updatedEntity.id);\n    if (onSaved) {\n      onSaved({\n        entity: updatedEntity,\n        status,\n        path,\n        entityId: updatedEntity.id,\n        collection\n      });\n    }\n  };\n  const onSaveFailure = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_3) => {\n    setSaving(false);\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error saving: \" + e_3?.message\n    });\n    console.error(\"Error saving entity\", path, entityId);\n    console.error(e_3);\n  }, [entityId, path, snackbarController]);\n  const saveEntity = ({\n    values: values_1,\n    previousValues,\n    entityId: entityId_0,\n    collection: collection_0,\n    path: path_0\n  }) => {\n    setSaving(true);\n    return saveEntityWithCallbacks({\n      path: path_0,\n      entityId: entityId_0,\n      values: values_1,\n      previousValues,\n      collection: collection_0,\n      status,\n      dataSource,\n      context,\n      onSaveSuccess: (updatedEntity_0) => onSaveSuccess(updatedEntity_0),\n      onSaveFailure,\n      onPreSaveHookError,\n      onSaveSuccessHookError\n    }).then();\n  };\n  const onSaveEntityRequest = async ({\n    collection: collection_1,\n    path: path_1,\n    entityId: entityId_1,\n    values: values_2,\n    previousValues: previousValues_0,\n    autoSave: autoSave_0\n  }) => {\n    if (!status) return;\n    if (autoSave_0) {\n      setValuesToBeSaved(values_2);\n    } else {\n      return saveEntity({\n        collection: collection_1,\n        path: path_1,\n        entityId: entityId_1,\n        values: values_2,\n        previousValues: previousValues_0\n      });\n    }\n  };\n  const lastSavedValues = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(entity?.values);\n  const save = (values_3) => {\n    lastSavedValues.current = values_3;\n    return onSaveEntityRequest({\n      collection: resolvedCollection,\n      path,\n      entityId,\n      values: values_3,\n      previousValues: entity?.values,\n      autoSave: autoSave ?? false\n    }).then((res) => {\n      const eventName = status === \"new\" ? \"new_entity_saved\" : status === \"copy\" ? \"entity_copied\" : status === \"existing\" ? \"entity_edited\" : \"unmapped_event\";\n      analyticsController.onAnalyticsEvent?.(eventName, {\n        path\n      });\n    }).catch((e_4) => {\n      console.error(e_4);\n      setSavingError(e_4);\n    });\n  };\n  const formContext = {\n    // @ts-ignore\n    setFieldValue: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(formex.setFieldValue, []),\n    values: formex.values,\n    collection: resolvedCollection,\n    entityId,\n    path,\n    save,\n    formex,\n    entity,\n    savingError,\n    status,\n    openEntityMode\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    onFormContextReady?.(formContext);\n  }, [formex.version, resolvedCollection, entityId, path]);\n  const onIdUpdateError = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((error) => {\n    snackbarController.open({\n      type: \"error\",\n      message: \"Error updating id, check the console\"\n    });\n  }, []);\n  const pluginActions = [];\n  const plugins = customizationController.plugins;\n  if (plugins && collection) {\n    const actionProps = {\n      entityId,\n      path,\n      status,\n      collection,\n      context,\n      currentEntityId: entityId,\n      formContext,\n      openEntityMode\n    };\n    pluginActions.push(...plugins.map((plugin) => plugin.form?.Actions ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(plugin.form.Actions, { ...actionProps }, `actions_${plugin.key}`) : null).filter(Boolean));\n  }\n  const titlePropertyKey = getEntityTitlePropertyKey(resolvedCollection, customizationController.propertyConfigs);\n  const title = (formex.values && titlePropertyKey ? getValueInPath(formex.values, titlePropertyKey) : void 0) ?? collection.singularName ?? collection.name;\n  const onIdUpdate = collection.callbacks?.onIdUpdate;\n  const doOnIdUpdate = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async () => {\n    if (onIdUpdate && formex.values && (status === \"new\" || status === \"copy\")) {\n      setCustomIdLoading(true);\n      try {\n        const updatedId = await onIdUpdate({\n          collection: resolvedCollection,\n          path,\n          entityId,\n          values: formex.values,\n          context\n        });\n        setEntityId(updatedId);\n      } catch (e_5) {\n        onIdUpdateError?.(e_5);\n        console.error(e_5);\n      }\n      setCustomIdLoading(false);\n    }\n  }, [entityId, formex.values, status, onIdUpdate, resolvedCollection, path, context, onIdUpdateError]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    doOnIdUpdate();\n  }, [doOnIdUpdate]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!autoSave) {\n      onValuesModified?.(modified);\n    }\n  }, [formex.dirty]);\n  const deferredValues = (0,react__WEBPACK_IMPORTED_MODULE_2__.useDeferredValue)(formex.values);\n  const modified = formex.dirty;\n  const uniqueFieldValidator = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    name,\n    value,\n    property\n  }) => dataSource.checkUniqueField(path, name, value, entityId, collection), [dataSource, path, entityId]);\n  const validationSchema = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => entityId ? getYupEntitySchema(entityId, resolvedCollection.properties, uniqueFieldValidator) : void 0, [entityId, resolvedCollection.properties, uniqueFieldValidator]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const key = status === \"new\" || status === \"copy\" ? path + \"#new\" : path + \"/\" + entityId;\n    if (modified) {\n      saveEntityToCache(key, deferredValues);\n    }\n  }, [deferredValues, modified, path, entityId, status]);\n  useOnAutoSave(autoSave, formex, lastSavedValues, save);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!autoSave && !formex.isSubmitting && underlyingChanges && entity) {\n      Object.entries(underlyingChanges).forEach(([key_0, value_0]) => {\n        const formValue = formex.values[key_0];\n        if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(value_0, formValue) && !formex.touched[key_0]) {\n          console.debug(\"Updated value from the datasource:\", key_0, value_0);\n          formex.setFieldValue(key_0, value_0 !== void 0 ? value_0 : null);\n        }\n      });\n    }\n  }, [formex.isSubmitting, autoSave, underlyingChanges, entity, formex.values, formex.touched, formex.setFieldValue]);\n  const formFieldKeys = getFormFieldKeys(resolvedCollection);\n  const formFields = () => {\n    if (Builder) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Builder, { collection, entity, modifiedValues: formex.values, formContext });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormLayout, { children: formFieldKeys.map((key_1) => {\n      const property_0 = resolvedCollection.properties[key_1];\n      if (property_0) {\n        const underlyingValueHasChanged = !!underlyingChanges && Object.keys(underlyingChanges).includes(key_1) && formex.touched[key_1];\n        const disabled = !autoSave && formex.isSubmitting || isReadOnly(property_0) || Boolean(property_0.disabled);\n        const hidden = isHidden(property_0);\n        if (hidden) return null;\n        const widthPercentage = property_0.widthPercentage ?? 100;\n        const cmsFormFieldProps = {\n          propertyKey: key_1,\n          disabled,\n          property: property_0,\n          includeDescription: property_0.description || property_0.longDescription,\n          underlyingValueHasChanged: underlyingValueHasChanged && !autoSave,\n          context: formContext,\n          partOfArray: false,\n          minimalistView: false,\n          autoFocus: false\n        };\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormEntry, { propertyKey: key_1, widthPercentage, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...cmsFormFieldProps }) }, `field_${key_1}`);\n      }\n      const additionalField = resolvedCollection.additionalFields?.find((f) => f.key === key_1);\n      if (additionalField && entity) {\n        const Builder_0 = additionalField.Builder;\n        if (!Builder_0 && !additionalField.value) {\n          throw new Error(\"When using additional fields you need to provide a Builder or a value\");\n        }\n        const child = Builder_0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Builder_0, { entity, context }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full\", children: additionalField.value?.({\n          entity,\n          context\n        })?.toString() });\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-full\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey: key_1, icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.NotesIcon, { size: \"small\" }), title: additionalField.name, className: \"text-text-secondary dark:text-text-secondary-dark ml-3.5\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.paperMixin, \"w-full min-h-14 p-4 md:p-6 overflow-x-scroll no-scrollbar\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: child }) })\n        ] }, `additional_${key_1}`);\n      }\n      console.warn(`Property ${key_1} not found in collection ${resolvedCollection.name} in properties or additional fields. Skipping.`);\n      return null;\n    }).filter(Boolean) });\n  };\n  const formRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const formView = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    !Builder && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"w-full py-2 flex flex-col items-start my-4 lg:my-6\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { className: \"py-4 flex-grow line-clamp-1 \" + (collection.hideIdFromForm ? \"mb-2\" : \"mb-0\"), variant: \"h4\", children: title ?? collection.singularName ?? collection.name }),\n      showEntityPath && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Alert, { color: \"base\", className: \"w-full\", size: \"small\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"code\", { className: \"text-xs select-all text-text-secondary dark:text-text-secondary-dark\", children: [\n        entity?.path ?? path,\n        \"/\",\n        entityId\n      ] }) })\n    ] }),\n    children,\n    !Builder && !collection.hideIdFromForm && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CustomIdField, { customId: collection.customId, entityId, status, onChange: setEntityId, error: entityIdError, loading: customIdLoading, entity }),\n    entityId && formContext && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"mt-12 flex flex-col gap-8\", ref: formRef, children: [\n      formFields(),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorFocus, { containerRef: formRef })\n    ] }) }),\n    forceActionsAtTheBottom && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"h-16\" })\n  ] }) });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (entityId && onIdChange) onIdChange(entityId);\n  }, [entityId, onIdChange]);\n  const disabled_0 = formex.isSubmitting || !formex.dirty && status === \"existing\";\n  if (!resolvedCollection || !path) {\n    throw Error(\"INTERNAL: Collection and path must be defined in form context\");\n  }\n  const dialogActions = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityFormActionsComponent, { collection: resolvedCollection, path, entity, layout: forceActionsAtTheBottom ? \"bottom\" : \"side\", savingError, formex, disabled: disabled_0, status, pluginActions, openEntityMode, showDefaultActions });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.Formex, { value: formContext.formex, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", { onSubmit: formContext.formex.handleSubmit, onReset: () => formex.resetForm({\n    values: getInitialEntityValues(collection, path, status, entity, customizationController.propertyConfigs)\n  }), noValidate: true, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex-1 flex flex-row w-full overflow-y-auto justify-center\", className), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: `form_${path}`, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"relative flex flex-row max-w-4xl lg:max-w-3xl xl:max-w-4xl 2xl:max-w-6xl w-full h-fit\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex flex-col w-full pt-12 pb-16 px-4 sm:px-8 md:px-10\"), children: [\n      formContext.formex.dirty ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Unsaved changes\", className: \"self-end sticky top-4 z-10\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { size: \"small\", colorScheme: \"orangeDarker\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.EditIcon, { size: \"smallest\" }) }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"In sync with the database\", className: \"self-end sticky top-4 z-10\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Chip, { size: \"small\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CheckIcon, { size: \"smallest\" }) }) }),\n      formView\n    ] }) }),\n    dialogActions\n  ] }) });\n}\nfunction getInitialEntityValues(collection, path, status, entity, propertyConfigs) {\n  const resolvedCollection = resolveCollection({\n    collection,\n    path,\n    values: entity?.values,\n    propertyConfigs\n  });\n  const properties = resolvedCollection.properties;\n  if ((status === \"existing\" || status === \"copy\") && entity) {\n    if (!collection.alwaysApplyDefaultValues) {\n      return entity.values ?? getDefaultValuesFor(properties);\n    } else {\n      const defaultValues = getDefaultValuesFor(properties);\n      return mergeDeep(defaultValues, entity.values ?? {});\n    }\n  } else if (status === \"new\") {\n    return getDefaultValuesFor(properties);\n  } else {\n    console.error({\n      status,\n      entity\n    });\n    throw new Error(\"Form has not been initialised with the correct parameters\");\n  }\n}\nfunction yupToFormErrors(yupError) {\n  let errors = {};\n  if (yupError.inner) {\n    if (yupError.inner.length === 0) {\n      return (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.setIn)(errors, yupError.path, yupError.message);\n    }\n    for (const err of yupError.inner) {\n      if (!(0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(errors, err.path)) {\n        errors = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.setIn)(errors, err.path, err.message);\n      }\n    }\n  }\n  return errors;\n}\nfunction useOnAutoSave(autoSave, formex, lastSavedValues, save) {\n  if (!autoSave) return;\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (autoSave) {\n      if (formex.values && !react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(formex.values, lastSavedValues.current)) {\n        save(formex.values);\n      }\n    }\n  }, [formex.values]);\n}\nfunction FieldHelperText(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  const {\n    error,\n    showError,\n    property,\n    includeDescription: t1,\n    disabled\n  } = t0;\n  const includeDescription = t1 === void 0 ? true : t1;\n  const hasDescription = property.description || property.longDescription;\n  if (!(showError && error) && (!includeDescription || !hasDescription)) {\n    return null;\n  }\n  if (showError && error) {\n    let t22;\n    if ($[0] !== error) {\n      t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"ml-3.5 text-red-500 dark:text-red-500\", children: error });\n      $[0] = error;\n      $[1] = t22;\n    } else {\n      t22 = $[1];\n    }\n    return t22;\n  }\n  const disabledTooltip = typeof property.disabled === \"object\" ? property.disabled.disabledMessage : void 0;\n  const t2 = disabled ? \"disabled\" : \"secondary\";\n  const t3 = disabledTooltip || property.description;\n  let t4;\n  if ($[2] !== t2 || $[3] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: t2, className: \"flex-grow\", children: t3 });\n    $[2] = t2;\n    $[3] = t3;\n    $[4] = t4;\n  } else {\n    t4 = $[4];\n  }\n  let t5;\n  if ($[5] !== property.longDescription) {\n    t5 = property.longDescription && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: property.longDescription, side: \"bottom\", asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", className: \"self-start\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.InfoIcon, { color: \"disabled\", size: \"small\" }) }) });\n    $[5] = property.longDescription;\n    $[6] = t5;\n  } else {\n    t5 = $[6];\n  }\n  let t6;\n  if ($[7] !== t4 || $[8] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex ml-3.5 mt-1\", children: [\n      t4,\n      t5\n    ] });\n    $[7] = t4;\n    $[8] = t5;\n    $[9] = t6;\n  } else {\n    t6 = $[9];\n  }\n  return t6;\n}\nconst LabelWithIcon = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((t0, ref) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    icon,\n    title,\n    small,\n    className,\n    required\n  } = t0;\n  const t1 = small ? \"gap-1\" : \"gap-2\";\n  let t2;\n  if ($[0] !== className || $[1] !== t1) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"inline-flex items-center my-0.5\", t1, className);\n    $[0] = className;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  const t3 = `text-start font-medium text-${small ? \"base\" : \"sm\"} origin-top-left transform ${small ? \"translate-x-2 scale-75\" : \"\"}`;\n  const t4 = (title ?? \"\") + (required ? \" *\" : \"\");\n  let t5;\n  if ($[3] !== t3 || $[4] !== t4) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: t3, children: t4 });\n    $[3] = t3;\n    $[4] = t4;\n    $[5] = t5;\n  } else {\n    t5 = $[5];\n  }\n  let t6;\n  if ($[6] !== icon || $[7] !== ref || $[8] !== t2 || $[9] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ref, className: t2, children: [\n      icon,\n      t5\n    ] });\n    $[6] = icon;\n    $[7] = ref;\n    $[8] = t2;\n    $[9] = t5;\n    $[10] = t6;\n  } else {\n    t6 = $[10];\n  }\n  return t6;\n});\nLabelWithIcon.displayName = \"LabelWithIcon\";\nfunction LabelWithIconAndTooltip(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(10);\n  let className;\n  let propertyKey;\n  let props;\n  if ($[0] !== t0) {\n    ({\n      propertyKey,\n      className,\n      ...props\n    } = t0);\n    $[0] = t0;\n    $[1] = className;\n    $[2] = propertyKey;\n    $[3] = props;\n  } else {\n    className = $[1];\n    propertyKey = $[2];\n    props = $[3];\n  }\n  let t1;\n  if ($[4] !== props) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIcon, { ...props });\n    $[4] = props;\n    $[5] = t1;\n  } else {\n    t1 = $[5];\n  }\n  let t2;\n  if ($[6] !== className || $[7] !== propertyKey || $[8] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltip, { propertyKey, className, children: t1 });\n    $[6] = className;\n    $[7] = propertyKey;\n    $[8] = t1;\n    $[9] = t2;\n  } else {\n    t2 = $[9];\n  }\n  return t2;\n}\nfunction FormEntry(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8);\n  const {\n    propertyKey,\n    widthPercentage: t1,\n    children\n  } = t0;\n  const widthPercentage = t1 === void 0 ? 100 : t1;\n  const t2 = `form_field_${propertyKey}`;\n  const t3 = widthPercentage === 100 ? \"100%\" : `calc(${widthPercentage}% - 8px)`;\n  let t4;\n  if ($[0] !== t3) {\n    t4 = {\n      width: t3\n    };\n    $[0] = t3;\n    $[1] = t4;\n  } else {\n    t4 = $[1];\n  }\n  let t5;\n  if ($[2] !== children) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children });\n    $[2] = children;\n    $[3] = t5;\n  } else {\n    t5 = $[3];\n  }\n  let t6;\n  if ($[4] !== t2 || $[5] !== t4 || $[6] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: t2, className: \"relative\", style: t4, children: t5 });\n    $[4] = t2;\n    $[5] = t4;\n    $[6] = t5;\n    $[7] = t6;\n  } else {\n    t6 = $[7];\n  }\n  return t6;\n}\nfunction FormLayout(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  const {\n    children,\n    className\n  } = t0;\n  let t1;\n  if ($[0] !== className) {\n    t1 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex flex-wrap gap-x-4 w-full space-y-8\", className);\n    $[0] = className;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] !== children || $[3] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t1, children });\n    $[2] = children;\n    $[3] = t1;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  return t2;\n}\nfunction SelectFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(46);\n  const {\n    propertyKey,\n    value,\n    setValue,\n    error,\n    showError,\n    disabled,\n    property,\n    includeDescription,\n    size: t1\n  } = t0;\n  const size = t1 === void 0 ? \"large\" : t1;\n  let t2;\n  if ($[0] !== property.enumValues) {\n    t2 = property.enumValues ?? [];\n    $[0] = property.enumValues;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  const enumValues = resolveEnumValues(t2);\n  let t3;\n  if ($[2] !== property || $[3] !== setValue || $[4] !== value) {\n    t3 = {\n      property,\n      value,\n      setValue\n    };\n    $[2] = property;\n    $[3] = setValue;\n    $[4] = value;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  useClearRestoreValue(t3);\n  let t4;\n  if ($[6] !== setValue) {\n    t4 = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      setValue(null);\n    };\n    $[6] = setValue;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  const handleClearClick = t4;\n  const T0 = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select;\n  let t5;\n  if ($[8] !== value) {\n    t5 = value !== void 0 && value != null ? value.toString() : \"\";\n    $[8] = value;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  const t6 = true;\n  const t7 = \"item-aligned\";\n  let t8;\n  if ($[10] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"w-full\");\n    $[10] = t8;\n  } else {\n    t8 = $[10];\n  }\n  let t9;\n  if ($[11] !== property) {\n    t9 = getIconForProperty(property, \"small\");\n    $[11] = property;\n    $[12] = t9;\n  } else {\n    t9 = $[12];\n  }\n  const t10 = property.validation?.required;\n  let t11;\n  if ($[13] !== property.name || $[14] !== t10 || $[15] !== t9) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIcon, { icon: t9, required: t10, title: property.name, className: \"h-8 text-text-secondary dark:text-text-secondary-dark ml-3.5 my-0\" });\n    $[13] = property.name;\n    $[14] = t10;\n    $[15] = t9;\n    $[16] = t11;\n  } else {\n    t11 = $[16];\n  }\n  let t12;\n  if ($[17] !== propertyKey || $[18] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltip, { propertyKey, children: t11 });\n    $[17] = propertyKey;\n    $[18] = t11;\n    $[19] = t12;\n  } else {\n    t12 = $[19];\n  }\n  let t13;\n  if ($[20] !== handleClearClick || $[21] !== property.clearable) {\n    t13 = property.clearable && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: handleClearClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {}) });\n    $[20] = handleClearClick;\n    $[21] = property.clearable;\n    $[22] = t13;\n  } else {\n    t13 = $[22];\n  }\n  let t14;\n  if ($[23] !== property.dataType || $[24] !== setValue) {\n    t14 = (updatedValue) => {\n      const newValue = updatedValue ? property.dataType === \"number\" ? parseFloat(updatedValue) : updatedValue : null;\n      return setValue(newValue);\n    };\n    $[23] = property.dataType;\n    $[24] = setValue;\n    $[25] = t14;\n  } else {\n    t14 = $[25];\n  }\n  const t15 = (enumKey) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues, size });\n  const t16 = enumValues && enumValues.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: String(option.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: String(option.id), enumValues, size }) }, option.id));\n  let t17;\n  if ($[26] !== T0 || $[27] !== disabled || $[28] !== size || $[29] !== t12 || $[30] !== t13 || $[31] !== t14 || $[32] !== t15 || $[33] !== t16 || $[34] !== t5 || $[35] !== t8) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(T0, { value: t5, disabled, size, fullWidth: t6, position: t7, inputClassName: t8, label: t12, endAdornment: t13, onValueChange: t14, renderValue: t15, children: t16 });\n    $[26] = T0;\n    $[27] = disabled;\n    $[28] = size;\n    $[29] = t12;\n    $[30] = t13;\n    $[31] = t14;\n    $[32] = t15;\n    $[33] = t16;\n    $[34] = t5;\n    $[35] = t8;\n    $[36] = t17;\n  } else {\n    t17 = $[36];\n  }\n  let t18;\n  if ($[37] !== disabled || $[38] !== error || $[39] !== includeDescription || $[40] !== property || $[41] !== showError) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[37] = disabled;\n    $[38] = error;\n    $[39] = includeDescription;\n    $[40] = property;\n    $[41] = showError;\n    $[42] = t18;\n  } else {\n    t18 = $[42];\n  }\n  let t19;\n  if ($[43] !== t17 || $[44] !== t18) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t17,\n      t18\n    ] });\n    $[43] = t17;\n    $[44] = t18;\n    $[45] = t19;\n  } else {\n    t19 = $[45];\n  }\n  return t19;\n}\nfunction MultiSelectFieldBinding({\n  propertyKey,\n  value,\n  setValue,\n  error,\n  showError,\n  disabled,\n  property,\n  includeDescription,\n  size = \"medium\",\n  autoFocus\n}) {\n  const of = property.of;\n  if (!of) {\n    throw Error(\"Using wrong component ArrayEnumSelect\");\n  }\n  if (Array.isArray(of)) {\n    throw Error(\"Using array properties instead of single one in `of` in ArrayProperty\");\n  }\n  if (of.dataType !== \"string\" && of.dataType !== \"number\") {\n    throw Error(\"Field misconfiguration: array field of type string or number\");\n  }\n  const enumValues = enumToObjectEntries(of.enumValues);\n  if (!enumValues) {\n    console.error(property);\n    throw Error(\"Field misconfiguration: array field of type string or number needs to have enumValues\");\n  }\n  useClearRestoreValue({\n    property,\n    value,\n    setValue\n  });\n  const validValue = !!value && Array.isArray(value);\n  const renderValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((enumKey, list) => {\n    const enumValue = enumKey !== void 0 ? getLabelOrConfigFrom(enumValues, enumKey) : void 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(EnumValuesChip, { enumKey, enumValues, size: \"medium\", children: [\n      enumValue?.label ?? enumKey,\n      !list && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { className: \"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\", onMouseDown: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }, onClick: (e_0) => {\n        e_0.preventDefault();\n        e_0.stopPropagation();\n        setValue(value.filter((v) => v !== enumKey));\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, { size: \"smallest\" }) })\n    ] }, enumKey);\n  }, [enumValues, setValue, value]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelect, { className: \"w-full mt-2\", size: size === \"medium\" ? \"medium\" : \"small\", value: validValue ? value.map((v_0) => v_0.toString()) : [], disabled, modalPopover: true, label: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"h-8 text-text-secondary dark:text-text-secondary-dark ml-3.5\" }), onValueChange: (updatedValue) => {\n      let newValue;\n      if (of && of?.dataType === \"number\") {\n        newValue = updatedValue ? updatedValue.map((e_1) => parseFloat(e_1)) : [];\n      } else {\n        newValue = updatedValue;\n      }\n      return setValue(newValue);\n    }, children: enumValues.map((enumValue_0) => String(enumValue_0.id)).map((enumKey_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MultiSelectItem, { value: enumKey_0, children: renderValue(enumKey_0, true) }, enumKey_0)) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property })\n  ] });\n}\nfunction ArrayOfReferencesFieldBinding({\n  propertyKey,\n  value,\n  error,\n  showError,\n  disabled,\n  isSubmitting,\n  minimalistView: minimalistViewProp,\n  property,\n  includeDescription,\n  setValue,\n  setFieldValue\n}) {\n  const minimalistView = minimalistViewProp || property.minimalistView;\n  const ofProperty = property.of;\n  if (ofProperty.dataType !== \"reference\") {\n    throw Error(\"ArrayOfReferencesField expected a property containing references\");\n  }\n  const expanded = property.expanded === void 0 ? true : property.expanded;\n  const selectedEntityIds = value && Array.isArray(value) ? value.map((ref) => ref.id) : [];\n  useClearRestoreValue({\n    property,\n    value,\n    setValue\n  });\n  const navigationController = useNavigationController();\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return ofProperty.path ? navigationController.getCollection(ofProperty.path) : void 0;\n  }, [ofProperty.path]);\n  if (!collection) {\n    throw Error(`Couldn't find the corresponding collection for the path: ${ofProperty.path}`);\n  }\n  const onMultipleEntitiesSelected = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((entities) => {\n    setValue(entities.map((e) => getReferenceFrom(e)));\n  }, [setValue]);\n  const referenceDialogController = useReferenceDialog({\n    multiselect: true,\n    path: ofProperty.path,\n    collection,\n    onMultipleEntitiesSelected,\n    selectedEntityIds,\n    forceFilter: ofProperty.forceFilter\n  });\n  const onEntryClick = (e_0) => {\n    e_0.preventDefault();\n    referenceDialogController.open();\n  };\n  const buildEntry = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    index,\n    internalId,\n    storedProps,\n    storeProps\n  }) => {\n    const entryValue = value && value.length > index ? value[index] : void 0;\n    if (!entryValue) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: \"Internal ERROR\" });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { disabled: !ofProperty.path, previewProperties: ofProperty.previewProperties, size: \"medium\", onClick: onEntryClick, hover: !disabled, reference: entryValue, includeId: ofProperty.includeId, includeEntityLink: ofProperty.includeEntityLink }, internalId);\n  }, [ofProperty.path, ofProperty.previewProperties, value]);\n  const title = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"h-8 flex flex-grow text-text-secondary dark:text-text-secondary-dark\" }),\n    Array.isArray(value) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"px-4\", children: [\n      \"(\",\n      value.length,\n      \")\"\n    ] })\n  ] });\n  const body = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    !collection && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"The specified collection does not exist. Check console\" }),\n    collection && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"group\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainer, { droppableId: propertyKey, value, disabled: isSubmitting, buildEntry, addLabel: property.name ? \"Add reference to \" + property.name : \"Add reference\", newDefaultEntry: property.of.defaultValue, onValueChange: (value_0) => setFieldValue(propertyKey, value_0) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { className: \"my-4 justify-center text-left\", variant: \"text\", color: \"primary\", disabled: isSubmitting, onClick: onEntryClick, children: [\n        \"Edit \",\n        property.name\n      ] })\n    ] })\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { titleClassName: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundMixin, innerClassName: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundMixin), initiallyExpanded: expanded, title, children: body }),\n    minimalistView && body,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property })\n  ] });\n}\nfunction StorageItemPreview(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(21);\n  const {\n    name,\n    property,\n    value,\n    onRemove,\n    disabled,\n    size,\n    placeholder,\n    className\n  } = t0;\n  const t1 = size === \"large\" ? \"min-w-[220px] min-h-[220px] max-w-[220px]\" : \"min-w-[118px] min-h-[118px] max-w-[118px]\";\n  let t2;\n  if ($[0] !== className || $[1] !== t1) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.paperMixin, \"relative m-4 border-box flex items-center justify-center\", t1, className);\n    $[0] = className;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== disabled || $[4] !== onRemove || $[5] !== placeholder || $[6] !== value) {\n    t3 = !placeholder && !disabled && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"absolute rounded-full -top-2 -right-2 z-10 bg-white dark:bg-surface-900\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { asChild: true, title: \"Remove\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", onClick: (event) => {\n      event.stopPropagation();\n      onRemove(value);\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.RemoveIcon, { size: \"small\" }) }) }) });\n    $[3] = disabled;\n    $[4] = onRemove;\n    $[5] = placeholder;\n    $[6] = value;\n    $[7] = t3;\n  } else {\n    t3 = $[7];\n  }\n  let t4;\n  if ($[8] !== name || $[9] !== placeholder || $[10] !== property || $[11] !== size || $[12] !== value) {\n    t4 = !placeholder && value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey: name, value, property, interactive: false, size }) });\n    $[8] = name;\n    $[9] = placeholder;\n    $[10] = property;\n    $[11] = size;\n    $[12] = value;\n    $[13] = t4;\n  } else {\n    t4 = $[13];\n  }\n  let t5;\n  if ($[14] !== placeholder) {\n    t5 = placeholder && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { onClick: _temp$8, className: \"flex flex-col items-center justify-center w-full h-full\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DescriptionIcon, { className: \"text-surface-700 dark:text-surface-300\" }) });\n    $[14] = placeholder;\n    $[15] = t5;\n  } else {\n    t5 = $[15];\n  }\n  let t6;\n  if ($[16] !== t2 || $[17] !== t3 || $[18] !== t4 || $[19] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t2, children: [\n      t3,\n      t4,\n      t5\n    ] });\n    $[16] = t2;\n    $[17] = t3;\n    $[18] = t4;\n    $[19] = t5;\n    $[20] = t6;\n  } else {\n    t6 = $[20];\n  }\n  return t6;\n}\nfunction _temp$8(e) {\n  return e.stopPropagation();\n}\nconst dropZoneClasses = \"box-border relative pt-[2px] items-center border border-transparent min-h-[254px] outline-none rounded-md duration-200 ease-[cubic-bezier(0.4,0,0.2,1)] focus:border-primary-solid\";\nconst disabledClasses = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundDisabledMixin;\nconst nonActiveDropClasses = _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundHoverMixin;\nconst activeDropClasses = \"pt-0 border-2 border-solid\";\nconst acceptDropClasses = \"transition-colors duration-200 ease-[cubic-bezier(0,0,0.2,1)] border-2 border-solid border-green-500\";\nconst rejectDropClasses = \"transition-colors duration-200 ease-[cubic-bezier(0,0,0.2,1)] border-2 border-solid border-red-500\";\nfunction StorageUploadFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(46);\n  const {\n    propertyKey,\n    value,\n    setValue,\n    error,\n    showError,\n    autoFocus,\n    minimalistView,\n    property,\n    includeDescription,\n    context,\n    isSubmitting\n  } = t0;\n  if (!context.entityId) {\n    throw new Error(\"StorageUploadFieldBinding: Entity id is null\");\n  }\n  const storageSource = useStorageSource(context.collection);\n  let t1;\n  if ($[0] !== isSubmitting || $[1] !== property) {\n    t1 = isReadOnly(property) || !!property.disabled || isSubmitting;\n    $[0] = isSubmitting;\n    $[1] = property;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  const disabled = t1;\n  const t2 = disabled ?? false;\n  let t3;\n  if ($[3] !== context.entityId || $[4] !== context.path || $[5] !== context.values || $[6] !== property || $[7] !== propertyKey || $[8] !== setValue || $[9] !== storageSource || $[10] !== t2 || $[11] !== value) {\n    t3 = {\n      entityValues: context.values,\n      entityId: context.entityId,\n      path: context.path,\n      property,\n      propertyKey,\n      value,\n      storageSource,\n      disabled: t2,\n      onChange: setValue\n    };\n    $[3] = context.entityId;\n    $[4] = context.path;\n    $[5] = context.values;\n    $[6] = property;\n    $[7] = propertyKey;\n    $[8] = setValue;\n    $[9] = storageSource;\n    $[10] = t2;\n    $[11] = value;\n    $[12] = t3;\n  } else {\n    t3 = $[12];\n  }\n  const {\n    internalValue,\n    setInternalValue,\n    onFilesAdded,\n    storage,\n    onFileUploadComplete,\n    storagePathBuilder,\n    multipleFilesSupported\n  } = useStorageUploadController(t3);\n  let t4;\n  if ($[13] !== property || $[14] !== setValue || $[15] !== value) {\n    t4 = {\n      property,\n      value,\n      setValue\n    };\n    $[13] = property;\n    $[14] = setValue;\n    $[15] = value;\n    $[16] = t4;\n  } else {\n    t4 = $[16];\n  }\n  useClearRestoreValue(t4);\n  const t5 = property;\n  let t6;\n  if ($[17] !== t5) {\n    t6 = resolveProperty({\n      propertyOrBuilder: t5\n    });\n    $[17] = t5;\n    $[18] = t6;\n  } else {\n    t6 = $[18];\n  }\n  const resolvedProperty = t6;\n  let t7;\n  if ($[19] !== minimalistView || $[20] !== property || $[21] !== propertyKey) {\n    t7 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"h-8text-text-secondary dark:text-text-secondary-dark ml-3.5\" });\n    $[19] = minimalistView;\n    $[20] = property;\n    $[21] = propertyKey;\n    $[22] = t7;\n  } else {\n    t7 = $[22];\n  }\n  const t8 = disabled ?? false;\n  const t9 = autoFocus ?? false;\n  let t10;\n  if ($[23] !== internalValue || $[24] !== multipleFilesSupported || $[25] !== onFileUploadComplete || $[26] !== onFilesAdded || $[27] !== propertyKey || $[28] !== resolvedProperty || $[29] !== setInternalValue || $[30] !== setValue || $[31] !== storage || $[32] !== storagePathBuilder || $[33] !== t8 || $[34] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageUpload, { value: internalValue, name: propertyKey, disabled: t8, autoFocus: t9, property: resolvedProperty, onChange: setValue, setInternalValue, onFilesAdded, onFileUploadComplete, storagePathBuilder, storage, multipleFilesSupported });\n    $[23] = internalValue;\n    $[24] = multipleFilesSupported;\n    $[25] = onFileUploadComplete;\n    $[26] = onFilesAdded;\n    $[27] = propertyKey;\n    $[28] = resolvedProperty;\n    $[29] = setInternalValue;\n    $[30] = setValue;\n    $[31] = storage;\n    $[32] = storagePathBuilder;\n    $[33] = t8;\n    $[34] = t9;\n    $[35] = t10;\n  } else {\n    t10 = $[35];\n  }\n  let t11;\n  if ($[36] !== disabled || $[37] !== error || $[38] !== includeDescription || $[39] !== property || $[40] !== showError) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[36] = disabled;\n    $[37] = error;\n    $[38] = includeDescription;\n    $[39] = property;\n    $[40] = showError;\n    $[41] = t11;\n  } else {\n    t11 = $[41];\n  }\n  let t12;\n  if ($[42] !== t10 || $[43] !== t11 || $[44] !== t7) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t7,\n      t10,\n      t11\n    ] });\n    $[42] = t10;\n    $[43] = t11;\n    $[44] = t7;\n    $[45] = t12;\n  } else {\n    t12 = $[45];\n  }\n  return t12;\n}\nfunction FileDropComponent(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(64);\n  const {\n    storage,\n    disabled,\n    isDraggingOver,\n    onFilesAdded,\n    multipleFilesSupported,\n    droppableProvided,\n    autoFocus,\n    internalValue,\n    property,\n    onClear,\n    metadata,\n    storagePathBuilder,\n    onFileUploadComplete,\n    size,\n    name,\n    helpText\n  } = t0;\n  const snackbarContext = useSnackbarController();\n  let t1;\n  if ($[0] !== storage.acceptedFiles) {\n    t1 = storage.acceptedFiles ? storage.acceptedFiles.map(_temp$7).reduce(_temp2$4, {}) : void 0;\n    $[0] = storage.acceptedFiles;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const t2 = disabled || isDraggingOver;\n  let t3;\n  if ($[2] !== snackbarContext || $[3] !== storage.maxSize) {\n    t3 = (fileRejections, event) => {\n      for (const fileRejection of fileRejections) {\n        for (const error of fileRejection.errors) {\n          console.error(\"Error uploading file: \", error);\n          if (error.code === \"file-too-large\") {\n            snackbarContext.open({\n              type: \"error\",\n              message: `Error uploading file: File is larger than ${storage.maxSize} bytes`\n            });\n          } else {\n            if (error.code === \"file-invalid-type\") {\n              snackbarContext.open({\n                type: \"error\",\n                message: \"Error uploading file: File type is not supported\"\n              });\n            }\n          }\n        }\n      }\n    };\n    $[2] = snackbarContext;\n    $[3] = storage.maxSize;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== onFilesAdded || $[6] !== storage.maxSize || $[7] !== t1 || $[8] !== t2 || $[9] !== t3) {\n    t4 = {\n      accept: t1,\n      disabled: t2,\n      noDragEventsBubbling: true,\n      maxSize: storage.maxSize,\n      onDrop: onFilesAdded,\n      onDropRejected: t3\n    };\n    $[5] = onFilesAdded;\n    $[6] = storage.maxSize;\n    $[7] = t1;\n    $[8] = t2;\n    $[9] = t3;\n    $[10] = t4;\n  } else {\n    t4 = $[10];\n  }\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = (0,react_dropzone__WEBPACK_IMPORTED_MODULE_9__.useDropzone)(t4);\n  let t5;\n  if ($[11] !== getRootProps) {\n    t5 = getRootProps();\n    $[11] = getRootProps;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  const t6 = disabled ? _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundDisabledMixin : _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundHoverMixin;\n  const t7 = disabled ? \"text-surface-accent-600 dark:text-surface-accent-500\" : \"\";\n  const t8 = multipleFilesSupported && internalValue.length ? \"\" : \"flex\";\n  const t9 = !isDragActive;\n  let t10;\n  if ($[13] !== disabled || $[14] !== isDragAccept || $[15] !== isDragActive || $[16] !== isDragReject || $[17] !== t6 || $[18] !== t7 || $[19] !== t8 || $[20] !== t9) {\n    t10 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundMixin, t6, t7, dropZoneClasses, t8, {\n      [nonActiveDropClasses]: t9,\n      [activeDropClasses]: isDragActive,\n      [rejectDropClasses]: isDragReject,\n      [acceptDropClasses]: isDragAccept,\n      [disabledClasses]: disabled\n    });\n    $[13] = disabled;\n    $[14] = isDragAccept;\n    $[15] = isDragActive;\n    $[16] = isDragReject;\n    $[17] = t6;\n    $[18] = t7;\n    $[19] = t8;\n    $[20] = t9;\n    $[21] = t10;\n  } else {\n    t10 = $[21];\n  }\n  const t11 = droppableProvided.droppableProps;\n  const t12 = droppableProvided.innerRef;\n  const t13 = multipleFilesSupported && internalValue.length ? \"overflow-auto\" : \"\";\n  const t14 = multipleFilesSupported && internalValue.length ? \"min-h-[180px]\" : \"min-h-[250px]\";\n  let t15;\n  if ($[22] !== t13 || $[23] !== t14) {\n    t15 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex items-center p-1 no-scrollbar\", t13, t14);\n    $[22] = t13;\n    $[23] = t14;\n    $[24] = t15;\n  } else {\n    t15 = $[24];\n  }\n  let t16;\n  if ($[25] !== getInputProps) {\n    t16 = getInputProps();\n    $[25] = getInputProps;\n    $[26] = t16;\n  } else {\n    t16 = $[26];\n  }\n  let t17;\n  if ($[27] !== autoFocus || $[28] !== t16) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", { autoFocus, ...t16 });\n    $[27] = autoFocus;\n    $[28] = t16;\n    $[29] = t17;\n  } else {\n    t17 = $[29];\n  }\n  let t18;\n  if ($[30] !== disabled || $[31] !== internalValue || $[32] !== metadata || $[33] !== name || $[34] !== onClear || $[35] !== onFileUploadComplete || $[36] !== property || $[37] !== size || $[38] !== storagePathBuilder) {\n    let t192;\n    if ($[40] !== disabled || $[41] !== metadata || $[42] !== name || $[43] !== onClear || $[44] !== onFileUploadComplete || $[45] !== property || $[46] !== size || $[47] !== storagePathBuilder) {\n      t192 = (entry, index) => {\n        let child;\n        if (entry.storagePathOrDownloadUrl) {\n          child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageItemPreview, { name: `storage_preview_${entry.storagePathOrDownloadUrl}`, property, disabled, value: entry.storagePathOrDownloadUrl, onRemove: onClear, size: entry.size });\n        } else {\n          if (entry.file) {\n            child = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageUploadProgress, { entry, metadata, storagePath: storagePathBuilder(entry.file), onFileUploadComplete, imageSize: size === \"large\" ? 220 : 118, simple: false });\n          }\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.Draggable, { draggableId: `array_field_${name}_${entry.id}`, index, children: (provided, snapshot) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { tabIndex: -1, ref: provided.innerRef, ...provided.draggableProps, ...provided.dragHandleProps, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"rounded-md\"), style: {\n          ...provided.draggableProps.style\n        }, children: child }) }, `array_field_${name}_${entry.id}`);\n      };\n      $[40] = disabled;\n      $[41] = metadata;\n      $[42] = name;\n      $[43] = onClear;\n      $[44] = onFileUploadComplete;\n      $[45] = property;\n      $[46] = size;\n      $[47] = storagePathBuilder;\n      $[48] = t192;\n    } else {\n      t192 = $[48];\n    }\n    t18 = internalValue.map(t192);\n    $[30] = disabled;\n    $[31] = internalValue;\n    $[32] = metadata;\n    $[33] = name;\n    $[34] = onClear;\n    $[35] = onFileUploadComplete;\n    $[36] = property;\n    $[37] = size;\n    $[38] = storagePathBuilder;\n    $[39] = t18;\n  } else {\n    t18 = $[39];\n  }\n  let t19;\n  if ($[49] !== droppableProvided.droppableProps || $[50] !== droppableProvided.innerRef || $[51] !== droppableProvided.placeholder || $[52] !== t15 || $[53] !== t17 || $[54] !== t18) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ...t11, ref: t12, className: t15, children: [\n      t17,\n      t18,\n      droppableProvided.placeholder\n    ] });\n    $[49] = droppableProvided.droppableProps;\n    $[50] = droppableProvided.innerRef;\n    $[51] = droppableProvided.placeholder;\n    $[52] = t15;\n    $[53] = t17;\n    $[54] = t18;\n    $[55] = t19;\n  } else {\n    t19 = $[55];\n  }\n  const t20 = disabled ? \"text-surface-accent-600 dark:text-surface-accent-500\" : \"\";\n  let t21;\n  if ($[56] !== helpText || $[57] !== t20) {\n    t21 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow min-h-[38px] box-border m-2 text-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { align: \"center\", variant: \"label\", className: t20, children: helpText }) });\n    $[56] = helpText;\n    $[57] = t20;\n    $[58] = t21;\n  } else {\n    t21 = $[58];\n  }\n  let t22;\n  if ($[59] !== t10 || $[60] !== t19 || $[61] !== t21 || $[62] !== t5) {\n    t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ...t5, className: t10, children: [\n      t19,\n      t21\n    ] });\n    $[59] = t10;\n    $[60] = t19;\n    $[61] = t21;\n    $[62] = t5;\n    $[63] = t22;\n  } else {\n    t22 = $[63];\n  }\n  return t22;\n}\nfunction _temp2$4(a, b) {\n  return {\n    ...a,\n    ...b\n  };\n}\nfunction _temp$7(e) {\n  return {\n    [e]: []\n  };\n}\nfunction StorageUpload({\n  property,\n  name,\n  value,\n  setInternalValue,\n  onChange,\n  multipleFilesSupported,\n  onFileUploadComplete,\n  disabled,\n  onFilesAdded,\n  autoFocus,\n  storage,\n  storagePathBuilder\n}) {\n  if (multipleFilesSupported) {\n    const arrayProperty = property;\n    if (arrayProperty.of) {\n      if (Array.isArray(arrayProperty.of)) {\n        throw Error(\"Storage field using array must be of data type string\");\n      }\n      if (arrayProperty.of.dataType !== \"string\") {\n        throw Error(\"Storage field using array must be of data type string\");\n      }\n    } else {\n      throw Error(\"Storage field using array must be of data type string\");\n    }\n  }\n  const metadata = storage?.metadata;\n  const size = multipleFilesSupported ? \"medium\" : \"large\";\n  const moveItem = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((fromIndex, toIndex) => {\n    if (!multipleFilesSupported) return;\n    const newValue = [...value];\n    const item = newValue[fromIndex];\n    newValue.splice(fromIndex, 1);\n    newValue.splice(toIndex, 0, item);\n    setInternalValue(newValue);\n    const fieldValue = newValue.filter((e) => !!e.storagePathOrDownloadUrl).map((e_0) => e_0.storagePathOrDownloadUrl);\n    onChange(fieldValue);\n  }, [multipleFilesSupported, onChange, setInternalValue, value]);\n  const onDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((result) => {\n    if (!result.destination) {\n      return;\n    }\n    moveItem(result.source.index, result.destination.index);\n  }, [moveItem]);\n  const onClear = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((clearedStoragePathOrDownloadUrl) => {\n    if (multipleFilesSupported) {\n      const newValue_0 = value.filter((v) => v.storagePathOrDownloadUrl !== clearedStoragePathOrDownloadUrl);\n      onChange(newValue_0.filter((v_0) => !!v_0.storagePathOrDownloadUrl).map((v_1) => v_1.storagePathOrDownloadUrl));\n      setInternalValue(newValue_0);\n    } else {\n      onChange(null);\n      setInternalValue([]);\n    }\n  }, [value, multipleFilesSupported, onChange]);\n  const helpText = multipleFilesSupported ? \"Drag 'n' drop some files here, or click to select files\" : \"Drag 'n' drop a file here, or click to select one\";\n  const renderProperty = multipleFilesSupported ? property.of : property;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.DragDropContext, { onDragEnd, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_20__.Droppable, { droppableId: `droppable_${name}`, direction: \"horizontal\", renderClone: (provided, snapshot, rubric) => {\n    const entry = value[rubric.source.index];\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: provided.innerRef, ...provided.draggableProps, ...provided.dragHandleProps, style: provided.draggableProps.style, className: \"rounded\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageItemPreview, { name: `storage_preview_${entry.storagePathOrDownloadUrl}`, placeholder: true, property: renderProperty, disabled: true, value: entry.storagePathOrDownloadUrl, onRemove: onClear, size: entry.size }) });\n  }, children: (provided_0, snapshot_0) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FileDropComponent, { storage, disabled, isDraggingOver: snapshot_0.isDraggingOver, droppableProvided: provided_0, onFilesAdded, multipleFilesSupported, autoFocus, internalValue: value, property: renderProperty, onClear, metadata, storagePathBuilder, onFileUploadComplete, size, name, helpText });\n  } }) });\n}\nfunction TextFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(52);\n  const {\n    propertyKey,\n    value,\n    setValue,\n    error,\n    showError,\n    disabled,\n    autoFocus,\n    property,\n    includeDescription,\n    size: t1\n  } = t0;\n  const size = t1 === void 0 ? \"large\" : t1;\n  let multiline;\n  let url;\n  if (property.dataType === \"string\") {\n    multiline = property.multiline;\n    url = property.url;\n  }\n  let t2;\n  if ($[0] !== property || $[1] !== setValue || $[2] !== value) {\n    t2 = {\n      property,\n      value,\n      setValue\n    };\n    $[0] = property;\n    $[1] = setValue;\n    $[2] = value;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  useClearRestoreValue(t2);\n  let t3;\n  if ($[4] !== setValue) {\n    t3 = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      setValue(null);\n    };\n    $[4] = setValue;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  const handleClearClick = t3;\n  let inputType;\n  let isMultiline;\n  let onChange;\n  if ($[6] !== multiline || $[7] !== property.dataType || $[8] !== setValue) {\n    onChange = (event) => {\n      if (inputType === \"number\") {\n        const numberValue = event.target.value ? parseFloat(event.target.value) : void 0;\n        if (numberValue && isNaN(numberValue)) {\n          setValue(null);\n        } else {\n          if (numberValue !== void 0 && numberValue !== null) {\n            setValue(numberValue);\n          } else {\n            setValue(null);\n          }\n        }\n      } else {\n        setValue(event.target.value);\n      }\n    };\n    isMultiline = Boolean(multiline);\n    inputType = property.dataType === \"number\" ? \"number\" : void 0;\n    $[6] = multiline;\n    $[7] = property.dataType;\n    $[8] = setValue;\n    $[9] = inputType;\n    $[10] = isMultiline;\n    $[11] = onChange;\n  } else {\n    inputType = $[9];\n    isMultiline = $[10];\n    onChange = $[11];\n  }\n  const t4 = property.widthPercentage !== void 0 ? \"mt-8\" : void 0;\n  let t5;\n  if ($[12] !== property) {\n    t5 = getIconForProperty(property, \"small\");\n    $[12] = property;\n    $[13] = t5;\n  } else {\n    t5 = $[13];\n  }\n  const t6 = property.validation?.required;\n  let t7;\n  if ($[14] !== property.name || $[15] !== t5 || $[16] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIcon, { icon: t5, required: t6, title: property.name });\n    $[14] = property.name;\n    $[15] = t5;\n    $[16] = t6;\n    $[17] = t7;\n  } else {\n    t7 = $[17];\n  }\n  let t8;\n  if ($[18] !== handleClearClick || $[19] !== property.clearable) {\n    t8 = property.clearable && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { onClick: handleClearClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {}) });\n    $[18] = handleClearClick;\n    $[19] = property.clearable;\n    $[20] = t8;\n  } else {\n    t8 = $[20];\n  }\n  const t9 = showError ? error : void 0;\n  const t10 = error ? \"text-red-500 dark:text-red-600\" : \"\";\n  let t11;\n  if ($[21] !== autoFocus || $[22] !== disabled || $[23] !== inputType || $[24] !== isMultiline || $[25] !== onChange || $[26] !== size || $[27] !== t10 || $[28] !== t4 || $[29] !== t7 || $[30] !== t8 || $[31] !== t9 || $[32] !== value) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { size, value, onChange, autoFocus, className: t4, label: t7, type: inputType, multiline: isMultiline, disabled, endAdornment: t8, error: t9, inputClassName: t10 });\n    $[21] = autoFocus;\n    $[22] = disabled;\n    $[23] = inputType;\n    $[24] = isMultiline;\n    $[25] = onChange;\n    $[26] = size;\n    $[27] = t10;\n    $[28] = t4;\n    $[29] = t7;\n    $[30] = t8;\n    $[31] = t9;\n    $[32] = value;\n    $[33] = t11;\n  } else {\n    t11 = $[33];\n  }\n  let t12;\n  if ($[34] !== propertyKey || $[35] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltip, { propertyKey, children: t11 });\n    $[34] = propertyKey;\n    $[35] = t11;\n    $[36] = t12;\n  } else {\n    t12 = $[36];\n  }\n  let t13;\n  if ($[37] !== disabled || $[38] !== error || $[39] !== includeDescription || $[40] !== property || $[41] !== showError) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[37] = disabled;\n    $[38] = error;\n    $[39] = includeDescription;\n    $[40] = property;\n    $[41] = showError;\n    $[42] = t13;\n  } else {\n    t13 = $[42];\n  }\n  let t14;\n  if ($[43] !== property || $[44] !== size || $[45] !== url || $[46] !== value) {\n    t14 = url && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Collapse, { className: \"mt-1 ml-1\", in: Boolean(value), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { value, property, size }) });\n    $[43] = property;\n    $[44] = size;\n    $[45] = url;\n    $[46] = value;\n    $[47] = t14;\n  } else {\n    t14 = $[47];\n  }\n  let t15;\n  if ($[48] !== t12 || $[49] !== t13 || $[50] !== t14) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t12,\n      t13,\n      t14\n    ] });\n    $[48] = t12;\n    $[49] = t13;\n    $[50] = t14;\n    $[51] = t15;\n  } else {\n    t15 = $[51];\n  }\n  return t15;\n}\nconst SwitchFieldBinding = function SwitchFieldBinding2(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(33);\n  const {\n    propertyKey,\n    value,\n    setValue,\n    error,\n    showError,\n    autoFocus,\n    disabled,\n    size: t1,\n    property,\n    includeDescription\n  } = t0;\n  const size = t1 === void 0 ? \"large\" : t1;\n  let t2;\n  if ($[0] !== property || $[1] !== setValue || $[2] !== value) {\n    t2 = {\n      property,\n      value,\n      setValue\n    };\n    $[0] = property;\n    $[1] = setValue;\n    $[2] = value;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  useClearRestoreValue(t2);\n  let t3;\n  if ($[4] !== setValue) {\n    t3 = (v) => setValue(v);\n    $[4] = setValue;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  const t4 = property.widthPercentage !== void 0 ? \"mt-8\" : void 0;\n  let t5;\n  if ($[6] !== property) {\n    t5 = getIconForProperty(property, \"small\");\n    $[6] = property;\n    $[7] = t5;\n  } else {\n    t5 = $[7];\n  }\n  const t6 = property.validation?.required;\n  let t7;\n  if ($[8] !== property.name || $[9] !== t5 || $[10] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIcon, { icon: t5, required: t6, title: property.name });\n    $[8] = property.name;\n    $[9] = t5;\n    $[10] = t6;\n    $[11] = t7;\n  } else {\n    t7 = $[11];\n  }\n  let t8;\n  if ($[12] !== autoFocus || $[13] !== disabled || $[14] !== showError || $[15] !== size || $[16] !== t3 || $[17] !== t4 || $[18] !== t7 || $[19] !== value) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BooleanSwitchWithLabel, { value, onValueChange: t3, error: showError, className: t4, label: t7, disabled, autoFocus, size });\n    $[12] = autoFocus;\n    $[13] = disabled;\n    $[14] = showError;\n    $[15] = size;\n    $[16] = t3;\n    $[17] = t4;\n    $[18] = t7;\n    $[19] = value;\n    $[20] = t8;\n  } else {\n    t8 = $[20];\n  }\n  let t9;\n  if ($[21] !== propertyKey || $[22] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltip, { propertyKey, children: t8 });\n    $[21] = propertyKey;\n    $[22] = t8;\n    $[23] = t9;\n  } else {\n    t9 = $[23];\n  }\n  let t10;\n  if ($[24] !== disabled || $[25] !== error || $[26] !== includeDescription || $[27] !== property || $[28] !== showError) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[24] = disabled;\n    $[25] = error;\n    $[26] = includeDescription;\n    $[27] = property;\n    $[28] = showError;\n    $[29] = t10;\n  } else {\n    t10 = $[29];\n  }\n  let t11;\n  if ($[30] !== t10 || $[31] !== t9) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t9,\n      t10\n    ] });\n    $[30] = t10;\n    $[31] = t9;\n    $[32] = t11;\n  } else {\n    t11 = $[32];\n  }\n  return t11;\n};\nfunction DateTimeFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(34);\n  const {\n    propertyKey,\n    value,\n    setValue,\n    error,\n    showError,\n    disabled,\n    property,\n    includeDescription\n  } = t0;\n  const {\n    locale\n  } = useCustomizationController();\n  const internalValue = value || null;\n  let t1;\n  if ($[0] !== property || $[1] !== setValue || $[2] !== value) {\n    t1 = {\n      property,\n      value,\n      setValue\n    };\n    $[0] = property;\n    $[1] = setValue;\n    $[2] = value;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  useClearRestoreValue(t1);\n  let t2;\n  if ($[4] !== setValue) {\n    t2 = (dateValue) => setValue(dateValue);\n    $[4] = setValue;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  const t3 = property.mode;\n  const t4 = property.clearable;\n  let t5;\n  if ($[6] !== property) {\n    t5 = getIconForProperty(property, \"small\");\n    $[6] = property;\n    $[7] = t5;\n  } else {\n    t5 = $[7];\n  }\n  const t6 = property.validation?.required;\n  const t7 = showError ? \"text-red-500 dark:text-red-500\" : \"text-text-secondary dark:text-text-secondary-dark\";\n  let t8;\n  if ($[8] !== property.name || $[9] !== t5 || $[10] !== t6 || $[11] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIcon, { icon: t5, required: t6, className: t7, title: property.name });\n    $[8] = property.name;\n    $[9] = t5;\n    $[10] = t6;\n    $[11] = t7;\n    $[12] = t8;\n  } else {\n    t8 = $[12];\n  }\n  let t9;\n  if ($[13] !== disabled || $[14] !== internalValue || $[15] !== locale || $[16] !== property.clearable || $[17] !== property.mode || $[18] !== showError || $[19] !== t2 || $[20] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DateTimeField, { value: internalValue, onChange: t2, size: \"large\", mode: t3, clearable: t4, locale, error: showError, disabled, label: t8 });\n    $[13] = disabled;\n    $[14] = internalValue;\n    $[15] = locale;\n    $[16] = property.clearable;\n    $[17] = property.mode;\n    $[18] = showError;\n    $[19] = t2;\n    $[20] = t8;\n    $[21] = t9;\n  } else {\n    t9 = $[21];\n  }\n  let t10;\n  if ($[22] !== propertyKey || $[23] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyIdCopyTooltip, { propertyKey, children: t9 });\n    $[22] = propertyKey;\n    $[23] = t9;\n    $[24] = t10;\n  } else {\n    t10 = $[24];\n  }\n  let t11;\n  if ($[25] !== disabled || $[26] !== error || $[27] !== includeDescription || $[28] !== property || $[29] !== showError) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[25] = disabled;\n    $[26] = error;\n    $[27] = includeDescription;\n    $[28] = property;\n    $[29] = showError;\n    $[30] = t11;\n  } else {\n    t11 = $[30];\n  }\n  let t12;\n  if ($[31] !== t10 || $[32] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t10,\n      t11\n    ] });\n    $[31] = t10;\n    $[32] = t11;\n    $[33] = t12;\n  } else {\n    t12 = $[33];\n  }\n  return t12;\n}\nfunction ReadOnlyFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(18);\n  const {\n    propertyKey,\n    value,\n    error,\n    showError,\n    minimalistView,\n    property,\n    includeDescription,\n    context\n  } = t0;\n  if (!context.entityId) {\n    throw new Error(\"ReadOnlyFieldBinding: Entity id is null\");\n  }\n  let t1;\n  if ($[0] !== minimalistView || $[1] !== property || $[2] !== propertyKey) {\n    t1 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"h-8 text-text-secondary dark:text-text-secondary-dark ml-3.5\" });\n    $[0] = minimalistView;\n    $[1] = property;\n    $[2] = propertyKey;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  let t2;\n  if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.paperMixin, \"w-full min-h-14 p-4 md:p-6 overflow-x-scroll no-scrollbar\");\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  let t3;\n  if ($[5] !== property || $[6] !== propertyKey || $[7] !== value) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyPreview, { propertyKey, value, property, size: \"medium\" }) }) });\n    $[5] = property;\n    $[6] = propertyKey;\n    $[7] = value;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  let t4;\n  if ($[9] !== error || $[10] !== includeDescription || $[11] !== property || $[12] !== showError) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, property });\n    $[9] = error;\n    $[10] = includeDescription;\n    $[11] = property;\n    $[12] = showError;\n    $[13] = t4;\n  } else {\n    t4 = $[13];\n  }\n  let t5;\n  if ($[14] !== t1 || $[15] !== t3 || $[16] !== t4) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t1,\n      t3,\n      t4\n    ] });\n    $[14] = t1;\n    $[15] = t3;\n    $[16] = t4;\n    $[17] = t5;\n  } else {\n    t5 = $[17];\n  }\n  return t5;\n}\nfunction ReferenceFieldBinding(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(4);\n  if (typeof props.property.path !== \"string\") {\n    let t02;\n    if ($[0] !== props) {\n      t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReadOnlyFieldBinding, { ...props });\n      $[0] = props;\n      $[1] = t02;\n    } else {\n      t02 = $[1];\n    }\n    return t02;\n  }\n  let t0;\n  if ($[2] !== props) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferenceFieldBindingInternal, { ...props });\n    $[2] = props;\n    $[3] = t0;\n  } else {\n    t0 = $[3];\n  }\n  return t0;\n}\nfunction ReferenceFieldBindingInternal({\n  propertyKey,\n  value,\n  setValue,\n  error,\n  showError,\n  isSubmitting,\n  disabled,\n  minimalistView,\n  touched,\n  autoFocus,\n  property,\n  includeDescription,\n  size = \"medium\"\n}) {\n  if (!property.path) {\n    throw new Error(\"Property path is required for ReferenceFieldBinding\");\n  }\n  useClearRestoreValue({\n    property,\n    value,\n    setValue\n  });\n  const validValue = value && value.isEntityReference && value.isEntityReference();\n  const navigationController = useNavigationController();\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return property.path ? navigationController.getCollection(property.path) : void 0;\n  }, [property.path]);\n  if (!collection) {\n    throw Error(`Couldn't find the corresponding collection for the path: ${property.path}`);\n  }\n  const onSingleEntitySelected = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e) => {\n    setValue(e ? getReferenceFrom(e) : null);\n  }, [setValue]);\n  const referenceDialogController = useReferenceDialog({\n    multiselect: false,\n    path: property.path,\n    collection,\n    onSingleEntitySelected,\n    selectedEntityIds: validValue ? [value.id] : void 0,\n    forceFilter: property.forceFilter\n  });\n  const onEntryClick = (e_0) => {\n    e_0.preventDefault();\n    referenceDialogController.open();\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"h-8 text-text-secondary dark:text-text-secondary-dark ml-3.5\" }),\n    !collection && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { error: \"The specified collection does not exist. Check console\" }),\n    collection && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReferencePreview, { disabled: !property.path, previewProperties: property.previewProperties, hover: !disabled, size, onClick: disabled || isSubmitting ? void 0 : onEntryClick, reference: value, includeEntityLink: property.includeEntityLink, includeId: property.includeId }),\n      !value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"justify-center text-left\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(EntityPreviewContainer, { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"px-6 h-16 text-sm font-medium flex items-center gap-6\", disabled || isSubmitting ? \"text-surface-accent-500\" : \"cursor-pointer text-surface-accent-700 dark:text-surface-accent-300 hover:bg-surface-accent-50 dark:hover:bg-surface-800 group-hover:bg-surface-accent-50 dark:group-hover:bg-surface-800\"), onClick: onEntryClick, size: \"medium\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { collectionOrView: collection, className: \"text-surface-300 dark:text-surface-600\" }),\n        `Edit ${property.name}`.toUpperCase()\n      ] }) })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property })\n  ] });\n}\nconst PropertyFieldBinding = react__WEBPACK_IMPORTED_MODULE_2__.memo(PropertyFieldBindingInternal, (a, b) => {\n  if (a.propertyKey !== b.propertyKey) {\n    return false;\n  }\n  if (a.index !== b.index) {\n    return false;\n  }\n  if (a.size !== b.size) {\n    return false;\n  }\n  const aIsBuilder = isPropertyBuilder(a.property) || a.property.fromBuilder;\n  const bIsBuilder = isPropertyBuilder(b.property) || b.property.fromBuilder;\n  const baseCheck = (aIsBuilder === bIsBuilder || react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(a.property, b.property)) && a.disabled === b.disabled;\n  if (!baseCheck) {\n    return false;\n  }\n  if (shouldPropertyReRender(b.property)) {\n    return false;\n  }\n  return false;\n});\nfunction PropertyFieldBindingInternal(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17);\n  const {\n    propertyKey,\n    property,\n    context,\n    includeDescription,\n    underlyingValueHasChanged,\n    disabled: disabledProp,\n    partOfArray,\n    minimalistView,\n    autoFocus,\n    index,\n    size,\n    onPropertyChange\n  } = t0;\n  const customizationController = useCustomizationController();\n  let t1;\n  if ($[0] !== autoFocus || $[1] !== context || $[2] !== customizationController.propertyConfigs || $[3] !== disabledProp || $[4] !== includeDescription || $[5] !== index || $[6] !== minimalistView || $[7] !== onPropertyChange || $[8] !== partOfArray || $[9] !== property || $[10] !== propertyKey || $[11] !== size || $[12] !== underlyingValueHasChanged) {\n    t1 = (fieldProps) => {\n      let Component;\n      const resolvedProperty = resolveProperty({\n        propertyKey,\n        propertyOrBuilder: property,\n        values: fieldProps.form.values,\n        path: context.path,\n        entityId: context.entityId,\n        propertyConfigs: customizationController.propertyConfigs,\n        index\n      });\n      const disabled = disabledProp || isReadOnly(resolvedProperty) || Boolean(resolvedProperty?.disabled);\n      if (resolvedProperty === null || isHidden(resolvedProperty)) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n      } else {\n        if (isReadOnly(resolvedProperty)) {\n          Component = ReadOnlyFieldBinding;\n        } else {\n          if (resolvedProperty.Field) {\n            if (typeof resolvedProperty.Field === \"function\") {\n              Component = resolvedProperty.Field;\n            }\n          } else {\n            const propertyConfig = getFieldConfig(resolvedProperty, customizationController.propertyConfigs);\n            if (!propertyConfig) {\n              console.log(\"INTERNAL: Could not find field config for property\", {\n                propertyKey,\n                property,\n                resolvedProperty,\n                fields: customizationController.propertyConfigs,\n                propertyConfig\n              });\n              throw new Error(`INTERNAL: Could not find field config for property ${propertyKey}`);\n            }\n            const configProperty = resolveProperty({\n              propertyKey,\n              propertyOrBuilder: propertyConfig.property,\n              values: fieldProps.form.values,\n              path: context.path,\n              entityId: context.entityId,\n              propertyConfigs: customizationController.propertyConfigs,\n              index\n            });\n            Component = configProperty.Field;\n          }\n        }\n      }\n      if (!Component) {\n        console.warn(`No field component found for property ${propertyKey}`);\n        console.warn(\"Property:\", property);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full\", children: `Currently the field ${resolvedProperty.dataType} is not supported` });\n      }\n      const componentProps = {\n        propertyKey,\n        property: resolvedProperty,\n        includeDescription,\n        underlyingValueHasChanged,\n        context,\n        disabled,\n        partOfArray,\n        minimalistView,\n        autoFocus,\n        size,\n        onPropertyChange\n      };\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldInternal, { Component, componentProps, formexFieldProps: fieldProps });\n    };\n    $[0] = autoFocus;\n    $[1] = context;\n    $[2] = customizationController.propertyConfigs;\n    $[3] = disabledProp;\n    $[4] = includeDescription;\n    $[5] = index;\n    $[6] = minimalistView;\n    $[7] = onPropertyChange;\n    $[8] = partOfArray;\n    $[9] = property;\n    $[10] = propertyKey;\n    $[11] = size;\n    $[12] = underlyingValueHasChanged;\n    $[13] = t1;\n  } else {\n    t1 = $[13];\n  }\n  let t2;\n  if ($[14] !== propertyKey || $[15] !== t1) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.Field, { name: propertyKey, children: t1 }, propertyKey);\n    $[14] = propertyKey;\n    $[15] = t1;\n    $[16] = t2;\n  } else {\n    t2 = $[16];\n  }\n  return t2;\n}\nfunction FieldInternal({\n  Component,\n  componentProps: {\n    propertyKey,\n    property,\n    includeDescription,\n    underlyingValueHasChanged,\n    partOfArray,\n    minimalistView,\n    autoFocus,\n    context,\n    disabled,\n    size,\n    onPropertyChange\n  },\n  formexFieldProps\n}) {\n  const {\n    plugins\n  } = useCustomizationController();\n  const customFieldProps = property.customProps;\n  const value = formexFieldProps.field.value;\n  const error = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(formexFieldProps.form.errors, propertyKey);\n  const touched = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(formexFieldProps.form.touched, propertyKey);\n  const showError = error && (formexFieldProps.form.submitCount > 0 || property.validation?.unique) && (!Array.isArray(error) || !!error.filter((e) => !!e).length);\n  const WrappedComponent = useWrappedComponent({\n    path: context.path,\n    collection: context.collection,\n    propertyKey,\n    property,\n    Component,\n    plugins\n  });\n  const UsedComponent = WrappedComponent ?? Component;\n  const isSubmitting = formexFieldProps.form.isSubmitting;\n  const setValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((value_0, shouldValidate) => {\n    formexFieldProps.form.setFieldTouched(propertyKey, true, false);\n    formexFieldProps.form.setFieldValue(propertyKey, value_0, shouldValidate);\n  }, []);\n  const setFieldValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((otherPropertyKey, value_1, shouldValidate_0) => {\n    formexFieldProps.form.setFieldTouched(propertyKey, true, false);\n    formexFieldProps.form.setFieldValue(otherPropertyKey, value_1, shouldValidate_0);\n  }, []);\n  const cmsFieldProps = {\n    propertyKey,\n    value,\n    setValue,\n    setFieldValue,\n    error,\n    touched,\n    showError,\n    isSubmitting,\n    includeDescription: includeDescription ?? true,\n    property,\n    disabled: disabled ?? false,\n    underlyingValueHasChanged: underlyingValueHasChanged ?? false,\n    partOfArray: partOfArray ?? false,\n    minimalistView: minimalistView ?? false,\n    autoFocus: autoFocus ?? false,\n    customProps: customFieldProps,\n    context,\n    size,\n    onPropertyChange\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ErrorBoundary, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UsedComponent, { ...cmsFieldProps }),\n    underlyingValueHasChanged && !isSubmitting && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"ml-3.5\", children: \"This value has been updated elsewhere\" })\n  ] });\n}\nconst shouldPropertyReRender = (property, plugins) => {\n  if (isPropertyBuilder(property)) {\n    return true;\n  }\n  const defAProperty = property;\n  const rerenderThisProperty = Boolean(defAProperty.Field) || \"fromBuilder\" in defAProperty && defAProperty.fromBuilder;\n  if (defAProperty.dataType === \"map\" && defAProperty.properties) {\n    return rerenderThisProperty || Object.values(defAProperty.properties).some((childProperty) => shouldPropertyReRender(childProperty));\n  } else if (defAProperty.dataType === \"array\" && \"resolvedProperties\" in defAProperty) {\n    return rerenderThisProperty || defAProperty.resolvedProperties?.some((childProperty) => childProperty && shouldPropertyReRender(childProperty));\n  } else {\n    return rerenderThisProperty;\n  }\n};\nfunction useWrappedComponent({\n  path,\n  collection,\n  propertyKey,\n  property,\n  Component,\n  plugins\n}) {\n  const wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)((() => {\n    let Wrapper = null;\n    if (plugins) {\n      plugins.forEach((plugin) => {\n        const fieldId = getFieldId(property);\n        if (fieldId && plugin.form?.fieldBuilder) {\n          const params = {\n            fieldConfigId: fieldId,\n            propertyKey,\n            property,\n            Field: Component,\n            plugin,\n            path,\n            collection\n          };\n          const enabled = plugin.form?.fieldBuilderEnabled?.(params);\n          if (enabled === void 0 || enabled) Wrapper = plugin.form.fieldBuilder(params) || Wrapper;\n        }\n        if (!fieldId) {\n          console.warn(\"INTERNAL: Field id not found for property\", property);\n        }\n      });\n    }\n    return Wrapper;\n  })());\n  return wrapperRef.current;\n}\nfunction MapFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(41);\n  const {\n    propertyKey,\n    value,\n    showError,\n    error,\n    disabled,\n    property,\n    minimalistView: minimalistViewProp,\n    includeDescription,\n    autoFocus,\n    context,\n    onPropertyChange\n  } = t0;\n  const pickOnlySomeKeys = property.pickOnlySomeKeys || false;\n  const expanded = property.expanded === void 0 ? true : property.expanded;\n  const minimalistView = minimalistViewProp || property.minimalistView;\n  if (!property.properties) {\n    throw Error(`You need to specify a 'properties' prop (or specify a custom field) in your map property ${propertyKey}`);\n  }\n  let mapProperties;\n  if (pickOnlySomeKeys) {\n    if (value) {\n      let t12;\n      if ($[0] !== property.properties || $[1] !== value) {\n        t12 = pick(property.properties, ...Object.keys(value).filter((key) => key in property.properties));\n        $[0] = property.properties;\n        $[1] = value;\n        $[2] = t12;\n      } else {\n        t12 = $[2];\n      }\n      mapProperties = t12;\n    } else {\n      let t12;\n      if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t12 = {};\n        $[3] = t12;\n      } else {\n        t12 = $[3];\n      }\n      mapProperties = t12;\n    }\n  } else {\n    mapProperties = property.properties;\n  }\n  const t1 = minimalistView && property.widthPercentage !== void 0 ? \"mt-8\" : void 0;\n  let t2;\n  if ($[4] !== t1) {\n    t2 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"py-1 flex flex-col space-y-2\", t1);\n    $[4] = t1;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  let t3;\n  if ($[6] !== autoFocus || $[7] !== context || $[8] !== disabled || $[9] !== includeDescription || $[10] !== mapProperties || $[11] !== onPropertyChange || $[12] !== propertyKey) {\n    let t42;\n    if ($[14] !== autoFocus || $[15] !== context || $[16] !== disabled || $[17] !== includeDescription || $[18] !== onPropertyChange || $[19] !== propertyKey) {\n      t42 = (t52, index) => {\n        const [entryKey, childProperty] = t52;\n        const thisDisabled = isReadOnly(childProperty) || Boolean(childProperty.disabled);\n        const fieldBindingProps = {\n          propertyKey: `${propertyKey}.${entryKey}`,\n          disabled: disabled || thisDisabled,\n          property: childProperty,\n          includeDescription,\n          context,\n          partOfArray: false,\n          minimalistView: false,\n          autoFocus: autoFocus && index === 0,\n          onPropertyChange: function(updatedProperty) {\n            onPropertyChange?.({\n              properties: {\n                [entryKey]: updatedProperty\n              }\n            });\n          }\n        };\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"relative\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...fieldBindingProps }) }) }, `map-${propertyKey}-${index}`);\n      };\n      $[14] = autoFocus;\n      $[15] = context;\n      $[16] = disabled;\n      $[17] = includeDescription;\n      $[18] = onPropertyChange;\n      $[19] = propertyKey;\n      $[20] = t42;\n    } else {\n      t42 = $[20];\n    }\n    t3 = Object.entries(mapProperties).filter(_temp$6).map(t42);\n    $[6] = autoFocus;\n    $[7] = context;\n    $[8] = disabled;\n    $[9] = includeDescription;\n    $[10] = mapProperties;\n    $[11] = onPropertyChange;\n    $[12] = propertyKey;\n    $[13] = t3;\n  } else {\n    t3 = $[13];\n  }\n  let t4;\n  if ($[21] !== t2 || $[22] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, children: t3 }) });\n    $[21] = t2;\n    $[22] = t3;\n    $[23] = t4;\n  } else {\n    t4 = $[23];\n  }\n  const mapFormView = t4;\n  let t5;\n  if ($[24] !== expanded || $[25] !== mapFormView || $[26] !== minimalistView || $[27] !== onPropertyChange || $[28] !== property || $[29] !== propertyKey) {\n    t5 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { initiallyExpanded: expanded, onExpandedChange: (expanded_0) => {\n      onPropertyChange?.({\n        expanded: expanded_0\n      });\n    }, className: property.widthPercentage !== void 0 ? \"mt-8\" : void 0, innerClassName: \"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2 bg-white dark:bg-surface-900\", title: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"text-text-secondary dark:text-text-secondary-dark\" }), children: mapFormView });\n    $[24] = expanded;\n    $[25] = mapFormView;\n    $[26] = minimalistView;\n    $[27] = onPropertyChange;\n    $[28] = property;\n    $[29] = propertyKey;\n    $[30] = t5;\n  } else {\n    t5 = $[30];\n  }\n  const t6 = minimalistView && mapFormView;\n  const t7 = showError ?? false;\n  const t8 = error ? typeof error === \"string\" ? error : \"A property of this map has an error\" : void 0;\n  let t9;\n  if ($[31] !== disabled || $[32] !== includeDescription || $[33] !== property || $[34] !== t7 || $[35] !== t8) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError: t7, error: t8, disabled, property });\n    $[31] = disabled;\n    $[32] = includeDescription;\n    $[33] = property;\n    $[34] = t7;\n    $[35] = t8;\n    $[36] = t9;\n  } else {\n    t9 = $[36];\n  }\n  let t10;\n  if ($[37] !== t5 || $[38] !== t6 || $[39] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ErrorBoundary, { children: [\n      t5,\n      t6,\n      t9\n    ] });\n    $[37] = t5;\n    $[38] = t6;\n    $[39] = t9;\n    $[40] = t10;\n  } else {\n    t10 = $[40];\n  }\n  return t10;\n}\nfunction _temp$6(t0) {\n  const [, property_0] = t0;\n  return !isHidden(property_0);\n}\nfunction KeyValueFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(31);\n  const {\n    propertyKey,\n    value,\n    showError,\n    error,\n    disabled,\n    property,\n    setValue,\n    minimalistView,\n    includeDescription,\n    autoFocus,\n    context\n  } = t0;\n  const expanded = (property.expanded === void 0 ? true : property.expanded) || autoFocus;\n  if (!property.keyValue) {\n    throw Error(`Your property ${propertyKey} needs to have the 'keyValue' prop in order to use this field binding`);\n  }\n  let t1;\n  if ($[0] !== context.formex.initialValues || $[1] !== propertyKey) {\n    t1 = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(context.formex.initialValues, propertyKey);\n    $[0] = context.formex.initialValues;\n    $[1] = propertyKey;\n    $[2] = t1;\n  } else {\n    t1 = $[2];\n  }\n  const initialValues = t1;\n  const t2 = property.name ?? propertyKey;\n  let t3;\n  if ($[3] !== disabled || $[4] !== initialValues || $[5] !== setValue || $[6] !== t2 || $[7] !== value) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MapEditView, { value, setValue, disabled, initialValue: initialValues, fieldName: t2 });\n    $[3] = disabled;\n    $[4] = initialValues;\n    $[5] = setValue;\n    $[6] = t2;\n    $[7] = value;\n    $[8] = t3;\n  } else {\n    t3 = $[8];\n  }\n  const mapFormView = t3;\n  let t4;\n  if ($[9] !== property) {\n    t4 = getIconForProperty(property, \"small\");\n    $[9] = property;\n    $[10] = t4;\n  } else {\n    t4 = $[10];\n  }\n  const t5 = property.validation?.required;\n  let t6;\n  if ($[11] !== property.name || $[12] !== propertyKey || $[13] !== t4 || $[14] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: t4, required: t5, title: property.name, className: \"text-text-secondary dark:text-text-secondary-dark\" });\n    $[11] = property.name;\n    $[12] = propertyKey;\n    $[13] = t4;\n    $[14] = t5;\n    $[15] = t6;\n  } else {\n    t6 = $[15];\n  }\n  const title = t6;\n  let t7;\n  if ($[16] !== expanded || $[17] !== mapFormView || $[18] !== minimalistView || $[19] !== title) {\n    t7 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { initiallyExpanded: expanded, title, innerClassName: \"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2\", children: mapFormView });\n    $[16] = expanded;\n    $[17] = mapFormView;\n    $[18] = minimalistView;\n    $[19] = title;\n    $[20] = t7;\n  } else {\n    t7 = $[20];\n  }\n  const t8 = minimalistView && mapFormView;\n  let t9;\n  if ($[21] !== disabled || $[22] !== error || $[23] !== includeDescription || $[24] !== property || $[25] !== showError) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[21] = disabled;\n    $[22] = error;\n    $[23] = includeDescription;\n    $[24] = property;\n    $[25] = showError;\n    $[26] = t9;\n  } else {\n    t9 = $[26];\n  }\n  let t10;\n  if ($[27] !== t7 || $[28] !== t8 || $[29] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t7,\n      t8,\n      t9\n    ] });\n    $[27] = t7;\n    $[28] = t8;\n    $[29] = t9;\n    $[30] = t10;\n  } else {\n    t10 = $[30];\n  }\n  return t10;\n}\nfunction MapEditView({\n  value,\n  initialValue,\n  setValue,\n  fieldName,\n  disabled\n}) {\n  const [internalState, setInternalState] = react__WEBPACK_IMPORTED_MODULE_2__.useState(Object.keys(initialValue ?? {}).map((key) => [getRandomId(), {\n    key,\n    dataType: getDataType(initialValue?.[key]) ?? \"string\"\n  }]));\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const currentKeys = internalState.map(([id, {\n      key: key_0\n    }]) => key_0);\n    const newKeys = Object.entries(value ?? {}).filter(([key_1, v]) => v !== void 0).map(([key_2]) => key_2);\n    const keysToAdd = newKeys.filter((key_3) => !currentKeys.includes(key_3));\n    const keysToRemove = currentKeys.filter((key_4) => !newKeys.includes(key_4));\n    const newRowIds = [...internalState];\n    keysToAdd.forEach((key_5) => {\n      newRowIds.push([getRandomId(), {\n        key: key_5,\n        dataType: getDataType(value?.[key_5]) ?? \"string\"\n      }]);\n    });\n    keysToRemove.forEach((key_6) => {\n      const index = newRowIds.findIndex(([id_0, {\n        key: k\n      }]) => k === key_6);\n      newRowIds.splice(index, 1);\n    });\n    setInternalState(newRowIds);\n  }, [value]);\n  const updateDataType = (rowId, dataType) => {\n    if (!rowId) {\n      console.warn(\"No key selected for data type update\");\n      return;\n    }\n    setInternalState(internalState.map((row) => {\n      if (row[0] === rowId) {\n        return [row[0], {\n          key: row[1].key,\n          dataType\n        }];\n      }\n      return row;\n    }));\n    setValue({\n      ...value ?? {},\n      [internalState.find((row) => row[0] === rowId)?.[1].key ?? \"\"]: getDefaultValueForDataType(dataType)\n    });\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"py-1 flex flex-col gap-1\", children: [\n    internalState.map(([rowId_0, {\n      key: fieldKey,\n      dataType: dataType_0\n    }], index_0) => {\n      const entryValue = fieldKey ? value?.[fieldKey] : \"\";\n      const onFieldKeyChange = (newKey) => {\n        setInternalState(internalState.map((currentRowId) => {\n          if (currentRowId[0] === rowId_0) {\n            return [rowId_0, {\n              key: newKey ?? \"\",\n              dataType: currentRowId[1].dataType\n            }];\n          }\n          return currentRowId;\n        }));\n        if (typeof value === \"object\" && newKey in value) {\n          return;\n        }\n        const newValue = {\n          ...value ?? {}\n        };\n        if (typeof initialValue === \"object\" && fieldKey in initialValue) {\n          newValue[fieldKey] = void 0;\n        } else {\n          delete newValue[fieldKey];\n        }\n        setValue({\n          ...newValue,\n          [newKey ?? \"\"]: entryValue\n        });\n      };\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MapKeyValueRow, { rowId: rowId_0, fieldKey, value: value ?? {}, onDeleteClick: () => {\n        const newValue_0 = {\n          ...value ?? {}\n        };\n        if (initialValue && fieldKey in initialValue) {\n          newValue_0[fieldKey] = void 0;\n        } else {\n          delete newValue_0[fieldKey];\n        }\n        setInternalState(internalState.filter((currentRowId_0) => currentRowId_0[0] !== rowId_0));\n        setValue({\n          ...newValue_0\n        });\n      }, onFieldKeyChange, setValue, entryValue, dataType: dataType_0, disabled, updateDataType }, rowId_0);\n    }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", size: \"small\", color: \"primary\", className: \"w-full\", disabled, startIcon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddIcon, {}), onClick: (e) => {\n      e.preventDefault();\n      setValue({\n        ...value ?? {},\n        \"\": null\n      });\n      setInternalState([...internalState, [getRandomId(), {\n        key: \"\",\n        dataType: \"string\"\n      }]]);\n    }, children: fieldName ? `Add to ${fieldName}` : \"Add\" })\n  ] });\n}\nfunction MapKeyValueRow(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(63);\n  const {\n    rowId,\n    fieldKey,\n    value,\n    onFieldKeyChange,\n    onDeleteClick,\n    setValue,\n    entryValue,\n    dataType,\n    updateDataType,\n    disabled\n  } = t0;\n  const {\n    locale\n  } = useCustomizationController();\n  let t1;\n  if ($[0] !== disabled || $[1] !== locale || $[2] !== rowId || $[3] !== setValue || $[4] !== value) {\n    t1 = function buildInput2(entryValue_0, fieldKey_0, dataType_0) {\n      if (dataType_0 === \"string\" || dataType_0 === \"number\") {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { placeholder: \"value\", value: entryValue_0, type: dataType_0 === \"number\" ? \"number\" : \"text\", size: \"medium\", disabled: disabled || !fieldKey_0, onChange: (event) => {\n          if (dataType_0 === \"number\") {\n            const numberValue = event.target.value ? parseFloat(event.target.value) : void 0;\n            if (numberValue && isNaN(numberValue)) {\n              setValue({\n                ...value,\n                [fieldKey_0]: null\n              });\n            } else {\n              if (numberValue !== void 0 && numberValue !== null) {\n                setValue({\n                  ...value,\n                  [fieldKey_0]: numberValue\n                });\n              } else {\n                setValue({\n                  ...value,\n                  [fieldKey_0]: null\n                });\n              }\n            }\n          } else {\n            setValue({\n              ...value,\n              [fieldKey_0]: event.target.value\n            });\n          }\n        } }, dataType_0);\n      } else {\n        if (dataType_0 === \"date\") {\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DateTimeField, { value: entryValue_0, size: \"medium\", locale, disabled: disabled || !fieldKey_0, onChange: (date) => {\n            setValue({\n              ...value,\n              [fieldKey_0]: date\n            });\n          } });\n        } else {\n          if (dataType_0 === \"boolean\") {\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BooleanSwitchWithLabel, { value: entryValue_0, size: \"medium\", position: \"start\", disabled: disabled || !fieldKey_0, onValueChange: (newValue) => {\n              setValue({\n                ...value,\n                [fieldKey_0]: newValue\n              });\n            } });\n          } else {\n            if (dataType_0 === \"array\") {\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"ml-2 pl-2 border-l border-solid\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainer, { value: entryValue_0, newDefaultEntry: \"\", droppableId: rowId.toString(), addLabel: fieldKey_0 ? `Add to ${fieldKey_0}` : \"Add\", size: \"small\", disabled: disabled || !fieldKey_0, includeAddButton: true, onValueChange: (newValue_0) => {\n                setValue({\n                  ...value,\n                  [fieldKey_0]: newValue_0\n                });\n              }, buildEntry: (t23) => {\n                const {\n                  index,\n                  internalId\n                } = t23;\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayKeyValueRow, { index, id: internalId, value: entryValue_0[index], disabled: disabled || !fieldKey_0, setValue: (newValue_1) => {\n                  const newArrayValue = [...entryValue_0];\n                  newArrayValue[index] = newValue_1;\n                  setValue({\n                    ...value,\n                    [fieldKey_0]: newArrayValue\n                  });\n                } });\n              } }) });\n            } else {\n              if (dataType_0 === \"map\") {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"ml-2 pl-2 border-l border-solid\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MapEditView, { value: entryValue_0, fieldName: fieldKey_0, setValue: (updatedValue) => {\n                  setValue({\n                    ...value,\n                    [fieldKey_0]: updatedValue\n                  });\n                } }) });\n              } else {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", children: `Data type ${dataType_0} not supported yet` });\n              }\n            }\n          }\n        }\n      }\n    };\n    $[0] = disabled;\n    $[1] = locale;\n    $[2] = rowId;\n    $[3] = setValue;\n    $[4] = value;\n    $[5] = t1;\n  } else {\n    t1 = $[5];\n  }\n  const buildInput = t1;\n  let t2;\n  if ($[6] !== rowId || $[7] !== updateDataType) {\n    t2 = function doUpdateDataType2(dataType_1) {\n      updateDataType(rowId, dataType_1);\n    };\n    $[6] = rowId;\n    $[7] = updateDataType;\n    $[8] = t2;\n  } else {\n    t2 = $[8];\n  }\n  const doUpdateDataType = t2;\n  let t3;\n  if ($[9] !== rowId) {\n    t3 = rowId.toString();\n    $[9] = rowId;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  const t4 = disabled || entryValue !== void 0 && entryValue !== null && entryValue !== \"\";\n  let t5;\n  if ($[11] !== onFieldKeyChange) {\n    t5 = (event_0) => {\n      onFieldKeyChange(event_0.target.value);\n    };\n    $[11] = onFieldKeyChange;\n    $[12] = t5;\n  } else {\n    t5 = $[12];\n  }\n  let t6;\n  if ($[13] !== fieldKey || $[14] !== t4 || $[15] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-[300px] max-w-[30%]\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { value: fieldKey, placeholder: \"key\", disabled: t4, size: \"medium\", onChange: t5 }) });\n    $[13] = fieldKey;\n    $[14] = t4;\n    $[15] = t5;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  let t7;\n  if ($[17] !== buildInput || $[18] !== dataType || $[19] !== entryValue || $[20] !== fieldKey) {\n    t7 = dataType !== \"map\" && dataType !== \"array\" && buildInput(entryValue, fieldKey, dataType);\n    $[17] = buildInput;\n    $[18] = dataType;\n    $[19] = entryValue;\n    $[20] = fieldKey;\n    $[21] = t7;\n  } else {\n    t7 = $[21];\n  }\n  let t8;\n  if ($[22] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow\", children: t7 });\n    $[22] = t7;\n    $[23] = t8;\n  } else {\n    t8 = $[23];\n  }\n  let t9;\n  if ($[24] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"smallest\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowDropDownIcon, { size: \"small\" }) });\n    $[24] = t9;\n  } else {\n    t9 = $[24];\n  }\n  let t10;\n  if ($[25] !== doUpdateDataType) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"string\"), children: \"string\" });\n    $[25] = doUpdateDataType;\n    $[26] = t10;\n  } else {\n    t10 = $[26];\n  }\n  let t11;\n  if ($[27] !== doUpdateDataType) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"number\"), children: \"number\" });\n    $[27] = doUpdateDataType;\n    $[28] = t11;\n  } else {\n    t11 = $[28];\n  }\n  let t12;\n  if ($[29] !== doUpdateDataType) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"boolean\"), children: \"boolean\" });\n    $[29] = doUpdateDataType;\n    $[30] = t12;\n  } else {\n    t12 = $[30];\n  }\n  let t13;\n  if ($[31] !== doUpdateDataType) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"date\"), children: \"date\" });\n    $[31] = doUpdateDataType;\n    $[32] = t13;\n  } else {\n    t13 = $[32];\n  }\n  let t14;\n  if ($[33] !== doUpdateDataType) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"map\"), children: \"map\" });\n    $[33] = doUpdateDataType;\n    $[34] = t14;\n  } else {\n    t14 = $[34];\n  }\n  let t15;\n  if ($[35] !== doUpdateDataType) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"array\"), children: \"array\" });\n    $[35] = doUpdateDataType;\n    $[36] = t15;\n  } else {\n    t15 = $[36];\n  }\n  let t16;\n  if ($[37] !== t10 || $[38] !== t11 || $[39] !== t12 || $[40] !== t13 || $[41] !== t14 || $[42] !== t15) {\n    t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { trigger: t9, children: [\n      t10,\n      t11,\n      t12,\n      t13,\n      t14,\n      t15\n    ] });\n    $[37] = t10;\n    $[38] = t11;\n    $[39] = t12;\n    $[40] = t13;\n    $[41] = t14;\n    $[42] = t15;\n    $[43] = t16;\n  } else {\n    t16 = $[43];\n  }\n  let t17;\n  if ($[44] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.RemoveIcon, { size: \"smallest\" });\n    $[44] = t17;\n  } else {\n    t17 = $[44];\n  }\n  let t18;\n  if ($[45] !== onDeleteClick) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { \"aria-label\": \"delete\", size: \"smallest\", onClick: onDeleteClick, children: t17 });\n    $[45] = onDeleteClick;\n    $[46] = t18;\n  } else {\n    t18 = $[46];\n  }\n  let t19;\n  if ($[47] !== t16 || $[48] !== t18) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col\", children: [\n      t16,\n      t18\n    ] });\n    $[47] = t16;\n    $[48] = t18;\n    $[49] = t19;\n  } else {\n    t19 = $[49];\n  }\n  let t20;\n  if ($[50] !== t19 || $[51] !== t3 || $[52] !== t6 || $[53] !== t8) {\n    t20 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { component: \"div\", className: \"font-mono flex flex-row gap-1\", children: [\n      t6,\n      t8,\n      t19\n    ] }, t3);\n    $[50] = t19;\n    $[51] = t3;\n    $[52] = t6;\n    $[53] = t8;\n    $[54] = t20;\n  } else {\n    t20 = $[54];\n  }\n  let t21;\n  if ($[55] !== buildInput || $[56] !== dataType || $[57] !== entryValue || $[58] !== fieldKey) {\n    t21 = (dataType === \"map\" || dataType === \"array\") && buildInput(entryValue, fieldKey, dataType);\n    $[55] = buildInput;\n    $[56] = dataType;\n    $[57] = entryValue;\n    $[58] = fieldKey;\n    $[59] = t21;\n  } else {\n    t21 = $[59];\n  }\n  let t22;\n  if ($[60] !== t20 || $[61] !== t21) {\n    t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t20,\n      t21\n    ] });\n    $[60] = t20;\n    $[61] = t21;\n    $[62] = t22;\n  } else {\n    t22 = $[62];\n  }\n  return t22;\n}\nfunction ArrayKeyValueRow(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(30);\n  const {\n    id,\n    value,\n    setValue\n  } = t0;\n  const {\n    locale\n  } = useCustomizationController();\n  let t1;\n  if ($[0] !== value) {\n    t1 = getDataType(value) ?? \"string\";\n    $[0] = value;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const [selectedDataType, setSelectedDataType] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t1);\n  let t2;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = function doUpdateDataType2(dataType) {\n      setSelectedDataType(dataType);\n    };\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  const doUpdateDataType = t2;\n  let t3;\n  if ($[3] !== locale || $[4] !== setValue) {\n    t3 = function buildInput2(entryValue, dataType_0) {\n      if (dataType_0 === \"string\" || dataType_0 === \"number\") {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, { value: entryValue, type: dataType_0 === \"number\" ? \"number\" : \"text\", size: \"medium\", onChange: (event) => {\n          if (dataType_0 === \"number\") {\n            const numberValue = event.target.value ? parseFloat(event.target.value) : void 0;\n            if (numberValue && isNaN(numberValue)) {\n              setValue(null);\n            } else {\n              if (numberValue !== void 0 && numberValue !== null) {\n                setValue(numberValue);\n              } else {\n                setValue(null);\n              }\n            }\n          } else {\n            setValue(event.target.value);\n          }\n        } });\n      } else {\n        if (dataType_0 === \"date\") {\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DateTimeField, { value: entryValue, size: \"medium\", locale, onChange: (date) => {\n            setValue(date);\n          } });\n        } else {\n          if (dataType_0 === \"boolean\") {\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BooleanSwitchWithLabel, { value: entryValue, size: \"small\", position: \"start\", onValueChange: (v) => {\n              setValue(v);\n            } });\n          } else {\n            if (dataType_0 === \"array\") {\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", children: \"Arrays of arrays are not supported.\" });\n            } else {\n              if (dataType_0 === \"map\") {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"ml-2 pl-2 border-l border-solid\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MapEditView, { value: entryValue, setValue: (updatedValue) => {\n                  setValue(updatedValue);\n                } }) });\n              } else {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", children: `Data type ${dataType_0} not supported yet` });\n              }\n            }\n          }\n        }\n      }\n    };\n    $[3] = locale;\n    $[4] = setValue;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  const buildInput = t3;\n  let t4;\n  if ($[6] !== id) {\n    t4 = id.toString();\n    $[6] = id;\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  let t5;\n  if ($[8] !== buildInput || $[9] !== selectedDataType || $[10] !== value) {\n    t5 = selectedDataType !== \"map\" && buildInput(value, selectedDataType);\n    $[8] = buildInput;\n    $[9] = selectedDataType;\n    $[10] = value;\n    $[11] = t5;\n  } else {\n    t5 = $[11];\n  }\n  let t6;\n  if ($[12] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow\", children: t5 });\n    $[12] = t5;\n    $[13] = t6;\n  } else {\n    t6 = $[13];\n  }\n  let t7;\n  if ($[14] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { size: \"small\", className: \"h-7 w-7\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ArrowDropDownIcon, {}) });\n    $[14] = t7;\n  } else {\n    t7 = $[14];\n  }\n  let t8;\n  if ($[15] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"string\"), children: \"string\" });\n    $[15] = t8;\n  } else {\n    t8 = $[15];\n  }\n  let t9;\n  if ($[16] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"number\"), children: \"number\" });\n    $[16] = t9;\n  } else {\n    t9 = $[16];\n  }\n  let t10;\n  if ($[17] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"boolean\"), children: \"boolean\" });\n    $[17] = t10;\n  } else {\n    t10 = $[17];\n  }\n  let t11;\n  if ($[18] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"map\"), children: \"map\" });\n    $[18] = t11;\n  } else {\n    t11 = $[18];\n  }\n  let t12;\n  if ($[19] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { trigger: t7, children: [\n      t8,\n      t9,\n      t10,\n      t11,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { dense: true, onClick: () => doUpdateDataType(\"date\"), children: \"date\" })\n    ] });\n    $[19] = t12;\n  } else {\n    t12 = $[19];\n  }\n  let t13;\n  if ($[20] !== t4 || $[21] !== t6) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { component: \"div\", className: \"font-mono flex min-h-12 flex-row gap-1 items-center\", children: [\n      t6,\n      t12\n    ] }, t4);\n    $[20] = t4;\n    $[21] = t6;\n    $[22] = t13;\n  } else {\n    t13 = $[22];\n  }\n  let t14;\n  if ($[23] !== buildInput || $[24] !== selectedDataType || $[25] !== value) {\n    t14 = selectedDataType === \"map\" && buildInput(value, selectedDataType);\n    $[23] = buildInput;\n    $[24] = selectedDataType;\n    $[25] = value;\n    $[26] = t14;\n  } else {\n    t14 = $[26];\n  }\n  let t15;\n  if ($[27] !== t13 || $[28] !== t14) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t13,\n      t14\n    ] });\n    $[27] = t13;\n    $[28] = t14;\n    $[29] = t15;\n  } else {\n    t15 = $[29];\n  }\n  return t15;\n}\nfunction getRandomId() {\n  return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n}\nfunction getDataType(value) {\n  if (typeof value === \"string\" || value === null) {\n    return \"string\";\n  } else if (typeof value === \"number\") {\n    return \"number\";\n  } else if (typeof value === \"boolean\") {\n    return \"boolean\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  } else if (value instanceof Date) {\n    return \"date\";\n  } else if (value?.isEntityReference && value?.isEntityReference()) {\n    return \"reference\";\n  } else if (value instanceof GeoPoint) {\n    return \"geopoint\";\n  } else if (typeof value === \"object\") {\n    return \"map\";\n  }\n  return void 0;\n}\nfunction RepeatFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(70);\n  let context;\n  let disabled;\n  let error;\n  let includeDescription;\n  let isSubmitting;\n  let minimalistView;\n  let property;\n  let propertyKey;\n  let resolvedProperties;\n  let setFieldValue;\n  let setValue;\n  let showError;\n  let underlyingValueHasChanged;\n  let value;\n  if ($[0] !== t0) {\n    const {\n      propertyKey: t110,\n      value: t22,\n      error: t32,\n      showError: t42,\n      isSubmitting: t52,\n      setValue: t62,\n      setFieldValue: t72,\n      minimalistView: minimalistViewProp,\n      property: t82,\n      includeDescription: t92,\n      underlyingValueHasChanged: t102,\n      context: t112,\n      disabled: t122\n    } = t0;\n    propertyKey = t110;\n    value = t22;\n    error = t32;\n    showError = t42;\n    isSubmitting = t52;\n    setValue = t62;\n    setFieldValue = t72;\n    property = t82;\n    includeDescription = t92;\n    underlyingValueHasChanged = t102;\n    context = t112;\n    disabled = t122;\n    minimalistView = minimalistViewProp || property.minimalistView;\n    if (!property.of) {\n      throw Error(\"RepeatFieldBinding misconfiguration. Property `of` not set\");\n    }\n    resolvedProperties = \"resolvedProperties\" in property ? property.resolvedProperties : void 0;\n    if (!resolvedProperties) {\n      resolvedProperties = getArrayResolvedProperties({\n        propertyValue: value,\n        propertyKey,\n        property,\n        ignoreMissingFields: false\n      });\n    }\n    $[0] = t0;\n    $[1] = context;\n    $[2] = disabled;\n    $[3] = error;\n    $[4] = includeDescription;\n    $[5] = isSubmitting;\n    $[6] = minimalistView;\n    $[7] = property;\n    $[8] = propertyKey;\n    $[9] = resolvedProperties;\n    $[10] = setFieldValue;\n    $[11] = setValue;\n    $[12] = showError;\n    $[13] = underlyingValueHasChanged;\n    $[14] = value;\n  } else {\n    context = $[1];\n    disabled = $[2];\n    error = $[3];\n    includeDescription = $[4];\n    isSubmitting = $[5];\n    minimalistView = $[6];\n    property = $[7];\n    propertyKey = $[8];\n    resolvedProperties = $[9];\n    setFieldValue = $[10];\n    setValue = $[11];\n    showError = $[12];\n    underlyingValueHasChanged = $[13];\n    value = $[14];\n  }\n  const expanded = property.expanded === void 0 ? true : property.expanded;\n  const ofProperty = property.of;\n  const [lastAddedId, setLastAddedId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  let t1;\n  if ($[15] !== property || $[16] !== setValue || $[17] !== value) {\n    t1 = {\n      property,\n      value,\n      setValue\n    };\n    $[15] = property;\n    $[16] = setValue;\n    $[17] = value;\n    $[18] = t1;\n  } else {\n    t1 = $[18];\n  }\n  useClearRestoreValue(t1);\n  let t2;\n  if ($[19] !== context || $[20] !== disabled || $[21] !== includeDescription || $[22] !== lastAddedId || $[23] !== ofProperty || $[24] !== propertyKey || $[25] !== resolvedProperties || $[26] !== underlyingValueHasChanged) {\n    t2 = (t32) => {\n      const {\n        index,\n        internalId,\n        storedProps,\n        storeProps\n      } = t32;\n      const childProperty = resolvedProperties[index] ?? ofProperty;\n      const fieldProps = {\n        propertyKey: `${propertyKey}.${index}`,\n        disabled,\n        property: storedProps ? mergeDeep(childProperty, storedProps) : childProperty,\n        onPropertyChange: storeProps,\n        includeDescription,\n        underlyingValueHasChanged,\n        context,\n        partOfArray: true,\n        minimalistView: false,\n        autoFocus: internalId === lastAddedId\n      };\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...fieldProps, index }) });\n    };\n    $[19] = context;\n    $[20] = disabled;\n    $[21] = includeDescription;\n    $[22] = lastAddedId;\n    $[23] = ofProperty;\n    $[24] = propertyKey;\n    $[25] = resolvedProperties;\n    $[26] = underlyingValueHasChanged;\n    $[27] = t2;\n  } else {\n    t2 = $[27];\n  }\n  const buildEntry = t2;\n  const t3 = property.name ? \"Add entry to \" + property.name : \"Add entry\";\n  const t4 = isSubmitting || Boolean(property.disabled);\n  const t5 = !property.disabled;\n  let t6;\n  if ($[28] !== property.of) {\n    t6 = getDefaultValueFor(property.of);\n    $[28] = property.of;\n    $[29] = t6;\n  } else {\n    t6 = $[29];\n  }\n  let t7;\n  if ($[30] !== propertyKey || $[31] !== setFieldValue) {\n    t7 = (value_0) => setFieldValue(propertyKey, value_0);\n    $[30] = propertyKey;\n    $[31] = setFieldValue;\n    $[32] = t7;\n  } else {\n    t7 = $[32];\n  }\n  const t8 = property.widthPercentage !== void 0 ? \"mt-8\" : void 0;\n  let t9;\n  if ($[33] !== buildEntry || $[34] !== propertyKey || $[35] !== t3 || $[36] !== t4 || $[37] !== t5 || $[38] !== t6 || $[39] !== t7 || $[40] !== t8 || $[41] !== value) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainer, { droppableId: propertyKey, addLabel: t3, value, buildEntry, onInternalIdAdded: setLastAddedId, disabled: t4, includeAddButton: t5, newDefaultEntry: t6, onValueChange: t7, className: t8 });\n    $[33] = buildEntry;\n    $[34] = propertyKey;\n    $[35] = t3;\n    $[36] = t4;\n    $[37] = t5;\n    $[38] = t6;\n    $[39] = t7;\n    $[40] = t8;\n    $[41] = value;\n    $[42] = t9;\n  } else {\n    t9 = $[42];\n  }\n  const arrayContainer = t9;\n  let t10;\n  if ($[43] !== property) {\n    t10 = getIconForProperty(property, \"small\");\n    $[43] = property;\n    $[44] = t10;\n  } else {\n    t10 = $[44];\n  }\n  const t11 = property.validation?.required;\n  let t12;\n  if ($[45] !== property.name || $[46] !== propertyKey || $[47] !== t10 || $[48] !== t11) {\n    t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: t10, required: t11, title: property.name, className: \"h-8 flex flex-grow text-text-secondary dark:text-text-secondary-dark\" });\n    $[45] = property.name;\n    $[46] = propertyKey;\n    $[47] = t10;\n    $[48] = t11;\n    $[49] = t12;\n  } else {\n    t12 = $[49];\n  }\n  let t13;\n  if ($[50] !== value) {\n    t13 = Array.isArray(value) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"px-4\", children: [\n      \"(\",\n      value.length,\n      \")\"\n    ] });\n    $[50] = value;\n    $[51] = t13;\n  } else {\n    t13 = $[51];\n  }\n  let t14;\n  if ($[52] !== t12 || $[53] !== t13) {\n    t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t12,\n      t13\n    ] });\n    $[52] = t12;\n    $[53] = t13;\n    $[54] = t14;\n  } else {\n    t14 = $[54];\n  }\n  const title = t14;\n  let t15;\n  if ($[55] !== arrayContainer || $[56] !== expanded || $[57] !== minimalistView || $[58] !== title) {\n    t15 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { initiallyExpanded: expanded, innerClassName: \"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2\", title, children: arrayContainer });\n    $[55] = arrayContainer;\n    $[56] = expanded;\n    $[57] = minimalistView;\n    $[58] = title;\n    $[59] = t15;\n  } else {\n    t15 = $[59];\n  }\n  const t16 = minimalistView && arrayContainer;\n  const t17 = error ? typeof error === \"string\" ? error : \"A property of this array/repeat has an error\" : void 0;\n  let t18;\n  if ($[60] !== disabled || $[61] !== includeDescription || $[62] !== property || $[63] !== showError || $[64] !== t17) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error: t17, disabled, property });\n    $[60] = disabled;\n    $[61] = includeDescription;\n    $[62] = property;\n    $[63] = showError;\n    $[64] = t17;\n    $[65] = t18;\n  } else {\n    t18 = $[65];\n  }\n  let t19;\n  if ($[66] !== t15 || $[67] !== t16 || $[68] !== t18) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t15,\n      t16,\n      t18\n    ] });\n    $[66] = t15;\n    $[67] = t16;\n    $[68] = t18;\n    $[69] = t19;\n  } else {\n    t19 = $[69];\n  }\n  return t19;\n}\nfunction BlockFieldBinding({\n  propertyKey,\n  value,\n  error,\n  showError,\n  isSubmitting,\n  setValue,\n  setFieldValue,\n  minimalistView: minimalistViewProp,\n  property,\n  includeDescription,\n  underlyingValueHasChanged,\n  context,\n  disabled\n}) {\n  const minimalistView = minimalistViewProp || property.minimalistView;\n  if (!property.oneOf) throw Error(\"ArrayOneOfField misconfiguration. Property `oneOf` not set\");\n  const expanded = property.expanded === void 0 ? true : property.expanded;\n  useClearRestoreValue({\n    property,\n    value,\n    setValue\n  });\n  const [lastAddedId, setLastAddedId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const buildEntry = ({\n    index,\n    internalId,\n    storedProps,\n    storeProps\n  }) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BlockEntry, { name: `${propertyKey}.${index}`, index, value: value[index], typeField: property.oneOf.typeField ?? DEFAULT_ONE_OF_TYPE, valueField: property.oneOf.valueField ?? DEFAULT_ONE_OF_VALUE, properties: property.oneOf.properties, autoFocus: internalId === lastAddedId, context, storeProps, storedProps }, `array_one_of_${internalId}`);\n  };\n  const title = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: getIconForProperty(property, \"small\"), required: property.validation?.required, title: property.name, className: \"text-text-secondary dark:text-text-secondary-dark\" });\n  const firstOneOfKey = Object.keys(property.oneOf.properties)[0];\n  const body = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrayContainer, { value, className: \"flex flex-col gap-3\", droppableId: propertyKey, addLabel: property.name ? \"Add entry to \" + property.name : \"Add entry\", buildEntry, onInternalIdAdded: setLastAddedId, disabled: isSubmitting || Boolean(property.disabled), includeAddButton: !property.disabled, onValueChange: (value_0) => setFieldValue(propertyKey, value_0), newDefaultEntry: {\n    [property.oneOf.typeField ?? DEFAULT_ONE_OF_TYPE]: firstOneOfKey,\n    [property.oneOf.valueField ?? DEFAULT_ONE_OF_VALUE]: getDefaultValueFor(property.oneOf.properties[firstOneOfKey])\n  } });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { innerClassName: \"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2\", initiallyExpanded: expanded, title, children: body }),\n    minimalistView && body,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property })\n  ] });\n}\nfunction BlockEntry(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(31);\n  const {\n    name,\n    value,\n    typeField,\n    valueField,\n    properties,\n    autoFocus,\n    context,\n    storedProps,\n    storeProps\n  } = t0;\n  const type = value && value[typeField];\n  const [typeInternal, setTypeInternal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(type ?? void 0);\n  const formex = (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.useFormex)();\n  let t1;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = [];\n    $[0] = t1;\n  } else {\n    t1 = $[0];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!type) {\n      updateType(Object.keys(properties)[0]);\n    }\n  }, t1);\n  let t2;\n  if ($[1] !== type || $[2] !== typeInternal) {\n    t2 = () => {\n      if (type !== typeInternal) {\n        setTypeInternal(type);\n      }\n    };\n    $[1] = type;\n    $[2] = typeInternal;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  let t3;\n  if ($[4] !== type) {\n    t3 = [type];\n    $[4] = type;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t2, t3);\n  const propertyInternal = typeInternal ? properties[typeInternal] : void 0;\n  let t4;\n  if ($[6] !== propertyInternal || $[7] !== storedProps) {\n    t4 = storedProps && typeof propertyInternal === \"object\" ? mergeDeep(propertyInternal, storedProps) : propertyInternal;\n    $[6] = propertyInternal;\n    $[7] = storedProps;\n    $[8] = t4;\n  } else {\n    t4 = $[8];\n  }\n  const property = t4;\n  let t5;\n  if ($[9] !== properties) {\n    t5 = Object.entries(properties).map(_temp$5);\n    $[9] = properties;\n    $[10] = t5;\n  } else {\n    t5 = $[10];\n  }\n  const enumValuesConfigs = t5;\n  const typeFieldName = `${name}.${typeField}`;\n  const valueFieldName = `${name}.${valueField}`;\n  let t6;\n  if ($[11] !== autoFocus || $[12] !== context || $[13] !== property || $[14] !== storeProps || $[15] !== valueFieldName) {\n    t6 = property ? {\n      propertyKey: valueFieldName,\n      property,\n      context,\n      autoFocus,\n      partOfArray: false,\n      minimalistView: true,\n      onPropertyChange: storeProps\n    } : void 0;\n    $[11] = autoFocus;\n    $[12] = context;\n    $[13] = property;\n    $[14] = storeProps;\n    $[15] = valueFieldName;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  const fieldProps = t6;\n  const updateType = (newType) => {\n    const newSelectedProperty = newType ? properties[newType] : void 0;\n    setTypeInternal(newType);\n    formex.setFieldTouched(typeFieldName, true);\n    formex.setFieldValue(typeFieldName, newType);\n    formex.setFieldValue(valueFieldName, newSelectedProperty ? getDefaultValueFor(newSelectedProperty) : null);\n  };\n  let t7;\n  if ($[17] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t7 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.paperMixin, \"bg-transparent p-2\");\n    $[17] = t7;\n  } else {\n    t7 = $[17];\n  }\n  let t8;\n  if ($[18] !== enumValuesConfigs || $[19] !== updateType) {\n    t8 = (fieldProps_0) => {\n      const value1 = fieldProps_0.field.value !== void 0 && fieldProps_0.field.value !== null ? fieldProps_0.field.value : \"\";\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Select, { className: \"mb-2\", placeholder: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"px-4 py-2 font-medium\", children: \"Type\" }), size: \"medium\", fullWidth: true, position: \"item-aligned\", value: value1, renderValue: (enumKey) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey, enumValues: enumValuesConfigs, size: \"small\" }), onValueChange: (value_0) => {\n        updateType(value_0);\n      }, children: enumValuesConfigs.map((enumConfig) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SelectItem, { value: String(enumConfig.id), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EnumValuesChip, { enumKey: enumConfig.id, enumValues: enumValuesConfigs, size: \"small\" }) }, enumConfig.id)) }) });\n    };\n    $[18] = enumValuesConfigs;\n    $[19] = updateType;\n    $[20] = t8;\n  } else {\n    t8 = $[20];\n  }\n  let t9;\n  if ($[21] !== t8 || $[22] !== typeFieldName) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.Field, { name: typeFieldName, children: t8 });\n    $[21] = t8;\n    $[22] = typeFieldName;\n    $[23] = t9;\n  } else {\n    t9 = $[23];\n  }\n  let t10;\n  if ($[24] !== fieldProps || $[25] !== name || $[26] !== typeInternal) {\n    t10 = fieldProps && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...fieldProps }, `form_control_${name}_${typeInternal}`);\n    $[24] = fieldProps;\n    $[25] = name;\n    $[26] = typeInternal;\n    $[27] = t10;\n  } else {\n    t10 = $[27];\n  }\n  let t11;\n  if ($[28] !== t10 || $[29] !== t9) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t7, children: [\n      t9,\n      t10\n    ] });\n    $[28] = t10;\n    $[29] = t9;\n    $[30] = t11;\n  } else {\n    t11 = $[30];\n  }\n  return t11;\n}\nfunction _temp$5(t0) {\n  const [key, property_0] = t0;\n  return {\n    id: key,\n    label: property_0.name ?? key\n  };\n}\nfunction MarkdownEditorFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(57);\n  const {\n    property,\n    propertyKey,\n    value,\n    setValue,\n    includeDescription,\n    showError,\n    error,\n    minimalistView,\n    disabled: disabledProp,\n    isSubmitting,\n    context,\n    customProps\n  } = t0;\n  const disabled = disabledProp || isSubmitting;\n  const highlight = customProps?.highlight;\n  const editorProps = customProps?.editorProps;\n  const storageSource = useStorageSource();\n  const storage = property.storage;\n  const entityValues = context.values;\n  const entityId = context.entityId;\n  const path = context.path;\n  const [fieldVersion, setFieldVersion] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n  const internalValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(value);\n  let t1;\n  if ($[0] !== setValue) {\n    t1 = (content) => {\n      internalValue.current = content;\n      setValue(content);\n    };\n    $[0] = setValue;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const onContentChange = t1;\n  let t2;\n  if ($[2] !== fieldVersion || $[3] !== value) {\n    t2 = () => {\n      if (internalValue.current !== value) {\n        internalValue.current = value;\n        setFieldVersion(fieldVersion + 1);\n      }\n    };\n    $[2] = fieldVersion;\n    $[3] = value;\n    $[4] = t2;\n  } else {\n    t2 = $[4];\n  }\n  let t3;\n  if ($[5] !== value) {\n    t3 = [value];\n    $[5] = value;\n    $[6] = t3;\n  } else {\n    t3 = $[6];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t2, t3);\n  const t4 = property;\n  let t5;\n  if ($[7] !== entityValues || $[8] !== t4) {\n    t5 = resolveProperty({\n      propertyOrBuilder: t4,\n      values: entityValues\n    });\n    $[7] = entityValues;\n    $[8] = t4;\n    $[9] = t5;\n  } else {\n    t5 = $[9];\n  }\n  const resolvedProperty = t5;\n  let t6;\n  if ($[10] !== entityId || $[11] !== entityValues || $[12] !== path || $[13] !== propertyKey || $[14] !== resolvedProperty || $[15] !== storage) {\n    t6 = async (file) => {\n      if (storage?.fileName) {\n        const fileName = await resolveStorageFilenameString({\n          input: storage.fileName,\n          storage,\n          values: entityValues,\n          entityId,\n          path,\n          property: resolvedProperty,\n          file,\n          propertyKey\n        });\n        if (!fileName || fileName.length === 0) {\n          throw Error(\"You need to return a valid filename\");\n        }\n        return fileName;\n      }\n      return randomString() + \"_\" + file.name;\n    };\n    $[10] = entityId;\n    $[11] = entityValues;\n    $[12] = path;\n    $[13] = propertyKey;\n    $[14] = resolvedProperty;\n    $[15] = storage;\n    $[16] = t6;\n  } else {\n    t6 = $[16];\n  }\n  const fileNameBuilder = t6;\n  let t7;\n  if ($[17] !== entityId || $[18] !== entityValues || $[19] !== path || $[20] !== property || $[21] !== propertyKey || $[22] !== storage) {\n    t7 = (file_0) => {\n      if (!storage) {\n        return \"/\";\n      }\n      const resolvedProperty_0 = resolveProperty({\n        propertyOrBuilder: property,\n        values: entityValues\n      });\n      return resolveStoragePathString({\n        input: storage.storagePath,\n        storage,\n        values: entityValues,\n        entityId,\n        path,\n        property: resolvedProperty_0,\n        file: file_0,\n        propertyKey\n      }) ?? \"/\";\n    };\n    $[17] = entityId;\n    $[18] = entityValues;\n    $[19] = path;\n    $[20] = property;\n    $[21] = propertyKey;\n    $[22] = storage;\n    $[23] = t7;\n  } else {\n    t7 = $[23];\n  }\n  const storagePathBuilder = t7;\n  const t8 = context.formex.version + fieldVersion;\n  let t9;\n  if ($[24] !== fileNameBuilder || $[25] !== storagePathBuilder || $[26] !== storageSource) {\n    t9 = async (file_1) => {\n      const storagePath = storagePathBuilder(file_1);\n      const fileName_0 = await fileNameBuilder(file_1);\n      const result = await storageSource.uploadFile({\n        file: file_1,\n        fileName: fileName_0,\n        path: storagePath\n      });\n      const downloadConfig = await storageSource.getDownloadURL(result.path);\n      const url = downloadConfig.url;\n      if (!url) {\n        throw new Error(\"Error uploading image\");\n      }\n      return url;\n    };\n    $[24] = fileNameBuilder;\n    $[25] = storagePathBuilder;\n    $[26] = storageSource;\n    $[27] = t9;\n  } else {\n    t9 = $[27];\n  }\n  let t10;\n  if ($[28] !== disabled || $[29] !== editorProps || $[30] !== highlight || $[31] !== onContentChange || $[32] !== t8 || $[33] !== t9 || $[34] !== value) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_editor__WEBPACK_IMPORTED_MODULE_11__.FireCMSEditor, { content: value, onMarkdownContentChange: onContentChange, version: t8, highlight, disabled, handleImageUpload: t9, ...editorProps });\n    $[28] = disabled;\n    $[29] = editorProps;\n    $[30] = highlight;\n    $[31] = onContentChange;\n    $[32] = t8;\n    $[33] = t9;\n    $[34] = value;\n    $[35] = t10;\n  } else {\n    t10 = $[35];\n  }\n  const editor = t10;\n  if (minimalistView) {\n    return editor;\n  }\n  let t11;\n  if ($[36] !== property) {\n    t11 = getIconForProperty(property, \"small\");\n    $[36] = property;\n    $[37] = t11;\n  } else {\n    t11 = $[37];\n  }\n  const t12 = property.validation?.required;\n  let t13;\n  if ($[38] !== property.name || $[39] !== propertyKey || $[40] !== t11 || $[41] !== t12) {\n    t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: t11, required: t12, title: property.name, className: \"h-8 text-text-secondary dark:text-text-secondary-dark ml-3.5\" });\n    $[38] = property.name;\n    $[39] = propertyKey;\n    $[40] = t11;\n    $[41] = t12;\n    $[42] = t13;\n  } else {\n    t13 = $[42];\n  }\n  const t14 = disabled ? _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundDisabledMixin : _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundHoverMixin;\n  let t15;\n  if ($[43] !== t14) {\n    t15 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"rounded-md\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.fieldBackgroundMixin, t14);\n    $[43] = t14;\n    $[44] = t15;\n  } else {\n    t15 = $[44];\n  }\n  let t16;\n  if ($[45] !== editor || $[46] !== t15) {\n    t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t15, children: editor });\n    $[45] = editor;\n    $[46] = t15;\n    $[47] = t16;\n  } else {\n    t16 = $[47];\n  }\n  let t17;\n  if ($[48] !== error || $[49] !== includeDescription || $[50] !== property || $[51] !== showError) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, property });\n    $[48] = error;\n    $[49] = includeDescription;\n    $[50] = property;\n    $[51] = showError;\n    $[52] = t17;\n  } else {\n    t17 = $[52];\n  }\n  let t18;\n  if ($[53] !== t13 || $[54] !== t16 || $[55] !== t17) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t13,\n      t16,\n      t17\n    ] });\n    $[53] = t13;\n    $[54] = t16;\n    $[55] = t17;\n    $[56] = t18;\n  } else {\n    t18 = $[56];\n  }\n  return t18;\n}\nfunction ArrayCustomShapedFieldBinding(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(46);\n  const {\n    propertyKey,\n    value,\n    error,\n    showError,\n    setValue,\n    minimalistView: minimalistViewProp,\n    property,\n    includeDescription,\n    context,\n    disabled\n  } = t0;\n  const minimalistView = minimalistViewProp || property.minimalistView;\n  let resolvedProperties = \"resolvedProperties\" in property ? property.resolvedProperties : void 0;\n  if (!resolvedProperties) {\n    let t12;\n    if ($[0] !== property || $[1] !== propertyKey || $[2] !== value) {\n      t12 = getArrayResolvedProperties({\n        propertyValue: value,\n        propertyKey,\n        property,\n        ignoreMissingFields: false\n      });\n      $[0] = property;\n      $[1] = propertyKey;\n      $[2] = value;\n      $[3] = t12;\n    } else {\n      t12 = $[3];\n    }\n    resolvedProperties = t12;\n  }\n  const expanded = property.expanded === void 0 ? true : property.expanded;\n  let t1;\n  if ($[4] !== property || $[5] !== setValue || $[6] !== value) {\n    t1 = {\n      property,\n      value,\n      setValue\n    };\n    $[4] = property;\n    $[5] = setValue;\n    $[6] = value;\n    $[7] = t1;\n  } else {\n    t1 = $[7];\n  }\n  useClearRestoreValue(t1);\n  let t2;\n  if ($[8] !== property) {\n    t2 = getIconForProperty(property, \"small\");\n    $[8] = property;\n    $[9] = t2;\n  } else {\n    t2 = $[9];\n  }\n  const t3 = property.validation?.required;\n  let t4;\n  if ($[10] !== property.name || $[11] !== propertyKey || $[12] !== t2 || $[13] !== t3) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LabelWithIconAndTooltip, { propertyKey, icon: t2, required: t3, title: property.name, className: \"h-8 flex-grow text-text-secondary dark:text-text-secondary-dark\" });\n    $[10] = property.name;\n    $[11] = propertyKey;\n    $[12] = t2;\n    $[13] = t3;\n    $[14] = t4;\n  } else {\n    t4 = $[14];\n  }\n  let t5;\n  if ($[15] !== value) {\n    t5 = Array.isArray(value) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", className: \"px-4\", children: [\n      \"(\",\n      value.length,\n      \")\"\n    ] });\n    $[15] = value;\n    $[16] = t5;\n  } else {\n    t5 = $[16];\n  }\n  let t6;\n  if ($[17] !== t4 || $[18] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t4,\n      t5\n    ] });\n    $[17] = t4;\n    $[18] = t5;\n    $[19] = t6;\n  } else {\n    t6 = $[19];\n  }\n  const title = t6;\n  let t7;\n  if ($[20] !== context || $[21] !== disabled || $[22] !== includeDescription || $[23] !== propertyKey || $[24] !== resolvedProperties) {\n    let t82;\n    if ($[26] !== context || $[27] !== disabled || $[28] !== includeDescription || $[29] !== propertyKey) {\n      t82 = (childProperty, index) => {\n        const thisDisabled = isReadOnly(childProperty) || Boolean(childProperty.disabled);\n        const fieldProps = {\n          propertyKey: `${propertyKey}[${index}]`,\n          disabled: disabled || thisDisabled,\n          property: childProperty,\n          includeDescription,\n          context,\n          partOfArray: true,\n          minimalistView: false,\n          autoFocus: false\n        };\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"pb-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PropertyFieldBinding, { ...fieldProps }) }, `custom_shaped_array_${index}`);\n      };\n      $[26] = context;\n      $[27] = disabled;\n      $[28] = includeDescription;\n      $[29] = propertyKey;\n      $[30] = t82;\n    } else {\n      t82 = $[30];\n    }\n    t7 = resolvedProperties.map(t82);\n    $[20] = context;\n    $[21] = disabled;\n    $[22] = includeDescription;\n    $[23] = propertyKey;\n    $[24] = resolvedProperties;\n    $[25] = t7;\n  } else {\n    t7 = $[25];\n  }\n  const body = t7;\n  let t8;\n  if ($[31] !== body || $[32] !== expanded || $[33] !== minimalistView || $[34] !== title) {\n    t8 = !minimalistView && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ExpandablePanel, { initiallyExpanded: expanded, title, innerClassName: \"px-2 md:px-4 pb-2 md:pb-4 pt-1 md:pt-2\", children: body });\n    $[31] = body;\n    $[32] = expanded;\n    $[33] = minimalistView;\n    $[34] = title;\n    $[35] = t8;\n  } else {\n    t8 = $[35];\n  }\n  const t9 = minimalistView && body;\n  let t10;\n  if ($[36] !== disabled || $[37] !== error || $[38] !== includeDescription || $[39] !== property || $[40] !== showError) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FieldHelperText, { includeDescription, showError, error, disabled, property });\n    $[36] = disabled;\n    $[37] = error;\n    $[38] = includeDescription;\n    $[39] = property;\n    $[40] = showError;\n    $[41] = t10;\n  } else {\n    t10 = $[41];\n  }\n  let t11;\n  if ($[42] !== t10 || $[43] !== t8 || $[44] !== t9) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      t8,\n      t9,\n      t10\n    ] });\n    $[42] = t10;\n    $[43] = t8;\n    $[44] = t9;\n    $[45] = t11;\n  } else {\n    t11 = $[45];\n  }\n  return t11;\n}\nfunction isDefaultFieldConfigId(id) {\n  return Object.keys(DEFAULT_FIELD_CONFIGS).includes(id);\n}\nconst DEFAULT_FIELD_CONFIGS = {\n  text_field: {\n    key: \"text_field\",\n    name: \"Text field\",\n    description: \"Simple short text\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ShortTextIcon,\n    color: \"#2d7ff9\",\n    property: {\n      dataType: \"string\",\n      Field: TextFieldBinding\n    }\n  },\n  multiline: {\n    key: \"multiline\",\n    name: \"Multiline\",\n    description: \"Text with multiple lines\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.SubjectIcon,\n    color: \"#2d7ff9\",\n    property: {\n      dataType: \"string\",\n      multiline: true,\n      Field: TextFieldBinding\n    }\n  },\n  markdown: {\n    key: \"markdown\",\n    name: \"Markdown\",\n    description: \"Text with advanced markdown syntax\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FormatQuoteIcon,\n    color: \"#2d7ff9\",\n    property: {\n      dataType: \"string\",\n      markdown: true,\n      Field: MarkdownEditorFieldBinding\n    }\n  },\n  url: {\n    key: \"url\",\n    name: \"Url\",\n    description: \"Text with URL validation\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.HttpIcon,\n    color: \"#154fb3\",\n    property: {\n      dataType: \"string\",\n      url: true,\n      Field: TextFieldBinding\n    }\n  },\n  email: {\n    key: \"email\",\n    name: \"Email\",\n    description: \"Text with email validation\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MailIcon,\n    color: \"#154fb3\",\n    property: {\n      dataType: \"string\",\n      email: true,\n      Field: TextFieldBinding\n    }\n  },\n  switch: {\n    key: \"switch\",\n    name: \"Switch\",\n    description: \"Boolean true or false field (or yes or no, 0 or 1...)\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FlagIcon,\n    color: \"#20d9d2\",\n    property: {\n      dataType: \"boolean\",\n      Field: SwitchFieldBinding\n    }\n  },\n  select: {\n    key: \"select\",\n    name: \"Select/enum\",\n    description: \"Select one text value from within an enumeration\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ListIcon,\n    color: \"#4223c9\",\n    property: {\n      dataType: \"string\",\n      enumValues: [],\n      Field: SelectFieldBinding\n    }\n  },\n  multi_select: {\n    key: \"multi_select\",\n    name: \"Multi select (enum)\",\n    description: \"Select multiple text values from within an enumeration\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ListAltIcon,\n    color: \"#4223c9\",\n    property: {\n      dataType: \"array\",\n      of: {\n        dataType: \"string\",\n        enumValues: []\n      },\n      Field: MultiSelectFieldBinding\n    }\n  },\n  number_input: {\n    key: \"number_input\",\n    name: \"Number input\",\n    description: \"Simple number field with validation\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.NumbersIcon,\n    color: \"#bec920\",\n    property: {\n      dataType: \"number\",\n      Field: TextFieldBinding\n    }\n  },\n  number_select: {\n    key: \"number_select\",\n    name: \"Number select\",\n    description: \"Select a number value from within an enumeration\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FormatListNumberedIcon,\n    color: \"#bec920\",\n    property: {\n      dataType: \"number\",\n      enumValues: [],\n      Field: SelectFieldBinding\n    }\n  },\n  multi_number_select: {\n    key: \"multi_number_select\",\n    name: \"Multiple number select\",\n    description: \"Select multiple number values from within an enumeration\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.FormatListNumberedIcon,\n    color: \"#bec920\",\n    property: {\n      dataType: \"array\",\n      of: {\n        dataType: \"number\",\n        enumValues: []\n      },\n      Field: MultiSelectFieldBinding\n    }\n  },\n  file_upload: {\n    key: \"file_upload\",\n    name: \"File upload\",\n    description: \"Input for uploading single files\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.UploadFileIcon,\n    color: \"#f92d9a\",\n    property: {\n      dataType: \"string\",\n      storage: {\n        storagePath: \"{path}\"\n      },\n      Field: StorageUploadFieldBinding\n    }\n  },\n  multi_file_upload: {\n    key: \"multi_file_upload\",\n    name: \"Multiple file upload\",\n    description: \"Input for uploading multiple files\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DriveFolderUploadIcon,\n    color: \"#f92d9a\",\n    property: {\n      dataType: \"array\",\n      of: {\n        dataType: \"string\",\n        storage: {\n          storagePath: \"{path}\"\n        }\n      },\n      Field: StorageUploadFieldBinding\n    }\n  },\n  reference: {\n    key: \"reference\",\n    name: \"Reference\",\n    description: \"The value refers to a different collection\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LinkIcon,\n    color: \"#ff0042\",\n    property: {\n      dataType: \"reference\",\n      Field: ReferenceFieldBinding\n    }\n  },\n  multi_references: {\n    key: \"multi_references\",\n    name: \"Multiple references\",\n    description: \"Multiple values that refer to a different collection\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.AddLinkIcon,\n    color: \"#ff0042\",\n    property: {\n      dataType: \"array\",\n      of: {\n        dataType: \"reference\"\n      },\n      Field: ArrayOfReferencesFieldBinding\n    }\n  },\n  date_time: {\n    key: \"date_time\",\n    name: \"Date/time\",\n    description: \"A date time select field\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ScheduleIcon,\n    color: \"#8b46ff\",\n    property: {\n      dataType: \"date\",\n      Field: DateTimeFieldBinding\n    }\n  },\n  group: {\n    key: \"group\",\n    name: \"Group\",\n    description: \"Group of multiple fields\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BallotIcon,\n    color: \"#ff9408\",\n    property: {\n      dataType: \"map\",\n      properties: {},\n      Field: MapFieldBinding\n    }\n  },\n  key_value: {\n    key: \"key_value\",\n    name: \"Key-value\",\n    description: \"Flexible field that allows the user to add multiple key-value pairs\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.BallotIcon,\n    color: \"#ff9408\",\n    property: {\n      dataType: \"map\",\n      keyValue: true,\n      Field: KeyValueFieldBinding\n    }\n  },\n  repeat: {\n    key: \"repeat\",\n    name: \"Repeat/list\",\n    description: \"A field that gets repeated multiple times (e.g. multiple text fields)\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.RepeatIcon,\n    color: \"#ff9408\",\n    property: {\n      dataType: \"array\",\n      of: {\n        dataType: \"string\"\n      },\n      Field: RepeatFieldBinding\n    }\n  },\n  custom_array: {\n    key: \"custom_array\",\n    name: \"Custom array\",\n    description: \"A field that saved its value as an array of custom objects\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.RepeatIcon,\n    color: \"#ff9408\",\n    property: {\n      dataType: \"array\",\n      of: [],\n      Field: ArrayCustomShapedFieldBinding\n    }\n  },\n  block: {\n    key: \"block\",\n    name: \"Block\",\n    description: \"A complex field that allows the user to compose different fields together, with a key/value format\",\n    Icon: _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ViewStreamIcon,\n    color: \"#ff9408\",\n    property: {\n      dataType: \"array\",\n      oneOf: {\n        properties: {}\n      },\n      Field: BlockFieldBinding\n    }\n  }\n};\nfunction getDefaultFieldConfig(property) {\n  const fieldId = getDefaultFieldId(property);\n  if (!fieldId) {\n    console.error(\"No field id found for property\", property);\n    return void 0;\n  }\n  return DEFAULT_FIELD_CONFIGS[fieldId];\n}\nfunction getFieldConfig(property, propertyConfigs) {\n  const fieldId = getFieldId(property);\n  const defaultFieldId = getDefaultFieldId(property);\n  if (!defaultFieldId) {\n    console.error(\"No field id found for property\", property);\n    return void 0;\n  }\n  const defaultFieldConfig = DEFAULT_FIELD_CONFIGS[defaultFieldId];\n  const customField = fieldId ? propertyConfigs[fieldId] : void 0;\n  return mergeDeep(defaultFieldConfig ?? {}, customField ?? {});\n}\nfunction getDefaultFieldId(property) {\n  if (property.dataType === \"string\") {\n    if (property.multiline) {\n      return \"multiline\";\n    } else if (property.markdown) {\n      return \"markdown\";\n    } else if (property.storage) {\n      return \"file_upload\";\n    } else if (property.url) {\n      return \"url\";\n    } else if (property.email) {\n      return \"email\";\n    } else if (property.enumValues) {\n      return \"select\";\n    } else {\n      return \"text_field\";\n    }\n  } else if (property.dataType === \"number\") {\n    if (property.enumValues) {\n      return \"number_select\";\n    }\n    return \"number_input\";\n  } else if (property.dataType === \"map\") {\n    if (property.keyValue) return \"key_value\";\n    return \"group\";\n  } else if (property.dataType === \"array\") {\n    const of = property.of;\n    const oneOf = property.oneOf;\n    if (oneOf) {\n      return \"block\";\n    } else if (Array.isArray(of)) {\n      return \"custom_array\";\n    } else if (isPropertyBuilder(of)) {\n      return \"repeat\";\n    } else if (of?.dataType === \"string\" && of.enumValues) {\n      return \"multi_select\";\n    } else if (of?.dataType === \"number\" && of.enumValues) {\n      return \"multi_number_select\";\n    } else if (of?.dataType === \"string\" && of.storage) {\n      return \"multi_file_upload\";\n    } else if (of?.dataType === \"reference\") {\n      return \"multi_references\";\n    } else {\n      return \"repeat\";\n    }\n  } else if (property.dataType === \"boolean\") {\n    return \"switch\";\n  } else if (property.dataType === \"date\") {\n    return \"date_time\";\n  } else if (property.dataType === \"reference\") {\n    return \"reference\";\n  }\n  console.error(\"Unsupported field config mapping\", property);\n  return void 0;\n}\nfunction getFieldId(property) {\n  if (property.propertyConfig) return property.propertyConfig;\n  return getDefaultFieldId(property);\n}\nconst resolveCollection = ({\n  collection,\n  path,\n  entityId,\n  values,\n  previousValues,\n  userConfigPersistence,\n  propertyConfigs,\n  ignoreMissingFields = false\n}) => {\n  const collectionOverride = userConfigPersistence?.getCollectionConfig(path);\n  const storedProperties = getValueInPath(collectionOverride, \"properties\");\n  const defaultValues = getDefaultValuesFor(collection.properties);\n  const usedValues = values ?? defaultValues;\n  const usedPreviousValues = previousValues ?? values ?? defaultValues;\n  const resolvedProperties = Object.entries(collection.properties).map(([key, propertyOrBuilder]) => {\n    const childResolvedProperty = resolveProperty({\n      propertyKey: key,\n      propertyOrBuilder,\n      values: usedValues,\n      previousValues: usedPreviousValues,\n      path,\n      entityId,\n      propertyConfigs,\n      ignoreMissingFields\n    });\n    if (!childResolvedProperty) return {};\n    return {\n      [key]: childResolvedProperty\n    };\n  }).filter((a) => a !== null).reduce((a, b) => ({\n    ...a,\n    ...b\n  }), {});\n  const properties = mergeDeep(resolvedProperties, storedProperties);\n  const cleanedProperties = Object.entries(properties).filter(([_, property]) => Boolean(property?.dataType)).map(([id, property]) => ({\n    [id]: property\n  })).reduce((a, b) => ({\n    ...a,\n    ...b\n  }), {});\n  return {\n    ...collection,\n    properties: cleanedProperties,\n    originalCollection: collection\n  };\n};\nfunction resolveProperty({\n  propertyOrBuilder,\n  fromBuilder = false,\n  ignoreMissingFields = false,\n  ...props\n}) {\n  if (typeof propertyOrBuilder === \"object\" && \"resolved\" in propertyOrBuilder) {\n    return propertyOrBuilder;\n  }\n  let resolvedProperty = null;\n  if (!propertyOrBuilder) {\n    return null;\n  } else if (isPropertyBuilder(propertyOrBuilder)) {\n    const path = props.path;\n    if (!path) throw Error(\"Trying to resolve a property builder without specifying the entity path\");\n    const usedPropertyValue = props.propertyKey ? (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(props.values, props.propertyKey) : void 0;\n    const result = propertyOrBuilder({\n      ...props,\n      path,\n      propertyValue: usedPropertyValue,\n      values: props.values ?? {},\n      previousValues: props.previousValues ?? props.values ?? {}\n    });\n    if (!result) {\n      return null;\n    }\n    resolvedProperty = resolveProperty({\n      ...props,\n      propertyOrBuilder: result,\n      fromBuilder: true,\n      ignoreMissingFields\n    });\n  } else {\n    const property = propertyOrBuilder;\n    if (property.dataType === \"map\" && property.properties) {\n      const properties = resolveProperties({\n        ignoreMissingFields,\n        ...props,\n        properties: property.properties\n      });\n      resolvedProperty = {\n        ...property,\n        resolved: true,\n        fromBuilder,\n        properties\n      };\n    } else if (property.dataType === \"array\") {\n      resolvedProperty = resolveArrayProperty({\n        property,\n        fromBuilder,\n        ignoreMissingFields,\n        ...props\n      });\n    } else if ((property.dataType === \"string\" || property.dataType === \"number\") && property.enumValues) {\n      resolvedProperty = resolvePropertyEnum(property, fromBuilder);\n    }\n  }\n  if (!resolvedProperty) {\n    resolvedProperty = {\n      ...propertyOrBuilder,\n      resolved: true,\n      fromBuilder\n    };\n  }\n  if (resolvedProperty.propertyConfig && !isDefaultFieldConfigId(resolvedProperty.propertyConfig)) {\n    const cmsFields = props.propertyConfigs;\n    if (!cmsFields && !ignoreMissingFields) {\n      throw Error(`Trying to resolve a property with key '${resolvedProperty.propertyConfig}' that inherits from a custom property config but no custom property configs were provided. Use the property 'propertyConfigs' in your app config to provide them`);\n    }\n    const customField = cmsFields?.[resolvedProperty.propertyConfig];\n    if (!customField) {\n      console.warn(`Trying to resolve a property with key '${resolvedProperty.propertyConfig}' that inherits from a custom property config but no custom property config with that key was found. Check the 'propertyConfigs' in your app config`);\n      console.warn(\"Available property configs\", cmsFields);\n      return null;\n    }\n    if (customField.property) {\n      const configPropertyOrBuilder = customField.property;\n      if (\"propertyConfig\" in configPropertyOrBuilder) {\n        delete configPropertyOrBuilder.propertyConfig;\n      }\n      const customFieldProperty = resolveProperty({\n        propertyOrBuilder: configPropertyOrBuilder,\n        ignoreMissingFields,\n        ...props\n      });\n      if (customFieldProperty) {\n        resolvedProperty = mergeDeep(customFieldProperty, resolvedProperty);\n      }\n    }\n  }\n  return resolvedProperty ? {\n    ...resolvedProperty,\n    resolved: true\n  } : null;\n}\nfunction getArrayResolvedProperties({\n  propertyKey,\n  propertyValue,\n  property,\n  ...props\n}) {\n  const of = property.of;\n  return Array.isArray(propertyValue) ? propertyValue.map((v, index) => {\n    return resolveProperty({\n      propertyKey: `${propertyKey}.${index}`,\n      propertyOrBuilder: of,\n      ...props,\n      index\n    });\n  }).filter((e) => Boolean(e)) : [];\n}\nfunction resolveArrayProperty({\n  propertyKey,\n  property,\n  ignoreMissingFields = false,\n  ...props\n}) {\n  const propertyValue = propertyKey ? (0,_firecms_formex__WEBPACK_IMPORTED_MODULE_6__.getIn)(props.values, propertyKey) : void 0;\n  if (property.of) {\n    if (Array.isArray(property.of)) {\n      return {\n        ...property,\n        resolved: true,\n        fromBuilder: props.fromBuilder,\n        resolvedProperties: property.of.map((p, index) => {\n          return resolveProperty({\n            propertyKey: `${propertyKey}.${index}`,\n            propertyOrBuilder: p,\n            ignoreMissingFields,\n            ...props,\n            index\n          });\n        })\n      };\n    } else {\n      const of = property.of;\n      const resolvedProperties = getArrayResolvedProperties({\n        propertyValue,\n        propertyKey,\n        property,\n        ignoreMissingFields,\n        ...props\n      });\n      const ofProperty = resolveProperty({\n        propertyOrBuilder: of,\n        ignoreMissingFields,\n        ...props\n      });\n      if (!ofProperty && !ignoreMissingFields) throw Error(\"When using a property builder as the 'of' prop of an ArrayProperty, you must return a valid child property\");\n      return {\n        ...property,\n        resolved: true,\n        fromBuilder: props.fromBuilder,\n        of: ofProperty,\n        resolvedProperties\n      };\n    }\n  } else if (property.oneOf) {\n    const typeField = property.oneOf?.typeField ?? DEFAULT_ONE_OF_TYPE;\n    const resolvedProperties = Array.isArray(propertyValue) ? propertyValue.map((v, index) => {\n      const type = v && v[typeField];\n      const childProperty = property.oneOf?.properties[type];\n      if (!type || !childProperty) return null;\n      return resolveProperty({\n        propertyKey: `${propertyKey}.${index}`,\n        propertyOrBuilder: childProperty,\n        ignoreMissingFields,\n        ...props\n      });\n    }).filter((e) => Boolean(e)) : [];\n    const properties = resolveProperties({\n      propertyKey,\n      properties: property.oneOf.properties,\n      ignoreMissingFields,\n      ...props\n    });\n    return {\n      ...property,\n      resolved: true,\n      oneOf: {\n        ...property.oneOf,\n        properties\n      },\n      fromBuilder: props.fromBuilder,\n      resolvedProperties\n    };\n  } else if (!property.Field) {\n    throw Error(\"The array property needs to declare an 'of' or a 'oneOf' property, or provide a custom `Field`\");\n  } else {\n    return {\n      ...property,\n      resolved: true,\n      fromBuilder: props.fromBuilder\n    };\n  }\n}\nfunction resolveProperties({\n  propertyKey,\n  properties,\n  ignoreMissingFields,\n  ...props\n}) {\n  return Object.entries(properties).map(([key, property]) => {\n    const childResolvedProperty = resolveProperty({\n      propertyKey: propertyKey ? `${propertyKey}.${key}` : void 0,\n      propertyOrBuilder: property,\n      ignoreMissingFields,\n      ...props\n    });\n    if (!childResolvedProperty) return {};\n    return {\n      [key]: childResolvedProperty\n    };\n  }).filter((a) => a !== null).reduce((a, b) => ({\n    ...a,\n    ...b\n  }), {});\n}\nfunction resolvePropertyEnum(property, fromBuilder) {\n  if (typeof property.enumValues === \"object\") {\n    return {\n      ...property,\n      resolved: true,\n      enumValues: enumToObjectEntries(property.enumValues)?.filter((value) => value && (value.id || value.id === 0) && value.label) ?? [],\n      fromBuilder: fromBuilder ?? false\n    };\n  }\n  return property;\n}\nfunction resolveEnumValues(input) {\n  if (typeof input === \"object\") {\n    return Object.entries(input).map(([id, value]) => typeof value === \"string\" ? {\n      id,\n      label: value\n    } : value);\n  } else if (Array.isArray(input)) {\n    return input;\n  } else {\n    return void 0;\n  }\n}\nfunction resolveEntityView(entityView, contextEntityViews) {\n  if (typeof entityView === \"string\") {\n    return contextEntityViews?.find((entry) => entry.key === entityView);\n  } else {\n    return entityView;\n  }\n}\nfunction resolvedSelectedEntityView(customViews, customizationController, selectedTab) {\n  const resolvedEntityViews = customViews ? customViews.map((e) => resolveEntityView(e, customizationController.entityViews)).filter(Boolean) : [];\n  const selectedEntityView = resolvedEntityViews.find((e) => e.key === selectedTab);\n  const selectedSecondaryForm = customViews && resolvedEntityViews.filter((e) => e.includeActions).find((e) => e.key === selectedTab);\n  return {\n    resolvedEntityViews,\n    selectedEntityView,\n    selectedSecondaryForm\n  };\n}\nfunction getNavigationEntriesFromPath(props) {\n  const {\n    path,\n    collections = [],\n    currentFullPath\n  } = props;\n  const subpaths = removeInitialAndTrailingSlashes(path).split(\"/\");\n  const subpathCombinations = getCollectionPathsCombinations(subpaths);\n  const result = [];\n  for (let i = 0; i < subpathCombinations.length; i++) {\n    const subpathCombination = subpathCombinations[i];\n    const collection = collections && collections.find((entry) => entry.id === subpathCombination || entry.path === subpathCombination);\n    if (collection) {\n      const pathOrAlias = collection.id ?? collection.path;\n      const collectionPath = currentFullPath && currentFullPath.length > 0 ? currentFullPath + \"/\" + pathOrAlias : pathOrAlias;\n      result.push({\n        type: \"collection\",\n        id: collection.id,\n        path: collectionPath,\n        fullPath: collectionPath,\n        collection\n      });\n      const restOfThePath = removeInitialAndTrailingSlashes(removeInitialAndTrailingSlashes(path).replace(subpathCombination, \"\"));\n      const nextSegments = restOfThePath.length > 0 ? restOfThePath.split(\"/\") : [];\n      if (nextSegments.length > 0) {\n        const entityId = nextSegments[0];\n        const fullPath = collectionPath + \"/\" + entityId;\n        result.push({\n          type: \"entity\",\n          entityId,\n          path: collectionPath,\n          fullPath,\n          parentCollection: collection\n        });\n        if (nextSegments.length > 1) {\n          const newPath = nextSegments.slice(1).join(\"/\");\n          if (!collection) {\n            throw Error(\"collection not found resolving path: \" + collection);\n          }\n          const entityViews = collection.entityViews;\n          const customView = entityViews && entityViews.map((entry) => resolveEntityView(entry, props.contextEntityViews)).filter(Boolean).find((entry) => entry.key === newPath);\n          if (customView) {\n            result.push({\n              type: \"custom_view\",\n              path: collectionPath,\n              entityId,\n              fullPath: fullPath + \"/\" + customView.key,\n              view: customView\n            });\n          } else if (collection.subcollections) {\n            result.push(...getNavigationEntriesFromPath({\n              path: newPath,\n              collections: collection.subcollections,\n              currentFullPath: fullPath,\n              contextEntityViews: props.contextEntityViews\n            }));\n          }\n        }\n      }\n      break;\n    }\n  }\n  return result;\n}\nconst CONTAINER_FULL_WIDTH = \"100vw\";\nconst ADDITIONAL_TAB_WIDTH = \"55vw\";\nconst FORM_CONTAINER_WIDTH = \"768px\";\nfunction useNavigationUnsavedChangesDialog(when, onSuccess) {\n  const [isDialogOpen, setIsDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [pendingNavigation, setPendingNavigation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const handleCancel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setIsDialogOpen(false);\n    setPendingNavigation(null);\n  }, []);\n  const handleOk = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setIsDialogOpen(false);\n    if (pendingNavigation) {\n      onSuccess();\n      if (pendingNavigation.type === \"popstate\") {\n        window.history.go(pendingNavigation.delta);\n      } else if (pendingNavigation.type === \"link\") {\n        window.location.href = pendingNavigation.href;\n      }\n      setPendingNavigation(null);\n    }\n  }, [onSuccess, pendingNavigation]);\n  const handleBeforeUnload = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e) => {\n    if (when) {\n      e.preventDefault();\n      e.returnValue = \"\";\n    }\n  }, [when]);\n  const handlePopState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_0) => {\n    if (when) {\n      e_0.preventDefault();\n      setPendingNavigation({\n        type: \"popstate\",\n        delta: -1\n      });\n      setIsDialogOpen(true);\n    }\n  }, [when]);\n  const handleLinkClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e_1) => {\n    if (!when) return;\n    const target = e_1.target;\n    const anchor = target.closest(\"a[href]\");\n    if (anchor && anchor.host === window.location.host) {\n      e_1.preventDefault();\n      const href = anchor.getAttribute(\"href\");\n      if (href) {\n        setPendingNavigation({\n          type: \"link\",\n          href\n        });\n        setIsDialogOpen(true);\n      }\n    }\n  }, [when]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (when) {\n      window.addEventListener(\"beforeunload\", handleBeforeUnload);\n      window.addEventListener(\"popstate\", handlePopState);\n      document.addEventListener(\"click\", handleLinkClick);\n    } else {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n      window.removeEventListener(\"popstate\", handlePopState);\n      document.removeEventListener(\"click\", handleLinkClick);\n    }\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n      window.removeEventListener(\"popstate\", handlePopState);\n      document.removeEventListener(\"click\", handleLinkClick);\n    };\n  }, [when, handleBeforeUnload, handlePopState, handleLinkClick]);\n  return {\n    navigationWasBlocked: isDialogOpen,\n    handleCancel,\n    handleOk\n  };\n}\nfunction UnsavedChangesDialog(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(20);\n  const {\n    open,\n    handleOk,\n    handleCancel,\n    body,\n    title\n  } = t0;\n  let t1;\n  if ($[0] !== handleCancel) {\n    t1 = () => {\n      handleCancel();\n    };\n    $[0] = handleCancel;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] !== title) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogTitle, { variant: \"h6\", children: title });\n    $[2] = title;\n    $[3] = t2;\n  } else {\n    t2 = $[3];\n  }\n  let t3;\n  if ($[4] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { children: \"Are you sure you want to leave this page?\" });\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== body) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogContent, { children: [\n      body,\n      t3\n    ] });\n    $[5] = body;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let t5;\n  if ($[7] !== handleCancel) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", onClick: handleCancel, autoFocus: true, children: \" Cancel \" });\n    $[7] = handleCancel;\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  let t6;\n  if ($[9] !== handleOk) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: handleOk, children: \" Ok \" });\n    $[9] = handleOk;\n    $[10] = t6;\n  } else {\n    t6 = $[10];\n  }\n  let t7;\n  if ($[11] !== t5 || $[12] !== t6) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { children: [\n      t5,\n      t6\n    ] });\n    $[11] = t5;\n    $[12] = t6;\n    $[13] = t7;\n  } else {\n    t7 = $[13];\n  }\n  let t8;\n  if ($[14] !== open || $[15] !== t1 || $[16] !== t2 || $[17] !== t4 || $[18] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Dialog, { onEscapeKeyDown: t1, open, children: [\n      t2,\n      t4,\n      t7\n    ] });\n    $[14] = open;\n    $[15] = t1;\n    $[16] = t2;\n    $[17] = t4;\n    $[18] = t7;\n    $[19] = t8;\n  } else {\n    t8 = $[19];\n  }\n  return t8;\n}\nconst SideDialogContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({\n  width: \"\",\n  blocked: false,\n  setBlocked: (blocked) => {\n  },\n  setBlockedNavigationMessage: (message) => {\n  },\n  close: () => {\n  },\n  pendingClose: false,\n  setPendingClose: () => {\n  }\n});\nconst useSideDialogContext = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(SideDialogContext);\n};\nfunction SideDialogs() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  const sideDialogsController = useSideDialogsController();\n  const sidePanels = sideDialogsController.sidePanels;\n  let panels;\n  if ($[0] !== sidePanels) {\n    panels = [...sidePanels];\n    panels.push(void 0);\n    $[0] = sidePanels;\n    $[1] = panels;\n  } else {\n    panels = $[1];\n  }\n  let t0;\n  if ($[2] !== panels || $[3] !== sidePanels.length) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: panels.map((panel, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SideDialogView, { panel, offsetPosition: sidePanels.length - index - 1 }, `side_dialog_${index}`)) });\n    $[2] = panels;\n    $[3] = sidePanels.length;\n    $[4] = t0;\n  } else {\n    t0 = $[4];\n  }\n  return t0;\n}\nfunction SideDialogView({\n  offsetPosition,\n  panel\n}) {\n  const [drawerCloseRequested, setDrawerCloseRequested] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [blocked, setBlocked] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [blockedNavigationMessage, setBlockedNavigationMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [pendingClose, setPendingClose] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const widthRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(panel?.width);\n  const width = widthRef.current;\n  const sideDialogsController = useSideDialogsController();\n  const {\n    navigationWasBlocked,\n    handleOk: handleNavigationOk,\n    handleCancel: handleNavigationCancel\n  } = useNavigationUnsavedChangesDialog(blocked && !drawerCloseRequested, () => setBlocked(false));\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (panel) widthRef.current = panel.width;\n  }, [panel]);\n  const handleDrawerCloseOk = () => {\n    setBlocked(false);\n    setDrawerCloseRequested(false);\n    sideDialogsController.close();\n    panel?.onClose?.();\n  };\n  const handleDrawerCloseCancel = () => {\n    setDrawerCloseRequested(false);\n  };\n  const onCloseRequest = (force) => {\n    if (blocked && !force) {\n      setDrawerCloseRequested(true);\n    } else {\n      sideDialogsController.close();\n      panel?.onClose?.();\n    }\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SideDialogContext.Provider, { value: {\n    blocked,\n    setBlocked,\n    setBlockedNavigationMessage,\n    width,\n    close: onCloseRequest,\n    pendingClose,\n    setPendingClose\n  }, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Sheet, { open: Boolean(panel), onOpenChange: (open) => !open && onCloseRequest(), title: \"Side dialog \" + panel?.key, children: [\n      panel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"transform max-w-[100vw] lg:max-w-[95vw] flex flex-col h-full transition-all duration-250 ease-in-out bg-white dark:bg-surface-900 \", style: {\n        width: panel.width,\n        transform: `translateX(-${offsetPosition * 200}px)`\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: panel.component }) }),\n      !panel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {\n        width\n      } })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UnsavedChangesDialog, { open: drawerCloseRequested, handleOk: drawerCloseRequested ? handleDrawerCloseOk : handleNavigationOk, handleCancel: drawerCloseRequested ? handleDrawerCloseCancel : handleNavigationCancel, body: blockedNavigationMessage })\n  ] });\n}\nfunction EntityEditViewFormActions({\n  collection,\n  path,\n  entity,\n  layout,\n  savingError,\n  formex,\n  disabled,\n  status,\n  pluginActions,\n  openEntityMode,\n  showDefaultActions = true\n}) {\n  const authController = useAuthController();\n  const context = useFireCMSContext();\n  const sideEntityController = useSideEntityController();\n  const sideDialogContext = useSideDialogContext();\n  const entityActions = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const customEntityActions = collection.entityActions;\n    const createEnabled = canCreateEntity(collection, authController, path, null);\n    const deleteEnabled = entity ? canDeleteEntity(collection, authController, path, entity) : false;\n    const actions = [];\n    if (createEnabled) actions.push(copyEntityAction);\n    if (deleteEnabled) actions.push(deleteEntityAction);\n    if (customEntityActions) return mergeEntityActions(actions, customEntityActions);\n    return actions;\n  }, [authController, collection, path]);\n  const formActions = showDefaultActions ? entityActions.filter((a) => a.includeInForm === void 0 || a.includeInForm) : [];\n  return layout === \"bottom\" ? buildBottomActions({\n    savingError,\n    entity,\n    formActions,\n    collection,\n    context,\n    sideEntityController,\n    isSubmitting: formex.isSubmitting,\n    disabled,\n    status,\n    sideDialogContext,\n    pluginActions,\n    openEntityMode\n  }) : buildSideActions({\n    savingError,\n    entity,\n    formActions,\n    collection,\n    context,\n    sideEntityController,\n    isSubmitting: formex.isSubmitting,\n    sideDialogContext,\n    disabled,\n    status,\n    pluginActions,\n    openEntityMode\n  });\n}\nfunction buildBottomActions({\n  savingError,\n  entity,\n  formActions,\n  collection,\n  context,\n  sideEntityController,\n  isSubmitting,\n  disabled,\n  status,\n  sideDialogContext,\n  pluginActions,\n  openEntityMode\n}) {\n  const canClose = openEntityMode === \"side_panel\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.DialogActions, { position: \"absolute\", children: [\n    savingError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"text-right\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"error\", children: savingError.message }) }),\n    entity && formActions.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow flex overflow-auto no-scrollbar\", children: formActions.map((action) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"primary\", onClick: (event) => {\n      event.stopPropagation();\n      if (entity) action.onClick({\n        entity,\n        fullPath: collection.path,\n        collection,\n        context,\n        sideEntityController,\n        openEntityMode\n      });\n    }, children: action.icon }, action.name)) }),\n    pluginActions,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: \"text\", disabled: disabled || isSubmitting, type: \"reset\", children: status === \"existing\" ? \"Discard\" : \"Clear\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: canClose ? \"text\" : \"filled\", color: \"primary\", type: \"submit\", disabled: disabled || isSubmitting, onClick: () => {\n      sideDialogContext.setPendingClose(false);\n    }, children: [\n      status === \"existing\" && \"Save\",\n      status === \"copy\" && \"Create copy\",\n      status === \"new\" && \"Create\"\n    ] }),\n    canClose && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LoadingButton, { variant: \"filled\", color: \"primary\", type: \"submit\", loading: isSubmitting, disabled, onClick: () => {\n      sideDialogContext.setPendingClose?.(true);\n    }, children: [\n      status === \"existing\" && \"Save and close\",\n      status === \"copy\" && \"Create copy and close\",\n      status === \"new\" && \"Create and close\"\n    ] })\n  ] });\n}\nfunction buildSideActions({\n  savingError,\n  entity,\n  formActions,\n  collection,\n  context,\n  sideEntityController,\n  isSubmitting,\n  disabled,\n  status,\n  sideDialogContext,\n  pluginActions\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"overflow-auto h-full flex flex-col gap-2 w-80 2xl:w-96 px-4 py-16 sticky top-0 border-l\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.LoadingButton, { fullWidth: true, variant: \"filled\", color: \"primary\", type: \"submit\", size: \"large\", disabled: disabled || isSubmitting, onClick: () => {\n      sideDialogContext.setPendingClose?.(false);\n    }, children: [\n      status === \"existing\" && \"Save\",\n      status === \"copy\" && \"Create copy\",\n      status === \"new\" && \"Create\"\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Button, { fullWidth: true, variant: \"text\", disabled: disabled || isSubmitting, type: \"reset\", children: status === \"existing\" ? \"Discard\" : \"Clear\" }),\n    pluginActions,\n    savingError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"text-right\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { color: \"error\", children: savingError.message }) })\n  ] });\n}\nconst MAIN_TAB_VALUE = \"main_##Q$SC^#S6\";\nfunction EntityEditView(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(28);\n  let entityId;\n  let props;\n  if ($[0] !== t0) {\n    ({\n      entityId,\n      ...props\n    } = t0);\n    $[0] = t0;\n    $[1] = entityId;\n    $[2] = props;\n  } else {\n    entityId = $[1];\n    props = $[2];\n  }\n  let t1;\n  if ($[3] !== entityId || $[4] !== props.collection || $[5] !== props.databaseId || $[6] !== props.path) {\n    t1 = {\n      path: props.path,\n      entityId,\n      collection: props.collection,\n      databaseId: props.databaseId,\n      useCache: false\n    };\n    $[3] = entityId;\n    $[4] = props.collection;\n    $[5] = props.databaseId;\n    $[6] = props.path;\n    $[7] = t1;\n  } else {\n    t1 = $[7];\n  }\n  const {\n    entity,\n    dataLoading\n  } = useEntityFetch(t1);\n  let t2;\n  if ($[8] !== entityId || $[9] !== props.path) {\n    t2 = entityId ? getEntityFromCache(props.path + \"/\" + entityId) : getEntityFromCache(props.path + \"#new\");\n    $[8] = entityId;\n    $[9] = props.path;\n    $[10] = t2;\n  } else {\n    t2 = $[10];\n  }\n  const cachedValues = t2;\n  const authController = useAuthController();\n  const initialStatus = props.copy ? \"copy\" : entityId ? \"existing\" : \"new\";\n  const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialStatus);\n  let t3;\n  if (status === \"new\" || status === \"copy\") {\n    t3 = true;\n  } else {\n    t3 = entity ? canEditEntity(props.collection, authController, props.path, entity ?? null) : void 0;\n  }\n  const canEdit = t3;\n  if (dataLoading && !cachedValues || (!entity || canEdit === void 0) && (status === \"existing\" || status === \"copy\")) {\n    let t42;\n    if ($[11] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t42 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CircularProgressCenter, {});\n      $[11] = t42;\n    } else {\n      t42 = $[11];\n    }\n    return t42;\n  }\n  if (entityId && !entity && !cachedValues) {\n    console.error(`Entity with id ${entityId} not found in collection ${props.path}`);\n  }\n  if (!canEdit) {\n    const t42 = props.collection.singularName ?? props.collection.name;\n    let t52;\n    if ($[12] !== t42) {\n      t52 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { className: \"mt-16 mb-8 mx-8\", variant: \"h4\", children: t42 });\n      $[12] = t42;\n      $[13] = t52;\n    } else {\n      t52 = $[13];\n    }\n    const t6 = entity;\n    let t7;\n    if ($[14] !== props.collection || $[15] !== props.path || $[16] !== t6) {\n      t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityView, { className: \"px-8\", entity: t6, path: props.path, collection: props.collection });\n      $[14] = props.collection;\n      $[15] = props.path;\n      $[16] = t6;\n      $[17] = t7;\n    } else {\n      t7 = $[17];\n    }\n    let t8;\n    if ($[18] !== t52 || $[19] !== t7) {\n      t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"flex flex-col\", children: [\n        t52,\n        t7\n      ] });\n      $[18] = t52;\n      $[19] = t7;\n      $[20] = t8;\n    } else {\n      t8 = $[20];\n    }\n    return t8;\n  }\n  const t4 = cachedValues;\n  let t5;\n  if ($[21] !== dataLoading || $[22] !== entity || $[23] !== entityId || $[24] !== props || $[25] !== status || $[26] !== t4) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityEditViewInner, { ...props, entityId, entity, cachedDirtyValues: t4, dataLoading, status, setStatus });\n    $[21] = dataLoading;\n    $[22] = entity;\n    $[23] = entityId;\n    $[24] = props;\n    $[25] = status;\n    $[26] = t4;\n    $[27] = t5;\n  } else {\n    t5 = $[27];\n  }\n  return t5;\n}\nfunction EntityEditViewInner({\n  path,\n  entityId,\n  selectedTab: selectedTabProp,\n  collection,\n  parentCollectionIds,\n  onValuesModified,\n  onSaved,\n  onTabChange,\n  entity,\n  cachedDirtyValues,\n  dataLoading,\n  layout = \"side_panel\",\n  barActions,\n  status,\n  setStatus,\n  formProps\n}) {\n  const context = useFireCMSContext();\n  const [usedEntity, setUsedEntity] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(entity);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (entity) setUsedEntity(entity);\n  }, [entity]);\n  const [formContext, setFormContext] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);\n  const largeLayout = useLargeLayout();\n  const customizationController = useCustomizationController();\n  const defaultSelectedView = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => resolveDefaultSelectedView(collection ? collection.defaultSelectedView : void 0, {\n    status,\n    entityId\n  }), []);\n  const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(selectedTabProp ?? defaultSelectedView ?? MAIN_TAB_VALUE);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if ((selectedTabProp ?? MAIN_TAB_VALUE) !== selectedTab) {\n      setSelectedTab(selectedTabProp ?? MAIN_TAB_VALUE);\n    }\n  }, [selectedTabProp]);\n  const subcollections = (collection.subcollections ?? []).filter((c2) => !c2.hideFromNavigation);\n  const subcollectionsCount = subcollections?.length ?? 0;\n  const customViews = collection.entityViews;\n  const customViewsCount = customViews?.length ?? 0;\n  const hasAdditionalViews = customViewsCount > 0 || subcollectionsCount > 0;\n  const {\n    resolvedEntityViews,\n    selectedEntityView,\n    selectedSecondaryForm\n  } = resolvedSelectedEntityView(customViews, customizationController, selectedTab);\n  const actionsAtTheBottom = !largeLayout || layout === \"side_panel\" || selectedEntityView?.includeActions === \"bottom\";\n  const mainViewVisible = selectedTab === MAIN_TAB_VALUE || Boolean(selectedSecondaryForm);\n  const customViewsView = customViews && resolvedEntityViews.filter((e) => !e.includeActions).map((customView) => {\n    if (!customView) return null;\n    const Builder = customView.Builder;\n    if (!Builder) {\n      console.error(\"customView.Builder is not defined\");\n      return null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"relative flex-1 w-full h-full overflow-auto\", {\n      \"hidden\": selectedTab !== customView.key\n    }), role: \"tabpanel\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: formContext && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Builder, { collection, entity: usedEntity, modifiedValues: formContext.formex.values ?? usedEntity?.values, formContext }) }) }, `custom_view_${customView.key}`);\n  }).filter(Boolean);\n  const globalLoading = dataLoading && !usedEntity;\n  const subCollectionsViews = subcollections && subcollections.map((subcollection) => {\n    const subcollectionId = subcollection.id ?? subcollection.path;\n    const fullPath = usedEntity ? `${path}/${usedEntity?.id}/${removeInitialAndTrailingSlashes(subcollectionId)}` : void 0;\n    if (selectedTab !== subcollectionId) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"relative flex-1 h-full overflow-auto w-full\", role: \"tabpanel\", children: [\n      globalLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CircularProgressCenter, {}),\n      !globalLoading && (usedEntity && fullPath ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionView, { fullPath, parentCollectionIds: [...parentCollectionIds, collection.id], isSubCollection: true, updateUrl: false, ...subcollection, openEntityMode: layout }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex items-center justify-center w-full h-full p-3\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"label\", children: \"You need to save your entity before adding additional collections\" }) }))\n    ] }, `subcol_${subcollectionId}`);\n  }).filter(Boolean);\n  const onSideTabClick = (value) => {\n    setSelectedTab(value);\n    if (status === \"existing\") {\n      onTabChange?.({\n        path,\n        entityId,\n        selectedTab: value === MAIN_TAB_VALUE ? void 0 : value,\n        collection\n      });\n    }\n  };\n  const entityView = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityForm, { collection, path, entityId: entityId ?? usedEntity?.id, onValuesModified, entity, initialDirtyValues: cachedDirtyValues, openEntityMode: layout, forceActionsAtTheBottom: actionsAtTheBottom, initialStatus: status, className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(!mainViewVisible ? \"hidden\" : \"\", formProps?.className), EntityFormActionsComponent: EntityEditViewFormActions, ...formProps, onEntityChange: (entity_0) => {\n    setUsedEntity(entity_0);\n    formProps?.onEntityChange?.(entity_0);\n  }, onStatusChange: (status_0) => {\n    setStatus(status_0);\n    formProps?.onStatusChange?.(status_0);\n  }, onFormContextReady: (formContext_0) => {\n    setFormContext(formContext_0);\n    formProps?.onFormContextReady?.(formContext_0);\n  }, onSaved: (params) => {\n    const res = {\n      ...params,\n      selectedTab: MAIN_TAB_VALUE === selectedTab ? void 0 : selectedTab\n    };\n    onSaved?.(res);\n    formProps?.onSaved?.(res);\n  }, Builder: selectedSecondaryForm?.Builder });\n  const subcollectionTabs = subcollections && subcollections.map((subcollection_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tab, { className: \"text-sm min-w-[120px]\", value: subcollection_0.id, children: subcollection_0.name }, `entity_detail_collection_tab_${subcollection_0.name}`));\n  const customViewTabs = resolvedEntityViews.map((view) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tab, { className: \"text-sm min-w-[120px]\", value: view.key, children: view.name }, `entity_detail_collection_tab_${view.name}`));\n  const shouldShowTopBar = Boolean(barActions) || hasAdditionalViews;\n  let result = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"relative flex flex-col h-full w-full bg-white dark:bg-surface-900\", children: [\n    shouldShowTopBar && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"h-14 flex overflow-visible overflow-x-scroll w-full no-scrollbar h-14 border-b pl-2 pr-2 pt-1 flex items-end bg-surface-50 dark:bg-surface-900\", _firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin), children: [\n      barActions,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow\" }),\n      globalLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"self-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CircularProgress, { size: \"small\" }) }),\n      hasAdditionalViews && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tabs, { value: selectedTab, onValueChange: (value_0) => {\n        onSideTabClick(value_0);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tab, { disabled: !hasAdditionalViews, value: MAIN_TAB_VALUE, className: \"text-sm min-w-[120px]\", children: collection.singularName ?? collection.name }),\n        customViewTabs,\n        subcollectionTabs\n      ] })\n    ] }),\n    globalLoading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full pt-12 pb-16 px-4 sm:px-8 md:px-10\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CircularProgressCenter, {}) }) : entityView,\n    customViewsView,\n    subCollectionsViews\n  ] });\n  const plugins = customizationController.plugins;\n  if (plugins) {\n    plugins.forEach((plugin) => {\n      if (plugin.form?.provider) {\n        result = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(plugin.form.provider.Component, { status, path, collection, entity: usedEntity, context, formContext, ...plugin.form.provider.props, children: result });\n      }\n    });\n  }\n  return result;\n}\nfunction EntitySidePanel(props) {\n  const {\n    blocked,\n    setBlocked,\n    setBlockedNavigationMessage,\n    close\n  } = useSideDialogContext();\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const sideEntityController = useSideEntityController();\n  const navigationController = useNavigationController();\n  const sideDialogsController = useSideDialogContext();\n  const onClose = () => {\n    if (props.onClose) {\n      props.onClose();\n    }\n    setBlocked(false);\n    close(true);\n  };\n  const onUpdate = (params) => {\n    if (props.onUpdate) {\n      props.onUpdate(params);\n    }\n    if (params.status !== \"existing\") {\n      sideEntityController.replace({\n        path: params.path,\n        entityId: params.entityId,\n        selectedTab: params.selectedTab,\n        updateUrl: true,\n        collection: params.collection\n      });\n    }\n    if (sideDialogsController.pendingClose) {\n      sideDialogsController.setPendingClose(false);\n      onClose();\n    }\n  };\n  const parentCollectionIds = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return navigationController.getParentCollectionIds(props.path);\n  }, [navigationController, props.path]);\n  const collection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (props.collection) {\n      return props.collection;\n    }\n    const registryCollection = navigationController.getCollection(props.path);\n    if (registryCollection) {\n      return registryCollection;\n    }\n    console.error(\"ERROR: No collection found in path `\", props.path, \"`. Entity id: \", props.entityId);\n    throw Error(\"ERROR: No collection found in path `\" + props.path + \"`. Make sure you have defined a collection for this path in the root navigation.\");\n  }, [navigationController, props.collection]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    function beforeunload(e) {\n      if (blocked && collection) {\n        e.preventDefault();\n        e.returnValue = `You have unsaved changes in this ${collection.name}. Are you sure you want to leave this page?`;\n      }\n    }\n    if (typeof window !== \"undefined\") window.addEventListener(\"beforeunload\", beforeunload);\n    return () => {\n      if (typeof window !== \"undefined\") window.removeEventListener(\"beforeunload\", beforeunload);\n    };\n  }, [blocked, collection]);\n  const onValuesModified = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((modified) => {\n    setBlockedNavigationMessage(modified ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      \" You have unsaved changes in this \",\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"b\", { children: collection?.singularName ?? collection?.name }),\n      \".\"\n    ] }) : void 0);\n    setBlocked(modified);\n  }, [collection?.name, setBlocked, setBlockedNavigationMessage]);\n  if (!props || !collection) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full\" });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityEditView, { ...props, layout: \"side_panel\", collection, parentCollectionIds, onValuesModified, onSaved: onUpdate, barActions: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: \"self-center\", onClick: onClose, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, { size: \"small\" }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { className: \"self-center\", onClick: () => {\n      if (props.entityId) navigate(location.pathname);\n      else navigate(location.pathname + \"#new\");\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.OpenInFullIcon, { size: \"small\" }) })\n  ] }), onTabChange: ({\n    path,\n    entityId,\n    selectedTab,\n    collection: collection_0\n  }) => {\n    sideEntityController.replace({\n      path,\n      entityId,\n      selectedTab,\n      updateUrl: true,\n      collection: collection_0\n    });\n  }, formProps: props.formProps }) }) });\n}\nconst NEW_URL_HASH = \"new_side\";\nconst SIDE_URL_HASH = \"side\";\nfunction getEntityViewWidth(props, small, customizationController) {\n  if (small) return CONTAINER_FULL_WIDTH;\n  const {\n    selectedSecondaryForm\n  } = resolvedSelectedEntityView(props.collection?.entityViews, customizationController, props.selectedTab);\n  const shouldUseSmallLayout = !props.selectedTab || Boolean(selectedSecondaryForm);\n  let resolvedWidth;\n  if (props.width) {\n    resolvedWidth = typeof props.width === \"number\" ? `${props.width}px` : props.width;\n  } else if (props.collection?.sideDialogWidth) {\n    resolvedWidth = typeof props.collection.sideDialogWidth === \"number\" ? `${props.collection.sideDialogWidth}px` : props.collection.sideDialogWidth;\n  }\n  if (!shouldUseSmallLayout) {\n    return `calc(${ADDITIONAL_TAB_WIDTH} + ${resolvedWidth ?? FORM_CONTAINER_WIDTH})`;\n  } else {\n    if (resolvedWidth) {\n      return resolvedWidth;\n    } else if (!props.collection) {\n      return FORM_CONTAINER_WIDTH;\n    } else {\n      return calculateCollectionDesiredWidth(props.collection);\n    }\n  }\n}\nconst collectionViewWidthCache = {};\nfunction calculateCollectionDesiredWidth(collection) {\n  if (collectionViewWidthCache[collection.id]) {\n    return collectionViewWidthCache[collection.id];\n  }\n  const resolvedCollection = resolveCollection({\n    collection,\n    path: \"__ignored\",\n    ignoreMissingFields: true\n  });\n  let result = FORM_CONTAINER_WIDTH;\n  if (resolvedCollection?.properties) {\n    const values = Object.values(resolvedCollection.properties).map((p) => getNestedPropertiesDepth(p));\n    const maxDepth = Math.max(...values);\n    if (maxDepth < 3) {\n      result = FORM_CONTAINER_WIDTH;\n    } else {\n      result = 768 + 32 * (maxDepth - 2) + \"px\";\n    }\n  }\n  collectionViewWidthCache[collection.id] = result;\n  return result;\n}\nfunction getNestedPropertiesDepth(property, accumulator = 0) {\n  if (property.dataType === \"map\" && property.properties) {\n    const values = Object.values(property.properties).flatMap((property2) => getNestedPropertiesDepth(property2, accumulator + 1));\n    return Math.max(...values);\n  } else if (property.dataType === \"array\" && property.oneOf) {\n    return accumulator + 3;\n  } else if (property.dataType === \"array\" && property.of) {\n    if (Array.isArray(property.of)) {\n      return Math.max(...property.of.map((p) => getNestedPropertiesDepth(p, accumulator + 1)));\n    } else {\n      return getNestedPropertiesDepth(property.of, accumulator + 1);\n    }\n  } else {\n    return accumulator + 1;\n  }\n}\nconst useBuildSideEntityController = (navigation, sideDialogsController) => {\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const initialised = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  const customizationController = useCustomizationController();\n  const smallLayout = !useLargeLayout();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const newFlag = location.hash === `#${NEW_URL_HASH}`;\n    const sideFlag = location.hash === `#${SIDE_URL_HASH}`;\n    if (!navigation.loading) {\n      if ((newFlag || sideFlag) && navigation.isUrlCollectionPath(location.pathname)) {\n        const entityOrCollectionPath = navigation.urlPathToDataPath(location.pathname);\n        const panelsFromUrl = buildSidePanelsFromUrl(entityOrCollectionPath, navigation.collections ?? [], newFlag);\n        for (let i = 0; i < panelsFromUrl.length; i++) {\n          const props = panelsFromUrl[i];\n          if (i === 0) sideDialogsController.replace(propsToSidePanel(props, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController));\n          else sideDialogsController.open(propsToSidePanel(props, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController));\n        }\n      }\n      initialised.current = true;\n    }\n  }, [navigation.loading]);\n  const currentPanelKeys = sideDialogsController.sidePanels.map((p) => p.key);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (initialised.current) {\n      const sideFlag_0 = location.hash === `#${SIDE_URL_HASH}`;\n      if (sideFlag_0) {\n        const entityOrCollectionPath_0 = navigation.urlPathToDataPath(location.pathname);\n        const panelsFromUrl_0 = buildSidePanelsFromUrl(entityOrCollectionPath_0, navigation.collections ?? [], false);\n        if (panelsFromUrl_0.length <= currentPanelKeys.length) {\n          return;\n        }\n        const lastPanel = panelsFromUrl_0[panelsFromUrl_0.length - 1];\n        const panelProps = propsToSidePanel(lastPanel, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController);\n        const lastCurrentPanel = currentPanelKeys.length > 0 ? currentPanelKeys[currentPanelKeys.length - 1] : void 0;\n        if (!lastCurrentPanel || lastCurrentPanel !== panelProps.key) {\n          sideDialogsController.replace(panelProps);\n        }\n      }\n    }\n  }, [location.pathname, location.hash, currentPanelKeys]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const updatedSidePanels = sideDialogsController.sidePanels.map((sidePanelProps) => {\n      if (sidePanelProps.additional) {\n        return propsToSidePanel(sidePanelProps.additional, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController);\n      }\n      return sidePanelProps;\n    });\n    sideDialogsController.setSidePanels(updatedSidePanels);\n  }, [smallLayout]);\n  const close = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    sideDialogsController.close();\n  }, [sideDialogsController]);\n  const open = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((props_0) => {\n    if (props_0.copy && !props_0.entityId) {\n      throw Error(\"If you want to copy an entity you need to provide an entityId\");\n    }\n    const defaultSelectedView = resolveDefaultSelectedView(props_0.collection ? props_0.collection.defaultSelectedView : void 0, {\n      status: props_0.copy ? \"copy\" : props_0.entityId ? \"existing\" : \"new\",\n      entityId: props_0.entityId\n    });\n    sideDialogsController.open(propsToSidePanel({\n      selectedTab: defaultSelectedView,\n      ...props_0\n    }, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController));\n  }, [sideDialogsController, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout]);\n  const replace = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((props_1) => {\n    if (props_1.copy && !props_1.entityId) {\n      throw Error(\"If you want to copy an entity you need to provide an entityId\");\n    }\n    sideDialogsController.replace(propsToSidePanel(props_1, navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, smallLayout, customizationController));\n  }, [navigation.buildUrlCollectionPath, navigation.resolveIdsFrom, sideDialogsController, smallLayout]);\n  return {\n    close,\n    open,\n    replace\n  };\n};\nfunction buildSidePanelsFromUrl(path, collections, newFlag) {\n  const navigationViewsForPath = getNavigationEntriesFromPath({\n    path,\n    collections\n  });\n  let sidePanel = void 0;\n  let lastCollectionPath = \"\";\n  for (let i = 0; i < navigationViewsForPath.length; i++) {\n    const navigationEntry = navigationViewsForPath[i];\n    if (navigationEntry.type === \"collection\") {\n      lastCollectionPath = navigationEntry.path;\n    }\n    const previousEntry = navigationViewsForPath[i - 1];\n    if (navigationEntry.type === \"entity\") {\n      sidePanel = {\n        path: navigationEntry.path,\n        entityId: navigationEntry.entityId,\n        copy: false,\n        width: navigationEntry.parentCollection?.sideDialogWidth\n      };\n    } else if (navigationEntry.type === \"custom_view\") {\n      if (previousEntry?.type === \"entity\") {\n        if (sidePanel) sidePanel.selectedTab = navigationEntry.view.key;\n      }\n    } else if (navigationEntry.type === \"collection\") {\n      if (previousEntry?.type === \"entity\") {\n        if (sidePanel) sidePanel.selectedTab = navigationEntry.collection.id ?? navigationEntry.collection.path;\n      }\n    }\n  }\n  if (newFlag) {\n    sidePanel = {\n      path: lastCollectionPath,\n      copy: false\n    };\n  }\n  return sidePanel ? [sidePanel] : [];\n}\nconst propsToSidePanel = (props, buildUrlCollectionPath, resolveIdsFrom, smallLayout, customizationController) => {\n  const collectionPath = removeInitialAndTrailingSlashes(props.path);\n  const newPath = props.entityId ? buildUrlCollectionPath(`${collectionPath}/${props.entityId}${props.selectedTab ? \"/\" + props.selectedTab : \"\"}#${SIDE_URL_HASH}`) : buildUrlCollectionPath(`${collectionPath}#${NEW_URL_HASH}`);\n  const resolvedPath = resolveIdsFrom(props.path);\n  const resolvedPanelProps = {\n    ...props,\n    path: resolvedPath,\n    formProps: props.formProps\n  };\n  const entityViewWidth = getEntityViewWidth(props, smallLayout, customizationController);\n  return {\n    key: `${props.path}/${props.entityId}`,\n    component: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntitySidePanel, { ...resolvedPanelProps }),\n    urlPath: newPath,\n    parentUrlPath: buildUrlCollectionPath(collectionPath),\n    width: entityViewWidth,\n    onClose: props.onClose,\n    additional: props\n  };\n};\nfunction useBuildSideDialogsController() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(24);\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = [];\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  const [sidePanels, setSidePanels] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t0);\n  const sidePanelsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(sidePanels);\n  let t1;\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = {};\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const routesStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(t1);\n  const routesCount = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  let t2;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = (newPanels) => {\n      sidePanelsRef.current = newPanels;\n      setSidePanels(newPanels);\n    };\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  const updateSidePanels = t2;\n  let t3;\n  if ($[3] !== location.state) {\n    t3 = () => {\n      const state = location.state;\n      const panelKeys = state?.panels ?? [];\n      const newPanels_0 = panelKeys.map((key) => routesStore.current[key]).filter(_temp$4);\n      if (!react_fast_compare__WEBPACK_IMPORTED_MODULE_7__(sidePanelsRef.current.map(_temp2$3), newPanels_0.map(_temp3$1))) {\n        updateSidePanels(newPanels_0);\n      }\n    };\n    $[3] = location.state;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  let t4;\n  if ($[5] !== location) {\n    t4 = [location];\n    $[5] = location;\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t3, t4);\n  let t5;\n  if ($[7] !== location || $[8] !== navigate || $[9] !== sidePanels) {\n    t5 = () => {\n      if (sidePanels.length === 0) {\n        return;\n      }\n      const lastSidePanel = sidePanels[sidePanels.length - 1];\n      const updatedPanels = [...sidePanels.slice(0, -1)];\n      updateSidePanels(updatedPanels);\n      if (routesCount.current > 0) {\n        if (lastSidePanel.urlPath) {\n          navigate(-1);\n        }\n        routesCount.current = routesCount.current - 1;\n      } else {\n        if (lastSidePanel.parentUrlPath) {\n          const baseLocation = location.state?.base_location ?? location;\n          navigate(lastSidePanel.parentUrlPath, {\n            replace: true,\n            state: {\n              base_location: baseLocation,\n              panels: updatedPanels.map(_temp4)\n            }\n          });\n        }\n      }\n    };\n    $[7] = location;\n    $[8] = navigate;\n    $[9] = sidePanels;\n    $[10] = t5;\n  } else {\n    t5 = $[10];\n  }\n  const close = t5;\n  let t6;\n  if ($[11] !== location || $[12] !== navigate || $[13] !== sidePanels) {\n    t6 = (panelProps) => {\n      const newPanels_1 = Array.isArray(panelProps) ? panelProps : [panelProps];\n      newPanels_1.forEach((panel) => {\n        routesStore.current[panel.key] = panel;\n      });\n      routesCount.current = routesCount.current + newPanels_1.length;\n      const baseLocation_0 = location.state?.base_location ?? location;\n      const updatedPanels_0 = [...sidePanels, ...newPanels_1];\n      updateSidePanels(updatedPanels_0);\n      newPanels_1.forEach((panel_0) => {\n        if (panel_0.urlPath) {\n          navigate(panel_0.urlPath, {\n            state: {\n              base_location: baseLocation_0,\n              panels: updatedPanels_0.map(_temp5)\n            }\n          });\n        }\n      });\n    };\n    $[11] = location;\n    $[12] = navigate;\n    $[13] = sidePanels;\n    $[14] = t6;\n  } else {\n    t6 = $[14];\n  }\n  const open = t6;\n  let t7;\n  if ($[15] !== location || $[16] !== navigate || $[17] !== sidePanels) {\n    t7 = (panelProps_0) => {\n      const newPanels_2 = Array.isArray(panelProps_0) ? panelProps_0 : [panelProps_0];\n      newPanels_2.forEach((panel_1) => {\n        routesStore.current[panel_1.key] = panel_1;\n      });\n      const baseLocation_1 = location.state?.base_location ?? location;\n      const updatedPanels_1 = [...sidePanels.slice(0, -newPanels_2.length), ...newPanels_2];\n      updateSidePanels(updatedPanels_1);\n      newPanels_2.forEach((panel_2) => {\n        if (panel_2.urlPath) {\n          navigate(panel_2.urlPath, {\n            replace: true,\n            state: {\n              base_location: baseLocation_1,\n              panels: updatedPanels_1.map(_temp6)\n            }\n          });\n        }\n      });\n    };\n    $[15] = location;\n    $[16] = navigate;\n    $[17] = sidePanels;\n    $[18] = t7;\n  } else {\n    t7 = $[18];\n  }\n  const replace = t7;\n  let t8;\n  if ($[19] !== close || $[20] !== open || $[21] !== replace || $[22] !== sidePanels) {\n    t8 = {\n      sidePanels,\n      setSidePanels: updateSidePanels,\n      close,\n      open,\n      replace\n    };\n    $[19] = close;\n    $[20] = open;\n    $[21] = replace;\n    $[22] = sidePanels;\n    $[23] = t8;\n  } else {\n    t8 = $[23];\n  }\n  return t8;\n}\nfunction _temp6(p_4) {\n  return p_4.key;\n}\nfunction _temp5(p_3) {\n  return p_3.key;\n}\nfunction _temp4(p_2) {\n  return p_2.key;\n}\nfunction _temp3$1(p_1) {\n  return p_1.key;\n}\nfunction _temp2$3(p_0) {\n  return p_0.key;\n}\nfunction _temp$4(p) {\n  return Boolean(p);\n}\nfunction useBuildDataSource({\n  delegate,\n  propertyConfigs,\n  navigationController\n}) {\n  return {\n    /**\n     * Fetch entities in a Firestore path\n     * @param path\n     * @param collection\n     * @param filter\n     * @param limit\n     * @param startAfter\n     * @param searchString\n     * @param orderBy\n     * @param order\n     * @return Function to cancel subscription\n     * @see useCollectionFetch if you need this functionality implemented as a hook\n     * @group Firestore\n     */\n    fetchCollection: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path,\n      collection,\n      filter,\n      limit,\n      startAfter,\n      searchString,\n      orderBy,\n      order\n    }) => {\n      const usedDelegate = collection?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate.fetchCollection({\n        path,\n        filter,\n        limit,\n        startAfter,\n        searchString,\n        orderBy,\n        order,\n        collection\n      });\n    }, [delegate]),\n    /**\n     * Listen to a entities in a given path\n     * @param path\n     * @param collection\n     * @param onError\n     * @param filter\n     * @param limit\n     * @param startAfter\n     * @param searchString\n     * @param orderBy\n     * @param order\n     * @param onUpdate\n     * @return Function to cancel subscription\n     * @see useCollectionFetch if you need this functionality implemented as a hook\n     * @group Firestore\n     */\n    listenCollection: delegate.listenCollection ? (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path: path_0,\n      collection: collectionProp,\n      filter: filter_0,\n      limit: limit_0,\n      startAfter: startAfter_0,\n      searchString: searchString_0,\n      orderBy: orderBy_0,\n      order: order_0,\n      onUpdate,\n      onError\n    }) => {\n      const collection_0 = collectionProp ?? navigationController.getCollection(path_0);\n      const usedDelegate_0 = collection_0?.overrides?.dataSourceDelegate ?? delegate;\n      if (!usedDelegate_0.listenCollection) throw Error(\"useBuildDataSource delegate not initialised\");\n      return usedDelegate_0.listenCollection({\n        path: path_0,\n        filter: filter_0,\n        limit: limit_0,\n        startAfter: startAfter_0,\n        searchString: searchString_0,\n        orderBy: orderBy_0,\n        order: order_0,\n        onUpdate,\n        onError,\n        collection: collection_0\n      });\n    }, [delegate, navigationController.getCollection]) : void 0,\n    /**\n     * Retrieve an entity given a path and a collection\n     * @param path\n     * @param entityId\n     * @param collection\n     * @group Firestore\n     */\n    fetchEntity: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path: path_1,\n      entityId,\n      collection: collection_1\n    }) => {\n      const usedDelegate_1 = collection_1?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate_1.fetchEntity({\n        path: path_1,\n        entityId,\n        collection: collection_1\n      });\n    }, [delegate.fetchEntity]),\n    /**\n     *\n     * @param path\n     * @param entityId\n     * @param collection\n     * @param onUpdate\n     * @param onError\n     * @return Function to cancel subscription\n     * @group Firestore\n     */\n    listenEntity: delegate.listenEntity ? (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path: path_2,\n      entityId: entityId_0,\n      collection: collection_2,\n      onUpdate: onUpdate_0,\n      onError: onError_0\n    }) => {\n      const usedDelegate_2 = collection_2?.overrides?.dataSourceDelegate ?? delegate;\n      if (!usedDelegate_2.listenEntity) throw Error(\"useBuildDataSource delegate not initialised\");\n      return usedDelegate_2.listenEntity({\n        path: path_2,\n        entityId: entityId_0,\n        onUpdate: onUpdate_0,\n        onError: onError_0,\n        collection: collection_2\n      });\n    }, [delegate.listenEntity]) : void 0,\n    /**\n     * Save entity to the specified path. Note that Firestore does not allow\n     * undefined values.\n     * @param path\n     * @param entityId\n     * @param values\n     * @param schemaId\n     * @param collection\n     * @param status\n     * @group Firestore\n     */\n    saveEntity: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path: path_3,\n      entityId: entityId_1,\n      values,\n      collection: collectionProp_0,\n      status\n    }) => {\n      const collection_3 = collectionProp_0 ?? navigationController.getCollection(path_3);\n      const usedDelegate_3 = collection_3?.overrides?.dataSourceDelegate ?? delegate;\n      const resolvedCollection = collection_3 ? resolveCollection({\n        collection: collection_3,\n        path: path_3,\n        entityId: entityId_1,\n        propertyConfigs\n      }) : void 0;\n      const properties = resolvedCollection?.properties;\n      const firestoreValues = usedDelegate_3.cmsToDelegateModel(values);\n      const updatedValues = properties ? updateDateAutoValues({\n        inputValues: firestoreValues,\n        properties,\n        status,\n        timestampNowValue: usedDelegate_3.currentTime?.() ?? /* @__PURE__ */ new Date(),\n        setDateToMidnight: usedDelegate_3.setDateToMidnight\n      }) : firestoreValues;\n      return usedDelegate_3.saveEntity({\n        path: path_3,\n        collection: collection_3,\n        entityId: entityId_1,\n        values: updatedValues,\n        status\n      }).then((res) => {\n        return {\n          id: res.id,\n          path: res.path,\n          values: usedDelegate_3.delegateToCMSModel(updatedValues)\n        };\n      });\n    }, [delegate.saveEntity, navigationController.getCollection]),\n    /**\n     * Delete an entity\n     * @param entity\n     * @param collection\n     * @group Firestore\n     */\n    deleteEntity: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      entity,\n      collection: collection_4\n    }) => {\n      const usedDelegate_4 = collection_4?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate_4.deleteEntity({\n        entity,\n        collection: collection_4\n      });\n    }, [delegate.deleteEntity]),\n    /**\n     * Check if the given property is unique in the given collection\n     * @param path Collection path\n     * @param name of the property\n     * @param value\n     * @param property\n     * @param entityId\n     * @return `true` if there are no other fields besides the given entity\n     * @group Firestore\n     */\n    checkUniqueField: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_4, name, value, entityId_2, collection_5) => {\n      const usedDelegate_5 = collection_5?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate_5.checkUniqueField(path_4, name, value, entityId_2, collection_5);\n    }, [delegate.checkUniqueField]),\n    generateEntityId: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path_5, collection_6) => {\n      const usedDelegate_6 = collection_6?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate_6.generateEntityId(path_5, collection_6);\n    }, [delegate.generateEntityId]),\n    countEntities: delegate.countEntities ? async ({\n      path: path_6,\n      collection: collection_7,\n      filter: filter_1,\n      order: order_1,\n      orderBy: orderBy_1\n    }) => {\n      const usedDelegate_7 = collection_7?.overrides?.dataSourceDelegate ?? delegate;\n      return usedDelegate_7.countEntities({\n        path: path_6,\n        filter: filter_1,\n        orderBy: orderBy_1,\n        order: order_1,\n        collection: collection_7\n      });\n    } : void 0,\n    isFilterCombinationValid: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n      path: path_7,\n      databaseId,\n      filterValues,\n      sortBy\n    }) => {\n      if (!delegate.isFilterCombinationValid) return true;\n      return delegate.isFilterCombinationValid({\n        path: path_7,\n        databaseId,\n        filterValues,\n        sortBy\n      });\n    }, [delegate.isFilterCombinationValid]),\n    initTextSearch: (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async (props) => {\n      const usedDelegate_8 = props.collection?.overrides?.dataSourceDelegate ?? delegate;\n      if (!usedDelegate_8.initTextSearch) return false;\n      return usedDelegate_8.initTextSearch(props);\n    }, [delegate.initTextSearch])\n  };\n}\nconst DEFAULT_SERVER = \"https://api-drplyi3b6q-ey.a.run.app\";\nasync function makeRequest(authController, dataSourceKey, pluginKeys, apiKey) {\n  let idToken;\n  try {\n    idToken = await authController.getAuthToken();\n  } catch (e) {\n    idToken = null;\n  }\n  return fetch(DEFAULT_SERVER + \"/access_log\", {\n    // mode: \"no-cors\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Basic ${idToken}`\n    },\n    body: JSON.stringify({\n      apiKey,\n      email: authController.user?.email ?? null,\n      datasource: dataSourceKey,\n      plugins: pluginKeys\n    })\n  }).then(async (res) => {\n    return res.json();\n  });\n}\nfunction useProjectLog(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(11);\n  const {\n    authController,\n    dataSourceDelegate,\n    plugins,\n    apiKey\n  } = t0;\n  const [accessResponse, setAccessResponse] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const accessedUserRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const dataSourceKey = dataSourceDelegate.key;\n  let t1;\n  if ($[0] !== plugins) {\n    t1 = plugins?.map(_temp$3);\n    $[0] = plugins;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const pluginKeys = t1;\n  let t2;\n  if ($[2] !== apiKey || $[3] !== authController || $[4] !== dataSourceKey || $[5] !== pluginKeys) {\n    t2 = () => {\n      if (authController.user && authController.user.uid !== accessedUserRef.current && !authController.initialLoading) {\n        makeRequest(authController, dataSourceKey, pluginKeys, apiKey).then(setAccessResponse);\n        accessedUserRef.current = authController.user.uid;\n      }\n    };\n    $[2] = apiKey;\n    $[3] = authController;\n    $[4] = dataSourceKey;\n    $[5] = pluginKeys;\n    $[6] = t2;\n  } else {\n    t2 = $[6];\n  }\n  let t3;\n  if ($[7] !== authController || $[8] !== dataSourceKey || $[9] !== pluginKeys) {\n    t3 = [authController, dataSourceKey, pluginKeys];\n    $[7] = authController;\n    $[8] = dataSourceKey;\n    $[9] = pluginKeys;\n    $[10] = t3;\n  } else {\n    t3 = $[10];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t2, t3);\n  return accessResponse;\n}\nfunction _temp$3(plugin) {\n  return plugin.key;\n}\nfunction FireCMS(props) {\n  const {\n    children,\n    entityLinkBuilder,\n    userConfigPersistence,\n    dateTimeFormat,\n    locale,\n    authController,\n    storageSource,\n    dataSourceDelegate,\n    plugins,\n    onAnalyticsEvent,\n    propertyConfigs,\n    entityViews,\n    components,\n    navigationController,\n    apiKey\n  } = props;\n  const dataSource = useBuildDataSource({\n    delegate: dataSourceDelegate,\n    propertyConfigs,\n    navigationController\n  });\n  const sideDialogsController = useBuildSideDialogsController();\n  const sideEntityController = useBuildSideEntityController(navigationController, sideDialogsController);\n  const pluginsLoading = plugins?.some((p) => p.loading) ?? false;\n  const loading = authController.initialLoading || navigationController.loading || pluginsLoading;\n  const customizationController = {\n    dateTimeFormat,\n    locale,\n    entityLinkBuilder,\n    plugins,\n    entityViews: entityViews ?? [],\n    propertyConfigs: propertyConfigs ?? {},\n    components\n  };\n  const analyticsController = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => ({\n    onAnalyticsEvent\n  }), []);\n  const accessResponse = useProjectLog({\n    apiKey,\n    authController,\n    dataSourceDelegate,\n    plugins\n  });\n  if (accessResponse?.message) {\n    console.warn(accessResponse.message);\n  }\n  if (navigationController.navigationLoadingError) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CenteredView, { maxWidth: \"md\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { title: \"Error loading navigation\", error: navigationController.navigationLoadingError }) });\n  }\n  if (authController.authError) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CenteredView, { maxWidth: \"md\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorView, { title: \"Error loading auth\", error: authController.authError }) });\n  }\n  if (accessResponse?.blocked) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.CenteredView, { maxWidth: \"md\", fullScreen: true, className: \"flex flex-col gap-2\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"h4\", gutterBottom: true, children: \"License needed\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { children: [\n        \"You need a valid license to use FireCMS PRO. Please reach out at \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", { href: \"mailto:hello@firecms.co\", children: \"hello@firecms.co\" }),\n        \" for more information.\"\n      ] }),\n      accessResponse?.message && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { children: accessResponse?.message })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AnalyticsContext.Provider, { value: analyticsController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CustomizationControllerContext.Provider, { value: customizationController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserConfigurationPersistenceContext.Provider, { value: userConfigPersistence, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StorageSourceContext.Provider, { value: storageSource, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DataSourceContext.Provider, { value: dataSource, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AuthControllerContext.Provider, { value: authController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SideDialogsControllerContext.Provider, { value: sideDialogsController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SideEntityControllerContext.Provider, { value: sideEntityController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NavigationContext.Provider, { value: navigationController, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogsProvider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BreadcrumbsProvider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FireCMSInternal, { loading, children }) }) }) }) }) }) }) }) }) }) }) });\n}\nfunction FireCMSInternal(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  const {\n    loading,\n    children\n  } = t0;\n  const context = useFireCMSContext();\n  const customizationController = useCustomizationController();\n  let childrenResult;\n  if ($[0] !== children || $[1] !== context || $[2] !== customizationController.plugins || $[3] !== loading) {\n    childrenResult = children({\n      context,\n      loading\n    });\n    const plugins = customizationController.plugins;\n    if (!loading && plugins) {\n      plugins.forEach((plugin) => {\n        if (plugin.provider) {\n          childrenResult = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(plugin.provider.Component, { ...plugin.provider.props, context, children: childrenResult });\n        }\n      });\n    }\n    $[0] = children;\n    $[1] = context;\n    $[2] = customizationController.plugins;\n    $[3] = loading;\n    $[4] = childrenResult;\n  } else {\n    childrenResult = $[4];\n  }\n  let t1;\n  if ($[5] !== childrenResult) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: childrenResult });\n    $[5] = childrenResult;\n    $[6] = t1;\n  } else {\n    t1 = $[6];\n  }\n  return t1;\n}\nfunction DrawerNavigationItem(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(24);\n  const {\n    name,\n    icon,\n    drawerOpen,\n    adminMenuOpen,\n    tooltipsOpen,\n    url,\n    onClick\n  } = t0;\n  let t1;\n  if ($[0] !== icon) {\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"text-text-secondary dark:text-text-secondary-dark\", children: icon });\n    $[0] = icon;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  const iconWrap = t1;\n  const t2 = drawerOpen ? \"width 150ms ease-in\" : void 0;\n  let t3;\n  if ($[2] !== t2) {\n    t3 = {\n      width: \"100%\",\n      transition: t2\n    };\n    $[2] = t2;\n    $[3] = t3;\n  } else {\n    t3 = $[3];\n  }\n  let t4;\n  if ($[4] !== drawerOpen) {\n    t4 = (t52) => {\n      const {\n        isActive\n      } = t52;\n      return (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"rounded-lg truncate\", \"hover:bg-surface-accent-300 hover:bg-opacity-75 dark:hover:bg-surface-accent-800 dark:hover:bg-opacity-75 text-text-primary dark:text-surface-200 hover:text-surface-900 hover:dark:text-white\", \"flex flex-row items-center mr-8\", drawerOpen ? \"pl-4 h-12\" : \"pl-4 h-11\", \"font-semibold text-xs\", isActive ? \"bg-surface-accent-200 bg-opacity-60 dark:bg-surface-800 dark:bg-opacity-50\" : \"\");\n    };\n    $[4] = drawerOpen;\n    $[5] = t4;\n  } else {\n    t4 = $[5];\n  }\n  const t5 = drawerOpen ? \"opacity-100\" : \"opacity-0 hidden\";\n  let t6;\n  if ($[6] !== t5) {\n    t6 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(t5, \"ml-4 font-inherit text-inherit\");\n    $[6] = t5;\n    $[7] = t6;\n  } else {\n    t6 = $[7];\n  }\n  let t7;\n  if ($[8] !== name) {\n    t7 = name.toUpperCase();\n    $[8] = name;\n    $[9] = t7;\n  } else {\n    t7 = $[9];\n  }\n  let t8;\n  if ($[10] !== t6 || $[11] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t6, children: t7 });\n    $[10] = t6;\n    $[11] = t7;\n    $[12] = t8;\n  } else {\n    t8 = $[12];\n  }\n  let t9;\n  if ($[13] !== iconWrap || $[14] !== onClick || $[15] !== t3 || $[16] !== t4 || $[17] !== t8 || $[18] !== url) {\n    t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.NavLink, { onClick, style: t3, className: t4, to: url, children: [\n      iconWrap,\n      t8\n    ] }) });\n    $[13] = iconWrap;\n    $[14] = onClick;\n    $[15] = t3;\n    $[16] = t4;\n    $[17] = t8;\n    $[18] = url;\n    $[19] = t9;\n  } else {\n    t9 = $[19];\n  }\n  const listItem = t9;\n  const t10 = drawerOpen || adminMenuOpen ? false : tooltipsOpen;\n  let t11;\n  if ($[20] !== listItem || $[21] !== name || $[22] !== t10) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { open: t10, side: \"right\", title: name, children: listItem });\n    $[20] = listItem;\n    $[21] = name;\n    $[22] = t10;\n    $[23] = t11;\n  } else {\n    t11 = $[23];\n  }\n  return t11;\n}\nfunction DefaultDrawer(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(52);\n  const {\n    className,\n    style\n  } = t0;\n  const {\n    drawerHovered,\n    drawerOpen,\n    closeDrawer,\n    logo\n  } = useApp();\n  const [adminMenuOpen, setAdminMenuOpen] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  const analyticsController = useAnalyticsController();\n  const navigation = useNavigationController();\n  const tooltipsOpen = drawerHovered && !drawerOpen && !adminMenuOpen;\n  const largeLayout = useLargeLayout();\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  if (!navigation.topLevelNavigation) {\n    throw Error(\"Navigation not ready in Drawer\");\n  }\n  const {\n    navigationEntries,\n    groups\n  } = navigation.topLevelNavigation;\n  let t1;\n  if ($[0] !== adminMenuOpen || $[1] !== analyticsController || $[2] !== className || $[3] !== closeDrawer || $[4] !== drawerOpen || $[5] !== groups || $[6] !== largeLayout || $[7] !== logo || $[8] !== navigate || $[9] !== navigationEntries || $[10] !== style || $[11] !== tooltipsOpen) {\n    const adminViews = navigationEntries.filter(_temp$2) ?? [];\n    let t2;\n    let t3;\n    let t4;\n    let t5;\n    let t6;\n    let t7;\n    if ($[13] !== adminMenuOpen || $[14] !== analyticsController || $[15] !== className || $[16] !== closeDrawer || $[17] !== drawerOpen || $[18] !== groups || $[19] !== largeLayout || $[20] !== logo || $[21] !== navigationEntries || $[22] !== style || $[23] !== tooltipsOpen) {\n      const groupsWithoutAdmin = groups.filter(_temp2$2);\n      let t82;\n      if ($[30] !== drawerOpen) {\n        t82 = (group) => {\n          if (!drawerOpen) {\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"w-full\" });\n          }\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"pl-6 pr-8 py-4 flex flex-row items-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Typography, { variant: \"caption\", color: \"secondary\", className: \"font-medium flex-grow line-clamp-1\", children: group ? group.toUpperCase() : \"Views\".toUpperCase() }) });\n        };\n        $[30] = drawerOpen;\n        $[31] = t82;\n      } else {\n        t82 = $[31];\n      }\n      const buildGroupHeader = t82;\n      let t9;\n      if ($[32] !== analyticsController || $[33] !== closeDrawer || $[34] !== largeLayout) {\n        t9 = (view) => {\n          const eventName = view.type === \"collection\" ? \"drawer_navigate_to_collection\" : view.type === \"view\" ? \"drawer_navigate_to_view\" : \"unmapped_event\";\n          analyticsController.onAnalyticsEvent?.(eventName, {\n            url: view.url\n          });\n          if (!largeLayout) {\n            closeDrawer();\n          }\n        };\n        $[32] = analyticsController;\n        $[33] = closeDrawer;\n        $[34] = largeLayout;\n        $[35] = t9;\n      } else {\n        t9 = $[35];\n      }\n      const onClick = t9;\n      if ($[36] !== className) {\n        t5 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex flex-col h-full relative flex-grow w-full\", className);\n        $[36] = className;\n        $[37] = t5;\n      } else {\n        t5 = $[37];\n      }\n      t6 = style;\n      if ($[38] !== logo) {\n        t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DrawerLogo, { logo });\n        $[38] = logo;\n        $[39] = t7;\n      } else {\n        t7 = $[39];\n      }\n      t2 = \"mt-4 flex-grow overflow-scroll no-scrollbar\";\n      if ($[40] === Symbol.for(\"react.memo_cache_sentinel\")) {\n        t3 = {\n          maskImage: \"linear-gradient(to bottom, transparent 0, black 20px, black calc(100% - 20px), transparent 100%)\"\n        };\n        $[40] = t3;\n      } else {\n        t3 = $[40];\n      }\n      let t10;\n      if ($[41] !== adminMenuOpen || $[42] !== buildGroupHeader || $[43] !== drawerOpen || $[44] !== navigationEntries || $[45] !== onClick || $[46] !== tooltipsOpen) {\n        t10 = (group_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"bg-surface-50 dark:bg-surface-800 dark:bg-opacity-30 my-4 rounded-lg ml-3 mr-1\", children: [\n          buildGroupHeader(group_0),\n          Object.values(navigationEntries).filter((e_0) => e_0.group === group_0).map((view_0, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DrawerNavigationItem, { icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { collectionOrView: view_0.collection ?? view_0.view, size: \"small\" }), tooltipsOpen, adminMenuOpen, drawerOpen, onClick: () => onClick(view_0), url: view_0.url, name: view_0.name }, `navigation_${index}`))\n        ] }, `drawer_group_${group_0}`);\n        $[41] = adminMenuOpen;\n        $[42] = buildGroupHeader;\n        $[43] = drawerOpen;\n        $[44] = navigationEntries;\n        $[45] = onClick;\n        $[46] = tooltipsOpen;\n        $[47] = t10;\n      } else {\n        t10 = $[47];\n      }\n      t4 = groupsWithoutAdmin.map(t10);\n      $[13] = adminMenuOpen;\n      $[14] = analyticsController;\n      $[15] = className;\n      $[16] = closeDrawer;\n      $[17] = drawerOpen;\n      $[18] = groups;\n      $[19] = largeLayout;\n      $[20] = logo;\n      $[21] = navigationEntries;\n      $[22] = style;\n      $[23] = tooltipsOpen;\n      $[24] = t2;\n      $[25] = t3;\n      $[26] = t4;\n      $[27] = t5;\n      $[28] = t6;\n      $[29] = t7;\n    } else {\n      t2 = $[24];\n      t3 = $[25];\n      t4 = $[26];\n      t5 = $[27];\n      t6 = $[28];\n      t7 = $[29];\n    }\n    let t8;\n    if ($[48] !== t2 || $[49] !== t3 || $[50] !== t4) {\n      t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, style: t3, children: t4 });\n      $[48] = t2;\n      $[49] = t3;\n      $[50] = t4;\n      $[51] = t8;\n    } else {\n      t8 = $[51];\n    }\n    t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t5, style: t6, children: [\n      t7,\n      t8,\n      adminViews.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Menu, { side: \"right\", open: adminMenuOpen, onOpenChange: setAdminMenuOpen, trigger: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { shape: \"square\", className: \"m-4 text-surface-900 dark:text-white w-fit\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Admin\", open: tooltipsOpen, side: \"right\", sideOffset: 28, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MoreVertIcon, {}) }),\n        drawerOpen && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(drawerOpen ? \"opacity-100\" : \"opacity-0 hidden\", \"mx-4 font-inherit text-inherit\"), children: \"ADMIN\" })\n      ] }), children: adminViews.map((entry, index_0) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuItem, { onClick: (event) => {\n        event.preventDefault();\n        navigate(entry.path);\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconForView, { collectionOrView: entry.view }),\n        entry.name\n      ] }, `navigation_${index_0}`)) })\n    ] }) });\n    $[0] = adminMenuOpen;\n    $[1] = analyticsController;\n    $[2] = className;\n    $[3] = closeDrawer;\n    $[4] = drawerOpen;\n    $[5] = groups;\n    $[6] = largeLayout;\n    $[7] = logo;\n    $[8] = navigate;\n    $[9] = navigationEntries;\n    $[10] = style;\n    $[11] = tooltipsOpen;\n    $[12] = t1;\n  } else {\n    t1 = $[12];\n  }\n  return t1;\n}\nfunction _temp2$2(g) {\n  return g !== \"Admin\";\n}\nfunction _temp$2(e) {\n  return e.type === \"admin\";\n}\nfunction DrawerLogo(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(12);\n  const {\n    logo\n  } = t0;\n  const navigation = useNavigationController();\n  const {\n    drawerOpen\n  } = useApp();\n  const t1 = drawerOpen ? \"32px 144px 0px 24px\" : \"72px 12px 0px 12px\";\n  let t2;\n  if ($[0] !== t1) {\n    t2 = {\n      transition: \"padding 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms\",\n      padding: t1\n    };\n    $[0] = t1;\n    $[1] = t2;\n  } else {\n    t2 = $[1];\n  }\n  let t3;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"cursor-pointer rounded ml-3 mr-1\");\n    $[2] = t3;\n  } else {\n    t3 = $[2];\n  }\n  let t4;\n  if ($[3] !== drawerOpen || $[4] !== logo) {\n    t4 = logo ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", { src: logo, alt: \"Logo\", className: (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"max-w-full max-h-full transition-all object-contain\", drawerOpen ? \"w-[96px] h-[96px]\" : \"w-[32px] h-[32px]\") }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FireCMSLogo, {});\n    $[3] = drawerOpen;\n    $[4] = logo;\n    $[5] = t4;\n  } else {\n    t4 = $[5];\n  }\n  let t5;\n  if ($[6] !== navigation.basePath || $[7] !== t4) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Home\", sideOffset: 20, side: \"right\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.Link, { className: \"block\", to: navigation.basePath, children: t4 }) });\n    $[6] = navigation.basePath;\n    $[7] = t4;\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  let t6;\n  if ($[9] !== t2 || $[10] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: t2, className: t3, children: t5 });\n    $[9] = t2;\n    $[10] = t5;\n    $[11] = t6;\n  } else {\n    t6 = $[11];\n  }\n  return t6;\n}\nfunction FireCMSRoute() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(32);\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const navigation = useNavigationController();\n  const breadcrumbs = useBreadcrumbsController();\n  const hash2 = location.hash;\n  const isSidePanel = hash2.includes(\"#side\");\n  let t0;\n  if ($[0] !== hash2) {\n    t0 = hash2.includes(\"#new\") || hash2.includes(\"#new_side\");\n    $[0] = hash2;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  const isNew = t0;\n  let t1;\n  if ($[2] !== hash2) {\n    t1 = hash2.includes(\"#copy\");\n    $[2] = hash2;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const isCopy = t1;\n  const pathname = location.pathname;\n  let navigationEntries;\n  let t2;\n  let t3;\n  let t4;\n  if ($[4] !== breadcrumbs || $[5] !== navigation || $[6] !== pathname) {\n    const navigationPath = navigation.urlPathToDataPath(pathname);\n    let t52;\n    if ($[11] !== navigation.collections) {\n      t52 = navigation.collections ?? [];\n      $[11] = navigation.collections;\n      $[12] = t52;\n    } else {\n      t52 = $[12];\n    }\n    navigationEntries = getNavigationEntriesFromPath({\n      path: navigationPath,\n      collections: t52\n    });\n    t3 = react__WEBPACK_IMPORTED_MODULE_2__.useEffect;\n    t4 = () => {\n      breadcrumbs.set({\n        breadcrumbs: navigationEntries.map((entry) => {\n          if (entry.type === \"entity\") {\n            return {\n              title: entry.entityId,\n              url: navigation.buildUrlCollectionPath(entry.fullPath)\n            };\n          } else {\n            if (entry.type === \"custom_view\") {\n              return {\n                title: entry.view.name,\n                url: navigation.buildUrlCollectionPath(entry.fullPath)\n              };\n            } else {\n              if (entry.type === \"collection\") {\n                return {\n                  title: entry.collection.name,\n                  url: navigation.buildUrlCollectionPath(entry.fullPath)\n                };\n              } else {\n                throw new Error(\"Unexpected navigation entry type\");\n              }\n            }\n          }\n        })\n      });\n    };\n    t2 = navigationEntries.map(_temp$1).join(\",\");\n    $[4] = breadcrumbs;\n    $[5] = navigation;\n    $[6] = pathname;\n    $[7] = navigationEntries;\n    $[8] = t2;\n    $[9] = t3;\n    $[10] = t4;\n  } else {\n    navigationEntries = $[7];\n    t2 = $[8];\n    t3 = $[9];\n    t4 = $[10];\n  }\n  let t5;\n  if ($[13] !== t2) {\n    t5 = [t2];\n    $[13] = t2;\n    $[14] = t5;\n  } else {\n    t5 = $[14];\n  }\n  t3(t4, t5);\n  if (isNew) {\n    let t62;\n    if ($[15] !== navigationEntries || $[16] !== pathname) {\n      t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityFullScreenRoute, { pathname, navigationEntries, isNew: true, isCopy: false });\n      $[15] = navigationEntries;\n      $[16] = pathname;\n      $[17] = t62;\n    } else {\n      t62 = $[17];\n    }\n    return t62;\n  }\n  if (navigationEntries.length === 1 && navigationEntries[0].type === \"collection\") {\n    let t62;\n    let t7;\n    if ($[18] !== navigation || $[19] !== navigationEntries) {\n      t7 = Symbol.for(\"react.early_return_sentinel\");\n      bb0: {\n        const collection = navigation.getCollection(navigationEntries[0].path);\n        if (!collection) {\n          t7 = null;\n          break bb0;\n        }\n        let t8;\n        if ($[22] === Symbol.for(\"react.memo_cache_sentinel\")) {\n          t8 = [];\n          $[22] = t8;\n        } else {\n          t8 = $[22];\n        }\n        t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionView, { isSubCollection: false, parentCollectionIds: t8, fullPath: collection.id, updateUrl: true, ...collection, Actions: toArray(collection.Actions) }, `collection_view_${collection.id ?? collection.path}`);\n      }\n      $[18] = navigation;\n      $[19] = navigationEntries;\n      $[20] = t62;\n      $[21] = t7;\n    } else {\n      t62 = $[20];\n      t7 = $[21];\n    }\n    if (t7 !== Symbol.for(\"react.early_return_sentinel\")) {\n      return t7;\n    }\n    return t62;\n  }\n  if (isSidePanel) {\n    let t62;\n    if ($[23] !== navigation || $[24] !== navigationEntries) {\n      t62 = Symbol.for(\"react.early_return_sentinel\");\n      bb1: {\n        const lastCollectionEntry = navigationEntries.findLast(_temp2$1);\n        if (lastCollectionEntry) {\n          const collection_0 = navigation.getCollection(lastCollectionEntry.path);\n          if (!collection_0) {\n            t62 = null;\n            break bb1;\n          }\n          let t7;\n          if ($[26] === Symbol.for(\"react.memo_cache_sentinel\")) {\n            t7 = [];\n            $[26] = t7;\n          } else {\n            t7 = $[26];\n          }\n          t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityCollectionView, { isSubCollection: false, parentCollectionIds: t7, fullPath: collection_0.id, updateUrl: true, ...collection_0, Actions: toArray(collection_0.Actions) }, `collection_view_${collection_0.id ?? collection_0.path}`);\n          break bb1;\n        }\n      }\n      $[23] = navigation;\n      $[24] = navigationEntries;\n      $[25] = t62;\n    } else {\n      t62 = $[25];\n    }\n    if (t62 !== Symbol.for(\"react.early_return_sentinel\")) {\n      return t62;\n    }\n  }\n  let t6;\n  if ($[27] !== isCopy || $[28] !== isNew || $[29] !== navigationEntries || $[30] !== pathname) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityFullScreenRoute, { pathname, navigationEntries, isNew, isCopy });\n    $[27] = isCopy;\n    $[28] = isNew;\n    $[29] = navigationEntries;\n    $[30] = pathname;\n    $[31] = t6;\n  } else {\n    t6 = $[31];\n  }\n  return t6;\n}\nfunction _temp2$1(entry_1) {\n  return entry_1.type === \"collection\";\n}\nfunction _temp$1(entry_0) {\n  return entry_0.path;\n}\nfunction getSelectedTabFromUrl(isNew, lastCustomView) {\n  if (isNew) {\n    return void 0;\n  } else if (lastCustomView) {\n    if (lastCustomView.type === \"custom_view\") {\n      return lastCustomView.view.key;\n    } else if (lastCustomView.type === \"collection\") {\n      return lastCustomView.id ?? lastCustomView.path;\n    }\n  }\n  return void 0;\n}\nfunction EntityFullScreenRoute({\n  pathname,\n  navigationEntries,\n  isNew,\n  isCopy\n}) {\n  const navigation = useNavigationController();\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();\n  const navigationPath = navigation.urlPathToDataPath(pathname);\n  const blocked = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  const lastEntityEntry = navigationEntries.findLast((entry) => entry.type === \"entity\");\n  const navigationEntriesAfterEntity = lastEntityEntry ? navigationEntries.slice(navigationEntries.indexOf(lastEntityEntry) + 1) : [];\n  const lastCustomView = navigationEntriesAfterEntity.findLast((entry_0) => entry_0.type === \"custom_view\" || entry_0.type === \"collection\");\n  const entityId = lastEntityEntry?.entityId;\n  const urlTab = getSelectedTabFromUrl(isNew, lastCustomView);\n  const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(urlTab);\n  const parentCollectionIds = navigation.getParentCollectionIds(navigationPath);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (urlTab !== selectedTab) {\n      setSelectedTab(urlTab);\n    }\n  }, [urlTab]);\n  const basePath = !entityId || isNew ? pathname : pathname.substring(0, pathname.lastIndexOf(`/${entityId}`));\n  const entityPath = basePath + `/${entityId}`;\n  let blocker = void 0;\n  try {\n    blocker = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useBlocker)(({\n      nextLocation\n    }) => {\n      if (nextLocation.pathname.startsWith(entityPath)) return false;\n      return blocked.current;\n    });\n  } catch (e) {\n    console.warn(\"Blocker not available, navigation will not be blocked\");\n  }\n  const lastCollectionEntry = navigationEntries.findLast((entry_1) => entry_1.type === \"collection\");\n  if (isNew && !lastCollectionEntry) {\n    throw new Error(\"INTERNAL: No collection found in the navigation\");\n  }\n  if (!isNew && !lastEntityEntry) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NotFoundPage, {});\n  }\n  const collection = isNew ? lastCollectionEntry.collection : lastEntityEntry.parentCollection;\n  const collectionPath = navigation.resolveIdsFrom(isNew ? lastCollectionEntry.path : lastEntityEntry.path);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EntityEditView, { entityId: isNew ? void 0 : entityId, collection, layout: \"full_screen\", path: collectionPath, copy: isCopy, selectedTab: selectedTab ?? void 0, onValuesModified: (modified) => blocked.current = modified, onSaved: (params) => {\n      const newSelectedTab = params.selectedTab;\n      const newEntityId = params.entityId;\n      if (newSelectedTab) {\n        navigate(`${basePath}/${newEntityId}/${newSelectedTab}`, {\n          replace: true\n        });\n      } else {\n        navigate(`${basePath}/${newEntityId}`, {\n          replace: true\n        });\n      }\n    }, onTabChange: (params_0) => {\n      setSelectedTab(params_0.selectedTab);\n      if (isNew) {\n        return;\n      }\n      const newSelectedTab_0 = params_0.selectedTab;\n      if (newSelectedTab_0) {\n        navigate(`${basePath}/${entityId}/${newSelectedTab_0}`, {\n          replace: true\n        });\n      } else {\n        navigate(`${basePath}/${entityId}`, {\n          replace: true\n        });\n      }\n    }, parentCollectionIds }, collection.id + \"_\" + (isNew ? \"new\" : isCopy ? entityId + \"_copy\" : entityId)),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UnsavedChangesDialog, { open: blocker?.state === \"blocked\", handleOk: () => blocker?.proceed?.(), handleCancel: () => blocker?.reset?.(), body: \"You have unsaved changes in this entity.\" })\n  ] });\n}\nfunction CustomCMSRoute(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    cmsView\n  } = t0;\n  const breadcrumbs = useBreadcrumbsController();\n  let t1;\n  if ($[0] !== breadcrumbs || $[1] !== cmsView.name || $[2] !== cmsView.path) {\n    t1 = () => {\n      breadcrumbs.set({\n        breadcrumbs: [{\n          title: cmsView.name,\n          url: cmsView.path\n        }]\n      });\n    };\n    $[0] = breadcrumbs;\n    $[1] = cmsView.name;\n    $[2] = cmsView.path;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  let t2;\n  if ($[4] !== cmsView.path) {\n    t2 = [cmsView.path];\n    $[4] = cmsView.path;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  return cmsView.view;\n}\nfunction HomePageRoute(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3);\n  const {\n    children\n  } = t0;\n  const breadcrumbs = useBreadcrumbsController();\n  let t1;\n  if ($[0] !== breadcrumbs) {\n    t1 = () => {\n      breadcrumbs.set({\n        breadcrumbs: []\n      });\n    };\n    $[0] = breadcrumbs;\n    $[1] = t1;\n  } else {\n    t1 = $[1];\n  }\n  let t2;\n  if ($[2] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t2 = [];\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  return children;\n}\nconst NavigationRoutes = react__WEBPACK_IMPORTED_MODULE_2__.memo(function NavigationRoutes2({\n  homePage = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultHomePage, {}),\n  children\n}) {\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useLocation)();\n  const navigation = useNavigationController();\n  if (!navigation) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n  const state = location.state;\n  const baseLocation = state && state.base_location ? state.base_location : location;\n  const cmsViews = [];\n  if (navigation.views) {\n    navigation.views.forEach((cmsView) => {\n      if (Array.isArray(cmsView.path)) cmsViews.push(...cmsView.path.map((path) => buildCMSViewRoute(path, cmsView)));\n      else cmsViews.push(buildCMSViewRoute(cmsView.path, cmsView));\n    });\n  }\n  if (navigation.adminViews) {\n    navigation.adminViews.forEach((cmsView_0) => {\n      if (Array.isArray(cmsView_0.path)) cmsViews.push(...cmsView_0.path.map((path_0) => buildCMSViewRoute(path_0, cmsView_0)));\n      else cmsViews.push(buildCMSViewRoute(cmsView_0.path, cmsView_0));\n    });\n  }\n  const collectionUrlPath = navigation.buildUrlCollectionPath(\"\");\n  const collectionRoute = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Route, { path: collectionUrlPath + \"/*\", element: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FireCMSRoute, {}) }) }, `navigation_entity`);\n  const homeRoute = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Route, { path: \"/\", element: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(HomePageRoute, { children: homePage }) });\n  const notFoundRoute = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Route, { path: \"*\", element: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NotFoundPage, {}) });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Routes, { location: baseLocation, children: [\n    collectionRoute,\n    cmsViews,\n    homeRoute,\n    notFoundRoute,\n    children\n  ] });\n});\nconst buildCMSViewRoute = (path, cmsView) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Route, { path, element: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CustomCMSRoute, { cmsView }) }, \"navigation_view_\" + path);\n};\nfunction FireCMSRouter(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  const {\n    children,\n    basePath\n  } = t0;\n  const t1 = basePath ? `${removeInitialAndTrailingSlashes(basePath)}/*` : \"/*\";\n  let t2;\n  if ($[0] !== children || $[1] !== t1) {\n    t2 = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_18__.createBrowserRouter)([{\n      path: t1,\n      element: children\n    }]);\n    $[0] = children;\n    $[1] = t1;\n    $[2] = t2;\n  } else {\n    t2 = $[2];\n  }\n  let t3;\n  if ($[3] !== t2) {\n    t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.RouterProvider, { router: t2 });\n    $[3] = t2;\n    $[4] = t3;\n  } else {\n    t3 = $[4];\n  }\n  return t3;\n}\nfunction Drawer(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  const {\n    children,\n    className,\n    style\n  } = t0;\n  let t1;\n  if ($[0] !== children || $[1] !== className || $[2] !== style) {\n    t1 = children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultDrawer, { className, style });\n    $[0] = children;\n    $[1] = className;\n    $[2] = style;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const usedChildren = t1;\n  let t2;\n  if ($[4] !== usedChildren) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: usedChildren });\n    $[4] = usedChildren;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  return t2;\n}\nDrawer.componentType = \"Drawer\";\nfunction AppBar(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8);\n  let children;\n  let props;\n  if ($[0] !== t0) {\n    ({\n      children,\n      ...props\n    } = t0);\n    $[0] = t0;\n    $[1] = children;\n    $[2] = props;\n  } else {\n    children = $[1];\n    props = $[2];\n  }\n  let t1;\n  if ($[3] !== children || $[4] !== props) {\n    t1 = children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultAppBar, { ...props });\n    $[3] = children;\n    $[4] = props;\n    $[5] = t1;\n  } else {\n    t1 = $[5];\n  }\n  const usedChildren = t1;\n  let t2;\n  if ($[6] !== usedChildren) {\n    t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: usedChildren });\n    $[6] = usedChildren;\n    $[7] = t2;\n  } else {\n    t2 = $[7];\n  }\n  return t2;\n}\nAppBar.componentType = \"AppBar\";\nconst DRAWER_WIDTH = 280;\nconst Scaffold = react__WEBPACK_IMPORTED_MODULE_2__.memo(function Scaffold2(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(46);\n  const {\n    children,\n    autoOpenDrawer,\n    logo,\n    className,\n    style\n  } = props;\n  let t0;\n  if ($[0] !== children) {\n    t0 = react__WEBPACK_IMPORTED_MODULE_2__.Children.toArray(children).filter(_temp);\n    $[0] = children;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  const drawerChildren = t0;\n  if (drawerChildren.length > 1) {\n    throw Error(\"Only one Drawer component is allowed in Scaffold\");\n  }\n  let t1;\n  if ($[2] !== children) {\n    t1 = react__WEBPACK_IMPORTED_MODULE_2__.Children.toArray(children).filter(_temp2);\n    $[2] = children;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const appBarChildren = t1;\n  if (appBarChildren.length > 1) {\n    throw Error(\"Only one AppBar component is allowed in Scaffold\");\n  }\n  let t2;\n  if ($[4] !== children) {\n    t2 = react__WEBPACK_IMPORTED_MODULE_2__.Children.toArray(children).filter(_temp3);\n    $[4] = children;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  const otherChildren = t2;\n  const includeDrawer = drawerChildren.length > 0;\n  const largeLayout = useLargeLayout();\n  const [drawerOpen, setDrawerOpen] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  const [onHover, setOnHover] = react__WEBPACK_IMPORTED_MODULE_2__.useState(false);\n  let t3;\n  if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t3 = () => setOnHover(true);\n    $[6] = t3;\n  } else {\n    t3 = $[6];\n  }\n  const setOnHoverTrue = t3;\n  let t4;\n  if ($[7] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = () => setOnHover(false);\n    $[7] = t4;\n  } else {\n    t4 = $[7];\n  }\n  const setOnHoverFalse = t4;\n  let t5;\n  if ($[8] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t5 = () => {\n      setDrawerOpen(true);\n    };\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  const handleDrawerOpen = t5;\n  let t6;\n  if ($[9] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t6 = () => {\n      setDrawerOpen(false);\n    };\n    $[9] = t6;\n  } else {\n    t6 = $[9];\n  }\n  const handleDrawerClose = t6;\n  const computedDrawerOpen = drawerOpen || Boolean(largeLayout && autoOpenDrawer && onHover);\n  const hasAppBar = Boolean(appBarChildren.length > 0);\n  let t7;\n  if ($[10] !== autoOpenDrawer || $[11] !== computedDrawerOpen || $[12] !== includeDrawer || $[13] !== logo || $[14] !== onHover) {\n    t7 = {\n      logo,\n      hasDrawer: includeDrawer,\n      drawerHovered: onHover,\n      drawerOpen: computedDrawerOpen,\n      closeDrawer: handleDrawerClose,\n      openDrawer: handleDrawerOpen,\n      autoOpenDrawer\n    };\n    $[10] = autoOpenDrawer;\n    $[11] = computedDrawerOpen;\n    $[12] = includeDrawer;\n    $[13] = logo;\n    $[14] = onHover;\n    $[15] = t7;\n  } else {\n    t7 = $[15];\n  }\n  let t8;\n  if ($[16] !== className) {\n    t8 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(\"flex h-screen w-screen bg-surface-50 dark:bg-surface-900 text-surface-900 dark:text-white overflow-hidden\", className);\n    $[16] = className;\n    $[17] = t8;\n  } else {\n    t8 = $[17];\n  }\n  let t9;\n  if ($[18] !== style) {\n    t9 = {\n      paddingTop: \"env(safe-area-inset-top)\",\n      paddingLeft: \"env(safe-area-inset-left)\",\n      paddingRight: \"env(safe-area-inset-right)\",\n      paddingBottom: \"env(safe-area-inset-bottom)\",\n      height: \"100dvh\",\n      ...style\n    };\n    $[18] = style;\n    $[19] = t9;\n  } else {\n    t9 = $[19];\n  }\n  const t10 = includeDrawer && drawerChildren;\n  let t11;\n  if ($[20] !== computedDrawerOpen || $[21] !== includeDrawer || $[22] !== onHover || $[23] !== t10) {\n    t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DrawerWrapper, { displayed: includeDrawer, onMouseEnter: setOnHoverTrue, onMouseMove: setOnHoverTrue, onMouseLeave: setOnHoverFalse, open: computedDrawerOpen, hovered: onHover, setDrawerOpen, children: t10 });\n    $[20] = computedDrawerOpen;\n    $[21] = includeDrawer;\n    $[22] = onHover;\n    $[23] = t10;\n    $[24] = t11;\n  } else {\n    t11 = $[24];\n  }\n  let t12;\n  if ($[25] !== hasAppBar) {\n    t12 = hasAppBar && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DrawerHeader, {});\n    $[25] = hasAppBar;\n    $[26] = t12;\n  } else {\n    t12 = $[26];\n  }\n  const t13 = !hasAppBar;\n  let t14;\n  if ($[27] !== t13) {\n    t14 = (0,_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.cls)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.defaultBorderMixin, \"flex-grow overflow-auto lg:m-0 lg:mx-4 lg:mb-4 lg:rounded-lg lg:border lg:border-solid m-0 mt-1\", {\n      \"lg:mt-4\": t13\n    });\n    $[27] = t13;\n    $[28] = t14;\n  } else {\n    t14 = $[28];\n  }\n  let t15;\n  if ($[29] !== otherChildren) {\n    t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorBoundary, { children: otherChildren });\n    $[29] = otherChildren;\n    $[30] = t15;\n  } else {\n    t15 = $[30];\n  }\n  let t16;\n  if ($[31] !== t14 || $[32] !== t15) {\n    t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t14, children: t15 });\n    $[31] = t14;\n    $[32] = t15;\n    $[33] = t16;\n  } else {\n    t16 = $[33];\n  }\n  let t17;\n  if ($[34] !== t12 || $[35] !== t16) {\n    t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"main\", { className: \"flex flex-col flex-grow overflow-auto\", children: [\n      t12,\n      t16\n    ] });\n    $[34] = t12;\n    $[35] = t16;\n    $[36] = t17;\n  } else {\n    t17 = $[36];\n  }\n  let t18;\n  if ($[37] !== appBarChildren || $[38] !== t11 || $[39] !== t17 || $[40] !== t8 || $[41] !== t9) {\n    t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: t8, style: t9, children: [\n      appBarChildren,\n      t11,\n      t17\n    ] });\n    $[37] = appBarChildren;\n    $[38] = t11;\n    $[39] = t17;\n    $[40] = t8;\n    $[41] = t9;\n    $[42] = t18;\n  } else {\n    t18 = $[42];\n  }\n  let t19;\n  if ($[43] !== t18 || $[44] !== t7) {\n    t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AppContext.Provider, { value: t7, children: t18 });\n    $[43] = t18;\n    $[44] = t7;\n    $[45] = t19;\n  } else {\n    t19 = $[45];\n  }\n  return t19;\n}, react_fast_compare__WEBPACK_IMPORTED_MODULE_7__);\nconst DrawerHeader = () => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(1);\n  let t0;\n  if ($[0] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col min-h-16\" });\n    $[0] = t0;\n  } else {\n    t0 = $[0];\n  }\n  return t0;\n};\nfunction DrawerWrapper(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(39);\n  const width = !props.displayed ? 0 : props.open ? DRAWER_WIDTH : 72;\n  let t0;\n  if ($[0] !== width) {\n    t0 = {\n      width,\n      transition: \"left 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms, opacity 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms, width 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms\"\n    };\n    $[0] = width;\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  let t1;\n  if ($[2] !== props) {\n    t1 = !props.open && props.displayed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { title: \"Open menu\", side: \"right\", sideOffset: 12, asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"ml-2 fixed top-1 left-2 sm:top-2 sm:left-2 !bg-surface-50 dark:!bg-surface-900 rounded-full w-fit z-20\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"inherit\", \"aria-label\": \"Open menu\", onClick: () => props.setDrawerOpen(true), size: \"large\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuIcon, {}) }) }) });\n    $[2] = props;\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  const t2 = `z-20 absolute right-0 top-4 ${props.open ? \"opacity-100\" : \"opacity-0 invisible\"} transition-opacity duration-200 ease-in-out`;\n  let t3;\n  if ($[4] !== props) {\n    t3 = () => props.setDrawerOpen(false);\n    $[4] = props;\n    $[5] = t3;\n  } else {\n    t3 = $[5];\n  }\n  let t4;\n  if ($[6] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.ChevronLeftIcon, {});\n    $[6] = t4;\n  } else {\n    t4 = $[6];\n  }\n  let t5;\n  if ($[7] !== t3) {\n    t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { \"aria-label\": \"Close drawer\", onClick: t3, children: t4 });\n    $[7] = t3;\n    $[8] = t5;\n  } else {\n    t5 = $[8];\n  }\n  let t6;\n  if ($[9] !== t2 || $[10] !== t5) {\n    t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: t2, children: t5 });\n    $[9] = t2;\n    $[10] = t5;\n    $[11] = t6;\n  } else {\n    t6 = $[11];\n  }\n  let t7;\n  if ($[12] !== props.children) {\n    t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex flex-col h-full\", children: props.children });\n    $[12] = props.children;\n    $[13] = t7;\n  } else {\n    t7 = $[13];\n  }\n  let t8;\n  if ($[14] !== t0 || $[15] !== t1 || $[16] !== t6 || $[17] !== t7) {\n    t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"relative h-full no-scrollbar overflow-y-auto overflow-x-hidden\", style: t0, children: [\n      t1,\n      t6,\n      t7\n    ] });\n    $[14] = t0;\n    $[15] = t1;\n    $[16] = t6;\n    $[17] = t7;\n    $[18] = t8;\n  } else {\n    t8 = $[18];\n  }\n  const innerDrawer = t8;\n  const largeLayout = useLargeLayout();\n  if (!largeLayout) {\n    if (!props.displayed) {\n      return null;\n    }\n    let t92;\n    if ($[19] !== props) {\n      t92 = () => props.setDrawerOpen(true);\n      $[19] = props;\n      $[20] = t92;\n    } else {\n      t92 = $[20];\n    }\n    let t102;\n    if ($[21] === Symbol.for(\"react.memo_cache_sentinel\")) {\n      t102 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.MenuIcon, {});\n      $[21] = t102;\n    } else {\n      t102 = $[21];\n    }\n    let t11;\n    if ($[22] !== t92) {\n      t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, { color: \"inherit\", \"aria-label\": \"Open drawer\", onClick: t92, size: \"large\", className: \"absolute sm:top-2 sm:left-4 top-1 left-2\", children: t102 });\n      $[22] = t92;\n      $[23] = t11;\n    } else {\n      t11 = $[23];\n    }\n    let t12;\n    if ($[24] !== innerDrawer || $[25] !== props.open || $[26] !== props.setDrawerOpen) {\n      t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_firecms_ui__WEBPACK_IMPORTED_MODULE_3__.Sheet, { side: \"left\", transparent: true, open: props.open, onOpenChange: props.setDrawerOpen, title: \"Navigation drawer\", overlayClassName: \"bg-white bg-opacity-80\", children: innerDrawer });\n      $[24] = innerDrawer;\n      $[25] = props.open;\n      $[26] = props.setDrawerOpen;\n      $[27] = t12;\n    } else {\n      t12 = $[27];\n    }\n    let t13;\n    if ($[28] !== t11 || $[29] !== t12) {\n      t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n        t11,\n        t12\n      ] });\n      $[28] = t11;\n      $[29] = t12;\n      $[30] = t13;\n    } else {\n      t13 = $[30];\n    }\n    return t13;\n  }\n  let t9;\n  if ($[31] !== width) {\n    t9 = {\n      width,\n      transition: \"left 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms, opacity 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms, width 100ms cubic-bezier(0.4, 0, 0.6, 1) 0ms\"\n    };\n    $[31] = width;\n    $[32] = t9;\n  } else {\n    t9 = $[32];\n  }\n  let t10;\n  if ($[33] !== innerDrawer || $[34] !== props.onMouseEnter || $[35] !== props.onMouseLeave || $[36] !== props.onMouseMove || $[37] !== t9) {\n    t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"z-20 relative\", onMouseEnter: props.onMouseEnter, onMouseMove: props.onMouseMove, onMouseLeave: props.onMouseLeave, style: t9, children: innerDrawer });\n    $[33] = innerDrawer;\n    $[34] = props.onMouseEnter;\n    $[35] = props.onMouseLeave;\n    $[36] = props.onMouseMove;\n    $[37] = t9;\n    $[38] = t10;\n  } else {\n    t10 = $[38];\n  }\n  return t10;\n}\nfunction _temp(child) {\n  return child.type.componentType === \"Drawer\";\n}\nfunction _temp2(child_0) {\n  return child_0.type.componentType === \"AppBar\";\n}\nfunction _temp3(child_1) {\n  return child_1.type.componentType !== \"Drawer\" && child_1.type.componentType !== \"AppBar\";\n}\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGZpcmVjbXMrY29yZUAzLjAuMC1iZXRhLjEyX0B0eXBlcytyZWFjdC1kb21AMTguMy42X0B0eXBlcytyZWFjdEAxOC4zLjIwX19AdHlwZXMrcmVhY3RAMTguMy4yX3NkbzVud3B4bm5tNGczbm02NG52aGtiZmJpL25vZGVfbW9kdWxlcy9AZmlyZWNtcy9jb3JlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNiO0FBQ1o7QUFDK0o7QUFDK3hDO0FBQzc0QztBQUNqRDtBQUMyRDtBQUNuRDtBQUN3RjtBQUM3RjtBQUNTO0FBQ0E7QUFDaEI7QUFDa0I7QUFDQTtBQUM2QjtBQUMzQjtBQUNwQjtBQUNxQjtBQUNDO0FBQ3VCO0FBQ3hFO0FBQ0EsWUFBWSx5REFBQztBQUNiO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHlCQUF5QixzREFBRyxDQUFDLHVEQUFrQixJQUFJLCtDQUErQztBQUNsRztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnREFBNEI7QUFDMUQ7QUFDQSw4QkFBOEIsZ0RBQTRCLEdBQUc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsRUFBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxLQUFLO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxTQUFTO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQ0FBZ0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osNkRBQTZELEtBQUssR0FBRyxTQUFTO0FBQzlFO0FBQ0EsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVUsR0FBRyxRQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEtBQUs7QUFDUixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLEtBQUs7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHdDQUFJO0FBQy9DO0FBQ0EsU0FBUyx3Q0FBSTtBQUNiO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFFBQVE7QUFDekM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJ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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpREFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHdCQUF3QixnREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHNEQUFHLENBQUMsNkNBQUksSUFBSSwyQ0FBMkM7QUFDekc7QUFDQSxvQkFBb0IsdUNBQW1CO0FBQ3ZDLFlBQVkseURBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsdURBQVEsSUFBSTtBQUM1QztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBWTtBQUNqQztBQUNBLFVBQVUscURBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFHLENBQUMsNkNBQUksSUFBSSxzQ0FBc0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUywrQ0FBSyx3RUFBd0UsK0NBQUs7QUFDM0YsQ0FBQztBQUNELG9CQUFvQixpREFBUTtBQUM1QjtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLEVBQUU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVLEdBQUcsSUFBSTtBQUNuRDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsT0FBTyxHQUFHLE1BQU07QUFDeEUsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLElBQUksR0FBRyxVQUFVO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0NBQUs7QUFDZDtBQUNBO0FBQ0EsWUFBWSx5REFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxzQkFBc0IsNkNBQU07QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMEJBQTBCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsNEJBQTRCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsMkRBQTJELCtDQUFRO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrREFBVztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxrREFBVztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrREFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsa0RBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtB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QUMsOENBQUssSUFBSSxxTEFBcUw7QUFDOU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdURBQUksQ0FBQyx1REFBUSxJQUFJO0FBQzdDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBRyxVQUFVLGtLQUFrSztBQUN6TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrUUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2tyaXN0b2ZmZXJ3aW5kb2xmL1NpdGVzL21ya3cvbm9kZV9tb2R1bGVzLy5wbnBtL0BmaXJlY21zK2NvcmVAMy4wLjAtYmV0YS4xMl9AdHlwZXMrcmVhY3QtZG9tQDE4LjMuNl9AdHlwZXMrcmVhY3RAMTguMy4yMF9fQHR5cGVzK3JlYWN0QDE4LjMuMl9zZG81bndweG5ubTRnM25tNjRudmhrYmZiaS9ub2RlX21vZHVsZXMvQGZpcmVjbXMvY29yZS9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCwganN4cywgRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGMgfSBmcm9tIFwicmVhY3QtY29tcGlsZXItcnVudGltZVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VTdGF0ZSwgY3JlYXRlRWxlbWVudCwgY3JlYXRlUmVmLCBjcmVhdGVDb250ZXh0LCBmb3J3YXJkUmVmLCB1c2VMYXlvdXRFZmZlY3QsIHVzZURlZmVycmVkVmFsdWUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldENvbG9yU2NoZW1lRm9yU2VlZCwgQ0hJUF9DT0xPUlMsIFRvb2x0aXAsIEVycm9ySWNvbiwgVHlwb2dyYXBoeSwgQ2lyY2xlSWNvbiwgRnVuY3Rpb25zSWNvbiwgaWNvbktleXMsIGNvb2xJY29uS2V5cywgSWNvbiwgSWNvbkJ1dHRvbiwgQ29udGVudENvcHlJY29uLCBPcGVuSW5OZXdJY29uLCBEZXNjcmlwdGlvbkljb24sIGNscywgU2tlbGV0b24sIENoaXAsIGRlZmF1bHRCb3JkZXJNaXhpbiwgS2V5Ym9hcmRUYWJJY29uLCBDaGVja2JveCwgTWFya2Rvd24sIFRleHRhcmVhQXV0b3NpemUsIGZvY3VzZWREaXNhYmxlZCwgTXVsdGlTZWxlY3QsIE11bHRpU2VsZWN0SXRlbSwgU2VsZWN0LCBTZWxlY3RJdGVtLCBCb29sZWFuU3dpdGNoLCBEYXRlVGltZUZpZWxkLCBwYXBlck1peGluLCBFZGl0SWNvbiwgRG9Ob3REaXN0dXJiT25JY29uLCBNZW51LCBNb3JlVmVydEljb24sIE1lbnVJdGVtLCBDaXJjdWxhclByb2dyZXNzLCBTZWFyY2hCYXIsIEJhZGdlLCBBcnJvd1Vwd2FyZEljb24sIFBvcG92ZXIsIEZpbHRlckxpc3RJY29uLCBCdXR0b24sIENlbnRlcmVkVmlldywgQXNzaWdubWVudEljb24sIExhYmVsLCBDbG9zZUljb24sIFRleHRGaWVsZCwgQm9vbGVhblN3aXRjaFdpdGhMYWJlbCwgdXNlT3V0c2lkZUFsZXJ0ZXIsIERpYWxvZywgRGlhbG9nVGl0bGUsIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0FjdGlvbnMsIEZpbGVDb3B5SWNvbiwgRGVsZXRlSWNvbiwgQWRkSWNvbiwgRXhwYW5kYWJsZVBhbmVsLCBBcnJvd0ZvcndhcmRJY29uLCBDYXJkLCBjYXJkTWl4aW4sIGNhcmRDbGlja2FibGVNaXhpbiwgU3Rhckljb24sIENvbGxhcHNlLCBDb250YWluZXIsIEZpbHRlckxpc3RPZmZJY29uLCBTZWFyY2hJY29uLCBMb2FkaW5nQnV0dG9uLCBBdmF0YXIsIERhcmtNb2RlSWNvbiwgTGlnaHRNb2RlSWNvbiwgQnJpZ2h0bmVzc01lZGl1bUljb24sIExvZ291dEljb24sIEhhbmRsZUljb24sIFJlbW92ZUljb24sIEtleWJvYXJkQXJyb3dVcEljb24sIEtleWJvYXJkQXJyb3dEb3duSWNvbiwgZGVib3VuY2UsIEFsZXJ0LCBDaGVja0ljb24sIE5vdGVzSWNvbiwgSW5mb0ljb24sIGZpZWxkQmFja2dyb3VuZE1peGluLCBmaWVsZEJhY2tncm91bmREaXNhYmxlZE1peGluLCBmaWVsZEJhY2tncm91bmRIb3Zlck1peGluLCBBcnJvd0Ryb3BEb3duSWNvbiwgU2hvcnRUZXh0SWNvbiwgU3ViamVjdEljb24sIEZvcm1hdFF1b3RlSWNvbiwgSHR0cEljb24sIE1haWxJY29uLCBGbGFnSWNvbiwgTGlzdEljb24sIExpc3RBbHRJY29uLCBOdW1iZXJzSWNvbiwgRm9ybWF0TGlzdE51bWJlcmVkSWNvbiwgVXBsb2FkRmlsZUljb24sIERyaXZlRm9sZGVyVXBsb2FkSWNvbiwgTGlua0ljb24sIEFkZExpbmtJY29uLCBTY2hlZHVsZUljb24sIEJhbGxvdEljb24sIFJlcGVhdEljb24sIFZpZXdTdHJlYW1JY29uLCBTaGVldCwgVGFiLCBUYWJzLCBPcGVuSW5GdWxsSWNvbiwgTWVudUljb24sIENoZXZyb25MZWZ0SWNvbiB9IGZyb20gXCJAZmlyZWNtcy91aVwiO1xuaW1wb3J0IHsgU25hY2tiYXJQcm92aWRlciBhcyBTbmFja2JhclByb3ZpZGVyJDEsIHVzZVNuYWNrYmFyIH0gZnJvbSBcIm5vdGlzdGFja1wiO1xuaW1wb3J0IGhhc2ggZnJvbSBcIm9iamVjdC1oYXNoXCI7XG5pbXBvcnQgeyB1c2VDcmVhdGVGb3JtZXgsIEZvcm1leCwgc2V0SW4sIHVzZUZvcm1leCwgZ2V0SW4sIEZpZWxkIH0gZnJvbSBcIkBmaXJlY21zL2Zvcm1leFwiO1xuaW1wb3J0IGVxdWFsIGZyb20gXCJyZWFjdC1mYXN0LWNvbXBhcmVcIjtcbmltcG9ydCB7IHVzZU5hdmlnYXRlLCBMaW5rLCB1c2VMb2NhdGlvbiwgTmF2TGluaywgUm91dGVzLCBSb3V0ZSwgY3JlYXRlQnJvd3NlclJvdXRlciwgUm91dGVyUHJvdmlkZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgKiBhcyBsb2NhbGVzIGZyb20gXCJkYXRlLWZucy9sb2NhbGVcIjtcbmltcG9ydCB1c2VNZWFzdXJlIGZyb20gXCJyZWFjdC11c2UtbWVhc3VyZVwiO1xuaW1wb3J0ICogYXMgeXVwIGZyb20gXCJ5dXBcIjtcbmltcG9ydCB7IEZpeGVkU2l6ZUxpc3QgfSBmcm9tIFwicmVhY3Qtd2luZG93XCI7XG5pbXBvcnQgeyB1c2VEcm9wem9uZSB9IGZyb20gXCJyZWFjdC1kcm9wem9uZVwiO1xuaW1wb3J0IHsgRHJhZ0Ryb3BDb250ZXh0LCBEcm9wcGFibGUsIERyYWdnYWJsZSB9IGZyb20gXCJAaGVsbG8tcGFuZ2VhL2RuZFwiO1xuaW1wb3J0IFJlc2l6ZXIgZnJvbSBcInJlYWN0LWltYWdlLWZpbGUtcmVzaXplclwiO1xuaW1wb3J0IEZ1c2UgZnJvbSBcImZ1c2UuanNcIjtcbmltcG9ydCB7IEZpcmVDTVNFZGl0b3IgfSBmcm9tIFwiQGZpcmVjbXMvZWRpdG9yXCI7XG5pbXBvcnQgKiBhcyBQb3J0YWwgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3J0YWxcIjtcbmltcG9ydCB7IHVzZUxvY2F0aW9uIGFzIHVzZUxvY2F0aW9uJDEsIHVzZUJsb2NrZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCI7XG5jb25zdCBTbmFja2JhclByb3ZpZGVyID0gKHQwKSA9PiB7XG4gIGNvbnN0ICQgPSBjKDIpO1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjaGlsZHJlbikge1xuICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChTbmFja2JhclByb3ZpZGVyJDEsIHsgbWF4U25hY2s6IDMsIGF1dG9IaWRlRHVyYXRpb246IDM1MDAsIGNoaWxkcmVuIH0pO1xuICAgICRbMF0gPSBjaGlsZHJlbjtcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIHJldHVybiB0MTtcbn07XG5jb25zdCBERUZBVUxUX01PREVfU1RBVEUgPSB7XG4gIG1vZGU6IFwibGlnaHRcIixcbiAgc2V0TW9kZTogKG1vZGUpID0+IHtcbiAgfVxufTtcbmNvbnN0IE1vZGVDb250cm9sbGVyQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoREVGQVVMVF9NT0RFX1NUQVRFKTtcbmNvbnN0IE1vZGVDb250cm9sbGVyUHJvdmlkZXIgPSBNb2RlQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXI7XG5jb25zdCBBdXRoQ29udHJvbGxlckNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmZ1bmN0aW9uIHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocykge1xuICByZXR1cm4gcmVtb3ZlSW5pdGlhbFNsYXNoKHJlbW92ZVRyYWlsaW5nU2xhc2gocykpO1xufVxuZnVuY3Rpb24gcmVtb3ZlSW5pdGlhbFNsYXNoKHMpIHtcbiAgaWYgKHMuc3RhcnRzV2l0aChcIi9cIikpIHJldHVybiBzLnNsaWNlKDEpO1xuICBlbHNlIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTbGFzaChzKSB7XG4gIGlmIChzLmVuZHNXaXRoKFwiL1wiKSkgcmV0dXJuIHMuc2xpY2UoMCwgLTEpO1xuICBlbHNlIHJldHVybiBzO1xufVxuZnVuY3Rpb24gYWRkSW5pdGlhbFNsYXNoKHMpIHtcbiAgaWYgKHMuc3RhcnRzV2l0aChcIi9cIikpIHJldHVybiBzO1xuICBlbHNlIHJldHVybiBgLyR7c31gO1xufVxuZnVuY3Rpb24gZ2V0TGFzdFNlZ21lbnQocGF0aCkge1xuICBjb25zdCBjbGVhblBhdGggPSByZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKHBhdGgpO1xuICBpZiAoY2xlYW5QYXRoLmluY2x1ZGVzKFwiL1wiKSkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gY2xlYW5QYXRoLnNwbGl0KFwiL1wiKTtcbiAgICByZXR1cm4gc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGNsZWFuUGF0aDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDb2xsZWN0aW9uUGF0aElkcyhwYXRoLCBhbGxDb2xsZWN0aW9ucykge1xuICBjb25zdCBjbGVhblBhdGggPSByZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKHBhdGgpO1xuICBjb25zdCBzdWJwYXRocyA9IGNsZWFuUGF0aC5zcGxpdChcIi9cIik7XG4gIGlmIChzdWJwYXRocy5sZW5ndGggJSAyID09PSAwKSB7XG4gICAgdGhyb3cgRXJyb3IoYHJlc29sdmVDb2xsZWN0aW9uUGF0aEFsaWFzZXM6IENvbGxlY3Rpb24gcGF0aHMgbXVzdCBoYXZlIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHM6ICR7cGF0aH1gKTtcbiAgfVxuICBjb25zdCBhbGlhc2VkQ29sbGVjdGlvbiA9IGFsbENvbGxlY3Rpb25zLmZpbmQoKGNvbCkgPT4gY29sLmlkID09PSBzdWJwYXRoc1swXSk7XG4gIGxldCByZXNvbHZlZEFsaWFzZWQ7XG4gIGlmIChhbGlhc2VkQ29sbGVjdGlvbikge1xuICAgIHJlc29sdmVkQWxpYXNlZCA9IGFsaWFzZWRDb2xsZWN0aW9uLnBhdGg7XG4gIH1cbiAgaWYgKHN1YnBhdGhzLmxlbmd0aCA+IDEpIHtcbiAgICBjb25zdCBzZWdtZW50Q29sbGVjdGlvbiA9IGdldENvbGxlY3Rpb25CeVBhdGhPcklkKHJlc29sdmVkQWxpYXNlZCA/PyBzdWJwYXRoc1swXSwgYWxsQ29sbGVjdGlvbnMpO1xuICAgIGlmICghc2VnbWVudENvbGxlY3Rpb24/LnN1YmNvbGxlY3Rpb25zKSB7XG4gICAgICByZXR1cm4gY2xlYW5QYXRoO1xuICAgIH1cbiAgICBjb25zdCByZXN0T2ZUaGVQYXRoID0gY2xlYW5QYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgyKS5qb2luKFwiL1wiKTtcbiAgICByZXR1cm4gKHJlc29sdmVkQWxpYXNlZCA/PyBzdWJwYXRoc1swXSkgKyBcIi9cIiArIHN1YnBhdGhzWzFdICsgXCIvXCIgKyByZXNvbHZlQ29sbGVjdGlvblBhdGhJZHMocmVzdE9mVGhlUGF0aCwgc2VnbWVudENvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXNvbHZlZEFsaWFzZWQgPz8gY2xlYW5QYXRoO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb2xsZWN0aW9uQnlQYXRoT3JJZChwYXRoT3JJZCwgY29sbGVjdGlvbnMpIHtcbiAgY29uc3Qgc3VicGF0aHMgPSByZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKHBhdGhPcklkKS5zcGxpdChcIi9cIik7XG4gIGlmIChzdWJwYXRocy5sZW5ndGggJSAyID09PSAwKSB7XG4gICAgdGhyb3cgRXJyb3IoYGdldENvbGxlY3Rpb25CeVBhdGhPcklkOiBDb2xsZWN0aW9uIHBhdGhzIG11c3QgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzOiAke3BhdGhPcklkfWApO1xuICB9XG4gIGNvbnN0IHN1YnBhdGhDb21iaW5hdGlvbnMgPSBnZXRDb2xsZWN0aW9uUGF0aHNDb21iaW5hdGlvbnMoc3VicGF0aHMpO1xuICBsZXQgcmVzdWx0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnBhdGhDb21iaW5hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdWJwYXRoQ29tYmluYXRpb24gPSBzdWJwYXRoQ29tYmluYXRpb25zW2ldO1xuICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IGNvbGxlY3Rpb25zICYmIGNvbGxlY3Rpb25zLnNvcnQoKGEsIGIpID0+IChhLmlkID8/IFwiXCIpLmxvY2FsZUNvbXBhcmUoYi5pZCA/PyBcIlwiKSkuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzdWJwYXRoQ29tYmluYXRpb24gfHwgZW50cnkucGF0aCA9PT0gc3VicGF0aENvbWJpbmF0aW9uKTtcbiAgICBpZiAobmF2aWdhdGlvbkVudHJ5KSB7XG4gICAgICBpZiAoc3VicGF0aENvbWJpbmF0aW9uID09PSBwYXRoT3JJZCkge1xuICAgICAgICByZXN1bHQgPSBuYXZpZ2F0aW9uRW50cnk7XG4gICAgICB9IGVsc2UgaWYgKG5hdmlnYXRpb25FbnRyeS5zdWJjb2xsZWN0aW9ucykge1xuICAgICAgICBjb25zdCBuZXdQYXRoID0gcGF0aE9ySWQucmVwbGFjZShzdWJwYXRoQ29tYmluYXRpb24sIFwiXCIpLnNwbGl0KFwiL1wiKS5zbGljZSgyKS5qb2luKFwiL1wiKTtcbiAgICAgICAgaWYgKG5ld1BhdGgubGVuZ3RoID4gMCkgcmVzdWx0ID0gZ2V0Q29sbGVjdGlvbkJ5UGF0aE9ySWQobmV3UGF0aCwgbmF2aWdhdGlvbkVudHJ5LnN1YmNvbGxlY3Rpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdCkgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldENvbGxlY3Rpb25QYXRoc0NvbWJpbmF0aW9ucyhzdWJwYXRocykge1xuICBjb25zdCBlbnRyaWVzID0gc3VicGF0aHMubGVuZ3RoID4gMCAmJiBzdWJwYXRocy5sZW5ndGggJSAyID09PSAwID8gc3VicGF0aHMuc3BsaWNlKDAsIHN1YnBhdGhzLmxlbmd0aCAtIDEpIDogc3VicGF0aHM7XG4gIGNvbnN0IGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IGxlbmd0aDsgaSA+IDA7IGkgPSBpIC0gMikge1xuICAgIHJlc3VsdC5wdXNoKGVudHJpZXMuc2xpY2UoMCwgaSkuam9pbihcIi9cIikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBuYXZpZ2F0ZVRvRW50aXR5KHtcbiAgb3BlbkVudGl0eU1vZGUsXG4gIGNvbGxlY3Rpb24sXG4gIGVudGl0eUlkLFxuICBjb3B5LFxuICBwYXRoLFxuICBzZWxlY3RlZFRhYixcbiAgc2lkZUVudGl0eUNvbnRyb2xsZXIsXG4gIG9uQ2xvc2UsXG4gIG5hdmlnYXRpb25cbn0pIHtcbiAgaWYgKG9wZW5FbnRpdHlNb2RlID09PSBcInNpZGVfcGFuZWxcIikge1xuICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLm9wZW4oe1xuICAgICAgZW50aXR5SWQsXG4gICAgICBwYXRoLFxuICAgICAgY29weSxcbiAgICAgIHNlbGVjdGVkVGFiLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIHVwZGF0ZVVybDogdHJ1ZSxcbiAgICAgIG9uQ2xvc2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgdG8gPSBuYXZpZ2F0aW9uLmJ1aWxkVXJsQ29sbGVjdGlvblBhdGgoZW50aXR5SWQgPyBgJHtwYXRofS8ke2VudGl0eUlkfWAgOiBwYXRoKTtcbiAgICBpZiAoZW50aXR5SWQgJiYgc2VsZWN0ZWRUYWIpIHtcbiAgICAgIHRvICs9IGAvJHtzZWxlY3RlZFRhYn1gO1xuICAgIH1cbiAgICBpZiAoIWVudGl0eUlkKSB7XG4gICAgICB0byArPSBcIiNuZXdcIjtcbiAgICB9XG4gICAgaWYgKGNvcHkpIHtcbiAgICAgIHRvICs9IFwiI2NvcHlcIjtcbiAgICB9XG4gICAgbmF2aWdhdGlvbi5uYXZpZ2F0ZSh0byk7XG4gIH1cbn1cbmNsYXNzIEVudGl0eVJlZmVyZW5jZSB7XG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgZW50aXR5XG4gICAqL1xuICBpZDtcbiAgLyoqXG4gICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgcmVmZXJlbmNlZCBkb2N1bWVudCAocmVsYXRpdmVcbiAgICogdG8gdGhlIHJvb3Qgb2YgdGhlIGRhdGFiYXNlKS5cbiAgICovXG4gIHBhdGg7XG4gIGNvbnN0cnVjdG9yKGlkLCBwYXRoKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gIH1cbiAgZ2V0IHBhdGhXaXRoSWQoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMucGF0aH0vJHt0aGlzLmlkfWA7XG4gIH1cbiAgaXNFbnRpdHlSZWZlcmVuY2UoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNsYXNzIEdlb1BvaW50IHtcbiAgLyoqXG4gICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIEdlb1BvaW50IGluc3RhbmNlLlxuICAgKi9cbiAgbGF0aXR1ZGU7XG4gIC8qKlxuICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgR2VvUG9pbnQgaW5zdGFuY2UuXG4gICAqL1xuICBsb25naXR1ZGU7XG4gIGNvbnN0cnVjdG9yKGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICB0aGlzLmxhdGl0dWRlID0gbGF0aXR1ZGU7XG4gICAgdGhpcy5sb25naXR1ZGUgPSBsb25naXR1ZGU7XG4gIH1cbn1cbmNsYXNzIFZlY3RvciB7XG4gIHZhbHVlO1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxufVxuY29uc3QgcGljayA9IChvYmosIC4uLmFyZ3MpID0+ICh7XG4gIC4uLmFyZ3MucmVkdWNlKChyZXMsIGtleSkgPT4gKHtcbiAgICAuLi5yZXMsXG4gICAgW2tleV06IG9ialtrZXldXG4gIH0pLCB7fSlcbn0pO1xuZnVuY3Rpb24gaXNPYmplY3QoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShpdGVtKTtcbn1cbmZ1bmN0aW9uIG1lcmdlRGVlcCh0YXJnZXQsIHNvdXJjZSkge1xuICBjb25zdCB0YXJnZXRJc09iamVjdCA9IGlzT2JqZWN0KHRhcmdldCk7XG4gIGNvbnN0IG91dHB1dCA9IHRhcmdldElzT2JqZWN0ID8ge1xuICAgIC4uLnRhcmdldFxuICB9IDogdGFyZ2V0O1xuICBpZiAodGFyZ2V0SXNPYmplY3QgJiYgaXNPYmplY3Qoc291cmNlKSkge1xuICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gc291cmNlW2tleV07XG4gICAgICBpZiAoc291cmNlRWxlbWVudCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvdXRwdXQsIHtcbiAgICAgICAgICBba2V5XTogbmV3IERhdGUoc291cmNlRWxlbWVudC5nZXRUaW1lKCkpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2VFbGVtZW50KSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdGFyZ2V0KSkgT2JqZWN0LmFzc2lnbihvdXRwdXQsIHtcbiAgICAgICAgICBba2V5XTogc291cmNlRWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgZWxzZSBvdXRwdXRba2V5XSA9IG1lcmdlRGVlcCh0YXJnZXRba2V5XSwgc291cmNlRWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QuYXNzaWduKG91dHB1dCwge1xuICAgICAgICAgIFtrZXldOiBzb3VyY2VFbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZUluUGF0aChvLCBwYXRoKSB7XG4gIGlmICghbykgcmV0dXJuIHZvaWQgMDtcbiAgaWYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHBhdGggaW4gbykge1xuICAgICAgcmV0dXJuIG9bcGF0aF07XG4gICAgfVxuICAgIGlmIChwYXRoLmluY2x1ZGVzKFwiLlwiKSB8fCBwYXRoLmluY2x1ZGVzKFwiW1wiKSkge1xuICAgICAgbGV0IHBhdGhTZWdtZW50cyA9IHBhdGguc3BsaXQoL1suW10vKTtcbiAgICAgIGlmIChwYXRoLmluY2x1ZGVzKFwiW1wiKSkge1xuICAgICAgICBwYXRoU2VnbWVudHMgPSBwYXRoU2VnbWVudHMubWFwKChzZWdtZW50KSA9PiBzZWdtZW50LnJlcGxhY2UoXCJdXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZpcnN0U2VnbWVudCA9IHBhdGhTZWdtZW50c1swXTtcbiAgICAgIGNvbnN0IGlzQXJyYXlBbmRJbmRleEV4aXN0cyA9IEFycmF5LmlzQXJyYXkob1tmaXJzdFNlZ21lbnRdKSAmJiAhaXNOYU4ocGFyc2VJbnQocGF0aFNlZ21lbnRzWzFdKSk7XG4gICAgICBjb25zdCBuZXh0T2JqZWN0ID0gaXNBcnJheUFuZEluZGV4RXhpc3RzID8gb1tmaXJzdFNlZ21lbnRdW3BhcnNlSW50KHBhdGhTZWdtZW50c1sxXSldIDogb1tmaXJzdFNlZ21lbnRdO1xuICAgICAgY29uc3QgbmV4dFBhdGggPSBwYXRoU2VnbWVudHMuc2xpY2UoaXNBcnJheUFuZEluZGV4RXhpc3RzID8gMiA6IDEpLmpvaW4oXCIuXCIpO1xuICAgICAgaWYgKG5leHRQYXRoID09PSBcIlwiKSByZXR1cm4gbmV4dE9iamVjdDtcbiAgICAgIHJldHVybiBnZXRWYWx1ZUluUGF0aChuZXh0T2JqZWN0LCBuZXh0UGF0aCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiByZW1vdmVJblBhdGgobywgcGF0aCkge1xuICBsZXQgY3VycmVudE9iamVjdCA9IHtcbiAgICAuLi5vXG4gIH07XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIGNvbnN0IGxhc3QgPSBwYXJ0cy5wb3AoKTtcbiAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgY3VycmVudE9iamVjdCA9IGN1cnJlbnRPYmplY3RbcGFydF07XG4gIH1cbiAgaWYgKGxhc3QpIGRlbGV0ZSBjdXJyZW50T2JqZWN0W2xhc3RdO1xuICByZXR1cm4gY3VycmVudE9iamVjdDtcbn1cbmZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9ucyhvKSB7XG4gIGlmIChvID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG4gIGlmIChvID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgaWYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG8pLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBba2V5XTogdmFsdWUubWFwKCh2KSA9PiByZW1vdmVGdW5jdGlvbnModikpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtrZXldOiByZW1vdmVGdW5jdGlvbnModmFsdWUpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgcmV0dXJuIHtcbiAgICAgICAgW2tleV06IHZhbHVlXG4gICAgICB9O1xuICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gKHtcbiAgICAgIC4uLmEsXG4gICAgICAuLi5iXG4gICAgfSksIHt9KTtcbiAgfVxuICByZXR1cm4gbztcbn1cbmZ1bmN0aW9uIGdldEhhc2hWYWx1ZSh2KSB7XG4gIGlmICghdikgcmV0dXJuIG51bGw7XG4gIGlmICh0eXBlb2YgdiA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChcImlkXCIgaW4gdikgcmV0dXJuIHYuaWQ7XG4gICAgZWxzZSBpZiAodiBpbnN0YW5jZW9mIERhdGUpIHJldHVybiB2LnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgZWxzZSBpZiAodiBpbnN0YW5jZW9mIEdlb1BvaW50KSByZXR1cm4gaGFzaCh2KTtcbiAgfVxuICByZXR1cm4gaGFzaCh2LCB7XG4gICAgaWdub3JlVW5rbm93bjogdHJ1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZCh2YWx1ZSwgcmVtb3ZlRW1wdHlTdHJpbmdzKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2KSA9PiByZW1vdmVVbmRlZmluZWQodiwgcmVtb3ZlRW1wdHlTdHJpbmdzKSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHZhbHVlO1xuICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghaXNFbXB0eU9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2hpbGRSZXMgPSByZW1vdmVVbmRlZmluZWQodmFsdWVba2V5XSwgcmVtb3ZlRW1wdHlTdHJpbmdzKTtcbiAgICAgICAgY29uc3QgaXNTdHJpbmcgPSB0eXBlb2YgY2hpbGRSZXMgPT09IFwic3RyaW5nXCI7XG4gICAgICAgIGNvbnN0IHNob3VsZEtlZXBJZlN0cmluZyA9ICFyZW1vdmVFbXB0eVN0cmluZ3MgfHwgcmVtb3ZlRW1wdHlTdHJpbmdzICYmICFpc1N0cmluZyB8fCByZW1vdmVFbXB0eVN0cmluZ3MgJiYgaXNTdHJpbmcgJiYgY2hpbGRSZXMgIT09IFwiXCI7XG4gICAgICAgIGlmIChjaGlsZFJlcyAhPT0gdm9pZCAwICYmICFpc0VtcHR5T2JqZWN0KGNoaWxkUmVzKSAmJiBzaG91bGRLZWVwSWZTdHJpbmcpIHJlc1trZXldID0gY2hpbGRSZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiByZW1vdmVOdWxscyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgodikgPT4gcmVtb3ZlTnVsbHModikpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB2YWx1ZTtcbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAodmFsdWVba2V5XSAhPT0gbnVsbCkgcmVzW2tleV0gPSByZW1vdmVOdWxscyh2YWx1ZVtrZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqKSB7XG4gIHJldHVybiBvYmogJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGUgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiByZW1vdmVQcm9wc0lmRXhpc3Rpbmcoc291cmNlLCBjb21wYXJpc29uKSB7XG4gIGNvbnN0IGlzT2JqZWN0MiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgJiYgdmFsICE9PSBudWxsO1xuICBjb25zdCBpc0FycmF5ID0gKHZhbCkgPT4gQXJyYXkuaXNBcnJheSh2YWwpO1xuICBpZiAoIWlzT2JqZWN0Mihzb3VyY2UpIHx8ICFpc09iamVjdDIoY29tcGFyaXNvbikpIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIGNvbnN0IHJlcyA9IGlzQXJyYXkoc291cmNlKSA/IFsuLi5zb3VyY2VdIDoge1xuICAgIC4uLnNvdXJjZVxuICB9O1xuICBpZiAoaXNBcnJheShyZXMpKSB7XG4gICAgZm9yIChsZXQgaSA9IHJlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHJlc1tpXSA9PT0gY29tcGFyaXNvbltpXSkge1xuICAgICAgICByZXMuc3BsaWNlKGksIDEpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdDIocmVzW2ldKSAmJiBpc09iamVjdDIoY29tcGFyaXNvbltpXSkpIHtcbiAgICAgICAgcmVzW2ldID0gcmVtb3ZlUHJvcHNJZkV4aXN0aW5nKHJlc1tpXSwgY29tcGFyaXNvbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKGNvbXBhcmlzb24pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKGtleSBpbiByZXMpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0MihyZXNba2V5XSkgJiYgaXNPYmplY3QyKGNvbXBhcmlzb25ba2V5XSkpIHtcbiAgICAgICAgICByZXNba2V5XSA9IHJlbW92ZVByb3BzSWZFeGlzdGluZyhyZXNba2V5XSwgY29tcGFyaXNvbltrZXldKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNba2V5XSA9PT0gY29tcGFyaXNvbltrZXldKSB7XG4gICAgICAgICAgZGVsZXRlIHJlc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmNvbnN0IERFRkFVTFRfT05FX09GX1RZUEUgPSBcInR5cGVcIjtcbmNvbnN0IERFRkFVTFRfT05FX09GX1ZBTFVFID0gXCJ2YWx1ZVwiO1xuZnVuY3Rpb24gaXNSZWFkT25seShwcm9wZXJ0eSkge1xuICBpZiAocHJvcGVydHkucmVhZE9ubHkpIHJldHVybiB0cnVlO1xuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgaWYgKHByb3BlcnR5LmF1dG9WYWx1ZSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgcmV0dXJuICFwcm9wZXJ0eS5wYXRoO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzSGlkZGVuKHByb3BlcnR5KSB7XG4gIHJldHVybiB0eXBlb2YgcHJvcGVydHkuZGlzYWJsZWQgPT09IFwib2JqZWN0XCIgJiYgQm9vbGVhbihwcm9wZXJ0eS5kaXNhYmxlZC5oaWRkZW4pO1xufVxuZnVuY3Rpb24gaXNQcm9wZXJ0eUJ1aWxkZXIocHJvcGVydHlPckJ1aWxkZXIpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9wZXJ0eU9yQnVpbGRlciA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlc0Zvcihwcm9wZXJ0aWVzKSB7XG4gIGlmICghcHJvcGVydGllcykgcmV0dXJuIHt9O1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykubWFwKChba2V5LCBwcm9wZXJ0eV0pID0+IHtcbiAgICBpZiAoIXByb3BlcnR5KSByZXR1cm4ge307XG4gICAgY29uc3QgdmFsdWUgPSBnZXREZWZhdWx0VmFsdWVGb3IocHJvcGVydHkpO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwID8ge30gOiB7XG4gICAgICBba2V5XTogdmFsdWVcbiAgICB9O1xuICB9KS5yZWR1Y2UoKGEsIGIpID0+ICh7XG4gICAgLi4uYSxcbiAgICAuLi5iXG4gIH0pLCB7fSk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0VmFsdWVGb3IocHJvcGVydHkpIHtcbiAgaWYgKCFwcm9wZXJ0eSkgcmV0dXJuIHZvaWQgMDtcbiAgaWYgKGlzUHJvcGVydHlCdWlsZGVyKHByb3BlcnR5KSkgcmV0dXJuIHZvaWQgMDtcbiAgaWYgKHByb3BlcnR5LmRlZmF1bHRWYWx1ZSB8fCBwcm9wZXJ0eS5kZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcGVydHkuZGVmYXVsdFZhbHVlO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWVzRm9yID0gZ2V0RGVmYXVsdFZhbHVlc0Zvcihwcm9wZXJ0eS5wcm9wZXJ0aWVzKTtcbiAgICBpZiAoT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlc0ZvcikubGVuZ3RoID09PSAwKSByZXR1cm4gdm9pZCAwO1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWVzRm9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXREZWZhdWx0VmFsdWVGb3JEYXRhVHlwZShwcm9wZXJ0eS5kYXRhVHlwZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZUZvckRhdGFUeXBlKGRhdGFUeXBlKSB7XG4gIGlmIChkYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSBcImRhdGVcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICByZXR1cm4gW107XG4gIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IFwibWFwXCIpIHtcbiAgICByZXR1cm4ge307XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZURhdGVBdXRvVmFsdWVzKHtcbiAgaW5wdXRWYWx1ZXMsXG4gIHByb3BlcnRpZXMsXG4gIHN0YXR1cyxcbiAgdGltZXN0YW1wTm93VmFsdWUsXG4gIHNldERhdGVUb01pZG5pZ2h0XG59KSB7XG4gIHJldHVybiB0cmF2ZXJzZVZhbHVlc1Byb3BlcnRpZXMoaW5wdXRWYWx1ZXMsIHByb3BlcnRpZXMsIChpbnB1dFZhbHVlLCBwcm9wZXJ0eSkgPT4ge1xuICAgIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJkYXRlXCIpIHtcbiAgICAgIGxldCByZXN1bHREYXRlO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiICYmIHByb3BlcnR5LmF1dG9WYWx1ZSA9PT0gXCJvbl91cGRhdGVcIikge1xuICAgICAgICByZXN1bHREYXRlID0gdGltZXN0YW1wTm93VmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKChzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikgJiYgKHByb3BlcnR5LmF1dG9WYWx1ZSA9PT0gXCJvbl91cGRhdGVcIiB8fCBwcm9wZXJ0eS5hdXRvVmFsdWUgPT09IFwib25fY3JlYXRlXCIpKSB7XG4gICAgICAgIHJlc3VsdERhdGUgPSB0aW1lc3RhbXBOb3dWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdERhdGUgPSBpbnB1dFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BlcnR5Lm1vZGUgPT09IFwiZGF0ZVwiKSByZXN1bHREYXRlID0gc2V0RGF0ZVRvTWlkbmlnaHQocmVzdWx0RGF0ZSk7XG4gICAgICByZXR1cm4gcmVzdWx0RGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XG4gICAgfVxuICB9KSA/PyB7fTtcbn1cbmZ1bmN0aW9uIHNhbml0aXplRGF0YSh2YWx1ZXMsIHByb3BlcnRpZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0gdmFsdWVzO1xuICBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChba2V5LCBwcm9wZXJ0eV0pID0+IHtcbiAgICBpZiAodmFsdWVzICYmIHZhbHVlc1trZXldICE9PSB2b2lkIDApIHJlc3VsdFtrZXldID0gdmFsdWVzW2tleV07XG4gICAgZWxzZSBpZiAocHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQpIHJlc3VsdFtrZXldID0gbnVsbDtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VGcm9tKGVudGl0eSkge1xuICByZXR1cm4gbmV3IEVudGl0eVJlZmVyZW5jZShlbnRpdHkuaWQsIGVudGl0eS5wYXRoKTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlVmFsdWVzUHJvcGVydGllcyhpbnB1dFZhbHVlcywgcHJvcGVydGllcywgb3BlcmF0aW9uKSB7XG4gIGNvbnN0IHVwZGF0ZWRWYWx1ZXMgPSBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5tYXAoKFtrZXksIHByb3BlcnR5XSkgPT4ge1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSBpbnB1dFZhbHVlcyAmJiBpbnB1dFZhbHVlc1trZXldO1xuICAgIGNvbnN0IHVwZGF0ZWRWYWx1ZSA9IHRyYXZlcnNlVmFsdWVQcm9wZXJ0eShpbnB1dFZhbHVlLCBwcm9wZXJ0eSwgb3BlcmF0aW9uKTtcbiAgICBpZiAodXBkYXRlZFZhbHVlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodXBkYXRlZFZhbHVlID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtrZXldOiB1cGRhdGVkVmFsdWVcbiAgICB9O1xuICB9KS5yZWR1Y2UoKGEsIGIpID0+ICh7XG4gICAgLi4uYSxcbiAgICAuLi5iXG4gIH0pLCB7fSk7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAuLi5pbnB1dFZhbHVlcyxcbiAgICAuLi51cGRhdGVkVmFsdWVzXG4gIH07XG4gIGlmIChPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHZvaWQgMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlVmFsdWVQcm9wZXJ0eShpbnB1dFZhbHVlLCBwcm9wZXJ0eSwgb3BlcmF0aW9uKSB7XG4gIGxldCB2YWx1ZTtcbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICB2YWx1ZSA9IHRyYXZlcnNlVmFsdWVzUHJvcGVydGllcyhpbnB1dFZhbHVlLCBwcm9wZXJ0eS5wcm9wZXJ0aWVzLCBvcGVyYXRpb24pO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICBpZiAocHJvcGVydHkub2YgJiYgQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlKSkge1xuICAgICAgdmFsdWUgPSBpbnB1dFZhbHVlLm1hcCgoZSkgPT4gdHJhdmVyc2VWYWx1ZVByb3BlcnR5KGUsIHByb3BlcnR5Lm9mLCBvcGVyYXRpb24pKTtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5Lm9uZU9mICYmIEFycmF5LmlzQXJyYXkoaW5wdXRWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IHR5cGVGaWVsZCA9IHByb3BlcnR5Lm9uZU9mPy50eXBlRmllbGQgPz8gREVGQVVMVF9PTkVfT0ZfVFlQRTtcbiAgICAgIGNvbnN0IHZhbHVlRmllbGQgPSBwcm9wZXJ0eS5vbmVPZj8udmFsdWVGaWVsZCA/PyBERUZBVUxUX09ORV9PRl9WQUxVRTtcbiAgICAgIHZhbHVlID0gaW5wdXRWYWx1ZS5tYXAoKGUpID0+IHtcbiAgICAgICAgaWYgKGUgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGUgIT09IFwib2JqZWN0XCIpIHJldHVybiBlO1xuICAgICAgICBjb25zdCB0eXBlID0gZVt0eXBlRmllbGRdO1xuICAgICAgICBjb25zdCBjaGlsZFByb3BlcnR5ID0gcHJvcGVydHkub25lT2Y/LnByb3BlcnRpZXNbdHlwZV07XG4gICAgICAgIGlmICghdHlwZSB8fCAhY2hpbGRQcm9wZXJ0eSkgcmV0dXJuIGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW3R5cGVGaWVsZF06IHR5cGUsXG4gICAgICAgICAgW3ZhbHVlRmllbGRdOiB0cmF2ZXJzZVZhbHVlUHJvcGVydHkoZVt2YWx1ZUZpZWxkXSwgY2hpbGRQcm9wZXJ0eSwgb3BlcmF0aW9uKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gaW5wdXRWYWx1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBvcGVyYXRpb24oaW5wdXRWYWx1ZSwgcHJvcGVydHkpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGVudW1Ub09iamVjdEVudHJpZXMoZW51bVZhbHVlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShlbnVtVmFsdWVzKSkge1xuICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhlbnVtVmFsdWVzKS5tYXAoKFtpZCwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbGFiZWw6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgIGlkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldExhYmVsT3JDb25maWdGcm9tKGVudW1WYWx1ZXMsIGtleSkge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdm9pZCAwKSByZXR1cm4gdm9pZCAwO1xuICByZXR1cm4gZW51bVZhbHVlcy5maW5kKChlbnRyeSkgPT4gU3RyaW5nKGVudHJ5LmlkKSA9PT0gU3RyaW5nKGtleSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29sb3JTY2hlbWUoZW51bVZhbHVlcywga2V5KSB7XG4gIGNvbnN0IGxhYmVsT3JDb25maWcgPSBnZXRMYWJlbE9yQ29uZmlnRnJvbShlbnVtVmFsdWVzLCBrZXkpO1xuICBpZiAoIWxhYmVsT3JDb25maWc/LmNvbG9yKSByZXR1cm4gZ2V0Q29sb3JTY2hlbWVGb3JTZWVkKGtleS50b1N0cmluZygpKTtcbiAgaWYgKHR5cGVvZiBsYWJlbE9yQ29uZmlnID09PSBcIm9iamVjdFwiICYmIFwiY29sb3JcIiBpbiBsYWJlbE9yQ29uZmlnKSB7XG4gICAgaWYgKHR5cGVvZiBsYWJlbE9yQ29uZmlnLmNvbG9yID09PSBcInN0cmluZ1wiKSByZXR1cm4gQ0hJUF9DT0xPUlNbbGFiZWxPckNvbmZpZy5jb2xvcl07XG4gICAgaWYgKHR5cGVvZiBsYWJlbE9yQ29uZmlnLmNvbG9yID09PSBcIm9iamVjdFwiKSByZXR1cm4gbGFiZWxPckNvbmZpZy5jb2xvcjtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gaXNFbnVtVmFsdWVEaXNhYmxlZChsYWJlbE9yQ29uZmlnKSB7XG4gIHJldHVybiB0eXBlb2YgbGFiZWxPckNvbmZpZyA9PT0gXCJvYmplY3RcIiAmJiBsYWJlbE9yQ29uZmlnLmRpc2FibGVkO1xufVxuZnVuY3Rpb24gYnVpbGRFbnVtTGFiZWwobGFiZWxPckNvbmZpZykge1xuICBpZiAobGFiZWxPckNvbmZpZyA9PT0gdm9pZCAwKSByZXR1cm4gdm9pZCAwO1xuICBpZiAodHlwZW9mIGxhYmVsT3JDb25maWcgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gbGFiZWxPckNvbmZpZy5sYWJlbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGFiZWxPckNvbmZpZztcbiAgfVxufVxuZnVuY3Rpb24gRXJyb3JUb29sdGlwKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDIpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSBwcm9wcykge1xuICAgIHQwID0gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IC4uLnByb3BzLCB0b29sdGlwQ2xhc3NOYW1lOiBcIiF0ZXh0LXJlZC01MDAgYmctcmVkLTUwXCIsIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbiB9KTtcbiAgICAkWzBdID0gcHJvcHM7XG4gICAgJFsxXSA9IHQwO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFsxXTtcbiAgfVxuICByZXR1cm4gdDA7XG59XG5mdW5jdGlvbiBFcnJvclZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMTEpO1xuICBjb25zdCB7XG4gICAgdGl0bGUsXG4gICAgZXJyb3IsXG4gICAgdG9vbHRpcFxuICB9ID0gdDA7XG4gIGNvbnN0IGNvbXBvbmVudCA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3I7XG4gIGNvbnNvbGUud2FybihcIkVycm9yVmlld1wiLCBlcnJvcik7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KEVycm9ySWNvbiwgeyBjbGFzc05hbWU6IFwibXgtMlwiLCBzaXplOiBcInNtYWxsXCIsIGNvbG9yOiBcImVycm9yXCIgfSk7XG4gICAgJFswXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFswXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzFdICE9PSB0aXRsZSkge1xuICAgIHQyID0gdGl0bGUgJiYgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiYm9keTJcIiwgY2xhc3NOYW1lOiBcImZvbnQtbWVkaXVtXCIsIGNoaWxkcmVuOiB0aXRsZSB9KTtcbiAgICAkWzFdID0gdGl0bGU7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBjb21wb25lbnQpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkyXCIsIGNoaWxkcmVuOiBjb21wb25lbnQgfSk7XG4gICAgJFszXSA9IGNvbXBvbmVudDtcbiAgICAkWzRdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzRdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNV0gIT09IHQyIHx8ICRbNl0gIT09IHQzKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBtLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicGwtNFwiLCBjaGlsZHJlbjogW1xuICAgICAgICB0MixcbiAgICAgICAgdDNcbiAgICAgIF0gfSlcbiAgICBdIH0pO1xuICAgICRbNV0gPSB0MjtcbiAgICAkWzZdID0gdDM7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBjb25zdCBib2R5ID0gdDQ7XG4gIGlmICh0b29sdGlwKSB7XG4gICAgbGV0IHQ1O1xuICAgIGlmICgkWzhdICE9PSBib2R5IHx8ICRbOV0gIT09IHRvb2x0aXApIHtcbiAgICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclRvb2x0aXAsIHsgdGl0bGU6IHRvb2x0aXAsIGNoaWxkcmVuOiBib2R5IH0pO1xuICAgICAgJFs4XSA9IGJvZHk7XG4gICAgICAkWzldID0gdG9vbHRpcDtcbiAgICAgICRbMTBdID0gdDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ1ID0gJFsxMF07XG4gICAgfVxuICAgIHJldHVybiB0NTtcbiAgfVxuICByZXR1cm4gYm9keTtcbn1cbmZ1bmN0aW9uIHNvcnRQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIHByb3BlcnRpZXNPcmRlcikge1xuICB0cnkge1xuICAgIGNvbnN0IHByb3BlcnRpZXNLZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyk7XG4gICAgY29uc3QgYWxsUHJvcGVydGllc09yZGVyID0gcHJvcGVydGllc09yZGVyID8/IHByb3BlcnRpZXNLZXlzO1xuICAgIHJldHVybiBhbGxQcm9wZXJ0aWVzT3JkZXIubWFwKChrZXkpID0+IHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzW2tleV0pIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIGlmICghaXNQcm9wZXJ0eUJ1aWxkZXIocHJvcGVydHkpICYmIHByb3BlcnR5Py5kYXRhVHlwZSA9PT0gXCJtYXBcIiAmJiBwcm9wZXJ0eS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtrZXldOiB7XG4gICAgICAgICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBzb3J0UHJvcGVydGllcyhwcm9wZXJ0eS5wcm9wZXJ0aWVzLCBwcm9wZXJ0eS5wcm9wZXJ0aWVzT3JkZXIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2tleV06IHByb3BlcnR5XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICB9KS5maWx0ZXIoKGEpID0+IGEgIT09IHZvaWQgMCkucmVkdWNlKChhLCBiKSA9PiAoe1xuICAgICAgLi4uYSxcbiAgICAgIC4uLmJcbiAgICB9KSwge30pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNvcnRpbmcgcHJvcGVydGllc1wiLCBlKTtcbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURlZmF1bHRTZWxlY3RlZFZpZXcoZGVmYXVsdFNlbGVjdGVkVmlldywgcGFyYW1zKSB7XG4gIGlmICghZGVmYXVsdFNlbGVjdGVkVmlldykge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmF1bHRTZWxlY3RlZFZpZXcgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZGVmYXVsdFNlbGVjdGVkVmlldztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVmYXVsdFNlbGVjdGVkVmlldyhwYXJhbXMpO1xuICB9XG59XG5jb25zdCBhcHBseVBlcm1pc3Npb25zRnVuY3Rpb25JZkVtcHR5ID0gKGNvbGxlY3Rpb25zLCBwZXJtaXNzaW9uc0J1aWxkZXIpID0+IHtcbiAgcmV0dXJuIGNvbGxlY3Rpb25zLm1hcCgoY29sbGVjdGlvbikgPT4ge1xuICAgIGlmIChjb2xsZWN0aW9uLnBlcm1pc3Npb25zKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbGxlY3Rpb24sXG4gICAgICBwZXJtaXNzaW9uczogcGVybWlzc2lvbnNCdWlsZGVyXG4gICAgfTtcbiAgfSk7XG59O1xuY29uc3Qga2ViYWJDYXNlUmVnZXggPSAvW0EtWl17Mix9KD89W0EtWl1bYS16XStbMC05XSp8XFxiKXxbQS1aXT9bYS16XStbMC05XSp8W0EtWl18WzAtOV0rL2c7XG5jb25zdCB0b0tlYmFiQ2FzZSA9IChzdHIpID0+IHtcbiAgY29uc3QgcmVnRXhwTWF0Y2hBcnJheSA9IHN0ci5tYXRjaChrZWJhYkNhc2VSZWdleCk7XG4gIGlmICghcmVnRXhwTWF0Y2hBcnJheSkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiByZWdFeHBNYXRjaEFycmF5Lm1hcCgoeCkgPT4geC50b0xvd2VyQ2FzZSgpKS5qb2luKFwiLVwiKTtcbn07XG5jb25zdCBzbmFrZUNhc2VSZWdleCA9IC9bQS1aXXsyLH0oPz1bQS1aXVthLXpdK1swLTldKnxcXGIpfFtBLVpdP1thLXpdK1swLTldKnxbQS1aXXxbMC05XSsvZztcbmNvbnN0IHRvU25ha2VDYXNlID0gKHN0cikgPT4ge1xuICBjb25zdCByZWdFeHBNYXRjaEFycmF5ID0gc3RyLm1hdGNoKHNuYWtlQ2FzZVJlZ2V4KTtcbiAgaWYgKCFyZWdFeHBNYXRjaEFycmF5KSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIHJlZ0V4cE1hdGNoQXJyYXkubWFwKCh4KSA9PiB4LnRvTG93ZXJDYXNlKCkpLmpvaW4oXCJfXCIpO1xufTtcbmZ1bmN0aW9uIHJhbmRvbVN0cmluZyhzdHJMZW5ndGggPSA1KSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCAyICsgc3RyTGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIHJhbmRvbUNvbG9yKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTY3NzcyMTUpLnRvU3RyaW5nKDE2KTtcbn1cbmZ1bmN0aW9uIHNsdWdpZnkodGV4dCwgc2VwYXJhdG9yID0gXCJfXCIsIGxvd2VyY2FzZSA9IHRydWUpIHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gXCJcIjtcbiAgY29uc3QgZnJvbSA9IFwiw6PDoMOhw6TDouG6vcOow6nDq8Oqw6zDrcOvw67DtcOyw7PDtsO0w7nDusO8w7vDscOnwrcvXyw6Oy1cIjtcbiAgY29uc3QgdG8gPSBgYWFhYWFlZWVlZWlpaWlvb29vb3V1dXVuYyR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfSR7c2VwYXJhdG9yfWA7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gZnJvbS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoZnJvbS5jaGFyQXQoaSksIFwiZ1wiKSwgdG8uY2hhckF0KGkpKTtcbiAgfVxuICB0ZXh0ID0gdGV4dC50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZywgc2VwYXJhdG9yKS5yZXBsYWNlKC8mL2csIHNlcGFyYXRvcikucmVwbGFjZSgvW15cXHdcXFxcLV0rL2csIFwiXCIpLnJlcGxhY2UobmV3IFJlZ0V4cChcIlxcXFxcIiArIHNlcGFyYXRvciArIFwiXFxcXFwiICsgc2VwYXJhdG9yICsgXCIrXCIsIFwiZ1wiKSwgc2VwYXJhdG9yKS50cmltKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XG4gIHJldHVybiBsb3dlcmNhc2UgPyB0ZXh0LnRvTG93ZXJDYXNlKCkgOiB0ZXh0O1xufVxuZnVuY3Rpb24gdW5zbHVnaWZ5KHNsdWcpIHtcbiAgaWYgKCFzbHVnKSByZXR1cm4gXCJcIjtcbiAgaWYgKHNsdWcuaW5jbHVkZXMoXCItXCIpIHx8IHNsdWcuaW5jbHVkZXMoXCJfXCIpIHx8ICFzbHVnLmluY2x1ZGVzKFwiIFwiKSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNsdWcucmVwbGFjZSgvWy1fXS9nLCBcIiBcIik7XG4gICAgcmV0dXJuIHJlc3VsdC5yZXBsYWNlKC9cXHdcXFMqL2csIGZ1bmN0aW9uKHR4dCkge1xuICAgICAgcmV0dXJuIHR4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR4dC5zdWJzdHIoMSk7XG4gICAgfSkudHJpbSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzbHVnLnRyaW0oKTtcbiAgfVxufVxuY29uc3QgZGVmYXVsdERhdGVGb3JtYXQgPSBcIk1NTU0gZGQsIHl5eXksIEhIOm1tOnNzXCI7XG5jb25zdCBDT0xMRUNUSU9OX1BBVEhfU0VQQVJBVE9SID0gXCI6OlwiO1xuZnVuY3Rpb24gc3RyaXBDb2xsZWN0aW9uUGF0aChwYXRoKSB7XG4gIHJldHVybiBzZWdtZW50c1RvU3RyaXBwZWRQYXRoKGZ1bGxQYXRoVG9Db2xsZWN0aW9uU2VnbWVudHMocGF0aCkpO1xufVxuZnVuY3Rpb24gc2VnbWVudHNUb1N0cmlwcGVkUGF0aChwYXRocykge1xuICBpZiAocGF0aHMubGVuZ3RoID09PSAxKSByZXR1cm4gcGF0aHNbMF07XG4gIHJldHVybiBwYXRocy5yZWR1Y2UoKGEsIGIpID0+IGAke2F9JHtDT0xMRUNUSU9OX1BBVEhfU0VQQVJBVE9SfSR7Yn1gKTtcbn1cbmZ1bmN0aW9uIGZ1bGxQYXRoVG9Db2xsZWN0aW9uU2VnbWVudHMocGF0aCkge1xuICByZXR1cm4gcGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKChlLCBpKSA9PiBpICUgMiA9PT0gMCk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVSZWdFeHAoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gaHlkcmF0ZVJlZ0V4cChpbnB1dCkge1xuICBpZiAoIWlucHV0KSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCBmcmFnbWVudHMgPSBpbnB1dC5tYXRjaCgvXFwvKC4qPylcXC8oW2Etel0qKT8kL2kpO1xuICBpZiAoZnJhZ21lbnRzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoZnJhZ21lbnRzWzFdLCBmcmFnbWVudHNbMl0gfHwgXCJcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoaW5wdXQsIFwiXCIpO1xuICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkUmVnRXhwKGlucHV0KSB7XG4gIGNvbnN0IGZ1bGxSZWdleHAgPSBpbnB1dC5tYXRjaCgvXFwvKCg/IVsqKz9dKSg/OlteXFxyXFxuWy9cXFxcXXxcXFxcLnxcXFsoPzpbXlxcclxcblxcXVxcXFxdfFxcXFwuKSpdKSspXFwvKCg/OmcoPzppbT98bWk/KT98aSg/OmdtP3xtZz8pP3xtKD86Z2k/fGlnPyk/KT8pLyk7XG4gIGlmIChmdWxsUmVnZXhwKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3Qgc2ltcGxlUmVnZXhwID0gaW5wdXQubWF0Y2goLygoPyFbKis/XSkoPzpbXlxcclxcblsvXFxcXF18XFxcXC58XFxbKD86W15cXHJcXG5cXF1cXFxcXXxcXFxcLikqXSkrKS8pO1xuICByZXR1cm4gISFzaW1wbGVSZWdleHA7XG59XG5jb25zdCByZXNlcnZlZEtleXMgPSBbXCJlZGl0XCIsIFwiY29weVwiLCBcImRlbGV0ZVwiXTtcbmZ1bmN0aW9uIG1lcmdlRW50aXR5QWN0aW9ucyhjdXJyZW50QWN0aW9ucywgbmV3QWN0aW9ucykge1xuICBjb25zdCB1cGRhdGVkQWN0aW9ucyA9IFtdO1xuICBjdXJyZW50QWN0aW9ucy5mb3JFYWNoKChhY3Rpb24pID0+IHtcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBuZXdBY3Rpb25zLmZpbmQoKGEpID0+IGEua2V5ID09PSBhY3Rpb24ua2V5KTtcbiAgICBpZiAobmV3QWN0aW9uKSB7XG4gICAgICBjb25zdCBtZXJnZWRBY3Rpb24gPSB7XG4gICAgICAgIC4uLmFjdGlvbixcbiAgICAgICAgLi4ubmV3QWN0aW9uXG4gICAgICB9O1xuICAgICAgdXBkYXRlZEFjdGlvbnMucHVzaChtZXJnZWRBY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVkQWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgfVxuICB9KTtcbiAgbmV3QWN0aW9ucy5mb3JFYWNoKChhY3Rpb24pID0+IHtcbiAgICBpZiAoIWN1cnJlbnRBY3Rpb25zLmZpbmQoKGEpID0+IGEua2V5ID09PSBhY3Rpb24ua2V5KSAmJiAoIWFjdGlvbi5rZXkgfHwgIXJlc2VydmVkS2V5cy5pbmNsdWRlcyhhY3Rpb24ua2V5KSkpIHtcbiAgICAgIHVwZGF0ZWRBY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdXBkYXRlZEFjdGlvbnM7XG59XG5mdW5jdGlvbiB1c2VEZWJvdW5jZWRDYWxsYmFjayh2YWx1ZSwgY2FsbGJhY2ssIGltbWVkaWF0ZSwgdDApIHtcbiAgY29uc3QgJCA9IGMoOSk7XG4gIGNvbnN0IHRpbWVvdXRNcyA9IHQwID09PSB2b2lkIDAgPyAzMDAgOiB0MDtcbiAgY29uc3QgcGVuZGluZ1VwZGF0ZSA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihmYWxzZSk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGNhbGxiYWNrKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcGVuZGluZ1VwZGF0ZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgICAkWzBdID0gY2FsbGJhY2s7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBwZXJmb3JtVXBkYXRlID0gdDE7XG4gIGNvbnN0IGhhbmRsZXJSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYodm9pZCAwKTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gaW1tZWRpYXRlIHx8ICRbM10gIT09IHBlcmZvcm1VcGRhdGUgfHwgJFs0XSAhPT0gdGltZW91dE1zKSB7XG4gICAgdDIgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBkYXRlLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZXJSZWYuY3VycmVudCk7XG4gICAgICBoYW5kbGVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KHBlcmZvcm1VcGRhdGUsIHRpbWVvdXRNcyk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgcGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgJFsyXSA9IGltbWVkaWF0ZTtcbiAgICAkWzNdID0gcGVyZm9ybVVwZGF0ZTtcbiAgICAkWzRdID0gdGltZW91dE1zO1xuICAgICRbNV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNV07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs2XSAhPT0gaW1tZWRpYXRlIHx8ICRbN10gIT09IHZhbHVlKSB7XG4gICAgdDMgPSBbaW1tZWRpYXRlLCB2YWx1ZV07XG4gICAgJFs2XSA9IGltbWVkaWF0ZTtcbiAgICAkWzddID0gdmFsdWU7XG4gICAgJFs4XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs4XTtcbiAgfVxuICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QodDIsIHQzKTtcbn1cbmZ1bmN0aW9uIGlzUmVmZXJlbmNlUHJvcGVydHkocHJvcGVydHlPckJ1aWxkZXIsIGZpZWxkcykge1xuICBjb25zdCByZXNvbHZlZFByb3BlcnR5ID0gcmVzb2x2ZVByb3BlcnR5KHtcbiAgICBwcm9wZXJ0eUtleTogXCJpZ25vcmVcIixcbiAgICAvLyBUT0RPXG4gICAgcHJvcGVydHlPckJ1aWxkZXIsXG4gICAgcHJvcGVydHlDb25maWdzOiBmaWVsZHNcbiAgfSk7XG4gIGlmICghcmVzb2x2ZWRQcm9wZXJ0eSkgcmV0dXJuIG51bGw7XG4gIGlmIChyZXNvbHZlZFByb3BlcnR5LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHJlc29sdmVkUHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlc29sdmVkUHJvcGVydHkub2YpKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSByZXR1cm4gcmVzb2x2ZWRQcm9wZXJ0eS5vZj8uZGF0YVR5cGUgPT09IFwicmVmZXJlbmNlXCI7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0SWRJY29uKHNpemUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY2xlSWNvbiwgeyBzaXplIH0pO1xufVxuZnVuY3Rpb24gZ2V0SWNvbkZvcldpZGdldCh3aWRnZXQsIHNpemUpIHtcbiAgY29uc3QgSWNvbjIgPSB3aWRnZXQ/Lkljb24gPz8gQ2lyY2xlSWNvbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbjIsIHsgc2l6ZSB9KTtcbn1cbmZ1bmN0aW9uIGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgc2l6ZSA9IFwic21hbGxcIiwgZmllbGRzID0ge30pIHtcbiAgaWYgKGlzUHJvcGVydHlCdWlsZGVyKHByb3BlcnR5KSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZ1bmN0aW9uc0ljb24sIHsgc2l6ZSB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3aWRnZXQgPSBnZXRGaWVsZENvbmZpZyhwcm9wZXJ0eSwgZmllbGRzKTtcbiAgICByZXR1cm4gZ2V0SWNvbkZvcldpZGdldCh3aWRnZXQsIHNpemUpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb2xvckZvclByb3BlcnR5KHByb3BlcnR5LCBmaWVsZHMpIHtcbiAgaWYgKGlzUHJvcGVydHlCdWlsZGVyKHByb3BlcnR5KSkge1xuICAgIHJldHVybiBcIiM4ODhcIjtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3aWRnZXQgPSBnZXRGaWVsZENvbmZpZyhwcm9wZXJ0eSwgZmllbGRzKTtcbiAgICByZXR1cm4gd2lkZ2V0Py5jb2xvciA/PyBcIiM2NjZcIjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UHJvcGVydHlJblBhdGgocHJvcGVydGllcywgcGF0aCkge1xuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAocGF0aCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm4gcHJvcGVydGllc1twYXRoXTtcbiAgICB9XG4gICAgaWYgKHBhdGguaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcGVydHkgPSBwcm9wZXJ0aWVzW3BhdGhTZWdtZW50c1swXV07XG4gICAgICBpZiAodHlwZW9mIGNoaWxkUHJvcGVydHkgPT09IFwib2JqZWN0XCIgJiYgY2hpbGRQcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJtYXBcIiAmJiBjaGlsZFByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGdldFByb3BlcnR5SW5QYXRoKGNoaWxkUHJvcGVydHkucHJvcGVydGllcywgcGF0aFNlZ21lbnRzLnNsaWNlKDEpLmpvaW4oXCIuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGdldFJlc29sdmVkUHJvcGVydHlJblBhdGgocHJvcGVydGllcywgcGF0aCkge1xuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAocGF0aCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm4gcHJvcGVydGllc1twYXRoXTtcbiAgICB9XG4gICAgaWYgKHBhdGguaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcGVydHkgPSBwcm9wZXJ0aWVzW3BhdGhTZWdtZW50c1swXV07XG4gICAgICBpZiAoY2hpbGRQcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJtYXBcIiAmJiBjaGlsZFByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGdldFJlc29sdmVkUHJvcGVydHlJblBhdGgoY2hpbGRQcm9wZXJ0eS5wcm9wZXJ0aWVzLCBwYXRoU2VnbWVudHMuc2xpY2UoMSkuam9pbihcIi5cIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0QnJhY2tldE5vdGF0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwuKFteLl0qKS9nLCBcIlskMV1cIik7XG59XG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzV2l0aFByb3BlcnRpZXNPcmRlcihwcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzT3JkZXIpIHtcbiAgaWYgKCFwcm9wZXJ0aWVzT3JkZXIpIHJldHVybiBwcm9wZXJ0aWVzO1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgcHJvcGVydGllc09yZGVyLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBnZXRQcm9wZXJ0eUluUGF0aChwcm9wZXJ0aWVzLCBwYXRoKTtcbiAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcIm9iamVjdFwiICYmIHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgIHJlc3VsdFtwYXRoXSA9IHtcbiAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgIHByb3BlcnRpZXM6IGdldFByb3BlcnRpZXNXaXRoUHJvcGVydGllc09yZGVyKHByb3BlcnR5LnByb3BlcnRpZXMsIHByb3BlcnR5LnByb3BlcnRpZXNPcmRlciA/PyBbXSlcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgcmVzdWx0W3BhdGhdID0gcHJvcGVydHk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRQcm9wZXJ0aWVzT3JkZXIoY29sbGVjdGlvbikge1xuICBpZiAoY29sbGVjdGlvbi5wcm9wZXJ0aWVzT3JkZXIpIHJldHVybiBjb2xsZWN0aW9uLnByb3BlcnRpZXNPcmRlcjtcbiAgcmV0dXJuIFsuLi5PYmplY3Qua2V5cyhjb2xsZWN0aW9uLnByb3BlcnRpZXMpLCAuLi4oY29sbGVjdGlvbi5hZGRpdGlvbmFsRmllbGRzID8/IFtdKS5tYXAoKGZpZWxkKSA9PiBmaWVsZC5rZXkpXTtcbn1cbmNvbnN0IERFRkFVTFRfUEVSTUlTU0lPTlMgPSB7XG4gIHJlYWQ6IHRydWUsXG4gIGVkaXQ6IHRydWUsXG4gIGNyZWF0ZTogdHJ1ZSxcbiAgZGVsZXRlOiB0cnVlXG59O1xuZnVuY3Rpb24gcmVzb2x2ZVBlcm1pc3Npb25zKGNvbGxlY3Rpb24sIGF1dGhDb250cm9sbGVyLCBwYXRoLCBlbnRpdHkpIHtcbiAgY29uc3QgcGVybWlzc2lvbiA9IGNvbGxlY3Rpb24ucGVybWlzc2lvbnM7XG4gIGlmIChwZXJtaXNzaW9uID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gREVGQVVMVF9QRVJNSVNTSU9OUztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcGVybWlzc2lvbiA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBwZXJtaXNzaW9uO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwZXJtaXNzaW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBmdWxsUGF0aFRvQ29sbGVjdGlvblNlZ21lbnRzKHBhdGgpO1xuICAgIHJldHVybiBwZXJtaXNzaW9uKHtcbiAgICAgIGVudGl0eSxcbiAgICAgIHBhdGgsXG4gICAgICB1c2VyOiBhdXRoQ29udHJvbGxlci51c2VyLFxuICAgICAgYXV0aENvbnRyb2xsZXIsXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgcGF0aFNlZ21lbnRzXG4gICAgfSk7XG4gIH1cbiAgY29uc29sZS5lcnJvcihcIlBlcm1pc3Npb25zOlwiLCBwZXJtaXNzaW9uKTtcbiAgdGhyb3cgRXJyb3IoXCJOZXcgdHlwZSBvZiBwZXJtaXNzaW9uIGFkZGVkIGFuZCBub3QgbWFwcGVkXCIpO1xufVxuZnVuY3Rpb24gY2FuRWRpdEVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgcGF0aCwgZW50aXR5KSB7XG4gIHJldHVybiByZXNvbHZlUGVybWlzc2lvbnMoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHBhdGgsIGVudGl0eSk/LmVkaXQgPz8gREVGQVVMVF9QRVJNSVNTSU9OUy5lZGl0O1xufVxuZnVuY3Rpb24gY2FuQ3JlYXRlRW50aXR5KGNvbGxlY3Rpb24sIGF1dGhDb250cm9sbGVyLCBwYXRoLCBlbnRpdHkpIHtcbiAgaWYgKGNvbGxlY3Rpb24uY29sbGVjdGlvbkdyb3VwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiByZXNvbHZlUGVybWlzc2lvbnMoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHBhdGgsIGVudGl0eSk/LmNyZWF0ZSA/PyBERUZBVUxUX1BFUk1JU1NJT05TLmNyZWF0ZTtcbn1cbmZ1bmN0aW9uIGNhbkRlbGV0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgcGF0aCwgZW50aXR5KSB7XG4gIHJldHVybiByZXNvbHZlUGVybWlzc2lvbnMoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHBhdGgsIGVudGl0eSk/LmRlbGV0ZSA/PyBERUZBVUxUX1BFUk1JU1NJT05TLmRlbGV0ZTtcbn1cbmNvbnN0IGljb25TeW5vbnltcyA9IHtcbiAgYWJjOiBcImFscGhhYmV0IGNoYXJhY3RlciBmb250IGxldHRlciBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGFjY2Vzc19hbGFybTogXCJjbG9jayB0aW1lXCIsXG4gIGFjY2Vzc19hbGFybXM6IFwiY2xvY2sgdGltZVwiLFxuICBhY2Nlc3NpYmlsaXR5OiBcImFjY2Vzc2libGUgYm9keSBoYW5kaWNhcCBoZWxwIGh1bWFuIHBlb3BsZSBwZXJzb24gdXNlclwiLFxuICBhY2Nlc3NpYmlsaXR5X25ldzogXCJhY2Nlc3NpYmxlIGFybXMgYm9keSBoYW5kaWNhcCBoZWxwIGh1bWFuIHBlb3BsZSBwZXJzb24gdXNlclwiLFxuICBhY2Nlc3NpYmxlOiBcImFjY2Vzc2liaWxpdHkgYm9keSBoYW5kaWNhcCBoZWxwIGh1bWFuIHBlb3BsZSBwZXJzb24gdXNlciB3aGVlbGNoYWlyXCIsXG4gIGFjY2Vzc2libGVfZm9yd2FyZDogXCJhY2Nlc3NpYmlsaXR5IGJvZHkgaGFuZGljYXAgaGVscCBodW1hbiBwZW9wbGUgcGVyc29uIHdoZWVsY2hhaXJcIixcbiAgYWNjZXNzX3RpbWU6IFwiY2xvY2sgdGltZVwiLFxuICBhY2NvdW50X2JhbGFuY2U6IFwiYmFuayBiaWxsIGJ1aWxkaW5nIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvdXJ0IGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgbW9uZXkgb25saW5lIHBheW1lbnQgc3RydWN0dXJlIHRlbXBsZSB0cmFuc2FjdGlvblwiLFxuICBhY2NvdW50X2JhbGFuY2Vfd2FsbGV0OiBcImJhbmsgYmlsbCBjYXJkIGNhc2ggY29pbiBjb21tZXJjZSBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHRyYW5zYWN0aW9uXCIsXG4gIGFjY291bnRfYm94OiBcImF2YXRhciBmYWNlIGh1bWFuIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzcXVhcmUgdGh1bWJuYWlsIHVzZXJcIixcbiAgYWNjb3VudF9jaXJjbGU6IFwiYXZhdGFyIGZhY2UgaHVtYW4gcGVvcGxlIHBlcnNvbiBwcm9maWxlIHRodW1ibmFpbCB1c2VyXCIsXG4gIGFjY291bnRfdHJlZTogXCJhbmFseXRpY3MgY2hhcnQgY29ubmVjdCBkYXRhIGRpYWdyYW0gZmxvdyBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3MgcHJvY2VzcyBwcm9qZWN0IHNpdGVtYXAgc3F1YXJlIHN0YXRpc3RpY3Mgc3RydWN0dXJlIHRyYWNraW5nXCIsXG4gIGFjX3VuaXQ6IFwiYWlyIGNvbGQgY29uZGl0aW9uZXIgZnJlZXplIHNub3dmbGFrZSB0ZW1wZXJhdHVyZSB3ZWF0aGVyIHdpbnRlclwiLFxuICBhZGI6IFwiYW5kcm9pZCBicmlkZ2UgZGVidWdcIixcbiAgYWRkOiBcIisgY3JlYXRlIGl0ZW0gbmV3IHBsdXMgc3ltYm9sXCIsXG4gIGFkZF9hbGFybTogXCJjbG9jayBwbHVzIHRpbWVcIixcbiAgYWRkX2FsZXJ0OiBcIisgYWN0aXZlIGFsYXJtIGFubm91bmNlbWVudCBiZWxsIGNhbGxvdXQgY2hpbWUgaW5mb3JtYXRpb24gbmV3IG5vdGlmaWNhdGlvbnMgbm90aWZ5IHBsdXMgcmVtaW5kZXIgcmluZyBzb3VuZCBzeW1ib2xcIixcbiAgYWRkX2FfcGhvdG86IFwiKyBjYW1lcmEgbGVucyBuZXcgcGhvdG9ncmFwaHkgcGljdHVyZSBwbHVzIHN5bWJvbFwiLFxuICBhZGRfYm94OiBcImNyZWF0ZSBuZXcgcGx1cyBzcXVhcmUgc3ltYm9sXCIsXG4gIGFkZF9idXNpbmVzczogXCIrIGJpbGwgYnVpbGRpbmcgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29tcGFueSBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBtYXJrZXQgbW9uZXkgbmV3IG9ubGluZSBwYXltZW50IHBsdXMgcmV0YWlsIHNob3BwaW5nIHN0b3JlZnJvbnQgc3ltYm9sXCIsXG4gIGFkZF9jYXJkOiBcIisgYmlsbCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG5ldyBvbmxpbmUgcGF5bWVudCBwbHVzIHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBhZGRfY2hhcnQ6IFwiKyBhbmFseXRpY3MgYmFycyBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIG5ldyBwbHVzIHN0YXRpc3RpY3Mgc3ltYm9sIHRyYWNraW5nXCIsXG4gIGFkZF9jaXJjbGU6IFwiKyBjcmVhdGUgbmV3IHBsdXNcIixcbiAgYWRkX2NpcmNsZV9vdXRsaW5lOiBcIisgY3JlYXRlIG5ldyBwbHVzXCIsXG4gIGFkZF9jb21tZW50OiBcIisgYnViYmxlIGNoYXQgY29tbXVuaWNhdGUgZmVlZGJhY2sgbWVzc2FnZSBuZXcgcGx1cyBzcGVlY2ggc3ltYm9sXCIsXG4gIGFkZF9pY19jYWxsOiBcIisgY2VsbCBjb250YWN0IGRldmljZSBoYXJkd2FyZSBtb2JpbGUgbmV3IHBsdXMgc3ltYm9sIHRlbGVwaG9uZVwiLFxuICBhZGRfbGluazogXCJhdHRhY2ggY2xpcCBuZXcgcGx1cyBzeW1ib2xcIixcbiAgYWRkX2xvY2F0aW9uOiBcIisgZGVzdGluYXRpb24gZGlyZWN0aW9uIGdwcyBtYXBzIG5ldyBwaW4gcGxhY2UgcGx1cyBzdG9wIHN5bWJvbFwiLFxuICBhZGRfbG9jYXRpb25fYWx0OiBcIisgZGVzdGluYXRpb24gZGlyZWN0aW9uIG1hcHMgbmV3IHBpbiBwbGFjZSBwbHVzIHN0b3Agc3ltYm9sXCIsXG4gIGFkZF9tb2RlcmF0b3I6IFwiKyBjZXJ0aWZpZWQgbmV3IHBsdXMgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gc2VjdXJpdHkgc2hpZWxkIHN5bWJvbCB2ZXJpZmllZFwiLFxuICBhZGRfcGhvdG9fYWx0ZXJuYXRlOiBcIisgaW1hZ2UgbGFuZHNjYXBlIG1vdW50YWlucyBuZXcgcGhvdG9ncmFwaHkgcGljdHVyZSBwbHVzIHN5bWJvbFwiLFxuICBhZGRfcm9hZDogXCIrIGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBoaWdod2F5IG1hcHMgbmV3IHBsdXMgc3RvcCBzdHJlZXQgc3ltYm9sIHRyYWZmaWNcIixcbiAgYWRkX3Nob3BwaW5nX2NhcnQ6IFwiY2FyZCBjYXNoIGNoZWNrb3V0IGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgbW9uZXkgb25saW5lIHBheW1lbnQgcGx1c1wiLFxuICBhZGRfdGFzazogXCIrIGFwcHJvdmUgY2hlY2sgY2lyY2xlIGNvbXBsZXRlZCBpbmNyZWFzZSBtYXJrIG9rIHBsdXMgc2VsZWN0IHRpY2sgeWVzXCIsXG4gIGFkZF90b19kcml2ZTogXCIrIGFwcCBiYWNrdXAgY2xvdWQgZGF0YSBmaWxlcyBmb2xkZXJzIGdkcml2ZSBnb29nbGUgcGx1cyByZWNvdmVyeSBzdG9yYWdlXCIsXG4gIGFkZF90b19ob21lX3NjcmVlbjogXCJBbmRyb2lkIGFkZCBhcnJvdyBjZWxsIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHBob25lIHRhYmxldCB0byB1cFwiLFxuICBhZGRfdG9fcGhvdG9zOiBcImNvbGxlY3Rpb24gaW1hZ2UgbGFuZHNjYXBlIG1vdW50YWlucyBwaG90b2dyYXBoeSBwaWN0dXJlIHBsdXNcIixcbiAgYWRkX3RvX3F1ZXVlOiBcIisgQW5kcm9pZCBiYWNrbG9nIGNocm9tZSBkZXNrdG9wIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBsaW5ldXAgbWFjIG1vbml0b3IgbmV3IHBsdXMgc2NyZWVuIHN5bWJvbCB0ZWxldmlzaW9uIHdhdGNoIHdlYiB3aW5kb3dcIixcbiAgYWRmX3NjYW5uZXI6IFwiZG9jdW1lbnQgZmVlZGVyIG1hY2hpbmUgb2ZmaWNlXCIsXG4gIGFkanVzdDogXCJhbHRlciBjZW50ZXIgY2lyY2xlcyBjb250cm9sIGRvdCBlZGl0IGZpbHRlciBmaXggaW1hZ2UgbWl4IG1vdmUgc2V0dGluZyBzbGlkZXIgc29ydCBzd2l0Y2ggdGFyZ2V0IHR1bmVcIixcbiAgYWRtaW5fcGFuZWxfc2V0dGluZ3M6IFwiYWNjb3VudCBhdmF0YXIgY2VydGlmaWVkIGZhY2UgaHVtYW4gcGVvcGxlIHBlcnNvbiBwcml2YWN5IHByaXZhdGUgcHJvZmlsZSBwcm90ZWN0aW9uIHNlY3VyaXR5IHNoaWVsZCB1c2VyIHZlcmlmaWVkXCIsXG4gIGFkX3VuaXRzOiBcIkFuZHJvaWQgYmFubmVyIGNlbGwgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgbm90aWZpY2F0aW9ucyBwaG9uZSB0YWJsZXQgdG9wXCIsXG4gIGFncmljdWx0dXJlOiBcImF1dG9tb2JpbGUgY2FycyBjdWx0aXZhdGlvbiBmYXJtIGhhcnZlc3QgbWFwcyB0cmFjdG9yIHRyYW5zcG9ydCB0cmF2ZWwgdHJ1Y2sgdmVoaWNsZVwiLFxuICBhaXI6IFwiYmxvd2luZyBicmVlemUgZmxvdyB3YXZlIHdlYXRoZXIgd2luZFwiLFxuICBhaXJsaW5lczogXCJhaXJwbGFuZSBhaXJwb3J0IGZsaWdodCB0cmFuc3BvcnRhdGlvbiB0cmF2ZWwgdHJpcFwiLFxuICBhaXJsaW5lX3NlYXRfZmxhdDogXCJiZWQgYm9keSBidXNpbmVzcyBjbGFzcyBmaXJzdCBodW1hbiBwZW9wbGUgcGVyc29uIHJlc3Qgc2xlZXAgdHJhdmVsXCIsXG4gIGFpcmxpbmVfc2VhdF9mbGF0X2FuZ2xlZDogXCJiZWQgYm9keSBidXNpbmVzcyBjbGFzcyBmaXJzdCBodW1hbiBwZW9wbGUgcGVyc29uIHJlc3Qgc2xlZXAgdHJhdmVsXCIsXG4gIGFpcmxpbmVfc2VhdF9pbmRpdmlkdWFsX3N1aXRlOiBcImJlZCBib2R5IGJ1c2luZXNzIGNsYXNzIGZpcnN0IGh1bWFuIHBlb3BsZSBwZXJzb24gcmVzdCBzbGVlcCB0cmF2ZWxcIixcbiAgYWlybGluZV9zZWF0X2xlZ3Jvb21fZXh0cmE6IFwiYm9keSBmZWV0IGh1bWFuIHBlb3BsZSBwZXJzb24gc2l0dGluZyBzcGFjZSB0cmF2ZWxcIixcbiAgYWlybGluZV9zZWF0X2xlZ3Jvb21fbm9ybWFsOiBcImJvZHkgZmVldCBodW1hbiBwZW9wbGUgcGVyc29uIHNpdHRpbmcgc3BhY2UgdHJhdmVsXCIsXG4gIGFpcmxpbmVfc2VhdF9sZWdyb29tX3JlZHVjZWQ6IFwiYm9keSBmZWV0IGh1bWFuIHBlb3BsZSBwZXJzb24gc2l0dGluZyBzcGFjZSB0cmF2ZWxcIixcbiAgYWlybGluZV9zZWF0X3JlY2xpbmVfZXh0cmE6IFwiYm9keSBmZWV0IGh1bWFuIGxlZ3Jvb20gcGVvcGxlIHBlcnNvbiBzaXR0aW5nIHNwYWNlIHRyYXZlbFwiLFxuICBhaXJsaW5lX3NlYXRfcmVjbGluZV9ub3JtYWw6IFwiYm9keSBleHRyYSBmZWV0IGh1bWFuIGxlZ3Jvb20gcGVvcGxlIHBlcnNvbiBzaXR0aW5nIHNwYWNlIHRyYXZlbFwiLFxuICBhaXJsaW5lX3N0b3BzOiBcImFycm93IGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBsYXlvdmVyIGxvY2F0aW9uIG1hcHMgcGxhY2UgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRyaXBcIixcbiAgYWlycGxhbmVtb2RlX2FjdGl2ZTogXCJmbGlnaHQgZmx5aW5nIG9uIHNpZ25hbFwiLFxuICBhaXJwbGFuZW1vZGVfaW5hY3RpdmU6IFwiYWlycG9ydCBkaXNhYmxlZCBlbmFibGVkIGZsaWdodCBmbHlpbmcgbWFwcyBvZmZsaW5lIHNsYXNoIHRyYW5zcG9ydGF0aW9uIHRyYXZlbFwiLFxuICBhaXJwbGFuZV90aWNrZXQ6IFwiYWlycG9ydCBib2FyZGluZyBmbGlnaHQgZmx5IG1hcHMgcGFzcyB0cmFuc3BvcnRhdGlvbiB0cmF2ZWxcIixcbiAgYWlycGxheTogXCJhcHBsZSBhcnJvdyBjYXN0IGNvbm5lY3QgY29udHJvbCBkZXNrdG9wIGRldmljZSBkaXNwbGF5IG1vbml0b3Igc2NyZWVuIHNpZ25hbCB0ZWxldmlzaW9uIHR2XCIsXG4gIGFpcnBvcnRfc2h1dHRsZTogXCJhdXRvbW9iaWxlIGJ1cyBjYXJzIGNvbW1lcmNpYWwgZGVsaXZlcnkgZGlyZWN0aW9uIG1hcHMgbWluaSBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRydWNrIHZhbiB2ZWhpY2xlXCIsXG4gIGFsYXJtOiBcImFsYXJ0IGJlbGwgY2xvY2sgY291bnRkb3duIGRhdGUgbm90aWZpY2F0aW9uIHNjaGVkdWxlIHRpbWVcIixcbiAgYWxhcm1fYWRkOiBcIisgYWxhcnQgYmVsbCBjbG9jayBjb3VudGRvd24gZGF0ZSBuZXcgbm90aWZpY2F0aW9uIHBsdXMgc2NoZWR1bGUgc3ltYm9sIHRpbWVcIixcbiAgYWxhcm1fb2ZmOiBcImFsYXJ0IGJlbGwgY2xvY2sgZGlzYWJsZWQgZHVyYXRpb24gZW5hYmxlZCBub3RpZmljYXRpb24gc2xhc2ggc3RvcCB0aW1lciB3YXRjaFwiLFxuICBhbGFybV9vbjogXCJhbGFydCBiZWxsIGNoZWNrbWFyayBjbG9jayBkaXNhYmxlZCBkdXJhdGlvbiBlbmFibGVkIG5vdGlmaWNhdGlvbiBvZmYgcmVhZHkgc2xhc2ggc3RhcnQgdGltZXIgd2F0Y2hcIixcbiAgYWxidW06IFwiYXJ0aXN0IGF1ZGlvIGJ2YiBjZCBjb21wdXRlciBkYXRhIGRpc2sgZmlsZSBtdXNpYyBwbGF5IHJlY29yZCBzb3VuZCBzdG9yYWdlIHRyYWNrIHZpbnlsXCIsXG4gIGFsaWduX2hvcml6b250YWxfY2VudGVyOiBcImFsaWdubWVudCBmb3JtYXQgbGF5b3V0IGxpbmVzIHBhcmFncmFwaCBydWxlcyBzdHlsZSB0ZXh0XCIsXG4gIGFsaWduX2hvcml6b250YWxfbGVmdDogXCJhbGlnbm1lbnQgZm9ybWF0IGxheW91dCBsaW5lcyBwYXJhZ3JhcGggcnVsZXMgc3R5bGUgdGV4dFwiLFxuICBhbGlnbl9ob3Jpem9udGFsX3JpZ2h0OiBcImFsaWdubWVudCBmb3JtYXQgbGF5b3V0IGxpbmVzIHBhcmFncmFwaCBydWxlcyBzdHlsZSB0ZXh0XCIsXG4gIGFsaWduX3ZlcnRpY2FsX2JvdHRvbTogXCJhbGlnbm1lbnQgZm9ybWF0IGxheW91dCBsaW5lcyBwYXJhZ3JhcGggcnVsZXMgc3R5bGUgdGV4dFwiLFxuICBhbGlnbl92ZXJ0aWNhbF9jZW50ZXI6IFwiYWxpZ25tZW50IGZvcm1hdCBsYXlvdXQgbGluZXMgcGFyYWdyYXBoIHJ1bGVzIHN0eWxlIHRleHRcIixcbiAgYWxpZ25fdmVydGljYWxfdG9wOiBcImFsaWdubWVudCBmb3JtYXQgbGF5b3V0IGxpbmVzIHBhcmFncmFwaCBydWxlcyBzdHlsZSB0ZXh0XCIsXG4gIGFsbF9pbmJveDogXCJJbmJveCBkZWxpdmVyZWQgZGVsaXZlcnkgZW1haWwgbGV0dGVyIG1lc3NhZ2UgcG9zdCBzZW5kXCIsXG4gIGFsbF9pbmNsdXNpdmU6IFwiZW5kbGVzcyBmb3JldmVyIGluZmluaXRlIGluZmluaXR5IGxvb3AgbW9iaXVzIG5ldmVyZW5kaW5nIHN0cmlwIHN1c3RhaW5hYmlsaXR5IHN1c3RhaW5hYmxlXCIsXG4gIGFsbF9vdXQ6IFwiYXJyb3dzIGNpcmNsZSBkaXJlY3Rpb25hbCBleHBhbmQgc2hhcGVcIixcbiAgYWx0ZXJuYXRlX2VtYWlsOiBcIkAgYWRkcmVzcyBjb250YWN0IHRhZ1wiLFxuICBhbHRfcm91dGU6IFwiYWx0ZXJuYXRlIGFsdGVybmF0aXZlIGFycm93cyBkaXJlY3Rpb24gbWFwcyBuYXZpZ2F0aW9uIG9wdGlvbnMgb3RoZXIgcm91dGVzIHNwbGl0IHN5bWJvbFwiLFxuICBhbmFseXRpY3M6IFwiYXNzZXNzbWVudCBiYXIgY2hhcnQgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGFuY2hvcjogXCJnb29nbGUgbG9nb1wiLFxuICBhbmRyb2lkOiBcImJyYW5kIGNoYXJhY3RlciBsb2dvIG1hc2NvdCBvcGVyYXRpbmcgc3lzdGVtIHRveVwiLFxuICBhbmltYXRpb246IFwiY2lyY2xlcyBmaWxtIG1vdGlvbiBtb3ZlbWVudCBtb3ZpZSBtb3Zpbmcgc2VxdWVuY2UgdmlkZW9cIixcbiAgYW5ub3VuY2VtZW50OiBcIiEgYWxlcnQgYXR0ZW50aW9uIGJhbGxvb24gYnViYmxlIGNhdXRpb24gY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGRhbmdlciBlcnJvciBleGNsYW1hdGlvbiBmZWVkYmFjayBpbXBvcnRhbnQgbWFyayBtZXNzYWdlIG5ld3Mgbm90aWZpY2F0aW9uIHNwZWVjaCBzeW1ib2wgd2FybmluZ1wiLFxuICBhb2Q6IFwiQW5kcm9pZCBhbHdheXMgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgaG9tZXNjcmVlbiBpT1MgbW9iaWxlIHBob25lIHRhYmxldFwiLFxuICBhcGFydG1lbnQ6IFwiYWNjb21tb2RhdGlvbiBhcmNoaXRlY3R1cmUgYnVpbGRpbmcgY2l0eSBjb21wYW55IGVzdGF0ZSBmbGF0IGhvbWUgaG91c2Ugb2ZmaWNlIHBsYWNlcyByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzaGVsdGVyIHVuaXRzIHdvcmtwbGFjZVwiLFxuICBhcGk6IFwiZGV2ZWxvcGVyIGRldmVsb3BtZW50IGVudGVycHJpc2Ugc29mdHdhcmVcIixcbiAgYXBwX2Jsb2NraW5nOiBcIkFuZHJvaWQgYXBwbGljYXRpb25zIGNhbmNlbCBjZWxsIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHBob25lIHN0b3BwZWQgdGFibGV0XCIsXG4gIGFwcF9yZWdpc3RyYXRpb246IFwiYXBwcyBlZGl0IHBlbmNpbCByZWdpc3RlclwiLFxuICBhcHByb3ZhbDogXCJhcHBseSBhcHByb3ZhbHMgYXBwcm92ZSBjZXJ0aWZpY2F0ZSBjZXJ0aWZpY2F0aW9uIGRpc2FwcHJvdmFsIGRyaXZlIGZpbGUgaW1wcmVzc2lvbiBpbmsgbWFyayBwb3N0YWdlIHN0YW1wXCIsXG4gIGFwcHM6IFwiYWxsIGFwcGxpY2F0aW9ucyBjaXJjbGVzIGNvbGxlY3Rpb24gY29tcG9uZW50cyBkb3RzIGdyaWQgaG9tZXNjcmVlbiBpY29ucyBpbnRlcmZhY2Ugc3F1YXJlcyB1aSB1eFwiLFxuICBhcHBfc2V0dGluZ3NfYWx0OiBcIkFuZHJvaWQgYXBwbGljYXRpb25zIGNlbGwgZGV2aWNlIGdlYXIgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgYXBwX3Nob3J0Y3V0OiBcImJvb2ttYXJrZWQgZmF2b3JpdGUgaGlnaGxpZ2h0IGltcG9ydGFudCBtb2JpbGUgc2F2ZWQgc29mdHdhcmUgc3BlY2lhbCBzdGFyXCIsXG4gIGFwcHNfb3V0YWdlOiBcImFsbCBhcHBsaWNhdGlvbnMgY2lyY2xlcyBjb2xsZWN0aW9uIGNvbXBvbmVudHMgZG90cyBncmlkIGludGVyZmFjZSBzcXVhcmVzIHVpIHV4XCIsXG4gIGFyY2hpdGVjdHVyZTogXCJhcnQgY29tcGFzcyBkZXNpZ24gZHJhd2luZyBlbmdpbmVlcmluZyBnZW9tZXRyaWMgdG9vbFwiLFxuICBhcmNoaXZlOiBcImluYm94IG1haWwgc3RvcmVcIixcbiAgYXJyb3dfYmFjazogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRpcmVjdGlvbiBpbnRlcmZhY2UgbGVmdCBuYXZpZ2F0aW9uIHByZXZpb3VzIHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFycm93X2JhY2tfaW9zOiBcImFwcGxpY2F0aW9uIGNoZXZyb24gY29tcG9uZW50cyBkaXJlY3Rpb24gaW50ZXJmYWNlIGxlZnQgbmF2aWdhdGlvbiBwcmV2aW91cyBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBhcnJvd19iYWNrX2lvc19uZXc6IFwiYXBwbGljYXRpb24gY2hldnJvbiBjb21wb25lbnRzIGRpcmVjdGlvbiBpbnRlcmZhY2UgbGVmdCBuYXZpZ2F0aW9uIHByZXZpb3VzIHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFycm93X2NpcmNsZV9kb3duOiBcImRpcmVjdGlvbiBuYXZpZ2F0aW9uXCIsXG4gIGFycm93X2NpcmNsZV91cDogXCJkaXJlY3Rpb24gbmF2aWdhdGlvblwiLFxuICBhcnJvd19kb3dud2FyZDogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRpcmVjdGlvbiBpbnRlcmZhY2UgbmF2aWdhdGlvbiBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBhcnJvd19kcm9wX2Rvd246IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBkaXJlY3Rpb24gaW50ZXJmYWNlIG5hdmlnYXRpb24gc2NyZWVuIHVpIHV4IHdlYnNpdGVcIixcbiAgYXJyb3dfZHJvcF9kb3duX2NpcmNsZTogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRpcmVjdGlvbiBpbnRlcmZhY2UgbmF2aWdhdGlvbiBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBhcnJvd19kcm9wX3VwOiBcImFwcGxpY2F0aW9uIGNvbXBvbmVudHMgZGlyZWN0aW9uIGludGVyZmFjZSBuYXZpZ2F0aW9uIHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFycm93X2ZvcndhcmQ6IFwiYXBwbGljYXRpb24gYXJyb3dzIGNvbXBvbmVudHMgZGlyZWN0aW9uIGludGVyZmFjZSBuYXZpZ2F0aW9uIHJpZ2h0IHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFycm93X2ZvcndhcmRfaW9zOiBcImFwcGxpY2F0aW9uIGNoZXZyb24gY29tcG9uZW50cyBkaXJlY3Rpb24gaW50ZXJmYWNlIG5hdmlnYXRpb24gbmV4dCByaWdodCBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBhcnJvd19sZWZ0OiBcImFwcGxpY2F0aW9uIGJhY2tzdGFjayBiYWNrd2FyZCBjb21wb25lbnRzIGRpcmVjdGlvbiBpbnRlcmZhY2UgbmF2aWdhdGlvbiBwcmV2aW91cyBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBhcnJvd19yaWdodDogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGNvbnRpbnVlIGRpcmVjdGlvbiBmb3J3YXJkIGludGVyZmFjZSBuYXZpZ2F0aW9uIHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFycm93X3JpZ2h0X2FsdDogXCJhcnJvd3MgZGlyZWN0aW9uIGVhc3QgbmF2aWdhdGlvbiBwb2ludGluZyBzaGFwZVwiLFxuICBhcnJvd191cHdhcmQ6IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBkaXJlY3Rpb24gaW50ZXJmYWNlIG5hdmlnYXRpb24gc2NyZWVuIHN1Ym1pdCB1aSB1eCB3ZWJzaXRlXCIsXG4gIGFydGljbGU6IFwiY2xhcmlmeSBkb2N1bWVudCBmaWxlIG5ld3MgcGFnZSBwYXBlciB0ZXh0IHdyaXRpbmdcIixcbiAgYXJ0X3RyYWNrOiBcImFsYnVtIGFydGlzdCBhdWRpbyBkaXNwbGF5IGZvcm1hdCBpbWFnZSBpbnNlcnQgbXVzaWMgcGhvdG9ncmFwaHkgcGljdHVyZSBzb3VuZCB0cmFja3NcIixcbiAgYXNwZWN0X3JhdGlvOiBcImV4cGFuZCBpbWFnZSBtb25pdG9yIHJlc2l6ZSByZXNvbHV0aW9uIHNjYWxlIHNjcmVlbiBzcXVhcmVcIixcbiAgYXNzZXNzbWVudDogXCJhbmFseXRpY3MgYmFycyBjaGFydCBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHJlcG9ydCBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGFzc2lnbm1lbnQ6IFwiYXJ0aWNsZSBjbGlwYm9hcmQgZG9jdW1lbnQgdGFzayB0ZXh0IHdyaXRpbmdcIixcbiAgYXNzaWdubWVudF9pbmQ6IFwiYWNjb3VudCBjbGlwYm9hcmQgZG9jdW1lbnQgZmFjZSBwZW9wbGUgcGVyc29uIHByb2ZpbGUgdGFzayB1c2VyXCIsXG4gIGFzc2lnbm1lbnRfbGF0ZTogXCIhIGFsZXJ0IGFubm91bmNlbWVudCBhdHRlbnRpb24gY2F1dGlvbiBjbGlwYm9hcmQgZGFuZ2VyIGRvY3VtZW50IGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBzeW1ib2wgdGFzayB3YXJuaW5nXCIsXG4gIGFzc2lnbm1lbnRfcmV0dXJuOiBcImFycm93IGJhY2sgY2xpcGJvYXJkIGRvY3VtZW50IGxlZnQgcG9pbnQgcmV0dW4gdGFza1wiLFxuICBhc3NpZ25tZW50X3JldHVybmVkOiBcImFycm93IGNsaXBib2FyZCBkb2N1bWVudCBkb3duIHBvaW50IHRhc2tcIixcbiAgYXNzaWdubWVudF90dXJuZWRfaW46IFwiYXBwcm92ZSBjaGVja21hcmsgY2xpcGJvYXJkIGNvbXBsZXRlIGRvY3VtZW50IGRvbmUgZmluaXNoZWQgb2sgc2VsZWN0IHRhc2sgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgYXNzaXN0YW50OiBcImJ1YmJsZSBjaGF0IGNvbW1lbnQgY29tbXVuaWNhdGUgZmVlZGJhY2sgbWVzc2FnZSByZWNvbW1lbmRhdGlvbiBzcGVlY2ggc3RhciBzdWdnZXN0aW9uIHR3aW5rbGVcIixcbiAgYXNzaXN0YW50X2RpcmVjdGlvbjogXCJkZXN0aW5hdGlvbiBsb2NhdGlvbiBtYXBzIG5hdmlnYXRlIG5hdmlnYXRpb24gcGluIHBsYWNlIHJpZ2h0IHN0b3BcIixcbiAgYXNzaXN0YW50X3Bob3RvOiBcImZsYWcgcmVjb21tZW5kYXRpb24gc21hcnQgc3RhciBzdWdnZXN0aW9uXCIsXG4gIGFzc3VyZWRfd29ya2xvYWQ6IFwiY29tcGxpYW5jZSBjb25maWRlbnRpYWwgZmVkZXJhbCBnb3Zlcm5tZW50IHJlZ3VsYXRvcnkgc2VjdXJlIHNlbnNpdGl2ZVwiLFxuICBhdG06IFwiYWxwaGFiZXQgYXV0b21hdGVkIGJpbGwgY2FyZCBjYXJ0IGNhc2ggY2hhcmFjdGVyIGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgZm9udCBsZXR0ZXIgbWFjaGluZSBtb25leSBvbmxpbmUgcGF5bWVudCBzaG9wcGluZyBzeW1ib2wgdGVsbGVyIHRleHQgdHlwZVwiLFxuICBhdHRhY2hfZW1haWw6IFwiYXR0YWNobWVudCBjbGlwIGNvbXBvc2UgZW52ZWxvcCBsZXR0ZXIgbGluayBtZXNzYWdlIHNlbmRcIixcbiAgYXR0YWNoX2ZpbGU6IFwiYWRkIGl0ZW0gbGluayBtYWlsIG1lZGlhIHBhcGVyY2xpcFwiLFxuICBhdHRhY2htZW50OiBcImNvbXBvc2UgZmlsZSBpbWFnZSBpdGVtIGxpbmsgcGFwZXJjbGlwXCIsXG4gIGF0dGFjaF9tb25leTogXCJiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgZmluYW5jZSBvbmxpbmUgcGF5bWVudCBwcmljZSBwcm9maXQgc2FsZSBzeW1ib2xcIixcbiAgYXR0cmFjdGlvbnM6IFwiYW11c2VtZW50IGVudGVydGFpbm1lbnQgZmVycmlzIGZ1biBtYXBzIHBhcmsgcGxhY2VzIHdoZWVsXCIsXG4gIGF0dHJpYnV0aW9uOiBcImF0dHJpYnV0ZSBib2R5IGNvcHlyaWdodCBjb3B5d3JpdGVyIGh1bWFuIHBlb3BsZSBwZXJzb25cIixcbiAgYXVkaW9fZmlsZTogXCJkb2N1bWVudCBrZXkgbXVzaWMgbm90ZSBzb3VuZCB0cmFja1wiLFxuICBhdWRpb3RyYWNrOiBcImtleSBtdXNpYyBub3RlIHNvdW5kXCIsXG4gIGF1dG9fYXdlc29tZTogXCJhZGp1c3QgZWRpdGluZyBlbmhhbmNlIGZpbHRlciBpbWFnZSBwaG90b2dyYXBoeSBwaG90b3Mgc2V0dGluZyBzdGFyc1wiLFxuICBhdXRvX2F3ZXNvbWVfbW9zYWljOiBcImFkanVzdCBjb2xsYWdlIGVkaXRpbmcgZW5oYW5jZSBmaWx0ZXIgZ3JpZCBpbWFnZSBsYXlvdXQgcGhvdG9ncmFwaHMgcGhvdG9ncmFwaHkgcGhvdG9zIHBpY3R1cmVzIHNldHRpbmdcIixcbiAgYXV0b19hd2Vzb21lX21vdGlvbjogXCJhZGp1c3QgYW5pbWF0aW9uIGNvbGxhZ2UgZWRpdGluZyBlbmhhbmNlIGZpbHRlciBpbWFnZSBsaXZlIHBob3RvZ3JhcGhzIHBob3RvZ3JhcGh5IHBob3RvcyBwaWN0dXJlcyBzZXR0aW5nIHZpZGVvXCIsXG4gIGF1dG9fZGVsZXRlOiBcImJpbiBjYW4gY2xvY2sgZGF0ZSBnYXJiYWdlIHJlbW92ZSBzY2hlZHVsZSB0aW1lIHRyYXNoXCIsXG4gIGF1dG9fZml4X2hpZ2g6IFwiYWRqdXN0IGVkaXRpbmcgZW5oYW5jZSBlcmFzZSBtYWdpYyBtb2RpZnkgcGVuIHN0YXJzIHRvb2wgd2FuZFwiLFxuICBhdXRvX2ZpeF9ub3JtYWw6IFwiZWRpdCBlcmFzZSBtYWdpYyBtb2RpZnkgc3RhcnMgd2FuZFwiLFxuICBhdXRvX2ZpeF9vZmY6IFwiZGlzYWJsZWQgZWRpdCBlbmFibGVkIGVyYXNlIG1hZ2ljIG1vZGlmeSBvbiBzbGFzaCBzdGFycyB3YW5kXCIsXG4gIGF1dG9mcHNfc2VsZWN0OiBcIkEgYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgZnJhbWUgZnJlcXVlbmN5IGxldHRlciBwZXIgcmF0ZSBzZWNvbmRzIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgYXV0b19ncmFwaDogXCJhbmFseXRpY3MgY2hhcnQgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIGxpbmUgbWVhc3VyZSBtZXRyaWNzIHN0YXJzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgYXV0b19tb2RlOiBcImFyb3VuZCBhcnJvd3MgZGlyZWN0aW9uIGlucHJvZ3Jlc3MgbG9hZGluZyBuYXZpZ2F0aW9uIG5lc3QgcmVmcmVzaCByZW5ldyByb3RhdGUgdHVyblwiLFxuICBhdXRvcmVuZXc6IFwiYXJvdW5kIGFycm93cyBjYWNoZWQgZGlyZWN0aW9uIGlucHJvZ3Jlc3MgbG9hZGVyIGxvYWRpbmcgbmF2aWdhdGlvbiBwZW5kaW5nIHJlZnJlc2ggcm90YXRlIHN0YXR1cyB0dXJuXCIsXG4gIGF1dG9fc3RvcmllczogXCJhdWRpb2Jvb2sgZmxpcHBpbmcgcGFnZXMgcmVhZGluZyBzdG9yeVwiLFxuICBhdl90aW1lcjogXCJjbG9jayBjb3VudGRvd24gZHVyYXRpb24gbWludXRlcyBzZWNvbmRzIHN0b3B3YXRjaFwiLFxuICBiYWJ5X2NoYW5naW5nX3N0YXRpb246IFwiYmFiaWVzIGJhdGhyb29tIGJvZHkgY2hpbGRyZW4gZmF0aGVyIGh1bWFuIGluZmFudCBraWRzIG1vdGhlciBuZXdib3JuIHBlb3BsZSBwZXJzb24gdG9kZGxlciB3YyB5b3VuZ1wiLFxuICBiYWNrcGFjazogXCJib29rYmFnIGtuYXBzYWNrIHN0b3JhZ2UgdHJhdmVsXCIsXG4gIGJhY2tzcGFjZTogXCJhcnJvdyBjYW5jZWwgY2xlYXIgY29ycmVjdCBkZWxldGUgZXJhc2UgcmVtb3ZlXCIsXG4gIGJhY2t1cDogXCJhcnJvdyBjbG91ZCBkYXRhIGRyaXZlIGZpbGVzIGZvbGRlcnMgcG9pbnQgc3RvcmFnZSBzdWJtaXQgdXBsb2FkXCIsXG4gIGJhY2t1cF90YWJsZTogXCJkcml2ZSBmaWxlcyBmb2xkZXJzIGZvcm1hdCBsYXlvdXQgc3RhY2sgc3RvcmFnZVwiLFxuICBiYWRnZTogXCJhY2NvdW50IGF2YXRhciBjYXJkIGNlcnRpZmllZCBlbXBsb3llZSBmYWNlIGh1bWFuIGlkZW50aWZpY2F0aW9uIG5hbWUgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHNlY3VyaXR5IHVzZXIgd29ya1wiLFxuICBiYWtlcnlfZGluaW5nOiBcImJyZWFkIGJyZWFrZmFzdCBicnVuY2ggY3JvaXNzYW50IGZvb2RcIixcbiAgYmFsYW5jZTogXCJlcXVhbCBlcXVpbGlicml1bSBlcXVpdHkgaW1wYXJ0aWFsaXR5IGp1c3RpY2UgcGFyaXR5IHN0YWJpbGl0eS4gc3RlYWRpbmVzcyBzeW1tZXRyeVwiLFxuICBiYWxjb255OiBcImFyY2hpdGVjdHVyZSBkb29ycyBlc3RhdGUgaG9tZSBob3VzZSBtYXBzIG91dHNpZGUgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc3RheSB0ZXJyYWNlIHdpbmRvd1wiLFxuICBiYWxsb3Q6IFwiYnVsbGV0IGJ1bGxsZXQgZWxlY3Rpb24gbGlzdCBwb2ludCBwb2xsIHZvdGVcIixcbiAgYmFyX2NoYXJ0OiBcImFuYWx5dGljcyBhbmx5dGljcyBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgYmF0Y2hfcHJlZGljdGlvbjogXCJidWxiIGlkZWEgbGlnaHRcIixcbiAgYmF0aHJvb206IFwiY2xvc2V0IGhvbWUgaG91c2UgcGxhY2UgcGx1bWJpbmcgc2hvd2VyIHNwcmlua2xlciB3YXNoIHdhdGVyIHdjXCIsXG4gIGJhdGh0dWI6IFwiYmF0aGluZyBiYXRocm9vbSBjbGVhbiBob21lIGhvdGVsIGh1bWFuIHBlcnNvbiBzaG93ZXIgdHJhdmVsXCIsXG4gIGJhdHRlcnlfYWxlcnQ6IFwiISBhdHRlbnRpb24gY2F1dGlvbiBjZWxsIGNoYXJnZSBkYW5nZXIgZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbW9iaWxlIG5vdGlmaWNhdGlvbiBwb3dlciBzeW1ib2wgd2FybmluZ1wiLFxuICBiYXR0ZXJ5X2NoYXJnaW5nX2Z1bGw6IFwiY2VsbCBjaGFyZ2UgbGlnaHRlbmluZyBsaWdodG5pbmcgbW9iaWxlIHBvd2VyIHRodW5kZXJib2x0XCIsXG4gIGJhdHRlcnlfZnVsbDogXCJjZWxsIGNoYXJnZSBtb2JpbGUgcG93ZXJcIixcbiAgYmF0dGVyeV9zYXZlcjogXCIrIGFkZCBjaGFyZ2UgY2hhcmdpbmcgbmV3IHBsdXMgcG93ZXIgc3ltYm9sXCIsXG4gIGJhdHRlcnlfc3RkOiBcImNlbGwgY2hhcmdlIG1vYmlsZSBwbHVzIHBvd2VyIHN0YW5kYXJkXCIsXG4gIGJhdHRlcnlfdW5rbm93bjogXCI/IGFzc2lzdGFuY2UgY2VsbCBjaGFyZ2UgaGVscCBpbmZvcm1hdGlvbiBtYXJrIG1vYmlsZSBwb3dlciBwdW5jdHVhdGlvbiBxdWVzdGlvbiBzdXBwb3J0IHN5bWJvbFwiLFxuICBiZWFjaF9hY2Nlc3M6IFwicGFyYXNvbCBwbGFjZXMgc3VtbWVyIHN1bm55IHVtYnJlbGxhXCIsXG4gIGJlZDogXCJiZWRyb29tIGRvdWJsZSBmdWxsIGZ1cm5pdHVyZSBob21lIGhvdGVsIGhvdXNlIGtpbmcgbmlnaHQgcGlsbG93cyBxdWVlbiByZXN0IHNpemUgc2xlZXBcIixcbiAgYmVkcm9vbV9iYWJ5OiBcImJhYmllcyBjaGlsZHJlbiBob21lIGhvcnNlIGhvdXNlIGluZmFudCBraWQgbmV3Ym9ybiByb2NraW5nIHRvZGRsZXIgeW91bmdcIixcbiAgYmVkcm9vbV9jaGlsZDogXCJjaGlsZHJlbiBmdXJuaXR1cmUgaG9tZSBob3RlbCBob3VzZSBraWQgbmlnaHQgcGlsbG93cyByZXN0IHNpemUgc2xlZXAgdHdpbiB5b3VuZ1wiLFxuICBiZWRyb29tX3BhcmVudDogXCJkb3VibGUgZnVsbCBmdXJuaXR1cmUgaG9tZSBob3RlbCBob3VzZSBraW5nIG1hc3RlciBuaWdodCBwaWxsb3dzIHF1ZWVuIHJlc3Qgc2l6ZW0gc2xlZXBcIixcbiAgYmVkdGltZTogXCJuaWdodGltZSBzbGVlcFwiLFxuICBiZWR0aW1lX29mZjogXCJuaWdodGltZSBzbGVlcFwiLFxuICBiZWVuaGVyZTogXCJhcHByb3ZlIGFyY2hpdmUgYm9va21hcmsgY2hlY2ttYXJrIGNvbXBsZXRlIGRvbmUgZmF2b3JpdGUgbGFiZWwgbGlicmFyeSByZWFkaW5nIHJlbWVtYmVyIHJpYmJvbiBzYXZlIHNlbGVjdCB0YWcgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgYmVudG86IFwiYm94IGRpbm5lciBmb29kIGx1bmNoIG1lYWwgcmVzdGF1cmFudCB0YWtlb3V0XCIsXG4gIGJpa2Vfc2Nvb3RlcjogXCJhdXRvbW9iaWxlIGNhcnMgbWFwcyB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlIHZlc3BhXCIsXG4gIGJpb3RlY2g6IFwiY2hlbWlzdHJ5IGxhYm9yYXRvcnkgbWljcm9zY29wZSByZXNlYXJjaCBzY2llbmNlIHRlY2hub2xvZ3kgdGVzdFwiLFxuICBibGVuZGVyOiBcImFwcGxpYW5jZSBjb29raW5nIGVsZWN0cmljIGp1aWNlciBraXRjaGVuIG1hY2hpbmUgdml0YW1peFwiLFxuICBibGluZHNfY2xvc2VkOiBcImNvdmVyIGN1cnRhaW5zIG5lc3Qgc2h1dHRlciBzdW5zaGFkZVwiLFxuICBibG9jazogXCJhbGxvd2VkIGF2b2lkIGJhbm5lZCBjYW5jZWwgY2xvc2UgZGlzYWJsZSBlbnRyeSBleGl0IG5vdCBwcm9oaWJpdGVkIHF1aXQgcmVtb3ZlIHN0b3BcIixcbiAgYmxvb2R0eXBlOiBcImRvbmF0ZSBkcm9wbGV0IGVtZXJnZW5jeSBob3NwaXRhbCBtZWRpY2luZSBuZWdhdGl2ZSBwb3NpdGl2ZSB3YXRlclwiLFxuICBibHVldG9vdGg6IFwiY2FzdCBjb25uZWN0aW9uIGRldmljZSBuZXR3b3JrIHBhcmluZyBzdHJlYW1pbmcgc3ltYm9sIHdpcmVsZXNzXCIsXG4gIGJsdWV0b290aF9hdWRpbzogXCJjb25uZWN0aW9uIGRldmljZSBtdXNpYyBzaWduYWwgc291bmQgc3ltYm9sXCIsXG4gIGJsdWV0b290aF9jb25uZWN0ZWQ6IFwiY2FzdCBjb25uZWN0aW9uIGRldmljZSBuZXR3b3JrIHBhcmluZyBzdHJlYW1pbmcgc3ltYm9sIHdpcmVsZXNzXCIsXG4gIGJsdWV0b290aF9kaXNhYmxlZDogXCJjYXN0IGNvbm5lY3Rpb24gZGV2aWNlIGVuYWJsZWQgbmV0d29yayBvZmZsaW5lIHBhcmluZyBzbGFzaCBzdHJlYW1pbmcgc3ltYm9sIHdpcmVsZXNzXCIsXG4gIGJsdWV0b290aF9kcml2ZTogXCJhdXRvbW9iaWxlIGNhcnMgY2FzdCBjb25uZWN0aW9uIGRldmljZSBtYXBzIHBhcmluZyBzdHJlYW1pbmcgc3ltYm9sIHRyYW5zcG9ydGF0aW9uIHRyYXZlbCB2ZWhpY2xlIHdpcmVsZXNzXCIsXG4gIGJsdWV0b290aF9zZWFyY2hpbmc6IFwiY29ubmVjdGlvbiBkZXZpY2UgbmV0d29yayBwYXJpbmcgc3ltYm9sIHdpcmVsZXNzXCIsXG4gIGJsdXJfY2lyY3VsYXI6IFwiY2lyY2xlIGRvdHMgZWRpdGluZyBlZmZlY3QgZW5oYW5jZSBmaWx0ZXJcIixcbiAgYmx1cl9saW5lYXI6IFwiZG90cyBlZGl0aW5nIGVmZmVjdCBlbmhhbmNlIGZpbHRlclwiLFxuICBibHVyX29mZjogXCJkaXNhYmxlZCBkb3RzIGVkaXRpbmcgZWZmZWN0IGVuYWJsZWQgZW5oYW5jZSBvbiBzbGFzaFwiLFxuICBibHVyX29uOiBcImRpc2FibGVkIGRvdHMgZWRpdGluZyBlZmZlY3QgZW5hYmxlZCBlbmhhbmNlIGZpbHRlciBvZmYgc2xhc2hcIixcbiAgYm9sdDogXCJlbGVjdHJpYyBlbmVyZ3kgZmFzdCBmbGFzaCBsaWdodG5pbmcgcG93ZXIgdGh1bmRlcmJvbHRcIixcbiAgYm9vazogXCJibG9nIGJvb2ttYXJrIGZhdm9yaXRlIGxhYmVsIGxpYnJhcnkgcmVhZGluZyByZW1lbWJlciByaWJib24gc2F2ZSB0YWdcIixcbiAgYm9va21hcms6IFwiYXJjaGl2ZSBmYXZvcml0ZSBmb2xsb3cgbGFiZWwgbGlicmFyeSByZWFkaW5nIHJlbWVtYmVyIHJpYmJvbiBzYXZlIHRhZ1wiLFxuICBib29rbWFya19hZGQ6IFwiKyBmYXZvcml0ZSBwbHVzIHJlbWVtYmVyIHJpYmJvbiBzYXZlIHN5bWJvbFwiLFxuICBib29rbWFya19hZGRlZDogXCJhcHByb3ZlIGNoZWNrIGNvbXBsZXRlIGRvbmUgZmF2b3JpdGUgcmVtZW1iZXIgc2F2ZSBzZWxlY3QgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgYm9va21hcmtfYm9yZGVyOiBcImFyY2hpdmUgZmF2b3JpdGUgbGFiZWwgbGlicmFyeSBvdXRsaW5lIHJlYWRpbmcgcmVtZW1iZXIgcmliYm9uIHNhdmUgdGFnXCIsXG4gIGJvb2ttYXJrX3JlbW92ZTogXCJkZWxldGUgZmF2b3JpdGUgbWludXMgcmVtZW1iZXIgcmliYm9uIHNhdmUgc3VidHJhY3RcIixcbiAgYm9va21hcmtzOiBcImZhdm9yaXRlIGxhYmVsIGxheWVycyBsaWJyYXJ5IG11bHRpcGxlIHJlYWRpbmcgcmVtZW1iZXIgcmliYm9uIHNhdmUgc3RhY2sgdGFnXCIsXG4gIGJvb2tfb25saW5lOiBcIkFuZHJvaWQgYWRtaXNzaW9uIGFwcG9pbnRtZW50IGNlbGwgZGV2aWNlIGV2ZW50IGhhcmR3YXJlIGlPUyBtb2JpbGUgcGFzcyBwaG9uZSByZXNlcnZhdGlvbiB0YWJsZXQgdGlja2V0XCIsXG4gIGJvcmRlcl9hbGw6IFwiZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHN0cm9rZSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBib3JkZXJfYm90dG9tOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm9yZGVyX2NsZWFyOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm9yZGVyX2NvbG9yOiBcImFsbCBjcmVhdGUgZG9jIGVkaXRpbmcgZWRpdG9yIG1hcmtlciBwZW5jaWwgc3ByZWFkc2hlZXQgc3Ryb2tlIHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIGJvcmRlcl9ob3Jpem9udGFsOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm9yZGVyX2lubmVyOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm9yZGVyX2xlZnQ6IFwiZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHN0cm9rZSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBib3JkZXJfb3V0ZXI6IFwiZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHN0cm9rZSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBib3JkZXJfcmlnaHQ6IFwiZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHN0cm9rZSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBib3JkZXJfc3R5bGU6IFwiY29sb3IgZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHN0cm9rZSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBib3JkZXJfdG9wOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm9yZGVyX3ZlcnRpY2FsOiBcImRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCBzdHJva2UgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgYm95OiBcImJvZHkgZ2VuZGVyIGh1bWFuIG1hbGUgcGVvcGxlIHBlcnNvbiBzb2NpYWwgc3ltYm9sXCIsXG4gIGJyYW5kaW5nX3dhdGVybWFyazogXCJjb21wb25lbnRzIGNvcHlyaWdodCBkZXNpZ24gZW1ibGVtIGZvcm1hdCBpZGVudGl0eSBpbnRlcmZhY2UgbGF5b3V0IGxvZ28gc2NyZWVuIHN0YW1wIHVpIHV4IHdlYnNpdGUgd2luZG93XCIsXG4gIGJyZWFrZmFzdF9kaW5pbmc6IFwiYmFrZXJ5IGJyZWFkIGJ1dHRlciBmb29kIHRvYXN0XCIsXG4gIGJyaWdodG5lc3NfMTogXCJjaXJjbGUgY29udHJvbCBjcmVzY2VudCBjcmVzZW50IGxldmVsIG1vb24gc2NyZWVuXCIsXG4gIGJyaWdodG5lc3NfMjogXCJjaXJjbGUgY29udHJvbCBjcmVzY2VudCBjcmVzZW50IGxldmVsIG1vb24gbmlnaHQgc2NyZWVuXCIsXG4gIGJyaWdodG5lc3NfMzogXCJjaXJjbGUgY29udHJvbCBjcmVzY2VudCBjcmVzZW50IGxldmVsIG1vb24gbmlnaHQgc2NyZWVuXCIsXG4gIGJyaWdodG5lc3NfNDogXCJjaXJjbGUgY29udHJvbCBjcmVzY2VudCBjcmVzZW50IGRhcmsgbGV2ZWwgbW9vbiBuaWdodCBzY3JlZW4gc3VuXCIsXG4gIGJyaWdodG5lc3NfNTogXCJjaXJjbGUgY29udHJvbCBjcmVzY2VudCBjcmVzZW50IGxldmVsIG1vb24gc2NyZWVuIHN1blwiLFxuICBicmlnaHRuZXNzXzY6IFwiY2lyY2xlIGNvbnRyb2wgY3Jlc2NlbnQgY3Jlc2VudCBsZXZlbCBtb29uIHNjcmVlbiBzdW5cIixcbiAgYnJpZ2h0bmVzc183OiBcImNpcmNsZSBjb250cm9sIGNyZXNjZW50IGNyZXNlbnQgbGV2ZWwgbGlnaHQgbW9vbiBzY3JlZW4gc3VuXCIsXG4gIGJyaWdodG5lc3NfYXV0bzogXCJBIGNvbnRyb2wgZGlzcGxheSBsZXZlbCBtb2JpbGUgbW9uaXRvciBwaG9uZSBzY3JlZW5cIixcbiAgYnJpZ2h0bmVzc19oaWdoOiBcImF1dG8gY29udHJvbCBtb2JpbGUgbW9uaXRvciBwaG9uZVwiLFxuICBicmlnaHRuZXNzX2xvdzogXCJhdXRvIGNvbnRyb2wgbW9iaWxlIG1vbml0b3IgcGhvbmVcIixcbiAgYnJpZ2h0bmVzc19tZWRpdW06IFwiYXV0byBjb250cm9sIG1vYmlsZSBtb25pdG9yIHBob25lXCIsXG4gIGJyb2tlbl9pbWFnZTogXCJjb3JydXB0IGVycm9yIGxhbmRzY2FwZSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZSB0b3JuXCIsXG4gIGJyb3dzZXJfbm90X3N1cHBvcnRlZDogXCJkaXNhYmxlZCBlbmFibGVkIGludGVybmV0IG9mZiBvbiBwYWdlIHNjcmVlbiBzbGFzaCB3ZWJzaXRlIHd3d1wiLFxuICBicm93c2VyX3VwZGF0ZWQ6IFwiQW5kcm9pZCBhcnJvdyBjaHJvbWUgZGVza3RvcCBkZXZpY2UgZGlzcGxheSBkb3dubG9hZCBoYXJkd2FyZSBpT1MgbWFjIG1vbml0b3Igc2NyZWVuIHdlYiB3aW5kb3dcIixcbiAgYnJ1bmNoX2RpbmluZzogXCJicmVha2Zhc3QgY2hhbXBhZ25lIGNoYW1wYWlnbiBkcmluayBmb29kIGx1bmNoIG1lYWxcIixcbiAgYnJ1c2g6IFwiYXJ0IGRlc2lnbiBkcmF3IGVkaXRpbmcgcGFpbnRpbmcgdG9vbFwiLFxuICBidWJibGVfY2hhcnQ6IFwiYW5hbHl0aWNzIGJhcnMgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGJ1Z19yZXBvcnQ6IFwiYW5pbWFsIGZpbGUgZml4IGluc2VjdCBpc3N1ZSBwcm9ibGVtIHRlc3RpbmcgdGlja2V0IHZpcnVzIHdhcm5pbmdcIixcbiAgYnVpbGQ6IFwiYWRqdXN0IGZpeCByZXBhaXIgc3Bhbm5lciB0b29sIHdyZW5jaFwiLFxuICBidWlsZF9jaXJjbGU6IFwiYWRqdXN0IGZpeCByZXBhaXIgdG9vbCB3cmVuY2hcIixcbiAgYnVuZ2Fsb3c6IFwiYXJjaGl0ZWN0dXJlIGNvdHRhZ2UgZXN0YXRlIGhvbWUgaG91c2UgbWFwcyBwbGFjZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzdGF5IHRyYXZlbGluZ1wiLFxuICBidXJzdF9tb2RlOiBcImltYWdlIGxhbmRzY2FwZSBtb3VudGFpbnMgbXVsdGlwbGUgcGhvdG9ncmFwaHkgcGljdHVyZVwiLFxuICBidXNfYWxlcnQ6IFwiISBhdHRlbnRpb24gYXV0b21vYmlsZSBjYXJzIGNhdXRpb24gZGFuZ2VyIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXBzIG1hcmsgbm90aWZpY2F0aW9uIHN5bWJvbCB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlIHdhcm5pbmdcIixcbiAgYnVzaW5lc3M6IFwiYWRkcmVzcyBhcGFydG1lbnQgYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGNvbXBhbnkgZXN0YXRlIGZsYXQgaG9tZSBvZmZpY2UgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlciBzdHJ1Y3R1cmVcIixcbiAgYnVzaW5lc3NfY2VudGVyOiBcImJhZ2dhZ2UgYnJpZWZjYXNlIHBsYWNlcyBwdXJzZSBzdWl0Y2FzZSB3b3JrXCIsXG4gIGNhYmluOiBcImFyY2hpdGVjdHVyZSBjYW1waW5nIGNvdHRhZ2UgZXN0YXRlIGhvbWUgaG91c2UgbG9nIG1hcHMgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc3RheSB0cmF2ZWxpbmcgd29vZFwiLFxuICBjYWJsZTogXCJjb25uZWN0aW9uIGRldmljZSBlbGVjdHJvbmljcyB1c2Igd2lyZVwiLFxuICBjYWNoZWQ6IFwiYXJvdW5kIGFycm93cyBpbnByb2dyZXNzIGxvYWRlciBsb2FkaW5nIHJlZnJlc2ggcmVsb2FkIHJlbmV3IHJvdGF0ZVwiLFxuICBjYWtlOiBcImJha2VkIGJpcnRoZGF5IGNhbmRsZXMgY2VsZWJyYXRpb24gZGVzc2VydCBmb29kIGZyb3N0aW5nIHBhcnR5IHBhc3RyaWVzIHBhc3RyeSBwaWUgc29jaWFsIHN3ZWV0XCIsXG4gIGNhbGN1bGF0ZTogXCIrIC0gPSBjYWxjdWxhdG9yIGNvdW50IGZpbmFuY2UgbWF0aFwiLFxuICBjYWxlbmRhcl90b2RheTogXCJkYXRlIGV2ZW50IG1vbnRoIHJlbWVtYmVyIHJlbWluZGVyIHNjaGVkdWxlIHdlZWtcIixcbiAgY2FsZW5kYXJfdmlld19kYXk6IFwiZGF0ZSBldmVudCBmb3JtYXQgZ3JpZCBsYXlvdXQgbW9udGggcmVtZW1iZXIgcmVtaW5kZXIgc2NoZWR1bGUgdG9kYXkgd2Vla1wiLFxuICBjYWxlbmRhcl92aWV3X21vbnRoOiBcImRhdGUgZXZlbnQgZm9ybWF0IGdyaWQgbGF5b3V0IHNjaGVkdWxlIHRvZGF5XCIsXG4gIGNhbGVuZGFyX3ZpZXdfd2VlazogXCJkYXRlIGV2ZW50IGZvcm1hdCBncmlkIGxheW91dCBtb250aCBzY2hlZHVsZSB0b2RheVwiLFxuICBjYWxsOiBcImNlbGwgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHRhbGsgdGVsZXBob25lXCIsXG4gIGNhbGxfZW5kOiBcImNlbGwgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHRhbGsgdGVsZXBob25lXCIsXG4gIGNhbGxfbWFkZTogXCJhcnJvdyBkZXZpY2UgbW9iaWxlXCIsXG4gIGNhbGxfbWVyZ2U6IFwiYXJyb3cgZGV2aWNlIG1vYmlsZVwiLFxuICBjYWxsX21pc3NlZDogXCJhcnJvdyBkZXZpY2UgbW9iaWxlXCIsXG4gIGNhbGxfbWlzc2VkX291dGdvaW5nOiBcImFycm93IGRldmljZSBtb2JpbGVcIixcbiAgY2FsbF9yZWNlaXZlZDogXCJhcnJvdyBkZXZpY2UgbW9iaWxlXCIsXG4gIGNhbGxfc3BsaXQ6IFwiYXJyb3cgZGV2aWNlIG1vYmlsZVwiLFxuICBjYWxsX3RvX2FjdGlvbjogXCJhbGVydCBiYXIgY29tcG9uZW50cyBjdGEgZGVzaWduIGluZm9ybWF0aW9uIGludGVyZmFjZSBsYXlvdXQgbWVzc2FnZSBub3RpZmljYXRpb24gc2NyZWVuIHVpIHV4IHdlYnNpdGUgd2luZG93XCIsXG4gIGNhbWVyYTogXCJhbGJ1bSBhcGVydHVyZSBsZW5zIHBob3RvZ3JhcGh5IHBpY3R1cmUgcmVjb3JkIHNjcmVlbnNob3Qgc2h1dHRlclwiLFxuICBjYW1lcmFfYWx0OiBcImltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgY2FtZXJhX2VuaGFuY2U6IFwiaW1wb3J0YW50IGxlbnMgcGhvdG9ncmFwaHkgcGljdHVyZSBxdWFsaXR5IHNwZWNpYWwgc3RhclwiLFxuICBjYW1lcmFfZnJvbnQ6IFwiYm9keSBodW1hbiBsZW5zIG1vYmlsZSBwZXJzb24gcGhvbmUgcGhvdG9ncmFwaHkgcG9ydHJhaXQgc2VsZmllXCIsXG4gIGNhbWVyYV9pbmRvb3I6IFwiYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGVzdGF0ZSBmaWxtaW5nIGhvbWUgaG91c2UgaW1hZ2UgaW5zaWRlIG1vdGlvbiBuZXN0IHBpY3R1cmUgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlciB2aWRlb2dyYXBoeVwiLFxuICBjYW1lcmFfb3V0ZG9vcjogXCJhcmNoaXRlY3R1cmUgYnVpbGRpbmcgZXN0YXRlIGZpbG1pbmcgaG9tZSBob3VzZSBpbWFnZSBtb3Rpb24gbmVzdCBvdXRzaWRlIHBpY3R1cmUgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlciB2aWRlb2dyYXBoeVwiLFxuICBjYW1lcmFfcmVhcjogXCJmcm9udCBsZW5zIG1vYmlsZSBwaG9uZSBwaG90b2dyYXBoeSBwaWN0dXJlIHBvcnRyYWl0IHNlbGZpZVwiLFxuICBjYW1lcmFfcm9sbDogXCJmaWxtIGltYWdlIGxpYnJhcnkgcGhvdG9ncmFwaHlcIixcbiAgY2FtZXJhc3dpdGNoOiBcImFycm93cyBmbGlwIHJvdGF0ZSBzd2FwIHZpZXdcIixcbiAgY2FtcGFpZ246IFwiYWxlcnQgYW5ub3VuY2VtZW50IGxvdWQgbWVnYXBob25lIG1pY3JvcGhvbmUgbm90aWZpY2F0aW9uIHNwZWFrZXJcIixcbiAgY2FuY2VsOiBcImNpcmNsZSBjbG9zZSBjcm9zcyBkaXNhYmxlIGV4aXQgc3RhdHVzIHN0b3BcIixcbiAgY2FuY2VsX3ByZXNlbnRhdGlvbjogXCJjbG9zZSBkZXZpY2UgZXhpdCBubyBxdWl0IHJlbW92ZSBzY3JlZW4gc2hhcmUgc2xpZGUgc3RvcCB3ZWJzaXRlIHdpbmRvd1wiLFxuICBjYW5jZWxfc2NoZWR1bGVfc2VuZDogXCJlbWFpbCBubyBxdWl0IHJlbW92ZSBzaGFyZSBzdG9wIHhcIixcbiAgY2FuZGxlc3RpY2tfY2hhcnQ6IFwiYW5hbHl0aWNzIGRhdGEgZGlhZ3JhbSBmaW5hbmNlIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGNhcmRfZ2lmdGNhcmQ6IFwiYWNjb3VudCBiYWxhbmNlIGJpbGwgY2FydCBjYXNoIGNlcnRpZmljYXRlIGNvaW4gY29tbWVyY2UgY3JlZGl0Y2FyZCBjdXJyZW5jeSBkb2xsYXJzIG1vbmV5IG9ubGluZSBwYXltZW50IHByZXNlbnQgc2hvcHBpbmdcIixcbiAgY2FyZF9tZW1iZXJzaGlwOiBcImJpbGwgYm9va21hcmsgY2FzaCBjZXJ0aWZpY2F0ZSBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0Y2FyZCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgbG95YWx0eSBtb25leSBvbmxpbmUgcGF5bWVudCBzaG9wcGluZyBzdWJzY3JpcHRpb25cIixcbiAgY2FyZF90cmF2ZWw6IFwiYmlsbCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXRjYXJkIGN1cnJlbmN5IGRvbGxhcnMgZmluYW5jZSBtZW1iZXJzaGlwIG1pbGVzIG1vbmV5IG9ubGluZSBwYXltZW50IHRyaXBcIixcbiAgY2FycGVudGVyOiBcImJ1aWxkaW5nIGNvbnN0cnVjdGlvbiBjdXR0aW5nIGhhbmR5bWFuIHJlcGFpciBzYXcgdG9vbFwiLFxuICBjYXJfcmVudGFsOiBcImF1dG9tb2JpbGUgY2FycyBrZXkgbWFwcyB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlXCIsXG4gIGNhcl9yZXBhaXI6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBjYXNlczogXCJiYWdnYWdlIGJyaWVmY2FzZSBidXNpbmVzcyBwdXJzZSBzdWl0Y2FzZVwiLFxuICBjYXNpbm86IFwiZGljZSBkb3RzIGVudGVydGFpbm1lbnQgZ2FtYmxlIGdhbWJsaW5nIGdhbWVzIGx1Y2sgcGxhY2VzXCIsXG4gIGNhc3Q6IFwiQW5kcm9pZCBhaXJwbGF5IGNocm9tZWNhc3QgY29ubmVjdCBkZXNrdG9wIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBzY3JlZW5jYXN0IHN0cmVhbWluZyB0ZWxldmlzaW9uIHR2IHdlYiB3aW5kb3cgd2lyZWxlc3NcIixcbiAgY2FzdF9jb25uZWN0ZWQ6IFwiQW5kcm9pZCBhaXJwbGF5IGNocm9tZWNhc3QgZGVza3RvcCBkZXZpY2UgZGlzcGxheSBoYXJkd2FyZSBpT1MgbWFjIG1vbml0b3Igc2NyZWVuY2FzdCBzdHJlYW1pbmcgdGVsZXZpc2lvbiB0diB3ZWIgd2luZG93IHdpcmVsZXNzXCIsXG4gIGNhc3RfZm9yX2VkdWNhdGlvbjogXCJBbmRyb2lkIGFpcnBsYXkgY2hyb21lIGNvbm5lY3QgZGVza3RvcCBkZXZpY2UgZGlzcGxheSBoYXJkd2FyZSBpT1MgbGVhcm5pbmcgbGVzc29ucyBtYWMgbW9uaXRvciBzY3JlZW5jYXN0IHN0cmVhbWluZyB0ZWFjaGluZyB0ZWxldmlzaW9uIHR2IHdlYiB3aW5kb3cgd2lyZWxlc3NcIixcbiAgY2F0ZWdvcnk6IFwiY2F0ZWdvcmllcyBjaXJjbGUgY29sbGVjdGlvbiBpdGVtcyBwcm9kdWN0IHNvcnQgc3F1YXJlIHRyaWFuZ2xlXCIsXG4gIGNlbGVicmF0aW9uOiBcImFjdGl2aXR5IGJpcnRoZGF5IGV2ZW50IGZ1biBwYXJ0eVwiLFxuICBjZWxsX3Rvd2VyOiBcImJyb2FkY2FzdCBjYXN0aW5nIG5ldHdvcmsgc2lnbmFsIHRyYW5zbWl0dGluZyB3aXJlbGVzc1wiLFxuICBjZWxsX3dpZmk6IFwiY29ubmVjdGlvbiBkYXRhIGludGVybmV0IG1vYmlsZSBuZXR3b3JrIHBob25lIHNlcnZpY2Ugc2lnbmFsIHdpcmVsZXNzXCIsXG4gIGNlbnRlcl9mb2N1c19zdHJvbmc6IFwiY2FtZXJhIGltYWdlIGxlbnMgcGhvdG9ncmFwaHkgem9vbVwiLFxuICBjZW50ZXJfZm9jdXNfd2VhazogXCJjYW1lcmEgaW1hZ2UgbGVucyBwaG90b2dyYXBoeSB6b29tXCIsXG4gIGNoYWlyOiBcImNvbWZvcnQgY291Y2ggZGVjb3JhdGlvbiBmdXJuaXR1cmUgaG9tZSBob3VzZSBsaXZpbmcgbG91bmdpbmcgbG92ZXNlYXQgcm9vbSBzZWF0aW5nIHNvZmFcIixcbiAgY2hhaXJfYWx0OiBcImNhaGlyIGZ1cm5pdHVyZSBob21lIGhvdXNlIGtpdGNoZW4gbG91bmdpbmcgc2VhdGluZyB0YWJsZVwiLFxuICBjaGFsZXQ6IFwiYXJjaGl0ZWN0dXJlIGNvdHRhZ2UgZXN0YXRlIGhvbWUgaG91c2UgbWFwcyBwbGFjZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzdGF5IHRyYXZlbGluZ1wiLFxuICBjaGFuZ2VfY2lyY2xlOiBcImFyb3VuZCBhcnJvd3MgZGlyZWN0aW9uIG5hdmlnYXRpb24gcm90YXRlXCIsXG4gIGNoYW5nZV9oaXN0b3J5OiBcInNoYXBlIHRyaWFuZ2xlXCIsXG4gIGNoYXJnaW5nX3N0YXRpb246IFwiQW5kcm9pZCBiYXR0ZXJ5IGNlbGwgZGV2aWNlIGVsZWN0cmljIGhhcmR3YXJlIGlPUyBsaWdodG5pbmcgbW9iaWxlIHBob25lIHRhYmxldCB0aHVuZGVyYm9sdFwiLFxuICBjaGF0OiBcImJ1YmJsZSBjb21tZW50IGNvbW11bmljYXRlIGZlZWRiYWNrIG1lc3NhZ2Ugc3BlZWNoIHRhbGsgdGV4dFwiLFxuICBjaGF0X2J1YmJsZTogXCJjb21tZW50IGNvbW11bmljYXRlIGZlZWRiYWNrIG1lc3NhZ2Ugc3BlZWNoIHRhbGsgdGV4dFwiLFxuICBjaGF0X2J1YmJsZV9vdXRsaW5lOiBcImNvbW1lbnQgY29tbXVuaWNhdGUgZmVlZGJhY2sgbWVzc2FnZSBzcGVlY2ggdGFsayB0ZXh0XCIsXG4gIGNoZWNrOiBcImNoZWNrbWFyayBjb21wbGV0ZSBjb25maXJtIGNvcnJlY3QgZG9uZSBlbnRlciBva2F5IHB1cmNoYXNlZCBzZWxlY3Qgc3VjY2VzcyB0aWNrIHllc1wiLFxuICBjaGVja19ib3g6IFwiYXBwcm92ZWQgYnV0dG9uIGNoZWNrbWFyayBjb21wb25lbnQgY29udHJvbCBmb3JtIG9rIHNlbGVjdGVkIHNlbGVjdGlvbiBzcXVhcmUgc3VjY2VzcyB0aWNrIHRvZ2dsZSB1aSB5ZXNcIixcbiAgY2hlY2tfYm94X291dGxpbmVfYmxhbms6IFwiYnV0dG9uIGNoZWNrbWFyayBjb21wb25lbnQgY29udHJvbCBkZXNlbGVjdGVkIGVtcHR5IGZvcm0gc2VsZWN0aW9uIHNxdWFyZSB0aWNrIHRvZ2dsZSB1aVwiLFxuICBjaGVja19jaXJjbGU6IFwiYXBwcm92ZSBjaGVja21hcmsgY29tcGxldGUgZG9uZSBkb3dubG9hZCBmaW5pc2hlZCBvayBzZWxlY3Qgc3VjY2VzcyB0aWNrIHVwbG9hZCB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgY2hlY2tfY2lyY2xlX291dGxpbmU6IFwiYXBwcm92ZSBjaGVja21hcmsgY29tcGxldGUgZG9uZSBmaW5pc2hlZCBvayBzZWxlY3Qgc3VjY2VzcyB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBjaGVja3Jvb206IFwiY2hlY2sgY2xvc2V0IGNsb3RoZXMgY29hdCBoYW5nZXJcIixcbiAgY2hldnJvbl9sZWZ0OiBcImFycm93cyBiYWNrIGRpcmVjdGlvbiB0cmlhbmdsZVwiLFxuICBjaGV2cm9uX3JpZ2h0OiBcImFycm93cyBkaXJlY3Rpb24gZm9yd2FyZCB0cmlhbmdsZVwiLFxuICBjaGlsZF9jYXJlOiBcImJhYmllcyBiYWJ5IGNoaWxkcmVuIGZhY2UgaW5mYW50IGtpZHMgbmV3Ym9ybiB0b2RkbGVyIHlvdW5nXCIsXG4gIGNoaWxkX2ZyaWVuZGx5OiBcImJhYnkgY2FyZSBjYXJyaWFnZSBjaGlsZHJlbiBpbmZhbnQga2lkIG5ld2Jvcm4gc3Ryb2xsZXIgdG9kZGxlciB5b3VuZ1wiLFxuICBjaHJvbWVfcmVhZGVyX21vZGU6IFwidGV4dFwiLFxuICBjaXJjbGU6IFwiYnVsbGV0IGJ1dHRvbiBkb3QgZnVsbCBnZW9tZXRyeSBtb29uIHBlcmlvZCByYWRpb1wiLFxuICBjaXJjbGVfbm90aWZpY2F0aW9uczogXCJhY3RpdmUgYWxhcm0gYWxlcnQgYmVsbCBjaGltZSBub3RpZnkgcmVtaW5kZXIgcmluZyBzb3VuZFwiLFxuICBjbGFzczogXCJhcmNoaXZlIGJvb2ttYXJrIGNhdGVnb3J5IGZhdm9yaXRlIGl0ZW0gbGFiZWwgbGlicmFyeSByZWFkaW5nIHJlbWVtYmVyIHJpYmJvbiBzYXZlIHRhZ1wiLFxuICBjbGVhbl9oYW5kczogXCJiYWN0ZXJpYSBkaXNpbmZlY3QgZ2VybXMgZ2VzdHVyZSBzYW5pdGl6ZXJcIixcbiAgY2xlYW5pbmdfc2VydmljZXM6IFwiZHVzdCBzd2VlcFwiLFxuICBjbGVhcjogXCJhbGxvd2VkIGJhY2sgY2FuY2VsIGNvcnJlY3QgY3Jvc3MgZGVsZXRlIGRpc2FibGUgZXJhc2UgZXhpdCBub3QgdGltZXNcIixcbiAgY2xlYXJfYWxsOiBcImRlbGV0ZSBkb2N1bWVudCBlcmFzZSBmb3JtYXQgbGluZXMgbGlzdCBub3RpZmljYXRpb25zIHdpcGVcIixcbiAgY2xvc2U6IFwiYWxsb3dlZCBjYW5jZWwgY3Jvc3MgZGlzYWJsZSBleGl0IG5vdCBzdGF0dXMgc3RvcCB0aW1lc1wiLFxuICBjbG9zZWRfY2FwdGlvbjogXCJhY2Nlc3NpYmxlIGFscGhhYmV0IGNoYXJhY3RlciBkZWNvZGVyIGZvbnQgbGFuZ3VhZ2UgbGV0dGVyIG1lZGlhIG1vdmllcyBzdWJ0aXRsZXMgc3ltYm9sIHRleHQgdHYgdHlwZVwiLFxuICBjbG9zZWRfY2FwdGlvbl9kaXNhYmxlZDogXCJhY2Nlc3NpYmxlIGFscGhhYmV0IGNoYXJhY3RlciBkZWNvZGVyIGVuYWJsZWQgZm9udCBsYW5ndWFnZSBsZXR0ZXIgbWVkaWEgbW92aWVzIG9mZiBzbGFzaCBzdWJ0aXRsZXMgc3ltYm9sIHRleHQgdHYgdHlwZVwiLFxuICBjbG9zZWRfY2FwdGlvbl9vZmY6IFwiYWNjZXNzaWJsZSBhbHBoYWJldCBjaGFyYWN0ZXIgZGVjb2RlciBmb250IGxhbmd1YWdlIGxldHRlciBtZWRpYSBtb3ZpZXMgb3V0bGluZSBzdWJ0aXRsZXMgc3ltYm9sIHRleHQgdHYgdHlwZVwiLFxuICBjbG9zZV9mdWxsc2NyZWVuOiBcImFjdGlvbiBhcnJvd3MgY29sbGFwc2UgZGlyZWN0aW9uIG1pbmltaXplXCIsXG4gIGNsb3VkOiBcImNvbm5lY3Rpb24gaW50ZXJuZXQgbmV0d29yayBza3kgdXBsb2FkIHdlYXRoZXJcIixcbiAgY2xvdWRfY2lyY2xlOiBcImFwcGxpY2F0aW9uIGJhY2t1cCBjb25uZWN0aW9uIGRyaXZlIGZpbGVzIGZvbGRlcnMgaW50ZXJuZXQgbmV0d29yayBza3kgc3RvcmFnZSB1cGxvYWRcIixcbiAgY2xvdWRfZG9uZTogXCJhcHBsaWNhdGlvbiBhcHByb3ZlIGJhY2t1cCBjaGVja21hcmsgY29tcGxldGUgY29ubmVjdGlvbiBkcml2ZSBmaWxlcyBmb2xkZXJzIGludGVybmV0IG5ldHdvcmsgb2sgc2VsZWN0IHNreSBzdG9yYWdlIHRpY2sgdXBsb2FkIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBjbG91ZF9kb3dubG9hZDogXCJhcHBsaWNhdGlvbiBhcnJvdyBiYWNrdXAgY29ubmVjdGlvbiBkcml2ZSBmaWxlcyBmb2xkZXJzIGludGVybmV0IG5ldHdvcmsgc2t5IHN0b3JhZ2UgdXBsb2FkXCIsXG4gIGNsb3VkX29mZjogXCJhcHBsaWNhdGlvbiBiYWNrdXAgY29ubmVjdGlvbiBkaXNhYmxlZCBkcml2ZSBlbmFibGVkIGZpbGVzIGZvbGRlcnMgaW50ZXJuZXQgbmV0d29yayBvZmZsaW5lIHNreSBzbGFzaCBzdG9yYWdlIHVwbG9hZFwiLFxuICBjbG91ZF9xdWV1ZTogXCJjb25uZWN0aW9uIGludGVybmV0IG5ldHdvcmsgc2t5IHVwbG9hZFwiLFxuICBjbG91ZF9zeW5jOiBcImFwcGxpY2F0aW9uIGFyb3VuZCBiYWNrdXAgY29ubmVjdGlvbiBkcml2ZSBmaWxlcyBmb2xkZXJzIGlucHJvZ3Jlc3MgaW50ZXJuZXQgbG9hZGluZyBuZXR3b3JrIHJlZnJlc2ggcmVuZXcgcm90YXRlIHNreSBzdG9yYWdlIHR1cm4gdXBsb2FkXCIsXG4gIGNsb3VkX3VwbG9hZDogXCJhcHBsaWNhdGlvbiBhcnJvdyBiYWNrdXAgY29ubmVjdGlvbiBkb3dubG9hZCBkcml2ZSBmaWxlcyBmb2xkZXJzIGludGVybmV0IG5ldHdvcmsgc2t5IHN0b3JhZ2VcIixcbiAgY28yOiBcImNhcmJvbiBkaW94aWRlIGdhc1wiLFxuICBjb2RlOiBcImJyYWNrZXRzIGNzcyBkZXZlbG9wZXIgZW5naW5lZXJpbmcgaHRtbCBwYXJlbnRoZXNpcyBwbGF0Zm9ybVwiLFxuICBjb2RlX29mZjogXCJicmFja2V0cyBjc3MgZGV2ZWxvcGVyIGRpc2FibGVkIGVuYWJsZWQgZW5naW5lZXJpbmcgaHRtbCBvbiBwbGF0Zm9ybSBzbGFzaFwiLFxuICBjb2ZmZWU6IFwiYmV2ZXJhZ2UgY3VwIGRyaW5rIG11ZyBwbGF0ZSBzZXQgdGVhXCIsXG4gIGNvZmZlZV9tYWtlcjogXCJhcHBsaWFuY2VzIGJldmVyYWdlIGN1cCBkcmluayBtYWNoaW5lIG11Z1wiLFxuICBjb2xsZWN0aW9uczogXCJhbGJ1bSBnYWxsZXJ5IGltYWdlIGxhbmRzY2FwZSBsaWJyYXJ5IG1vdW50YWlucyBwaG90b2dyYXBoeSBwaWN0dXJlIHN0YWNrXCIsXG4gIGNvbGxlY3Rpb25zX2Jvb2ttYXJrOiBcImFsYnVtIGFyY2hpdmUgZmF2b3JpdGUgZ2FsbGVyeSBsYWJlbCBsaWJyYXJ5IHJlYWRpbmcgcmVtZW1iZXIgcmliYm9uIHNhdmUgc3RhY2sgdGFnXCIsXG4gIGNvbG9yaXplOiBcImNvbG9yIGRyb3BwZXIgZXh0cmFjdCBleWUgcGlja2VyIHBpcGV0dGUgdG9vbFwiLFxuICBjb2xvcl9sZW5zOiBcImFydCBwYWludCBwYWxsZXRcIixcbiAgY29tbWVudDogXCJidWJibGUgY2hhdCBjb21tdW5pY2F0ZSBkb2N1bWVudCBmZWVkYmFjayBtZXNzYWdlIG5vdGUgb3V0bGluZSBzcGVlY2hcIixcbiAgY29tbWVudF9iYW5rOiBcImFyY2hpdmUgYm9va21hcmsgYnViYmxlIGNjaGF0IGNvbW11bmljYXRlIGZhdm9yaXRlIGxhYmVsIGxpYnJhcnkgbWVzc2FnZSByZW1lbWJlciByaWJib24gc2F2ZSBzcGVlY2ggdGFnXCIsXG4gIGNvbW1lbnRzX2Rpc2FibGVkOiBcImJ1YmJsZSBjaGF0IGNvbW11bmljYXRlIGVuYWJsZWQgZmVlZGJhY2sgbWVzc2FnZSBvZmZsaW5lIG9uIHNsYXNoIHNwZWVjaFwiLFxuICBjb21taXQ6IFwiYWNjb21wbGlzaCBiaW5kIGNpcmNsZSBkZWRpY2F0ZSBleGVjdXRlIGxpbmUgcGVyZm9ybSBwbGVkZ2VcIixcbiAgY29tbXV0ZTogXCJhdXRvbW9iaWxlIGNhciBkaXJlY3Rpb24gbWFwcyBwdWJsaWMgdHJhaW4gdHJhbnNwb3J0YXRpb24gdHJpcCB2ZWhpY2xlXCIsXG4gIGNvbXBhcmU6IFwiYWRqdXN0bWVudCBlZGl0aW5nIGVkaXRzIGVuaGFuY2UgZml4IGltYWdlcyBwaG90b2dyYXBoeSBwaG90b3Mgc2NhbiBzZXR0aW5nc1wiLFxuICBjb21wYXJlX2Fycm93czogXCJjb2xsaWRlIGRpcmVjdGlvbmFsIGZhY2luZyBsZWZ0IHBvaW50aW5nIHByZXNzdXJlIHB1c2ggcmlnaHQgdG9nZXRoZXJcIixcbiAgY29tcGFzc19jYWxpYnJhdGlvbjogXCJjb25uZWN0aW9uIGludGVybmV0IGxvY2F0aW9uIG1hcHMgbmV0d29yayByZWZyZXNoIHNlcnZpY2Ugc2lnbmFsIHdpZmkgd2lyZWxlc3NcIixcbiAgY29tcHJlc3M6IFwiYXJyb3dzIGNvbGxpZGUgcHJlc3N1cmUgcHVzaCB0b2dldGhlclwiLFxuICBjb21wdXRlcjogXCJBbmRyb2lkIGNocm9tZSBkZXNrdG9wIGRldmljZSBoYXJkd2FyZSBpT1MgbGFwdG9wIG1hYyBtb25pdG9yIHBjIHdlYiB3aW5kb3dcIixcbiAgY29uZmlybWF0aW9uX251bWJlcjogXCJhZG1pc3Npb24gZW50ZXJ0YWlubWVudCBldmVudCB0aWNrZXRcIixcbiAgY29ubmVjdGVkX3R2OiBcIkFuZHJvaWQgYWlycGxheSBjaHJvbWUgZGVza3RvcCBkZXZpY2UgZGlzcGxheSBoYXJkd2FyZSBpT1MgbWFjIG1vbml0b3Igc2NyZWVuY2FzdCBzdHJlYW1pbmcgdGVsZXZpc2lvbiB3ZWIgd2luZG93IHdpcmVsZXNzXCIsXG4gIGNvbm5lY3RpbmdfYWlycG9ydHM6IFwiYWlycGxhbmVzIGZsaWdodCB0cmFuc3BvcnRhdGlvbiB0cmF2ZWwgdHJpcFwiLFxuICBjb25uZWN0X3dpdGhvdXRfY29udGFjdDogXCJjb21tdW5pY2F0aW5nIGRpc3RhbmNlIHBlb3BsZSBzaWduYWwgc29jaWFsaXplXCIsXG4gIGNvbnN0cnVjdGlvbjogXCJidWlsZCBjYXJwZW50ZXIgZXF1aXBtZW50IGZpeCBoYW1tZXIgaW1wcm92ZW1lbnQgaW5kdXN0cmlhbCBpbmR1c3RyeSByZXBhaXIgdG9vbHMgd3JlbmNoXCIsXG4gIGNvbnRhY3RsZXNzOiBcImFwcGxlcGF5IGJsdWV0b290aCBjYXNoIGNvbm5lY3Rpb24gY29ubmVjdGl2aXR5IGNyZWRpdCBkZXZpY2UgZmluYW5jZSBwYXltZW50IHNpZ25hbCB0YXAgdHJhbnNhY3Rpb24gd2lmaSB3aXJlbGVzc1wiLFxuICBjb250YWN0X21haWw6IFwiYWNjb3VudCBhZGRyZXNzIGF2YXRhciBjb21tdW5pY2F0ZSBlbWFpbCBmYWNlIGh1bWFuIGluZm9ybWF0aW9uIG1lc3NhZ2UgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHVzZXJcIixcbiAgY29udGFjdF9wYWdlOiBcImFjY291bnQgYXZhdGFyIGRhdGEgZG9jdW1lbnQgZHJpdmUgZmFjZSBmb2xkZXJzIGh1bWFuIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzaGVldCBzbGlkZSBzdG9yYWdlIHVzZXIgd3JpdGluZ1wiLFxuICBjb250YWN0X3Bob25lOiBcImFjY291bnQgYXZhdGFyIGNhbGwgY29tbXVuaWNhdGUgZmFjZSBodW1hbiBpbmZvcm1hdGlvbiBtZXNzYWdlIG1vYmlsZSBudW1iZXIgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHVzZXJcIixcbiAgY29udGFjdHM6IFwiYWNjb3VudCBhZGRyZXNzIGF2YXRhciBjYWxsIGNlbGwgZmFjZSBodW1hbiBpbmZvcm1hdGlvbiBtb2JpbGUgbnVtYmVyIHBlb3BsZSBwZXJzb24gcGhvbmUgcHJvZmlsZSB1c2VyXCIsXG4gIGNvbnRhY3Rfc3VwcG9ydDogXCI/IGFsZXJ0IGFubm91bmNlbWVudCBidWJibGUgY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGhlbHAgaW5mb3JtYXRpb24gbWFyayBtZXNzYWdlIHB1bmN0dWF0aW9uIHNwZWVjaCBzeW1ib2wgdnF1ZXN0aW9uXCIsXG4gIGNvbnRlbnRfY29weTogXCJjb3B5IGRvY3VtZW50IGR1cGxpY2F0ZSBmaWxlIG11bHRpcGxlIHBhc3RcIixcbiAgY29udGVudF9jdXQ6IFwiY3V0IGRvY3VtZW50IGZpbGUgcGFzdCBzY2lzc29ycyB0cmltXCIsXG4gIGNvbnRlbnRfcGFzdGU6IFwiY2xpcGJvYXJkIGNvcHkgY3V0IGRvY3VtZW50IGZpbGUgbXVsdGlwbGVcIixcbiAgY29udGVudF9wYXN0ZV9nbzogXCJjbGlwYm9hcmQgZGlzYWJsZWQgZG9jdW1lbnQgZW5hYmxlZCBmaWxlIHNsYXNoXCIsXG4gIGNvbnRlbnRfcGFzdGVfb2ZmOiBcImNsaXBib2FyZCBkaXNhYmxlZCBkb2N1bWVudCBlbmFibGVkIGZpbGUgc2xhc2hcIixcbiAgY29udGVudF9wYXN0ZV9zZWFyY2g6IFwiY2xpcGJvYXJkIGRvY3VtZW50IGZpbGUgZmluZCB0cmFjZSB0cmFja1wiLFxuICBjb250cmFzdDogXCJibGFjayBlZGl0aW5nIGVmZmVjdCBmaWx0ZXIgZ3JheXNjYWxlIGltYWdlcyBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyB3aGl0ZVwiLFxuICBjb250cm9sX2NhbWVyYTogXCJhZGp1c3QgYXJyb3dzIGNlbnRlciBkaXJlY3Rpb24gbGVmdCBtb3ZlIHJpZ2h0XCIsXG4gIGNvbnRyb2xfcG9pbnQ6IFwiKyBhZGQgY2lyY2xlIHBsdXNcIixcbiAgY29udHJvbF9wb2ludF9kdXBsaWNhdGU6IFwiKyBhZGQgY2lyY2xlIG11bHRpcGxlIG5ldyBwbHVzIHN5bWJvbFwiLFxuICBjb19wcmVzZW50OiBcImFycm93IGNvLXByZXNlbnQgcHJlc2VudGF0aW9uIHNjcmVlbiBzaGFyZSBzbGlkZXMgdG9nYXRoZXIgd2Vic2l0ZVwiLFxuICBjb3B5X2FsbDogXCJjb250ZW50IGN1dCBkb2N1bWVudCBmaWxlIG11bHRpcGxlIHBhZ2UgcGFwZXIgcGFzdFwiLFxuICBjb3B5cmlnaHQ6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGNpcmNsZSBlbWJsZW0gZm9udCBsZWdhbCBsZXR0ZXIgb3duZXIgc3ltYm9sIHRleHRcIixcbiAgY29yb25hdmlydXM6IFwiMTkgYmFjdGVyaWEgY292aWQgZGlzZWFzZSBnZXJtcyBpbGxuZXNzIHNpY2sgc29jaWFsXCIsXG4gIGNvcnBvcmF0ZV9mYXJlOiBcImFyY2hpdGVjdHVyZSBidWlsZGluZyBidXNpbmVzcyBlc3RhdGUgb3JnYW5pemF0aW9uIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHNoZWx0ZXJcIixcbiAgY290dGFnZTogXCJhcmNoaXRlY3R1cmUgYmVhY2ggZXN0YXRlIGhvbWUgaG91c2UgbGFrZSBsb2RnZSBtYXBzIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHN0YXkgdHJhdmVsaW5nXCIsXG4gIGNvdW50ZXJ0b3BzOiBcImhvbWUgaG91c2Uga2l0Y2hlbiBzaW5rIHRhYmxlXCIsXG4gIGNyZWF0ZTogXCJjb21wb3NlIGVkaXRpbmcgaW5wdXQgaXRlbSBuZXcgcGVuY2lsIHdyaXRlIHdyaXRpbmdcIixcbiAgY3JlYXRlX25ld19mb2xkZXI6IFwiKyBhZGQgZGF0YSBkaXJlY3RvcnkgZG9jdW1lbnQgZHJpdmUgZmlsZSBwbHVzIHNoZWV0IHNsaWRlIHN0b3JhZ2Ugc3ltYm9sXCIsXG4gIGNyZWRpdF9jYXJkOiBcImJpbGwgY2FzaCBjaGFyZ2UgY29pbiBjb21tZXJjZSBjb3N0IGNyZWRpdGNhcmQgY3VycmVuY3kgZG9sbGFycyBmaW5hbmNlIGluZm9ybWF0aW9uIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBjcmVkaXRfY2FyZF9vZmY6IFwiY2hhcmdlIGNvbW1lcmNlIGNvc3QgZGlzYWJsZWQgZW5hYmxlZCBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHNsYXNoXCIsXG4gIGNyZWRpdF9zY29yZTogXCJhcHByb3ZlIGJpbGwgY2FyZCBjYXNoIGNoZWNrIGNvaW4gY29tbWVyY2UgY29tcGxldGUgY29zdCBjdXJyZW5jeSBkb2xsYXJzIGRvbmUgZmluYW5jZSBsb2FuIG1hcmsgbW9uZXkgb2sgb25saW5lIHBheW1lbnQgc2VsZWN0IHN5bWJvbCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBjcmliOiBcImJhYmllcyBiYWJ5IGJhc3NpbmV0IGJlZCBjaGlsZHJlbiBjcmFkbGUgaW5mYW50IGtpZCBuZXdib3JuIHNsZWVwaW5nIHRvZGRsZXJcIixcbiAgY3JvcDogXCJhZGp1c3RtZW50cyBhcmVhIGVkaXRpbmcgZnJhbWUgaW1hZ2VzIHBob3RvcyByZWN0YW5nbGUgc2V0dGluZ3Mgc2l6ZSBzcXVhcmVcIixcbiAgY3JvcF9kaW46IFwiYWRqdXN0bWVudHMgYXJlYSBlZGl0aW5nIGZyYW1lIGltYWdlcyBwaG90b3MgcGljdHVyZSByZWN0YW5nbGUgc2V0dGluZ3Mgc2l6ZSBzcXVhcmVcIixcbiAgY3JvcF9mcmVlOiBcImFkanVzdG1lbnRzIGJhcmNvZGUgZWRpdGluZyBmb2N1cyBmcmFtZSBpbWFnZSBwaG90b3MgcXJjb2RlIHNldHRpbmdzIHNpemUgc3F1YXJlIHpvb21cIixcbiAgY3JvcF9sYW5kc2NhcGU6IFwiYWRqdXN0bWVudHMgYXJlYSBlZGl0aW5nIGZyYW1lIGltYWdlcyBwaG90b3MgcGljdHVyZSBzZXR0aW5ncyBzaXplIHNxdWFyZVwiLFxuICBjcm9wX29yaWdpbmFsOiBcImFkanVzdG1lbnRzIGFyZWEgZWRpdGluZyBmcmFtZSBpbWFnZXMgcGhvdG9zIHBpY3R1cmUgc2V0dGluZ3Mgc2l6ZSBzcXVhcmVcIixcbiAgY3JvcF9wb3J0cmFpdDogXCJhZGp1c3RtZW50cyBhcmVhIGVkaXRpbmcgZnJhbWUgaW1hZ2VzIHBob3RvcyBwaWN0dXJlIHJlY3RhbmdsZSBzZXR0aW5ncyBzaXplIHNxdWFyZVwiLFxuICBjcm9wX3JvdGF0ZTogXCJhZGp1c3RtZW50cyBhcmVhIGFycm93cyBlZGl0aW5nIGZyYW1lIGltYWdlcyBwaG90b3Mgc2V0dGluZ3Mgc2l6ZSB0dXJuXCIsXG4gIGNyb3Bfc3F1YXJlOiBcImFkanVzdG1lbnRzIGFyZWEgZWRpdGluZyBmcmFtZSBpbWFnZXMgcGhvdG9zIHJlY3RhbmdsZSBzZXR0aW5ncyBzaXplXCIsXG4gIGNzczogXCJhbHBoYWJldCBicmFja2V0cyBjaGFyYWN0ZXIgY29kZSBkZXZlbG9wZXIgZW5naW5lZXJpbmcgZm9udCBodG1sIGxldHRlciBwbGF0Zm9ybSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGN1cnJlbmN5X2V4Y2hhbmdlOiBcIjM2MCBhcm91bmQgYXJyb3dzIGNhc2ggY29pbiBjb21tZXJjZSBkaXJlY3Rpb24gZG9sbGFycyBpbnByb2dyZXNzIG1vbmV5IHBheSByZW5ldyByb3RhdGUgc3luYyB0dXJuIHVuaXZlcnNhbFwiLFxuICBjdXJyZW5jeV9mcmFuYzogXCJiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGRvbGxhcnMgZmluYW5jZSBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBzaG9wcGluZyBzeW1ib2xcIixcbiAgY3VycmVuY3lfbGlyYTogXCJiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGRvbGxhcnMgZmluYW5jZSBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBzaG9wcGluZyBzeW1ib2xcIixcbiAgY3VycmVuY3lfcG91bmQ6IFwiYmlsbCBjYXJkIGNhc2ggY29pbiBjb21tZXJjZSBjb3N0IGNyZWRpdCBkb2xsYXJzIGZpbmFuY2UgbW9uZXkgb25saW5lIHBheW1lbnQgcHJpY2Ugc2hvcHBpbmcgc3ltYm9sXCIsXG4gIGN1cnJlbmN5X3J1YmxlOiBcImJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBjdXJyZW5jeV9ydXBlZTogXCJiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGRvbGxhcnMgZmluYW5jZSBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBzaG9wcGluZyBzeW1ib2xcIixcbiAgY3VycmVuY3lfeWVuOiBcImJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBjdXJyZW5jeV95dWFuOiBcImJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBjdXJ0YWluczogXCJibGluZHMgY292ZXIgbmVzdCBvcGVuIHNodXR0ZXIgc3Vuc2hhZGVcIixcbiAgY3VydGFpbnNfY2xvc2VkOiBcImJsaW5kcyBjb3ZlciBuZXN0IHNodXR0ZXIgc3Vuc2hhZGVcIixcbiAgZGFuZ2Vyb3VzOiBcImJyb2tlbiBmaXggbm8gc2lnbiBzdG9wIHVwZGF0ZSB3YXJuaW5nIHdyb25nXCIsXG4gIGRhcmtfbW9kZTogXCJhcHBsaWNhdGlvbiBkZXZpY2UgaW50ZXJmYWNlIG1vb24gbmlnaHQgc2lsZW50IHRoZW1lIHVpIHV4IHdlYnNpdGVcIixcbiAgZGFzaGJvYXJkOiBcImNhcmRzIGZvcm1hdCBsYXlvdXQgcmVjdGFuZ2xlIHNoYXBlcyBzcXVhcmUgd2Vic2l0ZVwiLFxuICBkYXNoYm9hcmRfY3VzdG9taXplOiBcImNhcmRzIGZvcm1hdCBsYXlvdXQgcmVjdGFuZ2xlIHNoYXBlcyBzcXVhcmUgd2Vic2l0ZVwiLFxuICBkYXRhX3NhdmVyX29mZjogXCJhbmFseXRpY3MgYmFycyBjaGFydCBkaWFncmFtIGRvbnV0IGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyByaW5nIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgZGF0YV9zYXZlcl9vbjogXCIrIGFkZCBhbmFseXRpY3MgY2hhcnQgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3MgbmV3IHBsdXMgcmluZyBzdGF0aXN0aWNzIHN5bWJvbCB0cmFja2luZ1wiLFxuICBkYXRhX3RocmVzaG9sZGluZzogXCJoaWRkZW4gcHJpdmFjeSB0aHJlc29sZFwiLFxuICBkYXRhX3VzYWdlOiBcImFuYWx5dGljcyBjaGFydCBjaXJjbGUgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBkYXRlX3JhbmdlOiBcImFnZW5kYSBjYWxlbmRhciBldmVudCBtb250aCByZW1lbWJlciByZW1pbmRlciBzY2hlZHVsZSB0aW1lIHRvZGF5IHdlZWtcIixcbiAgZGVibHVyOiBcImFkanVzdCBlZGl0aW5nIGVuaGFuY2UgZmFjZSBpbWFnZSBsaW5lcyBwaG90b2dyYXBoeSBzaGFycGVuXCIsXG4gIGRlY2s6IFwiY2hhaXJzIGZ1cm5pdHVyZSBnYXJkZW4gaG9tZSBob3VzZSBvdXRkb29ycyBvdXRzaWRlIHBhdGlvIHNvY2lhbCB0ZXJyYWNlIHVtYnJlbGxhIHlhcmRcIixcbiAgZGVoYXplOiBcImFkanVzdCBlZGl0aW5nIGVuaGFuY2UgaW1hZ2UgbGluZXMgcGhvdG9ncmFwaHkgcmVtb3ZlXCIsXG4gIGRlbGV0ZTogXCJiaW4gZ2FyYmFnZSBqdW5rIHJlY3ljbGUgcmVtb3ZlIHRyYXNoY2FuXCIsXG4gIGRlbGV0ZV9mb3JldmVyOiBcImJpbiBjYW5jZWwgZXhpdCBnYXJiYWdlIGp1bmsgcmVjeWNsZSByZW1vdmUgdHJhc2hjYW5cIixcbiAgZGVsZXRlX291dGxpbmU6IFwiYmluIGNhbiBnYXJiYWdlIHJlbW92ZSB0cmFzaFwiLFxuICBkZWxldGVfc3dlZXA6IFwiYmluIGdhcmJhZ2UganVuayByZWN5Y2xlIHJlbW92ZSB0cmFzaGNhblwiLFxuICBkZW5zaXR5X2xhcmdlOiBcImhvcml6b250YWwgbGluZXMgcnVsZXNcIixcbiAgZGVuc2l0eV9tZWRpdW06IFwiaG9yaXpvbnRhbCBsaW5lcyBydWxlc1wiLFxuICBkZW5zaXR5X3NtYWxsOiBcImhvcml6b250YWwgbGluZXMgcnVsZXNcIixcbiAgZGVwYXJ0dXJlX2JvYXJkOiBcImF1dG9tb2JpbGUgYnVzIGNhcnMgY2xvY2sgbWFwcyBwdWJsaWMgc2NoZWR1bGUgdGltZSB0cmFuc3BvcnRhdGlvbiB0cmF2ZWwgdmVoaWNsZVwiLFxuICBkZXNjcmlwdGlvbjogXCJhcnRpY2xlIGJpbGwgZGF0YSBkb2N1bWVudCBkcml2ZSBmaWxlIGZvbGRlcnMgaW52b2ljZSBpdGVtIG5vdGVzIHBhZ2UgcGFwZXIgc2hlZXQgc2xpZGUgdGV4dCB3cml0aW5nXCIsXG4gIGRlc2t0b3BfYWNjZXNzX2Rpc2FibGVkOiBcIkFuZHJvaWQgYXBwbGUgY2hyb21lIGRldmljZSBkaXNwbGF5IGVuYWJsZWQgaGFyZHdhcmUgaU9TIG1hYyBtb25pdG9yIG9mZmxpbmUgcGMgc2NyZWVuIHNsYXNoIHdlYiB3aW5kb3dcIixcbiAgZGVza3RvcF9tYWM6IFwiQW5kcm9pZCBhcHBsZSBjaHJvbWUgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgaU9TIG1vbml0b3IgcGMgc2NyZWVuIHdlYiB3aW5kb3dcIixcbiAgZGVza3RvcF93aW5kb3dzOiBcIkFuZHJvaWQgY2hyb21lIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBwYyBzY3JlZW4gdGVsZXZpc2lvbiB0diB3ZWJcIixcbiAgZGV0YWlsczogXCJlZGl0aW5nIGVuaGFuY2UgaW1hZ2UgcGhvdG9ncmFwaHkgc2hhcnBlbiB0cmlhbmdsZVwiLFxuICBkZXZlbG9wZXJfYm9hcmQ6IFwiY29tcHV0ZXIgZGV2ZWxvcG1lbnQgZGV2a2l0IGhhcmR3YXJlIG1pY3JvY2hpcCBwcm9jZXNzb3JcIixcbiAgZGV2ZWxvcGVyX2JvYXJkX29mZjogXCJjb21wdXRlciBkZXZlbG9wbWVudCBkaXNhYmxlZCBlbmFibGVkIGhhcmR3YXJlIG1pY3JvY2hpcCBvbiBwcm9jZXNzb3Igc2xhc2hcIixcbiAgZGV2ZWxvcGVyX21vZGU6IFwiQW5kcm9pZCBicmFja2V0IGNlbGwgY29kZSBkZXZlbG9wbWVudCBkZXZpY2UgZW5naW5lZXIgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgZGV2aWNlX2h1YjogXCJBbmRyb2lkIGNpcmNsZSBjb21wdXRlciBkZXNrdG9wIGhhcmR3YXJlIGlPUyBsYXB0b3AgbW9iaWxlIG1vbml0b3IgcGhvbmUgc3F1YXJlIHRhYmxldCB0cmlhbmdsZSB3YXRjaCB3ZWFyYWJsZSB3ZWJcIixcbiAgZGV2aWNlczogXCJBbmRyb2lkIGNvbXB1dGVyIGRlc2t0b3AgaGFyZHdhcmUgaU9TIGxhcHRvcCBtb2JpbGUgbW9uaXRvciBwaG9uZSB0YWJsZXQgd2F0Y2ggd2VhcmFibGUgd2ViXCIsXG4gIGRldmljZXNfb3RoZXI6IFwiQW5kcm9pZCBjZWxsIGNocm9tZSBkZXNrdG9wIGdhZGdldCBoYXJkd2FyZSBpT1MgaXBhZCBtYWMgbW9iaWxlIG1vbml0b3IgcGhvbmUgc21hcnR3YXRjaCB0YWJsZXQgdnIgd2VhcmFibGVzIHdpbmRvd1wiLFxuICBkZXZpY2VfdGhlcm1vc3RhdDogXCJjZWxzaXVzIGZhaHJlbmhlaXQgdGVtcGVyYXR1cmUgdGhlcm1vbWV0ZXJcIixcbiAgZGV2aWNlX3Vua25vd246IFwiPyBBbmRyb2lkIGFzc2lzdGFuY2UgY2VsbCBoYXJkd2FyZSBoZWxwIGlPUyBpbmZvcm1hdGlvbiBtYXJrIG1vYmlsZSBwaG9uZSBwdW5jdHVhdGlvbiBxdWVzdGlvbiBzdXBwb3J0IHN5bWJvbCB0YWJsZXRcIixcbiAgZGlhbGVyX3NpcDogXCJhbHBoYWJldCBjYWxsIGNlbGwgY2hhcmFjdGVyIGNvbnRhY3QgZGV2aWNlIGZvbnQgaGFyZHdhcmUgaW5pdGlhdGlvbiBpbnRlcm5ldCBsZXR0ZXIgbW9iaWxlIG92ZXIgcHJvdG9jb2wgcm91dGluZyBzZXNzaW9uIHN5bWJvbCB0ZWxlcGhvbmUgdGV4dCB0eXBlIHZvaWNlXCIsXG4gIGRpYWxwYWQ6IFwiYnV0dG9ucyBjYWxsIGNvbnRhY3QgZGV2aWNlIGRvdHMgbW9iaWxlIG51bWJlcnMgcGhvbmVcIixcbiAgZGlhbW9uZDogXCJmYXNoaW9uIGdlbXMgamV3ZWxyeSBsb2dvIHJldGFpbCB2YWx1YWJsZXNcIixcbiAgZGlmZmVyZW5jZTogXCJjb21wYXJlIGNvbnRlbnQgY29weSBjdXQgZG9jdW1lbnQgZHVwbGljYXRlIGZpbGUgbXVsdGlwbGUgcGFzdFwiLFxuICBkaW5pbmc6IFwiY2FmZXRlcmlhIGN1dGxlcnkgZGluZXIgZWF0aW5nIGZvcmsgcm9vbSBzcG9vblwiLFxuICBkaW5uZXJfZGluaW5nOiBcImJyZWFrZmFzdCBmb29kIGZvcmsgbHVuY2ggbWVhbCByZXN0YXVyYW50IHNwYWdoZXR0aSB1dGVuc2lsc1wiLFxuICBkaXJlY3Rpb25zOiBcImFycm93IG1hcHMgbmF2aWF0ZSByaWdodCByb3V0ZSBzaWduIHRyYWZmaWNcIixcbiAgZGlyZWN0aW9uc19iaWtlOiBcImJpY3ljbGUgaHVtYW4gbWFwcyBwZXJzb24gcHVibGljIHJvdXRlIHRyYW5zcG9ydGF0aW9uXCIsXG4gIGRpcmVjdGlvbnNfYm9hdDogXCJhdXRvbW9iaWxlIGNhcnMgZmVycnkgbWFwcyBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX2JvYXRfZmlsbGVkOiBcImF1dG9tb2JpbGUgY2FycyBmZXJyeSBtYXBzIHB1YmxpYyB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlXCIsXG4gIGRpcmVjdGlvbnNfYnVzOiBcImF1dG9tb2JpbGUgY2FycyBtYXBzIHB1YmxpYyB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlXCIsXG4gIGRpcmVjdGlvbnNfYnVzX2ZpbGxlZDogXCJhdXRvbW9iaWxlIGNhcnMgbWFwcyBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX2NhcjogXCJhdXRvbW9iaWxlIGNhcnMgbWFwcyBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX2Nhcl9maWxsZWQ6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgcHVibGljIHRyYW5zcG9ydGF0aW9uIHZlaGljbGVcIixcbiAgZGlyZWN0aW9uc19vZmY6IFwiYXJyb3cgZGlzYWJsZWQgZW5hYmxlZCBtYXBzIHJpZ2h0IHJvdXRlIHNpZ24gc2xhc2ggdHJhZmZpY1wiLFxuICBkaXJlY3Rpb25zX3JhaWx3YXk6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgcHVibGljIHRyYWluIHRyYW5zcG9ydGF0aW9uIHZlaGljbGVcIixcbiAgZGlyZWN0aW9uc19yYWlsd2F5X2ZpbGxlZDogXCJhdXRvbW9iaWxlIGNhcnMgbWFwcyBwdWJsaWMgdHJhaW4gdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX3J1bjogXCJib2R5IGhlYWx0aCBodW1hbiBqb2dnaW5nIG1hcHMgcGVvcGxlIHBlcnNvbiByb3V0ZSBydW5uaW5nIHdhbGtcIixcbiAgZGlyZWN0aW9uc19zdWJ3YXk6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgcHVibGljIHJhaWwgdHJhaW4gdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX3N1YndheV9maWxsZWQ6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgcHVibGljIHJhaWwgdHJhaW4gdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX3RyYW5zaXQ6IFwiYXV0b21vYmlsZSBjYXJzIG1hcHMgbWV0cm8gcHVibGljIHJhaWwgc3Vid2F5IHRyYWluIHRyYW5zcG9ydGF0aW9uIHZlaGljbGVcIixcbiAgZGlyZWN0aW9uc190cmFuc2l0X2ZpbGxlZDogXCJhdXRvbW9iaWxlIGNhcnMgbWFwcyBwdWJsaWMgcmFpbCBzdWJ3YXkgdHJhaW4gdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBkaXJlY3Rpb25zX3dhbGs6IFwiYm9keSBodW1hbiBqb2dnaW5nIG1hcHMgcGVvcGxlIHBlcnNvbiByb3V0ZSBydW5cIixcbiAgZGlydHlfbGVuczogXCJjYW1lcmEgcGhvdG9ncmFwaHkgcGljdHVyZSBzcGxhdFwiLFxuICBkaXNhYmxlZF9ieV9kZWZhdWx0OiBcImJveCBjYW5jZWwgY2xvc2UgZXhpdCBubyBxdWl0IHJlbW92ZSBzcXVhcmUgc3RvcFwiLFxuICBkaXNjX2Z1bGw6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBjZCBkYW5nZXIgZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbXVzaWMgbm90aWZpY2F0aW9uIHN0b3JhZ2Ugc3ltYm9sIHZpbnlsIHdhcm5pbmdcIixcbiAgZGlzcGxheV9zZXR0aW5nczogXCJBbmRyb2lkIGFwcGxpY2F0aW9uIGNoYW5nZSBjaHJvbWUgZGVza3RvcCBkZXRhaWxzIGRldmljZSBnZWFyIGhhcmR3YXJlIGlPUyBpbmZvcm1hdGlvbiBtYWMgbW9uaXRvciBvcHRpb25zIHBlcnNvbmFsIHNjcmVlbiBzZXJ2aWNlIHdlYiB3aW5kb3dcIixcbiAgZG5zOiBcImFkZHJlc3MgYmFycyBkb21haW4gaW5mb3JtYXRpb24gaXAgbGlzdCBsb29rdXAgbmFtZSBuZXR3b3JrIHNlcnZlciBzeXN0ZW1cIixcbiAgZG9jazogXCJBbmRyb2lkIGNlbGwgY2hhcmdlciBjaGFyZ2luZyBjb25uZWN0b3IgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgcG93ZXIgc3RhdGlvbiB0YWJsZXRcIixcbiAgZG9jdW1lbnRfc2Nhbm5lcjogXCJhcnRpY2xlIGRhdGEgZHJpdmUgZmlsZSBmb2xkZXJzIG5vdGVzIHBhZ2UgcGFwZXIgc2hlZXQgc2xpZGUgdGV4dCB3cml0aW5nXCIsXG4gIGRvX2Rpc3R1cmI6IFwiY2FuY2VsIGNsb3NlIGRlbmllZCBkZW55IHJlbW92ZSBzaWxlbmNlIHN0b3BcIixcbiAgZG9fZGlzdHVyYl9hbHQ6IFwiY2FuY2VsIGNsb3NlIGRlbmllZCBkZW55IHJlbW92ZSBzaWxlbmNlIHN0b3BcIixcbiAgZG9fZGlzdHVyYl9vZmY6IFwiY2FuY2VsIGNsb3NlIGRlbmllZCBkZW55IGRpc2FibGVkIGVuYWJsZWQgb24gcmVtb3ZlIHNpbGVuY2Ugc2xhc2ggc3RvcFwiLFxuICBkb19kaXN0dXJiX29uOiBcImNhbmNlbCBjbG9zZSBkZW5pZWQgZGVueSBkaXNhYmxlZCBlbmFibGVkIG9mZiByZW1vdmUgc2lsZW5jZSBzbGFzaCBzdG9wXCIsXG4gIGRvbWFpbjogXCJhcGFydG1lbnQgYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGJ1c2luZXNzIGVzdGF0ZSBob21lIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHNoZWx0ZXIgd2ViIHd3d1wiLFxuICBkb21haW5fYWRkOiBcIisgYXBhcnRtZW50IGFyY2hpdGVjdHVyZSBidWlsZGluZyBidXNpbmVzcyBlc3RhdGUgaG9tZSBuZXcgcGxhY2UgcGx1cyByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzaGVsdGVyIHN5bWJvbCB3ZWIgd3d3XCIsXG4gIGRvbWFpbl9kaXNhYmxlZDogXCJhcGFydG1lbnQgYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGJ1c2luZXNzIGNvbXBhbnkgZW5hYmxlZCBlc3RhdGUgaG9tZSBpbnRlcm5ldCBtYXBzIG9mZmljZSBvZmZsaW5lIG9uIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHNsYXNoIHdlYnNpdGVcIixcbiAgZG9tYWluX3ZlcmlmaWNhdGlvbjogXCJhcHBsaWNhdGlvbiBhcHByb3ZlIGNoZWNrIGNvbXBsZXRlIGRlc2lnbiBkZXNrdG9wIGRvbmUgaW50ZXJmYWNlIGludGVybmV0IGxheW91dCBtYXJrIG9rIHNjcmVlbiBzZWxlY3QgdGljayB1aSB1eCB2YWxpZGF0ZSB2ZXJpZmllZCB3ZWJzaXRlIHdpbmRvdyB3d3cgeWVzXCIsXG4gIGRvbmU6IFwiYXBwcm92ZSBjaGVja21hcmsgY29tcGxldGUgZmluaXNoZWQgb2sgc2VsZWN0IHN1Y2Nlc3MgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgZG9uZV9hbGw6IFwiYXBwcm92ZSBjaGVja21hcmsgY29tcGxldGUgZmluaXNoZWQgbGF5ZXJzIG11bHRpcGxlIG9rIHNlbGVjdCBzdGFjayBzdWNjZXNzIHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgeWVzXCIsXG4gIGRvbmVfb3V0bGluZTogXCJhbGwgYXBwcm92ZSBjaGVja21hcmsgY29tcGxldGUgZmluaXNoZWQgb2sgc2VsZWN0IHN1Y2Nlc3MgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgZG9fbm90X2Rpc3R1cmI6IFwiY2FuY2VsIGNsb3NlIGRlbmllZCBkZW55IHJlbW92ZSBzaWxlbmNlIHN0b3BcIixcbiAgZG9fbm90X2Rpc3R1cmJfYWx0OiBcImNhbmNlbCBjbG9zZSBkZW5pZWQgZGVueSByZW1vdmUgc2lsZW5jZSBzdG9wXCIsXG4gIGRvX25vdF9kaXN0dXJiX29mZjogXCJjYW5jZWwgY2xvc2UgZGVuaWVkIGRlbnkgZGlzYWJsZWQgZW5hYmxlZCBvbiByZW1vdmUgc2lsZW5jZSBzbGFzaCBzdG9wXCIsXG4gIGRvX25vdF9kaXN0dXJiX29uOiBcImNhbmNlbCBjbG9zZSBkZW5pZWQgZGVueSBkaXNhYmxlZCBlbmFibGVkIG9mZiByZW1vdmUgc2lsZW5jZSBzbGFzaCBzdG9wXCIsXG4gIGRvX25vdF9kaXN0dXJiX29uX3RvdGFsX3NpbGVuY2U6IFwiYnVzeSBtdXRlIG9uIHF1aWV0IHRvdGFsXCIsXG4gIGRvX25vdF9zdGVwOiBcImJvb3QgZGlzYWJsZWQgZW5hYmxlZCBmZWV0IGZvb3Qgb2ZmIG9uIHNob2Ugc2xhc2ggc25lYWtlclwiLFxuICBkb19ub3RfdG91Y2g6IFwiZGlzYWJsZWQgZW5hYmxlZCBmaW5nZXJzIGdlc3R1cmUgaGFuZCBvZmYgb24gc2xhc2hcIixcbiAgZG9udXRfbGFyZ2U6IFwiYW5hbHl0aWNzIGNoYXJ0IGNpcmNsZSBjb21wbGV0ZSBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgaW5wcm9ncmVzcywgbWVhc3VyZSBtZXRyaWNzIHBpZSBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGRvbnV0X3NtYWxsOiBcImFuYWx5dGljcyBjaGFydCBjaXJjbGUgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIGlucHJvZ3Jlc3MgbWVhc3VyZSBtZXRyaWNzIHBpZSBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGRvb3JfYmFjazogXCJjbG9zZWQgZG9vcndheSBlbnRyYW5jZSBleGl0IGhvbWUgaG91c2VcIixcbiAgZG9vcmJlbGw6IFwiYWxhcm0gaG9tZSBob3VzZSByaW5naW5nXCIsXG4gIGRvb3JfZnJvbnQ6IFwiY2xvc2VkIGRvb3J3YXkgZW50cmFuY2UgZXhpdCBob21lIGhvdXNlXCIsXG4gIGRvb3Jfc2xpZGluZzogXCJhdXRvbWF0aWMgZG9vcndheSBkb3VibGUgZW50cmFuY2UgZXhpdCBnbGFzcyBob21lIGhvdXNlIHR3b1wiLFxuICBkb3VibGVfYXJyb3c6IFwiYXJyb3dzIGNoZXZyb24gZGlyZWN0aW9uIG11bHRpcGxlIG5hdmlnYXRpb24gcmlnaHRcIixcbiAgZG93bmhpbGxfc2tpaW5nOiBcImF0aGxldGUgYXRobGV0aWMgYm9keSBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGhvYmJ5IGh1bWFuIHBlb3BsZSBwZXJzb24gc2tpIHNub3cgc29jaWFsIHNwb3J0cyB0cmF2ZWwgd2ludGVyXCIsXG4gIGRvd25sb2FkOiBcImFycm93IGRvd25sb2FkcyBkcml2ZSBpbnN0YWxsIHVwbG9hZFwiLFxuICBkb3dubG9hZF9kb25lOiBcImFycm93cyBjaGVjayBkb3dubG9hZHMgZHJpdmUgaW5zdGFsbGVkIG9rIHRpY2sgdXBsb2FkXCIsXG4gIGRvd25sb2FkX2Zvcl9vZmZsaW5lOiBcImFycm93IGNpcmNsZSBmb3IgaW5zdGFsbCBvZmZsaW5lIHVwbG9hZFwiLFxuICBkb3dubG9hZGluZzogXCJhcnJvdyBjaXJjbGUgZG93bmxvYWRzIGluc3RhbGwgcGVuZGluZyBwcm9ncmVzcyB1cGxvYWRcIixcbiAgZHJhZnRzOiBcImRvY3VtZW50IGVtYWlsIGVudmVsb3BlIGZpbGUgbGV0dGVyIG1lc3NhZ2UgcmVhZFwiLFxuICBkcmFnX2hhbmRsZTogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRlc2lnbiBpbnRlcmZhY2UgbGF5b3V0IGxpbmVzIG1lbnUgbW92ZSBzY3JlZW4gdWkgdXggd2Vic2l0ZSB3aW5kb3dcIixcbiAgZHJhZ19pbmRpY2F0b3I6IFwiYXBwbGljYXRpb24gY2lyY2xlcyBjb21wb25lbnRzIGRlc2lnbiBkb3RzIGRyb3AgaW50ZXJmYWNlIGxheW91dCBtb2JpbGUgbW9uaXRvciBtb3ZlIHBob25lIHNjcmVlbiBzaGFwZSBzaGlmdCB0YWJsZXQgdWkgdXggd2Vic2l0ZSB3aW5kb3dcIixcbiAgZHJpdmVfZXRhOiBcImF1dG9tb2JpbGUgY2FycyBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZXN0aW1hdGUgbWFwcyBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRyaXAgdmVoaWNsZVwiLFxuICBkcml2ZV9maWxlX21vdmU6IFwiYXJyb3dzIGRhdGEgZGlyZWN0aW9uIGRvY3VtZW50IGZvbGRlcnMgcmlnaHQgc2hlZXQgc2lkZSBzbGlkZSBzdG9yYWdlXCIsXG4gIGRyaXZlX2ZpbGVfcmVuYW1lX291dGxpbmU6IFwiY29tcG9zZSBjcmVhdGUgZHJhZnQgZWRpdGluZyBpbnB1dCBwZW5jaWwgd3JpdGUgd3JpdGluZ1wiLFxuICBkcml2ZV9mb2xkZXJfdXBsb2FkOiBcImFycm93IGRhdGEgZG9jdW1lbnQgZmlsZSBzaGVldCBzbGlkZSBzdG9yYWdlXCIsXG4gIGRyeTogXCJhaXIgYmF0aHJvb20gZHJ5ZXIgZmluZ2VycyBnZXN0dXJlIGhhbmQgd2NcIixcbiAgZHJ5X2NsZWFuaW5nOiBcImhhbmdlciBob3RlbCBsYXVuZHJ5IHBsYWNlcyBzZXJ2aWNlIHRvd2VsXCIsXG4gIGR1bzogXCJjYWxsIGNoYXQgY29uZmVyZW5jZSBkZXZpY2UgdmlkZW9cIixcbiAgZHZyOiBcIkFuZHJvaWQgYXVkaW8gY2hyb21lIGNvbXB1dGVyIGRlc2t0b3AgZGV2aWNlIGRpc3BsYXkgZWxlY3Ryb25pYyBoYXJkd2FyZSBpT1MgbGFwdG9wIGxpc3QgbWFjIG1vbml0b3IgcmVjb3JkZXIgc2NyZWVuIHR2IHZpZGVvIHdlYiB3aW5kb3dcIixcbiAgZHluYW1pY19mZWVkOiBcImxheWVyIGxpdmUgbXVsdGlwbGUgcG9zdCByZWZyZXNoIHVwZGF0ZVwiLFxuICBkeW5hbWljX2Zvcm06IFwiY29kZSBlbGVjdHJpYyBmYXN0IGxpZ2h0bmluZyBsaXN0cyBxdWVzdGlvbm5haXJlIHRodW5kZXJib2x0XCIsXG4gIGVhcmJ1ZHM6IFwiYWNjZXNzb3J5IGF1ZGlvIGVhcnBob25lIGhlYWRwaG9uZSBsaXN0ZW4gbXVzaWMgc291bmRcIixcbiAgZWFyYnVkc19iYXR0ZXJ5OiBcImFjY2Vzc29yeSBhdWRpbyBjaGFyZ2luZyBlYXJwaG9uZSBoZWFkcGhvbmUgbGlzdGVuIG11c2ljIHNvdW5kXCIsXG4gIGVhc3Q6IFwiYXJyb3cgZGlyZWN0aW9uYWwgbWFwcyBuYXZpZ2F0aW9uIHJpZ2h0XCIsXG4gIGVkZ2VzZW5zb3JfaGlnaDogXCJBbmRyb2lkIGNlbGwgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgbW92ZSBwaG9uZSBzZW5zaXRpdml0eSB0YWJsZXQgdmlicmF0ZVwiLFxuICBlZGdlc2Vuc29yX2xvdzogXCJBbmRyb2lkIGNlbGwgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgbW92ZSBwaG9uZSBzZW5zaXRpdml0eSB0YWJsZXQgdmlicmF0ZVwiLFxuICBlZGl0OiBcImNvbXBvc2UgY3JlYXRlIGVkaXRpbmcgaW5wdXQgbmV3IHBlbmNpbCB3cml0ZSB3cml0aW5nXCIsXG4gIGVkaXRfYXR0cmlidXRlczogXCJhcHByb3ZlIGF0dHJpYnV0aW9uIGNoZWNrIGNvbXBsZXRlIGRvbmUgbWFyayBvayBzZWxlY3QgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgZWRpdF9sb2NhdGlvbjogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZ3BzIG1hcHMgcGVuY2lsIHBpbiBwbGFjZSBzdG9wIHdyaXRlXCIsXG4gIGVkaXRfbG9jYXRpb25fYWx0OiBcInBlbmNpbCBwaW5cIixcbiAgZWRpdF9ub3RpZmljYXRpb25zOiBcImFjdGl2ZSBhbGFybSBhbGVydCBiZWxsIGNoaW1lIGNvbXBvc2UgY3JlYXRlIGRyYWZ0IGVkaXRpbmcgaW5wdXQgbmV3IG5vdGlmeSBwZW5jaWwgcmVtaW5kZXIgcmluZyBzb3VuZCB3cml0ZSB3cml0aW5nXCIsXG4gIGVkaXRfb2ZmOiBcImNvbXBvc2UgY3JlYXRlIGRpc2FibGVkIGRyYWZ0IGVkaXRpbmcgZW5hYmxlZCBpbnB1dCBuZXcgb2ZmbGluZSBvbiBwZW5jaWwgc2xhc2ggd3JpdGUgd3JpdGluZ1wiLFxuICBlZGl0X3JvYWQ6IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGhpZ2h3YXkgbWFwcyBwZW5jaWwgc3RyZWV0IHRyYWZmaWNcIixcbiAgZWdnOiBcImJyZWFrZmFzdCBicnVuY2ggZm9vZFwiLFxuICBlZ2dfYWx0OiBcImJyZWFrZmFzdCBicnVuY2ggZm9vZFwiLFxuICBlamVjdDogXCJhcnJvdyBkaXNjIGRyaXZlIGR2ZCBwbGF5ZXIgcmVtb3ZlIHRyaWFuZ2xlIHVwIHVzYlwiLFxuICBlbGRlcmx5OiBcImJvZHkgY2FuZSBodW1hbiBvbGQgcGVvcGxlIHBlcnNvbiBzZW5pb3JcIixcbiAgZWxkZXJseV93b21hbjogXCJib2R5IGNhbmUgZmVtYWxlIGdlbmRlciBnaXJsIGh1bWFuIGxhZHkgb2xkIHBlb3BsZSBwZXJzb24gc2VuaW9yIHNvY2lhbCBzeW1ib2wgd29tZW5cIixcbiAgZWxlY3RyaWNhbF9zZXJ2aWNlczogXCJjaGFyZ2UgY29yZCBwbHVnIHBvd2VyIHdpcmVcIixcbiAgZWxlY3RyaWNfYmlrZTogXCJhdXRvbW9iaWxlIGNhcnMgZWxlY3RyaWNpdHkgbWFwcyBzY29vdGVyIHRyYW5zcG9ydGF0aW9uIHRyYXZlbCB2ZWhpY2xlIHZlc3BhXCIsXG4gIGVsZWN0cmljX2JvbHQ6IFwiZW5lcmd5IGZhc3QgbGlnaHRuaW5nIG5lc3QgdGh1bmRlcmJvbHRcIixcbiAgZWxlY3RyaWNfY2FyOiBcImF1dG9tb2JpbGUgY2FycyBlbGVjdHJpY2l0eSBtYXBzIHRyYW5zcG9ydGF0aW9uIHRyYXZlbCB2ZWhpY2xlXCIsXG4gIGVsZWN0cmljX21ldGVyOiBcImVuZXJneSBmYXN0IGxpZ2h0bmluZyBtZWFzdXJlIG5lc3QgdGh1bmRlcmJvbHQgdXNhZ2Ugdm9sdGFnZSB2b2x0c1wiLFxuICBlbGVjdHJpY19tb3BlZDogXCJhdXRvbW9iaWxlIGJpa2UgY2FycyBtYXBzIHNjb290ZXIgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHZlaGljbGUgdmVzcGFcIixcbiAgZWxlY3RyaWNfcmlja3NoYXc6IFwiYXV0b21vYmlsZSBjYXJzIGluZGlhIG1hcHMgdHJhbnNwb3J0YXRpb24gdHJ1Y2sgdmVoaWNsZVwiLFxuICBlbGVjdHJpY19zY29vdGVyOiBcImF1dG9tb2JpbGUgYmlrZSBjYXJzIG1hcHMgdHJhbnNwb3J0YXRpb24gdmVoaWNsZSB2ZXNwYVwiLFxuICBlbGV2YXRvcjogXCJib2R5IGRvd24gaHVtYW4gcGVvcGxlIHBlcnNvbiB1cFwiLFxuICBlbWFpbDogXCJlbnZlbG9wZSBsZXR0ZXIgbWVzc2FnZSBub3RlIHBvc3QgcmVjZWl2ZSBzZW5kIHdyaXRlXCIsXG4gIGVfbW9iaWxlZGF0YTogXCJhbHBoYWJldCBmb250IGxldHRlciB0ZXh0IHR5cGVcIixcbiAgZW1vamlfZW1vdGlvbnM6IFwiZW1vdGljb24gZXhwcmVzc2lvbnMgZmFjZSBmZWVsaW5ncyBnbGFkIGhhcHBpbmVzcyBoYXBweSBsaWtlIG1vb2QgcGVyc29uIHBsZWFzZWQgc21pbGV5IHNtaWxpbmcgc29jaWFsIHN1cnZleVwiLFxuICBlbW9qaV9ldmVudHM6IFwiYWNoaWV2ZW1lbnQgYXdhcmQgY2hhbGljZSBjaGFtcGlvbiBjdXAgZmlyc3QgcHJpemUgcmV3YXJkIHNwb3J0IHRyb3BoeSB3aW5uZXJcIixcbiAgZW1vamlfZm9vZF9iZXZlcmFnZTogXCJjb2ZmZWUgY3VwIGRyaW5nIGRyaW5rIG11ZyBwbGF0ZSBzZXQgdGVhXCIsXG4gIGVtb2ppX25hdHVyZTogXCJhbmltYWwgYmVlIGRhaXN5IGZsb3dlciBob25leSBpbnNlY3QgbGFkeWJ1ZyBwZXRhbHMgc3ByaW5nIHN1bW1lclwiLFxuICBlbW9qaV9vYmplY3RzOiBcImNyZWF0aXZlIGlkZWEgbGFtcCBsaWdodGJ1bGIgc29sdXRpb24gdGhpbmtpbmdcIixcbiAgZW1vamlfcGVvcGxlOiBcImFybSBib2R5IGdyZWV0aW5nIGh1bWFuIHBlcnNvbiBzb2NpYWwgd2F2ZSB3YXZpbmdcIixcbiAgZW1vamlfc3ltYm9sczogXCJhbXBlcnNhbmQgY2hhcmFjdGVyIGhpZXJvZ2x5cGggbXVzaWMgbm90ZSBwZXJjZW50IHNpZ25cIixcbiAgZW1vamlfdHJhbnNwb3J0YXRpb246IFwiYXJjaGl0ZWN0dXJlIGF1dG9tb2JpbGUgYnVpbGRpbmcgY2FycyBjb21tdXRlIGNvbXBhbnkgZGlyZWN0aW9uIGVzdGF0ZSBtYXBzIG9mZmljZSBwbGFjZSBwdWJsaWMgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlciB0cmF2ZWwgdmVoaWNsZVwiLFxuICBlbmVyZ3lfc2F2aW5nc19sZWFmOiBcImVjbyBsZWF2ZXMgbmVzdCB1c2FnZVwiLFxuICBlbmdpbmVlcmluZzogXCJib2R5IGNvZ3MgY29nd2hlZWwgY29uc3RydWN0aW9uIGZpeGluZyBnZWFycyBoYXQgaGVsbWV0IGh1bWFuIG1haW50ZW5hbmNlIHBlb3BsZSBwZXJzb24gc2V0dGluZyB3b3JrZXJcIixcbiAgZW5oYW5jZWRfZW5jcnlwdGlvbjogXCIrIGFkZCBsb2NrZWQgbmV3IHBhc3N3b3JkIHBsdXMgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gc2FmZXR5IHNlY3VyZSBzZWN1cml0eSBzeW1ib2xcIixcbiAgZXF1YWxpemVyOiBcImFkanVzdG1lbnQgYW5hbHl0aWNzIGNoYXJ0IGRhdGEgZ3JhcGggbWVhc3VyZSBtZXRyaWNzIG11c2ljIG5vaXNlIHNvdW5kIHN0YXRpYyBzdGF0aXN0aWNzIHRyYWNraW5nIHZvbHVtZVwiLFxuICBlcnJvcjogXCIhIGFsZXJ0IGFubm91bmNlbWVudCBhdHRlbnRpb24gY2F1dGlvbiBjaXJjbGUgZGFuZ2VyIGV4Y2xhbWF0aW9uIGZlZWRiYWNrIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBwcm9ibGVtIHN5bWJvbCB3YXJuaW5nXCIsXG4gIGVycm9yX291dGxpbmU6IFwiISBhbGVydCBhbm5vdW5jZW1lbnQgYXR0ZW50aW9uIGNhdXRpb24gY2lyY2xlIGRhbmdlciBleGNsYW1hdGlvbiBmZWVkYmFjayBpbXBvcnRhbnQgbWFyayBub3RpZmljYXRpb24gcHJvYmxlbSBzeW1ib2wgd2FybmluZ1wiLFxuICBlc2NhbGF0b3I6IFwiZG93biBzdGFpcmNhc2UgdXBcIixcbiAgZXNjYWxhdG9yX3dhcm5pbmc6IFwiYm9keSBjaGlsZCBodW1hbiBraWQgcGFyZW50IHBlb3BsZSBwZXJzb25cIixcbiAgZXVybzogXCJiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgZXVyb3MgZmluYW5jZSBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBwcm9maXQgc2hvcHBpbmcgc3ltYm9sXCIsXG4gIGV1cm9fc3ltYm9sOiBcImJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHByb2ZpdFwiLFxuICBldmVudDogXCJhZ2VuZGEgY2FsZW5kYXIgZGF0ZSBpdGVtIG1hcmsgbW9udGggcmFuZ2UgcmVtZW1iZXIgcmVtaW5kZXIgdG9kYXkgd2Vla1wiLFxuICBldmVudF9hdmFpbGFibGU6IFwiYWdlbmRhIGFwcHJvdmUgY2FsZW5kYXIgY2hlY2sgY29tcGxldGUgZG9uZSBpdGVtIG1hcmsgb2sgc2NoZWR1bGUgc2VsZWN0IHRpY2sgdGltZSB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgZXZlbnRfYnVzeTogXCJhZ2VuZGEgY2FsZW5kYXIgY2FuY2VsIGNsb3NlIGRhdGUgZXhpdCBpdGVtIG5vIHJlbW92ZSBzY2hlZHVsZSBzdG9wIHRpbWUgdW5hdmFpbGFibGVcIixcbiAgZXZlbnRfbm90ZTogXCJhZ2VuZGEgY2FsZW5kYXIgZGF0ZSBpdGVtIHNjaGVkdWxlIHRleHQgdGltZSB3cml0aW5nXCIsXG4gIGV2ZW50X3JlcGVhdDogXCJhcm91bmQgY2FsZW5kYXIgZGF0ZSBkYXkgaW5wcm9ncmVzcyBsb2FkaW5nIG1vbnRoIHJlZnJlc2ggcmVuZXcgcm90YXRlIHNjaGVkdWxlIHR1cm5cIixcbiAgZXZlbnRfc2VhdDogXCJhc3NpZ25lZCBiZW5jaCBjaGFpciBmdXJuaXR1cmUgcmVzZXJ2YXRpb24gcm93IHNlY3Rpb24gc2l0XCIsXG4gIGV2X3N0YXRpb246IFwiYXV0b21vYmlsZSBjYXJzIGNoYXJnZSBjaGFyZ2luZyBlbGVjdHJpY2l0eSBmaWxsaW5nIGZ1ZWwgZ2Fzb2xpbmUgbWFwcyBwbGFjZXMgcG93ZXIgc3RhdGlvbiB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlXCIsXG4gIGV4aXRfdG9fYXBwOiBcImFwcGxpY2F0aW9uIGFycm93IGJhY2sgY29tcG9uZW50cyBkZXNpZ24gZXhwb3J0IGludGVyZmFjZSBsYXlvdXQgbGVhdmUgbG9naW4gbG9nb3V0IG1vYmlsZSBtb25pdG9yIG1vdmUgb3V0cHV0IHBob25lIHBvaW50aW5nIHF1aXQgcmVnaXN0ZXIgcmlnaHQgc2NyZWVuIHNpZ25pbiBzaWdub3V0IHNpZ251cCB0YWJsZXQgdXggd2Vic2l0ZSB3aW5kb3dcIixcbiAgZXhwYW5kOiBcImFycm93cyBjb21wcmVzcyBlbmxhcmdlIGdyb3cgbW92ZSBwdXNoIHRvZ2V0aGVyXCIsXG4gIGV4cGFuZF9jaXJjbGVfZG93bjogXCJhcnJvd3MgY2hldnJvbiBjb2xsYXBzZSBkaXJlY3Rpb24gZXhwYW5kYWJsZSBsaXN0IG1vcmVcIixcbiAgZXhwYW5kX2xlc3M6IFwiYXJyb3dzIGNoZXZyb24gY29sbGFwc2UgZGlyZWN0aW9uIGV4cGFuZGFibGUgbGlzdCB1cFwiLFxuICBleHBhbmRfbW9yZTogXCJhcnJvd3MgY2hldnJvbiBjb2xsYXBzZSBkaXJlY3Rpb24gZG93biBleHBhbmRhYmxlIGxpc3RcIixcbiAgZXhwbGljaXQ6IFwiYWR1bHQgYWxwaGFiZXQgY2hhcmFjdGVyIGNvbnRlbnQgZm9udCBsYW5ndWFnZSBsZXR0ZXIgbWVkaWEgbW92aWVzIG11c2ljIHBhcmVudCByYXRpbmcgc3VwZXJ2aXNpb24gc3ltYm9sIHRleHQgdHlwZVwiLFxuICBleHBsb3JlOiBcImNvbXBhc3MgZGVzdGluYXRpb24gZGlyZWN0aW9uIGVhc3QgbG9jYXRpb24gbWFwcyBuZWVkbGUgbm9ydGggc291dGggdHJhdmVsIHdlc3RcIixcbiAgZXhwbG9yZV9vZmY6IFwiY29tcGFzcyBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZGlzYWJsZWQgZWFzdCBlbmFibGVkIGxvY2F0aW9uIG1hcHMgbmVlZGxlIG5vcnRoIHNsYXNoIHNvdXRoIHRyYXZlbCB3ZXN0XCIsXG4gIGV4cG9zdXJlOiBcImFkZCBicmlnaHRuZXNzIGNvbnRyYXN0IGVkaXRpbmcgZWZmZWN0IGltYWdlIG1pbnVzIHBob3RvZ3JhcGh5IHBpY3R1cmUgcGx1cyBzZXR0aW5ncyBzdWJ0cmFjdFwiLFxuICBleHRlbnNpb246IFwiYWRkLW9ucyBhcHAgZXh0ZW5kZWQgZ2FtZSBpdGVtIGppZ3NhdyBwaWVjZSBwbHVnaW4gcHV6emxlIHNoYXBlXCIsXG4gIGV4dGVuc2lvbl9vZmY6IFwiZGlzYWJsZWQgZW5hYmxlZCBleHRlbmRlZCBqaWdzYXcgcGllY2UgcHV6emxlIHNoYXBlIHNsYXNoXCIsXG4gIGZhY2U6IFwiYWNjb3VudCBhdmF0YXIgZW1vamkgZXllcyBodW1hbiBsb2dpbiBsb2dvdXQgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHJlY29nbml0aW9uIHNlY3VyaXR5IHNvY2lhbCB0aHVtYm5haWwgdW5sb2NrIHVzZXJcIixcbiAgZmFjZV9yZXRvdWNoaW5nX25hdHVyYWw6IFwiZWRpdGluZyBlZmZlY3QgZW1vamkgZW1vdGlvbiBmYWNlcyBpbWFnZSBwaG90b2dyYXBoeSBzZXR0aW5ncyBzdGFyIHRhZ1wiLFxuICBmYWNlX3JldG91Y2hpbmdfb2ZmOiBcImRpc2FibGVkIGVkaXRpbmcgZWZmZWN0IGVtb2ppIGVtb3Rpb24gZW5hYmxlZCBmYWNlcyBpbWFnZSBuYXR1cmFsIHBob3RvZ3JhcGh5IHNldHRpbmdzIHNsYXNoIHRhZ1wiLFxuICBmYWN0X2NoZWNrOiBcImFwcHJvdmUgY29tcGxldGUgZG9uZSBsaXN0IG1hcmsgb2sgc2VsZWN0IHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgeWVzXCIsXG4gIGZhY3Rvcnk6IFwiaW5kdXN0cnkgbWFudWZhY3R1cmluZyB3YXJlaG91c2VcIixcbiAgZmFtaWx5X3Jlc3Ryb29tOiBcImJhdGhyb29tIGNoaWxkcmVuIGZhdGhlciBraWRzIG1vdGhlciBwYXJlbnRzIHdjXCIsXG4gIGZhc3Rmb29kOiBcImRyaW5rIGhhbWJ1cmdlciBtYXBzIG1lYWwgcGxhY2VzXCIsXG4gIGZhc3RfZm9yd2FyZDogXCJjb250cm9sIGZmIG1lZGlhIG11c2ljIHBsYXkgc3BlZWQgdGltZSB0diB2aWRlb1wiLFxuICBmYXN0X3Jld2luZDogXCJiYWNrIGNvbnRyb2wgbWVkaWEgbXVzaWMgcGxheSBzcGVlZCB0aW1lIHR2IHZpZGVvXCIsXG4gIGZhdm9yaXRlOiBcImFwcHJlY2lhdGUgaGVhbHRoIGhlYXJ0IGxpa2UgbG92ZSByZW1lbWJlciBzYXZlIHNoYXBlIHN1Y2Nlc3NcIixcbiAgZmF2b3JpdGVfYm9yZGVyOiBcImhlYWx0aCBoZWFydCBsaWtlIGxvdmUgb3V0bGluZSByZW1lbWJlciBzYXZlIHNoYXBlIHN1Y2Nlc3NcIixcbiAgZmF4OiBcIm1hY2hpbmUgb2ZmaWNlIHBob25lIHNlbmRcIixcbiAgZmVhdHVyZWRfcGxheV9saXN0OiBcImF1ZGlvIGNvbGxlY3Rpb24gaGlnaGxpZ2h0ZWQgaXRlbSBtdXNpYyBwbGF5bGlzdCByZWNvbW1lbmRlZFwiLFxuICBmZWF0dXJlZF92aWRlbzogXCJhZHZlcnRpc2VtZW50IGFkdmVydGlzbWVudCBoaWdobGlnaHRlZCBpdGVtIHBsYXkgcmVjb21tZW5kZWQgd2F0Y2gsYWR2ZXJ0aXNlZFwiLFxuICBmZWVkOiBcImFydGljbGUgaGVhZGxpbmUgaW5mb3JtYXRpb24gbmV3c3BhcGVyIHB1YmxpYyBzb2NpYWwgdGltZWxpbmVcIixcbiAgZmVlZGJhY2s6IFwiISBhbGVydCBhbm5vdW5jZW1lbnQgYXR0ZW50aW9uIGJ1YmJsZSBjYXV0aW9uIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBkYW5nZXIgZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbWVzc2FnZSBub3RpZmljYXRpb24gc3BlZWNoIHN5bWJvbCB3YXJuaW5nXCIsXG4gIGZlbWFsZTogXCJnZW5kZXIgZ2lybCBsYWR5IHNvY2lhbCBzeW1ib2wgd29tYW4gd29tZW5cIixcbiAgZmVuY2U6IFwiYmFja3lhcmQgYmFycmllciBib3VuZGFyaWVzIGJvdW5kYXJ5IGhvbWUgaG91c2UgcHJvdGVjdGlvblwiLFxuICBmZXN0aXZhbDogXCJjaXJjdXMgZXZlbnQgbG9jYWwgbWFwcyBwbGFjZXMgdGVudCB0b3VyIHRyYXZlbFwiLFxuICBmaWJlcl9kdnI6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRpZ2l0YWwgZWxlY3Ryb25pY3MgZm9udCBsZXR0ZXIgbmV0d29yayByZWNvcmRlciBzeW1ib2wgdGV4dCB0diB0eXBlIHZpZGVvXCIsXG4gIGZpYmVyX21hbnVhbF9yZWNvcmQ6IFwiY2lyY2xlIGRvdCBwbGF5IHdhdGNoXCIsXG4gIGZpYmVyX25ldzogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBsZXR0ZXIgbmV0d29yayBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGZpYmVyX3BpbjogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBsZXR0ZXIgbmV0d29yayBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGZpYmVyX3NtYXJ0X3JlY29yZDogXCJjaXJjbGUgZG90IHBsYXkgd2F0Y2hcIixcbiAgZmlsZV9jb3B5OiBcImJpbGwgY2xvbmUgY29udGVudCBjdXQgZG9jdW1lbnQgZHVwbGljYXRlIGludm9pY2UgaXRlbSBtdWx0aXBsZSBwYWdlIHBhc3RcIixcbiAgZmlsZV9kb3dubG9hZDogXCJhcnJvd3MgZG93bmxvYWRzIGRyaXZlIGV4cG9ydCBpbnN0YWxsIHVwbG9hZFwiLFxuICBmaWxlX2Rvd25sb2FkX2RvbmU6IFwiYXJyb3dzIGNoZWNrIGRvd25sb2FkcyBkcml2ZSBpbnN0YWxsZWQgdGljayB1cGxvYWRcIixcbiAgZmlsZV9kb3dubG9hZF9vZmY6IFwiYXJyb3cgZGlzYWJsZWQgZHJpdmUgZW5hYmxlZCBleHBvcnQgaW5zdGFsbCBvbiBzYXZlIHNsYXNoIHVwbG9hZFwiLFxuICBmaWxlX29wZW46IFwiYXJyb3cgZG9jdW1lbnQgZHJpdmUgbGVmdCBwYWdlIHBhcGVyXCIsXG4gIGZpbGVfcHJlc2VudDogXCJjbGlwIGRhdGEgZG9jdW1lbnQgZHJpdmUgZm9sZGVycyBub3RlIHBhcGVyIHJlbWluZGVyIHNoZWV0IHNsaWRlIHN0b3JhZ2Ugd3JpdGluZ1wiLFxuICBmaWxlX3VwbG9hZDogXCJhcnJvd3MgZG93bmxvYWQgZHJpdmUgZXhwb3J0XCIsXG4gIGZpbHRlcjogXCJlZGl0aW5nIGVmZmVjdCBpbWFnZSBsYW5kc2NhcGUgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmUgc2V0dGluZ3NcIixcbiAgZmlsdGVyXzE6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzI6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzM6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzQ6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzU6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzY6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzc6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzg6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzk6IFwiZGlnaXQgZWRpdGluZyBlZmZlY3QgaW1hZ2VzIG11bHRpcGxlIG51bWJlciBwaG90b2dyYXBoeSBwaWN0dXJlcyBzZXR0aW5ncyBzdGFjayBzeW1ib2xcIixcbiAgZmlsdGVyXzlfcGx1czogXCIrIGRpZ2l0IGVkaXRpbmcgZWZmZWN0IGltYWdlcyBtdWx0aXBsZSBudW1iZXIgcGhvdG9ncmFwaHkgcGljdHVyZXMgc2V0dGluZ3Mgc3RhY2sgc3ltYm9sXCIsXG4gIGZpbHRlcl9hbHQ6IFwiZWRpdCBmdW5uZWwgb3B0aW9ucyByZWZpbmUgc2lmdFwiLFxuICBmaWx0ZXJfYWx0X29mZjogXCJbb2ZmbGluZV0gZGlzYWJsZWQgZWRpdCBmdW5uZWwgb3B0aW9ucyByZWZpbmUgc2lmdCBzbGFzaFwiLFxuICBmaWx0ZXJfYl9hbmRfdzogXCJibGFjayBjb250cmFzdCBlZGl0aW5nIGVmZmVjdCBncmF5c2NhbGUgaW1hZ2VzIHBob3RvZ3JhcGh5IHBpY3R1cmVzIHNldHRpbmdzIHdoaXRlXCIsXG4gIGZpbHRlcl9jZW50ZXJfZm9jdXM6IFwiY2FtZXJhIGRvdCBlZGl0IGltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgZmlsdGVyX2RyYW1hOiBcImNhbWVyYSBjbG91ZCBlZGl0aW5nIGVmZmVjdCBpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlIHNreVwiLFxuICBmaWx0ZXJfZnJhbWVzOiBcImJvYXJkZXJzIGJvcmRlciBjYW1lcmEgY2VudGVyIGVkaXRpbmcgZWZmZWN0IGZpbHRlcnMgZm9jdXMgaW1hZ2Ugb3B0aW9ucyBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIGZpbHRlcl9oZHI6IFwiY2FtZXJhIGVkaXRpbmcgZWZmZWN0IGltYWdlIG1vdW50YWlucyBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIGZpbHRlcl9saXN0OiBcImxpbmVzIG9yZ2FuaXplIHNvcnRcIixcbiAgZmlsdGVyX2xpc3Rfb2ZmOiBcIltvZmZsaW5lXSBhbHQgZGlzYWJsZWQgZWRpdCBvcHRpb25zIHJlZmluZSBzaWZ0IHNsYXNoXCIsXG4gIGZpbHRlcl9ub25lOiBcIm11bHRpcGxlIHN0YWNrXCIsXG4gIGZpbHRlcl90aWx0X3NoaWZ0OiBcImJsdXIgY2VudGVyIGVkaXRpbmcgZWZmZWN0IGZvY3VzIGltYWdlcyBwaG90b2dyYXBoeSBwaWN0dXJlc1wiLFxuICBmaWx0ZXJfdmludGFnZTogXCJlZGl0aW5nIGVmZmVjdCBmbG93ZXIgaW1hZ2VzIHBob3RvZ3JhcGh5IHBpY3R1cmVzXCIsXG4gIGZpbmRfaW5fcGFnZTogXCJkYXRhIGRvY3VtZW50IGRyaXZlIGZpbGUgZm9sZGVycyBnbGFzcyBsb29rIG1hZ25pZnlpbmcgcGFwZXIgc2VhcmNoIHNlZSBzaGVldCBzbGlkZSB3cml0aW5nXCIsXG4gIGZpbmRfcmVwbGFjZTogXCJhcm91bmQgYXJyb3dzIGdsYXNzIGlucHJvZ3Jlc3MgbG9hZGluZyBsb29rIG1hZ25pZnlpbmcgcmVmcmVzaCByZW5ldyByb3RhdGUgc2VhcmNoIHNlZVwiLFxuICBmaW5nZXJwcmludDogXCJiaW9tZXRyaWNzIGlkZW50aWZpY2F0aW9uIGlkZW50aXR5IHJlYWRlciB0aHVtYnByaW50IHRvdWNoaWQgdmVyaWZpY2F0aW9uXCIsXG4gIGZpcmVfZXh0aW5ndWlzaGVyOiBcImVtZXJnZW5jeSB3YXRlclwiLFxuICBmaXJlcGxhY2U6IFwiY2hpbW5leSBmbGFtZSBob21lIGhvdXNlIGxpdmluZyBwaXQgcm9vbSB3YXJtIHdpbnRlclwiLFxuICBmaXJzdF9wYWdlOiBcImFycm93IGJhY2sgY2hldnJvbiBsZWZ0IHJld2luZFwiLFxuICBmaXRuZXNzX2NlbnRlcjogXCJhdGhsZXRlIGR1bWJiZWxsIGV4ZXJjaXNlIGd5bSBoZWFsdGggaG9iYnkgcGxhY2VzIHNwb3J0IHdlaWdodHMgd29ya291dFwiLFxuICBmaXRfc2NyZWVuOiBcImVubGFyZ2UgZm9ybWF0IGxheW91dCByZWR1Y2Ugc2NhbGUgc2l6ZVwiLFxuICBmbGFnOiBcImNvdW50cnkgZ29hbCBtYXJrIG5hdGlvbiByZXBvcnQgc3RhcnRcIixcbiAgZmxhZ19jaXJjbGU6IFwiY291bnRyeSBnb2FsIG1hcmsgbmF0aW9uIHJlcG9ydCByb3VuZCBzdGFydFwiLFxuICBmbGFreTogXCJhcHByb3ZlIGNoZWNrIGNsb3NlIGNvbXBsZXRlIGNvbnRyYXN0IGRvbmUgZXhpdCBtYXJrIG5vIG9rIG9wdGlvbnMgc2VsZWN0IHN0b3AgdGljayB2ZXJpZmllZCB5ZXNcIixcbiAgZmxhcmU6IFwiYnJpZ2h0IGVkaXRpbmcgZWZmZWN0IGltYWdlcyBsZW5zZmxhcmUgbGlnaHQgcGhvdG9ncmFwaHkgcGljdHVyZXMgc2hpbmUgc3BhcmtsZSBzdGFyIHN1blwiLFxuICBmbGFzaF9hdXRvOiBcImNhbWVyYSBlbGVjdHJpYyBmYXN0IGxpZ2h0bmluZyB0aHVuZGVyYm9sdFwiLFxuICBmbGFzaGxpZ2h0X29mZjogXCJkaXNhYmxlZCBlbmFibGVkIG9uIHNsYXNoXCIsXG4gIGZsYXNobGlnaHRfb246IFwiZGlzYWJsZWQgZW5hYmxlZCBvZmYgc2xhc2hcIixcbiAgZmxhc2hfb2ZmOiBcImNhbWVyYSBkaXNhYmxlZCBlbGVjdHJpYyBlbmFibGVkIGZhc3QgbGlnaHRuaW5nIG9uIHNsYXNoIHRodW5kZXJib2x0XCIsXG4gIGZsYXNoX29uOiBcImNhbWVyYSBkaXNhYmxlZCBlbGVjdHJpYyBlbmFibGVkIGZhc3QgbGlnaHRuaW5nIG9mZiBzbGFzaCB0aHVuZGVyYm9sdFwiLFxuICBmbGF0d2FyZTogXCJjYWZldGVyaWEgY3V0bGVyeSBkaW5lciBkaW5pbmcgZWF0aW5nIGZvcmsgcm9vbSBzcG9vblwiLFxuICBmbGlnaHQ6IFwiYWlycGxhbmUgYWlycG9ydCBmbHlpbmcgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRyaXBcIixcbiAgZmxpZ2h0X2NsYXNzOiBcImFpcnBsYW5lIGJ1c2luZXNzIGZpcnN0IHNlYXQgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRyaXAgd2luZG93XCIsXG4gIGZsaWdodF9sYW5kOiBcImFpcnBsYW5lIGFpcnBvcnQgYXJyaXZhbCBhcnJpdmluZyBmbHlpbmcgbGFuZGluZyB0cmFuc3BvcnRhdGlvbiB0cmF2ZWxcIixcbiAgZmxpZ2h0X3Rha2VvZmY6IFwiYWlycGxhbmUgYWlycG9ydCBkZXBhcnRlZCBkZXBhcnRpbmcgZmx5aW5nIGxhbmRpbmcgdHJhbnNwb3J0YXRpb24gdHJhdmVsXCIsXG4gIGZsaXA6IFwiZWRpdGluZyBpbWFnZSBvcmllbnRhdGlvbiBzY2FubmluZ1wiLFxuICBmbGlwX2NhbWVyYV9hbmRyb2lkOiBcImNlbnRlciBlZGl0aW5nIGZyb250IGltYWdlIG1vYmlsZSBvcmllbnRhdGlvbiByZWFyIHJldmVyc2Ugcm90YXRlIHR1cm5cIixcbiAgZmxpcF9jYW1lcmFfaW9zOiBcImFuZHJvaWQgZWRpdGluZyBmcm9udCBpbWFnZSBtb2JpbGUgb3JpZW50YXRpb24gcmVhciByZXZlcnNlIHJvdGF0ZSB0dXJuXCIsXG4gIGZsaXBfdG9fYmFjazogXCJhcnJhbmdlbWVudCBmb3JtYXQgZnJvbnQgbGF5b3V0IG1vdmUgb3JkZXIgc29ydFwiLFxuICBmbGlwX3RvX2Zyb250OiBcImFycmFuZ2VtZW50IGJhY2sgZm9ybWF0IGxheW91dCBtb3ZlIG9yZGVyIHNvcnRcIixcbiAgZmx1dHRlcl9kYXNoOiBcImJpcmQgbWFzY290XCIsXG4gIGZtZF9iYWQ6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBkYW5nZXIgZGVzdGluYXRpb24gZGlyZWN0aW9uIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBsb2NhdGlvbiBtYXBzIG1hcmsgbm90aWZpY2F0aW9uIHBpbiBwbGFjZSBzeW1ib2wgd2FybmluZ1wiLFxuICBmbWRfZ29vZDogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gbG9jYXRpb24gbWFwcyBwaW4gcGxhY2Ugc3RvcFwiLFxuICBmb2xkZXI6IFwiZGF0YSBkaXJlY3RvcnkgZG9jdW1lbnQgZHJpdmUgZmlsZSBmb2xkZXJzIHNoZWV0IHNsaWRlIHN0b3JhZ2VcIixcbiAgZm9sZGVyX2RlbGV0ZTogXCJiaW4gY2FuIGRhdGEgZG9jdW1lbnQgZHJpdmUgZmlsZSBmb2xkZXJzIGdhcmJhZ2UgcmVtb3ZlIHNoZWV0IHNsaWRlIHN0b3JhZ2UgdHJhc2hcIixcbiAgZm9sZGVyX29mZjogXCJbb25saW5lXSBkYXRhIGRpc2FibGVkIGRvY3VtZW50IGRyaXZlIGVuYWJsZWQgZmlsZSBmb2xkZXJzIHNoZWV0IHNsYXNoIHNsaWRlIHN0b3JhZ2VcIixcbiAgZm9sZGVyX29wZW46IFwiZGF0YSBkaXJlY3RvcnkgZG9jdW1lbnQgZHJpdmUgZmlsZSBmb2xkZXJzIHNoZWV0IHNsaWRlIHN0b3JhZ2VcIixcbiAgZm9sZGVyX3NoYXJlZDogXCJhY2NvdW50IGNvbGxhYm9yYXRpb24gZGF0YSBkaXJlY3RvcnkgZG9jdW1lbnQgZHJpdmUgZmFjZSBodW1hbiBwZW9wbGUgcGVyc29uIHByb2ZpbGUgc2hlZXQgc2xpZGUgc3RvcmFnZSB0ZWFtIHVzZXJcIixcbiAgZm9sZGVyX3NwZWNpYWw6IFwiYm9va21hcmsgZGF0YSBkaXJlY3RvcnkgZG9jdW1lbnQgZHJpdmUgZmF2b3JpdGUgZmlsZSBoaWdobGlnaHQgaW1wb3J0YW50IG1hcmtlZCBzYXZlZCBzaGFwZSBzaGVldCBzbGlkZSBzdGFyIHN0b3JhZ2VcIixcbiAgZm9sZGVyX3ppcDogXCJjb21wcmVzcyBkYXRhIGRvY3VtZW50IGRyaXZlIGZpbGUgZm9sZGVycyBvcGVuIHNoZWV0IHNsaWRlIHN0b3JhZ2VcIixcbiAgZm9sbG93X3RoZV9zaWduczogXCJhcnJvdyBib2R5IGRpcmVjdGlvbmFsIGh1bWFuIHBlb3BsZSBwZXJzb24gcmlnaHQgc29jaWFsXCIsXG4gIGZvbnRfZG93bmxvYWQ6IFwiQSBhbHBoYWJldCBjaGFyYWN0ZXIgbGV0dGVyIHNxdWFyZSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGZvbnRfZG93bmxvYWRfb2ZmOiBcImFscGhhYmV0IGNoYXJhY3RlciBkaXNhYmxlZCBlbmFibGVkIGxldHRlciBzbGFzaCBzcXVhcmUgc3ltYm9sIHRleHQgdHlwZVwiLFxuICBmb29kX2Jhbms6IFwiYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGNoYXJpdHkgZWF0IGVzdGF0ZSBmb3JrIGhvdXNlIGtuaWZlIG1lYWwgcGxhY2UgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlciB1dGVuc2lsc1wiLFxuICBmb3Jlc3Q6IFwianVuZ2xlIG5hdHVyZSBwbGFudGF0aW9uIHBsYW50cyB0cmVlcyB3b29kbGFuZFwiLFxuICBmb3JrX2xlZnQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcm91dGUgc2lnbiB0cmFmZmljXCIsXG4gIGZvcmtfcmlnaHQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcm91dGUgc2lnbiB0cmFmZmljXCIsXG4gIGZvcm1hdF9hbGlnbl9jZW50ZXI6IFwiYWxpZ25tZW50IGRvYyBlZGl0aW5nIGVkaXRvciBsaW5lcyBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfYWxpZ25fanVzdGlmeTogXCJhbGlnbm1lbnQgZGVuc2l0eSBkb2MgZWRpdGluZyBlZGl0b3IgZXh0cmEgbGluZXMgc21hbGwgc3ByZWFkc2hlZXQgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X2FsaWduX2xlZnQ6IFwiYWxpZ25tZW50IGRvYyBlZGl0aW5nIGVkaXRvciBsaW5lcyBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfYWxpZ25fcmlnaHQ6IFwiYWxpZ25tZW50IGRvYyBlZGl0aW5nIGVkaXRvciBsaW5lcyBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfYm9sZDogXCJCIGFscGhhYmV0IGNoYXJhY3RlciBkb2MgZWRpdGluZyBlZGl0b3IgZm9udCBsZXR0ZXIgc3ByZWFkc2hlZXQgc3R5bGVzIHN5bWJvbCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfY2xlYXI6IFwiVCBhbHBoYWJldCBjaGFyYWN0ZXIgZGlzYWJsZWQgZG9jIGVkaXRpbmcgZWRpdG9yIGVuYWJsZWQgZm9udCBsZXR0ZXIgb2ZmIHNsYXNoIHNwcmVhZHNoZWV0IHN0eWxlIHN5bWJvbCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfY29sb3JfZmlsbDogXCJidWNrZXQgZG9jIGVkaXRpbmcgZWRpdG9yIHBhaW50IHNwcmVhZHNoZWV0IHN0eWxlIHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9jb2xvcl9yZXNldDogXCJjbGVhciBkaXNhYmxlZCBkb2MgZHJvcGxldCBlZGl0aW5nIGVkaXRvciBlbmFibGVkIGZpbGwgbGlxdWlkIG9mZiBvbiBwYWludCBzbGFzaCBzcHJlYWRzaGVldCBzdHlsZSB0ZXh0IHR5cGUgd2F0ZXIgd3JpdGluZ1wiLFxuICBmb3JtYXRfY29sb3JfdGV4dDogXCJkb2MgZWRpdGluZyBlZGl0b3IgZmlsbCBwYWludCBzcHJlYWRzaGVldCBzdHlsZSB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X2luZGVudF9kZWNyZWFzZTogXCJhbGlnbm1lbnQgZG9jIGVkaXRpbmcgZWRpdG9yIGluZGVudGF0aW9uIHBhcmFncmFwaCBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfaW5kZW50X2luY3JlYXNlOiBcImFsaWdubWVudCBkb2MgZWRpdGluZyBlZGl0b3IgaW5kZW50YXRpb24gcGFyYWdyYXBoIHNwcmVhZHNoZWV0IHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9pdGFsaWM6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRvYyBlZGl0aW5nIGVkaXRvciBmb250IGxldHRlciBzcHJlYWRzaGVldCBzdHlsZSBzeW1ib2wgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X2xpbmVfc3BhY2luZzogXCJhbGlnbm1lbnQgZG9jIGVkaXRpbmcgZWRpdG9yIHNwcmVhZHNoZWV0IHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9saXN0X2J1bGxldGVkOiBcImFsaWdubWVudCBkb2MgZWRpdGluZyBlZGl0b3Igbm90ZXMgc3ByZWFkc2hlZXQgdGFzayB0ZXh0IHRvZG8gdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9saXN0X251bWJlcmVkOiBcImFsaWdubWVudCBkaWdpdCBkb2MgZWRpdGluZyBlZGl0b3Igbm90ZXMgc3ByZWFkc2hlZXQgc3ltYm9sIHRhc2sgdGV4dCB0b2RvIHR5cGUgd3JpdGluZ1wiLFxuICBmb3JtYXRfbGlzdF9udW1iZXJlZF9ydGw6IFwiYWxpZ25tZW50IGRpZ2l0IGRvYyBlZGl0aW5nIGVkaXRvciBub3RlcyBzcHJlYWRzaGVldCBzeW1ib2wgdGFzayB0ZXh0IHRvZG8gdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9vdmVybGluZTogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZG9jIGVkaXRpbmcgZWRpdG9yIGZvbnQgbGV0dGVyIHNwcmVhZHNoZWV0IHN0eWxlIHN5bWJvbCB0ZXh0IHR5cGUgdW5kZXIgd3JpdGluZ1wiLFxuICBmb3JtYXRfcGFpbnQ6IFwiYnJ1c2ggY29sb3IgZG9jIGVkaXRpbmcgZWRpdG9yIGZpbGwgcGFpbnRyb2xsZXIgc3ByZWFkc2hlZXQgc3R5bGUgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3F1b3RlOiBcImRvYyBlZGl0aW5nIGVkaXRvciBxdW90YXRpb24gc3ByZWFkc2hlZXQgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3NoYXBlczogXCJhbHBoYWJldCBjaGFyYWN0ZXIgY29sb3IgZG9jIGVkaXRpbmcgZWRpdG9yIGZpbGwgZm9udCBsZXR0ZXIgcGFpbnQgc3ByZWFkc2hlZXQgc3R5bGUgc3ltYm9sIHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIGZvcm1hdF9zaXplOiBcImFscGhhYmV0IGNoYXJhY3RlciBjb2xvciBkb2MgZWRpdGluZyBlZGl0b3IgZmlsbCBmb250IGxldHRlciBwYWludCBzcHJlYWRzaGVldCBzdHlsZSBzeW1ib2wgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3N0cmlrZXRocm91Z2g6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRvYyBlZGl0aW5nIGVkaXRvciBmb250IGxldHRlciBzcHJlYWRzaGVldCBzdHlsZSBzeW1ib2wgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3RleHRkaXJlY3Rpb25fbF90b19yOiBcImFsaWdubWVudCBkb2MgZWRpdGluZyBlZGl0b3IgbHRyIHBhcmFncmFwaCBzcHJlYWRzaGVldCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3RleHRkaXJlY3Rpb25fcl90b19sOiBcImFsaWdubWVudCBkb2MgZWRpdGluZyBlZGl0b3IgcGFyYWdyYXBoIHJ0bCBzcHJlYWRzaGVldCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ybWF0X3VuZGVybGluZWQ6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRvYyBlZGl0aW5nIGVkaXRvciBmb250IGxldHRlciBzcHJlYWRzaGVldCBzdHlsZSBzeW1ib2wgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgZm9ydW06IFwiYnViYmxlIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBjb21tdW5pdHkgY29udmVyc2F0aW9uIGZlZWRiYWNrIGh1YiBtZXNzYWdlcyBzcGVlY2ggdGFsa1wiLFxuICBmb3J3YXJkOiBcImFycm93IG1haWwgbWVzc2FnZSBwbGF5YmFjayByaWdodCBzZW50XCIsXG4gIGZvcndhcmRfMTA6IFwiYXJyb3cgY2lyY2xlIGNvbnRyb2xzIGRpZ2l0IGZhc3QgbXVzaWMgbnVtYmVyIHBsYXkgcm90YXRlIHNlY29uZHMgc3BlZWQgc3ltYm9sIHRpbWUgdmlkZW9cIixcbiAgZm9yd2FyZF8zMDogXCJhcnJvdyBjaXJjbGUgY29udHJvbHMgZGlnaXQgZmFzdCBtdXNpYyBudW1iZXIgcm90YXRlIHNlY29uZHMgc3BlZWQgc3ltYm9sIHRpbWUgdmlkZW9cIixcbiAgZm9yd2FyZF81OiBcIjEwIGFycm93IGNpcmNsZSBjb250cm9scyBkaWdpdCBmYXN0IG11c2ljIG51bWJlciByb3RhdGUgc2Vjb25kcyBzcGVlZCBzeW1ib2wgdGltZSB2aWRlb1wiLFxuICBmb3J3YXJkX3RvX2luYm94OiBcImFycm93IGVtYWlsIGVudmVsb3AgbGV0dGVyIG1lc3NhZ2Ugc2VuZFwiLFxuICBmb3VuZGF0aW9uOiBcImFyY2hpdGVjdHVyZSBiYXNlIGJhc2lzIGJ1aWxkaW5nIGNvbnN0cnVjdGlvbiBlc3RhdGUgaG9tZSBob3VzZSByZWFsIHJlc2lkZW50aWFsXCIsXG4gIGZyZWVfYnJlYWtmYXN0OiBcImJldmVyYWdlIGNhZmUgY29mZmVlIGN1cCBkcmluayBtdWcgdGVhXCIsXG4gIGZ1bGxzY3JlZW46IFwiYWRqdXN0IGFwcGxpY2F0aW9uIGNvbXBvbmVudHMgaW50ZXJmYWNlIHNpemUgdWkgdXggdmlldyB3ZWJzaXRlXCIsXG4gIGZ1bGxzY3JlZW5fZXhpdDogXCJhZGp1c3QgYXBwbGljYXRpb24gY29tcG9uZW50cyBpbnRlcmZhY2Ugc2l6ZSB1aSB1eCB2aWV3IHdlYnNpdGVcIixcbiAgZnVuY3Rpb25zOiBcImF2ZXJhZ2UgY2FsY3VsYXRlIGNvdW50IGRvYyBlZGl0aW5nIGVkaXRvciBtYXRoIHNpZ21hIHNwcmVhZHNoZWV0IHN0eWxlIHN1bSB0ZXh0IHR5cGUgd3JpdGluZ1wiLFxuICBnYW1lcGFkOiBcImJ1dHRvbnMgY29uc29sZSBjb250cm9sbGVyIGRldmljZSBnYW1pbmcgcGxheXN0YXRpb24gdmlkZW9cIixcbiAgZ2FtZXM6IFwiYWRqdXN0IGFycm93cyBjb250cm9sbGVyIGRpcmVjdGlvbiBkcGFkIGdhbWluZyBsZWZ0IG1vdmUgbmludGVuZG8gcGxheXN0YXRpb24gcmlnaHQgeGJveFwiLFxuICBnYXJhZ2U6IFwiYXV0b21vYmlsZSBhdXRvbW90aXZlIGNhcnMgZGlyZWN0aW9uIG1hcHMgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHZlaGljbGVcIixcbiAgZ2FzX21ldGVyOiBcImRyb3BsZXQgZW5lcmd5IG1lYXN1cmUgbmVzdCB1c2FnZSB3YXRlclwiLFxuICBnYXZlbDogXCJhZ3JlZW1lbnQgY29udHJhY3QgY291cnQgZG9jdW1lbnQgZ292ZXJubWVudCBoYW1tZXIganVkZ2UgbGF3IG1hbGxldCBvZmZpY2lhbCBwb2xpY2UgcnVsZXMgdGVybXNcIixcbiAgZ2VzdHVyZTogXCJkcmF3aW5nIGZpbmdlciBnZXN0dXJlcyBoYW5kIGxpbmUgbW90aW9uXCIsXG4gIGdldF9hcHA6IFwiYXJyb3dzIGRvd25sb2FkcyBleHBvcnQgaW5zdGFsbCBwbGF5IHBvaW50aW5nIHJldHJpZXZlIHVwbG9hZFwiLFxuICBnaWY6IFwiYWxwaGFiZXQgYW5pbWF0ZWQgYW5pbWF0aW9uIGJpdG1hcCBjaGFyYWN0ZXIgZm9udCBmb3JtYXQgZ3JhcGhpY3MgaW50ZXJjaGFuZ2UgbGV0dGVyIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgZ2lmX2JveDogXCJhbHBoYWJldCBhbmltYXRlZCBhbmltYXRpb24gYml0bWFwIGNoYXJhY3RlciBmb250IGZvcm1hdCBncmFwaGljcyBpbnRlcmNoYW5nZSBsZXR0ZXIgc3ltYm9sIHRleHQgdHlwZVwiLFxuICBnaXJsOiBcImJvZHkgZmVtYWxlIGdlbmRlciBodW1hbiBsYWR5IHBlb3BsZSBwZXJzb24gc29jaWFsIHN5bWJvbCB3b21hbiB3b21lblwiLFxuICBnaXRlOiBcImFyY2hpdGVjdHVyZSBlc3RhdGUgaG9tZSBob3N0ZWwgaG91c2UgbWFwcyBwbGFjZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzdGF5IHRyYXZlbGluZ1wiLFxuICBnX21vYmlsZWRhdGE6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgbGV0dGVyIG5ldHdvcmsgc2VydmljZSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGdvbGZfY291cnNlOiBcImF0aGxldGUgYXRobGV0aWMgYmFsbCBjbHViIGVudGVydGFpbm1lbnQgZmxhZyBnb2xmZXIgZ29sZmluZyBob2JieSBob2xlIHBsYWNlcyBwdXR0IHNwb3J0c1wiLFxuICBncHBfYmFkOiBcImNhbmNlbCBjZXJ0aWZpZWQgY2xvc2UgZXJyb3IgZXhpdCBubyBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiByZW1vdmUgc2VjdXJpdHkgc2hpZWxkIHNpbSBzdG9wIHZlcmlmaWVkXCIsXG4gIGdwcF9nb29kOiBcImNlcnRpZmllZCBjaGVjayBvayBwYXNzIHNlY3VyaXR5IHNoaWVsZCBzaW0gdGlja1wiLFxuICBncHBfbWF5YmU6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBjZXJ0aWZpZWQgZGFuZ2VyIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiBzZWN1cml0eSBzaGllbGQgc2ltIHN5bWJvbCB2ZXJpZmllZCB3YXJuaW5nXCIsXG4gIGdwc19maXhlZDogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gbG9jYXRpb24gbWFwcyBwaW4gcGxhY2UgcG9pbnRlciBzdG9wIHRyYWNraW5nXCIsXG4gIGdwc19ub3RfZml4ZWQ6IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGRpc2FibGVkIGVuYWJsZWQgZml4ZWQgbG9jYXRpb24gbWFwcyBub3Qgb2ZmIG9ubGluZSBwbGFjZSBwb2ludGVyIHNsYXNoIHRyYWNraW5nXCIsXG4gIGdwc19vZmY6IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGRpc2FibGVkIGVuYWJsZWQgZml4ZWQgbG9jYXRpb24gbWFwcyBub3Qgb2ZmbGluZSBwbGFjZSBwb2ludGVyIHNsYXNoIHRyYWNraW5nXCIsXG4gIGdyYWRlOiBcImFjaGlldmVtZW50IGltcG9ydGFudCBsaWtlcyBtYXJrZWQgcmF0ZWQgcmF0aW5nIHJld2FyZCBzYXZlZCBzaGFwZSBzcGVjaWFsIHN0YXJcIixcbiAgZ3JhZGllbnQ6IFwiY29sb3IgZWRpdGluZyBlZmZlY3QgZmlsdGVyIGltYWdlcyBwaG90b2dyYXBoeSBwaWN0dXJlc1wiLFxuICBncmFkaW5nOiBcImFwcHJvdmUgY2hlY2sgY29tcGxldGUgZG9jdW1lbnQgZG9uZSBmZWVkYmFjayBncmFkZSBtYXJrIG9rIHJldmlld2VkIHNlbGVjdCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHdyaXRpbmcgeWVzXCIsXG4gIGdyYWluOiBcImRvdHMgZWRpdGluZyBlZmZlY3QgZmlsdGVyIGltYWdlcyBwaG90b2dyYXBoeSBwaWN0dXJlc1wiLFxuICBncmFwaGljX2VxOiBcImF1ZGlvIGVxdWFsaXplciBtdXNpYyByZWNvcmRpbmcgc291bmQgdm9pY2VcIixcbiAgZ3Jhc3M6IFwiYmFja3lhcmQgZm9kZGVyIGdyb3VuZCBob21lIGxhd24gcGxhbnQgdHVyZlwiLFxuICBncmlkX2dvbGRlbnJhdGlvOiBcImxheW91dCBsaW5lcyBzcGFjZVwiLFxuICBncmlkX29mZjogXCJjb2xsYWdlIGRpc2FibGVkIGVuYWJsZWQgaW1hZ2UgbGF5b3V0IG9uIHNsYXNoIHZpZXdcIixcbiAgZ3JpZF9vbjogXCJjb2xsYWdlIGRpc2FibGVkIGVuYWJsZWQgaW1hZ2UgbGF5b3V0IG9mZiBzaGVldCBzbGFzaCB2aWV3XCIsXG4gIGdyaWRfdmlldzogXCJhcHBsaWNhdGlvbiBibG9ja3MgY29tcG9uZW50cyBkYXNoYm9hcmQgZGVzaWduIGludGVyZmFjZSBsYXlvdXQgc2NyZWVuIHNxdWFyZSB0aWxlcyB1aSB1eCB3ZWJzaXRlIHdpbmRvd1wiLFxuICBncm91cDogXCJhY2NvdW50cyBjb21taXR0ZWUgZmFjZSBmYW1pbHkgZnJpZW5kcyBodW1hbnMgbmV0d29yayBwZW9wbGUgcGVyc29ucyBwcm9maWxlcyBzb2NpYWwgdGVhbSB1c2Vyc1wiLFxuICBncm91cF9hZGQ6IFwiYWNjb3VudHMgY29tbWl0dGVlIGZhY2UgZmFtaWx5IGZyaWVuZHMgaHVtYW5zIGluY3JlYXNlIG1vcmUgbmV0d29yayBwZW9wbGUgcGVyc29ucyBwbHVzIHByb2ZpbGVzIHNvY2lhbCB0ZWFtIHVzZXJzXCIsXG4gIGdyb3VwX3JlbW92ZTogXCJhY2NvdW50cyBjb21taXR0ZWUgZmFjZSBmYW1pbHkgZnJpZW5kcyBodW1hbnMgbmV0d29yayBwZW9wbGUgcGVyc29ucyBwcm9maWxlcyBzb2NpYWwgdGVhbSB1c2Vyc1wiLFxuICBncm91cHM6IFwiYm9keSBjbHViIGNvbGxhYm9yYXRpb24gY3Jvd2QgZ2F0aGVyaW5nIGh1bWFuIG1lZXRpbmcgcGVvcGxlIHBlcnNvbiBzb2NpYWwgdGVhbXNcIixcbiAgZ3JvdXBfd29yazogXCJhbGxpYW5jZSBjaXJjbGUgY29sbGFib3JhdGlvbiBmaWxtIHBhcnRuZXJzaGlwIHJlZWwgdGVhbXdvcmsgdG9nZXRoZXJcIixcbiAgZ190cmFuc2xhdGU6IFwiZW1ibGVtIGdvb2dsZSBsYW5ndWFnZSBsb2dvIG1hcmsgc3BlYWtpbmcgc3BlZWNoIHRyYW5zbGF0b3Igd29yZHNcIixcbiAgaGFpbDogXCJib2R5IGh1bWFuIHBlb3BsZSBwZXJzb24gcGljayBwdWJsaWMgc3RvcCB0YXhpIHRyYW5zcG9ydGF0aW9uXCIsXG4gIGhhbmR5bWFuOiBcImJ1aWxkIGNvbnN0cnVjdGlvbiBmaXggaGFtbWVyIHJlcGFpciBzY3Jld2RyaXZlciB0b29sc1wiLFxuICBoYXJkd2FyZTogXCJicmVhayBjb25zdHJ1Y3Rpb24gaGFtbWVyIG5haWwgcmVwYWlyIHRvb2xcIixcbiAgaGQ6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRlZmluaXRpb24gZGlzcGxheSBmb250IGhpZ2ggbGV0dGVyIG1vdmllcyBxdWFsaXR5IHJlc29sdXRpb24gc2NyZWVuIHN5bWJvbCB0ZXh0IHR2IHR5cGUgdmlkZW9cIixcbiAgaGRyX2F1dG86IFwiQSBhbHBoYWJldCBjYW1lcmEgY2hhcmFjdGVyIGNpcmNsZSBkeW5hbWljIGZvbnQgaGlnaCBsZXR0ZXIgcGhvdG8gcmFuZ2Ugc3ltYm9sIHRleHQgdHlwZVwiLFxuICBoZHJfYXV0b19zZWxlY3Q6IFwiKyBBIGFscGhhYmV0IGNhbWVyYSBjaGFyYWN0ZXIgY2lyY2xlIGR5bmFtaWMgZm9udCBoaWdoIGxldHRlciBwaG90byByYW5nZSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhkcl9lbmhhbmNlZF9zZWxlY3Q6IFwiYWRkIGFscGhhYmV0IGNoYXJhY3RlciBkeW5hbWljIGZvbnQgaGlnaCBsZXR0ZXIgcGx1cyByYW5nZSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhkcl9vZmY6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRpc2FibGVkIGR5bmFtaWMgZW5hYmxlZCBlbmhhbmNlIGZvbnQgaGlnaCBsZXR0ZXIgcmFuZ2Ugc2VsZWN0IHNsYXNoIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgaGRyX29mZl9zZWxlY3Q6IFwiYWxwaGFiZXQgY2FtZXJhIGNoYXJhY3RlciBjaXJjbGUgZGlzYWJsZWQgZHluYW1pYyBlbmFibGVkIGZvbnQgaGlnaCBsZXR0ZXIgcGhvdG8gcmFuZ2Ugc2xhc2ggc3ltYm9sIHRleHQgdHlwZVwiLFxuICBoZHJfb246IFwiYWRkIGFscGhhYmV0IGNoYXJhY3RlciBkeW5hbWljIGVuaGFuY2UgZm9udCBoaWdoIGxldHRlciBwbHVzIHJhbmdlIHNlbGVjdCBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhkcl9vbl9zZWxlY3Q6IFwiKyBhbHBoYWJldCBjYW1lcmEgY2hhcmFjdGVyIGNpcmNsZSBkeW5hbWljIGZvbnQgaGlnaCBsZXR0ZXIgcGhvdG8gcmFuZ2Ugc3ltYm9sIHRleHQgdHlwZVwiLFxuICBoZHJfcGx1czogXCIrIGFkZCBhbHBoYWJldCBjaGFyYWN0ZXIgY2lyY2xlIGR5bmFtaWMgZW5oYW5jZSBmb250IGhpZ2ggbGV0dGVyIHJhbmdlIHNlbGVjdCBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhkcl9zdHJvbmc6IFwiY2lyY2xlcyBkb3RzIGR5bmFtaWMgZW5oYW5jZSBoaWdoIHJhbmdlXCIsXG4gIGhkcl93ZWFrOiBcImNpcmNsZXMgZG90cyBkeW5hbWljIGVuaGFuY2UgaGlnaCByYW5nZVwiLFxuICBoZWFkcGhvbmVzOiBcImFjY2Vzc29yeSBhdWRpbyBkZXZpY2UgZWFycGhvbmUgaGVhZHNldCBsaXN0ZW4gbXVzaWMgc291bmRcIixcbiAgaGVhZHBob25lc19iYXR0ZXJ5OiBcImFjY2Vzc29yeSBhdWRpbyBjaGFyZ2luZyBkZXZpY2UgZWFycGhvbmUgaGVhZHNldCBsaXN0ZW4gbXVzaWMgc291bmRcIixcbiAgaGVhZHNldDogXCJhY2Nlc3NvcnkgYXVkaW8gZGV2aWNlIGVhcmJ1ZHMgZWFybXVmZnMgZWFycGhvbmUgaGVhZHBob25lcyBsaXN0ZW4gbXVzaWMgc291bmRcIixcbiAgaGVhZHNldF9taWM6IFwiYWNjZXNzb3J5IGF1ZGlvIGNoYXQgZGV2aWNlIGVhcnBob25lIGhlYWRwaG9uZXMgbGlzdGVuIG11c2ljIHNvdW5kIHRhbGtcIixcbiAgaGVhZHNldF9vZmY6IFwiYWNjZXNzb3J5IGF1ZGlvIGNoYXQgZGV2aWNlIGRpc2FibGVkIGVhcnBob25lIGVuYWJsZWQgaGVhZHBob25lcyBsaXN0ZW4gbWljIG11c2ljIHNsYXNoIHNvdW5kIHRhbGtcIixcbiAgaGVhbGluZzogXCJiYW5kYWdlIGJhbmRhaWQgZWRpdGluZyBlbWVyZ2VuY3kgZml4IGhlYWx0aCBob3NwaXRhbCBpbWFnZSBtZWRpY2luZVwiLFxuICBoZWFsdGhfYW5kX3NhZmV0eTogXCIrIGFkZCBjZXJ0aWZpZWQgcGx1cyBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiBzZWN1cml0eSBzaGllbGQgc3ltYm9sIHZlcmlmaWVkXCIsXG4gIGhlYXJpbmc6IFwiYWNjZXNzaWJpbGl0eSBhY2Nlc3NpYmxlIGFpZCBoYW5kaWNhcCBoZWxwIGltcGFpcmVkIGxpc3RlbiBzb3VuZCB2b2x1bWVcIixcbiAgaGVhcmluZ19kaXNhYmxlZDogXCJhY2Nlc3NpYmlsaXR5IGFjY2Vzc2libGUgYWlkIGVuYWJsZWQgaGFuZGljYXAgaGVscCBpbXBhaXJlZCBsaXN0ZW4gb2ZmIG9uIHNsYXNoIHNvdW5kIHZvbHVtZVwiLFxuICBoZWFydF9icm9rZW46IFwiYnJlYWsgY29yZSBjcnVzaCBoZWFsdGggbnVjbGV1cyBzcGxpdFwiLFxuICBoZWF0X3B1bXA6IFwiYWlyIGNvbmRpdGlvbmVyIGNvb2wgZW5lcmd5IGZ1cm5hbmNlIG5lc3QgdXNhZ2VcIixcbiAgaGVpZ2h0OiBcImFycm93cyBjb2xvciBkb2MgZG93biBlZGl0aW5nIGVkaXRvciBmaWxsIGZvcm1hdCBwYWludCByZXNpemUgc3ByZWFkc2hlZXQgc3RyZXRjaCBzdHlsZSB0ZXh0IHR5cGUgdXAgd3JpdGluZ1wiLFxuICBoZWxwOiBcIj8gYWxlcnQgYW5ub3VuY2VtZW50IGFzc2lzdGFuY2UgY2lyY2xlIGluZm9ybWF0aW9uIG1hcmsgcHVuY3R1YXRpb24gcXVlc3Rpb24gc2hhcGUgc3VwcG9ydCBzeW1ib2xcIixcbiAgaGVscF9jZW50ZXI6IFwiPyBhc3Npc3RhbmNlIGluZm9ybWF0aW9uIG1hcmsgcHVuY3R1YXRpb24gcXVlc3Rpb24gc3VwcG9ydCBzeW1ib2xcIixcbiAgaGVscF9vdXRsaW5lOiBcIj8gYWxlcnQgYW5ub3VuY2VtZW50IGFzc2lzdGFuY2UgY2lyY2xlIGluZm9ybWF0aW9uIG1hcmsgcHVuY3R1YXRpb24gcXVlc3Rpb24gc2hhcGUgc3VwcG9ydCBzeW1ib2xcIixcbiAgaGV2YzogXCJhbHBoYWJldCBjaGFyYWN0ZXIgY29kaW5nIGVmZmljaWVuY3kgZm9udCBoaWdoIGxldHRlciBzeW1ib2wgdGV4dCB0eXBlIHZpZGVvXCIsXG4gIGhleGFnb246IFwic2hhcGUgc2lkZXMgc2l4XCIsXG4gIGhpZGVfaW1hZ2U6IFwiZGlzYWJsZWQgZW5hYmxlZCBsYW5kc2NhcGUgbW91bnRhaW5zIG9mZiBvbiBwaG90b2dyYXBoeSBwaWN0dXJlIHNsYXNoXCIsXG4gIGhpZGVfc291cmNlOiBcImNpcmNsZSBkaXNhYmxlZCBlbmFibGVkIG9mZmxpbmUgb24gc2hhcGUgc2xhc2hcIixcbiAgaGlnaGxpZ2h0OiBcImNvbG9yIGRvYyBlZGl0aW5nIGVkaXRvciBlbXBoYXNpemUgZmlsbCBmbGFzaGxpZ2h0IGZvcm1hdCBtYXJrZXIgcGFpbnQgc3ByZWFkc2hlZXQgc3R5bGUgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgaGlnaGxpZ2h0X29mZjogXCJjYW5jZWwgY2lyY2xlIGNsZWFyIGNsaWNrIGNsb3NlIGRlbGV0ZSBkaXNhYmxlIGV4aXQgZm9jdXMgbm8gcXVpdCByZW1vdmUgc3RvcCB0YXJnZXQgdGltZXNcIixcbiAgaGlnaF9xdWFsaXR5OiBcImFscGhhYmV0IGNoYXJhY3RlciBkZWZpbml0aW9uIGRpc3BsYXkgZm9udCBocSBsZXR0ZXIgbW92aWVzIHJlc29sdXRpb24gc2NyZWVuIHN5bWJvbCB0ZXh0IHR2IHR5cGVcIixcbiAgaGlraW5nOiBcImJhY2twYWNraW5nIGJhZyBjbGltYmluZyBkdWZmbGUgbW91bnRhaW4gc29jaWFsIHNwb3J0cyBzdGljayB0cmFpbCB0cmF2ZWwgd2Fsa2luZ1wiLFxuICBoaXN0b3J5OiBcImFycm93IGJhY2t3YXJkcyBjbG9jayBkYXRlIHJlZnJlc2ggcmVuZXcgcmV2ZXJzZSByZXZlcnQgcm90YXRlIHNjaGVkdWxlIHRpbWUgdHVybiB1bmRvXCIsXG4gIGhpc3RvcnlfZWR1OiBcImRvY3VtZW50IGVkdWNhdGlvbiBmZWF0aGVyIGxldHRlciBwYXBlciBwZW4gcXVpbGwgc2Nob29sIHRvb2xzIHdyaXRlIHdyaXRpbmdcIixcbiAgaGlzdG9yeV90b2dnbGVfb2ZmOiBcImNsb2NrIGRhdGUgc2NoZWR1bGUgdGltZVwiLFxuICBobHM6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRldmVsb3BlciBlbmdpbmVlcmluZyBmb250IGxldHRlciBwbGF0Zm9ybSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhsc19vZmY6IFwiW29mZmxpbmVdIGFscGhhYmV0IGNoYXJhY3RlciBkZXZlbG9wZXIgZGlzYWJsZWQgZW5hYmxlZCBlbmdpbmVlcmluZyBmb250IGxldHRlciBwbGF0Zm9ybSBzbGFzaCBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIGhfbW9iaWxlZGF0YTogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBsZXR0ZXIgbmV0d29yayBzZXJ2aWNlIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgaG9saWRheV92aWxsYWdlOiBcImFyY2hpdGVjdHVyZSBiZWFjaCBjYW1waW5nIGNvdHRhZ2UgZXN0YXRlIGhvbWUgaG91c2UgbGFrZSBsb2RnZSBtYXBzIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHN0YXkgdHJhdmVsaW5nIHZhY2F0aW9uXCIsXG4gIGhvbWU6IFwiYWRkcmVzcyBhcHBsaWNhdGlvbi0taG91c2UgYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGNvbXBvbmVudHMgZGVzaWduIGVzdGF0ZSBob21lcGFnZSBpbnRlcmZhY2UgbGF5b3V0IHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHNjcmVlbiBzaGVsdGVyIHN0cnVjdHVyZSB1bml0IHV4IHdlYnNpdGUgd2luZG93XCIsXG4gIGhvbWVfbWF4OiBcImRldmljZSBnYWRnZXQgaGFyZHdhcmUgaW50ZXJuZXQgaW90IG5lc3Qgc21hcnQgdGhpbmdzXCIsXG4gIGhvbWVfbWluaTogXCJJbnRlcm5ldCBkZXZpY2UgZ2FkZ2V0IGhhcmR3YXJlIGlvdCBuZXN0IHNtYXJ0IHRoaW5nc1wiLFxuICBob21lX3JlcGFpcl9zZXJ2aWNlOiBcImVxdWlwbWVudCBmaXgga2l0IG1lY2hhbmljIHJlcGFpcmluZyB0b29sYm94IHRvb2xzIHdvcmtzaG9wXCIsXG4gIGhvbWVfd29yazogXCJhcmNoaXRlY3R1cmUgYnVpbGRpbmcgZXN0YXRlIGhvdXNlIG9mZmljZSBwbGFjZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzaGVsdGVyXCIsXG4gIGhvcml6b250YWxfcnVsZTogXCJnbWFpbCBsaW5lIG5vdml0YXNcIixcbiAgaG9yaXpvbnRhbF9zcGxpdDogXCJiYXJzIGZvcm1hdCBsYXlvdXQgbGluZXMgc3RhY2tlZFwiLFxuICBob3RlbDogXCJiZWQgYm9keSBodW1hbiBwZW9wbGUgcGVyc29uIHNsZWVwIHN0YXkgdHJhdmVsIHRyaXBcIixcbiAgaG90X3R1YjogXCJiYXRoaW5nIGJhdGhyb29tIGJhdGh0dWIgaG90ZWwgaHVtYW4gamFjdXp6aSBwZXJzb24gc2hvd2VyIHNwYSBzdGVhbSB0cmF2ZWwgd2F0ZXJcIixcbiAgaG91cmdsYXNzX2JvdHRvbTogXCJjb3VudGRvd24gaGFsZiBsb2FkaW5nIG1pbnV0ZXMgdGltZSB3YWl0aW5nXCIsXG4gIGhvdXJnbGFzc19kaXNhYmxlZDogXCJjbG9jayBjb3VudGRvd24gZW1wdHkgZW5hYmxlZCBsb2FkaW5nIG1pbnV0ZXMgb2ZmIG9uIHNsYXNoIHRpbWUgd2FpdGluZ1wiLFxuICBob3VyZ2xhc3NfZW1wdHk6IFwiY291bnRkb3duIGxvYWRpbmcgbWludXRlcyBzdGFydCB0aW1lIHdhaXRpbmdcIixcbiAgaG91cmdsYXNzX2Z1bGw6IFwiY291bnRkb3duIGxvYWRpbmcgbWludXRlcyB0aW1lIHdhaXRpbmdcIixcbiAgaG91cmdsYXNzX3RvcDogXCJjb3VudGRvd24gaGFsZiBsb2FkaW5nIG1pbnV0ZXMgdGltZSB3YWl0aW5nXCIsXG4gIGhvdXNlOiBcImFyY2hpdGVjdHVyZSBidWlsZGluZyBlc3RhdGUgZmFtaWx5IGhvbWVwYWdlIHBsYWNlcyByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzaGVsdGVyXCIsXG4gIGhvdXNlYm9hdDogXCJhcmNoaXRlY3R1cmUgYmVhY2ggZXN0YXRlIGZsb2F0aW5nIGhvbWUgbWFwcyBwbGFjZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzZWEgc3RheSB0cmF2ZWxpbmcgdmFjYXRpb25cIixcbiAgaG91c2Vfc2lkaW5nOiBcImFyY2hpdGVjdHVyZSBidWlsZGluZyBjb25zdHJ1Y3Rpb24gZXN0YXRlIGV4dGVyaW9yIGZhY2FkZSBob21lIHJlYWwgcmVzaWRlbnRpYWxcIixcbiAgaG93X3RvX3JlZzogXCJhcHByb3ZlIGJhbGxvdCBjaGVjayBjb21wbGV0ZSBkb25lIGVsZWN0aW9uIG1hcmsgb2sgcG9sbCByZWdpc3RlciByZWdpc3RyYXRpb24gc2VsZWN0IHRpY2sgdG8gdmFsaWRhdGUgdmVyaWZpZWQgdm90ZSB5ZXNcIixcbiAgaG93X3RvX3ZvdGU6IFwiYmFsbG90IGVsZWN0aW9uIHBvbGxcIixcbiAgaF9wbHVzX21vYmlsZWRhdGE6IFwiKyBhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBsZXR0ZXIgbmV0d29yayBzZXJ2aWNlIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgaHRtbDogXCJhbHBoYWJldCBicmFja2V0cyBjaGFyYWN0ZXIgY29kZSBjc3MgZGV2ZWxvcGVyIGVuZ2luZWVyaW5nIGZvbnQgbGV0dGVyIHBsYXRmb3JtIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgaHR0cDogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBpbnRlcm5ldCBsZXR0ZXIgbmV0d29yayBzeW1ib2wgdGV4dCB0cmFuc2ZlciB0eXBlIHVybCB3ZWJzaXRlXCIsXG4gIGh0dHBzOiBcImNvbm5lY3Rpb24gZW5jcnlwdCBpbnRlcm5ldCBrZXkgbG9ja2VkIG5ldHdvcmsgcGFzc3dvcmQgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gc2FmZXR5IHNlY3VyZSBzZWN1cml0eSBzc2wgd2ViXCIsXG4gIGh1YjogXCJjZW50ZXIgY29ubmVjdGlvbiBjb3JlIGZvY2FsIG5ldHdvcmsgbnVjbGV1cyBwb2ludCB0b3BvbG9neVwiLFxuICBodmFjOiBcImFpciBjb25kaXRpb25pbmcgaGVhdGluZyB2ZW50aWxhdGlvblwiLFxuICBpY2VjcmVhbTogXCJkZXNzZXJ0IGZvb2Qgc25hY2tcIixcbiAgaWNlX3NrYXRpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGhvYmJ5IHNob2Ugc2thdGVzIHNvY2lhbCBzcG9ydHMgdHJhdmVsXCIsXG4gIGltYWdlOiBcImRpc2FibGVkIGVuYWJsZWQgZnJhbWUgaGlkZSBsYW5kc2NhcGUgbW91bnRhaW5zIG9mZiBvbiBwaG90b2dyYXBoeSBwaWN0dXJlIHNsYXNoXCIsXG4gIGltYWdlX2FzcGVjdF9yYXRpbzogXCJwaG90b2dyYXBoeSBwaWN0dXJlIHJlY3RhbmdsZSBzcXVhcmVcIixcbiAgaW1hZ2Vfbm90X3N1cHBvcnRlZDogXCJkaXNhYmxlZCBlbmFibGVkIGxhbmRzY2FwZSBtb3VudGFpbnMgb2ZmIG9uIHBob3RvZ3JhcGh5IHBpY3R1cmUgc2xhc2hcIixcbiAgaW1hZ2Vfc2VhcmNoOiBcImZpbmQgZ2xhc3MgbGFuZHNjYXBlIGxvb2sgbWFnbmlmeWluZyBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZSBzZWVcIixcbiAgaW1hZ2VzZWFyY2hfcm9sbGVyOiBcImFydCBwYWludFwiLFxuICBpbXBvcnRhbnRfZGV2aWNlczogXCJBbmRyb2lkIGNlbGwgY29tcHV0ZXIgZGVza3RvcCBoYXJkd2FyZSBpT1MgbW9iaWxlIG1vbml0b3IgcGhvbmUgc3RhciB0YWJsZXQgd2ViXCIsXG4gIGltcG9ydF9jb250YWN0czogXCJhZGRyZXNzIGJvb2sgZnJpZW5kcyBpbmZvcm1hdGlvbiBtYWdhemluZSBvcGVuXCIsXG4gIGltcG9ydF9leHBvcnQ6IFwiYXJyb3dzIGRpcmVjdGlvbiBkb3duIGV4cGxvcnQgdXBcIixcbiAgaW5ib3g6IFwiYXJjaGl2ZSBlbWFpbCBpbmNvbWluZyBtZXNzYWdlXCIsXG4gIGluZGV0ZXJtaW5hdGVfY2hlY2tfYm94OiBcImFwcGxpY2F0aW9uIGJ1dHRvbiBjb21wb25lbnRzIGNvbnRyb2wgZGVzaWduIGZvcm0gaW50ZXJmYWNlIG1pbnVzIHNjcmVlbiBzZWxlY3RlZCBzZWxlY3Rpb24gc3F1YXJlIHRvZ2dsZSB1aSB1bmRldGVybWluZWQgdXggd2Vic2l0ZVwiLFxuICBpbmZvOiBcImFib3V0IGFsZXJ0IGFubm91bmNlbWVudCBhbm5vdW5jbWVudCBhc3Npc3RhbmNlIGJ1YmJsZSBjaXJjbGUgZGV0YWlscyBoZWxwIGluZm9ybWF0aW9uIHNlcnZpY2Ugc3VwcG9ydFwiLFxuICBpbnB1dDogXCJhcnJvdyBib3ggZG93bmxvYWQgbG9naW4gbW92ZSByaWdodFwiLFxuICBpbnNlcnRfY2hhcnQ6IFwiYW5hbHl0aWNzIGJhcmNoYXJ0IGJhcnMgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGluc2VydF9jaGFydF9vdXRsaW5lZDogXCJhbmFseXRpY3MgYmFycyBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgaW5zZXJ0X2NvbW1lbnQ6IFwiYWRkIGJ1YmJsZSBjaGF0IGZlZWRiYWNrIG1lc3NhZ2VcIixcbiAgaW5zZXJ0X2RyaXZlX2ZpbGU6IFwiYmlsbCBkb2N1bWVudCBmb3JtYXQgaW52b2ljZSBpdGVtIHNoZWV0IHNsaWRlXCIsXG4gIGluc2VydF9lbW90aWNvbjogXCJhY2NvdW50IGVtb2ppIGZhY2UgaGFwcHkgaHVtYW4gbGlrZSBwZW9wbGUgcGVyc29uIHByb2ZpbGUgc2VudGltZW50IHNtaWxleSB1c2VyXCIsXG4gIGluc2VydF9pbnZpdGF0aW9uOiBcImFnZW5kYSBjYWxlbmRhciBkYXRlIGV2ZW50IG1hcmsgbW9udGggcmFuZ2UgcmVtZW1iZXIgcmVtaW5kZXIgdG9kYXkgd2Vla1wiLFxuICBpbnNlcnRfbGluazogXCJhZGQgYW5jaG9yIGF0dGFjaCBjbGlwIGZpbGUgbWFpbCBtZWRpYVwiLFxuICBpbnNlcnRfcGFnZV9icmVhazogXCJkb2N1bWVudCBmaWxlIHBhcGVyXCIsXG4gIGluc2VydF9waG90bzogXCJpbWFnZSBsYW5kc2NhcGUgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmUgd2FsbHBhcGVyXCIsXG4gIGluc2lnaHRzOiBcImFuYWx5dGljcyBiYXJzIGNoYXJ0IGRhdGEgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgc3RhcnMgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBpbnN0YWxsX2Rlc2t0b3A6IFwiQW5kcm9pZCBjaHJvbWUgZGV2aWNlIGRpc3BsYXkgZml4IGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBwbGFjZSBwd2Egc2NyZWVuIHdlYiB3aW5kb3dcIixcbiAgaW5zdGFsbF9tb2JpbGU6IFwiQW5kcm9pZCBjZWxsIGRldmljZSBoYXJkd2FyZSBpT1MgcGhvbmUgcHdhIHRhYmxldFwiLFxuICBpbnRlZ3JhdGlvbl9pbnN0cnVjdGlvbnM6IFwiYnJhY2tldHMgY2xpcGJvYXJkIGNvZGUgY3NzIGRldmVsb3BlciBkb2N1bWVudCBlbmdpbmVlcmluZyBodG1sIHBsYXRmb3JtXCIsXG4gIGludGVyZXN0czogXCJjaXJjbGUgaGVhcnQgc2hhcGVzIHNvY2lhbCBzcXVhcmUgdHJpYW5nbGVcIixcbiAgaW50ZXJwcmV0ZXJfbW9kZTogXCJsYW5ndWFnZSBtaWNyb3Bob25lIHBlcnNvbiBzcGVha2luZyBzeW1ib2xcIixcbiAgaW52ZW50b3J5OiBcImFyY2hpdmUgYm94IGJ1eSBjaGVjayBjbGlwYm9hcmQgZG9jdW1lbnQgZS1jb21tZXJjZSBmaWxlIGxpc3Qgb3JnYW5pemUgcGFja2FnZXMgcHJvZHVjdCBwdXJjaGFzZSBzaG9wIHN0b2NrIHN0b3JlIHN1cHBseVwiLFxuICBpbnZlcnRfY29sb3JzOiBcImRyb3BsZXQgZWRpdGluZyBodWUgaW52ZXJ0ZWQgbGlxdWlkIHBhbGV0dGUgdG9uZSB3YXRlclwiLFxuICBpbnZlcnRfY29sb3JzX29mZjogXCJkaXNhYmxlZCBkcm9wbGV0IGVuYWJsZWQgaHVlIGludmVydGVkIGxpcXVpZCBvZmZsaW5lIG9wYWNpdHkgcGFsZXR0ZSBzbGFzaCB0b25lIHdhdGVyXCIsXG4gIGlvc19zaGFyZTogXCJhcnJvd3MgYnV0dG9uIGRpcmVjdGlvbiBleHBvcnQgaW50ZXJuZXQgbGluayBzZW5kIHNoYXJpbmcgc29jaWFsIHVwIHdlYnNpdGVcIixcbiAgaXJvbjogXCJhcHBsaWFuY2UgY2xvdGhlcyBlbGVjdHJpYyBpcm9uaW5nIG1hY2hpbmUgb2JqZWN0XCIsXG4gIGlzbzogXCJhZGQgZWRpdGluZyBlZmZlY3QgaW1hZ2UgbWludXMgcGhvdG9ncmFwaHkgcGljdHVyZSBwbHVzIHNlbnNvciBzaHV0dGVyIHNwZWVkIHN1YnRyYWN0XCIsXG4gIGphdmFzY3JpcHQ6IFwiYWxwaGFiZXQgYnJhY2tldHMgY2hhcmFjdGVyIGNvZGUgY3NzIGRldmVsb3BlciBlbmdpbmVlcmluZyBmb250IGh0bWwgbGV0dGVyIHBsYXRmb3JtIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgam9pbl9mdWxsOiBcImNpcmNsZSBjb21iaW5lIGNvbW1hbmQgbGVmdCBvdXR0ZXIgcmlnaHQgc3FsXCIsXG4gIGpvaW5faW5uZXI6IFwiY2lyY2xlIGNvbW1hbmQgbWF0Y2hpbmcgc3FsIHZhbHVlc1wiLFxuICBqb2luX2xlZnQ6IFwiY2lyY2xlIGNvbW1hbmQgbWF0Y2hpbmcgc3FsIHZhbHVlc1wiLFxuICBqb2luX3JpZ2h0OiBcImNpcmNsZSBjb21tYW5kIG1hdGNoaW5nIHNxbCB2YWx1ZXNcIixcbiAga2F5YWtpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBib2R5IGNhbm9lIGVudGVydGFpbm1lbnQgZXhlcmNpc2UgaG9iYnkgaHVtYW4gbGFrZSBwYWRkbGUgcGFkZGxpbmcgcGVvcGxlIHBlcnNvbiByYWZ0aW5nIHJpdmVyIHJvdyBzb2NpYWwgc3BvcnRzIHN1bW1lciB0cmF2ZWwgd2F0ZXJcIixcbiAga2V5OiBcImJsYWNrb3V0IHBhc3N3b3JkIHJlc3RyaWN0ZWQgc2VjcmV0IHVubG9ja1wiLFxuICBrZXlib2FyZDogXCJjb21wdXRlciBkZXZpY2UgaGFyZHdhcmUgaW5wdXQga2V5cGFkIGxldHRlciBvZmZpY2UgdGV4dCB0eXBlXCIsXG4gIGtleWJvYXJkX2FsdDogXCJjb21wdXRlciBkZXZpY2UgaGFyZHdhcmUgaW5wdXQga2V5cGFkIGxldHRlciBvZmZpY2UgdGV4dCB0eXBlXCIsXG4gIGtleWJvYXJkX2Fycm93X2Rvd246IFwiYXJyb3dzIGNoZXZyb24gb3BlblwiLFxuICBrZXlib2FyZF9hcnJvd19sZWZ0OiBcImFycm93cyBjaGV2cm9uXCIsXG4gIGtleWJvYXJkX2Fycm93X3JpZ2h0OiBcImFycm93cyBjaGV2cm9uIG9wZW4gc3RhcnRcIixcbiAga2V5Ym9hcmRfYXJyb3dfdXA6IFwiYXJyb3dzIGNoZXZyb24gc3VibWl0XCIsXG4gIGtleWJvYXJkX2JhY2tzcGFjZTogXCJhcnJvdyBsZWZ0XCIsXG4gIGtleWJvYXJkX2NhcHNsb2NrOiBcImFycm93IHVwXCIsXG4gIGtleWJvYXJkX2NvbW1hbmRfa2V5OiBcImJ1dHRvbiBjb21tYW5kIGNvbnRyb2wga2V5XCIsXG4gIGtleWJvYXJkX2NvbnRyb2xfa2V5OiBcImNvbnRyb2wga2V5XCIsXG4gIGtleWJvYXJkX2RvdWJsZV9hcnJvd19kb3duOiBcImFycm93cyBkaXJlY3Rpb24gbXVsdGlwbGUgbmF2aWdhdGlvblwiLFxuICBrZXlib2FyZF9kb3VibGVfYXJyb3dfbGVmdDogXCJhcnJvd3MgZGlyZWN0aW9uIG11bHRpcGxlIG5hdmlnYXRpb25cIixcbiAga2V5Ym9hcmRfZG91YmxlX2Fycm93X3JpZ2h0OiBcImFycm93cyBkaXJlY3Rpb24gbXVsdGlwbGUgbmF2aWdhdGlvblwiLFxuICBrZXlib2FyZF9kb3VibGVfYXJyb3dfdXA6IFwiYXJyb3dzIGRpcmVjdGlvbiBtdWx0aXBsZSBuYXZpZ2F0aW9uXCIsXG4gIGtleWJvYXJkX2hpZGU6IFwiYXJyb3cgY29tcHV0ZXIgZGV2aWNlIGRvd24gaGFyZHdhcmUgaW5wdXQga2V5cGFkIHRleHRcIixcbiAga2V5Ym9hcmRfb3B0aW9uX2tleTogXCJhbHQga2V5IG1vZGlmaWVyXCIsXG4gIGtleWJvYXJkX3JldHVybjogXCJhcnJvdyBiYWNrIGxlZnRcIixcbiAga2V5Ym9hcmRfdGFiOiBcImFycm93IG5leHQgcmlnaHRcIixcbiAga2V5Ym9hcmRfdm9pY2U6IFwibWljcm9waG9uZSBub2lzZSByZWNvcmRlciBzcGVha2VyXCIsXG4gIGtleV9vZmY6IFwiW29mZmxpbmVdIGRpc2FibGVkIGVuYWJsZWQgb24gcGFzc3dvcmQgc2xhc2ggdW5sb2NrXCIsXG4gIGtpbmdfYmVkOiBcImJlZHJvb20gZG91YmxlIGZ1cm5pdHVyZSBob21lIGhvdGVsIGhvdXNlIG5pZ2h0IHBpbGxvd3MgcXVlZW4gcmVzdCBzbGVlcFwiLFxuICBraXRjaGVuOiBcImFwcGxpYW5jZSBjYWJpbmV0IGNvbGQgZm9vZCBmcmVlemVyIGZyaWRnZSBob21lIGhvdXNlIGljZSBwbGFjZXMgcmVmcmlnZXJhdG9yIHN0b3JhZ2VcIixcbiAga2l0ZXN1cmZpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBiZWFjaCBib2R5IGVudGVydGFpbm1lbnQgZXhlcmNpc2UgaG9iYnkgaHVtYW4gcGVvcGxlIHBlcnNvbiBzb2NpYWwgc3BvcnRzIHRyYXZlbCB3YXRlclwiLFxuICBsYWJlbDogXCJiYWRnZSBmYXZvcml0ZSBpbmRlbnQgaXRlbSBsaWJyYXJ5IG1haWwgcmVtZW1iZXIgc2F2ZSBzdGFtcCBzdGlja2VyIHRhZ1wiLFxuICBsYWJlbF9pbXBvcnRhbnQ6IFwiYmFkZ2UgZmF2b3JpdGUgaW1wb3J0YW50LiBpbmRlbnQgaXRlbSBsaWJyYXJ5IG1haWwgcmVtZW1iZXIgc2F2ZSBzdGFtcCBzdGlja2VyIHRhZyB3aW5nXCIsXG4gIGxhYmVsX29mZjogXCJkaXNhYmxlZCBlbmFibGVkIGZhdm9yaXRlIGluZGVudCBsaWJyYXJ5IG1haWwgb24gcmVtZW1iZXIgc2F2ZSBzbGFzaCBzdGFtcCBzdGlja2VyIHRhZyB3aW5nXCIsXG4gIGxhbjogXCJjb21wdXRlciBjb25uZWN0aW9uIGRhdGEgaW50ZXJuZXQgbmV0d29yayBzZXJ2aWNlXCIsXG4gIGxhbmRzY2FwZTogXCJpbWFnZSBtb3VudGFpbnMgbmF0dXJlIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgbGFuZ3VhZ2U6IFwiY291bnRyeSBlYXJ0aCBnbG9iZSBpMThuIGludGVybmV0IGwxMG4gcGxhbmV0IHdlYnNpdGUgd29ybGQgd3d3XCIsXG4gIGxhcHRvcDogXCJBbmRyb2lkIGNocm9tZSBjb21wdXRlciBjb25uZWN0IGRlc2t0b3AgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgaU9TIGxpbmsgbWFjIG1vbml0b3Igc21hcnQgdHYgd2ViIHdpbmRvd3NcIixcbiAgbGFwdG9wX2Nocm9tZWJvb2s6IFwiQW5kcm9pZCBjaHJvbWVib29rIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBzY3JlZW4gd2ViIHdpbmRvd1wiLFxuICBsYXB0b3BfbWFjOiBcIkFuZHJvaWQgYXBwbGUgY2hyb21lIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBtb25pdG9yIHNjcmVlbiB3ZWIgd2luZG93XCIsXG4gIGxhcHRvcF93aW5kb3dzOiBcIkFuZHJvaWQgY2hyb21lIGRldmljZSBkaXNwbGF5IGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBzY3JlZW4gd2ViXCIsXG4gIGxhc3RfcGFnZTogXCJhcHBsaWNhdGlvbiBhcnJvdyBjaGV2cm9uIGNvbXBvbmVudHMgZW5kIGZvcndhcmQgaW50ZXJmYWNlIHJpZ2h0IHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGxhdW5jaDogXCJhcHBsaWNhdGlvbiBhcnJvdyBib3ggY29tcG9uZW50cyBjb3JlIGludGVyZmFjZSBpbnRlcm5hbCBuZXcgb3BlbiBzY3JlZW4gdWkgdXggd2Vic2l0ZSB3aW5kb3dcIixcbiAgbGF5ZXJzOiBcImFycmFuZ2UgZGlzYWJsZWQgZW5hYmxlZCBpbnRlcmFjdGlvbiBtYXBzIG9mZiBvdmVybGF5IHBhZ2VzIHNsYXNoIHN0YWNrXCIsXG4gIGxheWVyc19jbGVhcjogXCJhcnJhbmdlIGRlbGV0ZSBkaXNhYmxlZCBlbmFibGVkIGludGVyYWN0aW9uIG1hcHMgb2ZmIG92ZXJsYXkgcGFnZXMgc2xhc2hcIixcbiAgbGVhZGVyYm9hcmQ6IFwiYW5hbHl0aWNzIGJhcnMgY2hhcnQgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIGxlYWtfYWRkOiBcImNvbm5lY3Rpb24gZGF0YSBsaW5rIG5ldHdvcmsgc2VydmljZSBzaWduYWxzIHN5bmNlIHdpcmVsZXNzXCIsXG4gIGxlYWtfcmVtb3ZlOiBcImNvbm5lY3Rpb24gZGF0YSBkaXNhYmxlZCBlbmFibGVkIGxpbmsgbmV0d29yayBvZmZsaW5lIHNlcnZpY2Ugc2lnbmFscyBzbGFzaCBzeW5jZSB3aXJlbGVzc1wiLFxuICBsZWdlbmRfdG9nZ2xlOiBcImFuYWx5dGljcyBjaGFydCBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIG1vbml0b3Jpbmcgc3RhY2tkcml2ZXIgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBsZW5zOiBcImNpcmNsZSBmdWxsIGdlb21ldHJ5IG1vb25cIixcbiAgbGVuc19ibHVyOiBcImNhbWVyYSBkaW0gZG90IGVmZmVjdCBmb2dneSBmdXp6eSBpbWFnZSBwaG90byBzb2Z0ZW5cIixcbiAgbGlicmFyeV9hZGQ6IFwiKyBjb2xsZWN0aW9uIGxheWVycyBtdWx0aXBsZSBtdXNpYyBuZXcgcGx1cyBzYXZlIHN0YWNrZWQgc3ltYm9sIHZpZGVvXCIsXG4gIGxpYnJhcnlfYWRkX2NoZWNrOiBcImFwcHJvdmUgY29sbGVjdGlvbiBjb21wbGV0ZSBkb25lIGxheWVycyBtYXJrIG11bHRpcGxlIG11c2ljIG9rIHNlbGVjdCBzdGFja2VkIHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgdmlkZW8geWVzXCIsXG4gIGxpYnJhcnlfYm9va3M6IFwiYWRkIGFsYnVtIGF1ZGlvIGNvbGxlY3Rpb24gcmVhZGluZ1wiLFxuICBsaWJyYXJ5X211c2ljOiBcImFkZCBhbGJ1bSBhdWRpbyBjb2xsZWN0aW9uIHNvbmcgc291bmRzXCIsXG4gIGxpZ2h0OiBcImJ1bGIgY2VpbGluZyBoYW5naW5nIGluc2lkZSBpbnRlcmlvciBsYW1wIGxpZ2h0aW5nIHBlbmRlbnQgcm9vbVwiLFxuICBsaWdodGJ1bGI6IFwiYWxlcnQgYW5ub3VuY2VtZW50IGlkZWEgaW5mb3JtYXRpb24gbGVhcm5pbmcgbW9kZVwiLFxuICBsaWdodGJ1bGJfY2lyY2xlOiBcImFsZXJ0IGFubm91bmNlbWVudCBpZGVhIGluZm9ybWF0aW9uXCIsXG4gIGxpZ2h0X21vZGU6IFwiYnJpZ2h0bmVzcyBkYXkgZGV2aWNlIGxpZ2h0aW5nIG1vcm5pbmcgbW9ybm5nIHNreSBzdW5ueVwiLFxuICBsaW5lYXJfc2NhbGU6IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBkZXNpZ24gaW50ZXJmYWNlIGxheW91dCBtZWFzdXJlIG1lbnUgc2NyZWVuIHNsaWRlciB1aSB1eCB3ZWJzaXRlIHdpbmRvd1wiLFxuICBsaW5lX2F4aXM6IFwiZGFzaCBob3Jpem9udGFsIHN0cm9rZSB2ZXJ0aWNhbFwiLFxuICBsaW5lX3N0eWxlOiBcImRhc2ggZG90dGVkIGVkaXRvciBydWxlIHNwYWNpbmdcIixcbiAgbGluZV93ZWlnaHQ6IFwiZWRpdG9yIGhlaWdodCBzaXplIHNwYWNpbmcgc3R5bGUgdGhpY2tuZXNzXCIsXG4gIGxpbms6IFwiYW5jaG9yIGNoYWluIGNsaXAgY29ubmVjdGlvbiBleHRlcm5hbCBoeXBlcmxpbmsgbGlua2VkIGxpbmtzIG11bHRpbWVkaWEgdW5saXN0ZWQgdXJsXCIsXG4gIGxpbmtlZF9jYW1lcmE6IFwiY29ubmVjdGlvbiBsZW5zIG5ldHdvcmsgcGhvdG9ncmFwaHkgcGljdHVyZSBzaWduYWxzIHN5bmMgd2lyZWxlc3NcIixcbiAgbGlua19vZmY6IFwiYW5jaG9yIGF0dGFjaGVkIGNoYWluIGNsaXAgY29ubmVjdGlvbiBkaXNhYmxlZCBlbmFibGVkIGxpbmtlZCBsaW5rcyBtdWx0aW1lZGlhIHNsYXNoIHVubGluayB1cmxcIixcbiAgbGlxdW9yOiBcImFsY29ob2wgYmFyIGJvdHRsZSBjbHViIGNvY2t0YWlsIGRyaW5rIGZvb2QgcGFydHkgc3RvcmUgd2luZVwiLFxuICBsaXN0OiBcImVkaXRvciBmaWxlIGZvcm1hdCBpbmRleCBtZW51IG9wdGlvbnMgcGxheWxpc3QgdGFzayB0b2RvXCIsXG4gIGxpc3RfYWx0OiBcImJveCBjb250YWluZWQgZWRpdG9yIGZvcm1hdCBsaW5lcyByZW9yZGVyIHNoZWV0IHN0YWNrZWQgdGFzayB0aXRsZSB0b2RvXCIsXG4gIGxpdmVfaGVscDogXCI/IGFsZXJ0IGFubm91bmNlbWVudCBhc3Npc3RhbmNlIGJ1YmJsZSBjaGF0IGNvbW1lbnQgY29tbXVuaWNhdGUgZmFxIGluZm9ybWF0aW9uIG1hcmsgbWVzc2FnZSBwdW5jdHVhdGlvbiBxdWVzdGlvbiBzcGVlY2ggc3VwcG9ydCBzeW1ib2xcIixcbiAgbGl2ZV90djogXCJBbmRyb2lkIGFudGVubmFzIGNocm9tZSBkZXNrdG9wIGRldmljZSBoYXJkd2FyZSBpT1MgbWFjIG1vbml0b3IgbW92aWUgcGxheSBzdHJlYW0gdGVsZXZpc2lvbiB3ZWIgd2luZG93XCIsXG4gIGxpdmluZzogXCJjaGFpciBjb21mb3J0IGNvdWNoIGRlY29yYXRpb24gZnVybml0dXJlIGhvbWUgaG91c2UgbG91bmdpbmcgbG92ZXNlYXQgcm9vbSBzZWF0aW5nIHNvZmFcIixcbiAgbG9jYWxfYWN0aXZpdHk6IFwiZXZlbnQgc3RhciB0aGluZ3MgdGlja2V0XCIsXG4gIGxvY2FsX2FpcnBvcnQ6IFwiYWlycGxhbmUgZmxpZ2h0IGZseWluZyB0cmFuc3BvcnRhdGlvbiB0cmF2ZWwgdHJpcFwiLFxuICBsb2NhbF9hdG06IFwiYmlsbCBjYXJkIGNhcnQgY2FzaCBjb2luIGNvbW1lcmNlIGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2lhbCBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBwcm9maXQgc2hvcHBpbmcgc3ltYm9sXCIsXG4gIGxvY2FsX2JhcjogXCJhbGNvaG9sIGJvdHRsZSBjbHViIGNvY2t0YWlsIGRyaW5rIGZvb2QgbGlxdW9yIG1hcnRpbmkgd2luZVwiLFxuICBsb2NhbF9jYWZlOiBcImJvdHRsZSBjb2ZmZWUgY3VwIGRyaW5rIGZvb2QgbXVnIHJlc3RhdXJhbnQgdGVhXCIsXG4gIGxvY2FsX2Nhcl93YXNoOiBcImF1dG9tb2JpbGUgY2FycyBtYXBzIHRyYW5zcG9ydGF0aW9uIHRyYXZlbCB2ZWhpY2xlXCIsXG4gIGxvY2FsX2NvbnZlbmllbmNlX3N0b3JlOiBcIi0tIDI0IGJpbGwgYnVpbGRpbmcgYnVzaW5lc3MgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29tcGFueSBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBtYXBzIG1hcmtldCBtb25leSBuZXcgb25saW5lIHBheW1lbnQgcGx1cyBzaG9wcGluZyBzdG9yZWZyb250IHN5bWJvbFwiLFxuICBsb2NhbF9kaW5pbmc6IFwiY3V0bGVyeSBlYXQgZm9vZCBmb3JrIGtuaWZlIG1lYWwgcmVzdGF1cmFudCBzcG9vblwiLFxuICBsb2NhbF9kcmluazogXCJjdXAgZHJvcGxldCBnbGFzcyBsaXF1aWQgcGFyayB3YXRlclwiLFxuICBsb2NhbF9maXJlX2RlcGFydG1lbnQ6IFwiOTExIGZpcmVmaWdodGVyIGZsYW1lIGhvdFwiLFxuICBsb2NhbF9mbG9yaXN0OiBcImZsb3dlciBzaG9wXCIsXG4gIGxvY2FsX2dhc19zdGF0aW9uOiBcImF1dG8gY2FyIGZpbGxpbmcgZnVlbCBnYXNvbGluZSBvaWwgc3RhdGlvbiB2ZWhpY2xlXCIsXG4gIGxvY2FsX2dyb2Nlcnlfc3RvcmU6IFwibWFya2V0IHNob3BcIixcbiAgbG9jYWxfaG9zcGl0YWw6IFwiOTExIGFpZCBjcm9zcyBkb2N0b3IgZW1lcmdlbmN5IGZpcnN0IGhlYWx0aCBtZWRpY2FsIG1lZGljaW5lIHBsdXNcIixcbiAgbG9jYWxfaG90ZWw6IFwiYmVkIGJvZHkgaHVtYW4gcGVvcGxlIHBlcnNvbiBzbGVlcCBzdGF5IHRyYXZlbCB0cmlwXCIsXG4gIGxvY2FsX2xhdW5kcnlfc2VydmljZTogXCJjbGVhbmluZyBjbG90aGluZyBkcnllciBob3RlbCB3YXNoZXJcIixcbiAgbG9jYWxfbGlicmFyeTogXCJib29rIGNvbW11bml0eSBsZWFybmluZyBwZXJzb24gcmVhZFwiLFxuICBsb2NhbF9tYWxsOiBcImJpbGwgYnVpbGRpbmcgYnVzaW5lc3MgYnV5IGNhcmQgY2FydCBjYXNoIGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgaGFuZGJhZyBtb25leSBvbmxpbmUgcGF5bWVudCBzaG9wcGluZyBzdG9yZWZyb250XCIsXG4gIGxvY2FsX29mZmVyOiBcImRlYWwgZGlzY291bnQgcHJpY2Ugc2hvcHBpbmcgc3RvcmUgdGFnXCIsXG4gIGxvY2FsX3Bhcmtpbmc6IFwiYWxwaGFiZXQgYXV0byBjYXIgY2hhcmFjdGVyIGZvbnQgZ2FyYWdlIGxldHRlciBzeW1ib2wgdGV4dCB0eXBlIHZlaGljbGVcIixcbiAgbG9jYWxfcGhhcm1hY3k6IFwiOTExIGFpZCBjcm9zcyBlbWVyZ2VuY3kgZmlyc3QgZm9vZCBob3NwaXRhbCBtZWRpY2luZSBwbGFjZXNcIixcbiAgbG9jYWxfcGhvbmU6IFwiYm9vdGggY2FsbCB0ZWxlY29tbXVuaWNhdGlvblwiLFxuICBsb2NhbF9waXp6YTogXCJkcmluayBmYXN0Zm9vZCBtZWFsXCIsXG4gIGxvY2FsX3BvbGljZTogXCI5MTEgYmFkZ2UgbGF3IG9mZmljZXIgcHJvdGVjdGlvbiBzZWN1cml0eSBzaGllbGRcIixcbiAgbG9jYWxfcG9zdF9vZmZpY2U6IFwiZGVsaXZlcnkgZW1haWwgZW52ZWxvcCBsZXR0ZXIgbWVzc2FnZSBwYWNrYWdlIHBhcmNlbCBwb3N0YWwgc2VuZCBzdGFtcFwiLFxuICBsb2NhbF9wcmludHNob3A6IFwiZHJhZnQgZmF4IGluayBtYWNoaW5lIG9mZmljZSBwYXBlciBwcmludGVyIHNlbmRcIixcbiAgbG9jYWxfc2VlOiBcImNhbWVyYSBsZW5zIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgbG9jYWxfc2hpcHBpbmc6IFwiYXV0b21vYmlsZSBjYXJzIGRlbGl2ZXJ5IGxldHRlciBtYWlsIG1hcHMgb2ZmaWNlIHBhY2thZ2UgcGFyY2VsIHBvc3RhbCBzZW1pIHNlbmQgc2hvcHBpbmcgc3RhbXAgdHJhbnNwb3J0YXRpb24gdHJ1Y2sgdmVoaWNsZVwiLFxuICBsb2NhbF90YXhpOiBcImF1dG9tb2JpbGUgY2FiIGNhbGwgY2FycyBkaXJlY3Rpb24gbHlmdCBtYXBzIHB1YmxpYyB0cmFuc3BvcnRhdGlvbiB1YmVyIHZlaGljbGUgeWVsbG93XCIsXG4gIGxvY2F0aW9uX2NpdHk6IFwiYXBhcnRtZW50cyBhcmNoaXRlY3R1cmUgYnVpbGRpbmdzIGJ1c2luZXNzIGNvbXBhbnkgZXN0YXRlIGhvbWUgbGFuZHNjYXBlIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHNoZWx0ZXIgdG93biB1cmJhblwiLFxuICBsb2NhdGlvbl9kaXNhYmxlZDogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZW5hYmxlZCBtYXBzIG9mZiBwaW4gcGxhY2UgcG9pbnRlciBzbGFzaCBzdG9wIHRyYWNraW5nXCIsXG4gIGxvY2F0aW9uX29mZjogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZGlzYWJsZWQgZW5hYmxlZCBncHMgbWFwcyBwaW4gcGxhY2Ugcm9vbSBzbGFzaCBzdG9wXCIsXG4gIGxvY2F0aW9uX29uOiBcImRlc3RpbmF0aW9uIGRpcmVjdGlvbiBkaXNhYmxlZCBlbmFibGVkIGdwcyBtYXBzIG9mZiBwaW4gcGxhY2Ugcm9vbSBzbGFzaCBzdG9wXCIsXG4gIGxvY2F0aW9uX3NlYXJjaGluZzogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gbWFwcyBwaW4gcGxhY2UgcG9pbnRlciBzdG9wIHRyYWNraW5nXCIsXG4gIGxvY2s6IFwiY29ubmVjdGlvbiBrZXkgbG9ja2VkIGxvZ291dCBwYWRsb2NrIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzZWN1cmUgc2VjdXJpdHkgc2lnbm91dFwiLFxuICBsb2NrX2Nsb2NrOiBcImRhdGUgbG9ja2VkIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzY2hlZHVsZSBzZWN1cmUgc2VjdXJpdHkgdGltZVwiLFxuICBsb2NrX29wZW46IFwiY29ubmVjdGlvbiBrZXkgbG9naW4gcGFkbG9jayBwYXNzd29yZCBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiByZWdpc3RlciBzYWZldHkgc2VjdXJlIHNlY3VyaXR5IHNpZ25pbiBzaWdudXAgdW5sb2NrZWRcIixcbiAgbG9ja19yZXNldDogXCJhcm91bmQgaW5wcm9ncmVzcyBsb2FkaW5nIGxvY2tlZCBwYXNzd29yZCBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiByZWZyZXNoIHJlbmV3IHJvdGF0ZSBzYWZldHkgc2VjdXJlIHNlY3VyaXR5IHR1cm5cIixcbiAgbG9naW46IFwiYWNjZXNzIGFwcGxpY2F0aW9uIGFycm93IGNvbXBvbmVudHMgZGVzaWduIGVudGVyIGludGVyZmFjZSBsZWZ0IHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIGxvZ29fZGV2OiBcImRldi50b1wiLFxuICBsb2dvdXQ6IFwiYXBwbGljYXRpb24gYXJyb3cgY29tcG9uZW50cyBkZXNpZ24gZXhpdCBpbnRlcmZhY2UgbGVhdmUgbG9naW4gcmlnaHQgc2NyZWVuIHVpIHV4IHdlYnNpdGVcIixcbiAgbG9va3M6IFwiY2lyY2xlIGhhbGYgcmFpbmJvd1wiLFxuICBsb29rc18zOiBcImRpZ2l0IG51bWJlcnMgc3F1YXJlIHN5bWJvbFwiLFxuICBsb29rc180OiBcImRpZ2l0IG51bWJlcnMgc3F1YXJlIHN5bWJvbFwiLFxuICBsb29rc181OiBcImRpZ2l0IG51bWJlcnMgc3F1YXJlIHN5bWJvbFwiLFxuICBsb29rc182OiBcImRpZ2l0IG51bWJlcnMgc3F1YXJlIHN5bWJvbFwiLFxuICBsb29rc19vbmU6IFwiMSBkaWdpdCBudW1iZXJzIHNxdWFyZSBzeW1ib2xcIixcbiAgbG9va3NfdHdvOiBcIjIgZGlnaXQgbnVtYmVycyBzcXVhcmUgc3ltYm9sXCIsXG4gIGxvb3A6IFwiYXJvdW5kIGFycm93cyBkaXJlY3Rpb24gaW5wcm9ncmVzcyBsb2FkZXIgbG9hZGluZyBtdXNpYyBuYXZpZ2F0aW9uIHJlZnJlc2ggcmVuZXcgcmVwZWF0IHJvdGF0ZSB0dXJuXCIsXG4gIGxvdXBlOiBcIisgYWRkIGRldGFpbHMgZm9jdXMgZ2xhc3MgbWFnbmlmeWluZyBuZXcgcGx1cyBzeW1ib2xcIixcbiAgbG93X3ByaW9yaXR5OiBcImFycmFuZ2UgYXJyb3cgYmFja3dhcmQgYm90dG9tIGxpc3QgbW92ZSBvcmRlciB0YXNrIHRvZG9cIixcbiAgbG95YWx0eTogXCJiYWRnZSBjYXJkIGNyZWRpdCBoZWFydCBsb3ZlIG1lbWJlcnNoaXAgbWlsZXMgcG9pbnRzIHByb2dyYW0gc2FsZSBzdWJzY3JpcHRpb24gdGFnIHRyYXZlbCB0cmlwXCIsXG4gIGx0ZV9tb2JpbGVkYXRhOiBcImFscGhhYmV0IGNoYXJhY3RlciBmb250IGludGVybmV0IGxldHRlciBuZXR3b3JrIHNwZWVkIHN5bWJvbCB0ZXh0IHR5cGUgd2lmaSB3aXJlbGVzc1wiLFxuICBsdGVfcGx1c19tb2JpbGVkYXRhOiBcIisgYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgaW50ZXJuZXQgbGV0dGVyIG5ldHdvcmsgc3BlZWQgc3ltYm9sIHRleHQgdHlwZSB3aWZpIHdpcmVsZXNzXCIsXG4gIGx1Z2dhZ2U6IFwiYWlycG9ydCBiYWdnYWdlIGNhcnJ5IGZsaWdodCBob3RlbCBvbiBzdWl0Y2FzZSB0cmF2ZWwgdHJpcFwiLFxuICBsdW5jaF9kaW5pbmc6IFwiYnJlYWtmYXN0IGRpbm5lciBkcmluayBmYXN0Zm9vZCBoYW1idXJnZXIgbWVhbFwiLFxuICBseXJpY3M6IFwiYXVkaW8gYnViYmxlIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBmZWVkYmFjayBrZXkgbWVzc2FnZSBtdXNpYyBub3RlIHNvbmcgc291bmQgc3BlZWNoIHRyYWNrXCIsXG4gIG1haWw6IFwiZW1haWwgZW52ZWxvcGUgaW5ib3ggbGV0dGVyIG1lc3NhZ2Ugc2VuZFwiLFxuICBtYWlsX2xvY2s6IFwiZW1haWwgZW52ZWxvcCBsZXR0ZXIgbG9ja2VkIG1lc3NhZ2UgcGFzc3dvcmQgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gc2FmZXR5IHNlY3VyZSBzZWN1cml0eSBzZW5kXCIsXG4gIG1haWxfb3V0bGluZTogXCJlbWFpbCBlbnZlbG9wZSBsZXR0ZXIgbWVzc2FnZSBub3RlIHBvc3QgcmVjZWl2ZSBzZW5kIHdyaXRlXCIsXG4gIG1hbGU6IFwiYm95IGdlbmRlciBtYW4gc29jaWFsIHN5bWJvbFwiLFxuICBtYW46IFwiYm95IGdlbmRlciBtYWxlIHNvY2lhbCBzeW1ib2xcIixcbiAgbWFuYWdlX2FjY291bnRzOiBcImNoYW5nZSBkZXRhaWxzIGZhY2UgZ2VhciBvcHRpb25zIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzZXJ2aWNlLWh1bWFuIHNldHRpbmdzIHVzZXJcIixcbiAgbWFuYWdlX3NlYXJjaDogXCJnbGFzcyBoaXN0b3J5IG1hZ25pZnlpbmcgdGV4dFwiLFxuICBtYXA6IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGxvY2F0aW9uIG1hcHMgcGluIHBsYWNlIHJvdXRlIHN0b3AgdHJhdmVsXCIsXG4gIG1hcHNfaG9tZV93b3JrOiBcImJ1aWxkaW5nIGhvdXNlIG9mZmljZVwiLFxuICBtYXBzX3VnYzogXCIrIGFkZCBidWJibGUgY29tbWVudCBjb21tdW5pY2F0ZSBmZWVkYmFjayBtZXNzYWdlIG5ldyBwbHVzIHNwZWVjaCBzeW1ib2xcIixcbiAgbWFyZ2luOiBcImRlc2lnbiBsYXlvdXQgcGFkZGluZyBzaXplIHNxdWFyZVwiLFxuICBtYXJrX2FzX3VucmVhZDogXCJlbnZlbG9wIGxldHRlciBtYWlsIHBvc3RhbCByZWNlaXZlIHNlbmRcIixcbiAgbWFya19jaGF0X3JlYWQ6IFwiYXBwcm92ZSBidWJibGUgY2hlY2sgY29tbWVudCBjb21tdW5pY2F0ZSBjb21wbGV0ZSBkb25lIG1lc3NhZ2Ugb2sgc2VsZWN0IHNlbnQgc3BlZWNoIHRpY2sgdmVyaWZpZWQgeWVzXCIsXG4gIG1hcmtfY2hhdF91bnJlYWQ6IFwiYnViYmxlIGNpcmNsZSBjb21tZW50IGNvbW11bmljYXRlIG1lc3NhZ2Ugbm90aWZpY2F0aW9uIHNwZWVjaFwiLFxuICBtYXJrX2VtYWlsX3JlYWQ6IFwiYXBwcm92ZSBjaGVjayBjb21wbGV0ZSBkb25lIGVudmVsb3AgbGV0dGVyIG1lc3NhZ2Ugbm90ZSBvayBzZWxlY3Qgc2VuZCBzZW50IHRpY2sgeWVzXCIsXG4gIG1hcmtfZW1haWxfdW5yZWFkOiBcImNoZWNrIGNpcmNsZSBlbnZlbG9wIGxldHRlciBtZXNzYWdlIG5vdGUgbm90aWZpY2F0aW9uIHNlbmRcIixcbiAgbWFya3VucmVhZDogXCJlbWFpbCBlbnZlbG9wZSBsZXR0ZXIgbWVzc2FnZSBzZW5kXCIsXG4gIG1hcmt1bnJlYWRfbWFpbGJveDogXCJkZWxpdmVyIGVudmVsb3AgbGV0dGVyIHBvc3RhbCBwb3N0Ym94IHJlY2VpdmUgc2VuZFwiLFxuICBtYXNrczogXCJhaXIgY292ZXIgY292aWQgZmFjZSBob3NwaXRhbCBtZWRpY2FsIHBvbGx1dGlvbiBwcm90ZWN0aW9uIHJlc3BpcmF0b3Igc2ljayBzb2NpYWxcIixcbiAgbWF4aW1pemU6IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBkZXNpZ24gaW50ZXJmYWNlIGxpbmUgc2NyZWVuIHNoYXBlIHVpIHV4IHdlYnNpdGVcIixcbiAgbWVkaWFfYmx1ZXRvb3RoX29mZjogXCJjb25uZWN0aW9uIGNvbm5lY3Rpdml0eSBkZXZpY2UgZGlzYWJsZWQgZW5hYmxlZCBtdXNpYyBub3RlIG9mZmxpbmUgcGFyaW5nIHNpZ25hbCBzbGFzaCBzeW1ib2wgd2lyZWxlc3NcIixcbiAgbWVkaWFfYmx1ZXRvb3RoX29uOiBcImNvbm5lY3Rpb24gY29ubmVjdGl2aXR5IGRldmljZSBkaXNhYmxlZCBlbmFibGVkIG11c2ljIG5vdGUgb2ZmIG9ubGluZSBwYXJpbmcgc2lnbmFsIHNsYXNoIHN5bWJvbCB3aXJlbGVzc1wiLFxuICBtZWRpYXRpb246IFwiYWx0ZXJuYXRpdmUgYXJyb3dzIGNvbXByb21pc2UgZGlyZWN0aW9uIGRvdHMgbmVnb3RpYXRpb24gcGFydHkgcmlnaHQgc3RydWN0dXJlXCIsXG4gIG1lZGljYWxfc2VydmljZXM6IFwiYWlkIGJhZyBicmllZmNhc2UgZW1lcmdlbmN5IGZpcnN0IGtpdCBtZWRpY2luZVwiLFxuICBtZWRpY2F0aW9uOiBcImRvY3RvciBkcnVnIGVtZXJnZW5jeSBob3NwaXRhbCBtZWRpY2luZSBwaGFybWFjeSBwaWxscyBwcmVzY3JpcHRpb25cIixcbiAgbWVldGluZ19yb29tOiBcImJ1aWxkaW5nIGRvb3J3YXkgZW50cmFuY2UgaG9tZSBob3VzZSBpbnRlcmlvciBsb2dvdXQgb2ZmaWNlIG9wZW4gcGxhY2VzIHNpZ25vdXRcIixcbiAgbWVtb3J5OiBcImNhcmQgY2hpcCBkaWdpdGFsIG1pY3JvIHByb2Nlc3NvciBzZCBzdG9yYWdlXCIsXG4gIG1lbnU6IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBoYW1idXJnZXIgaW50ZXJmYWNlIGxpbmVzIHBsYXlsaXN0IHNjcmVlbiB1aSB1eCB3ZWJzaXRlXCIsXG4gIG1lbnVfYm9vazogXCJkaW5pbmcgZm9vZCBtZWFsIHBhZ2UgcmVzdGF1cmFudFwiLFxuICBtZW51X29wZW46IFwiYXBwbGljYXRpb24gYXJyb3cgY2hldnJvbiBjb21wb25lbnRzIGhhbWJ1cmdlciBpbnRlcmZhY2UgbGVmdCBsaW5lcyBzY3JlZW4gdWkgdXggd2Vic2l0ZVwiLFxuICBtZXJnZTogXCJhcnJvd3MgZGlyZWN0aW9ucyBtYXBzIG5hdmlnYXRpb24gcGF0aCByb3V0ZSBzaWduIHRyYWZmaWNcIixcbiAgbWVyZ2VfdHlwZTogXCJhcnJvdyBjb21iaW5lIGRpcmVjdGlvbiBmb3JtYXQgdGV4dFwiLFxuICBtZXNzYWdlOiBcImJ1YmJsZSBjaGF0IGNvbW1lbnQgY29tbXVuaWNhdGUgZmVlZGJhY2sgc3BlZWNoIHRhbGsgdGV4dFwiLFxuICBtaWM6IFwiaGVhcmluZyBtaWNyb3Bob25lIG5vaXNlIHJlY29yZCBzZWFyY2ggc291bmQgc3BlZWNoIHZvaWNlXCIsXG4gIG1pY19leHRlcm5hbF9vZmY6IFwiYXVkaW8gZGlzYWJsZWQgZW5hYmxlZCBtaWNyb3Bob25lIHNsYXNoIHNvdW5kIHZvaWNlXCIsXG4gIG1pY19leHRlcm5hbF9vbjogXCJhdWRpbyBkaXNhYmxlZCBlbmFibGVkIG1pY3JvcGhvbmUgb2ZmIHNsYXNoIHNvdW5kIHZvaWNlXCIsXG4gIG1pY19ub25lOiBcImhlYXJpbmcgbWljcm9waG9uZSBub2lzZSByZWNvcmQgc291bmQgdm9pY2VcIixcbiAgbWljX29mZjogXCJhdWRpbyBkaXNhYmxlZCBlbmFibGVkIGhlYXJpbmcgbWljcm9waG9uZSBub2lzZSByZWNvcmRpbmcgc2xhc2ggc291bmQgdm9pY2VcIixcbiAgbWljcm93YXZlOiBcImFwcGxpYW5jZSBjb29raW5nIGVsZWN0cmljIGhlYXQgaG9tZSBob3VzZSBraXRjaGVuIG1hY2hpbmVcIixcbiAgbWlsaXRhcnlfdGVjaDogXCJhcm15IGF3YXJkIGJhZGdlIGhvbm9yIG1lZGFsIG1lcml0IG9yZGVyIHByaXZpbGVnZSBwcml6ZSByYW5rIHJld2FyZCByaWJib24gc29sZGllciBzdGFyIHN0YXR1cyB0cm9waHkgd2lubmVyXCIsXG4gIG1pbmltaXplOiBcImFwcGxpY2F0aW9uIGNvbXBvbmVudHMgZGVzaWduIGludGVyZmFjZSBsaW5lIHNjcmVlbiBzaGFwZSB1aSB1eCB3ZWJzaXRlXCIsXG4gIG1pc3NlZF92aWRlb19jYWxsOiBcImFycm93IGNhbWVyYSBmaWxtaW5nIGhhcmR3YXJlIGltYWdlIG1vdGlvbiBwaWN0dXJlIHJlY29yZCB2aWRlb2dyYXBoeVwiLFxuICBtbXM6IFwiYnViYmxlIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBmZWVkYmFjayBpbWFnZSBsYW5kc2NhcGUgbWVzc2FnZSBtb3VudGFpbnMgbXVsdGltZWRpYSBwaG90b2dyYXBoeSBwaWN0dXJlIHNwZWVjaFwiLFxuICBtb2JpbGVkYXRhX29mZjogXCJhcnJvdyBkaXNhYmxlZCBkb3duIGVuYWJsZWQgaW50ZXJuZXQgbmV0d29yayBvbiBzbGFzaCBzcGVlZCB1cCB3aWZpIHdpcmVsZXNzXCIsXG4gIG1vYmlsZV9mcmllbmRseTogXCJBbmRyb2lkIGFwcHJvdmUgY2VsbCBjaGVjayBjb21wbGV0ZSBkZXZpY2UgZG9uZSBoYXJkd2FyZSBpT1MgbWFyayBvayBwaG9uZSBzZWxlY3QgdGFibGV0IHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgeWVzXCIsXG4gIG1vYmlsZV9vZmY6IFwiQW5kcm9pZCBjZWxsIGRldmljZSBkaXNhYmxlZCBlbmFibGVkIGhhcmR3YXJlIGlPUyBwaG9uZSBzaWxlbmNlIHNsYXNoIHRhYmxldFwiLFxuICBtb2JpbGVfc2NyZWVuX3NoYXJlOiBcIkFuZHJvaWQgYXJyb3cgY2VsbCBkZXZpY2UgaGFyZHdhcmUgaU9TIG1pcnJvciBtb25pdG9yIHBob25lIHNjcmVlbmNhc3Qgc3RyZWFtaW5nIHRhYmxldCB0diB3aXJlbGVzc1wiLFxuICBtb2RlOiBcImNvbXBvc2UgY3JlYXRlIGRyYWZ0IGRyYXcgZWRpdCBwZW5jaWwgd3JpdGVcIixcbiAgbW9kZV9jb21tZW50OiBcImJ1YmJsZSBjaGF0IGNvbW1lbnQgY29tbXVuaWNhdGUgZmVlZGJhY2sgbWVzc2FnZSBtb2RlIHNwZWVjaFwiLFxuICBtb2RlX2VkaXQ6IFwiY29tcG9zZSBjcmVhdGUgZHJhZnQgZHJhdyBwZW5jaWwgd3JpdGVcIixcbiAgbW9kZV9lZGl0X291dGxpbmU6IFwiY29tcG9zZSBjcmVhdGUgZHJhZnQgZHJhdyBwZW5jaWwgd3JpdGVcIixcbiAgbW9kZWxfdHJhaW5pbmc6IFwiYXJyb3cgYnVsYiBpZGVhIGlucHJvZ3Jlc3MgbGlnaHQgbG9hZGluZyByZWZyZXNoIHJlbmV3IHJlc3RvcmUgcmV2ZXJzZSByb3RhdGVcIixcbiAgbW9kZV9uaWdodDogXCJkYXJrIGRpc3R1cmIgbW9vbiBzbGVlcCB3ZWF0aGVyXCIsXG4gIG1vZGVfb2ZfdHJhdmVsOiBcImFycm93IGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBsb2NhdGlvbiBtYXBzIHBpbiBwbGFjZSBzdG9wIHRyYW5zcG9ydGF0aW9uIHRyaXBcIixcbiAgbW9kZV9zdGFuZGJ5OiBcImRpc3R1cmIgcG93ZXIgc2xlZXAgdGFyZ2V0XCIsXG4gIG1vbmV0aXphdGlvbl9vbjogXCJiaWxsIGNhcmQgY2FzaCBjaXJjbGUgY29pbiBjb21tZXJjZSBjb3N0IGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgbW9uZXkgb25saW5lIHBheW1lbnQgcHJpY2UgcHJvZml0IHNhbGUgc2hvcHBpbmcgc3ltYm9sXCIsXG4gIG1vbmV5OiBcIjEwMCBiaWxsIGNhcmQgY2FzaCBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0IGN1cnJlbmN5IGRpZ2l0IGRvbGxhcnMgZmluYW5jZSBudW1iZXIgb25saW5lIHBheW1lbnQgcHJpY2UgcHJvZml0IHNob3BwaW5nIHN5bWJvbFwiLFxuICBtb25leV9vZmY6IFwiYmlsbCBjYXJkIGNhcnQgY2FzaCBjb2luIGNvbW1lcmNlIGNyZWRpdCBjdXJyZW5jeSBkaXNhYmxlZCBkb2xsYXJzIGVuYWJsZWQgZmluYW5jZSBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBwcm9maXQgc2hvcHBpbmcgc2xhc2ggc3ltYm9sXCIsXG4gIG1vbmV5X29mZl9jc3JlZDogXCJiaWxsIGNhcmQgY2FydCBjYXNoIGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRpc2FibGVkIGRvbGxhcnMgZW5hYmxlZCBvbmxpbmUgcGF5bWVudCBzaG9wcGluZyBzbGFzaCBzeW1ib2xcIixcbiAgbW9uaXRvcjogXCJBbmRyb2lkIGNocm9tZSBkZXZpY2UgZGlzcGxheSBoYXJkd2FyZSBpT1MgbWFjIHNjcmVlbiB3ZWIgd2luZG93XCIsXG4gIG1vbml0b3Jfd2VpZ2h0OiBcImJvZHkgZGV2aWNlIGRpZXQgaGVhbHRoIHNjYWxlIHNtYXJ0XCIsXG4gIG1vbm9jaHJvbWVfcGhvdG9zOiBcImJsYWNrIGNhbWVyYSBpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlIHdoaXRlXCIsXG4gIG1vb2Q6IFwiZW1vamkgZW1vdGljb24gZW1vdGlvbnMgZXhwcmVzc2lvbnMgZmFjZSBmZWVsaW5ncyBnbGFkIGhhcHBpbmVzcyBoYXBweSBsaWtlIHBlcnNvbiBwbGVhc2VkIHNtaWxleSBzbWlsaW5nIHNvY2lhbCBzdXJ2ZXlcIixcbiAgbW9vZF9iYWQ6IFwiZGlzYXBwb2ludG1lbnQgZGlzbGlrZSBlbW9qaSBlbW90aWNvbiBlbW90aW9ucyBleHByZXNzaW9ucyBmYWNlIGZlZWxpbmdzIHBlcnNvbiByYXRpbmcgc21pbGV5IHNvY2lhbCBzdXJ2ZXkgdW5oYXBwaW5lc3MgdW5oYXBweSB1bnBsZWFzZWQgdW5zbWlsZSB1bnNtaWxpbmdcIixcbiAgbW9yZTogXCIzIGFyY2hpdmUgYmFkZ2UgYm9va21hcmsgZG90cyBldGMgZmF2b3JpdGUgaW5kZW50IGxhYmVsIHJlbWVtYmVyIHNhdmUgc3RhbXAgc3RpY2tlciB0YWIgdGFnIHRocmVlXCIsXG4gIG1vcmVfaG9yaXo6IFwiMyBhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRvdHMgZXRjIGhvcml6b250YWwgaW50ZXJmYWNlIGlvcyBwZW5kaW5nIHNjcmVlbiBzdGF0dXMgdGhyZWUgdWkgdXggd2Vic2l0ZVwiLFxuICBtb3JlX3RpbWU6IFwiKyBhZGQgY2xvY2sgZGF0ZSBuZXcgcGx1cyBzY2hlZHVsZSBzeW1ib2xcIixcbiAgbW9yZV92ZXJ0OiBcIjMgYW5kcm9pZCBhcHBsaWNhdGlvbiBjb21wb25lbnRzIGRvdHMgZXRjIGludGVyZmFjZSBzY3JlZW4gdGhyZWUgdWkgdXggdmVydGljYWwgd2Vic2l0ZVwiLFxuICBtb3Rpb25fcGhvdG9zX2F1dG86IFwiQSBhbHBoYWJldCBhbmltYXRpb24gYXV0b21hdGljIGNoYXJhY3RlciBjaXJjbGUgZm9udCBnaWYgbGV0dGVyIGxpdmUgc3ltYm9sIHRleHQgdHlwZSB2aWRlb1wiLFxuICBtb3Rpb25fcGhvdG9zX29mZjogXCJhbmltYXRpb24gY2lyY2xlIGRpc2FibGVkIGVuYWJsZWQgc2xhc2ggdmlkZW9cIixcbiAgbW91c2U6IFwiY2xpY2sgY29tcHV0ZXIgY3Vyc29yIGRldmljZSBoYXJkd2FyZSB3aXJlbGVzc1wiLFxuICBtb3ZlX2Rvd246IFwiYXJyb3cgZGlyZWN0aW9uIGp1bXAgbmF2aWdhdGlvbiB0cmFuc2ZlclwiLFxuICBtb3ZlX3RvX2luYm94OiBcImFyY2hpdmUgYXJyb3cgZG93biBlbWFpbCBlbnZlbG9wIGluY29taW5nIGxldHRlciBtZXNzYWdlIG1vdmUgc2VuZCB0b1wiLFxuICBtb3ZlX3VwOiBcImFycm93IGRpcmVjdGlvbiBqdW1wIG5hdmlnYXRpb24gdHJhbnNmZXJcIixcbiAgbW92aWU6IFwiY2luZW1hIGZpbG0gbWVkaWEgc2NyZWVuIHNob3cgc2xhdGUgdHYgdmlkZW8gd2F0Y2hcIixcbiAgbW92aWVfY3JlYXRpb246IFwiY2xhcHBlcmJvYXJkIGZpbG0gbW92aWVzIHNsYXRlIHZpZGVvXCIsXG4gIG1vdmllX2ZpbHRlcjogXCJjbGFwcGVyYm9hcmQgY3JlYXRpb24gZmlsbSBtb3ZpZXMgc2xhdGUgc3RhcnMgdmlkZW9cIixcbiAgbW92aW5nOiBcImFycm93IGRpcmVjdGlvbiBuYXZpZ2F0aW9uIHRyYXZlbCB1cFwiLFxuICBtcDogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBpbWFnZSBsZXR0ZXIgbWVnYXBpeGVsIHBob3RvZ3JhcGh5IHBpeGVscyBxdWFsaXR5IHJlc29sdXRpb24gc3ltYm9sIHRleHQgdHlwZVwiLFxuICBtdWx0aWxpbmVfY2hhcnQ6IFwiYW5hbHl0aWNzIGJhcnMgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIGxpbmUgbWVhc3VyZSBtZXRyaWNzIG11bHRpcGxlIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgbXVsdGlwbGVfc3RvcDogXCJhcnJvd3MgZGlyZWN0aW9ucyBkb3RzIGxlZnQgbWFwcyBuYXZpZ2F0aW9uIHJpZ2h0XCIsXG4gIG11c2V1bTogXCJhcmNoaXRlY3R1cmUgYXR0cmFjdGlvbiBidWlsZGluZyBlc3RhdGUgZXZlbnQgZXhoaWJpdGlvbiBleHBsb3JlIGxvY2FsIHBhbGNlcyBwbGFjZXMgcmVhbCBzZWUgc2hvcCBzdG9yZSB0b3VyXCIsXG4gIG11c2ljX25vdGU6IFwiYXVkaW90cmFjayBrZXkgc291bmRcIixcbiAgbXVzaWNfb2ZmOiBcImF1ZGlvdHJhY2sgZGlzYWJsZWQgZW5hYmxlZCBrZXkgbm90ZSBvbiBzbGFzaCBzb3VuZFwiLFxuICBtdXNpY192aWRlbzogXCJiYW5kIG12IHJlY29yZGluZyBzY3JlZW4gdHYgd2F0Y2hcIixcbiAgbXlfbG9jYXRpb246IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIG1hcHMgbmF2aWdhdGlvbiBwaW4gcGxhY2UgcG9pbnQgc3RvcFwiLFxuICBuYXQ6IFwiY29tbXVuaWNhdGlvblwiLFxuICBuYXR1cmU6IFwiZm9yZXN0IG91dGRvb3Igb3V0c2lkZSBwYXJrIHRyZWUgd2lsZGVybmVzc1wiLFxuICBuYXR1cmVfcGVvcGxlOiBcImFjdGl2aXR5IGJvZHkgZm9yZXN0IGh1bWFuIG91dGRvb3Igb3V0c2lkZSBwYXJrIHBlcnNvbiB0cmVlIHdpbGRlcm5lc3NcIixcbiAgbmF2aWdhdGVfYmVmb3JlOiBcImFycm93cyBkaXJlY3Rpb24gbGVmdFwiLFxuICBuYXZpZ2F0ZV9uZXh0OiBcImFycm93cyBkaXJlY3Rpb24gcmlnaHRcIixcbiAgbmF2aWdhdGlvbjogXCJhcnJvdyBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gbG9jYXRpb24gbWFwcyBwaW4gcGxhY2UgcG9pbnQgc3RvcFwiLFxuICBuZWFyYnlfZXJyb3I6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBkYW5nZXIgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbm90aWZpY2F0aW9uIHN5bWJvbCB3YXJuaW5nXCIsXG4gIG5lYXJieV9vZmY6IFwiZGlzYWJsZWQgZW5hYmxlZCBvbiBzbGFzaFwiLFxuICBuZWFyX21lOiBcImFycm93IGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBsb2NhdGlvbiBtYXBzIG5hdmlnYXRpb24gcGluIHBsYWNlIHBvaW50IHN0b3BcIixcbiAgbmVhcl9tZV9kaXNhYmxlZDogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZW5hYmxlZCBsb2NhdGlvbiBtYXBzIG5hdmlnYXRpb24gb2ZmIHBpbiBwbGFjZSBwb2ludCBzbGFzaFwiLFxuICBuZXN0X2NhbV93aXJlZF9zdGFuZDogXCJjYW1lcmEgZmlsbWluZyBoYXJkd2FyZSBpbWFnZSBtb3Rpb24gcGljdHVyZSB2aWRlb2dyYXBoeVwiLFxuICBuZXR3b3JrX2NlbGw6IFwiY2VsbHVsYXIgZGF0YSBpbnRlcm5ldCBtb2JpbGUgcGhvbmUgc3BlZWQgd2lmaSB3aXJlbGVzc1wiLFxuICBuZXR3b3JrX2NoZWNrOiBcImNvbm5lY3Rpb24gaW50ZXJuZXQgbWV0ZXIgc2lnbmFsIHNwZWVkIHRpY2sgd2lmaSB3aXJlbGVzc1wiLFxuICBuZXR3b3JrX2xvY2tlZDogXCJhbGVydCBhdmFpbGFibGUgY2VsbHVsYXIgY29ubmVjdGlvbiBkYXRhIGVycm9yIGludGVybmV0IG1vYmlsZSBub3QgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gcmVzdHJpY3RlZCBzYWZldHkgc2VjdXJlIHNlY3VyaXR5IHNlcnZpY2Ugc2lnbmFsIHdhcm5pbmcgd2lmaSB3aXJlbGVzc1wiLFxuICBuZXR3b3JrX3dpZmk6IFwiY2VsbHVsYXIgZGF0YSBpbnRlcm5ldCBtb2JpbGUgcGhvbmUgc3BlZWQgd2lyZWxlc3NcIixcbiAgbmV3X3JlbGVhc2VzOiBcIiEgYWxlcnQgYW5ub3VuY2VtZW50IGF0dGVudGlvbiBidXJzdCBjYXV0aW9uIGRhbmdlciBlcnJvciBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBub3RpZmljYXRpb24gc3RhciBzeW1ib2wgd2FybmluZ1wiLFxuICBuZXdzcGFwZXI6IFwiYXJ0aWNsZSBkYXRhIGRvY3VtZW50IGRyaXZlIGZpbGUgZm9sZGVycyBtYWdhemluZSBtZWRpYSBub3RlcyBwYWdlIHNoZWV0IHNsaWRlIHRleHQgd3JpdGluZ1wiLFxuICBuZXh0X3BsYW46IFwiYXJyb3cgY2lyY2xlIHJpZ2h0XCIsXG4gIG5leHRfd2VlazogXCJhcnJvdyBiYWdnYWdlIGJyaWVmY2FzZSBidXNpbmVzcyBzdWl0Y2FzZVwiLFxuICBuZmM6IFwiY29tbXVuaWNhdGlvbiBkYXRhIGZpZWxkIG1vYmlsZSBuZWFyIHdpcmVsZXNzXCIsXG4gIG5pZ2h0bGlmZTogXCJhbGNvaG9sIGJhciBib3R0bGUgY2x1YiBjb2NrdGFpbCBkYW5jZSBkcmluayBmb29kIGdsYXNzIGxpcXVvciBtdXNpYyBub3RlIHdpbmVcIixcbiAgbmlnaHRsaWdodDogXCJkYXJrIGRpc3R1cmIgbW9kZSBtb29uIHNsZWVwIHdlYXRoZXJcIixcbiAgbmlnaHRsaWdodF9yb3VuZDogXCJkYXJrIGhhbGYgbW9kZSBtb29uXCIsXG4gIG5pZ2h0X3NoZWx0ZXI6IFwiYXJjaGl0ZWN0dXJlIGJlZCBidWlsZGluZyBlc3RhdGUgaG9tZWxlc3MgaG91c2UgcGxhY2UgcmVhbCBzbGVlcFwiLFxuICBuaWdodHNfc3RheTogXCJjbG91ZCBjcmVzY2VudCBkYXJrIG1vZGUgbW9vbiBwaGFzZXMgc2lsZW5jZSBzaWxlbnQgc2t5IHRpbWUgd2VhdGhlclwiLFxuICBub19hY2NvdW50czogXCJhdmF0YXIgZGlzYWJsZWQgZW5hYmxlZCBmYWNlIGh1bWFuIG9mZmxpbmUgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHNsYXNoIHRodW1ibmFpbCB1bmF2YWlsYWJsZSB1bmlkZW50aWZpYWJsZSB1bmtub3duIHVzZXJcIixcbiAgbm9fYmFja3BhY2s6IFwiYWNjZXNzb3J5IGJvb2tiYWcga25hcHNhY2sgdHJhdmVsXCIsXG4gIG5vX2RyaW5rczogXCJhbGNvaG9sIGJldmVyYWdlIGJvdHRsZSBjb2NrdGFpbCBmb29kIGxpcXVvciB3aW5lXCIsXG4gIG5vX2VuY3J5cHRpb246IFwiZGlzYWJsZWQgZW5hYmxlZCBsb2NrIG9mZiBwYXNzd29yZCBzYWZldHkgc2VjdXJpdHkgc2xhc2hcIixcbiAgbm9fZW5jcnlwdGlvbl9nbWFpbGVycm9ycmVkOiBcImRpc2FibGVkIGVuYWJsZWQgbG9ja2VkIG9mZiBzbGFzaFwiLFxuICBub19mbGFzaDogXCJjYW1lcmEgZGlzYWJsZWQgZW5hYmxlZCBpbWFnZSBsaWdodG5pbmcgb2ZmIG9uIHBob3RvZ3JhcGh5IHBpY3R1cmUgc2xhc2ggdGh1bmRlcmJvbHRcIixcbiAgbm9fZm9vZDogXCJkaXNhYmxlZCBkcmluayBlbmFibGVkIGZhc3Rmb29kIGhhbWJ1cmdlciBtZWFsIG9mZiBvbiBzbGFzaFwiLFxuICBub19sdWdnYWdlOiBcImJhZ2dhZ2UgY2FycnkgZGlzYWJsZWQgZW5hYmxlZCBvZmYgb24gc2xhc2ggc3VpdGNhc2UgdHJhdmVsXCIsXG4gIG5vX21lYWxzOiBcImRpbmluZyBkaXNhYmxlZCBlYXQgZW5hYmxlZCBmb29kIGZvcmsga25pZmUgb2ZmIHJlc3RhdXJhbnQgc2xhc2ggc3Bvb24gdXRlbnNpbHNcIixcbiAgbm9fbWVldGluZ19yb29tOiBcImJ1aWxkaW5nIGRpc2FibGVkIGRvb3J3YXkgZW5hYmxlZCBlbnRyYW5jZSBob21lIGhvdXNlIGludGVyaW9yIG9mZmljZSBvbiBvcGVuIHBsYWNlcyBzbGFzaFwiLFxuICBub19waG90b2dyYXBoeTogXCJjYW1lcmEgZGlzYWJsZWQgZW5hYmxlZCBpbWFnZSBvZmYgb24gcGljdHVyZSBzbGFzaFwiLFxuICBub3JkaWNfd2Fsa2luZzogXCJhdGhsZXRlIGF0aGxldGljIGJvZHkgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBoaWtpbmcgaG9iYnkgaHVtYW4gcGVvcGxlIHBlcnNvbiBzb2NpYWwgc3BvcnRzIHRyYXZlbCB3YWxrZXJcIixcbiAgbm9ydGg6IFwiYXJyb3cgZGlyZWN0aW9uYWwgbWFwcyBuYXZpZ2F0aW9uIHVwXCIsXG4gIG5vcnRoX2Vhc3Q6IFwiYXJyb3cgbWFwcyBuYXZpZ2F0aW9uIG5vdGggcmlnaHQgdXBcIixcbiAgbm9ydGhfd2VzdDogXCJhcnJvdyBkaXJlY3Rpb25hbCBsZWZ0IG1hcHMgbmF2aWdhdGlvbiB1cFwiLFxuICBub19zaW06IFwiY2FtZXJhIGNhcmQgZGV2aWNlIGVqZWN0IGluc2VydCBtZW1vcnkgcGhvbmUgc3RvcmFnZVwiLFxuICBub19zdHJvbGxlcjogXCJiYWJ5IGNhcmUgY2FycmlhZ2UgY2hpbGRyZW4gZGlzYWJsZWQgZW5hYmxlZCBpbmZhbnQga2lkIG5ld2Jvcm4gb2ZmIG9uIHBhcmVudHMgc2xhc2ggdG9kZGxlciB5b3VuZ1wiLFxuICBub3RfYWNjZXNzaWJsZTogXCJhY2Nlc3NpYmlsaXR5IGJvZHkgaGFuZGljYXAgaGVscCBodW1hbiBwZXJzb24gd2hlZWxjaGFpclwiLFxuICBub3RlOiBcImJvb2ttYXJrIG1lc3NhZ2UgcGFwZXJcIixcbiAgbm90ZV9hZGQ6IFwiKyAtZG9jIGNyZWF0ZSBkYXRhIGRvY3VtZW50IGRyaXZlIGZpbGUgZm9sZGVycyBuZXcgcGFnZSBwYXBlciBwbHVzIHNoZWV0IHNsaWRlIHN5bWJvbCB3cml0aW5nXCIsXG4gIG5vdGVfYWx0OiBcImNsaXBib2FyZCBkb2N1bWVudCBmaWxlIG1lbW8gcGFnZSBwYXBlciB3cml0aW5nXCIsXG4gIG5vdGVzOiBcImNvbW1lbnQgZG9jdW1lbnQgdGV4dCB3cml0ZSB3cml0aW5nXCIsXG4gIG5vdGlmaWNhdGlvbl9hZGQ6IFwiKyBhY3RpdmUgYWxhcm0gYWxlcnQgYmVsbCBjaGltZSBub3RpZmljYXRpb25zIG5vdGlmeSBwbHVzIHJlbWluZGVyIHJpbmcgc291bmQgc3ltYm9sXCIsXG4gIG5vdGlmaWNhdGlvbl9pbXBvcnRhbnQ6IFwiISBhY3RpdmUgYWxhcm0gYWxlcnQgYW5ub3VuY2VtZW50IGF0dGVudGlvbiBiZWxsIGNhdXRpb24gY2hpbWUgZGFuZ2VyIGVycm9yIGV4Y2xhbWF0aW9uIGZlZWRiYWNrIG1hcmsgbm90aWZpY2F0aW9ucyBub3RpZnkgcHJvYmxlbSByZW1pbmRlciByaW5nIHNvdW5kIHN5bWJvbCB3YXJuaW5nXCIsXG4gIG5vdGlmaWNhdGlvbnM6IFwiYWN0aXZlIGFsYXJtIGFsZXJ0IGJlbGwgY2hpbWUgbm90aWZ5IHJlbWluZGVyIHJpbmcgc291bmRcIixcbiAgbm90aWZpY2F0aW9uc19hY3RpdmU6IFwiYWxhcm0gYWxlcnQgYmVsbCBjaGltZSBub3RpZnkgcmVtaW5kZXIgcmluZ2luZyBzb3VuZFwiLFxuICBub3RpZmljYXRpb25zX25vbmU6IFwiYWxhcm0gYWxlcnQgYmVsbCBub3RpZnkgcmVtaW5kZXIgcmluZyBzb3VuZFwiLFxuICBub3RpZmljYXRpb25zX29mZjogXCJhY3RpdmUgYWxhcm0gYWxlcnQgYmVsbCBjaGltZSBkaXNhYmxlZCBlbmFibGVkIG5vdGlmeSBvZmZsaW5lIHJlbWluZGVyIHJpbmcgc2xhc2ggc291bmRcIixcbiAgbm90aWZpY2F0aW9uc19wYXVzZWQ6IFwiLS0tIGFjdGl2ZSBhbGFybSBhbGVldCBhbGVydCBiZWxsIGNoaW1lIGlnbm9yZSBub3RpZnkgcGF1c2UgcXVpZXQgcmVtaW5kZXIgcmluZyBzbGVlcCBzbm9vemUgc291bmQgenp6XCIsXG4gIG5vdF9pbnRlcmVzdGVkOiBcImFsbG93ZWQgYmFubmVkIGNhbmNlbCBjaXJjbGUgY2xvc2UgZGlzYWJsZWQgZGlzbGlrZSBleGl0IGludGVyZXN0ZWQgbm90IG9mZiBwcm9oaWJpdGVkIHF1aXQgcmVtb3ZlIHN0b3BcIixcbiAgbm90X2xpc3RlZF9sb2NhdGlvbjogXCI/IGFzc2lzdGFuY2UgZGVzdGluYXRpb24gZGlyZWN0aW9uIGhlbHAgaW5mb3JtYXRpb24gbWFwcyBwaW4gcGxhY2UgcHVuY3R1YXRpb24gcXVlc3Rpb25tYXJrIHN0b3Agc3VwcG9ydCBzeW1ib2xcIixcbiAgbm9fdHJhbnNmZXI6IFwiYXV0b21vYmlsZSBidXMgY2FycyBkaXJlY3Rpb24gZGlzYWJsZWQgZW5hYmxlZCBtYXBzIG9mZiBwdWJsaWMgc2xhc2ggdHJhbnNwb3J0YXRpb24gdmVoaWNsZVwiLFxuICBub3Rfc3RhcnRlZDogXCJjaXJjbGUgbWVkaWEgcGF1c2UgcGxheSB2aWRlb1wiLFxuICBvZmZsaW5lX2JvbHQ6IFwiY2lyY2xlIGVsZWN0cmljIGZhc3QgZmxhc2ggbGlnaHRuaW5nIHNwYXJrIHRodW5kZXJib2x0XCIsXG4gIG9mZmxpbmVfcGluOiBcImFwcHJvdmUgY2hlY2ttYXJrIGNpcmNsZSBjb21wbGV0ZSBkb25lIG9rIHNlbGVjdCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBvZmZsaW5lX3NoYXJlOiBcIkFuZHJvaWQgYXJyb3cgY2VsbCBjb25uZWN0IGRldmljZSBkaXJlY3Rpb24gaGFyZHdhcmUgaU9TIGxpbmsgbW9iaWxlIG11bHRpcGxlIHBob25lIHJpZ2h0IHRhYmxldFwiLFxuICBvaWxfYmFycmVsOiBcImRyb3BsZXQgZ2Fzb2xpbmUgbmVzdCB3YXRlclwiLFxuICBvbmRlbWFuZF92aWRlbzogXCJBbmRyb2lkIGNocm9tZSBkZXNrdG9wIGRldmljZSBoYXJkd2FyZSBpT1MgbWFjIG1vbml0b3IgcGxheSB0ZWxldmlzaW9uIHR2IHdlYiB3aW5kb3dcIixcbiAgb25fZGV2aWNlX3RyYWluaW5nOiBcImFycm93IGJ1bGIgY2FsbCBjZWxsIGNvbnRhY3QgaGFyZHdhcmUgaWRlYSBpbnByb2dyZXNzIGxpZ2h0IGxvYWRpbmcgbW9iaWxlIG1vZGVsIHJlZnJlc2ggcmVuZXcgcmVzdG9yZSByZXZlcnNlIHJvdGF0ZSB0ZWxlcGhvbmVcIixcbiAgb25saW5lX3ByZWRpY3Rpb246IFwiYnVsYiBjb25uZWN0aW9uIGlkZWEgbGlnaHQgbmV0d29yayBzaWduYWwgd2lyZWxlc3NcIixcbiAgb3BhY2l0eTogXCJjb2xvciBkcm9wbGV0IGh1ZSBpbnZlcnRlZCBsaXF1aWQgcGFsZXR0ZSB0b25lIHdhdGVyXCIsXG4gIG9wZW5faW5fYnJvd3NlcjogXCJhcnJvdyBib3ggbmV3IHVwIHdlYnNpdGUgd2luZG93XCIsXG4gIG9wZW5faW5fZnVsbDogXCJhY3Rpb24gYXJyb3dzIGV4cGFuZCBncm93IG1vdmVcIixcbiAgb3Blbl9pbl9uZXc6IFwiYXBwbGljYXRpb24gYXJyb3cgYm94IGNvbXBvbmVudHMgaW50ZXJmYWNlIHNjcmVlbiB1aSB1eCB3ZWJzaXRlIHdpbmRvd1wiLFxuICBvcGVuX2luX25ld19vZmY6IFwiYXJyb3cgYm94IGRpc2FibGVkIGVuYWJsZWQgZXhwb3J0IG9uIHNsYXNoIHdpbmRvd1wiLFxuICBvcGVuX3dpdGg6IFwiYXJyb3dzIGRpcmVjdGlvbmFsIGV4cGFuZCBtb3ZlXCIsXG4gIG90aGVyX2hvdXNlczogXCJhcmNoaXRlY3R1cmUgY290dGFnZSBlc3RhdGUgaG9tZSBtYXBzIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHN0YXkgdHJhdmVsaW5nXCIsXG4gIG91dGJvdW5kOiBcImFycm93IGNpcmNsZSBkaXJlY3Rpb25hbCByaWdodCB1cFwiLFxuICBvdXRib3g6IFwibWFpbCBzZW5kIHNlbnRcIixcbiAgb3V0ZG9vcl9ncmlsbDogXCJiYXJiZWN1ZSBiYXJiZXF1ZSBiYnEgY2hhcmNvYWwgY29va2luZyBob21lIGhvdXNlIG91dHNpZGVcIixcbiAgb3V0bGV0OiBcImNvbm5lY3RlciBlbGVjdHJpY2l0eSBwbHVnIHBvd2VyXCIsXG4gIG91dGxpbmVkX2ZsYWc6IFwiY291bnRyeSBnb2FsIG1hcmsgbmF0aW9uIHJlcG9ydCBzdGFydFwiLFxuICBwYWRkaW5nOiBcImRlc2lnbiBsYXlvdXQgbWFyZ2luIHNpemUgc3F1YXJlXCIsXG4gIHBhZ2VzOiBcImFydGljbGUgZ3BsdXMgcGFwZXIgcG9zdCBzdGFyXCIsXG4gIHBhZ2V2aWV3OiBcImRvY3VtZW50IGZpbmQgZ2xhc3MgbWFnbmlmeWluZyBwYXBlciBzZWFyY2hcIixcbiAgcGFpZDogXCJjaXJjbGUgY3VycmVuY3kgbW9uZXkgcGF5bWVudCB0cmFuc2FjdGlvblwiLFxuICBwYWxldHRlOiBcImFydCBjb2xvcnMgZmlsdGVycyBwYWludFwiLFxuICBwYW5vcmFtYTogXCJhbmdsZSBpbWFnZSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZSB2aWV3IHdpZGVcIixcbiAgcGFub3JhbWFfZmlzaF9leWU6IFwiYW5nbGUgY2lyY2xlIGltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmUgd2lkZVwiLFxuICBwYW5vcmFtYV9ob3Jpem9udGFsOiBcImFuZ2xlIGltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmUgd2lkZVwiLFxuICBwYW5vcmFtYV9waG90b3NwaGVyZTogXCJhbmdsZSBob3Jpem9udGFsIGltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmUgd2lkZVwiLFxuICBwYW5vcmFtYV92ZXJ0aWNhbDogXCJhbmdsZSBpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlIHdpZGVcIixcbiAgcGFub3JhbWFfd2lkZV9hbmdsZTogXCJpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIHBhbl90b29sOiBcImRyYWcgZmluZ2VycyBnZXN0dXJlIGhhbmRzIGh1bWFuIG1vdmUgc2NhbiBzdG9wIHRvdWNoIHdhaXRcIixcbiAgcGFyYWdsaWRpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBib2R5IGVudGVydGFpbm1lbnQgZXhlcmNpc2UgZmx5IGhvYmJ5IGh1bWFuIHBhcmFjaHV0ZSBwZW9wbGUgcGVyc29uIHNreWRpdmluZyBzb2NpYWwgc3BvcnRzIHRyYXZlbFwiLFxuICBwYXJrOiBcImF0dHJhY3Rpb24gZnJlc2ggbG9jYWwgbmF0dXJlIG91dHNpZGUgcGxhbnQgdHJlZVwiLFxuICBwYXJ0eV9tb2RlOiBcImNhbWVyYSBsZW5zIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgcGFzc3dvcmQ6IFwia2V5IGxvZ2luIHBpbiBzZWN1cml0eSBzdGFyIHVubG9ja1wiLFxuICBwYXR0ZXJuOiBcImtleSBsb2dpbiBwYXNzd29yZCBwaW4gc2VjdXJpdHkgc3RhciB1bmxvY2tcIixcbiAgcGF1c2U6IFwiY29udHJvbHMgbWVkaWEgbXVzaWMgcGVuZGluZyBwbGF5ZXIgc3RhdHVzIHZpZGVvIHdhaXRcIixcbiAgcGF1c2VfY2lyY2xlOiBcImNvbnRyb2xzIG1lZGlhIG11c2ljIHZpZGVvXCIsXG4gIHBhdXNlX2NpcmNsZV9maWxsZWQ6IFwiY29udHJvbHMgbWVkaWEgbXVzaWMgcGVuZGluZyBzdGF0dXMgdmlkZW8gd2FpdFwiLFxuICBwYXVzZV9jaXJjbGVfb3V0bGluZTogXCJjb250cm9scyBtZWRpYSBtdXNpYyBwZW5kaW5nIHN0YXR1cyB2aWRlbyB3YWl0XCIsXG4gIHBhdXNlX3ByZXNlbnRhdGlvbjogXCJhcHBsaWNhdGlvbiBkZXNrdG9wIGRldmljZSBwZW5kaW5nIHNjcmVlbiBzaGFyZSBzbGlkZXMgc3RhdHVzIHdhaXQgd2Vic2l0ZSB3aW5kb3cgd3d3XCIsXG4gIHBheW1lbnQ6IFwiYmlsbCBjYXNoIGNoYXJnZSBjb2luIGNvbW1lcmNlIGNvc3QgY3JlZGl0Y2FyZCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgZmluYW5jaWFsIGluZm9ybWF0aW9uIG1vbmV5IG9ubGluZSBwcmljZSBzaG9wcGluZyBzeW1ib2xcIixcbiAgcGF5bWVudHM6IFwiYmlsbCBjYXJkIGNhc2ggY29pbiBjb21tZXJjZSBjb3N0IGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgbGF5ZXIgbW9uZXkgbXVsdGlwbGUgb25saW5lIHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICBwZWRhbF9iaWtlOiBcImF1dG9tb2JpbGUgYmljeWNsZSBjYXJzIGRpcmVjdGlvbiBodW1hbiBtYXBzIHB1YmxpYyByb3V0ZSBzY29vdGVyIHRyYW5zcG9ydGF0aW9uIHZlaGljbGUgdmVzcGFcIixcbiAgcGVuZGluZzogXCJjaXJjbGUgZG90cyBsb2FkaW5nIHByb2dyZXNzIHdhaXRpbmdcIixcbiAgcGVuZGluZ19hY3Rpb25zOiBcImNsaXBib2FyZCBjbG9jayBkYXRlIGRvY3VtZW50IHJlbWVtYmVyIHNjaGVkdWxlIHRpbWVcIixcbiAgcGVudGFnb246IFwiZml2ZSBzaGFwZSBzaWRlc1wiLFxuICBwZW9wbGU6IFwiYWNjb3VudHMgY29tbWl0dGVlIGNvbW11bml0eSBmYWNlIGZhbWlseSBmcmllbmRzIGdyb3VwIGh1bWFucyBuZXR3b3JrIHBlcnNvbnMgcHJvZmlsZXMgc29jaWFsIHRlYW0gdXNlcnNcIixcbiAgcGVvcGxlX2FsdDogXCJhY2NvdW50cyBjb21taXR0ZWUgZmFjZSBmYW1pbHkgZnJpZW5kcyBncm91cCBodW1hbnMgbmV0d29yayBwZXJzb25zIHByb2ZpbGVzIHNvY2lhbCB0ZWFtIHVzZXJzXCIsXG4gIHBlb3BsZV9vdXRsaW5lOiBcImFjY291bnRzIGNvbW1pdHRlZSBmYWNlIGZhbWlseSBmcmllbmRzIGdyb3VwIGh1bWFucyBuZXR3b3JrIHBlcnNvbnMgcHJvZmlsZXMgc29jaWFsIHRlYW0gdXNlcnNcIixcbiAgcGVyY2VudDogXCJtYXRoIG51bWJlciBzeW1ib2xcIixcbiAgcGVybV9jYW1lcmFfbWljOiBcImltYWdlIG1pY3JvcGhvbmUgbWluIHBob3RvZ3JhcGh5IHBpY3R1cmUgc3BlYWtlclwiLFxuICBwZXJtX2NvbnRhY3RfY2FsZW5kYXI6IFwiYWNjb3VudCBhZ2VuZGEgZGF0ZSBmYWNlIGh1bWFuIGluZm9ybWF0aW9uIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzY2hlZHVsZSB0aW1lIHVzZXJcIixcbiAgcGVybV9kYXRhX3NldHRpbmc6IFwiY2VsbHVsYXIgY29uZmlndXJlIGdlYXIgaW5mb3JtYXRpb24gbmV0d29yayBzZXR0aW5ncyB3aWZpIHdpcmVsZXNzXCIsXG4gIHBlcm1fZGV2aWNlX2luZm9ybWF0aW9uOiBcIkFuZHJvaWQgYWxlcnQgYW5ub3VuY2VtZW50IGNlbGwgaGFyZHdhcmUgaU9TIGltcG9ydGFudCBtb2JpbGUgcGhvbmUgdGFibGV0XCIsXG4gIHBlcm1faWRlbnRpdHk6IFwiYWNjb3VudCBhdmF0YXIgZmFjZSBodW1hbiBpbmZvcm1hdGlvbiBwZW9wbGUgcGVyc29uIHByb2ZpbGUgc2F2ZSwgdGh1bWJuYWlsIHVzZXJcIixcbiAgcGVybV9tZWRpYTogXCJjb2xsZWN0aW9uIGRhdGEgZGlyZWN0b3JpZXMgZG9jdW1lbnQgZmlsZSBmb2xkZXJzIGltYWdlcyBsYW5kc2NhcGUgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmUgc2F2ZSBzdG9yYWdlXCIsXG4gIHBlcm1fcGhvbmVfbXNnOiBcImJ1YmJsZSBjYWxsIGNlbGwgY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGNvbnRhY3QgZGV2aWNlIG1lc3NhZ2UgbW9iaWxlIHJlY29yZGluZyBzYXZlIHNwZWVjaCB0ZWxlcGhvbmUgdm9pY2VcIixcbiAgcGVybV9zY2FuX3dpZmk6IFwiYWxlcnQgYW5ub3VuY2VtZW50IGNvbm5lY3Rpb24gaW5mb3JtYXRpb24gaW50ZXJuZXQgbmV0d29yayBzZXJ2aWNlIHNpZ25hbCB3aXJlbGVzc1wiLFxuICBwZXJzb246IFwiYWNjb3VudCBhdmF0YXIgZmFjZSBodW1hbiBwZW9wbGUgcHJvZmlsZSB1c2VyXCIsXG4gIHBlcnNvbl9hZGQ6IFwiKyBhY2NvdW50IGF2YXRhciBmYWNlIGZyaWVuZCBodW1hbiBuZXcgcGVvcGxlIHBsdXMgcHJvZmlsZSBzeW1ib2wgdXNlclwiLFxuICBwZXJzb25fYWRkX2FsdDogXCIrIGFjY291bnQgZmFjZSBodW1hbiBwZW9wbGUgcGx1cyBwcm9maWxlIHVzZXJcIixcbiAgcGVyc29uX2FkZF9kaXNhYmxlZDogXCIrIGFjY291bnQgZW5hYmxlZCBmYWNlIGh1bWFuIG5ldyBvZmZsaW5lIHBlb3BsZSBwbHVzIHByb2ZpbGUgc2xhc2ggc3ltYm9sIHVzZXJcIixcbiAgcGVyc29uYWxfdmlkZW86IFwiQW5kcm9pZCBjYW0gY2hyb21lIGRlc2t0b3AgZGV2aWNlIGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciB0ZWxldmlzaW9uIHR2IHdlYiB3aW5kb3dcIixcbiAgcGVyc29uX29mZjogXCJhY2NvdW50IGF2YXRhciBkaXNhYmxlZCBlbmFibGVkIGZhY2UgaHVtYW4gcGVvcGxlIHByb2ZpbGUgc2xhc2ggdXNlclwiLFxuICBwZXJzb25fb3V0bGluZTogXCJhY2NvdW50IGF2YXRhciBmYWNlIGh1bWFuIHBlb3BsZSBwcm9maWxlIHVzZXJcIixcbiAgcGVyc29uX3BpbjogXCJhY2NvdW50IGF2YXRhciBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZmFjZSBncHMgaHVtYW4gbG9jYXRpb24gbWFwcyBwZW9wbGUgcGxhY2UgcHJvZmlsZSBzdG9wIHVzZXJcIixcbiAgcGVyc29uX3Bpbl9jaXJjbGU6IFwiYWNjb3VudCBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZmFjZSBncHMgaHVtYW4gbG9jYXRpb24gbWFwcyBwZW9wbGUgcGxhY2UgcHJvZmlsZSBzdG9wIHVzZXJcIixcbiAgcGVyc29uX3JlbW92ZTogXCJhY2NvdW50IGF2YXRhciBkZWxldGUgZmFjZSBodW1hbiBtaW51cyBwZW9wbGUgcHJvZmlsZSB1bmZyaWVuZCB1c2VyXCIsXG4gIHBlcnNvbl9zZWFyY2g6IFwiYWNjb3VudCBhdmF0YXIgZmFjZSBmaW5kIGdsYXNzIGh1bWFuIGxvb2sgbWFnbmlmeWluZyBwZW9wbGUgcHJvZmlsZSB1c2VyXCIsXG4gIHBlc3RfY29udHJvbDogXCJidWcgZXh0ZXJtaW5hdG9yIGluc2VjdHNcIixcbiAgcGVzdF9jb250cm9sX3JvZGVudDogXCJleHRlcm1pbmF0b3IgbWljZVwiLFxuICBwZXRzOiBcImFuaW1hbCBjYXQgY2xhdyBkb2cgaGFuZCBwYXdcIixcbiAgcGhpc2hpbmc6IFwiZmlzaGluZyBmcmF1ZCBob29rIHNjYW1cIixcbiAgcGhvbmU6IFwiY2FsbCBjZWxsIGNoYXQgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHRlbGVwaG9uZSB0ZXh0XCIsXG4gIHBob25lX2FuZHJvaWQ6IFwiY2VsbCBkZXZpY2UgaGFyZHdhcmUgaU9TIG1vYmlsZSB0YWJsZXRcIixcbiAgcGhvbmVfYmx1ZXRvb3RoX3NwZWFrZXI6IFwiY2FsbCBjZWxsIGNvbm5lY3Rpb24gY29ubmVjdGl2aXR5IGNvbnRhY3QgZGV2aWNlIGhhcmR3YXJlIG1vYmlsZSBzaWduYWwgc3ltYm9sIHRlbGVwaG9uZSB3aXJlbGVzc1wiLFxuICBwaG9uZV9jYWxsYmFjazogXCJhcnJvdyBjZWxsIGNvbnRhY3QgZGV2aWNlIGRvd24gaGFyZHdhcmUgbW9iaWxlIHRlbGVwaG9uZVwiLFxuICBwaG9uZV9kaXNhYmxlZDogXCJjYWxsIGNlbGwgY29udGFjdCBkZXZpY2UgZW5hYmxlZCBoYXJkd2FyZSBtb2JpbGUgb2ZmbGluZSBzbGFzaCB0ZWxlcGhvbmVcIixcbiAgcGhvbmVfZW5hYmxlZDogXCJjYWxsIGNlbGwgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHRlbGVwaG9uZVwiLFxuICBwaG9uZV9mb3J3YXJkZWQ6IFwiYXJyb3cgY2FsbCBjZWxsIGNvbnRhY3QgZGV2aWNlIGRpcmVjdGlvbiBoYXJkd2FyZSBtb2JpbGUgcmlnaHQgdGVsZXBob25lXCIsXG4gIHBob25lX2lwaG9uZTogXCJBbmRyb2lkIGFwcGxlIGNlbGwgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgdGFibGV0XCIsXG4gIHBob25lbGluazogXCJBbmRyb2lkIGNocm9tZSBjb21wdXRlciBjb25uZWN0IGRlc2t0b3AgZGV2aWNlIGhhcmR3YXJlIGlPUyBtYWMgbW9iaWxlIHN5bmMgdGFibGV0IHdlYiB3aW5kb3dzXCIsXG4gIHBob25lbGlua19lcmFzZTogXCJBbmRyb2lkIGNhbmNlbCBjZWxsIGNsb3NlIGNvbm5lY3Rpb24gZGV2aWNlIGV4aXQgaGFyZHdhcmUgaU9TIG1vYmlsZSBubyByZW1vdmUgc3RvcCB0YWJsZXRcIixcbiAgcGhvbmVsaW5rX2xvY2s6IFwiQW5kcm9pZCBjZWxsIGNvbm5lY3Rpb24gZGV2aWNlIGVyYXNlIGhhcmR3YXJlIGlPUyBsb2NrZWQgbW9iaWxlIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzZWN1cmUgc2VjdXJpdHkgdGFibGV0XCIsXG4gIHBob25lbGlua19vZmY6IFwiQW5kcm9pZCBjaHJvbWUgY29tcHV0ZXIgY29ubmVjdCBkZXNrdG9wIGRldmljZSBkaXNhYmxlZCBlbmFibGVkIGhhcmR3YXJlIGlPUyBtYWMgbW9iaWxlIHNsYXNoIHN5bmMgdGFibGV0IHdlYiB3aW5kb3dzXCIsXG4gIHBob25lbGlua19yaW5nOiBcIkFuZHJvaWQgY2VsbCBjb25uZWN0aW9uIGRhdGEgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgbmV0d29yayBzZXJ2aWNlIHNpZ25hbCB0YWJsZXQgd2lyZWxlc3NcIixcbiAgcGhvbmVsaW5rX3NldHVwOiBcIkFuZHJvaWQgY2FsbCBjaGF0IGRldmljZSBoYXJkd2FyZSBpT1MgaW5mb3JtYXRpb24gbW9iaWxlIHNldHRpbmdzIHRhYmxldCB0ZXh0XCIsXG4gIHBob25lX2xvY2tlZDogXCJjYWxsIGNlbGwgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzZWN1cmUgc2VjdXJpdHkgdGVsZXBob25lXCIsXG4gIHBob25lX21pc3NlZDogXCJhcnJvdyBjYWxsIGNlbGwgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHRlbGVwaG9uZVwiLFxuICBwaG9uZV9wYXVzZWQ6IFwiY2FsbCBjZWxsIGNvbnRhY3QgZGV2aWNlIGhhcmR3YXJlIG1vYmlsZSB0ZWxlcGhvbmUgd2FpdFwiLFxuICBwaG90bzogXCJpbWFnZSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZVwiLFxuICBwaG90b19hbGJ1bTogXCJhcmNoaXZlIGJvb2ttYXJrIGltYWdlIGxhYmVsIGxpYnJhcnkgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmUgcmliYm9uIHNhdmUgdGFnXCIsXG4gIHBob3RvX2NhbWVyYTogXCJpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIHBob3RvX2NhbWVyYV9iYWNrOiBcImltYWdlIGxhbmRzY2FwZSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZSByZWFyXCIsXG4gIHBob3RvX2NhbWVyYV9mcm9udDogXCJhY2NvdW50IGZhY2UgaHVtYW4gaW1hZ2UgcGVvcGxlIHBlcnNvbiBwaG90b2dyYXBoeSBwaWN0dXJlIHBvcnRyYWl0IHByb2ZpbGUgdXNlclwiLFxuICBwaG90b19maWx0ZXI6IFwiZmlsdGVycyBpbWFnZSBwaG90b2dyYXBoeSBwaWN0dXJlIHN0YXJzXCIsXG4gIHBob3RvX2xpYnJhcnk6IFwiYWxidW0gaW1hZ2UgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgcGhvdG9fc2l6ZV9zZWxlY3RfYWN0dWFsOiBcImltYWdlIG1vdW50YWlucyBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIHBob3RvX3NpemVfc2VsZWN0X2xhcmdlOiBcImFkanVzdCBhbGJ1bSBlZGl0aW5nIGltYWdlIGxpYnJhcnkgbW91bnRhaW5zIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgcGhvdG9fc2l6ZV9zZWxlY3Rfc21hbGw6IFwiYWRqdXN0IGFsYnVtIGVkaXRpbmcgaW1hZ2UgbGFyZ2UgbGlicmFyeSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZVwiLFxuICBwaHA6IFwiYWxwaGFiZXQgYnJhY2tldHMgY2hhcmFjdGVyIGNvZGUgY3NzIGRldmVsb3BlciBlbmdpbmVlcmluZyBmb250IGh0bWwgbGV0dGVyIHBsYXRmb3JtIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgcGlhbm86IFwiaW5zdHJ1bWVudCBrZXlib2FyZCBrZXlzIG11c2ljYWwgc29jaWFsXCIsXG4gIHBpYW5vX29mZjogXCJkaXNhYmxlZCBlbmFibGVkIGluc3RydW1lbnQga2V5Ym9hcmQga2V5cyBtdXNpY2FsIG9uIHNsYXNoIHNvY2lhbFwiLFxuICBwaWN0dXJlX2FzX3BkZjogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZG9jdW1lbnQgZmlsZSBmb250IGltYWdlIGxldHRlciBtdWx0aXBsZSBwaG90b2dyYXBoeSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIHBpY3R1cmVfaW5fcGljdHVyZTogXCJjcm9wcGVkIG92ZXJsYXAgcGhvdG8gcG9zaXRpb24gc2hhcGVcIixcbiAgcGljdHVyZV9pbl9waWN0dXJlX2FsdDogXCJjcm9wcGVkIG92ZXJsYXAgcGhvdG8gcG9zaXRpb24gc2hhcGVcIixcbiAgcGllX2NoYXJ0OiBcImFuYWx5dGljcyBiYXJzIGRhdGEgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBwaWVfY2hhcnRfb3V0bGluZTogXCJhbmFseXRpY3MgYmFycyBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgcGluOiBcIjEgMiAzIGRpZ2l0IGtleSBsb2dpbiBsb2dvdXQgbnVtYmVyIHBhc3N3b3JkIHBhdHRlcm4gc2VjdXJpdHkgc3RhciBzeW1ib2wgdW5sb2NrXCIsXG4gIHBpbmNoOiBcImFycm93cyBjb21wcmVzcyBkaXJlY3Rpb24gZmluZ2VyIGdyYXNwIGhhbmQgbmF2aWdhdGlvbiBuaXAgc3F1ZWV6ZSB0d2Vha1wiLFxuICBwaW5fZHJvcDogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZ3BzIGxvY2F0aW9uIG1hcHMgbmF2aWdhdGlvbiBwbGFjZSBzdG9wXCIsXG4gIHBpdm90X3RhYmxlX2NoYXJ0OiBcImFuYWx5dGljcyBhcnJvd3MgYmFycyBkYXRhIGRpYWdyYW0gZGlyZWN0aW9uIGRyaXZlIGVkaXRpbmcgZ3JpZCBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgcm90YXRlIHNoZWV0IHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgcGxhY2U6IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGxvY2F0aW9uIG1hcHMgbmF2aWdhdGlvbiBwaW4gcG9pbnQgc3RvcFwiLFxuICBwbGFnaWFyaXNtOiBcImRvY3VtZW50IGZpbmQgZ2xhc3MgbG9vayBtYWduaWZ5aW5nIHBhZ2UgcGFwZXIgc2VhcmNoIHNlZVwiLFxuICBwbGF5X2Fycm93OiBcImNvbnRyb2xzIG1lZGlhIG11c2ljIHBsYXllciBzdGFydCB2aWRlb1wiLFxuICBwbGF5X2NpcmNsZTogXCJhcnJvdyBjb250cm9scyBtZWRpYSBtdXNpYyB2aWRlb1wiLFxuICBwbGF5X2Rpc2FibGVkOiBcImNvbnRyb2xzIGVuYWJsZWQgbWVkaWEgbXVzaWMgb2ZmIHNsYXNoIHZpZGVvXCIsXG4gIHBsYXlfZm9yX3dvcms6IFwiYXJyb3cgY2lyY2xlIGRvd24gZ29vZ2xlIGhhbGZcIixcbiAgcGxheV9sZXNzb246IFwiYXVkaW8gYm9va21hcmsgZGlnaXRhbCBlYm9vayBsZXNzb24gbXVsdGltZWRpYSBwbGF5IHJlYWRpbmcgcmliYm9uXCIsXG4gIHBsYXlsaXN0X2FkZDogXCIrIGNvbGxlY3Rpb24gbXVzaWMgbmV3IHBsdXMgc3ltYm9sIHRhc2sgdG9kb1wiLFxuICBwbGF5bGlzdF9hZGRfY2hlY2s6IFwiYXBwcm92ZSBjaGVja21hcmsgY29sbGVjdGlvbiBjb21wbGV0ZSBkb25lIG11c2ljIG9rIHNlbGVjdCB0YXNrIHRpY2sgdG9kbyB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgcGxheWxpc3RfYWRkX2NoZWNrX2NpcmNsZTogXCJhbGJ1bSBhcnRpc3QgYXVkaW8gY2QgY29sbGVjdGlvbiBtYXJrIG11c2ljIHJlY29yZCBzb3VuZCB0cmFja1wiLFxuICBwbGF5bGlzdF9hZGRfY2lyY2xlOiBcImFsYnVtIGFydGlzdCBhdWRpbyBjZCBjaGVjayBjb2xsZWN0aW9uIG1hcmsgbXVzaWMgcmVjb3JkIHNvdW5kIHRyYWNrXCIsXG4gIHBsYXlsaXN0X3BsYXk6IFwiYXJvdyBhcnJvdyBjb2xsZWN0aW9uIG11c2ljXCIsXG4gIHBsYXlsaXN0X3JlbW92ZTogXCItIGNvbGxlY3Rpb24gbWludXMgbXVzaWNcIixcbiAgcGx1bWJpbmc6IFwiYnVpbGQgY29uc3RydWN0aW9uIGZpeCBoYW5keW1hbiByZXBhaXIgdG9vbHMgd3JlbmNoXCIsXG4gIHBsdXNfb25lOiBcIjEgYWRkIGRpZ2l0IGluY3JlYXNlIG51bWJlciBzeW1ib2xcIixcbiAgcG9kY2FzdHM6IFwiYnJvYWRjYXN0IGNhc3RpbmcgbmV0d29yayBzaWduYWwgdHJhbnNtaXR0aW5nIHdpcmVsZXNzXCIsXG4gIHBvaW50X29mX3NhbGU6IFwiY2hlY2tvdXQgY29zdCBtYWNoaW5lIG1lcmNoYW50IG1vbmV5IHBheW1lbnQgcG9zIHJldGFpbCBzeXN0ZW0gdHJhbnNhY3Rpb25cIixcbiAgcG9saWN5OiBcImNlcnRpZmllZCBmaW5kIGdsYXNzIGxlZ2FsIGxvb2sgbWFnbmlmeWluZyBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiBzZWFyY2ggc2VjdXJpdHkgc2VlIHNoaWVsZCB2ZXJpZmllZFwiLFxuICBwb2xsOiBcImFuYWx5dGljcyBiYXJjaGFydCBiYXJzIGRhdGEgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgc3RhdGlzdGljcyBzdXJ2ZXkgdHJhY2tpbmcgdm90ZVwiLFxuICBwb29sOiBcImF0aGxldGUgYXRobGV0aWMgYmVhY2ggYm9keSBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGhvYmJ5IGh1bWFuIG9jZWFuIHBlb3BsZSBwZXJzb24gcGxhY2VzIHNlYSBzcG9ydHMgc3dpbW1pbmcgd2F0ZXJcIixcbiAgcG9ydGFibGVfd2lmaV9vZmY6IFwiY29ubmVjdGVkIGNvbm5lY3Rpb24gZGF0YSBkZXZpY2UgZGlzYWJsZWQgZW5hYmxlZCBpbnRlcm5ldCBuZXR3b3JrIG9mZmxpbmUgc2VydmljZSBzaWduYWwgc2xhc2ggdXNhZ2Ugd2lyZWxlc3NcIixcbiAgcG9ydHJhaXQ6IFwiYWNjb3VudCBmYWNlIGh1bWFuIHBlb3BsZSBwZXJzb24gcGhvdG8gcGljdHVyZSBwcm9maWxlIHVzZXJcIixcbiAgcG9zdF9hZGQ6IFwiKyBkYXRhIGRvY3VtZW50IGRyaXZlIGZpbGUgZm9sZGVycyBpdGVtIHBhZ2UgcGFwZXIgcGx1cyBzaGVldCBzbGlkZSB0ZXh0IHdyaXRpbmdcIixcbiAgcG93ZXI6IFwiY2hhcmdlIGNvcmQgZWxlY3RyaWNhbCBvbmxpbmUgb3V0bGV0IHBsdWcgc29ja2V0XCIsXG4gIHBvd2VyX2lucHV0OiBcImRjIGxpbmVzIHN1cHBseVwiLFxuICBwb3dlcl9vZmY6IFwiY2hhcmdlIGNvcmQgZGlzYWJsZWQgZWxlY3RyaWNhbCBlbmFibGVkIG9uIG91dGxldCBwbHVnIHNsYXNoXCIsXG4gIHBvd2VyX3NldHRpbmdzX25ldzogXCJpbmZvcm1hdGlvbiBvZmYgc2F2ZSBzaHV0ZG93blwiLFxuICBwcmVjaXNpb25fbWFudWZhY3R1cmluZzogXCJhcm0gYXV0b21hdGljIGNoYWluIGNvbnZleW9yIGNyYW5lIGZhY3RvcnkgaW5kdXN0cnkgbWFjaGluZXJ5IG1lY2hhbmljYWwgcHJvZHVjdGlvbiByZXBhaXJpbmcgcm9ib3Qgc3VwcGx5IHdhcmVob3VzZVwiLFxuICBwcmVnbmFudF93b21hbjogXCJiYWJ5IGJpcnRoIGJvZHkgZmVtYWxlIGh1bWFuIGxhZHkgbWF0ZXJuaXR5IG1vbSBtb3RoZXIgcGVvcGxlIHBlcnNvbiB1c2VyIHdvbWVuXCIsXG4gIHByZXNlbnRfdG9fYWxsOiBcImFycm93IHByZXNlbnRhdGlvbiBzY3JlZW4gc2hhcmUgc2xpZGVzIHdlYnNpdGVcIixcbiAgcHJldmlldzogXCJkZXNpZ24gZXllIGxheW91dCByZXZlYWwgc2NyZWVuIHNlZSBzaG93IHdlYnNpdGUgd2luZG93IHd3d1wiLFxuICBwcmljZV9jaGFuZ2U6IFwiYXJyb3dzIGJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBkb3duIGZpbmFuY2UgbW9uZXkgb25saW5lIHBheW1lbnQgc2hvcHBpbmcgc3ltYm9sIHVwXCIsXG4gIHByaWNlX2NoZWNrOiBcImFwcHJvdmUgYmlsbCBjYXJkIGNhc2ggY29pbiBjb21tZXJjZSBjb21wbGV0ZSBjb3N0IGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGRvbmUgZmluYW5jZSBtYXJrIG1vbmV5IG9rIG9ubGluZSBwYXltZW50IHNlbGVjdCBzaG9wcGluZyBzeW1ib2wgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgcHJpbnQ6IFwiZHJhZnQgZmF4IGluayBtYWNoaW5lIG9mZmljZSBwYXBlciBwcmludGVyIHNlbmRcIixcbiAgcHJpbnRfZGlzYWJsZWQ6IFwiZW5hYmxlZCBvZmYgb24gcGFwZXIgcHJpbnRlciBzbGFzaFwiLFxuICBwcmlvcml0eV9oaWdoOiBcIiEgYWxlcnQgYXR0ZW50aW9uIGNhdXRpb24gZGFuZ2VyIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBzeW1ib2wgd2FybmluZ1wiLFxuICBwcml2YWN5X3RpcDogXCJhbGVydCBhbm5vdW5jZW1lbnQgYW5ub3VuY21lbnQgYXNzaXN0YW5jZSBjZXJ0aWZpZWQgZGV0YWlscyBoZWxwIGluZm9ybWF0aW9uIHByaXZhdGUgcHJvdGVjdGlvbiBzZWN1cml0eSBzZXJ2aWNlIHNoaWVsZCBzdXBwb3J0IHZlcmlmaWVkXCIsXG4gIHByb2R1Y3Rpb25fcXVhbnRpdHlfbGltaXRzOiBcIiEgYWxlcnQgYXR0ZW50aW9uIGJpbGwgY2FyZCBjYXJ0IGNhc2ggY2F1dGlvbiBjb2luIGNvbW1lcmNlIGNyZWRpdCBjdXJyZW5jeSBkYW5nZXIgZG9sbGFycyBlcnJvciBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBtb25leSBub3RpZmljYXRpb24gb25saW5lIHBheW1lbnQgc2hvcHBpbmcgc3ltYm9sIHdhcm5pbmdcIixcbiAgcHJvcGFuZTogXCJnYXMgbmVzdFwiLFxuICBwcm9wYW5lX3Rhbms6IFwiYmJxIGdhcyBncmlsbCBuZXN0XCIsXG4gIHBzeWNob2xvZ3k6IFwiYmVoYXZpb3IgYm9keSBicmFpbiBjb2duaXRpdmUgZnVuY3Rpb24gZ2VhciBoZWFkIGh1bWFuIGludGVsbGVjdHVhbCBtZW50YWwgbWluZCBwZW9wbGUgcGVyc29uIHByZWZlcmVuY2VzIHBzeWNoaWF0cmljIHNjaWVuY2Ugc2V0dGluZ3Mgc29jaWFsIHRoZXJhcHkgdGhpbmtpbmcgdGhvdWdodHNcIixcbiAgcHVibGljOiBcImNvdW50cnkgZWFydGggZ2xvYmFsIGdsb2JlIGxhbmd1YWdlIG1hcCBuZXR3b3JrIHBsYW5ldCBzb2NpYWwgc3BhY2Ugd2ViIHdvcmxkXCIsXG4gIHB1YmxpY19vZmY6IFwiZGlzYWJsZWQgZWFydGggZW5hYmxlZCBnbG9iYWwgZ2xvYmUgbWFwIG5ldHdvcmsgb24gcGxhbmV0IHNsYXNoIHNvY2lhbCBzcGFjZSB3ZWIgd29ybGRcIixcbiAgcHVibGlzaDogXCJhcnJvdyBjbG91ZCBmaWxlIGltcG9ydCBzdWJtaXQgdXBsb2FkXCIsXG4gIHB1Ymxpc2hlZF93aXRoX2NoYW5nZXM6IFwiYXBwcm92ZSBhcnJvd3MgY2hlY2sgY29tcGxldGUgZG9uZSBpbnByb2dyZXNzIGxvYWRpbmcgbWFyayBvayByZWZyZXNoIHJlbmV3IHJlcGxhY2Ugcm90YXRlIHNlbGVjdCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBwdXNoX3BpbjogXCJsb2NhdGlvbiBtYXJrZXIgcGxhY2UgcmVtZW1iZXIgc2F2ZVwiLFxuICBxcl9jb2RlOiBcImJhcmNvZGUgY2FtZXJhIG1lZGlhIHByb2R1Y3QgcXVpY2sgcmVzcG9uc2Ugc21hcnRwaG9uZSB1cmxzXCIsXG4gIHFyX2NvZGVfMjogXCJiYXJjb2RlIGNhbWVyYSBtZWRpYSBwcm9kdWN0IHF1aWNrIHJlc3BvbnNlIHNtYXJ0cGhvbmUgdXJsc1wiLFxuICBxcl9jb2RlX3NjYW5uZXI6IFwiYmFyY29kZSBjYW1lcmEgbWVkaWEgcHJvZHVjdCBxdWljayByZXNwb25zZSBzbWFydHBob25lIHVybHNcIixcbiAgcXVlcnlfYnVpbGRlcjogXCJjbG9jayBkYXRlIGhvdXIgbWludXRlIHNhdmUgc2NoZWR1bGUgdGltZVwiLFxuICBxdWVyeV9zdGF0czogXCJhbmFseXRpY3MgY2hhcnQgZGF0YSBkaWFncmFtIGZpbmQgZ2xhc3MgaW5mb2dyYXBoaWMgbGluZSBsb29rIG1hZ25pZnlpbmcgbWVhc3VyZSBtZXRyaWNzIHNlYXJjaCBzZWUgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBxdWVzdGlvbl9hbnN3ZXI6IFwiYnViYmxlIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBjb252ZXJzYXRpb24gY29udmVyc2UgZmVlZGJhY2sgbWVzc2FnZSBzcGVlY2ggdGFsa1wiLFxuICBxdWVzdGlvbl9tYXJrOiBcIj8gYXNzaXN0YW5jZSBoZWxwIGluZm9ybWF0aW9uIG1hcmsgcHVuY3R1YXRpb24gcXVlc3Rpb24gc3VwcG9ydCBzeW1ib2xcIixcbiAgcXVldWU6IFwiYWRkIGNvbGxlY3Rpb24gbGF5ZXJzIG11bHRpcGxlIG11c2ljIHBsYXlsaXN0IHN0YWNrIHN0cmVhbSB2aWRlb1wiLFxuICBxdWV1ZV9tdXNpYzogXCJhZGQgY29sbGVjdGlvbiBwbGF5bGlzdCBzdHJlYW1cIixcbiAgcXVldWVfcGxheV9uZXh0OiBcIisgYWRkIGFycm93IGNvbGxlY3Rpb24gZGVza3RvcCBkZXZpY2UgZGlzcGxheSBoYXJkd2FyZSBtb25pdG9yIG11c2ljIG5ldyBwbGF5bGlzdCBwbHVzIHNjcmVlbiBzdGVhbSBzeW1ib2wgdHYgdmlkZW9cIixcbiAgcXVpY2tyZXBseTogXCJidWJibGUgY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGZhc3QgbGlnaHRuaW5nIG1lc3NhZ2Ugc3BlZWNoIHRodW5kZXJib2x0XCIsXG4gIHF1aXo6IFwiPyBhc3Npc3RhbmNlIGZhcSBoZWxwIGluZm9ybWF0aW9uIG1hcmsgcHVuY3R1YXRpb24gcXVlc3Rpb24gc3VwcG9ydCBzeW1ib2wgdGVzdFwiLFxuICByYWRhcjogXCJkZXRlY3QgbWlsaXRhcnkgbmVhciBuZXR3b3JrIHBvc2l0aW9uIHNjYW5cIixcbiAgcmFkaW86IFwiYW50ZW5uYSBhdWRpbyBkZXZpY2UgZnJlcXVlbmN5IGhhcmR3YXJlIGxpc3RlbiBtZWRpYSBtdXNpYyBwbGF5ZXIgc2lnbmFsIHR1bmVcIixcbiAgcmFkaW9fYnV0dG9uX2NoZWNrZWQ6IFwiYXBwbGljYXRpb24gYnVsbGV0IGNpcmNsZSBjb21wb25lbnRzIGRlc2lnbiBmb3JtIGludGVyZmFjZSBvZmYgcG9pbnQgcmVjb3JkIHNjcmVlbiBzZWxlY3RlZCB0b2dnbGUgdWkgdXggd2Vic2l0ZVwiLFxuICByYWRpb19idXR0b25fdW5jaGVja2VkOiBcImJ1bGxldCBjaXJjbGUgZGVzZWxlY3RlZCBmb3JtIG9mZiBwb2ludCByZWNvcmQgdG9nZ2xlXCIsXG4gIHJhaWx3YXlfYWxlcnQ6IFwiISBhdHRlbnRpb24gYXV0b21vYmlsZSBiaWtlIGNhcnMgY2F1dGlvbiBkYW5nZXIgZGlyZWN0aW9uIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXBzIG1hcmsgbm90aWZpY2F0aW9uIHB1YmxpYyBzY29vdGVyIHN1YndheSBzeW1ib2wgdHJhaW4gdHJhbnNwb3J0YXRpb24gdmVoaWNsZSB2ZXNwYSB3YXJuaW5nXCIsXG4gIHJhbWVuX2RpbmluZzogXCJicmVha2Zhc3QgZGlubmVyIGRyaW5rIGZhc3Rmb29kIGx1bmNoIG1lYWwgbm9vZGxlcyByZXN0YXVyYW50XCIsXG4gIHJhbXBfbGVmdDogXCJhcnJvd3MgZGlyZWN0aW9ucyBtYXBzIG5hdmlnYXRpb24gcGF0aCByb3V0ZSBzaWduIHRyYWZmaWNcIixcbiAgcmFtcF9yaWdodDogXCJhcnJvd3MgZGlyZWN0aW9ucyBtYXBzIG5hdmlnYXRpb24gcGF0aCByb3V0ZSBzaWduIHRyYWZmaWNcIixcbiAgcmF0ZV9yZXZpZXc6IFwiY2hhdCBjb21tZW50IGZlZWRiYWNrIG1lc3NhZ2UgcGVuY2lsIHN0YXJzIHdyaXRlXCIsXG4gIHJhd19vZmY6IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRpc2FibGVkIGVuYWJsZWQgZm9udCBpbWFnZSBsZXR0ZXIgb3JpZ2luYWwgcGhvdG9ncmFwaHkgc2xhc2ggc3ltYm9sIHRleHQgdHlwZVwiLFxuICByYXdfb246IFwiYWxwaGFiZXQgY2hhcmFjdGVyIGRpc2FibGVkIGVuYWJsZWQgZm9udCBpbWFnZSBsZXR0ZXIgb2ZmIG9yaWdpbmFsIHBob3RvZ3JhcGh5IHNsYXNoIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgcmVhZF9tb3JlOiBcImFycm93IHRleHRcIixcbiAgcmVjZWlwdDogXCJiaWxsIGNyZWRpdCBpbnZvaWNlIHBhcGVyIHBheW1lbnQgc2FsZSB0cmFuc2FjdGlvblwiLFxuICByZWNlaXB0X2xvbmc6IFwiYmlsbCBjaGVjayBkb2N1bWVudCBsaXN0IHBhcGVyd29yayByZWNvcmQgc3RvcmUgdHJhbnNhY3Rpb25cIixcbiAgcmVjZW50X2FjdG9yczogXCJhY2NvdW50IGF2YXRhciBjYXJkcyBjYXJvdXNlbCBjb250YWN0cyBmYWNlIGh1bWFuIGxheWVycyBsaXN0IHBlb3BsZSBwZXJzb24gcHJvZmlsZSB0aHVtYm5haWwgdXNlclwiLFxuICByZWNvbW1lbmQ6IFwiYXBwcm92ZWQgY2lyY2xlIGNvbmZpcm0gZmF2b3JpdGUgZ2VzdHVyZSBoYW5kIGxpa2UgcmVhY3Rpb24gc29jaWFsIHN1cHBvcnQgdGh1bWJzIHdlbGxcIixcbiAgcmVjb3JkX3ZvaWNlX292ZXI6IFwiYWNjb3VudCBmYWNlIGh1bWFuIHBlb3BsZSBwZXJzb24gcHJvZmlsZSByZWNvcmRpbmcgc291bmQgc3BlYWtpbmcgc3BlZWNoIHRyYW5zY3JpcHQgdXNlclwiLFxuICByZWN0YW5nbGU6IFwiZm91ciBwYXJhbGxlbG9ncmFtcyBwb2x5Z29ucyBxdWFkcmlsYXRlcmFscyByZWNhbmdsZSBzaGFwZSBzaWRlc1wiLFxuICByZWRlZW06IFwiYmlsbCBjYXJ0IGNhc2ggY2VydGlmaWNhdGUgY29pbiBjb21tZXJjZSBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBnaWZ0Y2FyZCBtb25leSBvbmxpbmUgcGF5bWVudCBwcmVzZW50IHNob3BwaW5nXCIsXG4gIHJlZG86IFwiYXJyb3cgYmFja3dhcmQgZm9yd2FyZCBuZXh0IHJlcGVhdCByb3RhdGUgdW5kb1wiLFxuICByZWR1Y2VfY2FwYWNpdHk6IFwiYXJyb3cgYm9keSBjb3ZpZCBkZWNyZWFzZSBkb3duIGh1bWFuIHBlb3BsZSBwZXJzb24gc29jaWFsXCIsXG4gIHJlZnJlc2g6IFwiYXJvdW5kIGFycm93cyBkaXJlY3Rpb24gaW5wcm9ncmVzcyBsb2FkaW5nIG5hdmlnYXRpb24gcmVmcmVzaCByZW5ldyByaWdodCByb3RhdGUgdHVyblwiLFxuICByZW1lbWJlcl9tZTogXCJBbmRyb2lkIGF2YXRhciBkZXZpY2UgaGFyZHdhcmUgaHVtYW4gaU9TIGlkZW50aXR5IG1vYmlsZSBwZW9wbGUgcGVyc29uIHBob25lIHByb2ZpbGUgdGFibGV0IHVzZXJcIixcbiAgcmVtb3ZlOiBcImNhbiBkZWxldGUgbGluZSBtaW51cyBuZWdhdGl2ZSBzdWJzdHJhY3Qgc3VidHJhY3QgdHJhc2hcIixcbiAgcmVtb3ZlX2NpcmNsZTogXCJhbGxvd2VkIGJhbm5lZCBibG9jayBjYW4gZGVsZXRlIGRpc2FibGUgbWludXMgbmVnYXRpdmUgbm90IHN1YnN0cmFjdCB0cmFzaFwiLFxuICByZW1vdmVfY2lyY2xlX291dGxpbmU6IFwiYWxsb3dlZCBiYW5uZWQgYmxvY2sgY2FuIGRlbGV0ZSBkaXNhYmxlIG1pbnVzIG5lZ2F0aXZlIG5vdCBzdWJzdHJhY3QgdHJhc2hcIixcbiAgcmVtb3ZlX2RvbmU6IFwiYXBwcm92ZSBjaGVjayBjb21wbGV0ZSBkaXNhYmxlZCBlbmFibGVkIGZpbmlzaGVkIG1hcmsgbXVsdGlwbGUgb2ZmIG9rIHNlbGVjdCBzbGFzaCB0aWNrIHllc1wiLFxuICByZW1vdmVfZnJvbV9xdWV1ZTogXCJjb2xsZWN0aW9uIGRlc2t0b3AgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgbGlzdCBtb25pdG9yIHNjcmVlbiBzdGVhbSB0ZWxldmlzaW9uXCIsXG4gIHJlbW92ZV9tb2RlcmF0b3I6IFwiY2VydGlmaWVkIGRpc2FibGVkIGVuYWJsZWQgb2ZmIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNlY3VyaXR5IHNoaWVsZCBzbGFzaCB2ZXJpZmllZFwiLFxuICByZW1vdmVfcmVkX2V5ZTogXCJpcmlzIGxvb2tpbmcgcHJldmlldyBzZWUgc2lnaHQgdmlzaW9uXCIsXG4gIHJlbW92ZV9yb2FkOiBcIi0gY2FuY2VsIGNsb3NlIGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBleGl0IGhpZ2h3YXkgbWFwcyBtaW51cyBuZXcgbm8gc3RvcCBzdHJlZXQgc3ltYm9sIHRyYWZmaWNcIixcbiAgcmVtb3ZlX3Nob3BwaW5nX2NhcnQ6IFwiY2FyZCBjYXNoIGNoZWNrb3V0IGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRpc2FibGVkIGRvbGxhcnMgZW5hYmxlZCBvZmYgb25saW5lIHBheW1lbnQgc2xhc2ggdGlja1wiLFxuICByZW9yZGVyOiBcImZvcm1hdCBsaW5lcyBsaXN0IHN0YWNrZWRcIixcbiAgcmVwZWF0OiBcImFycm93cyBjb250cm9scyBtZWRpYSBtdXNpYyB2aWRlb1wiLFxuICByZXBlYXRfb246IFwiYXJyb3dzIGNvbnRyb2xzIG1lZGlhIG11c2ljIHZpZGVvXCIsXG4gIHJlcGVhdF9vbmU6IFwiMSBhcnJvd3MgY29udHJvbHMgZGlnaXQgbWVkaWEgbXVzaWMgbnVtYmVyIHN5bWJvbCB2aWRlb1wiLFxuICByZXBlYXRfb25lX29uOiBcImFycm93cyBjb250cm9scyBkaWdpdCBtZWRpYSBtdXNpYyBudW1iZXIgc3ltYm9sIHZpZGVvXCIsXG4gIHJlcGxheTogXCJhcnJvd3MgY29udHJvbHMgbXVzaWMgcmVmcmVzaCByZWxvYWQgcmVuZXcgcmVwZWF0IHJldHJ5IHJld2luZCB1bmRvIHZpZGVvXCIsXG4gIHJlcGxheV8xMDogXCJhcnJvd3MgY29udHJvbHMgZGlnaXQgbXVzaWMgbnVtYmVyIHJlZnJlc2ggcmVuZXcgcmVwZWF0IHJld2luZCBzeW1ib2wgdGVuIHZpZGVvXCIsXG4gIHJlcGxheV8zMDogXCJhcnJvd3MgY29udHJvbHMgZGlnaXQgbXVzaWMgbnVtYmVyIHJlZnJlc2ggcmVuZXcgcmVwZWF0IHJld2luZCBzeW1ib2wgdGhpcnR5IHZpZGVvXCIsXG4gIHJlcGxheV81OiBcImFycm93cyBjb250cm9scyBkaWdpdCBmaXZlIG11c2ljIG51bWJlciByZWZyZXNoIHJlbmV3IHJlcGVhdCByZXdpbmQgc3ltYm9sIHZpZGVvXCIsXG4gIHJlcGxheV9jaXJjbGVfZmlsbGVkOiBcImFycm93cyBjb250cm9scyBtdXNpYyByZWZyZXNoIHJlbmV3IHJlcGVhdCB2aWRlb1wiLFxuICByZXBseTogXCJhcnJvdyBiYWNrd2FyZCBsZWZ0IG1haWwgbWVzc2FnZSBzZW5kIHNoYXJlXCIsXG4gIHJlcGx5X2FsbDogXCJhcnJvd3MgYmFja3dhcmQgZ3JvdXAgbGVmdCBtYWlsIG1lc3NhZ2UgbXVsdGlwbGUgc2VuZCBzaGFyZVwiLFxuICByZXBvcnQ6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBkYW5nZXIgZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbm90aWZpY2F0aW9uIG9jdGFnb24gc3ltYm9sIHdhcm5pbmdcIixcbiAgcmVwb3J0X2dtYWlsZXJyb3JyZWQ6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBkYW5nZXIgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbm90aWZpY2F0aW9uIG9jdGFnb24gc3ltYm9sIHdhcm5pbmdcIixcbiAgcmVwb3J0X29mZjogXCIhIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBkaXNhYmxlZCBlbmFibGVkIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBvY3RhZ29uIG9mZmxpbmUgc2xhc2ggc3ltYm9sIHdhcm5pbmdcIixcbiAgcmVwb3J0X3Byb2JsZW06IFwiISBhbGVydCBhbm5vdW5jZW1lbnQgYXR0ZW50aW9uIGNhdXRpb24gZGFuZ2VyIGVycm9yIGV4Y2xhbWF0aW9uIGZlZWRiYWNrIGltcG9ydGFudCBtYXJrIG5vdGlmaWNhdGlvbiBzeW1ib2wgdHJpYW5nbGUgd2FybmluZ1wiLFxuICByZXF1ZXN0X3F1b3RlOiBcImJpbGwgY2FyZCBjYXNoIGNvaW4gY29tbWVyY2UgY29zdCBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBmaW5hbmNlIG1vbmV5IG9ubGluZSBwYXltZW50IHByaWNlIHNob3BwaW5nIHN5bWJvbFwiLFxuICByZXNldF90djogXCJhcnJvdyBkZXZpY2UgaGFyZHdhcmUgbW9uaXRvciB0ZWxldmlzaW9uXCIsXG4gIHJlc3RhcnRfYWx0OiBcImFyb3VuZCBhcnJvdyBpbnByb2dyZXNzIGxvYWRpbmcgcmVib290IHJlZnJlc2ggcmVuZXcgcmVwZWF0IHJlc2V0XCIsXG4gIHJlc3RhdXJhbnQ6IFwiYnJlYWtmYXN0IGN1dGxlcnkgZGluaW5nIGRpbm5lciBlYXQgZm9vZCBmb3JrIGtuaWZlIGxvY2FsIGx1bmNoIG1lYWwgcGxhY2VzIHNwb29uIHV0ZW5zaWxzXCIsXG4gIHJlc3RhdXJhbnRfbWVudTogXCJib29rIGRpbmluZyBlYXQgZm9vZCBmb3JrIGtuaWZlIGxvY2FsIG1lYWwgc3Bvb25cIixcbiAgcmVzdG9yZTogXCJhcnJvdyBiYWNrd2FyZHMgY2xvY2sgZGF0ZSBoaXN0b3J5IHJlZnJlc2ggcmVuZXcgcmV2ZXJzZSByb3RhdGUgc2NoZWR1bGUgdGltZSB0dXJuIHVuZG9cIixcbiAgcmVzdG9yZV9mcm9tX3RyYXNoOiBcImFycm93IGJhY2t3YXJkcyBjYW4gY2xvY2sgZGF0ZSBkZWxldGUgZ2FyYmFnZSBoaXN0b3J5IHJlZnJlc2ggcmVtb3ZlIHJlbmV3IHJldmVyc2Ugcm90YXRlIHNjaGVkdWxlIHRpbWUgdHVybiB1cFwiLFxuICByZXN0b3JlX3BhZ2U6IFwiYXJyb3cgZGF0YSBkb2MgZmlsZSBoaXN0b3J5IHBhcGVyIHJlZnJlc2ggcm90YXRlIHNoZWV0IHN0b3JhZ2UgdW5kbyB3ZWJcIixcbiAgcmV2aWV3czogXCJidWJibGUgY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGZlZWRiYWNrIG1lc3NhZ2UgcmF0ZSByYXRpbmcgcmVjb21tZW5kYXRpb24gc3BlZWNoXCIsXG4gIHJpY2VfYm93bDogXCJkaW5uZXIgZm9vZCBsdW5jaCBtZWFsIHJlc3RhdXJhbnRcIixcbiAgcmluZ192b2x1bWU6IFwiY2FsbGluZyBjZWxsIGNvbnRhY3QgZGV2aWNlIGhhcmR3YXJlIGluY29taW5nIG1vYmlsZSByaW5nZXIgc291bmQgdGVsZXBob25lXCIsXG4gIHJfbW9iaWxlZGF0YTogXCJhbHBoYWJldCBjaGFyYWN0ZXIgZm9udCBsZXR0ZXIgc3ltYm9sIHRleHQgdHlwZVwiLFxuICByb2NrZXQ6IFwic3BhY2VzaGlwXCIsXG4gIHJvY2tldF9sYXVuY2g6IFwic3BhY2VzaGlwIHRha2VvZmZcIixcbiAgcm9sbGVyX3NoYWRlczogXCJibGluZHMgY292ZXIgY3VydGFpbnMgbmVzdCBvcGVuIHNodXR0ZXIgc3Vuc2hhZGVcIixcbiAgcm9sbGVyX3NoYWRlc19jbG9zZWQ6IFwiYmxpbmRzIGNvdmVyIGN1cnRhaW5zIG5lc3Qgc2h1dHRlciBzdW5zaGFkZVwiLFxuICByb29maW5nOiBcImFyY2hpdGVjdHVyZSBidWlsZGluZyBjaGltbmV5IGNvbnN0cnVjdGlvbiBlc3RhdGUgaG9tZSBob3VzZSByZWFsIHJlc2lkZW5jZSByZXNpZGVudGlhbCBzZXJ2aWNlIHNoZWx0ZXJcIixcbiAgcm9vbTogXCJkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZ3BzIGxvY2F0aW9uIG1hcHMgbWFya2VyIHBpbiBwbGFjZSBzcG90IHN0b3BcIixcbiAgcm9vbV9wcmVmZXJlbmNlczogXCJidWlsZGluZyBkb29yd2F5IGVudHJhbmNlIGdlYXIgaG9tZSBob3VzZSBpbnRlcmlvciBvZmZpY2Ugb3BlbiBzZXR0aW5nc1wiLFxuICByb29tX3NlcnZpY2U6IFwiYWxlcnQgYmVsbCBjb25jaWVyZ2UgZGVsaXZlcnkgaG90ZWwgbm90aWZ5XCIsXG4gIHJvdGF0ZV85MF9kZWdyZWVzX2NjdzogXCJhcnJvd3MgZGlyZWN0aW9uIGVkaXRpbmcgaW1hZ2UgcGhvdG8gdHVyblwiLFxuICByb3RhdGVfOTBfZGVncmVlc19jdzogXCJhcnJvd3MgY2N3IGRpcmVjdGlvbiBlZGl0aW5nIGltYWdlIHBob3RvIHR1cm5cIixcbiAgcm90YXRlX2xlZnQ6IFwiYXJvdW5kIGFycm93IGNpcmNsZSBkaXJlY3Rpb24gaW5wcm9ncmVzcyBsb2FkaW5nIHJlZnJlc2ggcmVsb2FkIHJlbmV3IHJlc2V0IHR1cm5cIixcbiAgcm90YXRlX3JpZ2h0OiBcImFyb3VuZCBhcnJvdyBjaXJjbGUgZGlyZWN0aW9uIGlucHJvZ3Jlc3MgbG9hZGluZyByZWZyZXNoIHJlbmV3IHR1cm5cIixcbiAgcm91bmRhYm91dF9sZWZ0OiBcImFycm93cyBkaXJlY3Rpb25zIG1hcHMgbmF2aWdhdGlvbiBwYXRoIHJvdXRlIHNpZ24gdHJhZmZpY1wiLFxuICByb3VuZGFib3V0X3JpZ2h0OiBcImFycm93cyBkaXJlY3Rpb25zIG1hcHMgbmF2aWdhdGlvbiBwYXRoIHJvdXRlIHNpZ24gdHJhZmZpY1wiLFxuICByb3VuZGVkX2Nvcm5lcjogXCJhZGp1c3QgZWRpdCBzaGFwZSBzcXVhcmUgdHJhbnNmb3JtXCIsXG4gIHJvdXRlOiBcImRpcmVjdGlvbnMgbWFwcyBwYXRoIHNpZ24gdHJhZmZpY1wiLFxuICByb3V0ZXI6IFwiYm94IGNhYmxlIGNvbm5lY3Rpb24gZGV2aWNlIGhhcmR3YXJlIGludGVybmV0IG5ldHdvcmsgc2lnbmFsIHdpZmlcIixcbiAgcm93aW5nOiBcImFjdGl2aXR5IGJvYXQgYm9keSBjYW5vZSBodW1hbiBwZW9wbGUgcGVyc29uIHNwb3J0cyB3YXRlclwiLFxuICByc3NfZmVlZDogXCJhcHBsaWNhdGlvbiBibG9nIGNvbm5lY3Rpb24gZGF0YSBpbnRlcm5ldCBuZXR3b3JrIHNlcnZpY2Ugc2lnbmFsIHdlYnNpdGUgd2lmaSB3aXJlbGVzc1wiLFxuICByc3ZwOiBcImFscGhhYmV0IGNoYXJhY3RlciBmb250IGludml0YXRpb24gaW52aXRlIGxldHRlciBwbGHDrnQgcmVzcG9uZCByw6lwb25kZXogc2lsIHN5bWJvbCB0ZXh0IHR5cGUgdm91c1wiLFxuICBydHQ6IFwiY2FsbCByZWFsIHJydCB0ZXh0IHRpbWVcIixcbiAgcnVsZTogXCJhcHByb3ZlIGNoZWNrIGRvbmUgaW5jb21wbGV0ZSBsaW5lIG1hcmsgbWlzc2luZyBubyBvayBzZWxlY3QgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB3cm9uZyB4IHllc1wiLFxuICBydWxlX2ZvbGRlcjogXCJhcHByb3ZlIGNhbmNlbCBjaGVjayBjbG9zZSBjb21wbGV0ZSBkYXRhIGRvY3VtZW50IGRvbmUgZHJpdmUgZXhpdCBmaWxlIG1hcmsgbm8gb2sgcmVtb3ZlIHNlbGVjdCBzaGVldCBzbGlkZSBzdG9yYWdlIHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgeWVzXCIsXG4gIHJ1bl9jaXJjbGU6IFwiYm9keSBleGVyY2lzZSBodW1hbiBwZW9wbGUgcGVyc29uIHJ1bm5pbmdcIixcbiAgcnVubmluZ193aXRoX2Vycm9yczogXCIhIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBkdXJhdGlvbiBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBub3RpZmljYXRpb24gcHJvY2Vzc2luZyBzeW1ib2wgdGltZSB3YXJuaW5nXCIsXG4gIHJ2X2hvb2t1cDogXCJhcnJvdyBhdHRhY2ggYXV0b21vYmlsZSBhdXRvbW90aXZlIGJhY2sgY2FycyBjb25uZWN0IGRpcmVjdGlvbiBsZWZ0IG1hcHMgcHVibGljIHJpZ2h0IHRyYWlsZXIgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRydWNrIHZhbiB2ZWhpY2xlXCIsXG4gIHNhZmV0eV9kaXZpZGVyOiBcImFwYXJ0IGRpc3RhbmNlIHNlcGFyYXRlIHNvY2lhbCBzcGFjZVwiLFxuICBzYWlsaW5nOiBcImVudGVydGFpbm1lbnQgZmlzaGluZyBob2JieSBvY2VhbiBzYWlsYm9hdCBzZWEgc29jaWFsIHNwb3J0cyB0cmF2ZWwgd2F0ZXJcIixcbiAgc2FuaXRpemVyOiBcImJhY3RlcmlhIGJvdHRsZSBjbGVhbiBjb3ZpZCBkaXNpbmZlY3QgZ2VybXMgcHVtcFwiLFxuICBzYXRlbGxpdGU6IFwiYmx1ZXRvb3RoIGNvbm5lY3Rpb24gY29ubmVjdGl2aXR5IGRhdGEgZGV2aWNlIGltYWdlIGludGVybmV0IGxhbmRzY2FwZSBsb2NhdGlvbiBtYXBzIG1vdW50YWlucyBuZXR3b3JrIHBob3RvZ3JhcGh5IHBpY3R1cmUgc2NhbiBzZXJ2aWNlIHNpZ25hbCBzeW1ib2wgd2lmaSB3aXJlbGVzcy0tXCIsXG4gIHNhdGVsbGl0ZV9hbHQ6IFwiYWx0ZXJuYXRpdmUgYXJ0aWZpY2lhbCBjb21tdW5pY2F0aW9uIHNwYWNlIHN0YXRpb24gdGVsZXZpc2lvblwiLFxuICBzYXZlOiBcImRhdGEgZGlza2V0dGUgZG9jdW1lbnQgZHJpdmUgZmlsZSBmbG9wcHkgbXVsdGltZWRpYSBzdG9yYWdlIHdyaXRlXCIsXG4gIHNhdmVfYWx0OiBcImFycm93IGRpc2tldHRlIGRvY3VtZW50IGRvd24gZmlsZSBmbG9wcHkgbXVsdGltZWRpYSB3cml0ZVwiLFxuICBzYXZlX2FzOiBcImNvbXBvc2UgY3JlYXRlIGRhdGEgZGlzayBkb2N1bWVudCBkcmFmdCBkcml2ZSBlZGl0aW5nIGZpbGUgZmxvcHB5IGlucHV0IG11bHRpbWVkaWEgcGVuY2lsIHN0b3JhZ2Ugd3JpdGUgd3JpdGluZ1wiLFxuICBzYXZlZF9zZWFyY2g6IFwiZmluZCBnbGFzcyBpbXBvcnRhbnQgbG9vayBtYWduaWZ5aW5nIG1hcmtlZCBzZWUgc3RhclwiLFxuICBzYXZpbmdzOiBcImJhbmsgYmlsbCBjYXJkIGNhc2ggY29pbiBjb21tZXJjZSBjb3N0IGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGZpbmFuY2UgbW9uZXkgb25saW5lIHBheW1lbnQgcGlnZ3kgc3ltYm9sXCIsXG4gIHNjYWxlOiBcIm1lYXN1cmUgbW9uaXRvciB3ZWlnaHRcIixcbiAgc2Nhbm5lcjogXCJjb3B5IGRldmljZSBoYXJkd2FyZSBtYWNoaW5lXCIsXG4gIHNjYXR0ZXJfcGxvdDogXCJhbmFseXRpY3MgYmFycyBjaGFydCBjaXJjbGVzIGRhdGEgZGlhZ3JhbSBkb3QgaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgc2NoZWR1bGU6IFwiY2FsZW5kYXIgY2xvY2sgZGF0ZSBtYXJrIHNhdmUgdGltZVwiLFxuICBzY2hlZHVsZV9zZW5kOiBcImNhbGVuZGFyIGNsb2NrIGRhdGUgZW1haWwgbGV0dGVyIHJlbWVtYmVyIHNoYXJlIHRpbWVcIixcbiAgc2NoZW1hOiBcImFuYWx5dGljcyBjaGFydCBkYXRhIGRpYWdyYW0gZmxvdyBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3Mgc3RhdGlzdGljcyB0cmFja2luZ1wiLFxuICBzY2hvb2w6IFwiYWNhZGVteSBhY2hpZXZlbWVudCBjYXAgY2xhc3MgY29sbGVnZSBlZHVjYXRpb24gZ3JhZHVhdGlvbiBoYXQga25vd2xlZGdlIGxlYXJuaW5nIHVuaXZlcnNpdHlcIixcbiAgc2NpZW5jZTogXCJiZWFrZXIgY2hlbWljYWwgY2hlbWlzdHJ5IGV4cGVyaW1lbnQgZmxhc2sgZ2xhc3MgbGFib3JhdG9yeSByZXNlYXJjaCB0dWJlXCIsXG4gIHNjb3JlOiBcIjJrIGFscGhhYmV0IGFuYWx5dGljcyBiYXJzIGNoYXJhY3RlciBjaGFydCBkYXRhIGRpYWdyYW0gZGlnaXQgZm9udCBpbmZvZ3JhcGhpYyBsZXR0ZXIgbWVhc3VyZSBtZXRyaWNzIG51bWJlciBzdGF0aXN0aWNzIHN5bWJvbCB0ZXh0IHRyYWNraW5nIHR5cGVcIixcbiAgc2NyZWVuX2xvY2tfbGFuZHNjYXBlOiBcIkFuZHJvaWQgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgcm90YXRlIHNlY3VyaXR5IHRhYmxldFwiLFxuICBzY3JlZW5fbG9ja19wb3J0cmFpdDogXCJBbmRyb2lkIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHBob25lIHJvdGF0ZSBzZWN1cml0eSB0YWJsZXRcIixcbiAgc2NyZWVuX2xvY2tfcm90YXRpb246IFwiQW5kcm9pZCBhcnJvdyBkZXZpY2UgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSByb3RhdGUgdGFibGV0IHR1cm5cIixcbiAgc2NyZWVuX3JvdGF0aW9uOiBcIkFuZHJvaWQgYXJyb3cgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgcm90YXRlIHRhYmxldCB0dXJuXCIsXG4gIHNjcmVlbl9zZWFyY2hfZGVza3RvcDogXCJBbmRyb2lkIGFycm93IGRldmljZSBoYXJkd2FyZSBpT1MgbG9jayBtb25pdG9yIHJvdGF0ZSB3ZWJcIixcbiAgc2NyZWVuX3NoYXJlOiBcIkFuZHJvaWQgYXJyb3cgY2FzdCBjaHJvbWUgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgaU9TIGxhcHRvcCBtYWMgbWlycm9yIG1vbml0b3Igc3RlYW0gc3RyZWFtaW5nIHdlYiB3aW5kb3dcIixcbiAgc2NyZWVuc2hvdDogXCJBbmRyb2lkIGNlbGwgY3JvcCBkZXZpY2UgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgc2NyZWVuc2hvdF9tb25pdG9yOiBcIkFuZHJvaWQgY2hyb21lIGRlc2t0b3AgZGV2aWNlIGRpc3BsYXkgaGFyZHdhcmUgaU9TIG1hYyBzY3JlZW5ncmFiIHdlYiB3aW5kb3dcIixcbiAgc2Q6IFwiYWxwaGFiZXQgY2FtZXJhIGNhcmQgY2hhcmFjdGVyIGRhdGEgZGV2aWNlIGRpZ2l0YWwgZHJpdmUgZmxhc2ggZm9udCBpbWFnZSBsZXR0ZXIgbWVtb3J5IHBob3RvIHNlY3VyZSBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIHNkX2NhcmQ6IFwiY2FtZXJhIGRpZ2l0YWwgbWVtb3J5IHBob3RvcyBzZWN1cmUgc3RvcmFnZVwiLFxuICBzZF9jYXJkX2FsZXJ0OiBcIiEgYXR0ZW50aW9uIGNhbWVyYSBjYXV0aW9uIGRhbmdlciBkaWdpdGFsIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG1lbW9yeSBub3RpZmljYXRpb24gcGhvdG9zIHNlY3VyZSBzdG9yYWdlIHN5bWJvbCB3YXJuaW5nXCIsXG4gIHNkX3N0b3JhZ2U6IFwiY2FtZXJhIGNhcmQgZGF0YSBkaWdpdGFsIG1lbW9yeSBtaWNyb3NkIHNlY3VyZVwiLFxuICBzZWFyY2g6IFwiZmlsdGVyIGZpbmQgZ2xhc3MgbG9vayBtYWduaWZ5aW5nIHNlZSB1cFwiLFxuICBzZWFyY2hfb2ZmOiBcImNhbmNlbCBjbG9zZSBkaXNhYmxlZCBlbmFibGVkIGZpbmQgZ2xhc3MgbG9vayBtYWduaWZ5aW5nIG9uIHNlZSBzbGFzaCBzdG9wIHhcIixcbiAgc2VjdXJpdHk6IFwiY2VydGlmaWVkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNoaWVsZCB2ZXJpZmllZFwiLFxuICBzZWN1cml0eV91cGRhdGU6IFwiQW5kcm9pZCBhcnJvdyBkZXZpY2UgZG93bmxvYWQgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgc2VjdXJpdHlfdXBkYXRlX2dvb2Q6IFwiQW5kcm9pZCBjaGVja21hcmsgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgb2sgcGhvbmUgdGFibGV0IHRpY2tcIixcbiAgc2VjdXJpdHlfdXBkYXRlX3dhcm5pbmc6IFwiISBBbmRyb2lkIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBkZXZpY2UgZG93bmxvYWQgZXJyb3IgZXhjbGFtYXRpb24gaGFyZHdhcmUgaU9TIGltcG9ydGFudCBtYXJrIG1vYmlsZSBub3RpZmljYXRpb24gcGhvbmUgc3ltYm9sIHRhYmxldFwiLFxuICBzZWdtZW50OiBcImFsaWdubWVudCBmb250cyBmb3JtYXQgbGluZXMgbGlzdCBwYXJhZ3JhcGggcGFydCBwaWVjZSBydWxlcyBzdHlsZSB0ZXh0XCIsXG4gIHNlbGVjdF9hbGw6IFwic2VsZWN0aW9uIHNxdWFyZSB0b29sXCIsXG4gIHNlbGZfaW1wcm92ZW1lbnQ6IFwiYm9keSBjYWxtIGNhcmUgY2hpIGh1bWFuIG1lZGl0YXRlIG1lZGl0YXRpb24gcGVvcGxlIHBlcnNvbiByZWxheCBzaXR0aW5nIHdlbGxiZWluZyB5b2dhIHplblwiLFxuICBzZWxsOiBcImJpbGwgY2FyZCBjYXJ0IGNhc2ggY29pbiBjb21tZXJjZSBjcmVkaXQgY3VycmVuY3kgZG9sbGFycyBtb25leSBvbmxpbmUgcGF5bWVudCBwcmljZSBzaG9wcGluZyB0YWdcIixcbiAgc2VuZDogXCJjaGF0IGVtYWlsIG1lc3NhZ2UgcGFwZXIgcGxhbmUgcmVwbHkgcmlnaHQgc2hhcmUgdGVsZWdyYW1cIixcbiAgc2VuZF9hbmRfYXJjaGl2ZTogXCJhcnJvdyBkb3dubG9hZCBlbWFpbCBsZXR0ZXIgc2F2ZSBzaGFyZVwiLFxuICBzZW5kX3RpbWVfZXh0ZW5zaW9uOiBcImRlbGl2ZXIgZGlzcGF0Y2ggZW52ZWxvcCBtYWlsIG1lc3NhZ2Ugc2NoZWR1bGVcIixcbiAgc2VuZF90b19tb2JpbGU6IFwiQW5kcm9pZCBhcnJvdyBkZXZpY2UgZXhwb3J0IGZvcndhcmQgaGFyZHdhcmUgaU9TIHBob25lIHJpZ2h0IHNoYXJlIHRhYmxldFwiLFxuICBzZW5zb3JzOiBcImNvbm5lY3Rpb24gbmV0d29yayBzY2FuIHNpZ25hbCB3aXJlbGVzc1wiLFxuICBzZW5zb3JzX29mZjogXCJjb25uZWN0aW9uIGRpc2FibGVkIGVuYWJsZWQgbmV0d29yayBzY2FuIHNpZ25hbCBzbGFzaCB3aXJlbGVzc1wiLFxuICBzZW50aW1lbnRfZGlzc2F0aXNmaWVkOiBcImFuZ3J5IGRpc2FwcG9pbnRlZCBkaXNsaWtlIGVtb2ppIGVtb3RpY29uIGVtb3Rpb25zIGV4cHJlc3Npb25zIGZhY2UgZmVlbGluZ3MgZnJvd24gbW9vZCBwZXJzb24gc2FkIHNtaWxleSBzdXJ2ZXkgdW5oYXBweSB1bnNhdGlzZmllZCB1cHNldFwiLFxuICBzZW50aW1lbnRfbmV1dHJhbDogXCJlbW90aW9ubGVzcyBlbW90aW9ucyBleHByZXNzaW9ucyBmYWNlIGZlZWxpbmdzIGluZGlmZmVyZW5jZSBtb29kIG9rYXkgcGVyc29uIHN1cnZleVwiLFxuICBzZW50aW1lbnRfc2F0aXNmaWVkOiBcImVtb2ppIGVtb3RpY29uIGVtb3Rpb25zIGV4cHJlc3Npb25zIGZhY2UgZmVlbGluZ3MgZ2xhZCBoYXBwaW5lc3MgaGFwcHkgbGlrZSBtb29kIHBlcnNvbiBwbGVhc2VkIHNtaWxleSBzbWlsaW5nIHN1cnZleVwiLFxuICBzZW50aW1lbnRfc2F0aXNmaWVkX2FsdDogXCJhY2NvdW50IGVtb2ppIGZhY2UgaGFwcHkgaHVtYW4gcGVvcGxlIHBlcnNvbiBwcm9maWxlIHNtaWxlIHVzZXJcIixcbiAgc2VudGltZW50X3ZlcnlfZGlzc2F0aXNmaWVkOiBcImFuZ3J5IGRpc2FwcG9pbnRlZCBkaXNsaWtlIGVtb2ppIGVtb3RpY29uIGVtb3Rpb25zIGV4cHJlc3Npb25zIGZhY2UgZmVlbGluZ3MgbW9vZCBwZXJzb24gc2FkIHNtaWxleSBzb3Jyb3cgc3VydmV5IHVuaGFwcHkgdW5zYXRpc2ZpZWQgdXBzZXRcIixcbiAgc2VudGltZW50X3Zlcnlfc2F0aXNmaWVkOiBcImVtb2ppIGVtb3RpY29uIGVtb3Rpb25zIGV4cHJlc3Npb25zIGZhY2UgZmVlbGluZ3MgZ2xhZCBoYXBwaW5lc3MgaGFwcHkgbGlrZSBtb29kIHBlcnNvbiBwbGVhc2VkIHNtaWxleSBzbWlsaW5nIHN1cnZleVwiLFxuICBzZXRfbWVhbDogXCJjaG9wc3RpY2tzIGRpbm5lciBmaXNoIGZvb2QgbHVuY2ggcmVzdGF1cmFudCB0ZWlzaG9rdVwiLFxuICBzZXR0aW5nczogXCJhcHBsaWNhdGlvbiBjaGFuZ2UgZGV0YWlscyBnZWFyIGluZm9ybWF0aW9uIG9wdGlvbnMgcGVyc29uYWwgc2VydmljZVwiLFxuICBzZXR0aW5nc19hY2Nlc3NpYmlsaXR5OiBcImJvZHkgZGV0YWlscyBodW1hbiBpbmZvcm1hdGlvbiBwZW9wbGUgcGVyc29uYWwgcHJlZmVyZW5jZXMgcHJvZmlsZSB1c2VyXCIsXG4gIHNldHRpbmdzX2FwcGxpY2F0aW9uczogXCJjaGFuZ2UgZGV0YWlscyBnZWFyIGluZm9ybWF0aW9uIG9wdGlvbnMgcGVyc29uYWwgc2F2ZSBzZXJ2aWNlXCIsXG4gIHNldHRpbmdzX2JhY2t1cF9yZXN0b3JlOiBcImFycm93IGJhY2t3YXJkcyBoaXN0b3J5IHJlZnJlc2ggcmV2ZXJzZSByb3RhdGUgdGltZSB1bmRvXCIsXG4gIHNldHRpbmdzX2JsdWV0b290aDogXCJjb25uZWN0aW9uIGNvbm5lY3Rpdml0eSBkZXZpY2UgbmV0d29yayBzaWduYWwgc3ltYm9sIHdpZmlcIixcbiAgc2V0dGluZ3NfYnJpZ2h0bmVzczogXCJkYXJrIGZpbHRlciBsaWdodCBtb2RlIHN1blwiLFxuICBzZXR0aW5nc19jZWxsOiBcIkFuZHJvaWQgY2VsbHBob25lIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHRhYmxldFwiLFxuICBzZXR0aW5nc19ldGhlcm5ldDogXCJhcnJvd3MgYnJhY2tldHMgY29tcHV0ZXIgY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgZG90cyBpbnRlcm5ldCBuZXR3b3JrIHBhcmVudGhlc2lzIHdpZmlcIixcbiAgc2V0dGluZ3NfaW5wdXRfYW50ZW5uYTogXCJhaXJwbGF5IGFycm93cyBjb21wdXRlciBjb25uZWN0aW9uIGNvbm5lY3Rpdml0eSBkb3RzIGludGVybmV0IG5ldHdvcmsgc2NyZWVuY2FzdCBzdHJlYW0gd2lmaSB3aXJlbGVzc1wiLFxuICBzZXR0aW5nc19pbnB1dF9jb21wb25lbnQ6IFwiYXVkaW8gYXYgY2FibGVzIGNvbm5lY3Rpb24gY29ubmVjdGl2aXR5IGludGVybmV0IHBsdWdzIHBvaW50cyB2aWRlbyB3aWZpXCIsXG4gIHNldHRpbmdzX2lucHV0X2NvbXBvc2l0ZTogXCJjYWJsZSBjb21wb25lbnQgY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgcGx1Z3MgcG9pbnRzXCIsXG4gIHNldHRpbmdzX2lucHV0X2hkbWk6IFwiY2FibGUgY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgZGVmaW5pdGlvbiBoaWdoIHBsdWdpbiBwb2ludHMgdmlkZW8gd2lyZVwiLFxuICBzZXR0aW5nc19pbnB1dF9zdmlkZW86IFwiY2FibGUgY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgZGVmaW5pdGlvbiBwbHVnaW4gcGx1Z3MgcG9pbnRzIHN0YW5kYXJkIHN2aWRlbyxcIixcbiAgc2V0dGluZ3Nfb3ZlcnNjYW46IFwiYXJyb3dzIGV4cGFuZCBpbWFnZSBwaG90byBwaWN0dXJlXCIsXG4gIHNldHRpbmdzX3Bob25lOiBcImNhbGwgY2VsbCBjb250YWN0IGRldmljZSBoYXJkd2FyZSBtb2JpbGUgdGVsZXBob25lXCIsXG4gIHNldHRpbmdzX3Bvd2VyOiBcImluZm9ybWF0aW9uIG9mZiBzYXZlIHNodXRkb3duXCIsXG4gIHNldHRpbmdzX3JlbW90ZTogXCJibHVldG9vdGggY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgY29udHJvbCBkZXZpY2Ugc2lnbmFsIHdpZmkgd2lyZWxlc3NcIixcbiAgc2V0dGluZ3Nfc3VnZ2VzdDogXCJjaGFuZ2UgZGV0YWlscyBnZWFyIG9wdGlvbnMgcmVjb21tZW5kYXRpb24gc2VydmljZSBzdWdnZXN0aW9uIHN5c3RlbVwiLFxuICBzZXR0aW5nc19zeXN0ZW1fZGF5ZHJlYW06IFwiYmFja3VwIGNsb3VkIGRyaXZlIHN0b3JhZ2VcIixcbiAgc2V0dGluZ3Nfdm9pY2U6IFwibWljcm9waG9uZSByZWNvcmRlciBzcGVha2VyXCIsXG4gIHNoYXJlOiBcImFuZHJvaWQgY29ubmVjdCBjb250ZWN0IGxpbmsgbXVsdGltZWRpYSBtdWx0aXBsZSBuZXR3b3JrIG9wdGlvbnMgc2VuZCBzaGFyZWQgc2hhcmluZyBzb2NpYWxcIixcbiAgc2hhcmVfbG9jYXRpb246IFwiZGVzdGluYXRpb24gZGlyZWN0aW9uIGdwcyBtYXBzIHBpbiBwbGFjZSBzdG9wIHRyYWNraW5nXCIsXG4gIHNoaWVsZDogXCJjZXJ0aWZpZWQgcHJpdmFjeSBwcml2YXRlIHByb3RlY3Rpb24gc2VjdXJlIHNlY3VyaXR5IHZlcmlmaWVkXCIsXG4gIHNob3A6IFwiYXJyb3cgYmFnIGJpbGwgYnJpZWZjYXNlIGJ1eSBjYXJkIGNhcnQgY2FzaCBjb2luIGNvbW1lcmNlIGNyZWRpdCBjdXJyZW5jeSBkb2xsYXJzIGdvb2dsZSBtb25leSBvbmxpbmUgcGF5bWVudCBwbGF5IHB1cmNoYXNlIHNob3BwaW5nIHN0b3JlXCIsXG4gIHNob3BfMjogXCJhZGQgYXJyb3cgYnV5IGNhcnQgZ29vZ2xlIHBsYXkgcHVyY2hhc2Ugc2hvcHBpbmdcIixcbiAgc2hvcHBpbmdfYmFnOiBcImJpbGwgYnVzaW5lc3MgYnV5IGNhcmQgY2FydCBjYXNoIGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgbW9uZXkgb25saW5lIHBheW1lbnQgc3RvcmVmcm9udFwiLFxuICBzaG9wcGluZ19iYXNrZXQ6IFwiYWRkIGJpbGwgYnV5IGNhcmQgY2FydCBjYXNoIGNoZWNrb3V0IGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgbW9uZXkgb25saW5lIHBheW1lbnQgcHVyY2hhc2VcIixcbiAgc2hvcHBpbmdfY2FydDogXCJhZGQgYmlsbCBidXkgY2FyZCBjYXNoIGNoZWNrb3V0IGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgbW9uZXkgb25saW5lIHBheW1lbnQgcHVyY2hhc2VcIixcbiAgc2hvcHBpbmdfY2FydF9jaGVja291dDogXCJhcnJvdyBjYXNoIGNvaW4gY29tbWVyY2UgY3VycmVuY3kgZG9sbGFycyBtb25leSBvbmxpbmUgcGF5bWVudCByaWdodFwiLFxuICBzaG9wX3R3bzogXCJhZGQgYXJyb3cgYnJpZWZjYXNlIGJ1eSBjYXJ0IGdvb2dsZSBwbGF5IHB1cmNoYXNlIHNob3BwaW5nXCIsXG4gIHNob3J0Y3V0OiBcImFycm93IGRpcmVjdGlvbiBmb3J3YXJkIHJpZ2h0XCIsXG4gIHNob3J0X3RleHQ6IFwiYnJpZWYgY29tbWVudCBkb2N1bWVudCBsaW5lcyBub3RlIHdyaXRlIHdyaXRpbmdcIixcbiAgc2hvd19jaGFydDogXCJhbmFseXRpY3MgYmFycyBjaGFydCBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbGluZSBtZWFzdXJlIG1ldHJpY3MgcHJlc2VudGF0aW9uIHNob3cgc3RhdGlzdGljcyBzdG9jayB0cmFja2luZ1wiLFxuICBzaG93ZXI6IFwiYmF0aHJvb20gY2xvc2V0IGhvbWUgaG91c2UgcGxhY2UgcGx1bWJpbmcgc3ByaW5rbGVyIHdhc2ggd2F0ZXIgd2NcIixcbiAgc2h1ZmZsZTogXCJhcnJvd3MgY29udHJvbHMgbXVzaWMgcmFuZG9tIHZpZGVvXCIsXG4gIHNodWZmbGVfb246IFwiYXJyb3dzIGNvbnRyb2xzIG11c2ljIHJhbmRvbSB2aWRlb1wiLFxuICBzaHV0dGVyX3NwZWVkOiBcImFwZXJ0dXJlIGNhbWVyYSBkdXJhdGlvbiBpbWFnZSBsZW5zIHBob3RvZ3JhcGh5IHBob3RvcyBwaWN0dXJlIHNldHRpbmcgc3RvcCB0aW1lciB3YXRjaFwiLFxuICBzaWNrOiBcImNvdmlkIGRpc2NvbWZvcnQgZW1vdGlvbnMgZXhwcmVzc2lvbnMgZmFjZSBmZWVsaW5ncyBmZXZlciBmbHUgaWxsIG1vb2QgcGFpbiBwZXJzb24gc3VydmV5IHVwc2V0XCIsXG4gIHNpZ25hbF9jZWxsdWxhcl8wX2JhcjogXCJkYXRhIGludGVybmV0IG1vYmlsZSBuZXR3b3JrIHBob25lIHNwZWVkIHdpZmkgd2lyZWxlc3NcIixcbiAgc2lnbmFsX2NlbGx1bGFyXzRfYmFyOiBcImRhdGEgaW50ZXJuZXQgbW9iaWxlIG5ldHdvcmsgcGhvbmUgc3BlZWQgd2lmaSB3aXJlbGVzc1wiLFxuICBzaWduYWxfY2VsbHVsYXJfYWx0OiBcImFuYWx5dGljcyBiYXIgY2hhcnQgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIGludGVybmV0IG1lYXN1cmUgbWV0cmljcyBtb2JpbGUgbmV0d29yayBwaG9uZSBzdGF0aXN0aWNzIHRyYWNraW5nIHdpZmkgd2lyZWxlc3NcIixcbiAgc2lnbmFsX2NlbGx1bGFyX2Nvbm5lY3RlZF9ub19pbnRlcm5ldF8wX2JhcjogXCIhIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBkYXRhIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBtYXJrIG1vYmlsZSBuZXR3b3JrIG5vdGlmaWNhdGlvbiBwaG9uZSBzeW1ib2wgd2FybmluZyB3aWZpIHdpcmVsZXNzXCIsXG4gIHNpZ25hbF9jZWxsdWxhcl9jb25uZWN0ZWRfbm9faW50ZXJuZXRfNF9iYXI6IFwiISBhbGVydCBhdHRlbnRpb24gY2F1dGlvbiBkYW5nZXIgZGF0YSBlcnJvciBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBtb2JpbGUgbmV0d29yayBub3RpZmljYXRpb24gcGhvbmUgc3ltYm9sIHdhcm5pbmcgd2lmaSB3aXJlbGVzc1wiLFxuICBzaWduYWxfY2VsbHVsYXJfbm9kYXRhOiBcImludGVybmV0IG1vYmlsZSBuZXR3b3JrIG9mZmxpbmUgcGhvbmUgcXVpdCB3aWZpIHdpcmVsZXNzIHhcIixcbiAgc2lnbmFsX2NlbGx1bGFyX25vX3NpbTogXCJjYW1lcmEgY2FyZCBjaGlwIGRldmljZSBkaXNhYmxlZCBlbmFibGVkIG1lbW9yeSBuZXR3b3JrIG9mZmxpbmUgcGhvbmUgc2xhc2ggc3RvcmFnZVwiLFxuICBzaWduYWxfY2VsbHVsYXJfbnVsbDogXCJkYXRhIGludGVybmV0IG1vYmlsZSBuZXR3b3JrIHBob25lIHdpZmkgd2lyZWxlc3NcIixcbiAgc2lnbmFsX2NlbGx1bGFyX29mZjogXCJkYXRhIGRpc2FibGVkIGVuYWJsZWQgaW50ZXJuZXQgbW9iaWxlIG5ldHdvcmsgb2ZmbGluZSBwaG9uZSBzbGFzaCB3aWZpIHdpcmVsZXNzXCIsXG4gIHNpZ25hbF93aWZpX2JhZDogXCJiYXIgY2FuY2VsIGNlbGx1bGFyIGNsb3NlIGRhdGEgZXhpdCBpbnRlcm5ldCBtb2JpbGUgbmV0d29yayBubyBwaG9uZSBxdWl0IHJlbW92ZSBzdG9wIHdpcmVsZXNzXCIsXG4gIHNpZ25hbF93aWZpX29mZjogXCJjZWxsdWxhciBkYXRhIGRpc2FibGVkIGVuYWJsZWQgaW50ZXJuZXQgbW9iaWxlIG5ldHdvcmsgcGhvbmUgc2xhc2ggc3BlZWQgd2lyZWxlc3NcIixcbiAgc2lnbmFsX3dpZmlfc3RhdHVzYmFyX251bGw6IFwiY2VsbHVsYXIgZGF0YSBpbnRlcm5ldCBtb2JpbGUgbmV0d29yayBwaG9uZSBzcGVlZCB3aXJlbGVzc1wiLFxuICBzaWducG9zdDogXCJhcnJvdyBkaXJlY3Rpb24gbGVmdCBtYXBzIHJpZ2h0IHNpZ25hbCBzaWducyBzdHJlZXQgdHJhZmZpY1wiLFxuICBzaW1fY2FyZDogXCJjYW1lcmEgY2hpcCBkZXZpY2UgbWVtb3J5IG5ldHdvcmsgcGhvbmUgc3RvcmFnZVwiLFxuICBzaW1fY2FyZF9hbGVydDogXCIhIGF0dGVudGlvbiBjYW1lcmEgY2F1dGlvbiBkYW5nZXIgZGlnaXRhbCBlcnJvciBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBtZW1vcnkgbm90aWZpY2F0aW9uIHBob3RvcyBzZCBzZWN1cmUgc3RvcmFnZSBzeW1ib2wgd2FybmluZ1wiLFxuICBzaW1fY2FyZF9kb3dubG9hZDogXCJhcnJvdyBjYW1lcmEgY2hpcCBkZXZpY2UgbWVtb3J5IHBob25lIHN0b3JhZ2VcIixcbiAgc2luZ2xlX2JlZDogXCJiZWRyb29tIGRvdWJsZSBmdXJuaXR1cmUgaG9tZSBob3RlbCBob3VzZSBraW5nIG5pZ2h0IHBpbGxvd3MgcXVlZW4gcmVzdCBzbGVlcCB0d2luXCIsXG4gIHNpcDogXCJhbHBoYWJldCBjYWxsIGNoYXJhY3RlciBkaWFsZXIgZm9udCBpbml0aWF0aW9uIGludGVybmV0IGxldHRlciBvdmVyIHBob25lIHByb3RvY29sIHJvdXRpbmcgc2Vzc2lvbiBzeW1ib2wgdGV4dCB0eXBlIHZvaWNlXCIsXG4gIHNrYXRlYm9hcmRpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBib2R5IGVudGVydGFpbm1lbnQgZXhlcmNpc2UgaG9iYnkgaHVtYW4gcGVvcGxlIHBlcnNvbiBza2F0ZWJvYXJkZXIgc29jaWFsIHNwb3J0c1wiLFxuICBza2lwX25leHQ6IFwiYXJyb3cgYmFjayBjb250cm9scyBmb3J3YXJkIG11c2ljIHBsYXkgcHJldmlvdXMgdHJhbnNwb3J0IHZpZGVvXCIsXG4gIHNraXBfcHJldmlvdXM6IFwiYXJyb3cgYmFja3dhcmQgY29udHJvbHMgZm9yd2FyZCBtdXNpYyBuZXh0IHBsYXkgdHJhbnNwb3J0IHZpZGVvXCIsXG4gIHNsZWRkaW5nOiBcImF0aGxldGUgYXRobGV0aWMgYm9keSBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGhvYmJ5IGh1bWFuIHBlb3BsZSBwZXJzb24gc2xlZGdlIHNub3cgc29jaWFsIHNwb3J0cyB0cmF2ZWwgd2ludGVyXCIsXG4gIHNsaWRlc2hvdzogXCJtb3ZpZSBwaG90b3MgcGxheSBwcmVzZW50YXRpb24gc3F1YXJlIHZpZGVvIHZpZXdcIixcbiAgc2xvd19tb3Rpb25fdmlkZW86IFwiYXJyb3cgY2lyY2xlIGNvbnRyb2xzIG11c2ljIHBsYXkgc3BlZWQgdGltZVwiLFxuICBzbWFydF9idXR0b246IFwiYWN0aW9uIGF1dG8gY29tcG9uZW50cyBjb21wb3NlciBmdW5jdGlvbiBpbnRlcmZhY2Ugc3BlY2lhbCBzdGFycyB1aSB1eCB3ZWJzaXRlXCIsXG4gIHNtYXJ0X2Rpc3BsYXk6IFwiYWlycGxheSBjaHJvbWUgY29ubmVjdCBkZXZpY2Ugc2NyZWVuY2FzdCBzdHJlYW0gdGVsZXZpc2lvbiB0diB2aWRlbyB3aXJlbGVzc1wiLFxuICBzbWFydHBob25lOiBcIkFuZHJvaWQgY2FsbCBjZWxsIGNoYXQgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgdGFibGV0IHRleHRcIixcbiAgc21hcnRfc2NyZWVuOiBcIkFuZHJvaWQgYWlycGxheSBjZWxsIGNvbm5lY3QgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgc2NyZWVuY2FzdCBzdHJlYW0gdGFibGV0IHZpZGVvXCIsXG4gIHNtYXJ0X3RveTogXCJnYW1lcyByb2JvdFwiLFxuICBzbW9rZV9mcmVlOiBcImNpZ2FyZXR0ZSBkaXNhYmxlZCBlbmFibGVkIG5ldmVyIG5vIG9mZiBwbGFjZXMgcHJvaGliaXRlZCBzbGFzaCBzbW9raW5nIHRvYmFjY28gd2FybmluZyB6b25lXCIsXG4gIHNtb2tpbmdfcm9vbXM6IFwiYWxsb3dlZCBjaWdhcmV0dGUgcGxhY2VzIHNtb2tlIHRvYmFjY28gem9uZVwiLFxuICBzbXM6IFwiMyBidWJibGUgY2hhdCBjb21tZW50IGNvbW11bmljYXRpb24gY29udmVyc2F0aW9uIGRvdHMgbWVzc2FnZSBtb3JlIHNlcnZpY2Ugc3BlZWNoIHRocmVlXCIsXG4gIHNtc19mYWlsZWQ6IFwiISBhbGVydCBhdHRlbnRpb24gYnViYmxlcyBjYXV0aW9uIGNoYXQgY29tbWVudCBjb21tdW5pY2F0aW9uIGNvbnZlcnNhdGlvbiBkYW5nZXIgZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IG1hcmsgbWVzc2FnZSBub3RpZmljYXRpb24gc2VydmljZSBzcGVlY2ggc3ltYm9sIHdhcm5pbmdcIixcbiAgc25pcHBldF9mb2xkZXI6IFwiZGF0YSBkb2N1bWVudCBkcml2ZSBmaWxlIHNoZWV0IHNsaWRlIHN0b3JhZ2VcIixcbiAgc25vb3plOiBcImFsYXJtIGJlbGwgY2xvY2sgZHVyYXRpb24gbm90aWZpY2F0aW9uIHNldCB0aW1lciB3YXRjaFwiLFxuICBzbm93Ym9hcmRpbmc6IFwiYXRobGV0ZSBhdGhsZXRpYyBib2R5IGVudGVydGFpbm1lbnQgZXhlcmNpc2UgaG9iYnkgaHVtYW4gcGVvcGxlIHBlcnNvbiBzb2NpYWwgc3BvcnRzIHRyYXZlbCB3aW50ZXJcIixcbiAgc25vd21vYmlsZTogXCJhdXRvbW9iaWxlIGNhciBkaXJlY3Rpb24gc2tpbW9iaWxlIHNvY2lhbCBzcG9ydHMgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHZlaGljbGUgd2ludGVyXCIsXG4gIHNub3dzaG9laW5nOiBcImJvZHkgaHVtYW4gcGVvcGxlIHBlcnNvbiBzcG9ydHMgdHJhdmVsIHdhbGtpbmcgd2ludGVyXCIsXG4gIHNvYXA6IFwiYmF0aHJvb20gY2xlYW4gZmluZ2VycyBnZXN0dXJlIGhhbmQgd2FzaCB3Y1wiLFxuICBzb2NpYWxfZGlzdGFuY2U6IFwiNiBhcGFydCBib2R5IGZ0IGh1bWFuIHBlb3BsZSBwZXJzb24gc3BhY2VcIixcbiAgc29sYXJfcG93ZXI6IFwiZWNvIGVuZXJneSBoZWF0IG5lc3Qgc3VubnlcIixcbiAgc29ydDogXCJmaWx0ZXIgZmluZCBsaW5lcyBsaXN0IG9yZ2FuaXplXCIsXG4gIHNvcnRfYnlfYWxwaGE6IFwiYWxwaGFiZXRpemUgYXogYnkgY2hhcmFjdGVyIGZvbnQgbGV0dGVycyBsaXN0IG9yZGVyIG9yZ2FuaXplIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgc291cF9raXRjaGVuOiBcImJyZWFrZmFzdCBicnVuY2ggZGluaW5nIGZvb2QgbHVuY2ggbWVhbFwiLFxuICBzb3VyY2U6IFwiY29kZSBjb21wb3NlciBjb250ZW50IGNyZWF0aW9uIGRhdGEgZG9jdW1lbnQgZmlsZSBmb2xkZXIgbW9kZSBzdG9yYWdlIHZpZXdcIixcbiAgc291dGg6IFwiYXJyb3cgZGlyZWN0aW9uYWwgZG93biBtYXBzIG5hdmlnYXRpb25cIixcbiAgc291dGhfYW1lcmljYTogXCJhbWVyaWNhIGNvbnRpbmVudCBsYW5kc2NhcGUgcGxhY2UgcmVnaW9uIHNvdXRoXCIsXG4gIHNvdXRoX2Vhc3Q6IFwiYXJyb3cgZGlyZWN0aW9uYWwgZG93biBtYXBzIG5hdmlnYXRpb24gcmlnaHRcIixcbiAgc291dGhfd2VzdDogXCJhcnJvdyBkaXJlY3Rpb25hbCBkb3duIGxlZnQgbWFwcyBuYXZpZ2F0aW9uXCIsXG4gIHNwYTogXCJhcm9tYXRoZXJhcHkgZmxvd2VyIGhlYWx0aGNhcmUgbGVhZiBtYXNzYWdlIG1lZGl0YXRpb24gbmF0dXJlIHBldGFscyBwbGFjZXMgcmVsYXggd2VsbGJlaW5nIHdlbGxuZXNzXCIsXG4gIHNwYWNlX2JhcjogXCJrZXlib2FyZCBsaW5lXCIsXG4gIHNwZWFrZXI6IFwiYXVkaW8gYm94IGVsZWN0cm9uaWMgbG91ZCBtdXNpYyBzb3VuZCBzdGVyZW8gc3lzdGVtIHZpZGVvXCIsXG4gIHNwZWFrZXJfZ3JvdXA6IFwiYXVkaW8gYm94IGVsZWN0cm9uaWMgbG91ZCBtdWx0aXBsZSBtdXNpYyBzb3VuZCBzdGVyZW8gc3lzdGVtIHZpZGVvXCIsXG4gIHNwZWFrZXJfbm90ZXM6IFwiYnViYmxlIGNhcmRzIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBmb3JtYXQgbGlzdCBtZXNzYWdlIHNwZWVjaCB0ZXh0XCIsXG4gIHNwZWFrZXJfbm90ZXNfb2ZmOiBcImJ1YmJsZSBjYXJkcyBjaGF0IGNvbW1lbnQgY29tbXVuaWNhdGUgZGlzYWJsZWQgZW5hYmxlZCBmb3JtYXQgbGlzdCBtZXNzYWdlIG9uIHNsYXNoIHNwZWVjaCB0ZXh0XCIsXG4gIHNwZWFrZXJfcGhvbmU6IFwiQW5kcm9pZCBjZWxsIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHNvdW5kIHRhYmxldCB2b2x1bWVcIixcbiAgc3BlZWQ6IFwiYXJyb3cgY2xvY2sgY29udHJvbHMgZGlhbCBmYXN0IGdhdWdlIG1lYXN1cmUgbW90aW9uIG11c2ljIHNsb3cgc3BlZWRvbWV0ZXIgdGVzdCB2ZWxvY2l0eSB2aWRlb1wiLFxuICBzcGVsbGNoZWNrOiBcImFscGhhYmV0IGFwcHJvdmUgY2hhcmFjdGVyIGNoZWNrbWFyayBlZGl0IGZvbnQgbGV0dGVyIG9rIHByb2Nlc3NvciBzZWxlY3Qgc3ltYm9sIHRleHQgdGljayB0eXBlIHdvcmQgd3JpdGUgeWVzXCIsXG4gIHNwbGl0c2NyZWVuOiBcImdyaWQgbGF5b3V0IG11bHRpdGFza2luZyB0d29cIixcbiAgc3Bva2U6IFwiY29ubmVjdGlvbiBuZXR3b3JrIHJhZGl1c1wiLFxuICBzcG9ydHM6IFwiYXRobGV0ZSBhdGhsZXRpYyBiYXNrZXRiYWxsIGJsb3dpbmcgY29hY2ggZW50ZXJ0YWlubWVudCBleGVyY2lzZSBnYW1lIGhvYmJ5IGluc3RydW1lbnQgbGl2ZSByZWZlcmVlIHNvY2NlciBzb2NpYWwgc291bmQgdHJvcGh5IHdhcm5pbmcgd2hpc3RsZVwiLFxuICBzcG9ydHNfYmFyOiBcImFsY29ob2wgYmVlciBkcmluayBsaXF1b3IgcGludCBwbGFjZXMgcHViXCIsXG4gIHNwb3J0c19iYXNlYmFsbDogXCJhdGhsZXRlIGF0aGxldGljIGVudGVydGFpbm1lbnQgZXhlcmNpc2UgZ2FtZSBob2JieSBzb2NpYWxcIixcbiAgc3BvcnRzX2Jhc2tldGJhbGw6IFwiYXRobGV0ZSBhdGhsZXRpYyBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGdhbWUgaG9iYnkgc29jaWFsXCIsXG4gIHNwb3J0c19jcmlja2V0OiBcImF0aGxldGUgYXRobGV0aWMgYmFsbCBiYXQgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBnYW1lIGhvYmJ5IHNvY2lhbFwiLFxuICBzcG9ydHNfZXNwb3J0czogXCJjb250cm9sbGVyIGVudGVydGFpbm1lbnQgZ2FtZXBhZCBnYW1pbmcgaG9iYnkgb25saW5lIHBsYXlzdGF0aW9uIHNvY2lhbCB2aWRlbyB4Ym94XCIsXG4gIHNwb3J0c19mb290YmFsbDogXCJhbWVyaWNhbiBhdGhsZXRlIGF0aGxldGljIGVudGVydGFpbm1lbnQgZXhlcmNpc2UgZ2FtZSBob2JieSBzb2NpYWxcIixcbiAgc3BvcnRzX2dvbGY6IFwiYXRobGV0ZSBhdGhsZXRpYyBiYWxsIGNsdWIgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBnYW1lIGdvbGZlciBnb2xmaW5nIGhvYmJ5IHNvY2lhbFwiLFxuICBzcG9ydHNfaGFuZGJhbGw6IFwiYXRobGV0ZSBhdGhsZXRpYyBib2R5IGVudGVydGFpbm1lbnQgZXhlcmNpc2UgZ2FtZSBob2JieSBodW1hbiBwZW9wbGUgcGVyc29uIHNvY2lhbFwiLFxuICBzcG9ydHNfaG9ja2V5OiBcImF0aGxldGUgYXRobGV0aWMgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBnYW1lIGhvYmJ5IGljZSBzb2NpYWwgc3RpY2tzXCIsXG4gIHNwb3J0c19rYWJhZGRpOiBcImF0aGxldGUgYXRobGV0aWMgYm9keSBjb21iYXQgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBmaWdodGluZyBnYW1lIGhvYmJ5IGh1bWFuIGp1ZG8gbWFydGlhbCBwZW9wbGUgcGVyc29uIHNvY2lhbCB3cmVzdGxlIHdyZXN0bGluZ1wiLFxuICBzcG9ydHNfbWFydGlhbF9hcnRzOiBcImF0aGxldGUgYXRobGV0aWMgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBob2JieSBodW1hbiBrYXJhdGUgcGVvcGxlIHBlcnNvbiBzb2NpYWxcIixcbiAgc3BvcnRzX21tYTogXCJhcnRzIGF0aGxldGUgYXRobGV0aWMgYm94aW5nIGNvbWJhdCBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGZpZ2h0aW5nIGdhbWUgZ2xvdmUgaG9iYnkgbWFydGlhbCBtaXhlZCBzb2NpYWxcIixcbiAgc3BvcnRzX21vdG9yc3BvcnRzOiBcImF0aGxldGUgYXRobGV0aWMgYXV0b21vYmlsZSBiaWtlIGRyaXZlIGRyaXZpbmcgZW50ZXJ0YWlubWVudCBoZWxtZXQgaG9iYnkgbW90b3JjeWNsZSBwcm90ZWN0IHNvY2lhbCB2ZWhpY2xlXCIsXG4gIHNwb3J0c19ydWdieTogXCJhdGhsZXRlIGF0aGxldGljIGJhbGwgZW50ZXJ0YWlubWVudCBleGVyY2lzZSBnYW1lIGhvYmJ5IHNvY2lhbFwiLFxuICBzcG9ydHNfc2NvcmU6IFwiZGVzdGluYXRpb24gZmxhZyBnb2FsXCIsXG4gIHNwb3J0c19zb2NjZXI6IFwiYXRobGV0ZSBhdGhsZXRpYyBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGZvb3RiYWxsIGdhbWUgaG9iYnkgc29jaWFsXCIsXG4gIHNwb3J0c190ZW5uaXM6IFwiYXRobGV0ZSBhdGhsZXRpYyBiYWxsIGJhdCBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGdhbWUgaG9iYnkgcmFja2V0IHNvY2lhbFwiLFxuICBzcG9ydHNfdm9sbGV5YmFsbDogXCJhdGhsZXRlIGF0aGxldGljIGVudGVydGFpbm1lbnQgZXhlcmNpc2UgZ2FtZSBob2JieSBzb2NpYWxcIixcbiAgc3F1YXJlOiBcImRyYXcgZm91ciBxdWFkcmFuZ2xlIHNoYXBlIHNpZGVzXCIsXG4gIHNxdWFyZV9mb290OiBcImNvbnN0cnVjdGlvbiBmZWV0IGluY2hlcyBsZW5ndGggbWVhc3VyZW1lbnQgcnVsZXIgc2Nob29sIHNldCB0b29sc1wiLFxuICBzc2lkX2NoYXJ0OiBcImdyYXBoIGxpbmVzIG5ldHdvcmsgd2lmaVwiLFxuICBzdGFja2VkX2Jhcl9jaGFydDogXCJhbmFseXRpY3MgY2hhcnQtY2hhcnQgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIHN0YWNrZWRfbGluZV9jaGFydDogXCJhbmFseXRpY3MgZGF0YSBkaWFncmFtIGluZm9ncmFwaGljIG1lYXN1cmUgbWV0cmljcyBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIHN0YWRpdW06IFwiYWN0aXZpdHkgYW1waGl0aGVhdGVyIGFyZW5hIGNvbGlzZXVtIGV2ZW50IGxvY2FsIHN0YXIgdGhpbmdzIHRpY2tldFwiLFxuICBzdGFpcnM6IFwiZG93biBzdGFpcmNhc2UgdXBcIixcbiAgc3RhcjogXCJiZXN0IGJvb2ttYXJrIGZhdm9yaXRlIGhpZ2hsaWdodCByYW5raW5nIHJhdGUgcmF0aW5nIHNhdmUgdG9nZ2xlXCIsXG4gIHN0YXJfYm9yZGVyOiBcImJlc3QgYm9va21hcmsgZmF2b3JpdGUgaGlnaGxpZ2h0IG91dGxpbmUgcmFua2luZyByYXRlIHJhdGluZyBzYXZlIHRvZ2dsZVwiLFxuICBzdGFyX2hhbGY6IFwiMC41IDEvMiBhY2hpZXZlbWVudCBib29rbWFyayBmYXZvcml0ZSBoaWdobGlnaHQgaW1wb3J0YW50IG1hcmtlZCByYW5raW5nIHJhdGUgcmF0aW5nIHJld2FyZCBzYXZlZCBzaGFwZSBzcGVjaWFsIHRvZ2dsZVwiLFxuICBzdGFyX291dGxpbmU6IFwiYm9va21hcmsgZmF2b3JpdGUgaGFsZiBoaWdobGlnaHQgcmFua2luZyByYXRlIHJhdGluZyBzYXZlIHRvZ2dsZVwiLFxuICBzdGFyX3JhdGU6IFwiYWNoaWV2ZW1lbnQgYm9va21hcmsgZmF2b3JpdGUgaGlnaGxpZ2h0IGltcG9ydGFudCBtYXJrZWQgcmFua2luZyByYXRpbmcgcmV3YXJkIHNhdmVkIHNoYXBlIHNwZWNpYWxcIixcbiAgc3RhcnM6IFwiYWNoaWV2ZW1lbnQgYm9va21hcmsgY2lyY2xlIGZhdm9yaXRlIGhpZ2hsaWdodCBpbXBvcnRhbnQgbGlrZSBsb3ZlIG1hcmtlZCByYW5raW5nIHJhdGUgcmF0aW5nIHJld2FyZCBzYXZlZCBzaGFwZSBzcGVjaWFsXCIsXG4gIHN0YXJ0OiBcImFycm93IGtleWJvYXJkIG5leHQgcmlnaHRcIixcbiAgc3RheV9jdXJyZW50X2xhbmRzY2FwZTogXCJBbmRyb2lkIGRldmljZSBoYXJkd2FyZSBpT1MgbW9iaWxlIHBob25lIHRhYmxldFwiLFxuICBzdGF5X2N1cnJlbnRfcG9ydHJhaXQ6IFwiQW5kcm9pZCBkZXZpY2UgaGFyZHdhcmUgaU9TIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgc3RheV9wcmltYXJ5X2xhbmRzY2FwZTogXCJBbmRyb2lkIGN1cnJlbnQgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgdGFibGV0XCIsXG4gIHN0YXlfcHJpbWFyeV9wb3J0cmFpdDogXCJBbmRyb2lkIGN1cnJlbnQgZGV2aWNlIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgdGFibGV0XCIsXG4gIHN0aWNreV9ub3RlXzI6IFwiYm9va21hcmsgbWVzc2FnZSBwYXBlciB0ZXh0IHdyaXRpbmdcIixcbiAgc3RvcDogXCJhcnJvdyBjb250cm9scyBtdXNpYyBwYXVzZSBwbGF5ZXIgc3F1YXJlIHZpZGVvXCIsXG4gIHN0b3BfY2lyY2xlOiBcImNvbnRyb2xzIG11c2ljIHBhdXNlIHBsYXkgc3F1YXJlIHZpZGVvXCIsXG4gIHN0b3Bfc2NyZWVuX3NoYXJlOiBcIkFuZHJvaWQgYXJyb3cgY2FzdCBjaHJvbWUgZGV2aWNlIGRpc2FibGVkIGRpc3BsYXkgZW5hYmxlZCBoYXJkd2FyZSBpT1MgbGFwdG9wIG1hYyBtaXJyb3IgbW9uaXRvciBvZmZsaW5lIHNsYXNoIHN0ZWFtIHN0cmVhbWluZyB3ZWIgd2luZG93XCIsXG4gIHN0b3JhZ2U6IFwiY29tcHV0ZXIgZGF0YWJhc2UgZHJpdmUgbWVtb3J5IG5ldHdvcmsgc2VydmVyXCIsXG4gIHN0b3JlOiBcImJpbGwgYnVpbGRpbmcgYnVzaW5lc3MgYnV5IGNhcmQgY2FzaCBjb2luIGNvbXBhbnkgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgZS1jb21tZXJjZSBtYXJrZXQgbW9uZXkgb25saW5lIHBheW1lbnQgcHVyY2hhc2Ugc2hvcHBpbmcgc3RvcmVmcm9udFwiLFxuICBzdG9yZWZyb250OiBcImJ1c2luZXNzIGJ1eSBjYWZlIGNvbW1lcmNlIG1hcmtldCBtZXJjaGFudCBwbGFjZXMgcmVzdGF1cmFudCByZXRhaWwgc2VsbCBzaG9wcGluZyBzdGFsbFwiLFxuICBzdG9yZV9tYWxsX2RpcmVjdG9yeTogXCJidWlsZGluZ1wiLFxuICBzdG9ybTogXCJmb3JlY2FzdCBodXJyaWNhbmUgdGVtcGVyYXR1cmUgdHdpc3RlciB3ZWF0aGVyIHdpbmRcIixcbiAgc3RyYWlnaHQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcm91dGUgc2lnbiB0cmFmZmljIHVwXCIsXG4gIHN0cmFpZ2h0ZW46IFwibGVuZ3RoIG1lYXN1cmVtZW50IHBpYW5vIHJ1bGVyIHNpemVcIixcbiAgc3RyZWFtOiBcImNhc3QgY29ubmVjdGVkIGZlZWQgbGl2ZSBuZXR3b3JrIHNpZ25hbCB3aXJlbGVzc1wiLFxuICBzdHJlZXR2aWV3OiBcImdwcyBsb2NhdGlvbiBtYXBzXCIsXG4gIHN0cmlrZXRocm91Z2hfczogXCJhbHBoYWJldCBjaGFyYWN0ZXIgY3Jvc3MgZG9jIGVkaXRpbmcgZWRpdG9yIGZvbnQgbGV0dGVyIG91dCBzcHJlYWRzaGVldCBzdHlsZXMgc3ltYm9sIHRleHQgdHlwZSB3cml0aW5nXCIsXG4gIHN0cm9sbGVyOiBcImJhYnkgY2FyZSBjYXJyaWFnZSBjaGlsZHJlbiBpbmZhbnQga2lkIG5ld2Jvcm4gdG9kZGxlciB5b3VuZ1wiLFxuICBzdHlsZTogXCJib29rbGV0IGNhcmRzIGZpbHRlcnMgb3B0aW9ucyB0YWdzXCIsXG4gIHN1YmRpcmVjdG9yeV9hcnJvd19sZWZ0OiBcImFycm93IGRvd24gbmF2aWdhdGlvblwiLFxuICBzdWJkaXJlY3RvcnlfYXJyb3dfcmlnaHQ6IFwiYXJyb3cgZG93biBuYXZpZ2F0aW9uXCIsXG4gIHN1YmplY3Q6IFwiYWxpZ25tZW50IGRvY3VtZW50IGVtYWlsIGZ1bGwganVzdGlmeSBsaW5lcyBsaXN0IG5vdGUgdGV4dCB3cml0aW5nXCIsXG4gIHN1YnNjcmlwdDogXCIyIGRvYyBlZGl0aW5nIGVkaXRvciBnbWFpbCBub3ZpdGFzIHNwcmVhZHNoZWV0IHN0eWxlIHN5bWJvbCB0ZXh0IHdyaXRpbmdcIixcbiAgc3Vic2NyaXB0aW9uczogXCJlbnJvbGwgbWVkaWEgb3JkZXIgcGxheWxpc3QgcXVldWUgc2lnbnVwIHN1YnNjcmliZSB5b3V0dWJlXCIsXG4gIHN1YnRpdGxlczogXCJhY2Nlc3NpYmlsaXR5IGFjY2Vzc2libGUgY2FwdGlvbnMgY2hhcmFjdGVyIGNsb3NlZCBkZWNvZGVyIGxhbmd1YWdlIG1lZGlhIG1vdmllcyB0cmFuc2xhdGUgdHZcIixcbiAgc3VidGl0bGVzX29mZjogXCJhY2Nlc3NpYmlsaXR5IGFjY2Vzc2libGUgY2FwdGlvbiBjbG9zZWQgZGlzYWJsZWQgZW5hYmxlZCBsYW5ndWFnZSBzbGFzaCB0cmFuc2xhdGUgdmlkZW9cIixcbiAgc3Vid2F5OiBcImF1dG9tb2JpbGUgYmlrZSBjYXJzIG1hcHMgbWV0cm8gcmFpbCBzY29vdGVyIHRyYWluIHRyYW5zcG9ydGF0aW9uIHRyYXZlbCB0dW5uZWwgdW5kZXJncm91bmQgdmVoaWNsZSB2ZXNwYVwiLFxuICBzdW1tYXJpemU6IFwiZG9jdW1lbnQgbGlzdCBtZW51IG5vdGUgcmVwb3J0IHN1bW1hcnlcIixcbiAgc3VwZXJzY3JpcHQ6IFwiMiBkb2MgZWRpdGluZyBlZGl0b3IgZ21haWwgbm92aXRhcyBzcHJlYWRzaGVldCBzdHlsZSBzeW1ib2wgdGV4dCB3cml0aW5nXCIsXG4gIHN1cGVydmlzZWRfdXNlcl9jaXJjbGU6IFwiYWNjb3VudCBhdmF0YXIgY29udHJvbCBmYWNlIGh1bWFuIHBhcmVudGFsIHBhcmVudHMgcGVvcGxlIHBlcnNvbiBwcm9maWxlIHN1cGVydmlzb3JcIixcbiAgc3VwZXJ2aXNvcl9hY2NvdW50OiBcImFkbWluaXN0cmF0b3IgYXZhdGFyIGNvbnRyb2wgZmFjZSBodW1hbiBwYXJlbnRhbCBwYXJlbnRzIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzdXBlcnZpc2VkIHVzZXJcIixcbiAgc3VwcG9ydDogXCJhc3Npc3QgaGVscCBsaWZlYnVveSByZXNjdWUgc2FmZXR5XCIsXG4gIHN1cHBvcnRfYWdlbnQ6IFwiY2FyZSBjdXN0b21lciBmYWNlIGhlYWRwaG9uZSBwZXJzb24gcmVwcmVzZW50YXRpdmUgc2VydmljZVwiLFxuICBzdXJmaW5nOiBcImF0aGxldGUgYXRobGV0aWMgYmVhY2ggYm9keSBlbnRlcnRhaW5tZW50IGV4ZXJjaXNlIGhvYmJ5IGh1bWFuIHBlb3BsZSBwZXJzb24gc2VhIHNvY2lhbCBzcG9ydHMgc3VtbWVyIHdhdGVyXCIsXG4gIHN1cnJvdW5kX3NvdW5kOiBcImF1ZGlvIGNpcmNsZSBzaWduYWwgc3BlYWtlciBzeXN0ZW0gdm9sdW1lIHZvbHVtbiB3aXJlbGVzc1wiLFxuICBzd2FwX2NhbGxzOiBcImFycm93cyBkZXZpY2UgZGlyZWN0aW9uIG1vYmlsZSBzaGFyZVwiLFxuICBzd2FwX2hvcml6OiBcImFycm93cyBiYWNrIGRpcmVjdGlvbiBmb3J3YXJkIGhvcml6b250YWxcIixcbiAgc3dhcF9ob3Jpem9udGFsX2NpcmNsZTogXCJhcnJvd3MgYmFjayBkaXJlY3Rpb24gZm9yd2FyZFwiLFxuICBzd2FwX3ZlcnQ6IFwiYXJyb3dzIGJhY2sgZGlyZWN0aW9uIGRvd24gbmF2aWdhdGlvbiB1cCB2ZXJ0aWNhbFwiLFxuICBzd2FwX3ZlcnRpY2FsX2NpcmNsZTogXCJhcnJvd3MgYmFjayBkaXJlY3Rpb24gZG93biBob3Jpem9udGFsIHVwXCIsXG4gIHN3aXBlOiBcImFycm93cyBmaW5nZXJzIGdlc3R1cmUgaGFuZHMgdG91Y2hcIixcbiAgc3dpcGVfZG93bjogXCJhcnJvd3MgZGlyZWN0aW9uIGRpc2FibGUgZW5hYmxlIGZpbmdlciBoYW5kcyBoaXQgbmF2aWdhdGlvbiBzdHJpa2Ugc3dpbmcgc3dwaWUgdGFrZVwiLFxuICBzd2lwZV9kb3duX2FsdDogXCJhcnJvd3MgZGlyZWN0aW9uIGRpc2FibGUgZW5hYmxlIGZpbmdlciBoYW5kcyBoaXQgbmF2aWdhdGlvbiBzdHJpa2Ugc3dpbmcgc3dwaWUgdGFrZVwiLFxuICBzd2lwZV9sZWZ0OiBcImFycm93cyBmaW5nZXIgaGFuZCBoaXQgbmF2aWdhdGlvbiByZWplY3Qgc3RyaWtlIHN3aW5nIHRha2VcIixcbiAgc3dpcGVfbGVmdF9hbHQ6IFwiYXJyb3dzIGZpbmdlciBoYW5kIGhpdCBuYXZpZ2F0aW9uIHJlamVjdCBzdHJpa2Ugc3dpbmcgdGFrZVwiLFxuICBzd2lwZV9yaWdodDogXCJhY2NlcHQgYXJyb3dzIGRpcmVjdGlvbiBmaW5nZXIgaGFuZHMgaGl0IG5hdmlnYXRpb24gc3RyaWtlIHN3aW5nIHN3cGllIHRha2VcIixcbiAgc3dpcGVfcmlnaHRfYWx0OiBcImFjY2VwdCBhcnJvd3MgZGlyZWN0aW9uIGZpbmdlciBoYW5kcyBoaXQgbmF2aWdhdGlvbiBzdHJpa2Ugc3dpbmcgc3dwaWUgdGFrZVwiLFxuICBzd2lwZV91cDogXCJhcnJvd3MgZGlyZWN0aW9uIGRpc2FibGUgZW5hYmxlIGZpbmdlciBoYW5kcyBoaXQgbmF2aWdhdGlvbiBzdHJpa2Ugc3dpbmcgc3dwaWUgdGFrZVwiLFxuICBzd2lwZV91cF9hbHQ6IFwiYXJyb3dzIGRpcmVjdGlvbiBkaXNhYmxlIGVuYWJsZSBmaW5nZXIgaGFuZHMgaGl0IG5hdmlnYXRpb24gc3RyaWtlIHN3aW5nIHN3cGllIHRha2VcIixcbiAgc3dpcGVfdmVydGljYWw6IFwiYXJyb3dzIGRpcmVjdGlvbiBmaW5nZXIgaGFuZHMgaGl0IG5hdmlnYXRpb24gc3RyaWtlIHN3aW5nIHN3cGllIHRha2UgdmVydGljbGVcIixcbiAgc3dpdGNoX2FjY2Vzc19zaG9ydGN1dDogXCJhcnJvd3MgZGlyZWN0aW9uIG5hdmlnYXRpb24gbmV3IG5vcnRoIHN0YXIgc3ltYm9sIHVwXCIsXG4gIHN3aXRjaF9hY2Nlc3Nfc2hvcnRjdXRfYWRkOiBcIisgYXJyb3dzIGRpcmVjdGlvbiBuYXZpZ2F0aW9uIG5ldyBub3J0aCBwbHVzIHN0YXIgc3ltYm9sIHVwXCIsXG4gIHN3aXRjaF9hY2NvdW50OiBcImNob2ljZXMgZmFjZSBodW1hbiBtdWx0aXBsZSBvcHRpb25zIHBlb3BsZSBwZXJzb24gcHJvZmlsZSBzb2NpYWwgdXNlclwiLFxuICBzd2l0Y2hfY2FtZXJhOiBcImFycm93cyBwaG90b2dyYXBoeSBwaWN0dXJlXCIsXG4gIHN3aXRjaF9sZWZ0OiBcImFycm93cyBkaXJlY3Rpb25hbCBuYXZpZ2F0aW9uIHRvZ2dsZVwiLFxuICBzd2l0Y2hfcmlnaHQ6IFwiYXJyb3dzIGRpcmVjdGlvbmFsIG5hdmlnYXRpb24gdG9nZ2xlXCIsXG4gIHN3aXRjaF92aWRlbzogXCJhcnJvd3MgY2FtZXJhIHBob3RvZ3JhcGh5IHZpZGVvc1wiLFxuICBzeW5jOiBcIjM2MCBhcm91bmQgYXJyb3dzIGRpcmVjdGlvbiBpbnByb2dyZXNzIGxvYWRpbmcgcmVmcmVzaCByZW5ldyByb3RhdGUgdHVyblwiLFxuICBzeW5jX2FsdDogXCJhcnJvd3MgaG9yaXpvbnRhbCBpbnRlcm5ldCB0ZWNobm9sb2d5IHVwZGF0ZSB3aWZpXCIsXG4gIHN5bmNfZGlzYWJsZWQ6IFwiMzYwIGFyb3VuZCBhcnJvd3MgZGlyZWN0aW9uIGVuYWJsZWQgaW5wcm9ncmVzcyBsb2FkaW5nIG9mZiByZWZyZXNoIHJlbmV3IHJvdGF0ZSBzbGFzaCB0dXJuXCIsXG4gIHN5bmNfbG9jazogXCJhcm91bmQgYXJyb3dzIGxvY2tlZCBwYXNzd29yZCBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiByZW5ldyByb3RhdGUgc2FmZXR5IHNlY3VyZSBzZWN1cml0eSB0dXJuXCIsXG4gIHN5bmNfcHJvYmxlbTogXCIhIDM2MCBhbGVydCBhcm91bmQgYXJyb3dzIGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBkaXJlY3Rpb24gZXJyb3IgZXhjbGFtYXRpb24gaW1wb3J0YW50IGlucHJvZ3Jlc3MgbG9hZGluZyBtYXJrIG5vdGlmaWNhdGlvbiByZWZyZXNoIHJlbmV3IHJvdGF0ZSBzeW1ib2wgdHVybiB3YXJuaW5nXCIsXG4gIHN5c3RlbV9zZWN1cml0eV91cGRhdGU6IFwiQW5kcm9pZCBhcnJvdyBjZWxsIGRldmljZSBkb3duIGhhcmR3YXJlIGlPUyBtb2JpbGUgcGhvbmUgdGFibGV0XCIsXG4gIHN5c3RlbV9zZWN1cml0eV91cGRhdGVfZ29vZDogXCJBbmRyb2lkIGFwcHJvdmUgY2VsbCBjaGVjayBjb21wbGV0ZSBkZXZpY2UgZG9uZSBoYXJkd2FyZSBpT1MgbWFyayBtb2JpbGUgb2sgcGhvbmUgc2VsZWN0IHRhYmxldCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICBzeXN0ZW1fc2VjdXJpdHlfdXBkYXRlX3dhcm5pbmc6IFwiISBBbmRyb2lkIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGNlbGwgZGFuZ2VyIGRldmljZSBlcnJvciBleGNsYW1hdGlvbiBoYXJkd2FyZSBpT1MgaW1wb3J0YW50IG1hcmsgbW9iaWxlIG5vdGlmaWNhdGlvbiBwaG9uZSBzeW1ib2wgdGFibGV0XCIsXG4gIHN5c3RlbV91cGRhdGU6IFwiQW5kcm9pZCBhcnJvd3MgY2VsbCBkZXZpY2UgZGlyZWN0aW9uIGRvd25sb2FkIGhhcmR3YXJlIGlPUyBpbnN0YWxsIG1vYmlsZSBwaG9uZSB0YWJsZXRcIixcbiAgc3lzdGVtX3VwZGF0ZV9hbHQ6IFwiYXJyb3cgZG93bmxvYWQgZXhwb3J0XCIsXG4gIHRhYjogXCJicm93c2VyIGNvbXB1dGVyIGRvY3VtZW50cyBmb2xkZXIgaW50ZXJuZXQgdGFicyB3ZWJzaXRlIHdpbmRvd3NcIixcbiAgdGFibGVfY2hhcnQ6IFwiYW5hbHl0aWNzIGJhcnMgZGF0YSBkaWFncmFtIGdyaWQgaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgdGFibGVfcm93czogXCJncmlkIGxheW91dCBsaW5lcyBzdGFja2VkXCIsXG4gIHRhYmxldDogXCJBbmRyb2lkIGRldmljZSBoYXJkd2FyZSBpT1MgaXBhZCBtb2JpbGUgd2ViXCIsXG4gIHRhYmxldF9hbmRyb2lkOiBcImRldmljZSBoYXJkd2FyZSBpT1MgaXBhZCBtb2JpbGUgd2ViXCIsXG4gIHRhYmxldF9tYWM6IFwiQW5kcm9pZCBhcHBsZSBkZXZpY2UgaGFyZHdhcmUgaU9TIGlwYWQgbWFjIG1vYmlsZSB0YWJsZXQgd2ViXCIsXG4gIHRhYmxlX3ZpZXc6IFwiZm9ybWF0IGdyaWQgZ3JvdXAgbGF5b3V0IG11bHRpcGxlXCIsXG4gIHRhYl91bnNlbGVjdGVkOiBcImJyb3dzZXIgY29tcHV0ZXIgZG9jdW1lbnRzIGZvbGRlciBpbnRlcm5ldCB0YWJzIHdlYnNpdGUgd2luZG93c1wiLFxuICB0YWc6IFwiaGFzaHRhZyBrZXkgbWVkaWEgbnVtYmVyIHBvdW5kIHNvY2lhbCB0cmVuZFwiLFxuICB0YWdfZmFjZXM6IFwiZW1vamkgZW1vdGlvbiBoYXBweSBzYXRpc2ZpZWQgc21pbGVcIixcbiAgdGFrZW91dF9kaW5pbmc6IFwiYm94IGNvbnRhaW5lciBkZWxpdmVyeSBmb29kIG1lYWwgcmVzdGF1cmFudFwiLFxuICB0YXBfYW5kX3BsYXk6IFwiQW5kcm9pZCBjZWxsIGNvbm5lY3Rpb24gZGV2aWNlIGhhcmR3YXJlIGlPUyBpbnRlcm5ldCBtb2JpbGUgbmV0d29yayBuZmMgcGhvbmUgc2lnbmFsIHRhYmxldCB0byB3aWZpIHdpcmVsZXNzXCIsXG4gIHRhcGFzOiBcImFwcGV0aXplciBicnVuY2ggZGlubmVyIGZvb2QgbHVuY2ggcmVzdGF1cmFudCBzbmFja1wiLFxuICB0YXNrOiBcImFwcHJvdmUgY2hlY2sgY29tcGxldGUgZGF0YSBkb2N1bWVudCBkb25lIGRyaXZlIGZpbGUgZm9sZGVycyBtYXJrIG9rIHBhZ2UgcGFwZXIgc2VsZWN0IHNoZWV0IHNsaWRlIHRpY2sgdmFsaWRhdGUgdmVyaWZpZWQgd3JpdGluZyB5ZXNcIixcbiAgdGFza19hbHQ6IFwiYXBwcm92ZSBjaGVjayBjaXJjbGUgY29tcGxldGUgZG9uZSBtYXJrIG9rIHNlbGVjdCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICB0YXhpX2FsZXJ0OiBcIiEgYXR0ZW50aW9uIGF1dG9tb2JpbGUgY2FiIGNhcnMgY2F1dGlvbiBkYW5nZXIgZGlyZWN0aW9uIGVycm9yIGV4Y2xhbWF0aW9uIGltcG9ydGFudCBseWZ0IG1hcHMgbWFyayBub3RpZmljYXRpb24gcHVibGljIHN5bWJvbCB0cmFuc3BvcnRhdGlvbiB1YmVyIHZlaGljbGUgd2FybmluZyB5ZWxsb3dcIixcbiAgdGVybWluYWw6IFwiYXBwbGljYXRpb24gY29kZSBlbXVsYXRvciBwcm9ncmFtIHNvZnR3YXJlXCIsXG4gIHRlcnJhaW46IFwiZ2VvZ3JhcGh5IGxhbmRzY2FwZSBtb3VudGFpblwiLFxuICB0ZXh0X2RlY3JlYXNlOiBcIi0gYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgbGV0dGVyIG1pbnVzIHJlbW92ZSByZXNpemUgc3VidHJhY3Qgc3ltYm9sIHR5cGVcIixcbiAgdGV4dF9maWVsZHM6IFwiVCBhZGQgYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgaW5wdXQgbGV0dGVyIHN5bWJvbCB0eXBlXCIsXG4gIHRleHRfZm9ybWF0OiBcIkEgYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgbGV0dGVyIHNxdWFyZSBzdHlsZSBzeW1ib2wgdHlwZVwiLFxuICB0ZXh0X2luY3JlYXNlOiBcIisgYWRkIGFscGhhYmV0IGNoYXJhY3RlciBmb250IGxldHRlciBuZXcgcGx1cyByZXNpemUgc3ltYm9sIHR5cGVcIixcbiAgdGV4dF9yb3RhdGVfdXA6IFwiQSBhbHBoYWJldCBhcnJvdyBjaGFyYWN0ZXIgZmllbGQgZm9udCBsZXR0ZXIgbW92ZSBzeW1ib2wgdHlwZVwiLFxuICB0ZXh0X3JvdGF0ZV92ZXJ0aWNhbDogXCJBIGFscGhhYmV0IGFycm93IGNoYXJhY3RlciBkb3duIGZpZWxkIGZvbnQgbGV0dGVyIG1vdmUgc3ltYm9sIHR5cGUgdmVydGljbGVcIixcbiAgdGV4dF9yb3RhdGlvbl9hbmdsZWRvd246IFwiQSBhbHBoYWJldCBhcnJvdyBjaGFyYWN0ZXIgZmllbGQgZm9udCBsZXR0ZXIgbW92ZSByb3RhdGUgc3ltYm9sIHR5cGVcIixcbiAgdGV4dF9yb3RhdGlvbl9hbmdsZXVwOiBcIkEgYWxwaGFiZXQgYXJyb3cgY2hhcmFjdGVyIGZpZWxkIGZvbnQgbGV0dGVyIG1vdmUgcm90YXRlIHN5bWJvbCB0eXBlXCIsXG4gIHRleHRfcm90YXRpb25fZG93bjogXCJBIGFscGhhYmV0IGFycm93IGNoYXJhY3RlciBmaWVsZCBmb250IGxldHRlciBtb3ZlIHJvdGF0ZSBzeW1ib2wgdHlwZVwiLFxuICB0ZXh0X3JvdGF0aW9uX25vbmU6IFwiQSBhbHBoYWJldCBhcnJvdyBjaGFyYWN0ZXIgZmllbGQgZm9udCBsZXR0ZXIgbW92ZSByb3RhdGUgc3ltYm9sIHR5cGVcIixcbiAgdGV4dHNtczogXCJidWJibGUgY2hhdCBjb21tZW50IGNvbW11bmljYXRlIGRvdHMgZmVlZGJhY2sgbWVzc2FnZSBzcGVlY2hcIixcbiAgdGV4dF9zbmlwcGV0OiBcImRhdGEgZG9jdW1lbnQgZmlsZSBub3RlcyBzdG9yYWdlIHdyaXRpbmdcIixcbiAgdGV4dHVyZTogXCJkaWFnb25hbCBsaW5lcyBwYXR0ZXJuIHN0cmlwZXNcIixcbiAgdGhlYXRlcl9jb21lZHk6IFwiYnJvYWR3YXkgZXZlbnQgbW92aWUgbXVzaWNhbCBwbGFjZXMgc2hvdyBzdGFuZHVwIHRvdXIgd2F0Y2hcIixcbiAgdGhlYXRlcnM6IFwiZmlsbSBtZWRpYSBtb3ZpZXMgcGhvdG9ncmFwaHkgc2hvd3RpbWVzIHZpZGVvIHdhdGNoXCIsXG4gIHRoZXJtb3N0YXQ6IFwiZm9yZWNhc3QgdGVtcGVyYXR1cmUgd2VhdGhlclwiLFxuICB0aGVybW9zdGF0X2F1dG86IFwiQSBjZWxzaXVzIGZhaHJlbmhlaXQgdGVtcGVyYXR1cmUgdGhlcm1vbWV0ZXJcIixcbiAgdGh1bWJfZG93bjogXCJkaXNsaWtlIGRvd252b3RlIGZhdm9yaXRlIGZpbmdlcnMgZ2VzdHVyZSBoYW5kcyByYW5raW5nIHJhdGUgcmF0aW5nIHJlamVjdCB1cFwiLFxuICB0aHVtYl9kb3duX2FsdDogXCJiYWQgZGVjbGluZSBkaXNhcHByb3ZlIGRpc2xpa2UgZmVlZGJhY2sgaGFuZCBoYXRlIG5lZ2F0aXZlIG5vIHJlamVjdCBzb2NpYWwgdmV0byB2b3RlXCIsXG4gIHRodW1iX2Rvd25fb2ZmX2FsdDogXCJiYWQgZGVjbGluZSBkaXNhcHByb3ZlIGRpc2xpa2UgZmF2b3JpdGUgZmVlZGJhY2sgZmlsbGVkIGZpbmdlcnMgZ2VzdHVyZSBoYW5kcyBoYXRlIG5lZ2F0aXZlIG5vIHJhbmtpbmcgcmF0ZSByYXRpbmcgcmVqZWN0IHNhZCBzb2NpYWwgdmV0byB2b3RlXCIsXG4gIHRodW1ic191cF9kb3duOiBcImRpc2xpa2UgZmF2b3JpdGUgZmluZ2VycyBnZXN0dXJlIGhhbmRzIHJhdGUgcmF0aW5nIHZvdGVcIixcbiAgdGh1bWJfdXA6IFwiYXBwcm92ZSBkaXNsaWtlIGRvd24gZmF2b3JpdGUgZmluZ2VycyBnZXN0dXJlIGhhbmRzIHJhbmtpbmcgcmF0ZSByYXRpbmcgc3VjY2VzcyB1cHZvdGVcIixcbiAgdGh1bWJfdXBfYWx0OiBcImFncmVlZCBhcHByb3ZlZCBjb25maXJtIGNvcnJlY3QgZmF2b3JpdGUgZmVlZGJhY2sgZ29vZCBoYW5kIGhhcHB5IGxpa2Ugb2theSBwb3NpdGl2ZSBzYXRpc2ZhY3Rpb24gc29jaWFsIHN1Y2Nlc3Mgdm90ZSB5ZXNcIixcbiAgdGh1bWJfdXBfb2ZmX2FsdDogXCJhZ3JlZWQgYXBwcm92ZWQgY29uZmlybSBjb3JyZWN0IGZhdm9yaXRlIGZlZWRiYWNrIGZpbmdlcnMgZ2VzdHVyZSBnb29kIGhhbmRzIGhhcHB5IGxpa2Ugb2theSBwb3NpdGl2ZSByYW5raW5nIHJhdGUgcmF0aW5nIHNhdGlzZmFjdGlvbiBzb2NpYWwgdm90ZSB5ZXNcIixcbiAgdGltZWxhcHNlOiBcImR1cmF0aW9uIG1vdGlvbiBwaG90byB0aW1lciB2aWRlb1wiLFxuICB0aW1lbGluZTogXCJhbmFseXRpY3MgY2hhcnQgZGF0YSBncmFwaCBoaXN0b3J5IGxpbmUgbW92ZW1lbnQgcG9pbnRzIHRyYWNraW5nIHRyZW5kaW5nIHppZ3phZyB6aWd6YXBcIixcbiAgdGltZXI6IFwiYWxhcm0gYWxhcnQgYmVsbCBjbG9jayBkaXNhYmxlZCBkdXJhdGlvbiBlbmFibGVkIG5vdGlmaWNhdGlvbiBvZmYgc2xhc2ggc3RvcHdhdGNoIHdhaXRcIixcbiAgdGltZXJfMTA6IFwiZGlnaXRzIGR1cmF0aW9uIG51bWJlcnMgc2Vjb25kc1wiLFxuICB0aW1lcl8xMF9zZWxlY3Q6IFwiYWxwaGFiZXQgY2FtZXJhIGNoYXJhY3RlciBkaWdpdCBmb250IGxldHRlciBudW1iZXIgc2Vjb25kcyBzeW1ib2wgdGV4dCB0eXBlXCIsXG4gIHRpbWVyXzM6IFwiZGlnaXRzIGR1cmF0aW9uIG51bWJlcnMgc2Vjb25kc1wiLFxuICB0aW1lcl8zX3NlbGVjdDogXCJhbHBoYWJldCBjYW1lcmEgY2hhcmFjdGVyIGRpZ2l0IGZvbnQgbGV0dGVyIG51bWJlciBzZWNvbmRzIHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgdGltZXJfb2ZmOiBcImFsYXJtIGFsYXJ0IGJlbGwgY2xvY2sgZGlzYWJsZWQgZHVyYXRpb24gZW5hYmxlZCBub3RpZmljYXRpb24gc2xhc2ggc3RvcHdhdGNoXCIsXG4gIHRpbWVfdG9fbGVhdmU6IFwiYXV0b21vYmlsZSBjYXJzIGRlc3RpbmF0aW9uIGRpcmVjdGlvbiBkcml2ZSBlc3RpbWF0ZSBldGEgbWFwcyBwdWJsaWMgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHRyaXAgdmVoaWNsZVwiLFxuICB0aXBzX2FuZF91cGRhdGVzOiBcImFsZXJ0IGFubm91bmNlbWVudCBlbGVjdHJpY2l0eSBpZGVhIGluZm9ybWF0aW9uIGxhbXAgbGlnaHRidWxiIHN0YXJzXCIsXG4gIHRpdGxlOiBcIlQgYWxwaGFiZXQgY2hhcmFjdGVyIGZvbnQgaGVhZGVyIGxldHRlciBzdWJqZWN0IHN5bWJvbCB0ZXh0IHR5cGVcIixcbiAgdG9jOiBcImNvbnRlbnQgZm9ybWF0IGxpbmVzIGxpc3QgcmVvcmRlciBzdGFja2VkIHRhYmxlIHRleHQgdGl0bGVzXCIsXG4gIHRvZGF5OiBcImFnZW5kYSBjYWxlbmRhciBkYXRlIGV2ZW50IG1hcmsgbW9udGggcmFuZ2UgcmVtZW1iZXIgcmVtaW5kZXIgc2NoZWR1bGUgdGltZSB3ZWVrXCIsXG4gIHRvZ2dsZV9vZmY6IFwiYXBwbGljYXRpb24gY29tcG9uZW50cyBjb25maWd1cmF0aW9uIGNvbnRyb2wgZGVzaWduIGRpc2FibGUgaW5hYmxlIGluYWN0aXZlIGludGVyZmFjZSBzZWxlY3Rpb24gc2V0dGluZ3Mgc2xpZGVyIHN3aXRjaCB1aSB1eCB3ZWJzaXRlXCIsXG4gIHRvZ2dsZV9vbjogXCJhcHBsaWNhdGlvbiBjb21wb25lbnRzIGNvbmZpZ3VyYXRpb24gY29udHJvbCBkZXNpZ24gZGlzYWJsZSBpbmFibGUgaW5hY3RpdmUgaW50ZXJmYWNlIG9mZiBzZWxlY3Rpb24gc2V0dGluZ3Mgc2xpZGVyIHN3aXRjaCB1aSB1eCB3ZWJzaXRlXCIsXG4gIHRva2VuOiBcImJhZGdlIGhleGFnb24gbWFyayBzaGllbGQgc2lnbiBzeW1ib2xcIixcbiAgdG9sbDogXCJiaWxsIGJvb3RoIGNhcmQgY2FzaCBjaXJjbGVzIGNvaW4gY29tbWVyY2UgY3JlZGl0IGN1cnJlbmN5IGRvbGxhcnMgaGlnaHdheSBtb25leSBvbmxpbmUgcGF5bWVudCB0aWNrZXRcIixcbiAgdG9uYWxpdHk6IFwiY2lyY2xlIGVkaXRpbmcgZmlsdGVyIGltYWdlIHBob3RvZ3JhcGh5IHBpY3R1cmVcIixcbiAgdG9waWM6IFwiZGF0YSBkb2N1bWVudCBkcml2ZSBmaWxlIGZvbGRlciBzaGVldCBzbGlkZSBzdG9yYWdlXCIsXG4gIHRvcm5hZG86IFwiY3Jpc2lzIGRpc2FzdGVyIG5hdHVyYWwgcmFpbiBzdG9ybSB3ZWF0aGVyIHdpbmRcIixcbiAgdG91Y2hfYXBwOiBcImFycm93IGNvbW1hbmQgZmluZ2VycyBnZXN0dXJlIGhhbmQgcHJlc3Mgc3dpcGUgdGFwXCIsXG4gIHRvdXI6IFwiZGVzdGluYXRpb24gZmxhZyBwbGFjZXMgdHJhdmVsIHZpc2l0XCIsXG4gIHRveXM6IFwiY2FyIGZhbiBnYW1lcyBraWRzIHdpbmRtaWxsXCIsXG4gIHRyYWNrX2NoYW5nZXM6IFwiYnVsbHNleWUgY2lyY2xlIGV2b2x2ZSBsaW5lcyBtb3ZlbWVudCByYWRhciByb3RhdGUgc2hpZnQgdGFyZ2V0XCIsXG4gIHRyYWZmaWM6IFwiZGlyZWN0aW9uIGxpZ2h0IG1hcHMgc2lnbmFsIHN0cmVldFwiLFxuICB0cmFpbjogXCJhdXRvbW9iaWxlIGNhcnMgZGlyZWN0aW9uIG1hcHMgcHVibGljIHJhaWwgc3Vid2F5IHRyYW5zcG9ydGF0aW9uIHZlaGljbGVcIixcbiAgdHJhbTogXCJhdXRvbW9iaWxlIGNhcnMgZGlyZWN0aW9uIG1hcHMgcHVibGljIHJhaWwgc3Vid2F5IHRyYWluIHRyYW5zcG9ydGF0aW9uIHZlaGljbGVcIixcbiAgdHJhbnNmZXJfd2l0aGluX2Ffc3RhdGlvbjogXCJhcnJvd3MgYm9keSBkaXJlY3Rpb24gaHVtYW4gbGVmdCBtYXBzIHBlb3BsZSBwZXJzb24gcHVibGljIHJpZ2h0IHJvdXRlIHN0b3AgdHJhbnNpdCB0cmFuc3BvcnRhdGlvbiB2ZWhpY2xlIHdhbGtcIixcbiAgdHJhbnNmb3JtOiBcImFkanVzdCBjcm9wIGVkaXRpbmcgaW1hZ2UgcGhvdG8gcGljdHVyZVwiLFxuICB0cmFuc2dlbmRlcjogXCJmZW1hbGUgbGdidCBuZXV0cmFsIG5ldXRydWFsIHNvY2lhbCBzeW1ib2xcIixcbiAgdHJhbnNpdF9lbnRlcmV4aXQ6IFwiYXJyb3cgZGlyZWN0aW9uIG1hcHMgbmF2aWdhdGlvbiByb3V0ZSB0cmFuc3BvcnRhdGlvblwiLFxuICB0cmFuc2xhdGU6IFwiYWxwaGFiZXQgbGFuZ3VhZ2UgbGV0dGVyIHNwZWFraW5nIHNwZWVjaCB0ZXh0IHRyYW5zbGF0b3Igd29yZHNcIixcbiAgdHJhdmVsX2V4cGxvcmU6IFwiZWFydGggZmluZCBnbGFzcyBnbG9iYWwgZ2xvYmUgbG9vayBtYWduaWZ5aW5nIG1hcCBuZXR3b3JrIHBsYW5ldCBzZWFyY2ggc2VlIHNvY2lhbCBzcGFjZSB3ZWIgd29ybGRcIixcbiAgdHJlbmRpbmdfZG93bjogXCJhbmFseXRpY3MgYXJyb3cgY2hhbmdlIGNoYXJ0IGRhdGEgZGlhZ3JhbSBpbmZvZ3JhcGhpYyBtZWFzdXJlIG1ldHJpY3MgbW92ZW1lbnQgcmF0ZSByYXRpbmcgc2FsZSBzdGF0aXN0aWNzIHRyYWNraW5nXCIsXG4gIHRyZW5kaW5nX2ZsYXQ6IFwiYXJyb3cgY2hhbmdlIGNoYXJ0IGRhdGEgZ3JhcGggbWV0cmljIG1vdmVtZW50IHJhdGUgcmlnaHQgdHJhY2tpbmdcIixcbiAgdHJlbmRpbmdfdXA6IFwiYW5hbHl0aWNzIGFycm93IGNoYW5nZSBjaGFydCBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIG1vdmVtZW50IHJhdGUgcmF0aW5nIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgdHJpcF9vcmlnaW46IFwiY2lyY2xlIGRlcGFydHVyZVwiLFxuICB0cnk6IFwiYm9va21hcmsgYnViYmxlIGNoYXQgY29tbWVudCBjb21tdW5pY2F0ZSBmYXZvcml0ZSBmZWVkYmFjayBoaWdobGlnaHQgaW1wb3J0YW50IG1hcmtlZCBtZXNzYWdlIHNhdmVkIHNoYXBlIHNwZWNpYWwgc3BlZWNoIHN0YXJcIixcbiAgdHR5OiBcImNhbGwgY2VsbCBjb250YWN0IGRlYWYgZGV2aWNlIGhhcmR3YXJlIGltcGFpcmVkIG1vYmlsZSBzcGVlY2ggdGFsayB0ZWxlcGhvbmUgdGV4dFwiLFxuICB0dW5lOiBcImFkanVzdCBlZGl0aW5nIG9wdGlvbnMgc2V0dGluZ3Mgc2xpZGVyc1wiLFxuICB0dW5nc3RlbjogXCJlbGVjdHJpY2l0eSBpbmRvb3IgbGFtcCBsaWdodGJ1bGIgc2V0dGluZ1wiLFxuICB0dXJuZWRfaW46IFwiYXJjaGl2ZSBib29rbWFyayBmYXZvcml0ZSBpdGVtIGxhYmVsIGxpYnJhcnkgcmVhZGluZyByZW1lbWJlciByaWJib24gc2F2ZSBzdWJtaXQgdGFnXCIsXG4gIHR1cm5lZF9pbl9ub3Q6IFwiYXJjaGl2ZSBib29rbWFyayBmYXZvcml0ZSBpdGVtIGxhYmVsIGxpYnJhcnkgb3V0bGluZSByZWFkaW5nIHJlbWVtYmVyIHJpYmJvbiBzYXZlIHN1Ym1pdCB0YWdcIixcbiAgdHVybl9sZWZ0OiBcImFycm93cyBkaXJlY3Rpb25zIG1hcHMgbmF2aWdhdGlvbiBwYXRoIHJvdXRlIHNpZ24gdHJhZmZpY1wiLFxuICB0dXJuX3JpZ2h0OiBcImFycm93cyBkaXJlY3Rpb25zIG1hcHMgbmF2aWdhdGlvbiBwYXRoIHJvdXRlIHNpZ24gdHJhZmZpY1wiLFxuICB0dXJuX3NoYXJwX2xlZnQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcm91dGUgc2lnbiB0cmFmZmljXCIsXG4gIHR1cm5fc2hhcnBfcmlnaHQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcm91dGUgc2lnbiB0cmFmZmljXCIsXG4gIHR1cm5fc2xpZ2h0X2xlZnQ6IFwiYXJyb3dzIGRpcmVjdGlvbnMgbWFwcyBuYXZpZ2F0aW9uIHBhdGggcmlnaHQgcm91dGUgc2lnbiB0cmFmZmljXCIsXG4gIHR1cm5fc2xpZ2h0X3JpZ2h0OiBcImFycm93cyBkaXJlY3Rpb25zIG1hcHMgbmF2aWdhdGlvbiBwYXRoIHJvdXRlIHNoYXJwIHNpZ24gdHJhZmZpY1wiLFxuICB0djogXCJkZXZpY2UgZGlzcGxheSBsaW5lYXIgbGl2aW5nIG1vbml0b3Igcm9vbSBzY3JlZW5jYXN0IHN0cmVhbSB0ZWxldmlzaW9uIHZpZGVvIHdpcmVsZXNzXCIsXG4gIHR2X29mZjogXCJBbmRyb2lkIGNocm9tZSBkZXNrdG9wIGRldmljZSBkaXNhYmxlZCBlbmFibGVkIGhhcmR3YXJlIGlPUyBtYWMgbW9uaXRvciBzbGFzaCB0ZWxldmlzaW9uIHdlYiB3aW5kb3dcIixcbiAgdHdvX3doZWVsZXI6IFwiYXV0b21vYmlsZSBiaWN5Y2xlIGNhcnMgZGlyZWN0aW9uIG1hcHMgbW9wZWQgbW90b3JiaWtlIG1vdG9yY3ljbGUgcHVibGljIHJpZGUgcmlkaW5nIHNjb290ZXIgdHJhbnNwb3J0YXRpb24gdHJhdmVsIHR3b20gdmVoaWNsZSB3aGVlbGVyIHdoZWVsc1wiLFxuICB1bWJyZWxsYTogXCJiZWFjaCBwcm90ZWN0aW9uIHJhaW4gc3VubnlcIixcbiAgdW5hcmNoaXZlOiBcImFycm93IGluYm94IG1haWwgc3RvcmUgdW5kbyB1cFwiLFxuICB1bmRvOiBcImFycm93IGJhY2t3YXJkIG1haWwgcHJldmlvdXMgcmVkbyByZXBlYXQgcm90YXRlXCIsXG4gIHVuZm9sZF9sZXNzOiBcImFycm93cyBjaGV2cm9uIGNvbGxhcHNlIGRpcmVjdGlvbiBleHBhbmRhYmxlIGlud2FyZCBsaXN0IG5hdmlnYXRpb24gdXBcIixcbiAgdW5mb2xkX21vcmU6IFwiYXJyb3dzIGNoZXZyb24gY29sbGFwc2UgZGlyZWN0aW9uIGRvd24gZXhwYW5kYWJsZSBsaXN0IG5hdmlnYXRpb25cIixcbiAgdW5wdWJsaXNoZWQ6IFwiYXBwcm92ZSBjaGVjayBjaXJjbGUgY29tcGxldGUgZGlzYWJsZWQgZG9uZSBlbmFibGVkIG1hcmsgb2ZmIG9rIHNlbGVjdCBzbGFzaCB0aWNrIHZhbGlkYXRlIHZlcmlmaWVkIHllc1wiLFxuICB1bnN1YnNjcmliZTogXCJjYW5jZWwgY2xvc2UgZW1haWwgZW52ZWxvcCBlc3Vic2NyaWJlIG1lc3NhZ2UgbmV3c2xldHRlciBvZmYgcmVtb3ZlIHNlbmRcIixcbiAgdXBjb21pbmc6IFwiYWxhcm0gY2FsZW5kYXIgbWFpbCBtZXNzYWdlIG5vdGlmaWNhdGlvblwiLFxuICB1cGRhdGU6IFwiYXJyb3cgYmFja3dhcmRzIGNsb2NrIGZvcndhcmQgZnV0dXJlIGhpc3RvcnkgbG9hZCByZWZyZXNoIHJldmVyc2Ugcm90YXRlIHNjaGVkdWxlIHRpbWVcIixcbiAgdXBkYXRlX2Rpc2FibGVkOiBcImFycm93IGJhY2t3YXJkcyBjbG9jayBlbmFibGVkIGZvcndhcmQgaGlzdG9yeSBsb2FkIG9mZiBvbiByZWZyZXNoIHJldmVyc2Ugcm90YXRlIHNjaGVkdWxlIHNsYXNoIHRpbWVcIixcbiAgdXBncmFkZTogXCJhcnJvdyBleHBvcnQgaW5zdGFsIGxpbmUgcmVwbGFjZSB1cGRhdGVcIixcbiAgdXBsb2FkOiBcImFycm93cyBkb3dubG9hZCBkcml2ZVwiLFxuICB1cGxvYWRfZmlsZTogXCJhcnJvdyBkYXRhIGRvY3VtZW50IGRvd25sb2FkIGRyaXZlIGZvbGRlcnMgcGFnZSBwYXBlciBzaGVldCBzbGlkZSB3cml0aW5nXCIsXG4gIHVzYjogXCJjYWJsZSBjb25uZWN0aW9uIGRldmljZSB3aXJlXCIsXG4gIHVzYl9vZmY6IFwiY2FibGUgY29ubmVjdGlvbiBkZXZpY2Ugd2lyZVwiLFxuICB1X3R1cm5fbGVmdDogXCJhcnJvd3MgZGlyZWN0aW9ucyBtYXBzIG5hdmlnYXRpb24gcGF0aCByb3V0ZSBzaWduIHRyYWZmaWMgdS10dXJuXCIsXG4gIHVfdHVybl9yaWdodDogXCJhcnJvd3MgZGlyZWN0aW9ucyBtYXBzIG5hdmlnYXRpb24gcGF0aCByb3V0ZSBzaWduIHRyYWZmaWMgdS10dXJuXCIsXG4gIHZhY2NpbmVzOiBcImFpZCBjb3ZpZCBkb2N0b3IgZHJ1ZyBlbWVyZ2VuY3kgaG9zcGl0YWwgaW1tdW5pdHkgaW5qZWN0aW9uIG1lZGljYWwgbWVkaWNhdGlvbiBtZWRpY2luZSBuZWVkbGUgcGhhcm1hY3kgc2ljayBzeXJpbmdlIHZhY2NpbmF0aW9uIHZpYWxcIixcbiAgdmVyaWZpZWQ6IFwiYXBwcm92ZSBiYWRnZSBidXJzdCBjaGVjayBjb21wbGV0ZSBkb25lIG1hcmsgb2sgc2VsZWN0IHN0YXIgdGljayB2YWxpZGF0ZSB5ZXNcIixcbiAgdmVyaWZpZWRfdXNlcjogXCJhcHByb3ZlIGF1ZGl0IGNlcnRpZmllZCBjaGVja21hcmsgY29tcGxldGUgZG9uZSBvayBwcml2YWN5IHByaXZhdGUgcHJvdGVjdGlvbiBzZWN1cml0eSBzZWxlY3Qgc2hpZWxkIHRpY2sgdmFsaWRhdGUgeWVzXCIsXG4gIHZlcnRpY2FsX2FsaWduX2JvdHRvbTogXCJhbGlnbm1lbnQgYXJyb3cgZG9jIGRvd24gZWRpdGluZyBlZGl0b3Igc3ByZWFkc2hlZXQgdGV4dCB0eXBlIHdyaXRpbmdcIixcbiAgdmVydGljYWxfYWxpZ25fY2VudGVyOiBcImFsaWdubWVudCBhcnJvdyBkb2MgZG93biBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgdXAgd3JpdGluZ1wiLFxuICB2ZXJ0aWNhbF9hbGlnbl90b3A6IFwiYWxpZ25tZW50IGFycm93IGRvYyBlZGl0aW5nIGVkaXRvciBzcHJlYWRzaGVldCB0ZXh0IHR5cGUgdXAgd3JpdGluZ1wiLFxuICB2ZXJ0aWNhbF9zaGFkZXM6IFwiYmxpbmRzIGNvdmVyIGN1cnRhaW5zIG5lc3Qgb3BlbiBzaHV0dGVyIHN1bnNoYWRlXCIsXG4gIHZlcnRpY2FsX3NoYWRlc19jbG9zZWQ6IFwiYmxpbmRzIGNvdmVyIGN1cnRhaW5zIG5lc3Qgcm9sbGVyIHNodXR0ZXIgc3Vuc2hhZGVcIixcbiAgdmVydGljYWxfc3BsaXQ6IFwiZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCBwYXJhZ3JhcGggdGV4dCB3ZWJzaXRlIHdyaXRpbmdcIixcbiAgdmlicmF0aW9uOiBcIkFuZHJvaWQgYWxlcnQgY2VsbCBkZXZpY2UgaGFyZHdhcmUgaU9TIG1vYmlsZSBtb2RlIG1vdGlvbiBub3RpZmljYXRpb24gcGhvbmUgc2lsZW5jZSBzaWxlbnQgdGFibGV0IHZpYnJhdGVcIixcbiAgdmlkZW9fY2FsbDogXCIrIGFkZCBjYW1lcmEgY2hhdCBjb25mZXJlbmNlIGZpbG1pbmcgaGFyZHdhcmUgaW1hZ2UgbW90aW9uIG5ldyBwaWN0dXJlIHBsdXMgc2NyZWVuIHN5bWJvbCB2aWRlb2dyYXBoeVwiLFxuICB2aWRlb2NhbTogXCJjYW1lcmEgY2hhdCBjb25mZXJlbmNlIGZpbG1pbmcgaGFyZHdhcmUgaW1hZ2UgbW90aW9uIHBpY3R1cmUgc2NyZWVuIHZpZGVvZ3JhcGh5XCIsXG4gIHZpZGVvX2NhbWVyYV9iYWNrOiBcImltYWdlIGxhbmRzY2FwZSBtb3VudGFpbnMgcGhvdG9ncmFwaHkgcGljdHVyZSByZWFyXCIsXG4gIHZpZGVvX2NhbWVyYV9mcm9udDogXCJhY2NvdW50IGZhY2UgaHVtYW4gaW1hZ2UgcGVvcGxlIHBlcnNvbiBwaG90b2dyYXBoeSBwaWN0dXJlIHByb2ZpbGUgdXNlclwiLFxuICB2aWRlb2NhbV9vZmY6IFwiY2FtZXJhIGNoYXQgY29uZmVyZW5jZSBkaXNhYmxlZCBlbmFibGVkIGZpbG1pbmcgaGFyZHdhcmUgaW1hZ2UgbW90aW9uIG9mZmxpbmUgcGljdHVyZSBzY3JlZW4gc2xhc2ggdmlkZW9ncmFwaHlcIixcbiAgdmlkZW9fZmlsZTogXCJjYW1lcmEgZG9jdW1lbnQgZmlsbWluZyBoYXJkd2FyZSBpbWFnZSBtb3Rpb24gcGljdHVyZSB2aWRlb2dyYXBoeVwiLFxuICB2aWRlb2dhbWVfYXNzZXQ6IFwiY29uc29sZSBjb250cm9sbGVyIGRldmljZSBnYW1lcGFkIGdhbWluZyBuaW50ZW5kbyBwbGF5c3RhdGlvbiB4Ym94XCIsXG4gIHZpZGVvZ2FtZV9hc3NldF9vZmY6IFwiY29uc29sZSBjb250cm9sbGVyIGRldmljZSBkaXNhYmxlZCBlbmFibGVkIGdhbWVwYWQgZ2FtaW5nIHBsYXlzdGF0aW9uIHNsYXNoXCIsXG4gIHZpZGVvX2xhYmVsOiBcImRldmljZSBpdGVtIHNjcmVlbiB3aW5kb3dcIixcbiAgdmlkZW9fbGlicmFyeTogXCJhcnJvdyBjb2xsZWN0aW9uIHBsYXlcIixcbiAgdmlkZW9fc2V0dGluZ3M6IFwiY2hhbmdlIGRldGFpbHMgZ2VhciBpbmZvcm1hdGlvbiBvcHRpb25zIHBsYXkgc2NyZWVuIHNlcnZpY2Ugd2luZG93XCIsXG4gIHZpZGVvX3N0YWJsZTogXCJmaWxtaW5nIHJlY29yZGluZyBzZXR0aW5nIHN0YWJpbGl0eSB0YXBpbmdcIixcbiAgdmlld19hZ2VuZGE6IFwiYmxvY2tzIGNhcmRzIGRlc2lnbiBmb3JtYXQgZ3JpZCBsYXlvdXQgd2Vic2l0ZSxzdGFja2VkXCIsXG4gIHZpZXdfYXJyYXk6IFwiYmxvY2tzIGRlc2lnbiBmb3JtYXQgZ3JpZCBsYXlvdXQgd2Vic2l0ZVwiLFxuICB2aWV3X2Nhcm91c2VsOiBcImJhbm5lciBibG9ja3MgY2FyZHMgZGVzaWduIGZvcm1hdCBncmlkIGltYWdlcyBsYXlvdXQgd2Vic2l0ZVwiLFxuICB2aWV3X2NvbHVtbjogXCJibG9ja3MgZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCB2ZXJ0aWNhbCB3ZWJzaXRlXCIsXG4gIHZpZXdfY29tZnk6IFwiZ3JpZCBsYXlvdXQgcGF0dGVybiBzcXVhcmVzXCIsXG4gIHZpZXdfY29tZnlfYWx0OiBcImNvenkgZGVzaWduIGZvcm1hdCBsYXlvdXQgd2ViXCIsXG4gIHZpZXdfY29tcGFjdDogXCJncmlkIGxheW91dCBwYXR0ZXJuIHNxdWFyZXNcIixcbiAgdmlld19jb21wYWN0X2FsdDogXCJkZW5zZSBkZXNpZ24gZm9ybWF0IGxheW91dCB3ZWJcIixcbiAgdmlld19jb3p5OiBcImNvbWZ5IGRlc2lnbiBmb3JtYXQgbGF5b3V0IHdlYlwiLFxuICB2aWV3X2RheTogXCJibG9ja3MgY2FsZW5kYXIgY2FyZHMgY2Fyb3VzZWwgZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCB3ZWJzaXRlIHdlZWtcIixcbiAgdmlld19oZWFkbGluZTogXCJibG9ja3MgZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCBwYXJhZ3JhcGggdGV4dCB3ZWJzaXRlXCIsXG4gIHZpZXdfaW5fYXI6IFwiM2QgYXVnbWVudGVkIGN1YmUgZGF5ZHJlYW0gaGVhZHNldCByZWFsaXR5IHNxdWFyZSB2clwiLFxuICB2aWV3X2thbmJhbjogXCJncmlkIGxheW91dCBwYXR0ZXJuIHNxdWFyZXNcIixcbiAgdmlld19saXN0OiBcImJsb2NrcyBkZXNpZ24gZm9ybWF0IGdyaWQgbGF5b3V0IGxpbmVzIHJlb3JkZXIgc3RhY2tlZCB0aXRsZSB3ZWJzaXRlXCIsXG4gIHZpZXdfbW9kdWxlOiBcImJsb2NrcyBkZXNpZ24gZm9ybWF0IGdyaWQgbGF5b3V0IHJlb3JkZXIgc3F1YXJlcyBzdGFja2VkIHRpdGxlIHdlYnNpdGVcIixcbiAgdmlld19xdWlsdDogXCJibG9ja3MgZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCByZW9yZGVyIHNxdWFyZXMgc3RhY2tlZCB0aXRsZSB3ZWJzaXRlXCIsXG4gIHZpZXdfc2lkZWJhcjogXCJkZXNpZ24gZm9ybWF0IGdyaWQgbGF5b3V0IHdlYlwiLFxuICB2aWV3X3N0cmVhbTogXCJibG9ja3MgZGVzaWduIGZvcm1hdCBncmlkIGxheW91dCBsaW5lcyBsaXN0IHJlb3JkZXIgc3RhY2tlZCB0aXRsZSB3ZWJzaXRlXCIsXG4gIHZpZXdfdGltZWxpbmU6IFwiZ3JpZCBsYXlvdXQgcGF0dGVybiBzcXVhcmVzXCIsXG4gIHZpZXdfd2VlazogXCJiYXJzIGJsb2NrcyBjb2x1bW5zIGRheSBkZXNpZ24gZm9ybWF0IGdyaWQgbGF5b3V0IHdlYnNpdGVcIixcbiAgdmlnbmV0dGU6IFwiYm9yZGVyIGVkaXRpbmcgZWZmZWN0IGZpbHRlciBncmFkaWVudCBpbWFnZSBwaG90b2dyYXBoeSBzZXR0aW5nXCIsXG4gIHZpbGxhOiBcImFyY2hpdGVjdHVyZSBiZWFjaCBlc3RhdGUgaG9tZSBob3VzZSBtYXBzIHBsYWNlIHJlYWwgcmVzaWRlbmNlIHJlc2lkZW50aWFsIHN0YXkgdHJhdmVsaW5nIHZhY2F0aW9uXCIsXG4gIHZpc2liaWxpdHk6IFwiZXllIG9uIHBhc3N3b3JkIHByZXZpZXcgcmV2ZWFsIHNlZSBzaG93biB2aXNhYmlsaXR5XCIsXG4gIHZpc2liaWxpdHlfb2ZmOiBcImRpc2FibGVkIGVuYWJsZWQgZXllIGhpZGRlbiBpbnZpc2libGUgb24gcGFzc3dvcmQgcmV2ZWFsIHNlZSBzaG93IHNsYXNoIHZpZXcgdmlzYWJpbGl0eVwiLFxuICB2b2ljZV9jaGF0OiBcImJ1YmJsZSBjYW1lcmEgY29tbWVudCBjb21tdW5pY2F0ZSBmYWNldGltZSBmZWVkYmFjayBtZXNzYWdlIHNwZWVjaCB2aWRlb1wiLFxuICB2b2ljZW1haWw6IFwiY2FsbCBkZXZpY2UgbWVzc2FnZSBtaXNzZWQgbW9iaWxlIHBob25lIHJlY29yZGluZ1wiLFxuICB2b2ljZV9vdmVyX29mZjogXCJhY2NvdW50IGRpc2FibGVkIGVuYWJsZWQgZmFjZSBodW1hbiBwZW9wbGUgcGVyc29uIHByb2ZpbGUgcmVjb3JkaW5nIHNsYXNoIHNwZWFraW5nIHNwZWVjaCB0cmFuc2NyaXB0IHVzZXJcIixcbiAgdm9sdW1lX2Rvd246IFwiYXVkaW8gYXYgY29udHJvbCBtdXNpYyBxdWlldGVyIHNoaCBzb2Z0IHNvdW5kIHNwZWFrZXIgdHZcIixcbiAgdm9sdW1lX211dGU6IFwiYXVkaW8gY29udHJvbCBtdXNpYyBzb3VuZCBzcGVha2VyIHR2XCIsXG4gIHZvbHVtZV9vZmY6IFwiYXVkaW8gYXYgY29udHJvbCBkaXNhYmxlZCBlbmFibGVkIGxvdyBtdXNpYyBtdXRlIHNsYXNoIHNvdW5kIHNwZWFrZXIgdHZcIixcbiAgdm9sdW1lX3VwOiBcImF1ZGlvIGNvbnRyb2wgbXVzaWMgc291bmQgc3BlYWtlciB0dlwiLFxuICB2b2x1bnRlZXJfYWN0aXZpc206IFwiZG9uYXRpb24gZmluZ2VycyBnZXN0dXJlIGdpdmluZyBoYW5kcyBoZWFydCBsb3ZlIHNoYXJpbmdcIixcbiAgdnBuX2tleTogXCJsb2dpbiBuZXR3b3JrIHBhc3Njb2RlIHBhc3N3b3JkIHJlZ2lzdGVyIHNlY3VyaXR5IHNpZ25pbiBzaWdudXAgdW5sb2NrXCIsXG4gIHZwbl9rZXlfb2ZmOiBcIltvZmZsaW5lXSBkaXNhYmxlZCBlbmFibGVkIG5ldHdvcmsgb24gcGFzc2NvZGUgcGFzc3dvcmQgc2xhc2ggdW5sb2NrXCIsXG4gIHZwbl9sb2NrOiBcImVhcnRoIGdsb2JlIGxvY2tlZCBuZXR3b3JrIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzZWN1cmUgc2VjdXJpdHkgdmlydHVhbCB3b3JsZFwiLFxuICB2cnBhbm86IFwiYW5nbGUgaW1hZ2UgbGFuZHNjYXBlIG1vdW50YWlucyBwYW5vcmFtYSBwaG90b2dyYXBoeSBwaWN0dXJlIHZpZXcgd2lkZVwiLFxuICB3YWxscGFwZXI6IFwiYmFja2dyb3VuZCBpbWFnZSBsYW5kc2NhcGUgcGhvdG9ncmFwaHkgcGljdHVyZVwiLFxuICB3YXJlaG91c2U6IFwiZ2FyYWdlIGluZHVzdHJ5IG1hbnVmYWN0dXJpbmcgc3RvcmFnZVwiLFxuICB3YXJuaW5nOiBcIiEgYWxlcnQgYW5ub3VuY2VtZW50IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBlcnJvciBleGNsYW1hdGlvbiBmZWVkYmFjayBpbXBvcnRhbnQgbWFyayBub3RpZmljYXRpb24gcHJvYmxlbSBzeW1ib2wgdHJpYW5nbGVcIixcbiAgd2FybmluZ19hbWJlcjogXCIhIGFsZXJ0IGF0dGVudGlvbiBjYXV0aW9uIGRhbmdlciBlcnJvciBleGNsYW1hdGlvbiBpbXBvcnRhbnQgbWFyayBub3RpZmljYXRpb24gc3ltYm9sIHRyaWFuZ2xlXCIsXG4gIHdhc2g6IFwiYmF0aHJvb20gY2xlYW4gZmluZ2VycyBnZXN0dXJlIGhhbmQgd2NcIixcbiAgd2F0Y2g6IFwiQW5kcm9pZCBjbG9jayBnYWRnZXQgaU9TIHNtYXJ0d2F0Y2ggdGltZSB2ciB3ZWFyYWJsZXMgd2ViIHdyaXN0d2F0Y2hcIixcbiAgd2F0Y2hfbGF0ZXI6IFwiY2xvY2sgZGF0ZSBob3VyIG1pbnV0ZSBzY2hlZHVsZSB0aW1lXCIsXG4gIHdhdGNoX29mZjogXCJBbmRyb2lkIGNsb2NrIGNsb3NlIGdhZGdldCBpT1Mgc2h1dCB0aW1lIHZyIHdlYXJhYmxlcyB3ZWIgd3Jpc3R3YXRjaFwiLFxuICB3YXRlcjogXCJhcXVhIGJlYWNoIGxha2Ugb2NlYW4gcml2ZXIgd2F2ZXMgd2VhdGhlclwiLFxuICB3YXRlcl9kYW1hZ2U6IFwiYXJjaGl0ZWN0dXJlIGJ1aWxkaW5nIGRyb3BsZXQgZXN0YXRlIGhvdXNlIGxlYWsgcGx1bWJpbmcgcmVhbCByZXNpZGVuY2UgcmVzaWRlbnRpYWwgc2hlbHRlclwiLFxuICB3YXRlcmZhbGxfY2hhcnQ6IFwiYW5hbHl0aWNzIGJhciBkYXRhIGRpYWdyYW0gaW5mb2dyYXBoaWMgbWVhc3VyZSBtZXRyaWNzIHN0YXRpc3RpY3MgdHJhY2tpbmdcIixcbiAgd2F2ZXM6IFwiYmVhY2ggbGFrZSBvY2VhbiBwb29sIHJpdmVyIHNlYSBzd2ltIHdhdGVyXCIsXG4gIHdiX2F1dG86IFwiQSBXIGFscGhhYmV0IGF1dG9tYXRpYyBiYWxhbmNlIGNoYXJhY3RlciBlZGl0aW5nIGZvbnQgaW1hZ2UgbGV0dGVyIHBob3RvZ3JhcGh5IHN5bWJvbCB0ZXh0IHR5cGUgd2hpdGUgd3BcIixcbiAgd2JfY2xvdWR5OiBcImJhbGFuY2UgZWRpdGluZyB3aGl0ZSB3cFwiLFxuICB3Yl9pbmNhbmRlc2NlbnQ6IFwiYmFsYW5jZSBicmlnaHQgZWRpdGluZyBsYW1wIGxpZ2h0YnVsYiBsaWdodGluZyBzZXR0aW5ncyB3aGl0ZSB3cFwiLFxuICB3Yl9pcmlkZXNjZW50OiBcImJhbGFuY2UgYnJpZ2h0IGVkaXRpbmcgbGlnaHRpbmcgc2V0dGluZ3Mgd2hpdGUgd3BcIixcbiAgd2Jfc2hhZGU6IFwiYmFsYW5jZSBob3VzZSBsaWdodGluZyB3aGl0ZVwiLFxuICB3Yl9zdW5ueTogXCJiYWxhbmNlIGJyaWdodCBsaWdodGluZyB3ZWF0aGVyIHdoaXRlXCIsXG4gIHdjOiBcImJhdGhyb29tIGNsb3NldCBmZW1hbGUgZ2VuZGVyIG1hbiBwZXJzb24gcmVzdHJvb20gdG9pbGV0IHVuaXNleCB3YXNoIHdhdGVyIHdvbWVuXCIsXG4gIHdlYjogXCJibG9ja3MgYnJvd3NlciBpbnRlcm5ldCBwYWdlIHNjcmVlbiB3ZWJzaXRlIHd3d1wiLFxuICB3ZWJfYXNzZXQ6IFwiLXdlYnNpdGUgYXBwbGljYXRpb24gYnJvd3NlciBkZXNpZ24gZGVza3RvcCBkb3dubG9hZCBpbWFnZSBpbnRlcmZhY2UgaW50ZXJuZXQgbGF5b3V0IHNjcmVlbiB1aSB1eCB2aWRlbyB3aW5kb3cgd3d3XCIsXG4gIHdlYl9hc3NldF9vZmY6IFwiYnJvd3NlciBkaXNhYmxlZCBlbmFibGVkIGludGVybmV0IG9uIHNjcmVlbiBzbGFzaCB3ZWJwYWdlIHdlYnNpdGUgd2luZG93cyB3d3dcIixcbiAgd2ViaG9vazogXCJhcGkgZGV2ZWxvcGVyIGRldmVsb3BtZW50IGVudGVycHJpc2Ugc29mdHdhcmVcIixcbiAgd2Vla2VuZDogXCJjaGFpciBjb3VjaCBmdXJuaXR1cmUgaG9tZSBsaXZpbmcgbG91bmdlIHJlbGF4IHJvb20gc2VhdFwiLFxuICB3ZXN0OiBcImFycm93IGRpcmVjdGlvbmFsIGxlZnQgbWFwcyBuYXZpZ2F0aW9uXCIsXG4gIHdoYXRzaG90OiBcImFycm93IGNpcmNsZSBkaXJlY3Rpb24gZmlyZSBmcmFtZXMgcm91bmQgdHJlbmRpbmdcIixcbiAgd2hlZWxjaGFpcl9waWNrdXA6IFwiYWNjZXNzaWJpbGl0eSBhY2Nlc3NpYmxlIGJvZHkgaGFuZGljYXAgaGVscCBodW1hbiBwZXJzb25cIixcbiAgd2hlcmVfdG9fdm90ZTogXCJhcHByb3ZlIGJhbGxvdCBjaGVjayBjb21wbGV0ZSBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZG9uZSBlbGVjdGlvbiBsb2NhdGlvbiBtYXBzIG1hcmsgb2sgcGluIHBsYWNlIHBvbGwgc2VsZWN0IHN0b3AgdGljayB2YWxpZGF0ZSB2ZXJpZmllZCB5ZXNcIixcbiAgd2lkZ2V0czogXCJhcHAgYmxvY2tzIGJveCBtZW51IHNldHRpbmcgc3F1YXJlcyB1aVwiLFxuICB3aWZpOiBcImNvbm5lY3Rpb24gZGF0YSBpbnRlcm5ldCBuZXR3b3JrIHNjYW4gc2VydmljZSBzaWduYWwgd2lyZWxlc3NcIixcbiAgd2lmaV9jYWxsaW5nOiBcImNlbGwgY29ubmVjdGlvbiBjb25uZWN0aXZpdHkgY29udGFjdCBkZXZpY2UgaGFyZHdhcmUgbW9iaWxlIHNpZ25hbCB0ZWxlcGhvbmUgd2lyZWxlc3NcIixcbiAgd2lmaV9jYWxsaW5nXzM6IFwiY2VsbHVsYXIgZGF0YSBpbnRlcm5ldCBtb2JpbGUgbmV0d29yayBwaG9uZSBzcGVlZCB3aXJlbGVzc1wiLFxuICB3aWZpX2NoYW5uZWw6IFwiKHNjYW4pIFtjZWxsdWxhciBjb25uZWN0aW9uIGRhdGEgaW50ZXJuZXQgbW9iaWxlXSBuZXR3b3JrIHNlcnZpY2Ugc2lnbmFsIHdpcmVsZXNzXCIsXG4gIHdpZmlfZmluZDogXCIoc2NhbikgW2NlbGx1bGFyIGNvbm5lY3Rpb24gZGF0YSBkZXRlY3QgZGlzY292ZXIgZ2xhc3MgaW50ZXJuZXQgbG9vayBtYWduaWZ5aW5nIG1vYmlsZV0gbmV0d29yayBub3RpY2Ugc2VhcmNoIHNlcnZpY2Ugc2lnbmFsIHdpcmVsZXNzXCIsXG4gIHdpZmlfbG9jazogXCJjZWxsdWxhciBjb25uZWN0aW9uIGRhdGEgaW50ZXJuZXQgbG9ja2VkIG1vYmlsZSBuZXR3b3JrIHBhc3N3b3JkIHByaXZhY3kgcHJpdmF0ZSBwcm90ZWN0aW9uIHNhZmV0eSBzZWN1cmUgc2VjdXJpdHkgc2VydmljZSBzaWduYWwgd2lyZWxlc3NcIixcbiAgd2lmaV9vZmY6IFwiY29ubmVjdGlvbiBkYXRhIGRpc2FibGVkIGVuYWJsZWQgaW50ZXJuZXQgbmV0d29yayBvZmZsaW5lIHNjYW4gc2VydmljZSBzaWduYWwgc2xhc2ggd2lyZWxlc3NcIixcbiAgd2lmaV9wYXNzd29yZDogXCIoc2NhbikgW2NlbGx1bGFyIGNvbm5lY3Rpb24gZGF0YSBpbnRlcm5ldCBsb2NrIG1vYmlsZV0gbmV0d29yayBzZWN1cmUgc2VydmljZSBzaWduYWwgd2lyZWxlc3NcIixcbiAgd2lmaV9wcm90ZWN0ZWRfc2V0dXA6IFwiYXJvdW5kIGFycm93cyByb3RhdGVcIixcbiAgd2lmaV90ZXRoZXJpbmc6IFwiY2VsbHVsYXIgY29ubmVjdGlvbiBkYXRhIGludGVybmV0IG1vYmlsZSBuZXR3b3JrIHBob25lIHNjYW4gc2VydmljZSBzaWduYWwgc3BlZWQgd2lyZWxlc3NcIixcbiAgd2lmaV90ZXRoZXJpbmdfb2ZmOiBcImNlbGx1bGFyIGNvbm5lY3Rpb24gZGF0YSBkaXNhYmxlZCBlbmFibGVkIGludGVybmV0IG1vYmlsZSBuZXR3b3JrIG9mZmxpbmUgcGhvbmUgc2NhbiBzZXJ2aWNlIHNpZ25hbCBzbGFzaCBzcGVlZCB3aXJlbGVzc1wiLFxuICB3aW5kb3c6IFwiY2xvc2UgZ2xhc3MgZ3JpZCBob21lIGhvdXNlIGludGVyaW9yIGxheW91dCBvdXRzaWRlXCIsXG4gIHdpbmRfcG93ZXI6IFwiZWNvIGVuZXJneSBuZXN0IHdpbmR5XCIsXG4gIHdpbmVfYmFyOiBcImFsY29ob2wgY29ja3RhaWwgY3VwIGRyaW5rIGdsYXNzIGxpcXVvclwiLFxuICB3b3JrOiBcIi1icmllZmNhc2UgYmFnZ2FnZSBidXNpbmVzcyBqb2Igc3VpdGNhc2VcIixcbiAgd29ya19oaXN0b3J5OiBcImFycm93IGJhY2t3YXJkcyBiYWdnYWdlIGJyaWVmY2FzZSBidXNpbmVzcyBjbG9jayBkYXRlIGpvYiByZWZyZXNoIHJlbmV3IHJldmVyc2Ugcm90YXRlIHNjaGVkdWxlIHN1aXRjYXNlIHRpbWUgdHVyblwiLFxuICB3b3JrX29mZjogXCJiYWdnYWdlIGJyaWVmY2FzZSBidXNpbmVzcyBkaXNhYmxlZCBlbmFibGVkIGpvYiBvbiBzbGFzaCBzdWl0Y2FzZVwiLFxuICB3b3JrX291dGxpbmU6IFwiYmFnZ2FnZSBicmllZmNhc2UgYnVzaW5lc3Mgam9iIHN1aXRjYXNlXCIsXG4gIHdvcmtzcGFjZV9wcmVtaXVtOiBcImNlcnRpZmljYXRpb24gZGVncmVlIGVjb21tZXJjZSBndWFyYW50ZWUgbWVkYWwgcGVybWl0IHJpYmJvbiB2ZXJpZmljYXRpb25cIixcbiAgd29ya3NwYWNlczogXCJjaXJjbGVzIGNvbGxhYm9yYXRpb24gZG90IGZpbGxlZCBncm91cCB0ZWFtXCIsXG4gIHdyYXBfdGV4dDogXCJhcnJvdyBkb2MgZWRpdGluZyBlZGl0b3Igc3ByZWFkc2hlZXQgdHlwZSB3cml0ZSB3cml0aW5nXCIsXG4gIHdyb25nX2xvY2F0aW9uOiBcImNhbmNlbCBjbG9zZSBkZXN0aW5hdGlvbiBkaXJlY3Rpb24gZXhpdCBtYXBzIG5vIHBpbiBwbGFjZSBxdWl0IHJlbW92ZSBzdG9wXCIsXG4gIHd5c2l3eWc6IFwiY29tcG9zZXIgbW9kZSBzY3JlZW4gc29mdHdhcmUgc3lzdGVtIHRleHQgdmlldyB2aXNpYmlsaXR5IHdlYnNpdGUgd2luZG93XCIsXG4gIHlhcmQ6IFwiYmFja3lhcmQgZmxvd2VyIGdhcmRlbiBob21lIGhvdXNlIG5hdHVyZSBwZXR0bGUgcGxhbnRzXCIsXG4gIHlvdXR1YmVfc2VhcmNoZWRfZm9yOiBcImFycm93IGJhY2t3YXJkcyBmaW5kIGdsYXNzIGhpc3RvcnkgaW5wcm9ncmVzcyBsb2FkaW5nIGxvb2sgbWFnbmlmeWluZyByZWZyZXNoIHJlbmV3IHJlc3RvcmUgcmV2ZXJzZSByb3RhdGUgc2VlIHl0XCIsXG4gIHpvb21faW46IFwiYmlnZ2VyIGZpbmQgZ2xhc3MgZ3JvdyBsb29rIG1hZ25pZmllciBtYWduaWZ5aW5nIHBsdXMgc2NhbGUgc2VhcmNoIHNlZSBzaXplXCIsXG4gIHpvb21faW5fbWFwOiBcImFycm93cyBkZXN0aW5hdGlvbiBsb2NhdGlvbiBtYXBzIG1vdmUgcGxhY2Ugc3RvcFwiLFxuICB6b29tX291dDogXCJmaW5kIGdsYXNzIGxvb2sgbWFnbmlmaWVyIG1hZ25pZnlpbmcgbWludXMgbmVnYXRpdmUgc2NhbGUgc2VhcmNoIHNlZSBzaXplIHNtYWxsZXJcIixcbiAgem9vbV9vdXRfbWFwOiBcImFycm93cyBkZXN0aW5hdGlvbiBsb2NhdGlvbiBtYXBzIG1vdmUgcGxhY2Ugc3RvcFwiXG59O1xuY29uc3QgbWFwID0gaWNvbktleXMubWFwKChpbXBvcnROYW1lKSA9PiB7XG4gIGNvbnN0IGljb25TeW5vbnltID0gaW1wb3J0TmFtZSBpbiBpY29uU3lub255bXMgPyBpY29uU3lub255bXNbaW1wb3J0TmFtZV0gOiBcIlwiO1xuICByZXR1cm4ge1xuICAgIGtleTogaW1wb3J0TmFtZSxcbiAgICBzeW5vbnltczogaWNvblN5bm9ueW1cbiAgfTtcbn0pO1xuY29uc3QgaWNvbnNTZWFyY2ggPSBuZXcgRnVzZShtYXAsIHtcbiAgaXNDYXNlU2Vuc2l0aXZlOiBmYWxzZSxcbiAgc2hvdWxkU29ydDogdHJ1ZSxcbiAgaWdub3JlTG9jYXRpb246IHRydWUsXG4gIGRpc3RhbmNlOiAwLFxuICBrZXlzOiBbXCJrZXlcIiwgXCJzeW5vbnltc1wiXVxufSk7XG5mdW5jdGlvbiBoYXNoU3RyaW5nKHN0cikge1xuICBsZXQgaGFzaDIgPSAwO1xuICBsZXQgaTtcbiAgbGV0IGNocjtcbiAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2gyID0gKGhhc2gyIDw8IDUpIC0gaGFzaDIgKyBjaHI7XG4gICAgaGFzaDIgfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaDIpO1xufVxuZnVuY3Rpb24gZ2V0SWNvbihpY29uS2V5LCBjbGFzc05hbWUsIGNvbG9yKSB7XG4gIGlmICghaWNvbktleSkgcmV0dXJuIHZvaWQgMDtcbiAgaWNvbktleSA9IHNsdWdpZnkoaWNvbktleSk7XG4gIGlmICghKGljb25LZXkgaW4gaWNvbktleXNNYXApKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gaWNvbktleSBpbiBpY29uS2V5c01hcCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbiwgeyBpY29uS2V5LCBzaXplOiBcIm1lZGl1bVwiLCBjbGFzc05hbWUsIGNvbG9yIH0pIDogdm9pZCAwO1xufVxuY29uc3QgSWNvbkZvclZpZXcgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIEljb25Gb3JWaWV3Mih0MCkge1xuICBjb25zdCAkID0gYygxNCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsZWN0aW9uT3JWaWV3LFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb2xvcixcbiAgICBzaXplOiB0MVxuICB9ID0gdDA7XG4gIGNvbnN0IHNpemUgPSB0MSA9PT0gdm9pZCAwID8gXCJtZWRpdW1cIiA6IHQxO1xuICBpZiAoIWNvbGxlY3Rpb25PclZpZXcpIHtcbiAgICBsZXQgdDIyO1xuICAgIGlmICgkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDIyID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwge30pO1xuICAgICAgJFswXSA9IHQyMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDIyID0gJFswXTtcbiAgICB9XG4gICAgcmV0dXJuIHQyMjtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzFdICE9PSBjbGFzc05hbWUgfHwgJFsyXSAhPT0gY29sbGVjdGlvbk9yVmlldy5pY29uIHx8ICRbM10gIT09IGNvbG9yKSB7XG4gICAgdDIgPSBnZXRJY29uKGNvbGxlY3Rpb25PclZpZXcuaWNvbiwgY2xhc3NOYW1lLCBjb2xvcik7XG4gICAgJFsxXSA9IGNsYXNzTmFtZTtcbiAgICAkWzJdID0gY29sbGVjdGlvbk9yVmlldy5pY29uO1xuICAgICRbM10gPSBjb2xvcjtcbiAgICAkWzRdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzRdO1xuICB9XG4gIGNvbnN0IGljb24gPSB0MjtcbiAgaWYgKGNvbGxlY3Rpb25PclZpZXc/Lmljb24gJiYgaWNvbikge1xuICAgIHJldHVybiBpY29uO1xuICB9XG4gIGNvbnN0IHQzID0gKFwic2luZ3VsYXJOYW1lXCIgaW4gY29sbGVjdGlvbk9yVmlldyA/IGNvbGxlY3Rpb25PclZpZXcuc2luZ3VsYXJOYW1lIDogdm9pZCAwKSA/PyBjb2xsZWN0aW9uT3JWaWV3Lm5hbWU7XG4gIGxldCB0NDtcbiAgaWYgKCRbNV0gIT09IHQzKSB7XG4gICAgdDQgPSBzbHVnaWZ5KHQzKTtcbiAgICAkWzVdID0gdDM7XG4gICAgJFs2XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs2XTtcbiAgfVxuICBsZXQgc2x1Z05hbWUgPSB0NDtcbiAgbGV0IGtleTtcbiAgaWYgKHNsdWdOYW1lIGluIGljb25LZXlzTWFwKSB7XG4gICAga2V5ID0gc2x1Z05hbWU7XG4gIH1cbiAgaWYgKCFrZXkpIHtcbiAgICBsZXQgdDUyO1xuICAgIGlmICgkWzddICE9PSBjb2xsZWN0aW9uT3JWaWV3LnBhdGgpIHtcbiAgICAgIHQ1MiA9IHNsdWdpZnkoY29sbGVjdGlvbk9yVmlldy5wYXRoKTtcbiAgICAgICRbN10gPSBjb2xsZWN0aW9uT3JWaWV3LnBhdGg7XG4gICAgICAkWzhdID0gdDUyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NTIgPSAkWzhdO1xuICAgIH1cbiAgICBzbHVnTmFtZSA9IHQ1MjtcbiAgICBpZiAoc2x1Z05hbWUgaW4gaWNvbktleXNNYXApIHtcbiAgICAgIGtleSA9IHNsdWdOYW1lO1xuICAgIH1cbiAgfVxuICBjb25zdCBpY29uc0NvdW50ID0gY29vbEljb25LZXlzLmxlbmd0aDtcbiAgaWYgKCFrZXkpIHtcbiAgICBrZXkgPSBjb29sSWNvbktleXNbaGFzaFN0cmluZyhjb2xsZWN0aW9uT3JWaWV3LnBhdGgpICUgaWNvbnNDb3VudF07XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFs5XSAhPT0gY2xhc3NOYW1lIHx8ICRbMTBdICE9PSBjb2xvciB8fCAkWzExXSAhPT0ga2V5IHx8ICRbMTJdICE9PSBzaXplKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KEljb24sIHsgaWNvbktleToga2V5LCBzaXplLCBjbGFzc05hbWUsIGNvbG9yIH0pO1xuICAgICRbOV0gPSBjbGFzc05hbWU7XG4gICAgJFsxMF0gPSBjb2xvcjtcbiAgICAkWzExXSA9IGtleTtcbiAgICAkWzEyXSA9IHNpemU7XG4gICAgJFsxM10gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTNdO1xuICB9XG4gIHJldHVybiB0NTtcbn0sIChwcmV2UHJvcHMsIG5leHRQcm9wcykgPT4ge1xuICByZXR1cm4gZXF1YWwocHJldlByb3BzLmNvbGxlY3Rpb25PclZpZXc/Lmljb24sIG5leHRQcm9wcy5jb2xsZWN0aW9uT3JWaWV3Py5pY29uKSAmJiBlcXVhbChwcmV2UHJvcHMuY29sb3IsIG5leHRQcm9wcy5jb2xvcik7XG59KTtcbmNvbnN0IGljb25LZXlzTWFwID0gaWNvbktleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICBhY2Nba2V5XSA9IGtleTtcbiAgcmV0dXJuIGFjYztcbn0sIHt9KTtcbmZ1bmN0aW9uIHBsdXJhbCh3b3JkLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCAhPT0gdm9pZCAwICYmIGFtb3VudCA9PT0gMSkge1xuICAgIHJldHVybiB3b3JkO1xuICB9XG4gIGNvbnN0IHBsdXJhbHMgPSB7XG4gICAgXCIocXVpeikkXCI6IFwiJDF6ZXNcIixcbiAgICBcIl4ob3gpJFwiOiBcIiQxZW5cIixcbiAgICBcIihbbXxsXSlvdXNlJFwiOiBcIiQxaWNlXCIsXG4gICAgXCIobWF0cnx2ZXJ0fGluZClpeHxleCRcIjogXCIkMWljZXNcIixcbiAgICBcIih4fGNofHNzfHNoKSRcIjogXCIkMWVzXCIsXG4gICAgXCIoW15hZWlvdXldfHF1KXkkXCI6IFwiJDFpZXNcIixcbiAgICBcIihoaXZlKSRcIjogXCIkMXNcIixcbiAgICBcIig/OihbXmZdKWZlfChbbHJdKWYpJFwiOiBcIiQxJDJ2ZXNcIixcbiAgICBcIihzaGVhfGxlYXxsb2F8dGhpZSlmJFwiOiBcIiQxdmVzXCIsXG4gICAgc2lzJDogXCJzZXNcIixcbiAgICBcIihbdGldKXVtJFwiOiBcIiQxYVwiLFxuICAgIFwiKHRvbWF0fHBvdGF0fGVjaHxoZXJ8dmV0KW8kXCI6IFwiJDFvZXNcIixcbiAgICBcIihidSlzJFwiOiBcIiQxc2VzXCIsXG4gICAgXCIoYWxpYXMpJFwiOiBcIiQxZXNcIixcbiAgICBcIihvY3RvcCl1cyRcIjogXCIkMWlcIixcbiAgICBcIihheHx0ZXN0KWlzJFwiOiBcIiQxZXNcIixcbiAgICBcIih1cykkXCI6IFwiJDFlc1wiLFxuICAgIFwiKFtec10rKSRcIjogXCIkMXNcIlxuICB9O1xuICBjb25zdCBpcnJlZ3VsYXIgPSB7XG4gICAgbW92ZTogXCJtb3Zlc1wiLFxuICAgIGZvb3Q6IFwiZmVldFwiLFxuICAgIGdvb3NlOiBcImdlZXNlXCIsXG4gICAgc2V4OiBcInNleGVzXCIsXG4gICAgY2hpbGQ6IFwiY2hpbGRyZW5cIixcbiAgICBtYW46IFwibWVuXCIsXG4gICAgdG9vdGg6IFwidGVldGhcIixcbiAgICBwZXJzb246IFwicGVvcGxlXCJcbiAgfTtcbiAgY29uc3QgdW5jb3VudGFibGUgPSBbXCJzaGVlcFwiLCBcImZpc2hcIiwgXCJkZWVyXCIsIFwibW9vc2VcIiwgXCJzZXJpZXNcIiwgXCJzcGVjaWVzXCIsIFwibW9uZXlcIiwgXCJyaWNlXCIsIFwiaW5mb3JtYXRpb25cIiwgXCJlcXVpcG1lbnRcIiwgXCJiaXNvblwiLCBcImNvZFwiLCBcIm9mZnNwcmluZ1wiLCBcInBpa2VcIiwgXCJzYWxtb25cIiwgXCJzaHJpbXBcIiwgXCJzd2luZVwiLCBcInRyb3V0XCIsIFwiYWlyY3JhZnRcIiwgXCJob3ZlcmNyYWZ0XCIsIFwic3BhY2VjcmFmdFwiLCBcInN1Z2FyXCIsIFwidHVuYVwiLCBcInlvdVwiLCBcIndvb2RcIl07XG4gIGlmICh1bmNvdW50YWJsZS5pbmRleE9mKHdvcmQudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xuICAgIHJldHVybiB3b3JkO1xuICB9XG4gIGZvciAoY29uc3QgdyBpbiBpcnJlZ3VsYXIpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgJHt3fSRgLCBcImlcIik7XG4gICAgY29uc3QgcmVwbGFjZSA9IGlycmVndWxhclt3XTtcbiAgICBpZiAocGF0dGVybi50ZXN0KHdvcmQpKSB7XG4gICAgICByZXR1cm4gd29yZC5yZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2UpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHJlZyBpbiBwbHVyYWxzKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAocmVnLCBcImlcIik7XG4gICAgaWYgKHBhdHRlcm4udGVzdCh3b3JkKSkge1xuICAgICAgcmV0dXJuIHdvcmQucmVwbGFjZShwYXR0ZXJuLCBwbHVyYWxzW3JlZ10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gd29yZDtcbn1cbmZ1bmN0aW9uIHNpbmd1bGFyKHdvcmQsIGFtb3VudCkge1xuICBpZiAoYW1vdW50ICE9PSB2b2lkIDAgJiYgYW1vdW50ICE9PSAxKSB7XG4gICAgcmV0dXJuIHdvcmQ7XG4gIH1cbiAgY29uc3Qgc2luZ3VsYXJzID0ge1xuICAgIFwiKHF1aXopemVzJFwiOiBcIiQxXCIsXG4gICAgXCIobWF0cilpY2VzJFwiOiBcIiQxaXhcIixcbiAgICBcIih2ZXJ0fGluZClpY2VzJFwiOiBcIiQxZXhcIixcbiAgICBcIl4ob3gpZW4kXCI6IFwiJDFcIixcbiAgICBcIihhbGlhcyllcyRcIjogXCIkMVwiLFxuICAgIFwiKG9jdG9wfHZpcilpJFwiOiBcIiQxdXNcIixcbiAgICBcIihjcmlzfGF4fHRlc3QpZXMkXCI6IFwiJDFpc1wiLFxuICAgIFwiKHNob2UpcyRcIjogXCIkMVwiLFxuICAgIFwiKG8pZXMkXCI6IFwiJDFcIixcbiAgICBcIihidXMpZXMkXCI6IFwiJDFcIixcbiAgICBcIihbbXxsXSlpY2UkXCI6IFwiJDFvdXNlXCIsXG4gICAgXCIoeHxjaHxzc3xzaCllcyRcIjogXCIkMVwiLFxuICAgIFwiKG0pb3ZpZXMkXCI6IFwiJDFvdmllXCIsXG4gICAgXCIocyllcmllcyRcIjogXCIkMWVyaWVzXCIsXG4gICAgXCIoW15hZWlvdXldfHF1KWllcyRcIjogXCIkMXlcIixcbiAgICBcIihbbHJdKXZlcyRcIjogXCIkMWZcIixcbiAgICBcIih0aXZlKXMkXCI6IFwiJDFcIixcbiAgICBcIihoaXZlKXMkXCI6IFwiJDFcIixcbiAgICBcIihsaXx3aXxrbmkpdmVzJFwiOiBcIiQxZmVcIixcbiAgICBcIihzaGVhfGxvYXxsZWF8dGhpZSl2ZXMkXCI6IFwiJDFmXCIsXG4gICAgXCIoXmFuYWx5KXNlcyRcIjogXCIkMXNpc1wiLFxuICAgIFwiKChhKW5hbHl8KGIpYXwoZClpYWdub3wocClhcmVudGhlfChwKXJvZ25vfChzKXlub3B8KHQpaGUpc2VzJFwiOiBcIiQxJDJzaXNcIixcbiAgICBcIihbdGldKWEkXCI6IFwiJDF1bVwiLFxuICAgIFwiKG4pZXdzJFwiOiBcIiQxZXdzXCIsXG4gICAgXCIoaHxibClvdXNlcyRcIjogXCIkMW91c2VcIixcbiAgICBcIihjb3Jwc2UpcyRcIjogXCIkMVwiLFxuICAgIFwiKHVzKWVzJFwiOiBcIiQxXCIsXG4gICAgcyQ6IFwiXCJcbiAgfTtcbiAgY29uc3QgaXJyZWd1bGFyID0ge1xuICAgIG1vdmU6IFwibW92ZXNcIixcbiAgICBmb290OiBcImZlZXRcIixcbiAgICBnb29zZTogXCJnZWVzZVwiLFxuICAgIHNleDogXCJzZXhlc1wiLFxuICAgIGNoaWxkOiBcImNoaWxkcmVuXCIsXG4gICAgbWFuOiBcIm1lblwiLFxuICAgIHRvb3RoOiBcInRlZXRoXCIsXG4gICAgcGVyc29uOiBcInBlb3BsZVwiXG4gIH07XG4gIGNvbnN0IHVuY291bnRhYmxlID0gW1wic2hlZXBcIiwgXCJmaXNoXCIsIFwiZGVlclwiLCBcIm1vb3NlXCIsIFwic2VyaWVzXCIsIFwic3BlY2llc1wiLCBcIm1vbmV5XCIsIFwicmljZVwiLCBcImluZm9ybWF0aW9uXCIsIFwiZXF1aXBtZW50XCIsIFwiYmlzb25cIiwgXCJjb2RcIiwgXCJvZmZzcHJpbmdcIiwgXCJwaWtlXCIsIFwic2FsbW9uXCIsIFwic2hyaW1wXCIsIFwic3dpbmVcIiwgXCJ0cm91dFwiLCBcImFpcmNyYWZ0XCIsIFwiaG92ZXJjcmFmdFwiLCBcInNwYWNlY3JhZnRcIiwgXCJzdWdhclwiLCBcInR1bmFcIiwgXCJ5b3VcIiwgXCJ3b29kXCJdO1xuICBpZiAodW5jb3VudGFibGUuaW5kZXhPZih3b3JkLnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICByZXR1cm4gd29yZDtcbiAgfVxuICBmb3IgKGNvbnN0IHcgaW4gaXJyZWd1bGFyKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYCR7aXJyZWd1bGFyW3ddfSRgLCBcImlcIik7XG4gICAgaWYgKHBhdHRlcm4udGVzdCh3b3JkKSkge1xuICAgICAgcmV0dXJuIHdvcmQucmVwbGFjZShwYXR0ZXJuLCB3KTtcbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCByZWcgaW4gc2luZ3VsYXJzKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAocmVnLCBcImlcIik7XG4gICAgaWYgKHBhdHRlcm4udGVzdCh3b3JkKSkge1xuICAgICAgcmV0dXJuIHdvcmQucmVwbGFjZShwYXR0ZXJuLCBzaW5ndWxhcnNbcmVnXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB3b3JkO1xufVxuZnVuY3Rpb24gZ2V0RW50aXR5UHJldmlld0tleXModGFyZ2V0Q29sbGVjdGlvbiwgZmllbGRzLCBwcmV2aWV3UHJvcGVydGllcywgbGltaXQgPSAzKSB7XG4gIGNvbnN0IGFsbFByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyh0YXJnZXRDb2xsZWN0aW9uLnByb3BlcnRpZXMpO1xuICBsZXQgbGlzdFByb3BlcnRpZXMgPSBwcmV2aWV3UHJvcGVydGllcz8uZmlsdGVyKChwKSA9PiBhbGxQcm9wZXJ0aWVzLmluY2x1ZGVzKHApKTtcbiAgaWYgKCFsaXN0UHJvcGVydGllcyAmJiB0YXJnZXRDb2xsZWN0aW9uLnByZXZpZXdQcm9wZXJ0aWVzKSB7XG4gICAgbGlzdFByb3BlcnRpZXMgPSB0YXJnZXRDb2xsZWN0aW9uLnByZXZpZXdQcm9wZXJ0aWVzPy5maWx0ZXIoKHApID0+IGFsbFByb3BlcnRpZXMuaW5jbHVkZXMocCkpO1xuICB9XG4gIGlmIChsaXN0UHJvcGVydGllcyAmJiBsaXN0UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGxpc3RQcm9wZXJ0aWVzO1xuICB9IGVsc2Uge1xuICAgIGxpc3RQcm9wZXJ0aWVzID0gYWxsUHJvcGVydGllcztcbiAgICByZXR1cm4gbGlzdFByb3BlcnRpZXMuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHByb3BlcnR5T3JCdWlsZGVyID0gdGFyZ2V0Q29sbGVjdGlvbi5wcm9wZXJ0aWVzW2tleV07XG4gICAgICByZXR1cm4gcHJvcGVydHlPckJ1aWxkZXIgJiYgIWlzUHJvcGVydHlCdWlsZGVyKHByb3BlcnR5T3JCdWlsZGVyKSAmJiAhaXNSZWZlcmVuY2VQcm9wZXJ0eShwcm9wZXJ0eU9yQnVpbGRlciwgZmllbGRzKTtcbiAgICB9KS5zbGljZSgwLCBsaW1pdCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEVudGl0eVRpdGxlUHJvcGVydHlLZXkoY29sbGVjdGlvbiwgcHJvcGVydHlDb25maWdzKSB7XG4gIGlmIChjb2xsZWN0aW9uLnRpdGxlUHJvcGVydHkpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbi50aXRsZVByb3BlcnR5O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGNvbGxlY3Rpb24ucHJvcGVydGllcykge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gY29sbGVjdGlvbi5wcm9wZXJ0aWVzW2tleV07XG4gICAgaWYgKCFpc1Byb3BlcnR5QnVpbGRlcihwcm9wZXJ0eSkpIHtcbiAgICAgIGNvbnN0IGZpZWxkID0gZ2V0RmllbGRDb25maWcocHJvcGVydHksIHByb3BlcnR5Q29uZmlncyk7XG4gICAgICBpZiAoZmllbGQ/LmtleSA9PT0gXCJ0ZXh0X2ZpZWxkXCIpIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGdldEVudGl0eUltYWdlUHJldmlld1Byb3BlcnR5S2V5KGNvbGxlY3Rpb24pIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gY29sbGVjdGlvbi5wcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBjb2xsZWN0aW9uLnByb3BlcnRpZXNba2V5XTtcbiAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwic3RyaW5nXCIgJiYgcHJvcGVydHkuc3RvcmFnZT8uYWNjZXB0ZWRGaWxlcz8uaW5jbHVkZXMoXCJpbWFnZS8qXCIpKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBjb2xsZWN0aW9uLnByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IGNvbGxlY3Rpb24ucHJvcGVydGllc1trZXldO1xuICAgIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJhcnJheVwiICYmIHByb3BlcnR5Lm9mPy5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0eS5vZi5zdG9yYWdlPy5hY2NlcHRlZEZpbGVzPy5pbmNsdWRlcyhcImltYWdlLypcIikpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBmbGF0dGVuT2JqZWN0KG9iaiwgcGFyZW50S2V5ID0gXCJcIikge1xuICBpZiAoIW9iaikgcmV0dXJuIG9iajtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChmbGF0T2JqLCBrZXkpID0+IHtcbiAgICBjb25zdCBuZXdLZXkgPSBwYXJlbnRLZXkgPyBgJHtwYXJlbnRLZXl9LiR7a2V5fWAgOiBrZXk7XG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiBvYmpba2V5XSAhPT0gbnVsbCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgIG9ialtrZXldLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihmbGF0T2JqLCBmbGF0dGVuT2JqZWN0KGl0ZW0sIGAke25ld0tleX1bJHtpbmRleH1dYCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZmxhdE9iaiwgZmxhdHRlbk9iamVjdChvYmpba2V5XSwgbmV3S2V5KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXRPYmpbbmV3S2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gZmxhdE9iajtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0QXJyYXlWYWx1ZXNDb3VudChhcnJheSkge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKChhY2MsIG9iaikgPT4ge1xuICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBNYXRoLm1heChhY2Nba2V5XSB8fCAwLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBuZXN0ZWQgPSBnZXRBcnJheVZhbHVlc0NvdW50KFt2YWx1ZV0pO1xuICAgICAgICBPYmplY3QuZW50cmllcyhuZXN0ZWQpLmZvckVhY2goKFtuZXN0ZWRLZXksIG5lc3RlZENvdW50XSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbXBvdW5kS2V5ID0gYCR7a2V5fS4ke25lc3RlZEtleX1gO1xuICAgICAgICAgIGFjY1tjb21wb3VuZEtleV0gPSBNYXRoLm1heChhY2NbY29tcG91bmRLZXldIHx8IDAsIG5lc3RlZENvdW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gbWFrZVByb3BlcnRpZXNFZGl0YWJsZShwcm9wZXJ0aWVzKSB7XG4gIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1trZXldO1xuICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgcHJvcGVydHkuZWRpdGFibGUgPSB0cnVlO1xuICAgICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgICAgbWFrZVByb3BlcnRpZXNFZGl0YWJsZShwcm9wZXJ0eS5wcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cbmZ1bmN0aW9uIG1ha2VQcm9wZXJ0aWVzTm9uRWRpdGFibGUocHJvcGVydGllcykge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykucmVkdWNlKChhY2MsIFtrZXksIHByb3BlcnR5XSkgPT4ge1xuICAgIGlmICghaXNQcm9wZXJ0eUJ1aWxkZXIocHJvcGVydHkpICYmIHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7XG4gICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICBwcm9wZXJ0aWVzOiBtYWtlUHJvcGVydGllc05vbkVkaXRhYmxlKHByb3BlcnR5LnByb3BlcnRpZXMpXG4gICAgICB9O1xuICAgICAgYWNjW2tleV0gPSB1cGRhdGVkO1xuICAgIH1cbiAgICBpZiAoaXNQcm9wZXJ0eUJ1aWxkZXIocHJvcGVydHkpKSB7XG4gICAgICBhY2Nba2V5XSA9IHByb3BlcnR5O1xuICAgIH0gZWxzZSB7XG4gICAgICBhY2Nba2V5XSA9IHtcbiAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gYXBwbHlNb2RpZnlGdW5jdGlvbihtb2RpZnlDb2xsZWN0aW9uLCBjb2xsZWN0aW9uLCBwYXJlbnRQYXRocykge1xuICBpZiAobW9kaWZ5Q29sbGVjdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVkID0gbW9kaWZ5Q29sbGVjdGlvbih7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgcGFyZW50UGF0aHNcbiAgICB9KTtcbiAgICBjb25zdCByZXNDb2xsZWN0aW9uID0gbW9kaWZpZWQgPz8gY29sbGVjdGlvbjtcbiAgICBpZiAocmVzQ29sbGVjdGlvbi5zdWJjb2xsZWN0aW9ucykge1xuICAgICAgcmVzQ29sbGVjdGlvbi5zdWJjb2xsZWN0aW9ucyA9IHJlc0NvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMubWFwKChzdWJjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBhcHBseU1vZGlmeUZ1bmN0aW9uKG1vZGlmeUNvbGxlY3Rpb24sIHN1YmNvbGxlY3Rpb24sIFsuLi5wYXJlbnRQYXRocywgY29sbGVjdGlvbi5wYXRoXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc0NvbGxlY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cbn1cbmZ1bmN0aW9uIGpvaW5Db2xsZWN0aW9uTGlzdHModGFyZ2V0Q29sbGVjdGlvbnMsIHNvdXJjZUNvbGxlY3Rpb25zLCBwYXJlbnRQYXRocyA9IFtdLCBtb2RpZnlDb2xsZWN0aW9uKSB7XG4gIGNvbnN0IHVwZGF0ZWRDb2xsZWN0aW9ucyA9IChzb3VyY2VDb2xsZWN0aW9ucyA/PyBbXSkubWFwKChzb3VyY2VDb2wpID0+IHtcbiAgICBjb25zdCB0YXJnZXRDb2wgPSB0YXJnZXRDb2xsZWN0aW9ucz8uZmluZCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uaWQgPT09IHNvdXJjZUNvbC5pZDtcbiAgICB9KTtcbiAgICBpZiAoIXRhcmdldENvbCkge1xuICAgICAgcmV0dXJuIGFwcGx5TW9kaWZ5RnVuY3Rpb24obW9kaWZ5Q29sbGVjdGlvbiwgc291cmNlQ29sLCBwYXJlbnRQYXRocyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtZXJnZUNvbGxlY3Rpb24odGFyZ2V0Q29sLCBzb3VyY2VDb2wsIHBhcmVudFBhdGhzLCBtb2RpZnlDb2xsZWN0aW9uKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzb3VyY2VDb2xsZWN0aW9uSWRzID0gdXBkYXRlZENvbGxlY3Rpb25zLm1hcCgoYzIpID0+IGMyLmlkKTtcbiAgY29uc3QgcmVzdWx0U3RvcmVkQ29sbGVjdGlvbnMgPSB0YXJnZXRDb2xsZWN0aW9ucy5maWx0ZXIoKGNvbCkgPT4ge1xuICAgIHJldHVybiAhc291cmNlQ29sbGVjdGlvbklkcy5pbmNsdWRlcyhjb2wuaWQpO1xuICB9KS5tYXAoKGNvbCkgPT4ge1xuICAgIGlmIChtb2RpZnlDb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYXBwbHlNb2RpZnlGdW5jdGlvbihtb2RpZnlDb2xsZWN0aW9uLCBjb2wsIHBhcmVudFBhdGhzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gWy4uLnVwZGF0ZWRDb2xsZWN0aW9ucywgLi4ucmVzdWx0U3RvcmVkQ29sbGVjdGlvbnNdO1xufVxuZnVuY3Rpb24gbWVyZ2VDb2xsZWN0aW9uKHRhcmdldCwgc291cmNlLCBwYXJlbnRQYXRocyA9IFtdLCBtb2RpZnlDb2xsZWN0aW9uKSB7XG4gIGNvbnN0IHN1YmNvbGxlY3Rpb25zTWVyZ2VkID0gam9pbkNvbGxlY3Rpb25MaXN0cyh0YXJnZXQ/LnN1YmNvbGxlY3Rpb25zID8/IFtdLCBzb3VyY2U/LnN1YmNvbGxlY3Rpb25zID8/IFtdLCBbLi4ucGFyZW50UGF0aHMsIHRhcmdldC5wYXRoXSwgbW9kaWZ5Q29sbGVjdGlvbik7XG4gIGNvbnN0IHByb3BlcnRpZXNNZXJnZWQgPSB7XG4gICAgLi4udGFyZ2V0LnByb3BlcnRpZXNcbiAgfTtcbiAgT2JqZWN0LmtleXMoc291cmNlLnByb3BlcnRpZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gdGFyZ2V0LnByb3BlcnRpZXNba2V5XTtcbiAgICBpZiAocHJvcGVydHkpIHByb3BlcnRpZXNNZXJnZWRba2V5XSA9IG1lcmdlUHJvcGVydHlPckJ1aWxkZXIocHJvcGVydHksIHNvdXJjZS5wcm9wZXJ0aWVzW2tleV0pO1xuICAgIGVsc2UgcHJvcGVydGllc01lcmdlZFtrZXldID0gc291cmNlLnByb3BlcnRpZXNba2V5XTtcbiAgfSk7XG4gIGNvbnN0IG1lcmdlZENvbGxlY3Rpb24gPSBtZXJnZURlZXAodGFyZ2V0LCBzb3VyY2UpO1xuICBjb25zdCB0YXJnZXRQcm9wZXJ0aWVzT3JkZXIgPSBnZXRDb2xsZWN0aW9uS2V5cyh0YXJnZXQpO1xuICBjb25zdCBzb3VyY2VQcm9wZXJ0aWVzT3JkZXIgPSBnZXRDb2xsZWN0aW9uS2V5cyhzb3VyY2UpO1xuICBjb25zdCBtZXJnZWRQcm9wZXJ0aWVzT3JkZXIgPSBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLnNvdXJjZVByb3BlcnRpZXNPcmRlciwgLi4udGFyZ2V0UHJvcGVydGllc09yZGVyXSldO1xuICBjb25zdCBtZXJnZWRFbnRpdHlWaWV3cyA9IFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udGFyZ2V0LmVudGl0eVZpZXdzID8/IFtdLCAuLi5zb3VyY2UuZW50aXR5Vmlld3MgPz8gW11dKV07XG4gIGxldCByZXN1bHRDb2xsZWN0aW9uID0ge1xuICAgIC4uLm1lcmdlZENvbGxlY3Rpb24sXG4gICAgc3ViY29sbGVjdGlvbnM6IHN1YmNvbGxlY3Rpb25zTWVyZ2VkLFxuICAgIHByb3BlcnRpZXM6IHNvcnRQcm9wZXJ0aWVzKHByb3BlcnRpZXNNZXJnZWQsIG1lcmdlZFByb3BlcnRpZXNPcmRlciksXG4gICAgcHJvcGVydGllc09yZGVyOiBtZXJnZWRQcm9wZXJ0aWVzT3JkZXIsXG4gICAgZW50aXR5Vmlld3M6IG1lcmdlZEVudGl0eVZpZXdzXG4gIH07XG4gIGlmIChtb2RpZnlDb2xsZWN0aW9uKSB7XG4gICAgY29uc3QgbW9kaWZpZWRDb2xsZWN0aW9uID0gbW9kaWZ5Q29sbGVjdGlvbih7XG4gICAgICBjb2xsZWN0aW9uOiByZXN1bHRDb2xsZWN0aW9uLFxuICAgICAgcGFyZW50UGF0aHNcbiAgICB9KTtcbiAgICBpZiAobW9kaWZpZWRDb2xsZWN0aW9uKSByZXN1bHRDb2xsZWN0aW9uID0gbW9kaWZpZWRDb2xsZWN0aW9uO1xuICB9XG4gIHJlc3VsdENvbGxlY3Rpb25bXCJtZXJnZWRcIl0gPSB0cnVlO1xuICByZXR1cm4gcmVzdWx0Q29sbGVjdGlvbjtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcGVydHlPckJ1aWxkZXIodGFyZ2V0LCBzb3VyY2UpIHtcbiAgaWYgKGlzUHJvcGVydHlCdWlsZGVyKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9IGVsc2UgaWYgKGlzUHJvcGVydHlCdWlsZGVyKHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lcmdlZFByb3BlcnR5ID0gbWVyZ2VEZWVwKHRhcmdldCwgc291cmNlKTtcbiAgICBjb25zdCB0YXJnZXRFZGl0YWJsZSA9IEJvb2xlYW4odGFyZ2V0LmVkaXRhYmxlKTtcbiAgICBjb25zdCBzb3VyY2VFZGl0YWJsZSA9IEJvb2xlYW4oc291cmNlLmVkaXRhYmxlKTtcbiAgICBpZiAoc291cmNlLmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHNvdXJjZS5wcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCB0YXJnZXRQcm9wZXJ0aWVzID0gXCJwcm9wZXJ0aWVzXCIgaW4gdGFyZ2V0ID8gdGFyZ2V0LnByb3BlcnRpZXMgOiB7fTtcbiAgICAgIGNvbnN0IHNvdXJjZVByb3BlcnRpZXMgPSBcInByb3BlcnRpZXNcIiBpbiBzb3VyY2UgPyBzb3VyY2UucHJvcGVydGllcyA6IHt9O1xuICAgICAgY29uc3QgdGFyZ2V0UHJvcGVydGllc09yZGVyID0gXCJwcm9wZXJ0aWVzT3JkZXJcIiBpbiB0YXJnZXQgJiYgdGFyZ2V0LnByb3BlcnRpZXNPcmRlciA/IHRhcmdldC5wcm9wZXJ0aWVzT3JkZXIgOiBPYmplY3Qua2V5cyh0YXJnZXRQcm9wZXJ0aWVzKTtcbiAgICAgIGNvbnN0IHNvdXJjZVByb3BlcnRpZXNPcmRlciA9IFwicHJvcGVydGllc09yZGVyXCIgaW4gc291cmNlICYmIHNvdXJjZS5wcm9wZXJ0aWVzT3JkZXIgPyBzb3VyY2UucHJvcGVydGllc09yZGVyIDogXCJwcm9wZXJ0aWVzXCIgaW4gc291cmNlID8gT2JqZWN0LmtleXMoc291cmNlLnByb3BlcnRpZXMpIDogW107XG4gICAgICBjb25zdCBtZXJnZWRQcm9wZXJ0aWVzT3JkZXIgPSBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLnRhcmdldFByb3BlcnRpZXNPcmRlciwgLi4uc291cmNlUHJvcGVydGllc09yZGVyXSldO1xuICAgICAgY29uc3QgbWVyZ2VkUHJvcGVydGllcyA9IHtcbiAgICAgICAgLi4udGFyZ2V0UHJvcGVydGllc1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5rZXlzKHNvdXJjZS5wcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0YXJnZXRQcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIGlmIChwcm9wZXJ0eSkgbWVyZ2VkUHJvcGVydGllc1trZXldID0gbWVyZ2VQcm9wZXJ0eU9yQnVpbGRlcihwcm9wZXJ0eSwgc291cmNlUHJvcGVydGllc1trZXldKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubWVyZ2VkUHJvcGVydHksXG4gICAgICAgIGVkaXRhYmxlOiB0YXJnZXRFZGl0YWJsZSAmJiBzb3VyY2VFZGl0YWJsZSxcbiAgICAgICAgcHJvcGVydGllczogbWVyZ2VkUHJvcGVydGllcyxcbiAgICAgICAgcHJvcGVydGllc09yZGVyOiBtZXJnZWRQcm9wZXJ0aWVzT3JkZXJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5tZXJnZWRQcm9wZXJ0eSxcbiAgICAgIGVkaXRhYmxlOiB0YXJnZXRFZGl0YWJsZSAmJiBzb3VyY2VFZGl0YWJsZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvbGxlY3Rpb25LZXlzKGNvbGxlY3Rpb24pIHtcbiAgaWYgKGNvbGxlY3Rpb24ucHJvcGVydGllc09yZGVyICYmIGNvbGxlY3Rpb24ucHJvcGVydGllc09yZGVyLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzT3JkZXIgPSBjb2xsZWN0aW9uLnByb3BlcnRpZXNPcmRlcjtcbiAgICBpZiAoY29sbGVjdGlvbi5hZGRpdGlvbmFsRmllbGRzKSB7XG4gICAgICBjb2xsZWN0aW9uLmFkZGl0aW9uYWxGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzT3JkZXIuaW5jbHVkZXMoZmllbGQua2V5KSkge1xuICAgICAgICAgIHByb3BlcnRpZXNPcmRlci5wdXNoKGZpZWxkLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllc09yZGVyO1xuICB9XG4gIHJldHVybiBbLi4uT2JqZWN0LmtleXMoY29sbGVjdGlvbi5wcm9wZXJ0aWVzKSwgLi4uKGNvbGxlY3Rpb24uYWRkaXRpb25hbEZpZWxkcyA/PyBbXSk/Lm1hcCgoZikgPT4gZi5rZXkpXTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQ29sbGVjdGlvbihjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuZnVuY3Rpb24gYnVpbGRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICByZXR1cm4gcHJvcGVydHk7XG59XG5mdW5jdGlvbiBidWlsZFByb3BlcnRpZXMocHJvcGVydGllcykge1xuICByZXR1cm4gcHJvcGVydGllcztcbn1cbmZ1bmN0aW9uIGJ1aWxkUHJvcGVydGllc09yQnVpbGRlcihwcm9wZXJ0aWVzT3JCdWlsZGVyKSB7XG4gIHJldHVybiBwcm9wZXJ0aWVzT3JCdWlsZGVyO1xufVxuZnVuY3Rpb24gYnVpbGRFbnVtVmFsdWVzKGVudW1WYWx1ZXMpIHtcbiAgcmV0dXJuIGVudW1WYWx1ZXM7XG59XG5mdW5jdGlvbiBidWlsZEVudW1WYWx1ZUNvbmZpZyhlbnVtVmFsdWVDb25maWcpIHtcbiAgcmV0dXJuIGVudW1WYWx1ZUNvbmZpZztcbn1cbmZ1bmN0aW9uIGJ1aWxkRW50aXR5Q2FsbGJhY2tzKGNhbGxiYWNrcykge1xuICByZXR1cm4gY2FsbGJhY2tzO1xufVxuZnVuY3Rpb24gYnVpbGRBZGRpdGlvbmFsRmllbGREZWxlZ2F0ZShhZGRpdGlvbmFsRmllbGREZWxlZ2F0ZSkge1xuICByZXR1cm4gYWRkaXRpb25hbEZpZWxkRGVsZWdhdGU7XG59XG5mdW5jdGlvbiBidWlsZEZpZWxkQ29uZmlnKHByb3BlcnR5Q29uZmlnKSB7XG4gIHJldHVybiBwcm9wZXJ0eUNvbmZpZztcbn1cbmZ1bmN0aW9uIHByaW50Q2hhbmdlZChwcm9wcywgcHJldiwgcGF0aCA9IFwiXCIsIGRlcHRoID0gMCwgbWF4RGVwdGggPSAxMCkge1xuICBpZiAoZGVwdGggPiBtYXhEZXB0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvcHMgJiYgcHJldiAmJiB0eXBlb2YgcHJvcHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHByZXYgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBwcmludENoYW5nZWQocHJvcHNba2V5XSwgcHJldltrZXldLCBwYXRoICsgXCIuXCIgKyBrZXksIGRlcHRoICsgMSwgbWF4RGVwdGgpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHByb3BzICE9PSBwcmV2KSB7XG4gICAgY29uc29sZS5sb2coXCJDaGFuZ2VkIHByb3BzOlwiLCBwYXRoKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlVHJhY2VVcGRhdGUocHJvcHMsIHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMpO1xuICBjb25zdCBtYXhEZXB0aCA9IHQwID09PSB2b2lkIDAgPyAzIDogdDA7XG4gIGNvbnN0IHByZXYgPSB1c2VSZWYocHJvcHMpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBtYXhEZXB0aCB8fCAkWzFdICE9PSBwcm9wcykge1xuICAgIHQxID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJDaGFuZ2VkIHByb3BzOlwiKTtcbiAgICAgIHByaW50Q2hhbmdlZChwcm9wcywgcHJldi5jdXJyZW50LCBcIlwiLCAwLCBtYXhEZXB0aCk7XG4gICAgICBwcmV2LmN1cnJlbnQgPSBwcm9wcztcbiAgICB9O1xuICAgICRbMF0gPSBtYXhEZXB0aDtcbiAgICAkWzFdID0gcHJvcHM7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICB1c2VFZmZlY3QodDEpO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVN0b3JhZ2VGaWxlbmFtZVN0cmluZyh7XG4gIGlucHV0LFxuICBzdG9yYWdlLFxuICB2YWx1ZXMsXG4gIGVudGl0eUlkLFxuICBwYXRoLFxuICBwcm9wZXJ0eSxcbiAgZmlsZSxcbiAgcHJvcGVydHlLZXlcbn0pIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVzdWx0ID0gYXdhaXQgaW5wdXQoe1xuICAgICAgcGF0aCxcbiAgICAgIGVudGl0eUlkLFxuICAgICAgdmFsdWVzLFxuICAgICAgcHJvcGVydHksXG4gICAgICBmaWxlLFxuICAgICAgc3RvcmFnZSxcbiAgICAgIHByb3BlcnR5S2V5XG4gICAgfSk7XG4gICAgaWYgKCFyZXN1bHQpIGNvbnNvbGUud2FybihcIlN0b3JhZ2UgY2FsbGJhY2sgcmV0dXJuZWQgZW1wdHkgcmVzdWx0LiBVc2luZyBkZWZhdWx0IG5hbWUgdmFsdWVcIik7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcmVwbGFjZVBsYWNlaG9sZGVycyh7XG4gICAgICBmaWxlLFxuICAgICAgaW5wdXQsXG4gICAgICBlbnRpdHlJZCxcbiAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgcGF0aFxuICAgIH0pO1xuICB9XG4gIGlmICghcmVzdWx0KSByZXN1bHQgPSByYW5kb21TdHJpbmcoKSArIFwiX1wiICsgZmlsZS5uYW1lO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVN0b3JhZ2VQYXRoU3RyaW5nKHtcbiAgaW5wdXQsXG4gIHN0b3JhZ2UsXG4gIHZhbHVlcyxcbiAgZW50aXR5SWQsXG4gIHBhdGgsXG4gIHByb3BlcnR5LFxuICBmaWxlLFxuICBwcm9wZXJ0eUtleVxufSkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAodHlwZW9mIGlucHV0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXN1bHQgPSBpbnB1dCh7XG4gICAgICBwYXRoLFxuICAgICAgZW50aXR5SWQsXG4gICAgICB2YWx1ZXMsXG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIGZpbGUsXG4gICAgICBzdG9yYWdlLFxuICAgICAgcHJvcGVydHlLZXlcbiAgICB9KTtcbiAgICBpZiAoIXJlc3VsdCkgY29uc29sZS53YXJuKFwiU3RvcmFnZSBjYWxsYmFjayByZXR1cm5lZCBlbXB0eSByZXN1bHQuIFVzaW5nIGRlZmF1bHQgbmFtZSB2YWx1ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByZXBsYWNlUGxhY2Vob2xkZXJzKHtcbiAgICAgIGZpbGUsXG4gICAgICBpbnB1dCxcbiAgICAgIGVudGl0eUlkLFxuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBwYXRoXG4gICAgfSk7XG4gIH1cbiAgaWYgKCFyZXN1bHQpIHJlc3VsdCA9IHJhbmRvbVN0cmluZygpICsgXCJfXCIgKyBmaWxlLm5hbWU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZXBsYWNlUGxhY2Vob2xkZXJzKHtcbiAgZmlsZSxcbiAgaW5wdXQsXG4gIGVudGl0eUlkLFxuICBwcm9wZXJ0eUtleSxcbiAgcGF0aFxufSkge1xuICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICBsZXQgcmVzdWx0ID0gaW5wdXQucmVwbGFjZShcIntlbnRpdHlJZH1cIiwgZW50aXR5SWQpLnJlcGxhY2UoXCJ7cHJvcGVydHlLZXl9XCIsIHByb3BlcnR5S2V5KS5yZXBsYWNlKFwie3JhbmR9XCIsIHJhbmRvbVN0cmluZygpKS5yZXBsYWNlKFwie2ZpbGV9XCIsIGZpbGUubmFtZSkucmVwbGFjZShcIntmaWxlLnR5cGV9XCIsIGZpbGUudHlwZSk7XG4gIGlmIChwYXRoKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXCJ7cGF0aH1cIiwgcGF0aCk7XG4gIH1cbiAgaWYgKGV4dCkge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwie2ZpbGUuZXh0fVwiLCBleHQpO1xuICAgIGNvbnN0IG5hbWUgPSBmaWxlLm5hbWUucmVwbGFjZShgLiR7ZXh0fWAsIFwiXCIpO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwie2ZpbGUubmFtZX1cIiwgbmFtZSk7XG4gIH1cbiAgaWYgKCFyZXN1bHQpIHJlc3VsdCA9IHJhbmRvbVN0cmluZygpICsgXCJfXCIgKyBmaWxlLm5hbWU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBEYXRhU291cmNlQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe30pO1xuY29uc3QgdXNlRGF0YVNvdXJjZSA9IChjb2xsZWN0aW9uKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHREYXRhU291cmNlID0gdXNlQ29udGV4dChEYXRhU291cmNlQ29udGV4dCk7XG4gIHJldHVybiBkZWZhdWx0RGF0YVNvdXJjZTtcbn07XG5jb25zdCBOYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe30pO1xuY29uc3QgdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbn07XG5jb25zdCB1c2VBdXRoQ29udHJvbGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQXV0aENvbnRyb2xsZXJDb250ZXh0KTtcbn07XG5jb25zdCBTaWRlRGlhbG9nc0NvbnRyb2xsZXJDb250ZXh0ID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7fSk7XG5jb25zdCB1c2VTaWRlRGlhbG9nc0NvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFNpZGVEaWFsb2dzQ29udHJvbGxlckNvbnRleHQpO1xufTtcbmNvbnN0IFNpZGVFbnRpdHlDb250cm9sbGVyQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe30pO1xuY29uc3QgdXNlU2lkZUVudGl0eUNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFNpZGVFbnRpdHlDb250cm9sbGVyQ29udGV4dCk7XG59O1xuY29uc3QgU3RvcmFnZVNvdXJjZUNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IHVzZVN0b3JhZ2VTb3VyY2UgPSAoY29sbGVjdGlvbikgPT4ge1xuICBjb25zdCBkZWZhdWx0U3RvcmFnZVNvdXJjZSA9IHVzZUNvbnRleHQoU3RvcmFnZVNvdXJjZUNvbnRleHQpO1xuICBpZiAoY29sbGVjdGlvbj8ub3ZlcnJpZGVzPy5zdG9yYWdlU291cmNlKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ub3ZlcnJpZGVzLnN0b3JhZ2VTb3VyY2U7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRTdG9yYWdlU291cmNlO1xufTtcbmNvbnN0IHVzZVNuYWNrYmFyQ29udHJvbGxlciA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIGVucXVldWVTbmFja2JhcixcbiAgICBjbG9zZVNuYWNrYmFyXG4gIH0gPSB1c2VTbmFja2JhcigpO1xuICBjb25zdCBvcGVuID0gdXNlQ2FsbGJhY2soKHByb3BzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBhdXRvSGlkZUR1cmF0aW9uXG4gICAgfSA9IHByb3BzO1xuICAgIGVucXVldWVTbmFja2Jhcih7XG4gICAgICBtZXNzYWdlLFxuICAgICAgdmFyaWFudDogdHlwZSxcbiAgICAgIGF1dG9IaWRlRHVyYXRpb25cbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBjbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjbG9zZVNuYWNrYmFyKCk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICBvcGVuLFxuICAgIGNsb3NlXG4gIH0pLCBbb3BlbiwgY2xvc2VdKTtcbn07XG5jb25zdCBVc2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmNvbnN0IHVzZVVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2VDb250ZXh0KTtcbn07XG5jb25zdCBEaWFsb2dzQ29udHJvbGxlckNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IERpYWxvZ3NQcm92aWRlciA9ICh0MCkgPT4ge1xuICBjb25zdCAkID0gYygxNik7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSBbXTtcbiAgICAkWzBdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzBdO1xuICB9XG4gIGNvbnN0IFtkaWFsb2dFbnRyaWVzLCBzZXREaWFsb2dFbnRyaWVzXSA9IHVzZVN0YXRlKHQxKTtcbiAgY29uc3QgZGlhbG9nRW50cmllc1JlZiA9IHVzZVJlZihkaWFsb2dFbnRyaWVzKTtcbiAgbGV0IHQyO1xuICBpZiAoJFsxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MiA9IChuZXdQYW5lbHMpID0+IHtcbiAgICAgIGRpYWxvZ0VudHJpZXNSZWYuY3VycmVudCA9IG5ld1BhbmVscztcbiAgICAgIHNldERpYWxvZ0VudHJpZXMobmV3UGFuZWxzKTtcbiAgICB9O1xuICAgICRbMV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMV07XG4gIH1cbiAgY29uc3QgdXBkYXRlRGlhbG9nRW50cmllcyA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzJdICE9PSBkaWFsb2dFbnRyaWVzLmxlbmd0aCkge1xuICAgIHQzID0gKCkgPT4ge1xuICAgICAgaWYgKGRpYWxvZ0VudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRQYW5lbHMgPSBbLi4uZGlhbG9nRW50cmllc1JlZi5jdXJyZW50LnNsaWNlKDAsIC0xKV07XG4gICAgICB1cGRhdGVEaWFsb2dFbnRyaWVzKHVwZGF0ZWRQYW5lbHMpO1xuICAgIH07XG4gICAgJFsyXSA9IGRpYWxvZ0VudHJpZXMubGVuZ3RoO1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbM107XG4gIH1cbiAgY29uc3QgY2xvc2UgPSB0MztcbiAgbGV0IHQ0O1xuICBpZiAoJFs0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NCA9IChkaWFsb2dFbnRyeSkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFBhbmVsc18wID0gWy4uLmRpYWxvZ0VudHJpZXNSZWYuY3VycmVudCwgZGlhbG9nRW50cnldO1xuICAgICAgdXBkYXRlRGlhbG9nRW50cmllcyh1cGRhdGVkUGFuZWxzXzApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xvc2VEaWFsb2c6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUGFuZWxzXzEgPSBkaWFsb2dFbnRyaWVzUmVmLmN1cnJlbnQuZmlsdGVyKChlKSA9PiBlLmtleSAhPT0gZGlhbG9nRW50cnkua2V5KTtcbiAgICAgICAgICB1cGRhdGVEaWFsb2dFbnRyaWVzKHVwZGF0ZWRQYW5lbHNfMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICAkWzRdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzRdO1xuICB9XG4gIGNvbnN0IG9wZW4gPSB0NDtcbiAgbGV0IHQ1O1xuICBpZiAoJFs1XSAhPT0gY2xvc2UpIHtcbiAgICB0NSA9IHtcbiAgICAgIG9wZW4sXG4gICAgICBjbG9zZVxuICAgIH07XG4gICAgJFs1XSA9IGNsb3NlO1xuICAgICRbNl0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbNl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFs3XSAhPT0gY2xvc2UgfHwgJFs4XSAhPT0gZGlhbG9nRW50cmllcykge1xuICAgIGxldCB0NzI7XG4gICAgaWYgKCRbMTBdICE9PSBjbG9zZSkge1xuICAgICAgdDcyID0gKGVudHJ5LCBpKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KGVudHJ5LkNvbXBvbmVudCwgeyBvcGVuOiB0cnVlLCBjbG9zZURpYWxvZzogY2xvc2UsIC4uLmVudHJ5LnByb3BzIH0sIGBkaWFsb2dfJHtpfWApO1xuICAgICAgJFsxMF0gPSBjbG9zZTtcbiAgICAgICRbMTFdID0gdDcyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NzIgPSAkWzExXTtcbiAgICB9XG4gICAgdDYgPSBkaWFsb2dFbnRyaWVzLm1hcCh0NzIpO1xuICAgICRbN10gPSBjbG9zZTtcbiAgICAkWzhdID0gZGlhbG9nRW50cmllcztcbiAgICAkWzldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzldO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTJdICE9PSBjaGlsZHJlbiB8fCAkWzEzXSAhPT0gdDUgfHwgJFsxNF0gIT09IHQ2KSB7XG4gICAgdDcgPSAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2dzQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHQ1LCBjaGlsZHJlbjogW1xuICAgICAgY2hpbGRyZW4sXG4gICAgICB0NlxuICAgIF0gfSk7XG4gICAgJFsxMl0gPSBjaGlsZHJlbjtcbiAgICAkWzEzXSA9IHQ1O1xuICAgICRbMTRdID0gdDY7XG4gICAgJFsxNV0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMTVdO1xuICB9XG4gIHJldHVybiB0Nztcbn07XG5jb25zdCB1c2VEaWFsb2dzQ29udHJvbGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoRGlhbG9nc0NvbnRyb2xsZXJDb250ZXh0KTtcbn07XG5jb25zdCBDdXN0b21pemF0aW9uQ29udHJvbGxlckNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gKCkgPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChDdXN0b21pemF0aW9uQ29udHJvbGxlckNvbnRleHQpO1xufTtcbmNvbnN0IEFuYWx5dGljc0NvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IHVzZUFuYWx5dGljc0NvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KEFuYWx5dGljc0NvbnRleHQpO1xufTtcbmNvbnN0IHVzZUZpcmVDTVNDb250ZXh0ID0gKCkgPT4ge1xuICBjb25zdCBhdXRoQ29udHJvbGxlciA9IHVzZUF1dGhDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZGVEaWFsb2dzQ29udHJvbGxlciA9IHVzZVNpZGVEaWFsb2dzQ29udHJvbGxlcigpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZVNpZGVFbnRpdHlDb250cm9sbGVyKCk7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBkYXRhU291cmNlID0gdXNlRGF0YVNvdXJjZSgpO1xuICBjb25zdCBzdG9yYWdlU291cmNlID0gdXNlU3RvcmFnZVNvdXJjZSgpO1xuICBjb25zdCBzbmFja2JhckNvbnRyb2xsZXIgPSB1c2VTbmFja2JhckNvbnRyb2xsZXIoKTtcbiAgY29uc3QgdXNlckNvbmZpZ1BlcnNpc3RlbmNlID0gdXNlVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpO1xuICBjb25zdCBkaWFsb2dzQ29udHJvbGxlciA9IHVzZURpYWxvZ3NDb250cm9sbGVyKCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgYW5hbHl0aWNzQ29udHJvbGxlciA9IHVzZUFuYWx5dGljc0NvbnRyb2xsZXIoKTtcbiAgY29uc3QgZmlyZUNNU0NvbnRleHRSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoe1xuICAgIGF1dGhDb250cm9sbGVyLFxuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlcixcbiAgICBzaWRlRW50aXR5Q29udHJvbGxlcixcbiAgICBuYXZpZ2F0aW9uLFxuICAgIGRhdGFTb3VyY2UsXG4gICAgc3RvcmFnZVNvdXJjZSxcbiAgICBzbmFja2JhckNvbnRyb2xsZXIsXG4gICAgdXNlckNvbmZpZ1BlcnNpc3RlbmNlLFxuICAgIGRpYWxvZ3NDb250cm9sbGVyLFxuICAgIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLFxuICAgIGFuYWx5dGljc0NvbnRyb2xsZXJcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmlyZUNNU0NvbnRleHRSZWYuY3VycmVudCA9IHtcbiAgICAgIGF1dGhDb250cm9sbGVyLFxuICAgICAgc2lkZURpYWxvZ3NDb250cm9sbGVyLFxuICAgICAgc2lkZUVudGl0eUNvbnRyb2xsZXIsXG4gICAgICBuYXZpZ2F0aW9uLFxuICAgICAgZGF0YVNvdXJjZSxcbiAgICAgIHN0b3JhZ2VTb3VyY2UsXG4gICAgICBzbmFja2JhckNvbnRyb2xsZXIsXG4gICAgICB1c2VyQ29uZmlnUGVyc2lzdGVuY2UsXG4gICAgICBkaWFsb2dzQ29udHJvbGxlcixcbiAgICAgIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLFxuICAgICAgYW5hbHl0aWNzQ29udHJvbGxlclxuICAgIH07XG4gIH0sIFthdXRoQ29udHJvbGxlciwgZGlhbG9nc0NvbnRyb2xsZXIsIG5hdmlnYXRpb24sIHNpZGVEaWFsb2dzQ29udHJvbGxlcl0pO1xuICByZXR1cm4gZmlyZUNNU0NvbnRleHRSZWYuY3VycmVudDtcbn07XG5mdW5jdGlvbiB1c2VDb2xsZWN0aW9uRmV0Y2godDApIHtcbiAgY29uc3QgJCA9IGMoMjYpO1xuICBjb25zdCB7XG4gICAgcGF0aDogaW5wdXRQYXRoLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgZmlsdGVyVmFsdWVzLFxuICAgIHNvcnRCeSxcbiAgICBpdGVtQ291bnQsXG4gICAgc2VhcmNoU3RyaW5nXG4gIH0gPSB0MDtcbiAgY29uc3QgZGF0YVNvdXJjZSA9IHVzZURhdGFTb3VyY2UoKTtcbiAgY29uc3QgbmF2aWdhdGlvbkNvbnRyb2xsZXIgPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBpbnB1dFBhdGggfHwgJFsxXSAhPT0gbmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICB0MSA9IG5hdmlnYXRpb25Db250cm9sbGVyLnJlc29sdmVJZHNGcm9tKGlucHV0UGF0aCk7XG4gICAgJFswXSA9IGlucHV0UGF0aDtcbiAgICAkWzFdID0gbmF2aWdhdGlvbkNvbnRyb2xsZXI7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICBjb25zdCBwYXRoID0gdDE7XG4gIGNvbnN0IHNvcnRCeVByb3BlcnR5ID0gc29ydEJ5ID8gc29ydEJ5WzBdIDogdm9pZCAwO1xuICBjb25zdCBjdXJyZW50U29ydCA9IHNvcnRCeSA/IHNvcnRCeVsxXSA6IHZvaWQgMDtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGxldCB0MjtcbiAgaWYgKCRbM10gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDIgPSBbXTtcbiAgICAkWzNdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzNdO1xuICB9XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKHQyKTtcbiAgY29uc3QgW2RhdGFMb2FkaW5nLCBzZXREYXRhTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkYXRhTG9hZGluZ0Vycm9yLCBzZXREYXRhTG9hZGluZ0Vycm9yXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtub01vcmVUb0xvYWQsIHNldE5vTW9yZVRvTG9hZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGxldCB0MztcbiAgaWYgKCRbNF0gIT09IGNvbGxlY3Rpb24gfHwgJFs1XSAhPT0gY29udGV4dCB8fCAkWzZdICE9PSBjdXJyZW50U29ydCB8fCAkWzddICE9PSBkYXRhU291cmNlIHx8ICRbOF0gIT09IGZpbHRlclZhbHVlcyB8fCAkWzldICE9PSBpdGVtQ291bnQgfHwgJFsxMF0gIT09IHBhdGggfHwgJFsxMV0gIT09IHNlYXJjaFN0cmluZyB8fCAkWzEyXSAhPT0gc29ydEJ5UHJvcGVydHkpIHtcbiAgICB0MyA9ICgpID0+IHtcbiAgICAgIHNldERhdGFMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3Qgb25FbnRpdGllc1VwZGF0ZSA9IGFzeW5jIChlbnRpdGllcykgPT4ge1xuICAgICAgICBpZiAoY29sbGVjdGlvbi5jYWxsYmFja3M/Lm9uRmV0Y2gpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZW50aXRpZXMgPSBhd2FpdCBQcm9taXNlLmFsbChlbnRpdGllcy5tYXAoKGVudGl0eSkgPT4gY29sbGVjdGlvbi5jYWxsYmFja3Mub25GZXRjaCh7XG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICB9IGNhdGNoICh0NDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0NDI7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXREYXRhTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldERhdGFMb2FkaW5nRXJyb3Iodm9pZCAwKTtcbiAgICAgICAgc2V0RGF0YShlbnRpdGllcy5tYXAoX3RlbXAkcykpO1xuICAgICAgICBzZXROb01vcmVUb0xvYWQoIWl0ZW1Db3VudCB8fCBlbnRpdGllcy5sZW5ndGggPCBpdGVtQ291bnQpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIGVycm9yKTtcbiAgICAgICAgc2V0RGF0YUxvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXREYXRhKFtdKTtcbiAgICAgICAgc2V0RGF0YUxvYWRpbmdFcnJvcihlcnJvcik7XG4gICAgICB9O1xuICAgICAgaWYgKGRhdGFTb3VyY2UubGlzdGVuQ29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS5saXN0ZW5Db2xsZWN0aW9uKHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgb25VcGRhdGU6IG9uRW50aXRpZXNVcGRhdGUsXG4gICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICBzZWFyY2hTdHJpbmcsXG4gICAgICAgICAgZmlsdGVyOiBmaWx0ZXJWYWx1ZXMsXG4gICAgICAgICAgbGltaXQ6IGl0ZW1Db3VudCxcbiAgICAgICAgICBzdGFydEFmdGVyOiB2b2lkIDAsXG4gICAgICAgICAgb3JkZXJCeTogc29ydEJ5UHJvcGVydHksXG4gICAgICAgICAgb3JkZXI6IGN1cnJlbnRTb3J0XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVNvdXJjZS5mZXRjaENvbGxlY3Rpb24oe1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICBzZWFyY2hTdHJpbmcsXG4gICAgICAgICAgZmlsdGVyOiBmaWx0ZXJWYWx1ZXMsXG4gICAgICAgICAgbGltaXQ6IGl0ZW1Db3VudCxcbiAgICAgICAgICBzdGFydEFmdGVyOiB2b2lkIDAsXG4gICAgICAgICAgb3JkZXJCeTogc29ydEJ5UHJvcGVydHksXG4gICAgICAgICAgb3JkZXI6IGN1cnJlbnRTb3J0XG4gICAgICAgIH0pLnRoZW4ob25FbnRpdGllc1VwZGF0ZSkuY2F0Y2gob25FcnJvcik7XG4gICAgICAgIHJldHVybiBfdGVtcDIkZTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRbNF0gPSBjb2xsZWN0aW9uO1xuICAgICRbNV0gPSBjb250ZXh0O1xuICAgICRbNl0gPSBjdXJyZW50U29ydDtcbiAgICAkWzddID0gZGF0YVNvdXJjZTtcbiAgICAkWzhdID0gZmlsdGVyVmFsdWVzO1xuICAgICRbOV0gPSBpdGVtQ291bnQ7XG4gICAgJFsxMF0gPSBwYXRoO1xuICAgICRbMTFdID0gc2VhcmNoU3RyaW5nO1xuICAgICRbMTJdID0gc29ydEJ5UHJvcGVydHk7XG4gICAgJFsxM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTNdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbMTRdICE9PSBjdXJyZW50U29ydCB8fCAkWzE1XSAhPT0gZmlsdGVyVmFsdWVzIHx8ICRbMTZdICE9PSBpdGVtQ291bnQgfHwgJFsxN10gIT09IHBhdGggfHwgJFsxOF0gIT09IHNlYXJjaFN0cmluZyB8fCAkWzE5XSAhPT0gc29ydEJ5UHJvcGVydHkpIHtcbiAgICB0NCA9IFtwYXRoLCBpdGVtQ291bnQsIGN1cnJlbnRTb3J0LCBzb3J0QnlQcm9wZXJ0eSwgZmlsdGVyVmFsdWVzLCBzZWFyY2hTdHJpbmddO1xuICAgICRbMTRdID0gY3VycmVudFNvcnQ7XG4gICAgJFsxNV0gPSBmaWx0ZXJWYWx1ZXM7XG4gICAgJFsxNl0gPSBpdGVtQ291bnQ7XG4gICAgJFsxN10gPSBwYXRoO1xuICAgICRbMThdID0gc2VhcmNoU3RyaW5nO1xuICAgICRbMTldID0gc29ydEJ5UHJvcGVydHk7XG4gICAgJFsyMF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMjBdO1xuICB9XG4gIHVzZUVmZmVjdCh0MywgdDQpO1xuICBsZXQgdDU7XG4gIGlmICgkWzIxXSAhPT0gZGF0YSB8fCAkWzIyXSAhPT0gZGF0YUxvYWRpbmcgfHwgJFsyM10gIT09IGRhdGFMb2FkaW5nRXJyb3IgfHwgJFsyNF0gIT09IG5vTW9yZVRvTG9hZCkge1xuICAgIHQ1ID0ge1xuICAgICAgZGF0YSxcbiAgICAgIGRhdGFMb2FkaW5nLFxuICAgICAgZGF0YUxvYWRpbmdFcnJvcixcbiAgICAgIG5vTW9yZVRvTG9hZFxuICAgIH07XG4gICAgJFsyMV0gPSBkYXRhO1xuICAgICRbMjJdID0gZGF0YUxvYWRpbmc7XG4gICAgJFsyM10gPSBkYXRhTG9hZGluZ0Vycm9yO1xuICAgICRbMjRdID0gbm9Nb3JlVG9Mb2FkO1xuICAgICRbMjVdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzI1XTtcbiAgfVxuICByZXR1cm4gdDU7XG59XG5mdW5jdGlvbiBfdGVtcDIkZSgpIHtcbn1cbmZ1bmN0aW9uIF90ZW1wJHMoZV8wKSB7XG4gIHJldHVybiB7XG4gICAgLi4uZV8wXG4gIH07XG59XG5jb25zdCBDQUNIRSA9IHt9O1xuZnVuY3Rpb24gdXNlRW50aXR5RmV0Y2godDApIHtcbiAgY29uc3QgJCA9IGMoMTgpO1xuICBjb25zdCB7XG4gICAgcGF0aDogaW5wdXRQYXRoLFxuICAgIGVudGl0eUlkLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgZGF0YWJhc2VJZCxcbiAgICB1c2VDYWNoZTogdDFcbiAgfSA9IHQwO1xuICBjb25zdCB1c2VDYWNoZSA9IHQxID09PSB2b2lkIDAgPyBmYWxzZSA6IHQxO1xuICBjb25zdCBkYXRhU291cmNlID0gdXNlRGF0YVNvdXJjZSgpO1xuICBjb25zdCBuYXZpZ2F0aW9uQ29udHJvbGxlciA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MjtcbiAgaWYgKCRbMF0gIT09IGlucHV0UGF0aCB8fCAkWzFdICE9PSBuYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgIHQyID0gbmF2aWdhdGlvbkNvbnRyb2xsZXIucmVzb2x2ZUlkc0Zyb20oaW5wdXRQYXRoKTtcbiAgICAkWzBdID0gaW5wdXRQYXRoO1xuICAgICRbMV0gPSBuYXZpZ2F0aW9uQ29udHJvbGxlcjtcbiAgICAkWzJdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzJdO1xuICB9XG4gIGNvbnN0IHBhdGggPSB0MjtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IFtlbnRpdHksIHNldEVudGl0eV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbZGF0YUxvYWRpbmcsIHNldERhdGFMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZGF0YUxvYWRpbmdFcnJvciwgc2V0RGF0YUxvYWRpbmdFcnJvcl0gPSB1c2VTdGF0ZSgpO1xuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBjb2xsZWN0aW9uIHx8ICRbNF0gIT09IGNvbnRleHQgfHwgJFs1XSAhPT0gZGF0YVNvdXJjZSB8fCAkWzZdICE9PSBkYXRhYmFzZUlkIHx8ICRbN10gIT09IGVudGl0eUlkIHx8ICRbOF0gIT09IHBhdGggfHwgJFs5XSAhPT0gdXNlQ2FjaGUpIHtcbiAgICB0MyA9ICgpID0+IHtcbiAgICAgIHNldERhdGFMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3Qgb25FbnRpdHlVcGRhdGUgPSBhc3luYyAodXBkYXRlZEVudGl0eSkgPT4ge1xuICAgICAgICBpZiAoY29sbGVjdGlvbi5jYWxsYmFja3M/Lm9uRmV0Y2ggJiYgdXBkYXRlZEVudGl0eSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB1cGRhdGVkRW50aXR5ID0gYXdhaXQgY29sbGVjdGlvbi5jYWxsYmFja3Mub25GZXRjaCh7XG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIGVudGl0eTogdXBkYXRlZEVudGl0eSxcbiAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAodDQyKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdDQyO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQ0FDSEVbYCR7cGF0aH0vJHtlbnRpdHlJZH1gXSA9IHVwZGF0ZWRFbnRpdHk7XG4gICAgICAgIHNldEVudGl0eSh1cGRhdGVkRW50aXR5KTtcbiAgICAgICAgc2V0RGF0YUxvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXREYXRhTG9hZGluZ0Vycm9yKHZvaWQgMCk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgb25FcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1IgZmV0Y2hpbmcgZW50aXR5XCIsIGVycm9yKTtcbiAgICAgICAgc2V0RGF0YUxvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRFbnRpdHkodm9pZCAwKTtcbiAgICAgICAgc2V0RGF0YUxvYWRpbmdFcnJvcihlcnJvcik7XG4gICAgICB9O1xuICAgICAgaWYgKGVudGl0eUlkICYmIHVzZUNhY2hlICYmIENBQ0hFW2Ake3BhdGh9LyR7ZW50aXR5SWR9YF0pIHtcbiAgICAgICAgc2V0RW50aXR5KENBQ0hFW2Ake3BhdGh9LyR7ZW50aXR5SWR9YF0pO1xuICAgICAgICBzZXREYXRhTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldERhdGFMb2FkaW5nRXJyb3Iodm9pZCAwKTtcbiAgICAgICAgcmV0dXJuIF90ZW1wJHI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZW50aXR5SWQgJiYgcGF0aCAmJiBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKGRhdGFTb3VyY2UubGlzdGVuRW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS5saXN0ZW5FbnRpdHkoe1xuICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICAgICAgZGF0YWJhc2VJZCxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgb25VcGRhdGU6IG9uRW50aXR5VXBkYXRlLFxuICAgICAgICAgICAgICBvbkVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YVNvdXJjZS5mZXRjaEVudGl0eSh7XG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIGVudGl0eUlkLFxuICAgICAgICAgICAgICBkYXRhYmFzZUlkLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uXG4gICAgICAgICAgICB9KS50aGVuKG9uRW50aXR5VXBkYXRlKS5jYXRjaChvbkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBfdGVtcDIkZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25FbnRpdHlVcGRhdGUodm9pZCAwKTtcbiAgICAgICAgICByZXR1cm4gX3RlbXAzJDQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgICRbM10gPSBjb2xsZWN0aW9uO1xuICAgICRbNF0gPSBjb250ZXh0O1xuICAgICRbNV0gPSBkYXRhU291cmNlO1xuICAgICRbNl0gPSBkYXRhYmFzZUlkO1xuICAgICRbN10gPSBlbnRpdHlJZDtcbiAgICAkWzhdID0gcGF0aDtcbiAgICAkWzldID0gdXNlQ2FjaGU7XG4gICAgJFsxMF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTBdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbMTFdICE9PSBlbnRpdHlJZCB8fCAkWzEyXSAhPT0gcGF0aCkge1xuICAgIHQ0ID0gW2VudGl0eUlkLCBwYXRoXTtcbiAgICAkWzExXSA9IGVudGl0eUlkO1xuICAgICRbMTJdID0gcGF0aDtcbiAgICAkWzEzXSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFsxM107XG4gIH1cbiAgdXNlRWZmZWN0KHQzLCB0NCk7XG4gIGxldCB0NTtcbiAgaWYgKCRbMTRdICE9PSBkYXRhTG9hZGluZyB8fCAkWzE1XSAhPT0gZGF0YUxvYWRpbmdFcnJvciB8fCAkWzE2XSAhPT0gZW50aXR5KSB7XG4gICAgdDUgPSB7XG4gICAgICBlbnRpdHksXG4gICAgICBkYXRhTG9hZGluZyxcbiAgICAgIGRhdGFMb2FkaW5nRXJyb3JcbiAgICB9O1xuICAgICRbMTRdID0gZGF0YUxvYWRpbmc7XG4gICAgJFsxNV0gPSBkYXRhTG9hZGluZ0Vycm9yO1xuICAgICRbMTZdID0gZW50aXR5O1xuICAgICRbMTddID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzE3XTtcbiAgfVxuICByZXR1cm4gdDU7XG59XG5mdW5jdGlvbiBfdGVtcDMkNCgpIHtcbn1cbmZ1bmN0aW9uIF90ZW1wMiRkKCkge1xufVxuZnVuY3Rpb24gX3RlbXAkcigpIHtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNhdmVFbnRpdHlXaXRoQ2FsbGJhY2tzKHtcbiAgY29sbGVjdGlvbixcbiAgcGF0aCxcbiAgZW50aXR5SWQsXG4gIHZhbHVlcyxcbiAgcHJldmlvdXNWYWx1ZXMsXG4gIHN0YXR1cyxcbiAgZGF0YVNvdXJjZSxcbiAgY29udGV4dCxcbiAgb25TYXZlU3VjY2VzcyxcbiAgb25TYXZlRmFpbHVyZSxcbiAgb25QcmVTYXZlSG9va0Vycm9yLFxuICBvblNhdmVTdWNjZXNzSG9va0Vycm9yXG59KSB7XG4gIGlmIChzdGF0dXMgIT09IFwibmV3XCIgJiYgIWVudGl0eUlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRW50aXR5IGlkIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gdXBkYXRpbmcgYW4gZXhpc3RpbmcgZW50aXR5XCIpO1xuICB9XG4gIGxldCB1cGRhdGVkVmFsdWVzO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IGNvbnRleHQuY3VzdG9taXphdGlvbkNvbnRyb2xsZXI7XG4gIGNvbnN0IHJlc29sdmVkUGF0aCA9IGNvbnRleHQubmF2aWdhdGlvbi5yZXNvbHZlSWRzRnJvbShwYXRoKTtcbiAgY29uc3QgY2FsbGJhY2tzID0gY29sbGVjdGlvbi5jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3M/Lm9uUHJlU2F2ZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHZhbHVlczogcHJldmlvdXNWYWx1ZXMsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBwcm9wZXJ0eUNvbmZpZ3M6IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlnc1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVkVmFsdWVzID0gYXdhaXQgY2FsbGJhY2tzLm9uUHJlU2F2ZSh7XG4gICAgICAgIGNvbGxlY3Rpb246IHJlc29sdmVkQ29sbGVjdGlvbixcbiAgICAgICAgcGF0aCxcbiAgICAgICAgcmVzb2x2ZWRQYXRoLFxuICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBwcmV2aW91c1ZhbHVlcyxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBjb250ZXh0XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgaWYgKG9uUHJlU2F2ZUhvb2tFcnJvcikgb25QcmVTYXZlSG9va0Vycm9yKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVkVmFsdWVzID0gdmFsdWVzO1xuICB9XG4gIGNvbnNvbGUuZGVidWcoXCJTYXZpbmcgZW50aXR5XCIsIHtcbiAgICBlbnRpdHlJZCxcbiAgICB1cGRhdGVkVmFsdWVzLFxuICAgIGNvbGxlY3Rpb25cbiAgfSk7XG4gIHJldHVybiBkYXRhU291cmNlLnNhdmVFbnRpdHkoe1xuICAgIGNvbGxlY3Rpb24sXG4gICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgIGVudGl0eUlkLFxuICAgIHZhbHVlczogdXBkYXRlZFZhbHVlcyxcbiAgICBwcmV2aW91c1ZhbHVlcyxcbiAgICBzdGF0dXNcbiAgfSkudGhlbigoZW50aXR5KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjYWxsYmFja3M/Lm9uU2F2ZVN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRDb2xsZWN0aW9uID0gcmVzb2x2ZUNvbGxlY3Rpb24oe1xuICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZXM6IHVwZGF0ZWRWYWx1ZXMsXG4gICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrcy5vblNhdmVTdWNjZXNzKHtcbiAgICAgICAgICBjb2xsZWN0aW9uOiByZXNvbHZlZENvbGxlY3Rpb24sXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICByZXNvbHZlZFBhdGgsXG4gICAgICAgICAgZW50aXR5SWQ6IGVudGl0eS5pZCxcbiAgICAgICAgICB2YWx1ZXM6IHVwZGF0ZWRWYWx1ZXMsXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKG9uU2F2ZVN1Y2Nlc3NIb29rRXJyb3IpIG9uU2F2ZVN1Y2Nlc3NIb29rRXJyb3IoZSk7XG4gICAgfVxuICAgIGlmIChvblNhdmVTdWNjZXNzKSBvblNhdmVTdWNjZXNzKGVudGl0eSk7XG4gIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIiEhIVwiLCBlKTtcbiAgICBpZiAoY2FsbGJhY2tzPy5vblNhdmVGYWlsdXJlKSB7XG4gICAgICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHZhbHVlczogdXBkYXRlZFZhbHVlcyxcbiAgICAgICAgZW50aXR5SWQsXG4gICAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrcy5vblNhdmVGYWlsdXJlKHtcbiAgICAgICAgY29sbGVjdGlvbjogcmVzb2x2ZWRDb2xsZWN0aW9uLFxuICAgICAgICBwYXRoLFxuICAgICAgICByZXNvbHZlZFBhdGgsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICB2YWx1ZXM6IHVwZGF0ZWRWYWx1ZXMsXG4gICAgICAgIHByZXZpb3VzVmFsdWVzLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGNvbnRleHRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob25TYXZlRmFpbHVyZSkgb25TYXZlRmFpbHVyZShlKTtcbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBkZWxldGVFbnRpdHlXaXRoQ2FsbGJhY2tzKHtcbiAgZGF0YVNvdXJjZSxcbiAgZW50aXR5LFxuICBjb2xsZWN0aW9uLFxuICBjYWxsYmFja3MsXG4gIG9uRGVsZXRlU3VjY2VzcyxcbiAgb25EZWxldGVGYWlsdXJlLFxuICBvblByZURlbGV0ZUhvb2tFcnJvcixcbiAgb25EZWxldGVTdWNjZXNzSG9va0Vycm9yLFxuICBjb250ZXh0XG59KSB7XG4gIGNvbnNvbGUuZGVidWcoXCJEZWxldGluZyBlbnRpdHlcIiwgZW50aXR5LnBhdGgsIGVudGl0eS5pZCk7XG4gIGNvbnN0IGVudGl0eURlbGV0ZVByb3BzID0ge1xuICAgIGVudGl0eSxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGVudGl0eUlkOiBlbnRpdHkuaWQsXG4gICAgcGF0aDogZW50aXR5LnBhdGgsXG4gICAgY29udGV4dFxuICB9O1xuICBpZiAoY2FsbGJhY2tzPy5vblByZURlbGV0ZSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjYWxsYmFja3Mub25QcmVEZWxldGUoZW50aXR5RGVsZXRlUHJvcHMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBpZiAob25QcmVEZWxldGVIb29rRXJyb3IpIG9uUHJlRGVsZXRlSG9va0Vycm9yKGVudGl0eSwgZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhU291cmNlLmRlbGV0ZUVudGl0eSh7XG4gICAgZW50aXR5LFxuICAgIGNvbGxlY3Rpb25cbiAgfSkudGhlbigoKSA9PiB7XG4gICAgb25EZWxldGVTdWNjZXNzICYmIG9uRGVsZXRlU3VjY2VzcyhlbnRpdHkpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoY2FsbGJhY2tzPy5vbkRlbGV0ZSkge1xuICAgICAgICBjYWxsYmFja3Mub25EZWxldGUoZW50aXR5RGVsZXRlUHJvcHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKG9uRGVsZXRlU3VjY2Vzc0hvb2tFcnJvcikgb25EZWxldGVTdWNjZXNzSG9va0Vycm9yKGVudGl0eSwgZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgIGlmIChvbkRlbGV0ZUZhaWx1cmUpIG9uRGVsZXRlRmFpbHVyZShlbnRpdHksIGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlTmF2aWdhdGlvbkZyb20oe1xuICBwYXRoLFxuICBjb250ZXh0XG59KSB7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBjb250ZXh0LmRhdGFTb3VyY2U7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSBjb250ZXh0Lm5hdmlnYXRpb247XG4gIGlmICghbmF2aWdhdGlvbikge1xuICAgIHRocm93IEVycm9yKFwiQ2FsbGluZyByZXNvbHZlTmF2aWdhdGlvbkZyb20sIGJ1dCBtYWluIG5hdmlnYXRpb24gaGFzIG5vdCB5ZXQgYmVlbiBpbml0aWFsaXNlZFwiKTtcbiAgfVxuICBjb25zdCBuYXZpZ2F0aW9uRW50cmllcyA9IGdldE5hdmlnYXRpb25FbnRyaWVzRnJvbVBhdGgoe1xuICAgIHBhdGgsXG4gICAgY29sbGVjdGlvbnM6IG5hdmlnYXRpb24uY29sbGVjdGlvbnMgPz8gW11cbiAgfSk7XG4gIGNvbnN0IHJlc3VsdFByb21pc2VzID0gbmF2aWdhdGlvbkVudHJpZXMubWFwKChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS50eXBlID09PSBcImNvbGxlY3Rpb25cIikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbnRyeSk7XG4gICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSBcImVudGl0eVwiKSB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gbmF2aWdhdGlvbi5nZXRDb2xsZWN0aW9uKGVudHJ5LnBhdGgpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBObyBjb2xsZWN0aW9uIGRlZmluZWQgaW4gdGhlIG5hdmlnYXRpb24gZm9yIHRoZSBlbnRpdHkgd2l0aCBwYXRoICR7ZW50cnkucGF0aH1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhU291cmNlLmZldGNoRW50aXR5KHtcbiAgICAgICAgcGF0aDogZW50cnkucGF0aCxcbiAgICAgICAgZW50aXR5SWQ6IGVudHJ5LmVudGl0eUlkLFxuICAgICAgICBjb2xsZWN0aW9uXG4gICAgICB9KS50aGVuKChlbnRpdHkpID0+IHtcbiAgICAgICAgaWYgKCFlbnRpdHkpIHJldHVybiB2b2lkIDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgZW50aXR5XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGVudHJ5LnR5cGUgPT09IFwiY3VzdG9tX3ZpZXdcIikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbnRyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5tYXBwZWQgZWxlbWVudCBpbiB1c2VFbnRpdGllc0Zyb21QYXRoXCIpO1xuICAgIH1cbiAgfSkuZmlsdGVyKCh2KSA9PiBCb29sZWFuKHYpKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdFByb21pc2VzKTtcbn1cbmZ1bmN0aW9uIHVzZVJlc29sdmVkTmF2aWdhdGlvbkZyb20odDApIHtcbiAgY29uc3QgJCA9IGMoOSk7XG4gIGNvbnN0IHtcbiAgICBwYXRoXG4gIH0gPSB0MDtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtkYXRhTG9hZGluZywgc2V0RGF0YUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGF0YUxvYWRpbmdFcnJvciwgc2V0RGF0YUxvYWRpbmdFcnJvcl0gPSB1c2VTdGF0ZSgpO1xuICBsZXQgdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbMF0gIT09IGNvbnRleHQgfHwgJFsxXSAhPT0gcGF0aCkge1xuICAgIHQxID0gKCkgPT4ge1xuICAgICAgY29uc3QgbmF2aWdhdGlvbiA9IGNvbnRleHQubmF2aWdhdGlvbjtcbiAgICAgIGlmIChuYXZpZ2F0aW9uKSB7XG4gICAgICAgIHNldERhdGFMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXREYXRhTG9hZGluZ0Vycm9yKHZvaWQgMCk7XG4gICAgICAgIHJlc29sdmVOYXZpZ2F0aW9uRnJvbSh7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBjb250ZXh0XG4gICAgICAgIH0pLnRoZW4oc2V0RGF0YSkuY2F0Y2goKGUpID0+IHNldERhdGFMb2FkaW5nRXJyb3IoZSkpLmZpbmFsbHkoKCkgPT4gc2V0RGF0YUxvYWRpbmcoZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHQyID0gW3BhdGgsIGNvbnRleHRdO1xuICAgICRbMF0gPSBjb250ZXh0O1xuICAgICRbMV0gPSBwYXRoO1xuICAgICRbMl0gPSB0MTtcbiAgICAkWzNdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzJdO1xuICAgIHQyID0gJFszXTtcbiAgfVxuICB1c2VFZmZlY3QodDEsIHQyKTtcbiAgaWYgKCFjb250ZXh0Lm5hdmlnYXRpb24pIHtcbiAgICBsZXQgdDMyO1xuICAgIGlmICgkWzRdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDMyID0ge1xuICAgICAgICBkYXRhTG9hZGluZzogdHJ1ZVxuICAgICAgfTtcbiAgICAgICRbNF0gPSB0MzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzMiA9ICRbNF07XG4gICAgfVxuICAgIHJldHVybiB0MzI7XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs1XSAhPT0gZGF0YSB8fCAkWzZdICE9PSBkYXRhTG9hZGluZyB8fCAkWzddICE9PSBkYXRhTG9hZGluZ0Vycm9yKSB7XG4gICAgdDMgPSB7XG4gICAgICBkYXRhLFxuICAgICAgZGF0YUxvYWRpbmcsXG4gICAgICBkYXRhTG9hZGluZ0Vycm9yXG4gICAgfTtcbiAgICAkWzVdID0gZGF0YTtcbiAgICAkWzZdID0gZGF0YUxvYWRpbmc7XG4gICAgJFs3XSA9IGRhdGFMb2FkaW5nRXJyb3I7XG4gICAgJFs4XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs4XTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5jb25zdCB1c2VNb2RlQ29udHJvbGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoTW9kZUNvbnRyb2xsZXJDb250ZXh0KTtcbn07XG5jb25zdCB1c2VDbGlwYm9hcmQgPSAob3B0aW9ucykgPT4ge1xuICBjb25zdCB7XG4gICAgb25TdWNjZXNzLFxuICAgIG9uRXJyb3IsXG4gICAgZGlzYWJsZUNsaXBib2FyZEFQSSA9IGZhbHNlLFxuICAgIGNvcGllZER1cmF0aW9uXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpc0NvcHBpZWQsIHNldElzQ29wcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjbGlwYm9hcmQsIHNldENsaXBiYW9yZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29waWVkRHVyYXRpb24pIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNDb3BwaWVkKGZhbHNlKSwgY29waWVkRHVyYXRpb24pO1xuICB9LCBbaXNDb3BwaWVkXSk7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gKCkgPT4gbmF2aWdhdG9yLmNsaXBib2FyZCAhPT0gdm9pZCAwO1xuICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcikgPT4ge1xuICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGVycm9yKTtcbiAgICBlbHNlIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH0sIFtvbkVycm9yXSk7XG4gIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSB1c2VDYWxsYmFjaygodGV4dCkgPT4ge1xuICAgIGlmIChvblN1Y2Nlc3MpIG9uU3VjY2Vzcyh0ZXh0KTtcbiAgICBzZXRJc0NvcHBpZWQodHJ1ZSk7XG4gICAgc2V0Q2xpcGJhb3JkKHRleHQpO1xuICB9LCBbb25TdWNjZXNzXSk7XG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9IHVzZUNhbGxiYWNrKCh0ZXh0XzApID0+IHtcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0XzApLnRoZW4oKCkgPT4gaGFuZGxlU3VjY2Vzcyh0ZXh0XzApKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgc2V0SXNDb3BwaWVkKGZhbHNlKTtcbiAgICB9KTtcbiAgfSwgW2hhbmRsZUVycm9yLCBoYW5kbGVTdWNjZXNzXSk7XG4gIGNvbnN0IGNsZWFyQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZCgpKSB7XG4gICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChcIlwiKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvcHkgPSAodGV4dF8xKSA9PiBhY3Rpb24oXCJjb3B5XCIsIHR5cGVvZiB0ZXh0XzEgPT09IFwib2JqZWN0XCIgPyB2b2lkIDAgOiB0ZXh0XzEpO1xuICBjb25zdCBjdXQgPSAoKSA9PiBhY3Rpb24oXCJjdXRcIik7XG4gIGNvbnN0IGFjdGlvbiA9IHVzZUNhbGxiYWNrKChvcGVyYXRpb24gPSBcImNvcHlcIiwgdGV4dF8yKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IHJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGlzSW5wdXQgPSBlbGVtZW50ICYmIChlbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fCBlbGVtZW50LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIik7XG4gICAgY29uc3QgaW5wdXQgPSByZWYuY3VycmVudDtcbiAgICBpZiAoaXNTdXBwb3J0ZWQoKSAmJiAhZGlzYWJsZUNsaXBib2FyZEFQSSkge1xuICAgICAgaWYgKHRleHRfMikge1xuICAgICAgICBjb3B5VG9DbGlwYm9hcmQodGV4dF8yKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoaXNJbnB1dCkge1xuICAgICAgICAgIGNvcHlUb0NsaXBib2FyZChpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gXCJjdXRcIikge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3B5VG9DbGlwYm9hcmQoZWxlbWVudC5pbm5lclRleHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVFcnJvcihcIkJvdGggdGhlIHJlZiAmIHRleHQgd2VyZSB1bmRlZmluZWRcIik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGlzYWJsZUNsaXBib2FyZEFQSSwgY29weVRvQ2xpcGJvYXJkLCBoYW5kbGVFcnJvcl0pO1xuICByZXR1cm4ge1xuICAgIHJlZixcbiAgICBpc0NvcHBpZWQsXG4gICAgY2xpcGJvYXJkLFxuICAgIGNsZWFyQ2xpcGJvYXJkLFxuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNvcHksXG4gICAgY3V0XG4gIH07XG59O1xuY29uc3QgYnJlYWtwb2ludHMgPSB7XG4gIHhzOiAwLFxuICBzbTogNjQwLFxuICBtZDogNzY4LFxuICBsZzogMTAyNCxcbiAgeGw6IDEyODAsXG4gIFwiMnhsXCI6IDE1MzYsXG4gIFwiM3hsXCI6IDE5MjBcbn07XG5sZXQgaXNMYXJnZUxheW91dEdsb2JhbCA9IGNoZWNrTGFyZ2VMYXlvdXQoXCJsZ1wiKTtcbmNvbnN0IGxpc3RlbmVycyA9IFtdO1xuY29uc3Qgbm90aWZ5TGlzdGVuZXJzID0gKCkgPT4ge1xuICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKGlzTGFyZ2VMYXlvdXRHbG9iYWwpKTtcbn07XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICBjb25zdCBuZXdJc0xhcmdlTGF5b3V0ID0gY2hlY2tMYXJnZUxheW91dChcImxnXCIpO1xuICBpZiAobmV3SXNMYXJnZUxheW91dCAhPT0gaXNMYXJnZUxheW91dEdsb2JhbCkge1xuICAgIGlzTGFyZ2VMYXlvdXRHbG9iYWwgPSBuZXdJc0xhcmdlTGF5b3V0O1xuICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICB9XG59KTtcbmNvbnN0IHVzZUxhcmdlTGF5b3V0ID0gKCkgPT4ge1xuICBjb25zdCAkID0gYygyKTtcbiAgY29uc3QgW2lzTGFyZ2VMYXlvdXQsIHNldElzTGFyZ2VMYXlvdXRdID0gdXNlU3RhdGUoaXNMYXJnZUxheW91dEdsb2JhbCk7XG4gIGxldCB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG5ld0lzTGFyZ2VMYXlvdXQpID0+IHtcbiAgICAgICAgc2V0SXNMYXJnZUxheW91dChuZXdJc0xhcmdlTGF5b3V0KTtcbiAgICAgIH07XG4gICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICBzZXRJc0xhcmdlTGF5b3V0KGlzTGFyZ2VMYXlvdXRHbG9iYWwpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICB0MSA9IFtdO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzBdO1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICB1c2VFZmZlY3QodDAsIHQxKTtcbiAgcmV0dXJuIGlzTGFyZ2VMYXlvdXQ7XG59O1xuZnVuY3Rpb24gY2hlY2tMYXJnZUxheW91dChicmVha3BvaW50ID0gXCJsZ1wiKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShgKG1pbi13aWR0aDogJHticmVha3BvaW50c1ticmVha3BvaW50XSArIDF9cHgpYCkubWF0Y2hlcztcbn1cbmZ1bmN0aW9uIHVzZVJlZmVyZW5jZURpYWxvZyhyZWZlcmVuY2VEaWFsb2dQcm9wcykge1xuICBjb25zdCAkID0gYyg5KTtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZGVEaWFsb2dzQ29udHJvbGxlciA9IHVzZVNpZGVEaWFsb2dzQ29udHJvbGxlcigpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSBuYXZpZ2F0aW9uIHx8ICRbMV0gIT09IHJlZmVyZW5jZURpYWxvZ1Byb3BzIHx8ICRbMl0gIT09IHNpZGVEaWFsb2dzQ29udHJvbGxlcikge1xuICAgIHQwID0gKCkgPT4ge1xuICAgICAgaWYgKHJlZmVyZW5jZURpYWxvZ1Byb3BzLnBhdGgpIHtcbiAgICAgICAgbGV0IHVzZWRDb2xsZWN0aW9uID0gcmVmZXJlbmNlRGlhbG9nUHJvcHMuY29sbGVjdGlvbjtcbiAgICAgICAgaWYgKCF1c2VkQ29sbGVjdGlvbikge1xuICAgICAgICAgIHVzZWRDb2xsZWN0aW9uID0gbmF2aWdhdGlvbi5nZXRDb2xsZWN0aW9uKHJlZmVyZW5jZURpYWxvZ1Byb3BzLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXNlZENvbGxlY3Rpb24pIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIk5vdCBhYmxlIHRvIHJlc29sdmUgdGhlIGNvbGxlY3Rpb24gaW4gdXNlUmVmZXJlbmNlRGlhbG9nLiBNYWtlIHN1cmUgYSBjb2xsZWN0aW9uIGlzIHJlZ2lzdGVyZWQgaW4gcGF0aCBcIiArIHJlZmVyZW5jZURpYWxvZ1Byb3BzLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICBrZXk6IGByZWZlcmVuY2VfJHtyZWZlcmVuY2VEaWFsb2dQcm9wcy5wYXRofWAsXG4gICAgICAgICAgY29tcG9uZW50OiAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZVNlbGVjdGlvblRhYmxlLCB7IGNvbGxlY3Rpb246IHVzZWRDb2xsZWN0aW9uLCAuLi5yZWZlcmVuY2VEaWFsb2dQcm9wcyB9KSxcbiAgICAgICAgICB3aWR0aDogXCI5MHZ3XCIsXG4gICAgICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgcmVmZXJlbmNlRGlhbG9nUHJvcHMub25DbG9zZT8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwidXNlUmVmZXJlbmNlRGlhbG9nOiBZb3UgYXJlIHRyeWluZyB0byBvcGVuIGEgcmVmZXJlbmNlIGRpYWxvZywgYnV0IGhhdmUgbm90IGRlY2xhcmVkIHRoZSBgcGF0aGBcIik7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gbmF2aWdhdGlvbjtcbiAgICAkWzFdID0gcmVmZXJlbmNlRGlhbG9nUHJvcHM7XG4gICAgJFsyXSA9IHNpZGVEaWFsb2dzQ29udHJvbGxlcjtcbiAgICAkWzNdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzNdO1xuICB9XG4gIGNvbnN0IG9wZW4gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFs0XSAhPT0gc2lkZURpYWxvZ3NDb250cm9sbGVyKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBzaWRlRGlhbG9nc0NvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICB9O1xuICAgICRbNF0gPSBzaWRlRGlhbG9nc0NvbnRyb2xsZXI7XG4gICAgJFs1XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs1XTtcbiAgfVxuICBjb25zdCBjbG9zZSA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzZdICE9PSBjbG9zZSB8fCAkWzddICE9PSBvcGVuKSB7XG4gICAgdDIgPSB7XG4gICAgICBvcGVuLFxuICAgICAgY2xvc2VcbiAgICB9O1xuICAgICRbNl0gPSBjbG9zZTtcbiAgICAkWzddID0gb3BlbjtcbiAgICAkWzhdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzhdO1xuICB9XG4gIHJldHVybiB0Mjtcbn1cbmNvbnN0IGZpcmVDTVNMb2dvID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQUZ6VWtkQ0FLN09IT2tBQUFBZ1kwaFNUUUFBZWlZQUFJQ0VBQUQ2QUFBQWdPZ0FBSFV3QUFEcVlBQUFPcGdBQUJkd25McFJQQUFBQUFaaVMwZEVBUDhBL3dEL29MMm5rd0FBQUFsd1NGbHpBQUFBU0FBQUFFZ0FSc2xyUGdBQUI5cEpSRUZVV01PTmwxMm9iVlVWeDM5anpMays5ajduSHE5eTFRVDFxcGNiU0lhWFFGR3MyNFBRbDNIcm9TUXlxSHdKRkpGNnFhY2VDc3FRb0pkRUxIb0lDNkVlSkNTS3NpL1RGTEdvekdzS1hrc2xqUkx4bnJQM1dtdk9PVVlQYSsxOXpzbVBXcHV4NXB4cnpUWC8vL0V4eDVoYitCL1gxeSsvbnVJbFZLRjVtMHYxWWJRNTV0SWNLVFFYRmVyTlFrdW1PWjFvVGlYQ3FVSDhzYVIrNzRMOFpJV1d1eDcrN0p1dUwyLzA0czVqSnloV1FsWFY3MUt0YmhDdHIxV3RENnMwS2xyak5CUmFFaTNKR3pwdjZieW1RMHNuOW13djlvdEI3THM3a245WG8rVTdEOXo4L3hHNCtiejNjczM1U2pFL0hFSzhOV3I4UkJPcnMrdFFVVWxFdEFZYWlqUmtieG1ZMGZ1TXp1Y3NmY2JTV25aUXRpV3hKTDNVaWQwOWlIMGpJTTgvMWYrZDMvenVTMjlNNFB2SHJtRytjWkE4ZE1kamlMZk5Zcng2b3dyTVZLbFZVUWtna2VJMWlZYkJKM0EyV1BwS050bngrVVFpc3kyOUwwZ1BER0tmcndrUG4yYkpQZmQvWm8wWlZwMGZ2T09kbkxHeGhlWCtBL01xM25Hd3FTOC9xNjQ1bzRwc3hrZ2JoRnFkU2dxVkpLSWtnaGdxanVEb1doK2RsbTFBSTBnVUMzbzRDOWQwNGlkYm1aMDZldVFEUFBITWozWUozSG5rclp4OThGeXMyUEZaMWR4eHNKa2RQYk9lY2FCcW1jV0dxQlZCSWtFaUtrb1FKNUlKSkJUYlk4YVJnQk13anhnVkpvSkp3RFNjbllVck95MlBCYW1mdi9DUzR6ejl6RStJQUlmUHVRUXpQenlybXE5dTFlM1JNK3FXZWFpcE5DQ2lFNERqYmpnRjk0eFpRajJodHBqZUs4NEltcWxJVXBPOUpsbGdFS2dKREZwZk9vaDhwYU44Y2hiT2VRNGcvT1RxOTdQZExYU3ozZmppVmpPNy9zeDZnODA0b3c0MVFXdUNyalFQQkIzYmtaUWdBa3BCSk9Nb2ptSUVqSWdSS1Y2UnBhWUlaSEdLUWxLNU9JdjBMOGJ1bDhlT2ZzeGpESkdEODYxM3o2cm1ocTFxeGtZMW85WUtGVUZFRUVEMnhxb0UxTU5vV2dQQndRWk1sMlNyU2JRTTlOUXlVTWxBNVMzUmxjcWQ2RTUwUmRSdlBNdm45eUU4cVA5KzlXV3RRdlh4emRpYzh4cndQYUpyVVlKR29xNHNWQk0xVWt1aWxuNFVCaXBKVkpyR29IVWhyQVJCMFhNUS9jaXpiU2Q2MXVhWmx6VWhYanV2V21xdDlvT3lBbVVQRWFibmtTRFYyajBScDJZZ2tzWmRRcG9DdFJCd0FpTjRjS1lkdzRtM3BObmJZOVR3NFNaVWg5dFFFZGErbGQxV3BtVGhnb2l2VThmWURiZ0VnZ1JjbGVpWjZCT29GTlJYTFFRWDFFZWxnZ3NnaDhHUHg2RGhXQjJpUmdrajJPVHVWWDhkQnpKdE14OTNCQUtLNGhJd1VVU0VJRDRCR3NwZWNXVGZEd1NDdytVeHFCeUpvcVBmOSt4bVlXUWc3SDN1KzVQb3lrM281QlpEeFJCeHhIMjlmZGtGM1ljQlhLSGdGK20raEx4bjRPdmJubmJQek1ranNtLytmNWNYZWMyeWU2WmZwTzYrT1g3cEU4VHFQajF6Y04vN1p1OENEbTQ0QnU2c2tyS2p1T3MwRmx4V0NKTk1ZeE1PcUxsUjNEQXZzQUthWm82dDcrdTdyNm5oak4vNVJLSVFLRVNLaHlraGplSUlOZ0ppKzBtNEZpdW5zMldLWlF5YnRKMkFmQVd6R3UvYXl0MHd6NWdYaW1lS1F5S1NQSTRraUNNaER4U2d5TGlPaVk5a3huVzJOVnMrMVplQmJBbXpoTG10Z2QwZDh6MWsxbUlVVHhRYktENWdua211RE42UXZDRjVUYUlpZTBVbWtJVTFpZDNXY2Z3WkhVbzYxZVdCM2dheURkT2laUitKWFV1TVdtY2J5R1djbnkyUnpPaThvYmVXd1JzR3J4bThKbEdQQkhDeU9KbXBKa3drSEhzMDlwbmZMMUw2MEtMcXRCS1p0cHJoVStsVm1TcTkreFJzQmZPTVc2TDRRTEZNN3pXZHorbDhSdTh0QSsxMFlLbEpJaVN4a2NDNmRRcWxtSmMveGFISXZUdVpUN1VwSGFsRlVIRXFMNmlHc2ZLdE04RkV6TWR5N0o0b1h1aTltazVDY3pwR0VydEVLZ2FjUVVaSkUzZ1N3encvaStkZngyRzdlNkljT1BBTENYSWtha0drWXg0aXdjZXlxK3VFTlBwK1JTSTdETjdRKzV5bGI3SmdKTEgwK1hSR2JPbFJlcldKd05nbW5Pd0o4M1R2cS83S1gyS1piMW5KZm5mcDVZUm9kYTdoRkMvTVF5R0k3TXRlb3cyRTRwSGtEVDJ6eWZTNzU4SFY0YlNqb2xPakYyUFlTNEtCYk4yTDV2bUhaN0Rwc1dRbkRzdmZMajErTHd1Znk5TFNPMnk1TTFNbmlrOE9FSnhBb1NKUms3eGhvS1gzK1VSaXp0STNXUGdHUzIvcDFPbkU2Q2NTdlJRR0graHRRZkgwN2RQU1A3THA5YWpjTnkrOURuRy9vTVQ2N3FxWkh6L1F0R3hWeWp3b3JRcVZDSWppUGlhYVREMXR0WlorZlRJZUNYUStZNkhDUW0wdE81TFlwbWZIbHl5OS8xbkNQaTNJQ3cvOTlKYnhVSHJkdnhyNlE0ZGVwZGhUZmVHYXBWZUgraW1LeHdodjZablIrNXplTjBhTkdVMitaSVBPTjBjWDBMQlFZU25HUWdzTFNTem9XZGlDSFZ2UTJmTFAyZk10d2YydkR6NTBLNlRwVlB4ai9zbjdOaTVpdTlsNlRvZit5ZDc4eW9XRlEwdXZXWXZWTEsxaDZlMzRCOFJuWTlEWm5JVzNMQWlqeHBMWWtaNkZkK3o0a20zYlljZDJXTnJ5OGV6cHBzWjVaTWQyK01mVHYzeHRqYnI5L1Bmd3lvRkR6UHZ0cTdJMnQrVnEvbTZwdDRoeFRoVmFvamFvMUNBTlJrT1Jta3draVRDSTAwdGhLWVdPekpKUis2VjFKRTgvejJKZnFHZ2ZXOWpMUFBMZzdhOVhlOGZySHM3ajVNVlhFU3hmbUxTNUtZWG14aFEzei9hNGljUU5SRnRFR2x3akprb1JJYW1UbUlLTlRFK2l0NTdrdzBzRisxYWgzQ2tTWGtpUGY0Mkh0bCszV0wvMit2SUZKNmlzaEozUVhEMW85ZEVoVkNjR2JTN01vZFVjYWt3cmlnYUtDaGtvWW1RSzJYTXA1TDhWL0Y3RGZ1RGVQWXJFY3Y4ZjducGRuRGNrc0V2a2c5UmV3cXVodWF5VGNIelFlQ3lKWHBGVkQyZlJ6U3hDRnRrdXdxa3M4bWpCL3VqWXI5eTZrMGdzOTUyODUwM1gvdy9GM2VVZ3lJQkk0d0FBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeU1TMHdOUzB4TUZReE9Ub3lPRG96TXlzd01Eb3dNRXplU3g0QUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNakV0TURVdE1UQlVNVGs2TWpnNk16TXJNREE2TURBOWcvT2lBQUFBUm5SRldIUnpiMlowZDJGeVpRQkpiV0ZuWlUxaFoybGpheUEyTGpjdU9DMDVJREl3TVRRdE1EVXRNVElnVVRFMklHaDBkSEE2THk5M2QzY3VhVzFoWjJWdFlXZHBZMnN1YjNKbjNJYnRBQUFBQUJoMFJWaDBWR2gxYldJNk9rUnZZM1Z0Wlc1ME9qcFFZV2RsY3dBeHAvKzdMd0FBQUJoMFJWaDBWR2gxYldJNk9rbHRZV2RsT2pwb1pXbG5hSFFBTVRreUR3QnloUUFBQUJkMFJWaDBWR2gxYldJNk9rbHRZV2RsT2pwWGFXUjBhQUF4T1RMVHJDRUlBQUFBR1hSRldIUlVhSFZ0WWpvNlRXbHRaWFI1Y0dVQWFXMWhaMlV2Y0c1blA3SldUZ0FBQUJkMFJWaDBWR2gxYldJNk9rMVVhVzFsQURFMk1qQTJOelE1TVRNazhvc3dBQUFBRDNSRldIUlVhSFZ0WWpvNlUybDZaUUF3UWtLVW9qN3NBQUFBVm5SRldIUlVhSFZ0WWpvNlZWSkpBR1pwYkdVNkx5OHZiVzUwYkc5bkwyWmhkbWxqYjI1ekx6SXdNakV0TURVdE1UQXZPR0l4TkROaFlqZ3dPRGhrTWpCbFpUaGtZbVV6T1RGaE4yTmtObVEzTm1RdWFXTnZMbkJ1Wjltc2dHMEFBQUFBU1VWT1JLNUNZSUk9XFxuXCI7XG5mdW5jdGlvbiB1c2VCcm93c2VyVGl0bGVBbmRJY29uKG5hbWUsIGxvZ28pIHtcbiAgY29uc3QgJCA9IGMoNCk7XG4gIGxldCB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gbG9nbyB8fCAkWzFdICE9PSBuYW1lKSB7XG4gICAgdDAgPSAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgJHtuYW1lfSAtIEZpcmVDTVNgO1xuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW3JlbH49J2ljb24nXVwiKTtcbiAgICAgICAgaWYgKCFsaW5rKSB7XG4gICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgIGxpbmsucmVsID0gXCJpY29uXCI7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICAgIGxpbmsuaHJlZiA9IGxvZ28gPz8gZmlyZUNNU0xvZ287XG4gICAgICB9XG4gICAgfTtcbiAgICB0MSA9IFtuYW1lLCBsb2dvXTtcbiAgICAkWzBdID0gbG9nbztcbiAgICAkWzFdID0gbmFtZTtcbiAgICAkWzJdID0gdDA7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFsyXTtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgdXNlRWZmZWN0KHQwLCB0MSk7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRSZWZlcmVuY2VzRnJvbVBhdGgocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHBhdGgsXG4gICAgY29sbGVjdGlvbnMgPSBbXSxcbiAgICBjdXJyZW50RnVsbFBhdGhcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzdWJwYXRocyA9IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocGF0aCkuc3BsaXQoXCIvXCIpO1xuICBjb25zdCBzdWJwYXRoQ29tYmluYXRpb25zID0gZ2V0Q29sbGVjdGlvblBhdGhzQ29tYmluYXRpb25zKHN1YnBhdGhzKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3VicGF0aENvbWJpbmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN1YnBhdGhDb21iaW5hdGlvbiA9IHN1YnBhdGhDb21iaW5hdGlvbnNbaV07XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zICYmIGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc3VicGF0aENvbWJpbmF0aW9uIHx8IGVudHJ5LnBhdGggPT09IHN1YnBhdGhDb21iaW5hdGlvbik7XG4gICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25QYXRoID0gY3VycmVudEZ1bGxQYXRoICYmIGN1cnJlbnRGdWxsUGF0aC5sZW5ndGggPiAwID8gY3VycmVudEZ1bGxQYXRoICsgXCIvXCIgKyBjb2xsZWN0aW9uLnBhdGggOiBjb2xsZWN0aW9uLnBhdGg7XG4gICAgICBjb25zdCByZXN0T2ZUaGVQYXRoID0gcmVtb3ZlSW5pdGlhbEFuZFRyYWlsaW5nU2xhc2hlcyhyZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKHBhdGgpLnJlcGxhY2Uoc3VicGF0aENvbWJpbmF0aW9uLCBcIlwiKSk7XG4gICAgICBjb25zdCBuZXh0U2VnbWVudHMgPSByZXN0T2ZUaGVQYXRoLmxlbmd0aCA+IDAgPyByZXN0T2ZUaGVQYXRoLnNwbGl0KFwiL1wiKSA6IFtdO1xuICAgICAgaWYgKG5leHRTZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eUlkID0gbmV4dFNlZ21lbnRzWzBdO1xuICAgICAgICBjb25zdCBmdWxsUGF0aCA9IGNvbGxlY3Rpb25QYXRoICsgXCIvXCIgKyBlbnRpdHlJZDtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IEVudGl0eVJlZmVyZW5jZShlbnRpdHlJZCwgY29sbGVjdGlvblBhdGgpKTtcbiAgICAgICAgaWYgKG5leHRTZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgY29uc3QgbmV3UGF0aCA9IG5leHRTZWdtZW50cy5zbGljZSgxKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiY29sbGVjdGlvbiBub3QgZm91bmQgcmVzb2x2aW5nIHBhdGg6IFwiICsgY29sbGVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb2xsZWN0aW9uLnN1YmNvbGxlY3Rpb25zKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCguLi5nZXRQYXJlbnRSZWZlcmVuY2VzRnJvbVBhdGgoe1xuICAgICAgICAgICAgICBwYXRoOiBuZXdQYXRoLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uczogY29sbGVjdGlvbi5zdWJjb2xsZWN0aW9ucyxcbiAgICAgICAgICAgICAgY3VycmVudEZ1bGxQYXRoOiBmdWxsUGF0aFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBERUZBVUxUX0JBU0VfUEFUSCA9IFwiL1wiO1xuY29uc3QgREVGQVVMVF9DT0xMRUNUSU9OX1BBVEggPSBcIi9jXCI7XG5mdW5jdGlvbiB1c2VCdWlsZE5hdmlnYXRpb25Db250cm9sbGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlUGF0aCA9IERFRkFVTFRfQkFTRV9QQVRILFxuICAgIGJhc2VDb2xsZWN0aW9uUGF0aCA9IERFRkFVTFRfQ09MTEVDVElPTl9QQVRILFxuICAgIGF1dGhDb250cm9sbGVyLFxuICAgIGNvbGxlY3Rpb25zOiBjb2xsZWN0aW9uc1Byb3AsXG4gICAgY29sbGVjdGlvblBlcm1pc3Npb25zLFxuICAgIHZpZXdzOiB2aWV3c1Byb3AsXG4gICAgYWRtaW5WaWV3czogYWRtaW5WaWV3c1Byb3AsXG4gICAgdmlld3NPcmRlcixcbiAgICB1c2VyQ29uZmlnUGVyc2lzdGVuY2UsXG4gICAgZGF0YVNvdXJjZURlbGVnYXRlLFxuICAgIGluamVjdENvbGxlY3Rpb25zLFxuICAgIGRpc2FibGVkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBjb2xsZWN0aW9uc1JlZiA9IHVzZVJlZigpO1xuICBjb25zdCB2aWV3c1JlZiA9IHVzZVJlZigpO1xuICBjb25zdCBhZG1pblZpZXdzUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IFtpbml0aWFsaXNlZCwgc2V0SW5pdGlhbGlzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdG9wTGV2ZWxOYXZpZ2F0aW9uLCBzZXRUb3BMZXZlbE5hdmlnYXRpb25dID0gdXNlU3RhdGUodm9pZCAwKTtcbiAgY29uc3QgW25hdmlnYXRpb25Mb2FkaW5nLCBzZXROYXZpZ2F0aW9uTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW25hdmlnYXRpb25Mb2FkaW5nRXJyb3IsIHNldE5hdmlnYXRpb25Mb2FkaW5nRXJyb3JdID0gdXNlU3RhdGUodm9pZCAwKTtcbiAgY29uc3QgY2xlYW5CYXNlUGF0aCA9IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMoYmFzZVBhdGgpO1xuICBjb25zdCBjbGVhbkJhc2VDb2xsZWN0aW9uUGF0aCA9IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMoYmFzZUNvbGxlY3Rpb25QYXRoKTtcbiAgY29uc3QgaG9tZVVybCA9IGNsZWFuQmFzZVBhdGggPyBgLyR7Y2xlYW5CYXNlUGF0aH1gIDogXCIvXCI7XG4gIGNvbnN0IGZ1bGxDb2xsZWN0aW9uUGF0aCA9IGNsZWFuQmFzZVBhdGggPyBgLyR7Y2xlYW5CYXNlUGF0aH0vJHtjbGVhbkJhc2VDb2xsZWN0aW9uUGF0aH1gIDogYC8ke2NsZWFuQmFzZUNvbGxlY3Rpb25QYXRofWA7XG4gIGNvbnN0IGJ1aWxkQ01TVXJsUGF0aCA9IHVzZUNhbGxiYWNrKChwYXRoKSA9PiBjbGVhbkJhc2VQYXRoID8gYC8ke2NsZWFuQmFzZVBhdGh9LyR7ZW5jb2RlUGF0aChwYXRoKX1gIDogYC8ke2VuY29kZVBhdGgocGF0aCl9YCwgW2NsZWFuQmFzZVBhdGhdKTtcbiAgY29uc3QgYnVpbGRVcmxDb2xsZWN0aW9uUGF0aCA9IHVzZUNhbGxiYWNrKChwYXRoXzApID0+IGAke3JlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMoYmFzZUNvbGxlY3Rpb25QYXRoKX0vJHtlbmNvZGVQYXRoKHBhdGhfMCl9YCwgW2Jhc2VDb2xsZWN0aW9uUGF0aF0pO1xuICBjb25zdCBjb21wdXRlVG9wTmF2aWdhdGlvbiA9IHVzZUNhbGxiYWNrKChjb2xsZWN0aW9ucywgdmlld3MsIGFkbWluVmlld3MsIHZpZXdzT3JkZXJfMCkgPT4ge1xuICAgIGxldCBuYXZpZ2F0aW9uRW50cmllcyA9IFsuLi4oY29sbGVjdGlvbnMgPz8gW10pLm1hcCgoY29sbGVjdGlvbikgPT4gIWNvbGxlY3Rpb24uaGlkZUZyb21OYXZpZ2F0aW9uID8ge1xuICAgICAgdXJsOiBidWlsZFVybENvbGxlY3Rpb25QYXRoKGNvbGxlY3Rpb24uaWQgPz8gY29sbGVjdGlvbi5wYXRoKSxcbiAgICAgIHR5cGU6IFwiY29sbGVjdGlvblwiLFxuICAgICAgbmFtZTogY29sbGVjdGlvbi5uYW1lLnRyaW0oKSxcbiAgICAgIHBhdGg6IGNvbGxlY3Rpb24uaWQgPz8gY29sbGVjdGlvbi5wYXRoLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGRlc2NyaXB0aW9uOiBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uPy50cmltKCksXG4gICAgICBncm91cDogZ2V0R3JvdXAoY29sbGVjdGlvbilcbiAgICB9IDogdm9pZCAwKS5maWx0ZXIoQm9vbGVhbiksIC4uLih2aWV3cyA/PyBbXSkubWFwKCh2aWV3KSA9PiAhdmlldy5oaWRlRnJvbU5hdmlnYXRpb24gPyB7XG4gICAgICB1cmw6IGJ1aWxkQ01TVXJsUGF0aChBcnJheS5pc0FycmF5KHZpZXcucGF0aCkgPyB2aWV3LnBhdGhbMF0gOiB2aWV3LnBhdGgpLFxuICAgICAgbmFtZTogdmlldy5uYW1lLnRyaW0oKSxcbiAgICAgIHR5cGU6IFwidmlld1wiLFxuICAgICAgcGF0aDogdmlldy5wYXRoLFxuICAgICAgdmlldyxcbiAgICAgIGRlc2NyaXB0aW9uOiB2aWV3LmRlc2NyaXB0aW9uPy50cmltKCksXG4gICAgICBncm91cDogZ2V0R3JvdXAodmlldylcbiAgICB9IDogdm9pZCAwKS5maWx0ZXIoQm9vbGVhbiksIC4uLihhZG1pblZpZXdzID8/IFtdKS5tYXAoKHZpZXdfMCkgPT4gIXZpZXdfMC5oaWRlRnJvbU5hdmlnYXRpb24gPyB7XG4gICAgICB1cmw6IGJ1aWxkQ01TVXJsUGF0aChBcnJheS5pc0FycmF5KHZpZXdfMC5wYXRoKSA/IHZpZXdfMC5wYXRoWzBdIDogdmlld18wLnBhdGgpLFxuICAgICAgbmFtZTogdmlld18wLm5hbWUudHJpbSgpLFxuICAgICAgdHlwZTogXCJhZG1pblwiLFxuICAgICAgcGF0aDogdmlld18wLnBhdGgsXG4gICAgICB2aWV3OiB2aWV3XzAsXG4gICAgICBkZXNjcmlwdGlvbjogdmlld18wLmRlc2NyaXB0aW9uPy50cmltKCksXG4gICAgICBncm91cDogXCJBZG1pblwiXG4gICAgfSA6IHZvaWQgMCkuZmlsdGVyKEJvb2xlYW4pXTtcbiAgICBuYXZpZ2F0aW9uRW50cmllcyA9IG5hdmlnYXRpb25FbnRyaWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLmdyb3VwICE9PSBcIlZpZXdzXCIgJiYgYS5ncm91cCAhPT0gXCJBZG1pblwiICYmIChiLmdyb3VwID09PSBcIlZpZXdzXCIgfHwgYi5ncm91cCA9PT0gXCJBZG1pblwiKSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICBpZiAoYi5ncm91cCAhPT0gXCJWaWV3c1wiICYmIGIuZ3JvdXAgIT09IFwiQWRtaW5cIiAmJiAoYS5ncm91cCA9PT0gXCJWaWV3c1wiIHx8IGEuZ3JvdXAgPT09IFwiQWRtaW5cIikpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpZiAoYS5ncm91cCA9PT0gXCJBZG1pblwiICYmIGIuZ3JvdXAgIT09IFwiQWRtaW5cIikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGlmIChhLmdyb3VwICE9PSBcIkFkbWluXCIgJiYgYi5ncm91cCA9PT0gXCJBZG1pblwiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChhLmdyb3VwID09PSBcIlZpZXdzXCIgJiYgYi5ncm91cCAhPT0gXCJWaWV3c1wiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChhLmdyb3VwICE9PSBcIlZpZXdzXCIgJiYgYi5ncm91cCA9PT0gXCJWaWV3c1wiKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG4gICAgaWYgKHZpZXdzT3JkZXJfMCkge1xuICAgICAgbmF2aWdhdGlvbkVudHJpZXMgPSBuYXZpZ2F0aW9uRW50cmllcy5zb3J0KChhXzAsIGJfMCkgPT4ge1xuICAgICAgICBjb25zdCBhSW5kZXggPSB2aWV3c09yZGVyXzAuaW5kZXhPZihhXzAucGF0aCk7XG4gICAgICAgIGNvbnN0IGJJbmRleCA9IHZpZXdzT3JkZXJfMC5pbmRleE9mKGJfMC5wYXRoKTtcbiAgICAgICAgaWYgKGFJbmRleCA9PT0gLTEgJiYgYkluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBncm91cHMgPSBPYmplY3QudmFsdWVzKG5hdmlnYXRpb25FbnRyaWVzKS5tYXAoKGUpID0+IGUuZ3JvdXApLmZpbHRlcihCb29sZWFuKS5maWx0ZXIoKHZhbHVlLCBpbmRleCwgYXJyYXkpID0+IGFycmF5LmluZGV4T2YodmFsdWUpID09PSBpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hdmlnYXRpb25FbnRyaWVzLFxuICAgICAgZ3JvdXBzXG4gICAgfTtcbiAgfSwgW2J1aWxkQ01TVXJsUGF0aCwgYnVpbGRVcmxDb2xsZWN0aW9uUGF0aF0pO1xuICBjb25zdCByZWZyZXNoTmF2aWdhdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQgfHwgYXV0aENvbnRyb2xsZXIuaW5pdGlhbExvYWRpbmcpIHJldHVybjtcbiAgICBjb25zb2xlLmRlYnVnKFwiUmVmcmVzaGluZyBuYXZpZ2F0aW9uXCIpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbcmVzb2x2ZWRDb2xsZWN0aW9ucyA9IFtdLCByZXNvbHZlZFZpZXdzLCByZXNvbHZlZEFkbWluVmlld3MgPSBbXV0gPSBhd2FpdCBQcm9taXNlLmFsbChbcmVzb2x2ZUNvbGxlY3Rpb25zKGNvbGxlY3Rpb25zUHJvcCwgY29sbGVjdGlvblBlcm1pc3Npb25zLCBhdXRoQ29udHJvbGxlciwgZGF0YVNvdXJjZURlbGVnYXRlLCBpbmplY3RDb2xsZWN0aW9ucyksIHJlc29sdmVDTVNWaWV3cyh2aWV3c1Byb3AsIGF1dGhDb250cm9sbGVyLCBkYXRhU291cmNlRGVsZWdhdGUpLCByZXNvbHZlQ01TVmlld3MoYWRtaW5WaWV3c1Byb3AsIGF1dGhDb250cm9sbGVyLCBkYXRhU291cmNlRGVsZWdhdGUpXSk7XG4gICAgICBsZXQgc2hvdWxkVXBkYXRlVG9wTGV2ZWxOYXYgPSBmYWxzZTtcbiAgICAgIGlmICghYXJlQ29sbGVjdGlvbkxpc3RzRXF1YWwoY29sbGVjdGlvbnNSZWYuY3VycmVudCA/PyBbXSwgcmVzb2x2ZWRDb2xsZWN0aW9ucykpIHtcbiAgICAgICAgY29sbGVjdGlvbnNSZWYuY3VycmVudCA9IHJlc29sdmVkQ29sbGVjdGlvbnM7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCJDb2xsZWN0aW9ucyBoYXZlIGNoYW5nZWRcIiwgcmVzb2x2ZWRDb2xsZWN0aW9ucyk7XG4gICAgICAgIHNob3VsZFVwZGF0ZVRvcExldmVsTmF2ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uc1JlZi5jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29sbGVjdGlvbnNSZWYuY3VycmVudCA9IHJlc29sdmVkQ29sbGVjdGlvbnM7XG4gICAgICAgIHNob3VsZFVwZGF0ZVRvcExldmVsTmF2ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghZXF1YWwodmlld3NSZWYuY3VycmVudCwgcmVzb2x2ZWRWaWV3cykpIHtcbiAgICAgICAgdmlld3NSZWYuY3VycmVudCA9IHJlc29sdmVkVmlld3M7XG4gICAgICAgIHNob3VsZFVwZGF0ZVRvcExldmVsTmF2ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghZXF1YWwoYWRtaW5WaWV3c1JlZi5jdXJyZW50LCByZXNvbHZlZEFkbWluVmlld3MpKSB7XG4gICAgICAgIGFkbWluVmlld3NSZWYuY3VycmVudCA9IHJlc29sdmVkQWRtaW5WaWV3cztcbiAgICAgICAgc2hvdWxkVXBkYXRlVG9wTGV2ZWxOYXYgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY29tcHV0ZWRUb3BMZXZlbE5hdiA9IGNvbXB1dGVUb3BOYXZpZ2F0aW9uKHJlc29sdmVkQ29sbGVjdGlvbnMsIHJlc29sdmVkVmlld3MsIHJlc29sdmVkQWRtaW5WaWV3cywgdmlld3NPcmRlcik7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlVG9wTGV2ZWxOYXYgJiYgIWVxdWFsKHRvcExldmVsTmF2aWdhdGlvbiwgY29tcHV0ZWRUb3BMZXZlbE5hdikpIHtcbiAgICAgICAgc2V0VG9wTGV2ZWxOYXZpZ2F0aW9uKGNvbXB1dGVkVG9wTGV2ZWxOYXYpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMCkge1xuICAgICAgY29uc29sZS5lcnJvcihlXzApO1xuICAgICAgc2V0TmF2aWdhdGlvbkxvYWRpbmdFcnJvcihlXzApO1xuICAgIH1cbiAgICBpZiAobmF2aWdhdGlvbkxvYWRpbmcpIHNldE5hdmlnYXRpb25Mb2FkaW5nKGZhbHNlKTtcbiAgICBpZiAoIWluaXRpYWxpc2VkKSBzZXRJbml0aWFsaXNlZCh0cnVlKTtcbiAgfSwgW2NvbGxlY3Rpb25zUHJvcCwgY29sbGVjdGlvblBlcm1pc3Npb25zLCBhdXRoQ29udHJvbGxlci51c2VyLCBhdXRoQ29udHJvbGxlci5pbml0aWFsTG9hZGluZywgZGlzYWJsZWQsIHZpZXdzUHJvcCwgYWRtaW5WaWV3c1Byb3AsIGNvbXB1dGVUb3BOYXZpZ2F0aW9uLCBpbmplY3RDb2xsZWN0aW9uc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gIH0sIFtyZWZyZXNoTmF2aWdhdGlvbl0pO1xuICBjb25zdCBnZXRDb2xsZWN0aW9uID0gdXNlQ2FsbGJhY2soKGlkT3JQYXRoLCBpbmNsdWRlVXNlck92ZXJyaWRlID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBjb2xsZWN0aW9uc18wID0gY29sbGVjdGlvbnNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbGxlY3Rpb25zXzApIHJldHVybiB2b2lkIDA7XG4gICAgY29uc3QgYmFzZUNvbGxlY3Rpb24gPSBnZXRDb2xsZWN0aW9uQnlQYXRoT3JJZChyZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKGlkT3JQYXRoKSwgY29sbGVjdGlvbnNfMCk7XG4gICAgY29uc3QgdXNlck92ZXJyaWRlID0gaW5jbHVkZVVzZXJPdmVycmlkZSA/IHVzZXJDb25maWdQZXJzaXN0ZW5jZT8uZ2V0Q29sbGVjdGlvbkNvbmZpZyhpZE9yUGF0aCkgOiB2b2lkIDA7XG4gICAgY29uc3Qgb3ZlcnJpZGRlbkNvbGxlY3Rpb24gPSBiYXNlQ29sbGVjdGlvbiA/IG1lcmdlRGVlcChiYXNlQ29sbGVjdGlvbiwgdXNlck92ZXJyaWRlID8/IHt9KSA6IHZvaWQgMDtcbiAgICBsZXQgcmVzdWx0ID0gb3ZlcnJpZGRlbkNvbGxlY3Rpb247XG4gICAgaWYgKG92ZXJyaWRkZW5Db2xsZWN0aW9uKSB7XG4gICAgICBjb25zdCBzdWJjb2xsZWN0aW9ucyA9IG92ZXJyaWRkZW5Db2xsZWN0aW9uLnN1YmNvbGxlY3Rpb25zO1xuICAgICAgY29uc3QgY2FsbGJhY2tzID0gb3ZlcnJpZGRlbkNvbGxlY3Rpb24uY2FsbGJhY2tzO1xuICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSBvdmVycmlkZGVuQ29sbGVjdGlvbi5wZXJtaXNzaW9ucztcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBzdWJjb2xsZWN0aW9uczogcmVzdWx0Py5zdWJjb2xsZWN0aW9ucyA/PyBzdWJjb2xsZWN0aW9ucyxcbiAgICAgICAgY2FsbGJhY2tzOiByZXN1bHQ/LmNhbGxiYWNrcyA/PyBjYWxsYmFja3MsXG4gICAgICAgIHBlcm1pc3Npb25zOiByZXN1bHQ/LnBlcm1pc3Npb25zID8/IHBlcm1pc3Npb25zXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIHZvaWQgMDtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3ZlcnJpZGRlbkNvbGxlY3Rpb24sXG4gICAgICAuLi5yZXN1bHRcbiAgICB9O1xuICB9LCBbdXNlckNvbmZpZ1BlcnNpc3RlbmNlXSk7XG4gIGNvbnN0IGdldENvbGxlY3Rpb25Gcm9tUGF0aHMgPSB1c2VDYWxsYmFjaygocGF0aFNlZ21lbnRzKSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbnNfMSA9IGNvbGxlY3Rpb25zUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNvbGxlY3Rpb25zXzEgPT09IHZvaWQgMCkgdGhyb3cgRXJyb3IoXCJnZXRDb2xsZWN0aW9uRnJvbVBhdGhzOiBDb2xsZWN0aW9ucyBoYXZlIG5vdCBiZWVuIGluaXRpYWxpc2VkIHlldFwiKTtcbiAgICBsZXQgY3VycmVudENvbGxlY3Rpb25zID0gWy4uLmNvbGxlY3Rpb25zXzEgPz8gW11dO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aFNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXRoU2VnbWVudCA9IHBhdGhTZWdtZW50c1tpXTtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25fMCA9IGN1cnJlbnRDb2xsZWN0aW9ucy5maW5kKChjMikgPT4gYzIuaWQgPT09IHBhdGhTZWdtZW50IHx8IGMyLnBhdGggPT09IHBhdGhTZWdtZW50KTtcbiAgICAgIGlmICghY29sbGVjdGlvbl8wKSByZXR1cm4gdm9pZCAwO1xuICAgICAgY3VycmVudENvbGxlY3Rpb25zID0gY29sbGVjdGlvbl8wLnN1YmNvbGxlY3Rpb25zO1xuICAgICAgaWYgKGkgPT09IHBhdGhTZWdtZW50cy5sZW5ndGggLSAxKSByZXR1cm4gY29sbGVjdGlvbl8wO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9LCBbXSk7XG4gIGNvbnN0IGdldENvbGxlY3Rpb25Gcm9tSWRzID0gdXNlQ2FsbGJhY2soKGlkcykgPT4ge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zXzIgPSBjb2xsZWN0aW9uc1JlZi5jdXJyZW50O1xuICAgIGlmIChjb2xsZWN0aW9uc18yID09PSB2b2lkIDApIHRocm93IEVycm9yKFwiZ2V0Q29sbGVjdGlvbkZyb21JZHM6IENvbGxlY3Rpb25zIGhhdmUgbm90IGJlZW4gaW5pdGlhbGlzZWQgeWV0XCIpO1xuICAgIGxldCBjdXJyZW50Q29sbGVjdGlvbnNfMCA9IFsuLi5jb2xsZWN0aW9uc18yID8/IFtdXTtcbiAgICBmb3IgKGxldCBpXzAgPSAwOyBpXzAgPCBpZHMubGVuZ3RoOyBpXzArKykge1xuICAgICAgY29uc3QgaWQgPSBpZHNbaV8wXTtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25fMSA9IGN1cnJlbnRDb2xsZWN0aW9uc18wLmZpbmQoKGNfMCkgPT4gY18wLmlkID09PSBpZCk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25fMSkgcmV0dXJuIHZvaWQgMDtcbiAgICAgIGN1cnJlbnRDb2xsZWN0aW9uc18wID0gY29sbGVjdGlvbl8xLnN1YmNvbGxlY3Rpb25zO1xuICAgICAgaWYgKGlfMCA9PT0gaWRzLmxlbmd0aCAtIDEpIHJldHVybiBjb2xsZWN0aW9uXzE7XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH0sIFtdKTtcbiAgY29uc3QgaXNVcmxDb2xsZWN0aW9uUGF0aCA9IHVzZUNhbGxiYWNrKChwYXRoXzEpID0+IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocGF0aF8xICsgXCIvXCIpLnN0YXJ0c1dpdGgocmVtb3ZlSW5pdGlhbEFuZFRyYWlsaW5nU2xhc2hlcyhmdWxsQ29sbGVjdGlvblBhdGgpICsgXCIvXCIpLCBbZnVsbENvbGxlY3Rpb25QYXRoXSk7XG4gIGNvbnN0IHVybFBhdGhUb0RhdGFQYXRoID0gdXNlQ2FsbGJhY2soKHBhdGhfMikgPT4ge1xuICAgIGlmIChwYXRoXzIuc3RhcnRzV2l0aChmdWxsQ29sbGVjdGlvblBhdGgpKSByZXR1cm4gcGF0aF8yLnJlcGxhY2UoZnVsbENvbGxlY3Rpb25QYXRoLCBcIlwiKTtcbiAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHBhdGggc3RhcnRpbmcgd2l0aCBcIiArIGZ1bGxDb2xsZWN0aW9uUGF0aCk7XG4gIH0sIFtmdWxsQ29sbGVjdGlvblBhdGhdKTtcbiAgY29uc3QgcmVzb2x2ZUlkc0Zyb20gPSB1c2VDYWxsYmFjaygocGF0aF8zKSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbnNfMyA9IGNvbGxlY3Rpb25zUmVmLmN1cnJlbnQgPz8gW107XG4gICAgcmV0dXJuIHJlc29sdmVDb2xsZWN0aW9uUGF0aElkcyhwYXRoXzMsIGNvbGxlY3Rpb25zXzMpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGdldEFsbFBhcmVudFJlZmVyZW5jZXNGb3JQYXRoID0gdXNlQ2FsbGJhY2soKHBhdGhfNCkgPT4ge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zXzQgPSBjb2xsZWN0aW9uc1JlZi5jdXJyZW50ID8/IFtdO1xuICAgIHJldHVybiBnZXRQYXJlbnRSZWZlcmVuY2VzRnJvbVBhdGgoe1xuICAgICAgcGF0aDogcGF0aF80LFxuICAgICAgY29sbGVjdGlvbnM6IGNvbGxlY3Rpb25zXzRcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBnZXRQYXJlbnRDb2xsZWN0aW9uSWRzID0gdXNlQ2FsbGJhY2soKHBhdGhfNSkgPT4ge1xuICAgIGNvbnN0IHN0cmluZ3MgPSBwYXRoXzUuc3BsaXQoXCIvXCIpO1xuICAgIGNvbnN0IG9kZFBhdGhTZWdtZW50cyA9IHN0cmluZ3MuZmlsdGVyKChfLCBpXzEpID0+IGlfMSAlIDIgPT09IDApO1xuICAgIG9kZFBhdGhTZWdtZW50cy5wb3AoKTtcbiAgICBjb25zdCByZXN1bHRfMCA9IFtdO1xuICAgIGZvciAobGV0IGlfMiA9IDE7IGlfMiA8PSBvZGRQYXRoU2VnbWVudHMubGVuZ3RoOyBpXzIrKykge1xuICAgICAgcmVzdWx0XzAucHVzaChvZGRQYXRoU2VnbWVudHMuc2xpY2UoMCwgaV8yKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRfMC5tYXAoKHIpID0+IGdldENvbGxlY3Rpb25Gcm9tUGF0aHMocik/LmlkKS5maWx0ZXIoQm9vbGVhbik7XG4gIH0sIFtnZXRBbGxQYXJlbnRSZWZlcmVuY2VzRm9yUGF0aF0pO1xuICBjb25zdCBjb252ZXJ0SWRzVG9QYXRocyA9IHVzZUNhbGxiYWNrKChpZHNfMCkgPT4ge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zXzUgPSBjb2xsZWN0aW9uc1JlZi5jdXJyZW50O1xuICAgIGxldCBjdXJyZW50Q29sbGVjdGlvbnNfMSA9IGNvbGxlY3Rpb25zXzU7XG4gICAgY29uc3QgcGF0aHMgPSBbXTtcbiAgICBmb3IgKGxldCBpXzMgPSAwOyBpXzMgPCBpZHNfMC5sZW5ndGg7IGlfMysrKSB7XG4gICAgICBjb25zdCBpZF8wID0gaWRzXzBbaV8zXTtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25fMiA9IGN1cnJlbnRDb2xsZWN0aW9uc18xLmZpbmQoKGNfMSkgPT4gY18xLmlkID09PSBpZF8wKTtcbiAgICAgIGlmICghY29sbGVjdGlvbl8yKSB0aHJvdyBFcnJvcihgQ29sbGVjdGlvbiB3aXRoIGlkICR7aWRfMH0gbm90IGZvdW5kYCk7XG4gICAgICBwYXRocy5wdXNoKGNvbGxlY3Rpb25fMi5wYXRoKTtcbiAgICAgIGN1cnJlbnRDb2xsZWN0aW9uc18xID0gY29sbGVjdGlvbl8yLnN1YmNvbGxlY3Rpb25zO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aHM7XG4gIH0sIFtnZXRDb2xsZWN0aW9uRnJvbUlkc10pO1xuICByZXR1cm4ge1xuICAgIGNvbGxlY3Rpb25zOiBjb2xsZWN0aW9uc1JlZi5jdXJyZW50LFxuICAgIHZpZXdzOiB2aWV3c1JlZi5jdXJyZW50LFxuICAgIGFkbWluVmlld3M6IGFkbWluVmlld3NSZWYuY3VycmVudCxcbiAgICBsb2FkaW5nOiAhaW5pdGlhbGlzZWQgfHwgbmF2aWdhdGlvbkxvYWRpbmcsXG4gICAgbmF2aWdhdGlvbkxvYWRpbmdFcnJvcixcbiAgICBob21lVXJsLFxuICAgIGJhc2VQYXRoLFxuICAgIGJhc2VDb2xsZWN0aW9uUGF0aCxcbiAgICBpbml0aWFsaXNlZCxcbiAgICBnZXRDb2xsZWN0aW9uLFxuICAgIGdldENvbGxlY3Rpb25Gcm9tUGF0aHMsXG4gICAgZ2V0Q29sbGVjdGlvbkZyb21JZHMsXG4gICAgaXNVcmxDb2xsZWN0aW9uUGF0aCxcbiAgICB1cmxQYXRoVG9EYXRhUGF0aCxcbiAgICBidWlsZFVybENvbGxlY3Rpb25QYXRoLFxuICAgIHJlc29sdmVJZHNGcm9tLFxuICAgIHRvcExldmVsTmF2aWdhdGlvbixcbiAgICByZWZyZXNoTmF2aWdhdGlvbixcbiAgICBnZXRQYXJlbnRSZWZlcmVuY2VzRnJvbVBhdGg6IGdldEFsbFBhcmVudFJlZmVyZW5jZXNGb3JQYXRoLFxuICAgIGdldFBhcmVudENvbGxlY3Rpb25JZHMsXG4gICAgY29udmVydElkc1RvUGF0aHMsXG4gICAgbmF2aWdhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGVuY29kZVBhdGgoaW5wdXQpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChyZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKGlucHV0KSkucmVwbGFjZUFsbChcIiUyRlwiLCBcIi9cIikucmVwbGFjZUFsbChcIiUyM1wiLCBcIiNcIik7XG59XG5mdW5jdGlvbiBmaWx0ZXJPdXROb3RBbGxvd2VkQ29sbGVjdGlvbnMocmVzb2x2ZWRDb2xsZWN0aW9ucywgYXV0aENvbnRyb2xsZXIpIHtcbiAgcmV0dXJuIHJlc29sdmVkQ29sbGVjdGlvbnMuZmlsdGVyKChjMikgPT4gQm9vbGVhbihjMi5wYXRoKSkuZmlsdGVyKChjMikgPT4ge1xuICAgIGlmICghYzIucGVybWlzc2lvbnMpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHJlc29sdmVkUGVybWlzc2lvbnMgPSByZXNvbHZlUGVybWlzc2lvbnMoYzIsIGF1dGhDb250cm9sbGVyLCBjMi5wYXRoLCBudWxsKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRQZXJtaXNzaW9ucz8ucmVhZCAhPT0gZmFsc2U7XG4gIH0pLm1hcCgoYzIpID0+IHtcbiAgICBpZiAoIWMyLnN1YmNvbGxlY3Rpb25zKSByZXR1cm4gYzI7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmMyLFxuICAgICAgc3ViY29sbGVjdGlvbnM6IGZpbHRlck91dE5vdEFsbG93ZWRDb2xsZWN0aW9ucyhjMi5zdWJjb2xsZWN0aW9ucywgYXV0aENvbnRyb2xsZXIpXG4gICAgfTtcbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiByZXNvbHZlQ29sbGVjdGlvbnMoY29sbGVjdGlvbnMsIGNvbGxlY3Rpb25QZXJtaXNzaW9ucywgYXV0aENvbnRyb2xsZXIsIGRhdGFTb3VyY2UsIGluamVjdENvbGxlY3Rpb25zKSB7XG4gIGxldCByZXNvbHZlZENvbGxlY3Rpb25zID0gW107XG4gIGlmICh0eXBlb2YgY29sbGVjdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlc29sdmVkQ29sbGVjdGlvbnMgPSBhd2FpdCBjb2xsZWN0aW9ucyh7XG4gICAgICB1c2VyOiBhdXRoQ29udHJvbGxlci51c2VyLFxuICAgICAgYXV0aENvbnRyb2xsZXIsXG4gICAgICBkYXRhU291cmNlXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb2xsZWN0aW9ucykpIHtcbiAgICByZXNvbHZlZENvbGxlY3Rpb25zID0gY29sbGVjdGlvbnM7XG4gIH1cbiAgaWYgKGluamVjdENvbGxlY3Rpb25zKSB7XG4gICAgcmVzb2x2ZWRDb2xsZWN0aW9ucyA9IGluamVjdENvbGxlY3Rpb25zKHJlc29sdmVkQ29sbGVjdGlvbnMgPz8gW10pO1xuICB9XG4gIHJlc29sdmVkQ29sbGVjdGlvbnMgPSBhcHBseVBlcm1pc3Npb25zRnVuY3Rpb25JZkVtcHR5KHJlc29sdmVkQ29sbGVjdGlvbnMsIGNvbGxlY3Rpb25QZXJtaXNzaW9ucyk7XG4gIHJlc29sdmVkQ29sbGVjdGlvbnMgPSBmaWx0ZXJPdXROb3RBbGxvd2VkQ29sbGVjdGlvbnMocmVzb2x2ZWRDb2xsZWN0aW9ucywgYXV0aENvbnRyb2xsZXIpO1xuICByZXR1cm4gcmVzb2x2ZWRDb2xsZWN0aW9ucztcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVDTVNWaWV3cyhiYXNlVmlld3MsIGF1dGhDb250cm9sbGVyLCBkYXRhU291cmNlKSB7XG4gIGxldCByZXNvbHZlZFZpZXdzID0gW107XG4gIGlmICh0eXBlb2YgYmFzZVZpZXdzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXNvbHZlZFZpZXdzID0gYXdhaXQgYmFzZVZpZXdzKHtcbiAgICAgIHVzZXI6IGF1dGhDb250cm9sbGVyLnVzZXIsXG4gICAgICBhdXRoQ29udHJvbGxlcixcbiAgICAgIGRhdGFTb3VyY2VcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJhc2VWaWV3cykpIHtcbiAgICByZXNvbHZlZFZpZXdzID0gYmFzZVZpZXdzO1xuICB9XG4gIHJldHVybiByZXNvbHZlZFZpZXdzO1xufVxuZnVuY3Rpb24gZ2V0R3JvdXAoY29sbGVjdGlvbk9yVmlldykge1xuICBjb25zdCB0cmltbWVkID0gY29sbGVjdGlvbk9yVmlldy5ncm91cD8udHJpbSgpO1xuICBpZiAoIXRyaW1tZWQgfHwgdHJpbW1lZCA9PT0gXCJcIikge1xuICAgIHJldHVybiBcIlZpZXdzXCI7XG4gIH1cbiAgcmV0dXJuIHRyaW1tZWQgPz8gXCJWaWV3c1wiO1xufVxuZnVuY3Rpb24gYXJlQ29sbGVjdGlvbkxpc3RzRXF1YWwoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGFDb3B5ID0gWy4uLmFdO1xuICBjb25zdCBiQ29weSA9IFsuLi5iXTtcbiAgY29uc3QgYVNvcnRlZCA9IGFDb3B5LnNvcnQoKHgsIHkpID0+IHguaWQubG9jYWxlQ29tcGFyZSh5LmlkKSk7XG4gIGNvbnN0IGJTb3J0ZWQgPSBiQ29weS5zb3J0KCh4LCB5KSA9PiB4LmlkLmxvY2FsZUNvbXBhcmUoeS5pZCkpO1xuICByZXR1cm4gYVNvcnRlZC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiBhcmVDb2xsZWN0aW9uc0VxdWFsKHZhbHVlLCBiU29ydGVkW2luZGV4XSkpO1xufVxuZnVuY3Rpb24gYXJlQ29sbGVjdGlvbnNFcXVhbChhLCBiKSB7XG4gIGNvbnN0IHtcbiAgICBzdWJjb2xsZWN0aW9uczogc3ViY29sbGVjdGlvbnNBLFxuICAgIC4uLnJlc3RBXG4gIH0gPSBhO1xuICBjb25zdCB7XG4gICAgc3ViY29sbGVjdGlvbnM6IHN1YmNvbGxlY3Rpb25zQixcbiAgICAuLi5yZXN0QlxuICB9ID0gYjtcbiAgaWYgKCFhcmVDb2xsZWN0aW9uTGlzdHNFcXVhbChzdWJjb2xsZWN0aW9uc0EgPz8gW10sIHN1YmNvbGxlY3Rpb25zQiA/PyBbXSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGVxdWFsKHJlbW92ZUZ1bmN0aW9ucyhyZXN0QSksIHJlbW92ZUZ1bmN0aW9ucyhyZXN0QikpO1xufVxuZnVuY3Rpb24gdXNlQnVpbGRMb2NhbENvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpIHtcbiAgY29uc3QgJCA9IGMoMTUpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQwID0ge307XG4gICAgJFswXSA9IHQwO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFswXTtcbiAgfVxuICBjb25zdCBjb25maWdDYWNoZSA9IHVzZVJlZih0MCk7XG4gIGNvbnN0IGdldENvbGxlY3Rpb25Gcm9tU3RvcmFnZSA9IF90ZW1wJHE7XG4gIGxldCB0MTtcbiAgaWYgKCRbMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSAocGF0aCkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmFnZUtleV8wID0gYGNvbGxlY3Rpb25fY29uZmlnOjoke3N0cmlwQ29sbGVjdGlvblBhdGgocGF0aCl9YDtcbiAgICAgIGlmIChjb25maWdDYWNoZS5jdXJyZW50W3N0b3JhZ2VLZXlfMF0pIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ0NhY2hlLmN1cnJlbnRbc3RvcmFnZUtleV8wXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRDb2xsZWN0aW9uRnJvbVN0b3JhZ2Uoc3RvcmFnZUtleV8wKTtcbiAgICB9O1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgY29uc3QgZ2V0Q29sbGVjdGlvbkNvbmZpZyA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzJdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQyID0gKHBhdGhfMCwgZGF0YSkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmFnZUtleV8xID0gYGNvbGxlY3Rpb25fY29uZmlnOjoke3N0cmlwQ29sbGVjdGlvblBhdGgocGF0aF8wKX1gO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleV8xLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICBjb25zdCBjYWNoZWRDb25maWcgPSBjb25maWdDYWNoZS5jdXJyZW50W3N0b3JhZ2VLZXlfMV07XG4gICAgICBjb25zdCBuZXdDb25maWcgPSBtZXJnZURlZXAoY2FjaGVkQ29uZmlnID8/IGdldENvbGxlY3Rpb25Gcm9tU3RvcmFnZShwYXRoXzApLCBkYXRhKTtcbiAgICAgIGNvbmZpZ0NhY2hlLmN1cnJlbnRbc3RvcmFnZUtleV8xXSA9IG1lcmdlRGVlcChjb25maWdDYWNoZS5jdXJyZW50W3N0b3JhZ2VLZXlfMV0sIG5ld0NvbmZpZyk7XG4gICAgfTtcbiAgICAkWzJdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzJdO1xuICB9XG4gIGNvbnN0IG9uQ29sbGVjdGlvbk1vZGlmaWVkID0gdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbM10gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDMgPSBbXTtcbiAgICAkWzNdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzNdO1xuICB9XG4gIGNvbnN0IFtyZWNlbnRseVZpc2l0ZWRQYXRocywgX3NldFJlY2VudGx5VmlzaXRlZFBhdGhzXSA9IHVzZVN0YXRlKHQzKTtcbiAgbGV0IHQ0O1xuICBpZiAoJFs0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NCA9IFtdO1xuICAgICRbNF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNF07XG4gIH1cbiAgY29uc3QgW2Zhdm91cml0ZVBhdGhzLCBfc2V0RmF2b3VyaXRlUGF0aHNdID0gdXNlU3RhdGUodDQpO1xuICBsZXQgdDU7XG4gIGlmICgkWzVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ1ID0gW107XG4gICAgJFs1XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs1XTtcbiAgfVxuICBjb25zdCBbY29sbGFwc2VkR3JvdXBzLCBfc2V0Q29sbGFwc2VkR3JvdXBzXSA9IHVzZVN0YXRlKHQ1KTtcbiAgbGV0IHQ2O1xuICBsZXQgdDc7XG4gIGlmICgkWzZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ2ID0gKCkgPT4ge1xuICAgICAgX3NldFJlY2VudGx5VmlzaXRlZFBhdGhzKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicmVjZW50bHlfdmlzaXRlZF9wYXRoc1wiKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZWNlbnRseV92aXNpdGVkX3BhdGhzXCIpKSA6IFtdKTtcbiAgICAgIF9zZXRGYXZvdXJpdGVQYXRocyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImZhdm91cml0ZV9wYXRoc1wiKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJmYXZvdXJpdGVfcGF0aHNcIikpIDogW10pO1xuICAgICAgX3NldENvbGxhcHNlZEdyb3Vwcyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNvbGxhcHNlZF9ncm91cHNcIikgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29sbGFwc2VkX2dyb3Vwc1wiKSkgOiBbXSk7XG4gICAgfTtcbiAgICB0NyA9IFtdO1xuICAgICRbNl0gPSB0NjtcbiAgICAkWzddID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzZdO1xuICAgIHQ3ID0gJFs3XTtcbiAgfVxuICB1c2VFZmZlY3QodDYsIHQ3KTtcbiAgbGV0IHQ4O1xuICBpZiAoJFs4XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OCA9IChwYXRocykgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyZWNlbnRseV92aXNpdGVkX3BhdGhzXCIsIEpTT04uc3RyaW5naWZ5KHBhdGhzKSk7XG4gICAgICBfc2V0UmVjZW50bHlWaXNpdGVkUGF0aHMocGF0aHMpO1xuICAgIH07XG4gICAgJFs4XSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFs4XTtcbiAgfVxuICBjb25zdCBzZXRSZWNlbnRseVZpc2l0ZWRQYXRocyA9IHQ4O1xuICBsZXQgdDk7XG4gIGlmICgkWzldID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ5ID0gKHBhdGhzXzApID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZmF2b3VyaXRlX3BhdGhzXCIsIEpTT04uc3RyaW5naWZ5KHBhdGhzXzApKTtcbiAgICAgIF9zZXRGYXZvdXJpdGVQYXRocyhwYXRoc18wKTtcbiAgICB9O1xuICAgICRbOV0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbOV07XG4gIH1cbiAgY29uc3Qgc2V0RmF2b3VyaXRlUGF0aHMgPSB0OTtcbiAgbGV0IHQxMDtcbiAgaWYgKCRbMTBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQxMCA9IChwYXRoc18xKSA9PiB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvbGxhcHNlZF9ncm91cHNcIiwgSlNPTi5zdHJpbmdpZnkocGF0aHNfMSkpO1xuICAgICAgX3NldENvbGxhcHNlZEdyb3VwcyhwYXRoc18xKTtcbiAgICB9O1xuICAgICRbMTBdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMTBdO1xuICB9XG4gIGNvbnN0IHNldENvbGxhcHNlZEdyb3VwcyA9IHQxMDtcbiAgbGV0IHQxMTtcbiAgaWYgKCRbMTFdICE9PSBjb2xsYXBzZWRHcm91cHMgfHwgJFsxMl0gIT09IGZhdm91cml0ZVBhdGhzIHx8ICRbMTNdICE9PSByZWNlbnRseVZpc2l0ZWRQYXRocykge1xuICAgIHQxMSA9IHtcbiAgICAgIG9uQ29sbGVjdGlvbk1vZGlmaWVkLFxuICAgICAgZ2V0Q29sbGVjdGlvbkNvbmZpZyxcbiAgICAgIHJlY2VudGx5VmlzaXRlZFBhdGhzLFxuICAgICAgc2V0UmVjZW50bHlWaXNpdGVkUGF0aHMsXG4gICAgICBmYXZvdXJpdGVQYXRocyxcbiAgICAgIHNldEZhdm91cml0ZVBhdGhzLFxuICAgICAgY29sbGFwc2VkR3JvdXBzLFxuICAgICAgc2V0Q29sbGFwc2VkR3JvdXBzXG4gICAgfTtcbiAgICAkWzExXSA9IGNvbGxhcHNlZEdyb3VwcztcbiAgICAkWzEyXSA9IGZhdm91cml0ZVBhdGhzO1xuICAgICRbMTNdID0gcmVjZW50bHlWaXNpdGVkUGF0aHM7XG4gICAgJFsxNF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFsxNF07XG4gIH1cbiAgcmV0dXJuIHQxMTtcbn1cbmZ1bmN0aW9uIF90ZW1wJHEoc3RvcmFnZUtleSkge1xuICBjb25zdCBpdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XG4gIHJldHVybiBpdGVtID8gSlNPTi5wYXJzZShpdGVtKSA6IHt9O1xufVxuZnVuY3Rpb24gdXNlQnVpbGRNb2RlQ29udHJvbGxlcigpIHtcbiAgY29uc3QgcHJlZmVyc0RhcmtNb2RlUXVlcnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBtZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKTtcbiAgICByZXR1cm4gbWVkaWFRdWVyeUxpc3QubWF0Y2hlcztcbiAgfSwgW10pO1xuICBjb25zdCBwcmVmZXJzRGFya01vZGVTdG9yYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcmVmZXJzLWRhcmstbW9kZVwiKSAhPSBudWxsID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcmVmZXJzLWRhcmstbW9kZVwiKSA9PT0gXCJ0cnVlXCIgOiBudWxsO1xuICBjb25zdCBwcmVmZXJzRGFya01vZGUgPSBwcmVmZXJzRGFya01vZGVTdG9yYWdlID8/IHByZWZlcnNEYXJrTW9kZVF1ZXJ5KCk7XG4gIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlKHByZWZlcnNEYXJrTW9kZSA/IFwiZGFya1wiIDogXCJsaWdodFwiKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRNb2RlKHByZWZlcnNEYXJrTW9kZSA/IFwiZGFya1wiIDogXCJsaWdodFwiKTtcbiAgICBzZXREb2N1bWVudE1vZGUocHJlZmVyc0RhcmtNb2RlID8gXCJkYXJrXCIgOiBcImxpZ2h0XCIpO1xuICB9LCBbcHJlZmVyc0RhcmtNb2RlXSk7XG4gIGNvbnN0IHNldERvY3VtZW50TW9kZSA9IChtb2RlXzApID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KFwiY29sb3Itc2NoZW1lXCIsIG1vZGVfMCk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQudGhlbWUgPSBtb2RlXzA7XG4gIH07XG4gIGNvbnN0IHNldE1vZGVJbnRlcm5hbCA9IHVzZUNhbGxiYWNrKChtb2RlXzEpID0+IHtcbiAgICBpZiAobW9kZV8xID09PSBcImxpZ2h0XCIpIHtcbiAgICAgIHNldERvY3VtZW50TW9kZShcImxpZ2h0XCIpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcmVmZXJzLWRhcmstbW9kZVwiLCBcImZhbHNlXCIpO1xuICAgICAgc2V0TW9kZShcImxpZ2h0XCIpO1xuICAgIH0gZWxzZSBpZiAobW9kZV8xID09PSBcImRhcmtcIikge1xuICAgICAgc2V0RG9jdW1lbnRNb2RlKFwiZGFya1wiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJlZmVycy1kYXJrLW1vZGVcIiwgXCJ0cnVlXCIpO1xuICAgICAgc2V0TW9kZShcImRhcmtcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZWZlcnJlZE1vZGUgPSBwcmVmZXJzRGFya01vZGVRdWVyeSgpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgICBzZXREb2N1bWVudE1vZGUocHJlZmVycmVkTW9kZSk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInByZWZlcnMtZGFyay1tb2RlXCIpO1xuICAgICAgc2V0TW9kZShwcmVmZXJyZWRNb2RlKTtcbiAgICB9XG4gIH0sIFtwcmVmZXJzRGFya01vZGVRdWVyeV0pO1xuICByZXR1cm4ge1xuICAgIG1vZGUsXG4gICAgc2V0TW9kZTogc2V0TW9kZUludGVybmFsXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWYWxpZGF0ZUF1dGhlbnRpY2F0b3IodDApIHtcbiAgY29uc3QgJCA9IGMoMTcpO1xuICBjb25zdCB7XG4gICAgZGlzYWJsZWQsXG4gICAgYXV0aENvbnRyb2xsZXIsXG4gICAgYXV0aGVudGljYXRvcixcbiAgICBzdG9yYWdlU291cmNlLFxuICAgIGRhdGFTb3VyY2VEZWxlZ2F0ZVxuICB9ID0gdDA7XG4gIGNvbnN0IGF1dGhlbnRpY2F0aW9uRW5hYmxlZCA9IEJvb2xlYW4oYXV0aGVudGljYXRvcik7XG4gIGNvbnN0IFthdXRoTG9hZGluZywgc2V0QXV0aExvYWRpbmddID0gdXNlU3RhdGUoYXV0aGVudGljYXRpb25FbmFibGVkKTtcbiAgY29uc3QgW25vdEFsbG93ZWRFcnJvciwgc2V0Tm90QWxsb3dlZEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dGhWZXJpZmllZCwgc2V0QXV0aFZlcmlmaWVkXSA9IHVzZVN0YXRlKCFhdXRoZW50aWNhdGlvbkVuYWJsZWQgfHwgQm9vbGVhbihhdXRoQ29udHJvbGxlci5sb2dpblNraXBwZWQpKTtcbiAgY29uc3QgY2FuQWNjZXNzTWFpblZpZXcgPSBhdXRoVmVyaWZpZWQgJiYgKCFhdXRoZW50aWNhdGlvbkVuYWJsZWQgfHwgQm9vbGVhbihhdXRoQ29udHJvbGxlci51c2VyKSB8fCBCb29sZWFuKGF1dGhDb250cm9sbGVyLmxvZ2luU2tpcHBlZCkpICYmICFub3RBbGxvd2VkRXJyb3I7XG4gIGxldCB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gYXV0aENvbnRyb2xsZXIubG9naW5Ta2lwcGVkKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBpZiAoYXV0aENvbnRyb2xsZXIubG9naW5Ta2lwcGVkKSB7XG4gICAgICAgIHNldEF1dGhWZXJpZmllZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHQyID0gW2F1dGhDb250cm9sbGVyLmxvZ2luU2tpcHBlZF07XG4gICAgJFswXSA9IGF1dGhDb250cm9sbGVyLmxvZ2luU2tpcHBlZDtcbiAgICAkWzFdID0gdDE7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgdXNlRWZmZWN0KHQxLCB0Mik7XG4gIGNvbnN0IGNoZWNrZWRVc2VyUmVmID0gdXNlUmVmKCk7XG4gIGxldCB0MztcbiAgaWYgKCRbM10gIT09IGF1dGhDb250cm9sbGVyIHx8ICRbNF0gIT09IGF1dGhlbnRpY2F0b3IgfHwgJFs1XSAhPT0gZGF0YVNvdXJjZURlbGVnYXRlIHx8ICRbNl0gIT09IGRpc2FibGVkIHx8ICRbN10gIT09IHN0b3JhZ2VTb3VyY2UpIHtcbiAgICB0MyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYXV0aENvbnRyb2xsZXIuaW5pdGlhbExvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhdXRoQ29udHJvbGxlci51c2VyICYmICFhdXRoQ29udHJvbGxlci5sb2dpblNraXBwZWQpIHtcbiAgICAgICAgY2hlY2tlZFVzZXJSZWYuY3VycmVudCA9IHZvaWQgMDtcbiAgICAgICAgc2V0QXV0aExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRBdXRoVmVyaWZpZWQoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWxlZ2F0ZVVzZXIgPSBhdXRoQ29udHJvbGxlci51c2VyO1xuICAgICAgaWYgKGF1dGhlbnRpY2F0b3IgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBkZWxlZ2F0ZVVzZXIgJiYgIWVxdWFsKGNoZWNrZWRVc2VyUmVmLmN1cnJlbnQ/LnVpZCwgZGVsZWdhdGVVc2VyLnVpZCkpIHtcbiAgICAgICAgc2V0QXV0aExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYWxsb3dlZCA9IGF3YWl0IGF1dGhlbnRpY2F0b3Ioe1xuICAgICAgICAgICAgdXNlcjogZGVsZWdhdGVVc2VyLFxuICAgICAgICAgICAgYXV0aENvbnRyb2xsZXIsXG4gICAgICAgICAgICBkYXRhU291cmNlRGVsZWdhdGUsXG4gICAgICAgICAgICBzdG9yYWdlU291cmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFhbGxvd2VkKSB7XG4gICAgICAgICAgICBhdXRoQ29udHJvbGxlci5zaWduT3V0KCk7XG4gICAgICAgICAgICBzZXROb3RBbGxvd2VkRXJyb3IodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoICh0NDIpIHtcbiAgICAgICAgICBjb25zdCBlID0gdDQyO1xuICAgICAgICAgIHNldE5vdEFsbG93ZWRFcnJvcihlKTtcbiAgICAgICAgICBhdXRoQ29udHJvbGxlci5zaWduT3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QXV0aExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRBdXRoVmVyaWZpZWQodHJ1ZSk7XG4gICAgICAgIGNoZWNrZWRVc2VyUmVmLmN1cnJlbnQgPSBkZWxlZ2F0ZVVzZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRBdXRoTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWF1dGhDb250cm9sbGVyLmluaXRpYWxMb2FkaW5nICYmICFkZWxlZ2F0ZVVzZXIpIHtcbiAgICAgICAgc2V0QXV0aFZlcmlmaWVkKHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgJFszXSA9IGF1dGhDb250cm9sbGVyO1xuICAgICRbNF0gPSBhdXRoZW50aWNhdG9yO1xuICAgICRbNV0gPSBkYXRhU291cmNlRGVsZWdhdGU7XG4gICAgJFs2XSA9IGRpc2FibGVkO1xuICAgICRbN10gPSBzdG9yYWdlU291cmNlO1xuICAgICRbOF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbOF07XG4gIH1cbiAgY29uc3QgY2hlY2tBdXRoZW50aWNhdGlvbiA9IHQzO1xuICBsZXQgdDQ7XG4gIGxldCB0NTtcbiAgaWYgKCRbOV0gIT09IGNoZWNrQXV0aGVudGljYXRpb24pIHtcbiAgICB0NCA9ICgpID0+IHtcbiAgICAgIGNoZWNrQXV0aGVudGljYXRpb24oKTtcbiAgICB9O1xuICAgIHQ1ID0gW2NoZWNrQXV0aGVudGljYXRpb25dO1xuICAgICRbOV0gPSBjaGVja0F1dGhlbnRpY2F0aW9uO1xuICAgICRbMTBdID0gdDQ7XG4gICAgJFsxMV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMTBdO1xuICAgIHQ1ID0gJFsxMV07XG4gIH1cbiAgdXNlRWZmZWN0KHQ0LCB0NSk7XG4gIGNvbnN0IHQ2ID0gYXV0aGVudGljYXRpb25FbmFibGVkICYmIGF1dGhMb2FkaW5nO1xuICBsZXQgdDc7XG4gIGlmICgkWzEyXSAhPT0gYXV0aFZlcmlmaWVkIHx8ICRbMTNdICE9PSBjYW5BY2Nlc3NNYWluVmlldyB8fCAkWzE0XSAhPT0gbm90QWxsb3dlZEVycm9yIHx8ICRbMTVdICE9PSB0Nikge1xuICAgIHQ3ID0ge1xuICAgICAgY2FuQWNjZXNzTWFpblZpZXcsXG4gICAgICBhdXRoTG9hZGluZzogdDYsXG4gICAgICBub3RBbGxvd2VkRXJyb3IsXG4gICAgICBhdXRoVmVyaWZpZWRcbiAgICB9O1xuICAgICRbMTJdID0gYXV0aFZlcmlmaWVkO1xuICAgICRbMTNdID0gY2FuQWNjZXNzTWFpblZpZXc7XG4gICAgJFsxNF0gPSBub3RBbGxvd2VkRXJyb3I7XG4gICAgJFsxNV0gPSB0NjtcbiAgICAkWzE2XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxNl07XG4gIH1cbiAgcmV0dXJuIHQ3O1xufVxuZnVuY3Rpb24gRW1wdHlWYWx1ZSgpIHtcbiAgY29uc3QgJCA9IGMoMSk7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDAgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJvdW5kZWQtZnVsbCBiZy1zdXJmYWNlLTIwMCBiZy1vcGFjaXR5LTMwIGRhcms6Ymctb3BhY2l0eS0yMCB3LTUgaC0yIGlubGluZS1ibG9ja1wiIH0pO1xuICAgICRbMF0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMF07XG4gIH1cbiAgcmV0dXJuIHQwO1xufVxuY29uc3QgU01BTExfVEhVTUJOQUlMID0gNDA7XG5jb25zdCBNRURJVU1fVEhVTUJOQUlMID0gMTAwO1xuY29uc3QgTEFSR0VfVEhVTUJOQUlMID0gMjAwO1xuZnVuY3Rpb24gZ2V0VGh1bWJuYWlsTWVhc3VyZShzaXplKSB7XG4gIGlmIChzaXplID09PSBcInNtYWxsXCIpIHJldHVybiBTTUFMTF9USFVNQk5BSUw7XG4gIGVsc2UgaWYgKHNpemUgPT09IFwibWVkaXVtXCIpIHJldHVybiBNRURJVU1fVEhVTUJOQUlMO1xuICBlbHNlIGlmIChzaXplID09PSBcImxhcmdlXCIpIHJldHVybiBMQVJHRV9USFVNQk5BSUw7XG4gIGVsc2UgdGhyb3cgRXJyb3IoXCJUaHVtYm5haWwgc2l6ZSBub3QgbWFwcGVkXCIpO1xufVxuZnVuY3Rpb24gZ2V0UHJldmlld1NpemVGcm9tKHNpemUpIHtcbiAgc3dpdGNoIChzaXplKSB7XG4gICAgY2FzZSBcInhzXCI6XG4gICAgY2FzZSBcInNcIjpcbiAgICAgIHJldHVybiBcInNtYWxsXCI7XG4gICAgY2FzZSBcIm1cIjpcbiAgICAgIHJldHVybiBcIm1lZGl1bVwiO1xuICAgIGNhc2UgXCJsXCI6XG4gICAgY2FzZSBcInhsXCI6XG4gICAgICByZXR1cm4gXCJsYXJnZVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIk1pc3NpbmcgbWFwcGluZyB2YWx1ZSBpbiBnZXRQcmV2aWV3U2l6ZUZyb206IFwiICsgc2l6ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIEltYWdlUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygyNik7XG4gIGNvbnN0IHtcbiAgICBzaXplLFxuICAgIHVybFxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gc2l6ZSkge1xuICAgIHQyID0gZ2V0VGh1bWJuYWlsTWVhc3VyZShzaXplKTtcbiAgICAkWzBdID0gc2l6ZTtcbiAgICAkWzFdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzFdO1xuICB9XG4gIHQxID0gdDI7XG4gIGNvbnN0IGltYWdlU2l6ZSA9IHQxO1xuICBpZiAoc2l6ZSA9PT0gXCJzbWFsbFwiKSB7XG4gICAgY29uc3QgdDMyID0gXCJ0aW55X2ltYWdlX3ByZXZpZXdfXCIgKyB1cmw7XG4gICAgbGV0IHQ0MjtcbiAgICBpZiAoJFsyXSAhPT0gaW1hZ2VTaXplKSB7XG4gICAgICB0NDIgPSB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIG9iamVjdEZpdDogXCJjb3ZlclwiLFxuICAgICAgICB3aWR0aDogaW1hZ2VTaXplLFxuICAgICAgICBoZWlnaHQ6IGltYWdlU2l6ZSxcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgfTtcbiAgICAgICRbMl0gPSBpbWFnZVNpemU7XG4gICAgICAkWzNdID0gdDQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NDIgPSAkWzNdO1xuICAgIH1cbiAgICBsZXQgdDUyO1xuICAgIGlmICgkWzRdICE9PSB0MzIgfHwgJFs1XSAhPT0gdDQyIHx8ICRbNl0gIT09IHVybCkge1xuICAgICAgdDUyID0gLyogQF9fUFVSRV9fICovIGpzeChcImltZ1wiLCB7IHNyYzogdXJsLCBjbGFzc05hbWU6IFwicm91bmRlZC1tZFwiLCBzdHlsZTogdDQyIH0sIHQzMik7XG4gICAgICAkWzRdID0gdDMyO1xuICAgICAgJFs1XSA9IHQ0MjtcbiAgICAgICRbNl0gPSB1cmw7XG4gICAgICAkWzddID0gdDUyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NTIgPSAkWzddO1xuICAgIH1cbiAgICByZXR1cm4gdDUyO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbOF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDMgPSB7XG4gICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiXG4gICAgfTtcbiAgICAkWzhdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzhdO1xuICB9XG4gIGNvbnN0IGltYWdlU3R5bGUgPSB0MztcbiAgbGV0IHQ0O1xuICBpZiAoJFs5XSAhPT0gaW1hZ2VTaXplKSB7XG4gICAgdDQgPSB7XG4gICAgICB3aWR0aDogaW1hZ2VTaXplLFxuICAgICAgaGVpZ2h0OiBpbWFnZVNpemVcbiAgICB9O1xuICAgICRbOV0gPSBpbWFnZVNpemU7XG4gICAgJFsxMF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMTBdO1xuICB9XG4gIGNvbnN0IHQ1ID0gXCJpbWFnZV9wcmV2aWV3X1wiICsgdXJsO1xuICBsZXQgdDY7XG4gIGlmICgkWzExXSAhPT0gdXJsKSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiaW1nXCIsIHsgc3JjOiB1cmwsIGNsYXNzTmFtZTogXCJyb3VuZGVkLW1kXCIsIHN0eWxlOiBpbWFnZVN0eWxlIH0pO1xuICAgICRbMTFdID0gdXJsO1xuICAgICRbMTJdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzEyXTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzEzXSAhPT0gdXJsKSB7XG4gICAgdDcgPSBuYXZpZ2F0b3IgJiYgLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IGFzQ2hpbGQ6IHRydWUsIHRpdGxlOiBcIkNvcHkgdXJsIHRvIGNsaXBib2FyZFwiLCBzaWRlOiBcImJvdHRvbVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IHZhcmlhbnQ6IFwiZmlsbGVkXCIsIHNpemU6IFwic21hbGxcIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTtcbiAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb250ZW50Q29weUljb24sIHsgY2xhc3NOYW1lOiBcInRleHQtc3VyZmFjZS03MDAgZGFyazp0ZXh0LXN1cmZhY2UtMzAwXCIsIHNpemU6IFwic21hbGxlc3RcIiB9KSB9KSB9KTtcbiAgICAkWzEzXSA9IHVybDtcbiAgICAkWzE0XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxNF07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxNV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KE9wZW5Jbk5ld0ljb24sIHsgY2xhc3NOYW1lOiBcInRleHQtc3VyZmFjZS03MDAgZGFyazp0ZXh0LXN1cmZhY2UtMzAwXCIsIHNpemU6IFwic21hbGxlc3RcIiB9KTtcbiAgICAkWzE1XSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxNV07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsxNl0gIT09IHVybCkge1xuICAgIHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBcIk9wZW4gaW1hZ2UgaW4gbmV3IHRhYlwiLCBzaWRlOiBcImJvdHRvbVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJpbnZpc2libGUgZ3JvdXAtaG92ZXI6dmlzaWJsZVwiLCB2YXJpYW50OiBcImZpbGxlZFwiLCBjb21wb25lbnQ6IFwiYVwiLCBocmVmOiB1cmwsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIHRhcmdldDogXCJfYmxhbmtcIiwgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBfdGVtcCRwLCBjaGlsZHJlbjogdDggfSkgfSk7XG4gICAgJFsxNl0gPSB1cmw7XG4gICAgJFsxN10gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMTddO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzE4XSAhPT0gdDcgfHwgJFsxOV0gIT09IHQ5KSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBnYXAtMiBhYnNvbHV0ZSBib3R0b20tWy00cHhdIHJpZ2h0LVstNHB4XSBpbnZpc2libGUgZ3JvdXAtaG92ZXI6dmlzaWJsZVwiLCBjaGlsZHJlbjogW1xuICAgICAgdDcsXG4gICAgICB0OVxuICAgIF0gfSk7XG4gICAgJFsxOF0gPSB0NztcbiAgICAkWzE5XSA9IHQ5O1xuICAgICRbMjBdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMjBdO1xuICB9XG4gIGxldCB0MTE7XG4gIGlmICgkWzIxXSAhPT0gdDEwIHx8ICRbMjJdICE9PSB0NCB8fCAkWzIzXSAhPT0gdDUgfHwgJFsyNF0gIT09IHQ2KSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWF4LXctZnVsbCBtYXgtaC1mdWxsIGdyb3VwXCIsIHN0eWxlOiB0NCwgY2hpbGRyZW46IFtcbiAgICAgIHQ2LFxuICAgICAgdDEwXG4gICAgXSB9LCB0NSk7XG4gICAgJFsyMV0gPSB0MTA7XG4gICAgJFsyMl0gPSB0NDtcbiAgICAkWzIzXSA9IHQ1O1xuICAgICRbMjRdID0gdDY7XG4gICAgJFsyNV0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFsyNV07XG4gIH1cbiAgcmV0dXJuIHQxMTtcbn1cbmZ1bmN0aW9uIF90ZW1wJHAoZV8wKSB7XG4gIHJldHVybiBlXzAuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5mdW5jdGlvbiBVcmxDb21wb25lbnRQcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMxKTtcbiAgY29uc3Qge1xuICAgIHVybCxcbiAgICBwcmV2aWV3VHlwZSxcbiAgICBzaXplLFxuICAgIGhpbnQsXG4gICAgaW50ZXJhY3RpdmU6IHQxXG4gIH0gPSB0MDtcbiAgY29uc3QgaW50ZXJhY3RpdmUgPSB0MSA9PT0gdm9pZCAwID8gdHJ1ZSA6IHQxO1xuICBpZiAoIXByZXZpZXdUeXBlKSB7XG4gICAgaWYgKCF1cmwgfHwgIXVybC50cmltKCkpIHtcbiAgICAgIGxldCB0MjI7XG4gICAgICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgICAgdDIyID0gLyogQF9fUFVSRV9fICovIGpzeChFbXB0eVZhbHVlLCB7fSk7XG4gICAgICAgICRbMF0gPSB0MjI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MjIgPSAkWzBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQyMjtcbiAgICB9XG4gICAgbGV0IHQyO1xuICAgIGlmICgkWzFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KE9wZW5Jbk5ld0ljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pO1xuICAgICAgJFsxXSA9IHQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9ICRbMV07XG4gICAgfVxuICAgIGxldCB0MztcbiAgICBpZiAoJFsyXSAhPT0gdXJsKSB7XG4gICAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiYVwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGdhcC00IGJyZWFrLXdvcmRzIGl0ZW1zLWNlbnRlciBmb250LW1lZGl1bSB0ZXh0LXByaW1hcnkgdmlzaXRlZDp0ZXh0LXByaW1hcnkgZGFyazp2aXNpdGVkOnRleHQtcHJpbWFyeSBkYXJrOnRleHQtcHJpbWFyeVwiLCBocmVmOiB1cmwsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIG9uTW91c2VEb3duOiBfdGVtcCRvLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHQyLFxuICAgICAgICB1cmxcbiAgICAgIF0gfSk7XG4gICAgICAkWzJdID0gdXJsO1xuICAgICAgJFszXSA9IHQzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MyA9ICRbM107XG4gICAgfVxuICAgIHJldHVybiB0MztcbiAgfVxuICBpZiAocHJldmlld1R5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGxldCB0MjtcbiAgICBpZiAoJFs0XSAhPT0gc2l6ZSB8fCAkWzVdICE9PSB1cmwpIHtcbiAgICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChJbWFnZVByZXZpZXcsIHsgdXJsLCBzaXplIH0pO1xuICAgICAgJFs0XSA9IHNpemU7XG4gICAgICAkWzVdID0gdXJsO1xuICAgICAgJFs2XSA9IHQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9ICRbNl07XG4gICAgfVxuICAgIHJldHVybiB0MjtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJldmlld1R5cGUgPT09IFwiYXVkaW9cIikge1xuICAgICAgbGV0IHQyO1xuICAgICAgaWYgKCRbN10gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChcImNvZGVcIiwgeyBjaGlsZHJlbjogXCJhdWRpb1wiIH0pO1xuICAgICAgICAkWzddID0gdDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MiA9ICRbN107XG4gICAgICB9XG4gICAgICBsZXQgdDM7XG4gICAgICBpZiAoJFs4XSAhPT0gdXJsKSB7XG4gICAgICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJhdWRpb1wiLCB7IGNvbnRyb2xzOiB0cnVlLCBjbGFzc05hbWU6IFwibWF4LXctMTAwJVwiLCBzcmM6IHVybCwgY2hpbGRyZW46IFtcbiAgICAgICAgICBcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZVwiLFxuICAgICAgICAgIHQyLFxuICAgICAgICAgIFwiIGVsZW1lbnQuXCJcbiAgICAgICAgXSB9KTtcbiAgICAgICAgJFs4XSA9IHVybDtcbiAgICAgICAgJFs5XSA9IHQzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDMgPSAkWzldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJldmlld1R5cGUgPT09IFwidmlkZW9cIikge1xuICAgICAgICBsZXQgdDI7XG4gICAgICAgIGlmICgkWzEwXSAhPT0gaW50ZXJhY3RpdmUgfHwgJFsxMV0gIT09IHNpemUgfHwgJFsxMl0gIT09IHVybCkge1xuICAgICAgICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChWaWRlb1ByZXZpZXcsIHsgc2l6ZSwgc3JjOiB1cmwsIGludGVyYWN0aXZlIH0pO1xuICAgICAgICAgICRbMTBdID0gaW50ZXJhY3RpdmU7XG4gICAgICAgICAgJFsxMV0gPSBzaXplO1xuICAgICAgICAgICRbMTJdID0gdXJsO1xuICAgICAgICAgICRbMTNdID0gdDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDIgPSAkWzEzXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgdDI7XG4gICAgICAgIGlmICgkWzE0XSAhPT0gc2l6ZSkge1xuICAgICAgICAgIHQyID0gZ2V0VGh1bWJuYWlsTWVhc3VyZShzaXplKTtcbiAgICAgICAgICAkWzE0XSA9IHNpemU7XG4gICAgICAgICAgJFsxNV0gPSB0MjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0MiA9ICRbMTVdO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MztcbiAgICAgICAgaWYgKCRbMTZdICE9PSBzaXplKSB7XG4gICAgICAgICAgdDMgPSBnZXRUaHVtYm5haWxNZWFzdXJlKHNpemUpO1xuICAgICAgICAgICRbMTZdID0gc2l6ZTtcbiAgICAgICAgICAkWzE3XSA9IHQzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQzID0gJFsxN107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHQ0O1xuICAgICAgICBpZiAoJFsxOF0gIT09IHQyIHx8ICRbMTldICE9PSB0Mykge1xuICAgICAgICAgIHQ0ID0ge1xuICAgICAgICAgICAgd2lkdGg6IHQyLFxuICAgICAgICAgICAgaGVpZ2h0OiB0M1xuICAgICAgICAgIH07XG4gICAgICAgICAgJFsxOF0gPSB0MjtcbiAgICAgICAgICAkWzE5XSA9IHQzO1xuICAgICAgICAgICRbMjBdID0gdDQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDQgPSAkWzIwXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDU7XG4gICAgICAgIGlmICgkWzIxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgICAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVzY3JpcHRpb25JY29uLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXN1cmZhY2UtNzAwIGRhcms6dGV4dC1zdXJmYWNlLTMwMFwiIH0pO1xuICAgICAgICAgICRbMjFdID0gdDU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDUgPSAkWzIxXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDY7XG4gICAgICAgIGlmICgkWzIyXSAhPT0gaGludCkge1xuICAgICAgICAgIHQ2ID0gaGludCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgY2xhc3NOYW1lOiBcIm1heC13LWZ1bGwgdHJ1bmNhdGUgcnRsIHRleHQtbGVmdFwiLCB2YXJpYW50OiBcImNhcHRpb25cIiwgY2hpbGRyZW46IGhpbnQgfSk7XG4gICAgICAgICAgJFsyMl0gPSBoaW50O1xuICAgICAgICAgICRbMjNdID0gdDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDYgPSAkWzIzXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDc7XG4gICAgICAgIGlmICgkWzI0XSAhPT0gdDQgfHwgJFsyNV0gIT09IHQ2IHx8ICRbMjZdICE9PSB1cmwpIHtcbiAgICAgICAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiYVwiLCB7IGhyZWY6IHVybCwgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiwgdGFyZ2V0OiBcIl9ibGFua1wiLCBvbkNsaWNrOiBfdGVtcDIkYywgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsIHN0eWxlOiB0NCwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHQ1LFxuICAgICAgICAgICAgdDZcbiAgICAgICAgICBdIH0pO1xuICAgICAgICAgICRbMjRdID0gdDQ7XG4gICAgICAgICAgJFsyNV0gPSB0NjtcbiAgICAgICAgICAkWzI2XSA9IHVybDtcbiAgICAgICAgICAkWzI3XSA9IHQ3O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQ3ID0gJFsyN107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHQ4O1xuICAgICAgICBpZiAoJFsyOF0gIT09IGhpbnQgfHwgJFsyOV0gIT09IHQ3KSB7XG4gICAgICAgICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgdGl0bGU6IGhpbnQsIGNoaWxkcmVuOiB0NyB9KTtcbiAgICAgICAgICAkWzI4XSA9IGhpbnQ7XG4gICAgICAgICAgJFsyOV0gPSB0NztcbiAgICAgICAgICAkWzMwXSA9IHQ4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQ4ID0gJFszMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ4O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gX3RlbXAyJGMoZV8wKSB7XG4gIHJldHVybiBlXzAuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5mdW5jdGlvbiBfdGVtcCRvKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuZnVuY3Rpb24gVmlkZW9QcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDEzKTtcbiAgY29uc3Qge1xuICAgIHNpemUsXG4gICAgc3JjLFxuICAgIGludGVyYWN0aXZlXG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoc2l6ZSA9PT0gXCJzbWFsbFwiKSB7XG4gICAgdDEgPSBcIjE0MHB4XCI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNpemUgPT09IFwibWVkaXVtXCIpIHtcbiAgICAgIHQxID0gXCIyNDBweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2l6ZSA9PT0gXCJsYXJnZVwiKSB7XG4gICAgICAgIHQxID0gXCIxMDAlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpemVcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGltYWdlU2l6ZSA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzBdICE9PSBpbnRlcmFjdGl2ZSkge1xuICAgIHQyID0ge1xuICAgICAgY29udHJvbHM6IGludGVyYWN0aXZlXG4gICAgfTtcbiAgICAkWzBdID0gaW50ZXJhY3RpdmU7XG4gICAgJFsxXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsxXTtcbiAgfVxuICBjb25zdCB2aWRlb1Byb3BzID0gdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbMl0gIT09IGltYWdlU2l6ZSkge1xuICAgIHQzID0ge1xuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgIG9iamVjdEZpdDogXCJjb3ZlclwiLFxuICAgICAgd2lkdGg6IGltYWdlU2l6ZSxcbiAgICAgIG1pbldpZHRoOiBcIjE0MHB4XCIsXG4gICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiXG4gICAgfTtcbiAgICAkWzJdID0gaW1hZ2VTaXplO1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbM107XG4gIH1cbiAgY29uc3QgdDQgPSAhaW50ZXJhY3RpdmU7XG4gIGxldCB0NTtcbiAgaWYgKCRbNF0gIT09IHQ0KSB7XG4gICAgdDUgPSBjbHMoXCJtYXgtdy0xMDAlIHJvdW5kZWRcIiwge1xuICAgICAgXCJwb2ludGVyLWV2ZW50cy1ub25lXCI6IHQ0XG4gICAgfSk7XG4gICAgJFs0XSA9IHQ0O1xuICAgICRbNV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbNV07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFs2XSAhPT0gc3JjKSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFwic291cmNlXCIsIHsgc3JjIH0pO1xuICAgICRbNl0gPSBzcmM7XG4gICAgJFs3XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFs3XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzhdICE9PSB0MyB8fCAkWzldICE9PSB0NSB8fCAkWzEwXSAhPT0gdDYgfHwgJFsxMV0gIT09IHZpZGVvUHJvcHMpIHtcbiAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ2aWRlb1wiLCB7IHN0eWxlOiB0MywgLi4udmlkZW9Qcm9wcywgY2xhc3NOYW1lOiB0NSwgY2hpbGRyZW46IHQ2IH0pO1xuICAgICRbOF0gPSB0MztcbiAgICAkWzldID0gdDU7XG4gICAgJFsxMF0gPSB0NjtcbiAgICAkWzExXSA9IHZpZGVvUHJvcHM7XG4gICAgJFsxMl0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMTJdO1xuICB9XG4gIHJldHVybiB0Nztcbn1cbmZ1bmN0aW9uIFNrZWxldG9uUHJvcGVydHlDb21wb25lbnQodDApIHtcbiAgY29uc3QgJCA9IGMoMjcpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHksXG4gICAgc2l6ZVxuICB9ID0gdDA7XG4gIGlmICghcHJvcGVydHkpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiTm8gcHJvcGVydHkgYXNzaWduZWQgZm9yIHNrZWxldG9uIGNvbXBvbmVudFwiLCBwcm9wZXJ0eSwgc2l6ZSk7XG4gIH1cbiAgbGV0IGNvbnRlbnQ7XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHN0cmluZ1Byb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgaWYgKHN0cmluZ1Byb3BlcnR5LnVybCkge1xuICAgICAgbGV0IHQxO1xuICAgICAgaWYgKCRbMF0gIT09IHNpemUgfHwgJFsxXSAhPT0gc3RyaW5nUHJvcGVydHkpIHtcbiAgICAgICAgdDEgPSByZW5kZXJVcmxDb21wb25lbnQoc3RyaW5nUHJvcGVydHksIHNpemUpO1xuICAgICAgICAkWzBdID0gc2l6ZTtcbiAgICAgICAgJFsxXSA9IHN0cmluZ1Byb3BlcnR5O1xuICAgICAgICAkWzJdID0gdDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MSA9ICRbMl07XG4gICAgICB9XG4gICAgICBjb250ZW50ID0gdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdHJpbmdQcm9wZXJ0eS5zdG9yYWdlKSB7XG4gICAgICAgIGxldCB0MTtcbiAgICAgICAgaWYgKCRbM10gIT09IHNpemUpIHtcbiAgICAgICAgICB0MSA9IHJlbmRlclNrZWxldG9uSW1hZ2VUaHVtYm5haWwoc2l6ZSk7XG4gICAgICAgICAgJFszXSA9IHNpemU7XG4gICAgICAgICAgJFs0XSA9IHQxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQxID0gJFs0XTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gdDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgdDE7XG4gICAgICAgIGlmICgkWzVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgIHQxID0gcmVuZGVyU2tlbGV0b25UZXh0KCk7XG4gICAgICAgICAgJFs1XSA9IHQxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQxID0gJFs1XTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gdDE7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICBjb25zdCBhcnJheVByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVByb3BlcnR5Lm9mKSkge1xuICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICBpZiAoJFs2XSAhPT0gYXJyYXlQcm9wZXJ0eS5vZikge1xuICAgICAgICAgICAgdDEgPSBhcnJheVByb3BlcnR5Lm9mLm1hcChfdGVtcCRuKTtcbiAgICAgICAgICAgICRbNl0gPSBhcnJheVByb3BlcnR5Lm9mO1xuICAgICAgICAgICAgJFs3XSA9IHQxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0MSA9ICRbN107XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB0MjtcbiAgICAgICAgICBpZiAoJFs4XSAhPT0gdDEpIHtcbiAgICAgICAgICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgdDEsXG4gICAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgICBdIH0pO1xuICAgICAgICAgICAgJFs4XSA9IHQxO1xuICAgICAgICAgICAgJFs5XSA9IHQyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0MiA9ICRbOV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRlbnQgPSB0MjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZi5kYXRhVHlwZSA9PT0gXCJtYXBcIiAmJiBhcnJheVByb3BlcnR5Lm9mLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgIGlmICgkWzEwXSAhPT0gYXJyYXlQcm9wZXJ0eS5vZi5wcmV2aWV3UHJvcGVydGllcyB8fCAkWzExXSAhPT0gYXJyYXlQcm9wZXJ0eS5vZi5wcm9wZXJ0aWVzIHx8ICRbMTJdICE9PSBzaXplKSB7XG4gICAgICAgICAgICAgIHQxID0gcmVuZGVyQXJyYXlPZk1hcHMoYXJyYXlQcm9wZXJ0eS5vZi5wcm9wZXJ0aWVzLCBzaXplLCBhcnJheVByb3BlcnR5Lm9mLnByZXZpZXdQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgJFsxMF0gPSBhcnJheVByb3BlcnR5Lm9mLnByZXZpZXdQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAkWzExXSA9IGFycmF5UHJvcGVydHkub2YucHJvcGVydGllcztcbiAgICAgICAgICAgICAgJFsxMl0gPSBzaXplO1xuICAgICAgICAgICAgICAkWzEzXSA9IHQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdDEgPSAkWzEzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRlbnQgPSB0MTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFycmF5UHJvcGVydHkub2YuZGF0YVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGFycmF5UHJvcGVydHkub2YuZW51bVZhbHVlcykge1xuICAgICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgICBpZiAoJFsxNF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgICAgICAgICAgICB0MSA9IHJlbmRlckFycmF5RW51bVRhYmxlQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgJFsxNF0gPSB0MTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdDEgPSAkWzE0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGVudCA9IHQxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9mLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgICAgIGlmICgkWzE1XSAhPT0gYXJyYXlQcm9wZXJ0eS5vZikge1xuICAgICAgICAgICAgICAgICAgICB0MSA9IHJlbmRlckdlbmVyaWNBcnJheUNlbGwoYXJyYXlQcm9wZXJ0eS5vZik7XG4gICAgICAgICAgICAgICAgICAgICRbMTVdID0gYXJyYXlQcm9wZXJ0eS5vZjtcbiAgICAgICAgICAgICAgICAgICAgJFsxNl0gPSB0MTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHQxID0gJFsxNl07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250ZW50ID0gdDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgICAgIGlmICgkWzE3XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSByZW5kZXJBcnJheU9mU3RyaW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAkWzE3XSA9IHQxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSAkWzE3XTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0MTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgaWYgKCRbMThdICE9PSBhcnJheVByb3BlcnR5Lm9mKSB7XG4gICAgICAgICAgICAgICAgdDEgPSByZW5kZXJHZW5lcmljQXJyYXlDZWxsKGFycmF5UHJvcGVydHkub2YpO1xuICAgICAgICAgICAgICAgICRbMThdID0gYXJyYXlQcm9wZXJ0eS5vZjtcbiAgICAgICAgICAgICAgICAkWzE5XSA9IHQxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHQxID0gJFsxOV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGVudCA9IHQxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIpIHtcbiAgICAgICAgY29uc3QgdDEgPSBwcm9wZXJ0eTtcbiAgICAgICAgbGV0IHQyO1xuICAgICAgICBpZiAoJFsyMF0gIT09IHNpemUgfHwgJFsyMV0gIT09IHQxKSB7XG4gICAgICAgICAgdDIgPSByZW5kZXJNYXAodDEsIHNpemUpO1xuICAgICAgICAgICRbMjBdID0gc2l6ZTtcbiAgICAgICAgICAkWzIxXSA9IHQxO1xuICAgICAgICAgICRbMjJdID0gdDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDIgPSAkWzIyXTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gdDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgbGV0IHQxO1xuICAgICAgICAgIGlmICgkWzIzXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgICAgICAgIHQxID0gcmVuZGVyU2tlbGV0b25UZXh0KCk7XG4gICAgICAgICAgICAkWzIzXSA9IHQxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0MSA9ICRbMjNdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZW50ID0gdDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgICAgICAgICBsZXQgdDE7XG4gICAgICAgICAgICBpZiAoJFsyNF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgICAgICAgIHQxID0gcmVuZGVyUmVmZXJlbmNlKCk7XG4gICAgICAgICAgICAgICRbMjRdID0gdDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0MSA9ICRbMjRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGVudCA9IHQxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgaWYgKCRbMjVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgICAgICAgIHQxID0gcmVuZGVyU2tlbGV0b25UZXh0KCk7XG4gICAgICAgICAgICAgICAgJFsyNV0gPSB0MTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0MSA9ICRbMjVdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSB0MTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCB0MTtcbiAgICAgICAgICAgICAgaWYgKCRbMjZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgICAgICAgIHQxID0gcmVuZGVyU2tlbGV0b25UZXh0KCk7XG4gICAgICAgICAgICAgICAgJFsyNl0gPSB0MTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0MSA9ICRbMjZdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSB0MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQgfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIF90ZW1wJG4ocCwgaSkge1xuICByZXR1cm4gcmVuZGVyR2VuZXJpY0FycmF5Q2VsbChwLCBpKTtcbn1cbmZ1bmN0aW9uIHJlbmRlck1hcChwcm9wZXJ0eSwgc2l6ZSkge1xuICBpZiAoIXByb3BlcnR5LnByb3BlcnRpZXMpIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7fSk7XG4gIGxldCBtYXBQcm9wZXJ0eUtleXM7XG4gIGlmIChzaXplID09PSBcImxhcmdlXCIpIHtcbiAgICBtYXBQcm9wZXJ0eUtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0eS5wcm9wZXJ0aWVzKTtcbiAgfSBlbHNlIHtcbiAgICBtYXBQcm9wZXJ0eUtleXMgPSBwcm9wZXJ0eS5wcmV2aWV3UHJvcGVydGllcyB8fCBPYmplY3Qua2V5cyhwcm9wZXJ0eS5wcm9wZXJ0aWVzKTtcbiAgICBpZiAoc2l6ZSA9PT0gXCJtZWRpdW1cIikgbWFwUHJvcGVydHlLZXlzID0gbWFwUHJvcGVydHlLZXlzLnNsaWNlKDAsIDMpO1xuICAgIGVsc2UgaWYgKHNpemUgPT09IFwic21hbGxcIikgbWFwUHJvcGVydHlLZXlzID0gbWFwUHJvcGVydHlLZXlzLnNsaWNlKDAsIDEpO1xuICB9XG4gIGlmIChzaXplICE9PSBcImxhcmdlXCIpIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbCBmbGV4IGZsZXgtY29sIHNwYWNlLXktNFwiLCBjaGlsZHJlbjogbWFwUHJvcGVydHlLZXlzLm1hcCgoa2V5LCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBwcm9wZXJ0eS5wcm9wZXJ0aWVzICYmIHByb3BlcnR5LnByb3BlcnRpZXNba2V5XSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFNrZWxldG9uUHJvcGVydHlDb21wb25lbnQsIHsgcHJvcGVydHk6IHByb3BlcnR5LnByb3BlcnRpZXNba2V5XSwgc2l6ZTogXCJtZWRpdW1cIiB9KSB9LCBgbWFwXyR7a2V5fWApKSB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ0YWJsZVwiLCB7IGNsYXNzTmFtZTogXCJ0YWJsZS1hdXRvXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwidGJvZHlcIiwgeyBjaGlsZHJlbjogbWFwUHJvcGVydHlLZXlzICYmIG1hcFByb3BlcnR5S2V5cy5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJ0clwiLCB7IGNsYXNzTmFtZTogXCJib3JkZXItYiBsYXN0OmJvcmRlci1iLTBcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ0aFwiLCB7IGNsYXNzTmFtZTogXCJhbGlnbi10b3BcIiwgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMzAlXCJcbiAgICAgIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5XCIsIGNoaWxkcmVuOiBwcm9wZXJ0eS5wcm9wZXJ0aWVzW2tleV0ubmFtZSB9KSB9LCBgdGFibGUtY2VsbC10aXRsZS0tJHtrZXl9YCksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwidGhcIiwgeyBzdHlsZToge1xuICAgICAgICB3aWR0aDogXCI3MCVcIlxuICAgICAgfSwgY2hpbGRyZW46IHByb3BlcnR5LnByb3BlcnRpZXMgJiYgcHJvcGVydHkucHJvcGVydGllc1trZXldICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b25Qcm9wZXJ0eUNvbXBvbmVudCwgeyBwcm9wZXJ0eTogcHJvcGVydHkucHJvcGVydGllc1trZXldLCBzaXplOiBcIm1lZGl1bVwiIH0pIH0sIGB0YWJsZS1jZWxsLSR7a2V5fWApXG4gICAgXSB9LCBgbWFwX3ByZXZpZXdfdGFibGVfXyR7aW5kZXh9YCk7XG4gIH0pIH0pIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyQXJyYXlPZk1hcHMocHJvcGVydGllcywgc2l6ZSwgcHJldmlld1Byb3BlcnRpZXMpIHtcbiAgbGV0IHRhYmxlUHJvcGVydGllcyA9IHByZXZpZXdQcm9wZXJ0aWVzO1xuICBpZiAoIXRhYmxlUHJvcGVydGllcyB8fCAhdGFibGVQcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgIHRhYmxlUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuICAgIGlmIChzaXplKSB0YWJsZVByb3BlcnRpZXMgPSB0YWJsZVByb3BlcnRpZXMuc2xpY2UoMCwgMyk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ0YWJsZVwiLCB7IGNsYXNzTmFtZTogXCJ0YWJsZS1hdXRvXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwidGJvZHlcIiwgeyBjaGlsZHJlbjogWzAsIDEsIDJdLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ0clwiLCB7IGNoaWxkcmVuOiB0YWJsZVByb3BlcnRpZXMgJiYgdGFibGVQcm9wZXJ0aWVzLm1hcCgoa2V5KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwidGhcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvblByb3BlcnR5Q29tcG9uZW50LCB7IHByb3BlcnR5OiBwcm9wZXJ0aWVzW2tleV0sIHNpemU6IFwibWVkaXVtXCIgfSkgfSwgYHRhYmxlLWNlbGwtJHtrZXl9YCkpIH0sIGB0YWJsZV8ke3ZhbHVlfV8ke2luZGV4fWApO1xuICB9KSB9KSB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlckFycmF5T2ZTdHJpbmdzKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiBbMCwgMV0ubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHJlbmRlclNrZWxldG9uVGV4dChpbmRleCkpIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyQXJyYXlFbnVtVGFibGVDZWxsKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiBbMCwgMV0ubWFwKCh2YWx1ZSwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHJlbmRlclNrZWxldG9uVGV4dChpbmRleCkgfSkpIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyR2VuZXJpY0FycmF5Q2VsbChwcm9wZXJ0eSwgaW5kZXggPSAwKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wgZ2FwLTJcIiwgY2hpbGRyZW46IFswLCAxXS5tYXAoKHZhbHVlLCBpbmRleDIpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b25Qcm9wZXJ0eUNvbXBvbmVudCwgeyBwcm9wZXJ0eSwgc2l6ZTogXCJtZWRpdW1cIiB9LCBgaV8ke2luZGV4Mn1gKSB9KSkgfSwgXCJhcnJheV9pbmRleF9cIiArIGluZGV4KTtcbn1cbmZ1bmN0aW9uIHJlbmRlclNrZWxldG9uSW1hZ2VUaHVtYm5haWwoc2l6ZSkge1xuICBjb25zdCBpbWFnZVNpemUgPSBzaXplID09PSBcInNtYWxsXCIgPyA0MCA6IHNpemUgPT09IFwibWVkaXVtXCIgPyAxMDAgOiAyMDA7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFNrZWxldG9uLCB7IHdpZHRoOiBpbWFnZVNpemUsIGhlaWdodDogaW1hZ2VTaXplIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyUmVmZXJlbmNlKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvbiwgeyB3aWR0aDogMjAwLCBoZWlnaHQ6IDEwMCB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlclVybENvbXBvbmVudChwcm9wZXJ0eSwgc2l6ZSA9IFwibGFyZ2VcIikge1xuICBpZiAodHlwZW9mIHByb3BlcnR5LnVybCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBzdHlsZToge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgcmVuZGVyU2tlbGV0b25JY29uKCksXG4gICAgICByZW5kZXJTa2VsZXRvblRleHQoKVxuICAgIF0gfSk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlclVybEZpbGUoc2l6ZSk7XG59XG5mdW5jdGlvbiByZW5kZXJVcmxGaWxlKHNpemUpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGB3LSR7Z2V0VGh1bWJuYWlsTWVhc3VyZShzaXplKX0gaC0ke2dldFRodW1ibmFpbE1lYXN1cmUoc2l6ZSl9YCwgY2hpbGRyZW46IHJlbmRlclNrZWxldG9uSWNvbigpIH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyU2tlbGV0b25UZXh0KGluZGV4LCB3aWR0aCA9IDEyMCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvbiwgeyB3aWR0aCB9LCBgc2tlbGV0b25fJHtpbmRleH1gKTtcbn1cbmZ1bmN0aW9uIHJlbmRlclNrZWxldG9uQ2FwdGlvblRleHQoaW5kZXgpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHsgaGVpZ2h0OiAyMCB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlclNrZWxldG9uSWNvbigpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHsgd2lkdGg6IDI0LCBoZWlnaHQ6IDI0IH0pO1xufVxuY29uc3QgU3RvcmFnZVRodW1ibmFpbCA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oU3RvcmFnZVRodW1ibmFpbEludGVybmFsLCBhcmVFcXVhbCQxKTtcbmZ1bmN0aW9uIGFyZUVxdWFsJDEocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcbiAgcmV0dXJuIHByZXZQcm9wcy5zaXplID09PSBuZXh0UHJvcHMuc2l6ZSAmJiBwcmV2UHJvcHMuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsID09PSBuZXh0UHJvcHMuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsICYmIHByZXZQcm9wcy5zdG9yZVVybCA9PT0gbmV4dFByb3BzLnN0b3JlVXJsICYmIHByZXZQcm9wcy5pbnRlcmFjdGl2ZSA9PT0gbmV4dFByb3BzLmludGVyYWN0aXZlO1xufVxuY29uc3QgVVJMX0NBQ0hFID0ge307XG5mdW5jdGlvbiBTdG9yYWdlVGh1bWJuYWlsSW50ZXJuYWwodDApIHtcbiAgY29uc3QgJCA9IGMoMTIpO1xuICBjb25zdCB7XG4gICAgaW50ZXJhY3RpdmUsXG4gICAgc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsLFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBjb25zdCBbLCBzZXRFcnJvcl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSh2b2lkIDApO1xuICBjb25zdCBzdG9yYWdlID0gdXNlU3RvcmFnZVNvdXJjZSgpO1xuICBjb25zdCBbZG93bmxvYWRDb25maWcsIHNldERvd25sb2FkQ29uZmlnXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKFVSTF9DQUNIRVtzdG9yYWdlUGF0aE9yRG93bmxvYWRVcmxdKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gc3RvcmFnZSB8fCAkWzFdICE9PSBzdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwpIHtcbiAgICB0MSA9ICgpID0+IHtcbiAgICAgIGlmICghc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB1bm1vdW50ZWQ7XG4gICAgICB1bm1vdW50ZWQgPSBmYWxzZTtcbiAgICAgIHN0b3JhZ2UuZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKS50aGVuKGZ1bmN0aW9uKGRvd25sb2FkQ29uZmlnXzApIHtcbiAgICAgICAgaWYgKCF1bm1vdW50ZWQpIHtcbiAgICAgICAgICBzZXREb3dubG9hZENvbmZpZyhkb3dubG9hZENvbmZpZ18wKTtcbiAgICAgICAgICBVUkxfQ0FDSEVbc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsXSA9IGRvd25sb2FkQ29uZmlnXzA7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKHNldEVycm9yKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHVubW91bnRlZCA9IHRydWU7XG4gICAgICB9O1xuICAgIH07XG4gICAgJFswXSA9IHN0b3JhZ2U7XG4gICAgJFsxXSA9IHN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybDtcbiAgICAkWzJdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzJdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbM10gIT09IHN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCkge1xuICAgIHQyID0gW3N0b3JhZ2VQYXRoT3JEb3dubG9hZFVybF07XG4gICAgJFszXSA9IHN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybDtcbiAgICAkWzRdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzRdO1xuICB9XG4gIHVzZUVmZmVjdCh0MSwgdDIpO1xuICBpZiAoIXN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGZpbGV0eXBlID0gZG93bmxvYWRDb25maWc/Lm1ldGFkYXRhID8gZ2V0RmlsZXR5cGUoZG93bmxvYWRDb25maWc/Lm1ldGFkYXRhLmNvbnRlbnRUeXBlKSA6IHZvaWQgMDtcbiAgY29uc3QgcHJldmlld1R5cGUgPSBmaWxldHlwZT8uc3RhcnRzV2l0aChcImltYWdlXCIpID8gXCJpbWFnZVwiIDogZmlsZXR5cGU/LnN0YXJ0c1dpdGgoXCJ2aWRlb1wiKSA/IFwidmlkZW9cIiA6IGZpbGV0eXBlPy5zdGFydHNXaXRoKFwiYXVkaW9cIikgPyBcImF1ZGlvXCIgOiBcImZpbGVcIjtcbiAgaWYgKGRvd25sb2FkQ29uZmlnPy5maWxlTm90Rm91bmQpIHtcbiAgICBsZXQgdDMyO1xuICAgIGlmICgkWzVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDMyID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiRmlsZSBub3QgZm91bmRcIiB9KTtcbiAgICAgICRbNV0gPSB0MzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzMiA9ICRbNV07XG4gICAgfVxuICAgIHJldHVybiB0MzI7XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs2XSAhPT0gZG93bmxvYWRDb25maWcgfHwgJFs3XSAhPT0gaW50ZXJhY3RpdmUgfHwgJFs4XSAhPT0gcHJldmlld1R5cGUgfHwgJFs5XSAhPT0gc2l6ZSB8fCAkWzEwXSAhPT0gc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKSB7XG4gICAgdDMgPSBkb3dubG9hZENvbmZpZz8udXJsID8gLyogQF9fUFVSRV9fICovIGpzeChVcmxDb21wb25lbnRQcmV2aWV3LCB7IHByZXZpZXdUeXBlLCB1cmw6IGRvd25sb2FkQ29uZmlnLnVybCwgaW50ZXJhY3RpdmUsIHNpemUsIGhpbnQ6IHN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCB9KSA6IHJlbmRlclNrZWxldG9uSW1hZ2VUaHVtYm5haWwoc2l6ZSk7XG4gICAgJFs2XSA9IGRvd25sb2FkQ29uZmlnO1xuICAgICRbN10gPSBpbnRlcmFjdGl2ZTtcbiAgICAkWzhdID0gcHJldmlld1R5cGU7XG4gICAgJFs5XSA9IHNpemU7XG4gICAgJFsxMF0gPSBzdG9yYWdlUGF0aE9yRG93bmxvYWRVcmw7XG4gICAgJFsxMV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTFdO1xuICB9XG4gIHJldHVybiB0Mztcbn1cbmZ1bmN0aW9uIGdldEZpbGV0eXBlKGlucHV0KSB7XG4gIGlmIChpbnB1dC5zdGFydHNXaXRoKFwiaW1hZ2VcIikpIHJldHVybiBcImltYWdlLypcIjtcbiAgZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aChcInZpZGVvXCIpKSByZXR1cm4gXCJ2aWRlby8qXCI7XG4gIGVsc2UgaWYgKGlucHV0LnN0YXJ0c1dpdGgoXCJhdWRpb1wiKSkgcmV0dXJuIFwiYXVkaW8vKlwiO1xuICBlbHNlIGlmIChpbnB1dC5zdGFydHNXaXRoKFwiYXBwbGljYXRpb25cIikpIHJldHVybiBcImFwcGxpY2F0aW9uLypcIjtcbiAgZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aChcInRleHRcIikpIHJldHVybiBcInRleHQvKlwiO1xuICBlbHNlIGlmIChpbnB1dC5zdGFydHNXaXRoKFwiZm9udFwiKSkgcmV0dXJuIFwiZm9udC8qXCI7XG4gIGVsc2UgcmV0dXJuIGlucHV0O1xufVxuZnVuY3Rpb24gRW51bVZhbHVlc0NoaXAodDApIHtcbiAgY29uc3QgJCA9IGMoMTEpO1xuICBjb25zdCB7XG4gICAgZW51bVZhbHVlcyxcbiAgICBlbnVtS2V5LFxuICAgIHNpemUsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNoaWxkcmVuXG4gIH0gPSB0MDtcbiAgaWYgKCFlbnVtVmFsdWVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGxhYmVsO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBlbnVtS2V5IHx8ICRbMV0gIT09IGVudW1WYWx1ZXMpIHtcbiAgICBjb25zdCBlbnVtVmFsdWVzQ29uZmlnID0gZW51bVRvT2JqZWN0RW50cmllcyhlbnVtVmFsdWVzKTtcbiAgICBjb25zdCBlbnVtVmFsdWUgPSBlbnVtS2V5ICE9PSB2b2lkIDAgPyBnZXRMYWJlbE9yQ29uZmlnRnJvbShlbnVtVmFsdWVzQ29uZmlnLCBlbnVtS2V5KSA6IHZvaWQgMDtcbiAgICBsYWJlbCA9IGJ1aWxkRW51bUxhYmVsKGVudW1WYWx1ZSk7XG4gICAgdDEgPSBnZXRDb2xvclNjaGVtZShlbnVtVmFsdWVzQ29uZmlnLCBlbnVtS2V5KTtcbiAgICAkWzBdID0gZW51bUtleTtcbiAgICAkWzFdID0gZW51bVZhbHVlcztcbiAgICAkWzJdID0gbGFiZWw7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIGxhYmVsID0gJFsyXTtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgY29uc3QgY29sb3JTY2hlbWUgPSB0MTtcbiAgY29uc3QgdDIgPSAhbGFiZWw7XG4gIGNvbnN0IHQzID0gIWNoaWxkcmVuICYmIChsYWJlbCAhPT0gdm9pZCAwID8gbGFiZWwgOiBTdHJpbmcoZW51bUtleSkpO1xuICBsZXQgdDQ7XG4gIGlmICgkWzRdICE9PSBjaGlsZHJlbiB8fCAkWzVdICE9PSBjbGFzc05hbWUgfHwgJFs2XSAhPT0gY29sb3JTY2hlbWUgfHwgJFs3XSAhPT0gc2l6ZSB8fCAkWzhdICE9PSB0MiB8fCAkWzldICE9PSB0Mykge1xuICAgIHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoQ2hpcCwgeyBjbGFzc05hbWUsIGNvbG9yU2NoZW1lLCBlcnJvcjogdDIsIG91dGxpbmVkOiBmYWxzZSwgc2l6ZSwgY2hpbGRyZW46IFtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgdDNcbiAgICBdIH0pO1xuICAgICRbNF0gPSBjaGlsZHJlbjtcbiAgICAkWzVdID0gY2xhc3NOYW1lO1xuICAgICRbNl0gPSBjb2xvclNjaGVtZTtcbiAgICAkWzddID0gc2l6ZTtcbiAgICAkWzhdID0gdDI7XG4gICAgJFs5XSA9IHQzO1xuICAgICRbMTBdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEwXTtcbiAgfVxuICByZXR1cm4gdDQ7XG59XG5mdW5jdGlvbiBTdHJpbmdQcm9wZXJ0eVByZXZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMjApO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgdmFsdWUsXG4gICAgcHJvcGVydHksXG4gICAgc2l6ZVxuICB9ID0gdDA7XG4gIGlmIChwcm9wZXJ0eS5lbnVtVmFsdWVzKSB7XG4gICAgY29uc3QgZW51bUtleSA9IHZhbHVlO1xuICAgIGxldCB0MTtcbiAgICBpZiAoJFswXSAhPT0gcHJvcGVydHkpIHtcbiAgICAgIHQxID0gcmVzb2x2ZVByb3BlcnR5RW51bShwcm9wZXJ0eSk7XG4gICAgICAkWzBdID0gcHJvcGVydHk7XG4gICAgICAkWzFdID0gdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxID0gJFsxXTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWRQcm9wZXJ0eSA9IHQxO1xuICAgIGxldCB0MjtcbiAgICBpZiAoJFsyXSAhPT0gZW51bUtleSB8fCAkWzNdICE9PSByZXNvbHZlZFByb3BlcnR5LmVudW1WYWx1ZXMgfHwgJFs0XSAhPT0gc2l6ZSkge1xuICAgICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KEVudW1WYWx1ZXNDaGlwLCB7IGVudW1LZXksIGVudW1WYWx1ZXM6IHJlc29sdmVkUHJvcGVydHkuZW51bVZhbHVlcywgc2l6ZSB9KTtcbiAgICAgICRbMl0gPSBlbnVtS2V5O1xuICAgICAgJFszXSA9IHJlc29sdmVkUHJvcGVydHkuZW51bVZhbHVlcztcbiAgICAgICRbNF0gPSBzaXplO1xuICAgICAgJFs1XSA9IHQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9ICRbNV07XG4gICAgfVxuICAgIHJldHVybiB0MjtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvcGVydHkucHJldmlld0FzVGFnKSB7XG4gICAgICBjb25zdCB0MSA9IHByb3BlcnR5S2V5ID8/IFwiXCI7XG4gICAgICBsZXQgdDI7XG4gICAgICBpZiAoJFs2XSAhPT0gdDEpIHtcbiAgICAgICAgdDIgPSBnZXRDb2xvclNjaGVtZUZvclNlZWQodDEpO1xuICAgICAgICAkWzZdID0gdDE7XG4gICAgICAgICRbN10gPSB0MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQyID0gJFs3XTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbG9yU2NoZW1lID0gdDI7XG4gICAgICBsZXQgdDM7XG4gICAgICBpZiAoJFs4XSAhPT0gY29sb3JTY2hlbWUgfHwgJFs5XSAhPT0gc2l6ZSB8fCAkWzEwXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdDMgPSAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2hpcCwgeyBjb2xvclNjaGVtZSwgc2l6ZSwgY2hpbGRyZW46IHZhbHVlIH0pIH0pO1xuICAgICAgICAkWzhdID0gY29sb3JTY2hlbWU7XG4gICAgICAgICRbOV0gPSBzaXplO1xuICAgICAgICAkWzEwXSA9IHZhbHVlO1xuICAgICAgICAkWzExXSA9IHQzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDMgPSAkWzExXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0MztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BlcnR5LnVybCkge1xuICAgICAgICBjb25zdCB0MSA9IHR5cGVvZiBwcm9wZXJ0eS51cmwgPT09IFwic3RyaW5nXCIgPyBwcm9wZXJ0eS51cmwgOiB2b2lkIDA7XG4gICAgICAgIGxldCB0MjtcbiAgICAgICAgaWYgKCRbMTJdICE9PSBzaXplIHx8ICRbMTNdICE9PSB0MSB8fCAkWzE0XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVXJsQ29tcG9uZW50UHJldmlldywgeyBzaXplLCB1cmw6IHZhbHVlLCBwcmV2aWV3VHlwZTogdDEgfSk7XG4gICAgICAgICAgJFsxMl0gPSBzaXplO1xuICAgICAgICAgICRbMTNdID0gdDE7XG4gICAgICAgICAgJFsxNF0gPSB2YWx1ZTtcbiAgICAgICAgICAkWzE1XSA9IHQyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQyID0gJFsxNV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGxldCB0MTI7XG4gICAgICAgICAgaWYgKCRbMTZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgICAgdDEyID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwge30pO1xuICAgICAgICAgICAgJFsxNl0gPSB0MTI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQxMiA9ICRbMTZdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdDEyO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MTtcbiAgICAgICAgaWYgKCRbMTddICE9PSBzaXplIHx8ICRbMThdICE9PSB2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gdmFsdWUuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgdDEgPSB2YWx1ZSAmJiB2YWx1ZS5pbmNsdWRlcyhcIlxcblwiKSA/IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcIm92ZXJmbG93LXgtc2Nyb2xsXCIsIHNpemUgPT09IFwic21hbGxcIiA/IFwidGV4dC1zbVwiIDogXCJcIiksIGNoaWxkcmVuOiBsaW5lcy5tYXAoKHN0ciwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBzdHIgfSksXG4gICAgICAgICAgICBpbmRleCAhPT0gbGluZXMubGVuZ3RoIC0gMSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiYnJcIiwge30pXG4gICAgICAgICAgXSB9LCBgc3RyaW5nX3ByZXZpZXdfJHtpbmRleH1gKSkgfSkgOiBzaXplID09PSBcInNtYWxsXCIgPyAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtXCIsIGNoaWxkcmVuOiB2YWx1ZSB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHZhbHVlIH0pO1xuICAgICAgICAgICRbMTddID0gc2l6ZTtcbiAgICAgICAgICAkWzE4XSA9IHZhbHVlO1xuICAgICAgICAgICRbMTldID0gdDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdDEgPSAkWzE5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDE7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBBcnJheVByb3BlcnR5UHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygxMik7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICBzaXplXG4gIH0gPSB0MDtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MgfHwgJFsxXSAhPT0gaW5wdXRQcm9wZXJ0eSB8fCAkWzJdICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQxID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgfSk7XG4gICAgJFswXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncztcbiAgICAkWzFdID0gaW5wdXRQcm9wZXJ0eTtcbiAgICAkWzJdID0gcHJvcGVydHlLZXk7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCBwcm9wZXJ0eSA9IHQxO1xuICBpZiAoIXByb3BlcnR5Lm9mKSB7XG4gICAgdGhyb3cgRXJyb3IoYFlvdSBuZWVkIHRvIHNwZWNpZnkgYW4gJ29mJyBwcm9wIChvciBzcGVjaWZ5IGEgY3VzdG9tIGZpZWxkKSBpbiB5b3VyIGFycmF5IHByb3BlcnR5ICR7cHJvcGVydHlLZXl9YCk7XG4gIH1cbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlICE9PSBcImFycmF5XCIpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBpY2tlZCB3cm9uZyBwcmV2aWV3IGNvbXBvbmVudCBBcnJheVByZXZpZXdcIik7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gdmFsdWU7XG4gIGlmICghdmFsdWVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgY2hpbGRTaXplID0gc2l6ZSA9PT0gXCJtZWRpdW1cIiA/IFwibWVkaXVtXCIgOiBcInNtYWxsXCI7XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IGNoaWxkU2l6ZSB8fCAkWzVdICE9PSBwcm9wZXJ0eS5vZiB8fCAkWzZdICE9PSBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXMgfHwgJFs3XSAhPT0gcHJvcGVydHlLZXkgfHwgJFs4XSAhPT0gdmFsdWVzKSB7XG4gICAgdDIgPSB2YWx1ZXMgJiYgdmFsdWVzLm1hcCgodmFsdWVfMCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG9mID0gcHJvcGVydHkucmVzb2x2ZWRQcm9wZXJ0aWVzW2luZGV4XSA/PyBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXNbaW5kZXhdID8/IChBcnJheS5pc0FycmF5KHByb3BlcnR5Lm9mKSA/IHByb3BlcnR5Lm9mW2luZGV4XSA6IHByb3BlcnR5Lm9mKTtcbiAgICAgIHJldHVybiBvZiA/IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwibS0xIGJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMFwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXksIHZhbHVlOiB2YWx1ZV8wLCBwcm9wZXJ0eTogb2YsIHNpemU6IGNoaWxkU2l6ZSB9KSB9KSB9KSB9LCBcInByZXZpZXdfYXJyYXlfXCIgKyBpbmRleCkgOiBudWxsO1xuICAgIH0pO1xuICAgICRbNF0gPSBjaGlsZFNpemU7XG4gICAgJFs1XSA9IHByb3BlcnR5Lm9mO1xuICAgICRbNl0gPSBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXM7XG4gICAgJFs3XSA9IHByb3BlcnR5S2V5O1xuICAgICRbOF0gPSB2YWx1ZXM7XG4gICAgJFs5XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs5XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzEwXSAhPT0gdDIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMlwiLCBjaGlsZHJlbjogdDIgfSk7XG4gICAgJFsxMF0gPSB0MjtcbiAgICAkWzExXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMV07XG4gIH1cbiAgcmV0dXJuIHQzO1xufVxuZnVuY3Rpb24gRW50aXR5UHJldmlldyh7XG4gIGFjdGlvbnMsXG4gIGRpc2FibGVkLFxuICBob3ZlcixcbiAgY29sbGVjdGlvbjogY29sbGVjdGlvblByb3AsXG4gIHByZXZpZXdQcm9wZXJ0aWVzLFxuICBvbkNsaWNrLFxuICBzaXplLFxuICBpbmNsdWRlSWQgPSB0cnVlLFxuICBpbmNsdWRlRW50aXR5TGluayA9IHRydWUsXG4gIGVudGl0eVxufSkge1xuICBjb25zdCBhbmFseXRpY3NDb250cm9sbGVyID0gdXNlQW5hbHl0aWNzQ29udHJvbGxlcigpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZVNpZGVFbnRpdHlDb250cm9sbGVyKCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgbmF2aWdhdGlvbkNvbnRyb2xsZXIgPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvblByb3AgPz8gbmF2aWdhdGlvbkNvbnRyb2xsZXIuZ2V0Q29sbGVjdGlvbihlbnRpdHkucGF0aCk7XG4gIGlmICghY29sbGVjdGlvbikge1xuICAgIHRocm93IEVycm9yKGBDb3VsZG4ndCBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIGNvbGxlY3Rpb24gdmlldyBmb3IgdGhlIHBhdGg6ICR7ZW50aXR5LnBhdGh9YCk7XG4gIH1cbiAgY29uc3QgcmVzb2x2ZWRDb2xsZWN0aW9uID0gUmVhY3QudXNlTWVtbygoKSA9PiByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgY29sbGVjdGlvbixcbiAgICBwYXRoOiBlbnRpdHkucGF0aCxcbiAgICB2YWx1ZXM6IGVudGl0eS52YWx1ZXMsXG4gICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgfSksIFtjb2xsZWN0aW9uXSk7XG4gIGNvbnN0IGxpc3RQcm9wZXJ0aWVzID0gdXNlTWVtbygoKSA9PiBnZXRFbnRpdHlQcmV2aWV3S2V5cyhyZXNvbHZlZENvbGxlY3Rpb24sIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncywgcHJldmlld1Byb3BlcnRpZXMsIHNpemUgPT09IFwibWVkaXVtXCIgfHwgc2l6ZSA9PT0gXCJsYXJnZVwiID8gMyA6IDEpLCBbcHJldmlld1Byb3BlcnRpZXMsIHJlc29sdmVkQ29sbGVjdGlvbiwgc2l6ZV0pO1xuICBjb25zdCB0aXRsZVByb3BlcnR5ID0gZ2V0RW50aXR5VGl0bGVQcm9wZXJ0eUtleShyZXNvbHZlZENvbGxlY3Rpb24sIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncyk7XG4gIGNvbnN0IGltYWdlUHJvcGVydHlLZXkgPSBnZXRFbnRpdHlJbWFnZVByZXZpZXdQcm9wZXJ0eUtleShyZXNvbHZlZENvbGxlY3Rpb24pO1xuICBjb25zdCBpbWFnZVByb3BlcnR5ID0gaW1hZ2VQcm9wZXJ0eUtleSA/IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzW2ltYWdlUHJvcGVydHlLZXldIDogdm9pZCAwO1xuICBjb25zdCB1c2VkSW1hZ2VQcm9wZXJ0eSA9IGltYWdlUHJvcGVydHkgJiYgXCJvZlwiIGluIGltYWdlUHJvcGVydHkgPyBpbWFnZVByb3BlcnR5Lm9mIDogaW1hZ2VQcm9wZXJ0eTtcbiAgY29uc3QgcmVzdFByb3BlcnRpZXMgPSBsaXN0UHJvcGVydGllcy5maWx0ZXIoKHApID0+IHAgIT09IHRpdGxlUHJvcGVydHkgJiYgcCAhPT0gaW1hZ2VQcm9wZXJ0eUtleSk7XG4gIGNvbnN0IGltYWdlVmFsdWUgPSBpbWFnZVByb3BlcnR5S2V5ID8gZ2V0VmFsdWVJblBhdGgoZW50aXR5LnZhbHVlcywgaW1hZ2VQcm9wZXJ0eUtleSkgOiB2b2lkIDA7XG4gIGNvbnN0IHVzZWRJbWFnZVZhbHVlID0gaW1hZ2VQcm9wZXJ0eSAhPT0gdm9pZCAwID8gXCJvZlwiIGluIGltYWdlUHJvcGVydHkgPyAoaW1hZ2VWYWx1ZSA/PyBbXSkubGVuZ3RoID4gMCA/IGltYWdlVmFsdWVbMF0gOiB2b2lkIDAgOiBpbWFnZVZhbHVlIDogdm9pZCAwO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRW50aXR5UHJldmlld0NvbnRhaW5lciwgeyBvbkNsaWNrOiBkaXNhYmxlZCA/IHZvaWQgMCA6IG9uQ2xpY2ssIGhvdmVyOiBkaXNhYmxlZCA/IHZvaWQgMCA6IGhvdmVyLCBzaXplLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoXCJmbGV4IHctMTAgaC0xMCBtbC0xIG1yLTIgc2hyaW5rLTBcIiwgc2l6ZSA9PT0gXCJzbWFsbFwiID8gXCJteS0wLjVcIiA6IFwibS0yIHNlbGYtc3RhcnRcIiksIGNoaWxkcmVuOiBbXG4gICAgICB1c2VkSW1hZ2VQcm9wZXJ0eSAmJiB1c2VkSW1hZ2VWYWx1ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyBwcm9wZXJ0eTogdXNlZEltYWdlUHJvcGVydHksIHByb3BlcnR5S2V5OiBpbWFnZVByb3BlcnR5S2V5LCBzaXplOiBcInNtYWxsXCIsIHZhbHVlOiB1c2VkSW1hZ2VWYWx1ZSB9KSxcbiAgICAgICghdXNlZEltYWdlUHJvcGVydHkgfHwgIXVzZWRJbWFnZVZhbHVlKSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEljb25Gb3JWaWV3LCB7IGNvbGxlY3Rpb25PclZpZXc6IGNvbGxlY3Rpb24sIGNvbG9yOiBcInByaW1hcnlcIiwgc2l6ZSwgY2xhc3NOYW1lOiBcIm0tYXV0byBwLTFcIiB9KVxuICAgIF0gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBncm93LTEgdy1mdWxsIG0tMSBzaHJpbmstMVwiLCBzdHlsZToge1xuICAgICAgXCJtYXhXaWR0aFwiOiBcImNhbGMoMTAwJSAtIDk2cHgpXCJcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgc2l6ZSAhPT0gXCJzbWFsbFwiICYmIGluY2x1ZGVJZCAmJiAoZW50aXR5ID8gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB3aGl0ZXNwYWNlLW5vd3JhcCBvdmVyZmxvdy1oaWRkZW4gdHJ1bmNhdGVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY29sb3I6IFwiZGlzYWJsZWRcIiwgY2xhc3NOYW1lOiBcImZvbnQtbW9ub1wiLCBjaGlsZHJlbjogZW50aXR5LmlkIH0pIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvbiwge30pKSxcbiAgICAgIHRpdGxlUHJvcGVydHkgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0cnVuY2F0ZSBteS0wLjUgdGV4dC1zbSBmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogZW50aXR5ID8gLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXk6IHRpdGxlUHJvcGVydHksIHZhbHVlOiBnZXRWYWx1ZUluUGF0aChlbnRpdHkudmFsdWVzLCB0aXRsZVByb3BlcnR5KSwgcHJvcGVydHk6IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzW3RpdGxlUHJvcGVydHldLCBzaXplOiBcImxhcmdlXCIgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4KFNrZWxldG9uUHJvcGVydHlDb21wb25lbnQsIHsgcHJvcGVydHk6IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzW3RpdGxlUHJvcGVydHldLCBzaXplOiBcImxhcmdlXCIgfSkgfSksXG4gICAgICByZXN0UHJvcGVydGllcyAmJiByZXN0UHJvcGVydGllcy5tYXAoKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZFByb3BlcnR5ID0gcmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGlsZFByb3BlcnR5KSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcInRydW5jYXRlXCIsIHJlc3RQcm9wZXJ0aWVzLmxlbmd0aCA+IDEgPyBcIm15LTAuNVwiIDogXCJteS0wXCIpLCBjaGlsZHJlbjogZW50aXR5ID8gLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXk6IGtleSwgdmFsdWU6IGdldFZhbHVlSW5QYXRoKGVudGl0eS52YWx1ZXMsIGtleSksIHByb3BlcnR5OiBjaGlsZFByb3BlcnR5LCBzaXplOiBcInNtYWxsXCIgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4KFNrZWxldG9uUHJvcGVydHlDb21wb25lbnQsIHsgcHJvcGVydHk6IGNoaWxkUHJvcGVydHksIHNpemU6IFwic21hbGxcIiB9KSB9LCBcInJlZl9wcmV2X1wiICsga2V5KTtcbiAgICAgIH0pXG4gICAgXSB9KSxcbiAgICBlbnRpdHkgJiYgaW5jbHVkZUVudGl0eUxpbmsgJiYgLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBgU2VlIGRldGFpbHMgZm9yICR7ZW50aXR5LmlkfWAsIGNsYXNzTmFtZTogXCJzaHJpbmstMFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNvbG9yOiBcImluaGVyaXRcIiwgc2l6ZTogXCJtZWRpdW1cIiwgY2xhc3NOYW1lOiBzaXplICE9PSBcInNtYWxsXCIgPyBcInNlbGYtc3RhcnRcIiA6IFwiXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgYW5hbHl0aWNzQ29udHJvbGxlci5vbkFuYWx5dGljc0V2ZW50Py4oXCJlbnRpdHlfY2xpY2tfZnJvbV9yZWZlcmVuY2VcIiwge1xuICAgICAgICBwYXRoOiBlbnRpdHkucGF0aCxcbiAgICAgICAgZW50aXR5SWQ6IGVudGl0eS5pZFxuICAgICAgfSk7XG4gICAgICBzaWRlRW50aXR5Q29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgZW50aXR5SWQ6IGVudGl0eS5pZCxcbiAgICAgICAgcGF0aDogZW50aXR5LnBhdGgsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIHVwZGF0ZVVybDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goS2V5Ym9hcmRUYWJJY29uLCB7IHNpemU6IFwibWVkaXVtXCIgfSkgfSkgfSksXG4gICAgYWN0aW9uc1xuICBdIH0pO1xufVxuY29uc3QgRW50aXR5UHJldmlld0NvbnRhaW5lciA9IFJlYWN0LmZvcndhcmRSZWYoKHQwLCByZWYpID0+IHtcbiAgY29uc3QgJCA9IGMoMjYpO1xuICBsZXQgY2hpbGRyZW47XG4gIGxldCBjbGFzc05hbWU7XG4gIGxldCBob3ZlcjtcbiAgbGV0IG9uQ2xpY2s7XG4gIGxldCBwcm9wcztcbiAgbGV0IHNpemU7XG4gIGxldCBzdHlsZTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gdDApIHtcbiAgICAoe1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBob3ZlcixcbiAgICAgIG9uQ2xpY2ssXG4gICAgICBzaXplLFxuICAgICAgc3R5bGUsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBmdWxsd2lkdGg6IHQxLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdDApO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gY2hpbGRyZW47XG4gICAgJFsyXSA9IGNsYXNzTmFtZTtcbiAgICAkWzNdID0gaG92ZXI7XG4gICAgJFs0XSA9IG9uQ2xpY2s7XG4gICAgJFs1XSA9IHByb3BzO1xuICAgICRbNl0gPSBzaXplO1xuICAgICRbN10gPSBzdHlsZTtcbiAgICAkWzhdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSAkWzFdO1xuICAgIGNsYXNzTmFtZSA9ICRbMl07XG4gICAgaG92ZXIgPSAkWzNdO1xuICAgIG9uQ2xpY2sgPSAkWzRdO1xuICAgIHByb3BzID0gJFs1XTtcbiAgICBzaXplID0gJFs2XTtcbiAgICBzdHlsZSA9ICRbN107XG4gICAgdDEgPSAkWzhdO1xuICB9XG4gIGNvbnN0IGZ1bGx3aWR0aCA9IHQxID09PSB2b2lkIDAgPyB0cnVlIDogdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbOV0gIT09IHN0eWxlKSB7XG4gICAgdDIgPSB7XG4gICAgICAuLi5zdHlsZSxcbiAgICAgIHRhYmluZGV4OiAwXG4gICAgfTtcbiAgICAkWzldID0gc3R5bGU7XG4gICAgJFsxMF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMTBdO1xuICB9XG4gIGNvbnN0IHQzID0gZnVsbHdpZHRoID8gXCJ3LWZ1bGxcIiA6IFwiXCI7XG4gIGNvbnN0IHQ0ID0gaG92ZXIgPyBcImhvdmVyOmJnLXN1cmZhY2UtYWNjZW50LTUwIGRhcms6aG92ZXI6Ymctc3VyZmFjZS04MDAgZ3JvdXAtaG92ZXI6Ymctc3VyZmFjZS1hY2NlbnQtNTAgZGFyazpncm91cC1ob3ZlcjpiZy1zdXJmYWNlLTgwMFwiIDogXCJcIjtcbiAgY29uc3QgdDUgPSBzaXplID09PSBcInNtYWxsXCIgPyBcInAtMVwiIDogXCJweC0yIHB5LTFcIjtcbiAgY29uc3QgdDYgPSBvbkNsaWNrID8gXCJjdXJzb3ItcG9pbnRlclwiIDogXCJcIjtcbiAgbGV0IHQ3O1xuICBpZiAoJFsxMV0gIT09IGNsYXNzTmFtZSB8fCAkWzEyXSAhPT0gdDMgfHwgJFsxM10gIT09IHQ0IHx8ICRbMTRdICE9PSB0NSB8fCAkWzE1XSAhPT0gdDYpIHtcbiAgICB0NyA9IGNscyhcImJnLXdoaXRlIGRhcms6Ymctc3VyZmFjZS05MDBcIiwgXCJtaW4taC1bNDJweF1cIiwgdDMsIFwiaXRlbXMtY2VudGVyXCIsIHQ0LCB0NSwgXCJmbGV4IGJvcmRlciByb3VuZGVkLWxnXCIsIHQ2LCBkZWZhdWx0Qm9yZGVyTWl4aW4sIGNsYXNzTmFtZSk7XG4gICAgJFsxMV0gPSBjbGFzc05hbWU7XG4gICAgJFsxMl0gPSB0MztcbiAgICAkWzEzXSA9IHQ0O1xuICAgICRbMTRdID0gdDU7XG4gICAgJFsxNV0gPSB0NjtcbiAgICAkWzE2XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxNl07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxN10gIT09IG9uQ2xpY2spIHtcbiAgICB0OCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzE3XSA9IG9uQ2xpY2s7XG4gICAgJFsxOF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMThdO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMTldICE9PSBjaGlsZHJlbiB8fCAkWzIwXSAhPT0gcHJvcHMgfHwgJFsyMV0gIT09IHJlZiB8fCAkWzIyXSAhPT0gdDIgfHwgJFsyM10gIT09IHQ3IHx8ICRbMjRdICE9PSB0OCkge1xuICAgIHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZiwgc3R5bGU6IHQyLCBjbGFzc05hbWU6IHQ3LCBvbkNsaWNrOiB0OCwgLi4ucHJvcHMsIGNoaWxkcmVuIH0pO1xuICAgICRbMTldID0gY2hpbGRyZW47XG4gICAgJFsyMF0gPSBwcm9wcztcbiAgICAkWzIxXSA9IHJlZjtcbiAgICAkWzIyXSA9IHQyO1xuICAgICRbMjNdID0gdDc7XG4gICAgJFsyNF0gPSB0ODtcbiAgICAkWzI1XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyNV07XG4gIH1cbiAgcmV0dXJuIHQ5O1xufSk7XG5FbnRpdHlQcmV2aWV3Q29udGFpbmVyLmRpc3BsYXlOYW1lID0gXCJFbnRpdHlQcmV2aWV3Q29udGFpbmVyXCI7XG5jb25zdCBSZWZlcmVuY2VQcmV2aWV3ID0gZnVuY3Rpb24gUmVmZXJlbmNlUHJldmlldzIocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBjb25zdCByZWZlcmVuY2UgPSBwcm9wcy5yZWZlcmVuY2U7XG4gIGlmICghKHR5cGVvZiByZWZlcmVuY2UgPT09IFwib2JqZWN0XCIgJiYgXCJpc0VudGl0eVJlZmVyZW5jZVwiIGluIHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuaXNFbnRpdHlSZWZlcmVuY2UoKSkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJSZWZlcmVuY2UgcHJldmlldyByZWNlaXZlZCB2YWx1ZSBvZiB0eXBlXCIsIHR5cGVvZiByZWZlcmVuY2UpO1xuICAgIGNvbnN0IHQwMiA9IHByb3BzLm9uQ2xpY2s7XG4gICAgY29uc3QgdDEgPSBwcm9wcy5zaXplO1xuICAgIGxldCB0MjtcbiAgICBpZiAoJFswXSAhPT0gcmVmZXJlbmNlKSB7XG4gICAgICB0MiA9IEpTT04uc3RyaW5naWZ5KHJlZmVyZW5jZSk7XG4gICAgICAkWzBdID0gcmVmZXJlbmNlO1xuICAgICAgJFsxXSA9IHQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9ICRbMV07XG4gICAgfVxuICAgIGxldCB0MztcbiAgICBpZiAoJFsyXSAhPT0gdDIpIHtcbiAgICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiVW5leHBlY3RlZCB2YWx1ZS4gQ2xpY2sgdG8gZWRpdFwiLCB0b29sdGlwOiB0MiB9KTtcbiAgICAgICRbMl0gPSB0MjtcbiAgICAgICRbM10gPSB0MztcbiAgICB9IGVsc2Uge1xuICAgICAgdDMgPSAkWzNdO1xuICAgIH1cbiAgICBsZXQgdDQ7XG4gICAgaWYgKCRbNF0gIT09IHByb3BzLm9uQ2xpY2sgfHwgJFs1XSAhPT0gcHJvcHMuc2l6ZSB8fCAkWzZdICE9PSB0Mykge1xuICAgICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eVByZXZpZXdDb250YWluZXIsIHsgb25DbGljazogdDAyLCBzaXplOiB0MSwgY2hpbGRyZW46IHQzIH0pO1xuICAgICAgJFs0XSA9IHByb3BzLm9uQ2xpY2s7XG4gICAgICAkWzVdID0gcHJvcHMuc2l6ZTtcbiAgICAgICRbNl0gPSB0MztcbiAgICAgICRbN10gPSB0NDtcbiAgICB9IGVsc2Uge1xuICAgICAgdDQgPSAkWzddO1xuICAgIH1cbiAgICByZXR1cm4gdDQ7XG4gIH1cbiAgbGV0IHQwO1xuICBpZiAoJFs4XSAhPT0gcHJvcHMpIHtcbiAgICB0MCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlld0ludGVybmFsLCB7IC4uLnByb3BzIH0pO1xuICAgICRbOF0gPSBwcm9wcztcbiAgICAkWzldID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzldO1xuICB9XG4gIHJldHVybiB0MDtcbn07XG5mdW5jdGlvbiBSZWZlcmVuY2VQcmV2aWV3SW50ZXJuYWwodDApIHtcbiAgY29uc3QgJCA9IGMoMTYpO1xuICBjb25zdCB7XG4gICAgZGlzYWJsZWQsXG4gICAgcmVmZXJlbmNlLFxuICAgIHByZXZpZXdQcm9wZXJ0aWVzLFxuICAgIHNpemUsXG4gICAgaG92ZXIsXG4gICAgb25DbGljayxcbiAgICBpbmNsdWRlRW50aXR5TGluazogdDEsXG4gICAgaW5jbHVkZUlkOiB0MlxuICB9ID0gdDA7XG4gIGNvbnN0IGluY2x1ZGVFbnRpdHlMaW5rID0gdDEgPT09IHZvaWQgMCA/IHRydWUgOiB0MTtcbiAgY29uc3QgaW5jbHVkZUlkID0gdDIgPT09IHZvaWQgMCA/IHRydWUgOiB0MjtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBuYXZpZ2F0aW9uQ29udHJvbGxlciA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MztcbiAgaWYgKCRbMF0gIT09IG5hdmlnYXRpb25Db250cm9sbGVyIHx8ICRbMV0gIT09IHJlZmVyZW5jZS5wYXRoKSB7XG4gICAgdDMgPSBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uKHJlZmVyZW5jZS5wYXRoKTtcbiAgICAkWzBdID0gbmF2aWdhdGlvbkNvbnRyb2xsZXI7XG4gICAgJFsxXSA9IHJlZmVyZW5jZS5wYXRoO1xuICAgICRbMl0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMl07XG4gIH1cbiAgY29uc3QgY29sbGVjdGlvbiA9IHQzO1xuICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICBpZiAoY3VzdG9taXphdGlvbkNvbnRyb2xsZXIuY29tcG9uZW50cz8ubWlzc2luZ1JlZmVyZW5jZSkge1xuICAgICAgbGV0IHQ0MjtcbiAgICAgIGlmICgkWzNdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5jb21wb25lbnRzLm1pc3NpbmdSZWZlcmVuY2UgfHwgJFs0XSAhPT0gcmVmZXJlbmNlLnBhdGgpIHtcbiAgICAgICAgdDQyID0gLyogQF9fUFVSRV9fICovIGpzeChjdXN0b21pemF0aW9uQ29udHJvbGxlci5jb21wb25lbnRzLm1pc3NpbmdSZWZlcmVuY2UsIHsgcGF0aDogcmVmZXJlbmNlLnBhdGggfSk7XG4gICAgICAgICRbM10gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5jb21wb25lbnRzLm1pc3NpbmdSZWZlcmVuY2U7XG4gICAgICAgICRbNF0gPSByZWZlcmVuY2UucGF0aDtcbiAgICAgICAgJFs1XSA9IHQ0MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQ0MiA9ICRbNV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihgQ291bGRuJ3QgZmluZCB0aGUgY29ycmVzcG9uZGluZyBjb2xsZWN0aW9uIHZpZXcgZm9yIHRoZSBwYXRoOiAke3JlZmVyZW5jZS5wYXRofWApO1xuICAgIH1cbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzZdICE9PSBjb2xsZWN0aW9uIHx8ICRbN10gIT09IGRpc2FibGVkIHx8ICRbOF0gIT09IGhvdmVyIHx8ICRbOV0gIT09IGluY2x1ZGVFbnRpdHlMaW5rIHx8ICRbMTBdICE9PSBpbmNsdWRlSWQgfHwgJFsxMV0gIT09IG9uQ2xpY2sgfHwgJFsxMl0gIT09IHByZXZpZXdQcm9wZXJ0aWVzIHx8ICRbMTNdICE9PSByZWZlcmVuY2UgfHwgJFsxNF0gIT09IHNpemUpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlld0V4aXN0aW5nLCB7IHJlZmVyZW5jZSwgY29sbGVjdGlvbiwgcHJldmlld1Byb3BlcnRpZXMsIHNpemUsIGRpc2FibGVkLCBpbmNsdWRlRW50aXR5TGluaywgaW5jbHVkZUlkLCBvbkNsaWNrLCBob3ZlciB9KTtcbiAgICAkWzZdID0gY29sbGVjdGlvbjtcbiAgICAkWzddID0gZGlzYWJsZWQ7XG4gICAgJFs4XSA9IGhvdmVyO1xuICAgICRbOV0gPSBpbmNsdWRlRW50aXR5TGluaztcbiAgICAkWzEwXSA9IGluY2x1ZGVJZDtcbiAgICAkWzExXSA9IG9uQ2xpY2s7XG4gICAgJFsxMl0gPSBwcmV2aWV3UHJvcGVydGllcztcbiAgICAkWzEzXSA9IHJlZmVyZW5jZTtcbiAgICAkWzE0XSA9IHNpemU7XG4gICAgJFsxNV0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMTVdO1xuICB9XG4gIHJldHVybiB0NDtcbn1cbmZ1bmN0aW9uIFJlZmVyZW5jZVByZXZpZXdFeGlzdGluZyh0MCkge1xuICBjb25zdCAkID0gYygzNSk7XG4gIGNvbnN0IHtcbiAgICByZWZlcmVuY2UsXG4gICAgY29sbGVjdGlvbixcbiAgICBwcmV2aWV3UHJvcGVydGllcyxcbiAgICBzaXplLFxuICAgIGRpc2FibGVkLFxuICAgIGluY2x1ZGVFbnRpdHlMaW5rLFxuICAgIGluY2x1ZGVJZCxcbiAgICBvbkNsaWNrLFxuICAgIGhvdmVyXG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gY29sbGVjdGlvbiB8fCAkWzFdICE9PSByZWZlcmVuY2UuaWQgfHwgJFsyXSAhPT0gcmVmZXJlbmNlLnBhdGgpIHtcbiAgICB0MSA9IHtcbiAgICAgIHBhdGg6IHJlZmVyZW5jZS5wYXRoLFxuICAgICAgZW50aXR5SWQ6IHJlZmVyZW5jZS5pZCxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICB1c2VDYWNoZTogdHJ1ZVxuICAgIH07XG4gICAgJFswXSA9IGNvbGxlY3Rpb247XG4gICAgJFsxXSA9IHJlZmVyZW5jZS5pZDtcbiAgICAkWzJdID0gcmVmZXJlbmNlLnBhdGg7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCB7XG4gICAgZW50aXR5LFxuICAgIGRhdGFMb2FkaW5nXG4gIH0gPSB1c2VFbnRpdHlGZXRjaCh0MSk7XG4gIGlmIChlbnRpdHkpIHtcbiAgICByZWZlcmVuY2VzQ2FjaGUuc2V0KHJlZmVyZW5jZS5wYXRoV2l0aElkLCBlbnRpdHkpO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IGVudGl0eSB8fCAkWzVdICE9PSByZWZlcmVuY2UucGF0aFdpdGhJZCkge1xuICAgIHQyID0gZW50aXR5ID8/IHJlZmVyZW5jZXNDYWNoZS5nZXQocmVmZXJlbmNlLnBhdGhXaXRoSWQpO1xuICAgICRbNF0gPSBlbnRpdHk7XG4gICAgJFs1XSA9IHJlZmVyZW5jZS5wYXRoV2l0aElkO1xuICAgICRbNl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNl07XG4gIH1cbiAgY29uc3QgdXNlZEVudGl0eSA9IHQyO1xuICBsZXQgYm9keTtcbiAgaWYgKCFyZWZlcmVuY2UpIHtcbiAgICBsZXQgdDMyO1xuICAgIGlmICgkWzddID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDMyID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiUmVmZXJlbmNlIG5vdCBzZXRcIiB9KTtcbiAgICAgICRbN10gPSB0MzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzMiA9ICRbN107XG4gICAgfVxuICAgIGJvZHkgPSB0MzI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHVzZWRFbnRpdHkgJiYgIXVzZWRFbnRpdHkudmFsdWVzKSB7XG4gICAgICBsZXQgdDMyO1xuICAgICAgaWYgKCRbOF0gIT09IHJlZmVyZW5jZS5wYXRoKSB7XG4gICAgICAgIHQzMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JWaWV3LCB7IGVycm9yOiBcIlJlZmVyZW5jZSBkb2VzIG5vdCBleGlzdFwiLCB0b29sdGlwOiByZWZlcmVuY2UucGF0aCB9KTtcbiAgICAgICAgJFs4XSA9IHJlZmVyZW5jZS5wYXRoO1xuICAgICAgICAkWzldID0gdDMyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDMyID0gJFs5XTtcbiAgICAgIH1cbiAgICAgIGJvZHkgPSB0MzI7XG4gICAgfVxuICB9XG4gIGlmIChib2R5KSB7XG4gICAgY29uc3QgdDMyID0gZGlzYWJsZWQgPyB2b2lkIDAgOiBvbkNsaWNrO1xuICAgIGNvbnN0IHQ0ID0gZGlzYWJsZWQgPyB2b2lkIDAgOiBob3ZlcjtcbiAgICBsZXQgdDU7XG4gICAgaWYgKCRbMTBdICE9PSBib2R5IHx8ICRbMTFdICE9PSBzaXplIHx8ICRbMTJdICE9PSB0MzIgfHwgJFsxM10gIT09IHQ0KSB7XG4gICAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5UHJldmlld0NvbnRhaW5lciwgeyBvbkNsaWNrOiB0MzIsIGhvdmVyOiB0NCwgc2l6ZSwgY2hpbGRyZW46IGJvZHkgfSk7XG4gICAgICAkWzEwXSA9IGJvZHk7XG4gICAgICAkWzExXSA9IHNpemU7XG4gICAgICAkWzEyXSA9IHQzMjtcbiAgICAgICRbMTNdID0gdDQ7XG4gICAgICAkWzE0XSA9IHQ1O1xuICAgIH0gZWxzZSB7XG4gICAgICB0NSA9ICRbMTRdO1xuICAgIH1cbiAgICByZXR1cm4gdDU7XG4gIH1cbiAgaWYgKGRhdGFMb2FkaW5nICYmICF1c2VkRW50aXR5KSB7XG4gICAgY29uc3QgdDMyID0gZGlzYWJsZWQgPyB2b2lkIDAgOiBvbkNsaWNrO1xuICAgIGNvbnN0IHQ0ID0gZGlzYWJsZWQgPyB2b2lkIDAgOiBob3ZlcjtcbiAgICBsZXQgdDU7XG4gICAgaWYgKCRbMTVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFNrZWxldG9uLCB7fSk7XG4gICAgICAkWzE1XSA9IHQ1O1xuICAgIH0gZWxzZSB7XG4gICAgICB0NSA9ICRbMTVdO1xuICAgIH1cbiAgICBsZXQgdDY7XG4gICAgaWYgKCRbMTZdICE9PSBzaXplIHx8ICRbMTddICE9PSB0MzIgfHwgJFsxOF0gIT09IHQ0KSB7XG4gICAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5UHJldmlld0NvbnRhaW5lciwgeyBvbkNsaWNrOiB0MzIsIGhvdmVyOiB0NCwgc2l6ZSwgY2hpbGRyZW46IHQ1IH0pO1xuICAgICAgJFsxNl0gPSBzaXplO1xuICAgICAgJFsxN10gPSB0MzI7XG4gICAgICAkWzE4XSA9IHQ0O1xuICAgICAgJFsxOV0gPSB0NjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDYgPSAkWzE5XTtcbiAgICB9XG4gICAgcmV0dXJuIHQ2O1xuICB9XG4gIGlmICghdXNlZEVudGl0eSkge1xuICAgIGNvbnN0IHQzMiA9IGRpc2FibGVkID8gdm9pZCAwIDogb25DbGljaztcbiAgICBjb25zdCB0NCA9IGRpc2FibGVkID8gdm9pZCAwIDogaG92ZXI7XG4gICAgbGV0IHQ1O1xuICAgIGlmICgkWzIwXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiRW50aXR5IG5vdCBmb3VuZFwiIH0pO1xuICAgICAgJFsyMF0gPSB0NTtcbiAgICB9IGVsc2Uge1xuICAgICAgdDUgPSAkWzIwXTtcbiAgICB9XG4gICAgbGV0IHQ2O1xuICAgIGlmICgkWzIxXSAhPT0gc2l6ZSB8fCAkWzIyXSAhPT0gdDMyIHx8ICRbMjNdICE9PSB0NCkge1xuICAgICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eVByZXZpZXdDb250YWluZXIsIHsgb25DbGljazogdDMyLCBob3ZlcjogdDQsIHNpemUsIGNoaWxkcmVuOiB0NSB9KTtcbiAgICAgICRbMjFdID0gc2l6ZTtcbiAgICAgICRbMjJdID0gdDMyO1xuICAgICAgJFsyM10gPSB0NDtcbiAgICAgICRbMjRdID0gdDY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ2ID0gJFsyNF07XG4gICAgfVxuICAgIHJldHVybiB0NjtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzI1XSAhPT0gY29sbGVjdGlvbiB8fCAkWzI2XSAhPT0gZGlzYWJsZWQgfHwgJFsyN10gIT09IGhvdmVyIHx8ICRbMjhdICE9PSBpbmNsdWRlRW50aXR5TGluayB8fCAkWzI5XSAhPT0gaW5jbHVkZUlkIHx8ICRbMzBdICE9PSBvbkNsaWNrIHx8ICRbMzFdICE9PSBwcmV2aWV3UHJvcGVydGllcyB8fCAkWzMyXSAhPT0gc2l6ZSB8fCAkWzMzXSAhPT0gdXNlZEVudGl0eSkge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlQcmV2aWV3LCB7IHNpemUsIHByZXZpZXdQcm9wZXJ0aWVzLCBkaXNhYmxlZCwgZW50aXR5OiB1c2VkRW50aXR5LCBjb2xsZWN0aW9uLCBvbkNsaWNrLCBpbmNsdWRlRW50aXR5TGluaywgaW5jbHVkZUlkLCBob3ZlciB9KTtcbiAgICAkWzI1XSA9IGNvbGxlY3Rpb247XG4gICAgJFsyNl0gPSBkaXNhYmxlZDtcbiAgICAkWzI3XSA9IGhvdmVyO1xuICAgICRbMjhdID0gaW5jbHVkZUVudGl0eUxpbms7XG4gICAgJFsyOV0gPSBpbmNsdWRlSWQ7XG4gICAgJFszMF0gPSBvbkNsaWNrO1xuICAgICRbMzFdID0gcHJldmlld1Byb3BlcnRpZXM7XG4gICAgJFszMl0gPSBzaXplO1xuICAgICRbMzNdID0gdXNlZEVudGl0eTtcbiAgICAkWzM0XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFszNF07XG4gIH1cbiAgcmV0dXJuIHQzO1xufVxuY29uc3QgcmVmZXJlbmNlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIEFycmF5T2ZSZWZlcmVuY2VzUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygxMSk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICBzaXplXG4gIH0gPSB0MDtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MgfHwgJFsxXSAhPT0gaW5wdXRQcm9wZXJ0eSB8fCAkWzJdICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQxID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgfSk7XG4gICAgJFswXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncztcbiAgICAkWzFdID0gaW5wdXRQcm9wZXJ0eTtcbiAgICAkWzJdID0gcHJvcGVydHlLZXk7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCBwcm9wZXJ0eSA9IHQxO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eT8ub2YpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVc2luZyBhcnJheSBwcm9wZXJ0aWVzIGluc3RlYWQgb2Ygc2luZ2xlIG9uZSBpbiBgb2ZgIGluIEFycmF5UHJvcGVydHlcIik7XG4gIH1cbiAgaWYgKHByb3BlcnR5Py5kYXRhVHlwZSAhPT0gXCJhcnJheVwiIHx8ICFwcm9wZXJ0eS5vZiB8fCBwcm9wZXJ0eS5vZi5kYXRhVHlwZSAhPT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHRocm93IEVycm9yKFwiUGlja2VkIHdyb25nIHByZXZpZXcgY29tcG9uZW50IEFycmF5T2ZSZWZlcmVuY2VzUHJldmlld1wiKTtcbiAgfVxuICBjb25zdCBjaGlsZFNpemUgPSBzaXplID09PSBcIm1lZGl1bVwiID8gXCJtZWRpdW1cIiA6IFwic21hbGxcIjtcbiAgbGV0IHQyO1xuICBpZiAoJFs0XSAhPT0gY2hpbGRTaXplIHx8ICRbNV0gIT09IHByb3BlcnR5IHx8ICRbNl0gIT09IHByb3BlcnR5S2V5IHx8ICRbN10gIT09IHZhbHVlKSB7XG4gICAgdDIgPSB2YWx1ZSAmJiB2YWx1ZS5tYXAoKHJlZmVyZW5jZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG9mUHJvcGVydHkgPSBwcm9wZXJ0eS5vZjtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm10LTEgbWItMSB3LWZ1bGxcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlldywgeyBkaXNhYmxlZDogIW9mUHJvcGVydHkucGF0aCwgcHJldmlld1Byb3BlcnRpZXM6IG9mUHJvcGVydHkucHJldmlld1Byb3BlcnRpZXMsIHNpemU6IGNoaWxkU2l6ZSwgcmVmZXJlbmNlLCBpbmNsdWRlSWQ6IG9mUHJvcGVydHkuaW5jbHVkZUlkLCBpbmNsdWRlRW50aXR5TGluazogb2ZQcm9wZXJ0eS5pbmNsdWRlRW50aXR5TGluayB9KSB9LCBgcHJldmlld19hcnJheV9yZWZfJHtwcm9wZXJ0eUtleX1fJHtpbmRleH1gKTtcbiAgICB9KTtcbiAgICAkWzRdID0gY2hpbGRTaXplO1xuICAgICRbNV0gPSBwcm9wZXJ0eTtcbiAgICAkWzZdID0gcHJvcGVydHlLZXk7XG4gICAgJFs3XSA9IHZhbHVlO1xuICAgICRbOF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbOF07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs5XSAhPT0gdDIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCB3LWZ1bGxcIiwgY2hpbGRyZW46IHQyIH0pO1xuICAgICRbOV0gPSB0MjtcbiAgICAkWzEwXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMF07XG4gIH1cbiAgcmV0dXJuIHQzO1xufVxuZnVuY3Rpb24gQXJyYXlPZlN0b3JhZ2VDb21wb25lbnRzUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygxMSk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICBzaXplXG4gIH0gPSB0MDtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MgfHwgJFsxXSAhPT0gaW5wdXRQcm9wZXJ0eSB8fCAkWzJdICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQxID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgfSk7XG4gICAgJFswXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncztcbiAgICAkWzFdID0gaW5wdXRQcm9wZXJ0eTtcbiAgICAkWzJdID0gcHJvcGVydHlLZXk7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCBwcm9wZXJ0eSA9IHQxO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5vZikpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVzaW5nIGFycmF5IHByb3BlcnRpZXMgaW5zdGVhZCBvZiBzaW5nbGUgb25lIGluIGBvZmAgaW4gQXJyYXlQcm9wZXJ0eVwiKTtcbiAgfVxuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgIT09IFwiYXJyYXlcIiB8fCAhcHJvcGVydHkub2YgfHwgcHJvcGVydHkub2YuZGF0YVR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBpY2tlZCB3cm9uZyBwcmV2aWV3IGNvbXBvbmVudCBBcnJheU9mU3RvcmFnZUNvbXBvbmVudHNQcmV2aWV3XCIpO1xuICB9XG4gIGNvbnN0IGNoaWxkU2l6ZSA9IHNpemUgPT09IFwibWVkaXVtXCIgPyBcIm1lZGl1bVwiIDogXCJzbWFsbFwiO1xuICBsZXQgdDI7XG4gIGlmICgkWzRdICE9PSBjaGlsZFNpemUgfHwgJFs1XSAhPT0gcHJvcGVydHkub2YgfHwgJFs2XSAhPT0gcHJvcGVydHlLZXkgfHwgJFs3XSAhPT0gdmFsdWUpIHtcbiAgICB0MiA9IHZhbHVlICYmIHZhbHVlLm1hcCgodiwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXksIHZhbHVlOiB2LCBwcm9wZXJ0eTogcHJvcGVydHkub2YsIHNpemU6IGNoaWxkU2l6ZSB9KSB9LCBgcHJldmlld19hcnJheV9zdG9yYWdlXyR7cHJvcGVydHlLZXl9XyR7aW5kZXh9YCkpO1xuICAgICRbNF0gPSBjaGlsZFNpemU7XG4gICAgJFs1XSA9IHByb3BlcnR5Lm9mO1xuICAgICRbNl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzddID0gdmFsdWU7XG4gICAgJFs4XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs4XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzldICE9PSB0Mikge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiLCBjaGlsZHJlbjogdDIgfSk7XG4gICAgJFs5XSA9IHQyO1xuICAgICRbMTBdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzEwXTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5mdW5jdGlvbiBBcnJheUVudW1QcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDcpO1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICB2YWx1ZSxcbiAgICBlbnVtVmFsdWVzLFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBlbnVtVmFsdWVzIHx8ICRbMV0gIT09IG5hbWUgfHwgJFsyXSAhPT0gc2l6ZSB8fCAkWzNdICE9PSB2YWx1ZSkge1xuICAgIHQxID0gdmFsdWUgJiYgdmFsdWUubWFwKChlbnVtS2V5LCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVudW1WYWx1ZXNDaGlwLCB7IGVudW1LZXksIGVudW1WYWx1ZXMsIHNpemU6IHNpemUgIT09IFwibWVkaXVtXCIgPyBcInNtYWxsXCIgOiBcIm1lZGl1bVwiIH0pIH0sIGBwcmV2aWV3X2FycmF5X3JlZl8ke25hbWV9XyR7aW5kZXh9YCkpO1xuICAgICRbMF0gPSBlbnVtVmFsdWVzO1xuICAgICRbMV0gPSBuYW1lO1xuICAgICRbMl0gPSBzaXplO1xuICAgICRbM10gPSB2YWx1ZTtcbiAgICAkWzRdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzRdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNV0gIT09IHQxKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC13cmFwIGdhcC0xLjVcIiwgY2hpbGRyZW46IHQxIH0pO1xuICAgICRbNV0gPSB0MTtcbiAgICAkWzZdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzZdO1xuICB9XG4gIHJldHVybiB0Mjtcbn1cbmZ1bmN0aW9uIEFycmF5UHJvcGVydHlFbnVtUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYyg1KTtcbiAgY29uc3Qge1xuICAgIHByb3BlcnR5S2V5LFxuICAgIHZhbHVlLFxuICAgIHByb3BlcnR5LFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgIT09IFwiYXJyYXlcIikge1xuICAgIHRocm93IEVycm9yKFwiUGlja2VkIHdyb25nIHByZXZpZXcgY29tcG9uZW50IEFycmF5RW51bVByZXZpZXdcIik7XG4gIH1cbiAgY29uc3Qgb2ZQcm9wZXJ0eSA9IHByb3BlcnR5Lm9mO1xuICBpZiAoIW9mUHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgIHRocm93IEVycm9yKFwiUGlja2VkIHdyb25nIHByZXZpZXcgY29tcG9uZW50IEFycmF5RW51bVByZXZpZXdcIik7XG4gIH1cbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IG9mUHJvcGVydHkuZW51bVZhbHVlcyB8fCAkWzFdICE9PSBwcm9wZXJ0eUtleSB8fCAkWzJdICE9PSBzaXplIHx8ICRbM10gIT09IHZhbHVlKSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5RW51bVByZXZpZXcsIHsgbmFtZTogcHJvcGVydHlLZXksIHZhbHVlLCBlbnVtVmFsdWVzOiBvZlByb3BlcnR5LmVudW1WYWx1ZXMsIHNpemUgfSk7XG4gICAgJFswXSA9IG9mUHJvcGVydHkuZW51bVZhbHVlcztcbiAgICAkWzFdID0gcHJvcGVydHlLZXk7XG4gICAgJFsyXSA9IHNpemU7XG4gICAgJFszXSA9IHZhbHVlO1xuICAgICRbNF0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNF07XG4gIH1cbiAgcmV0dXJuIHQxO1xufVxuZnVuY3Rpb24gQXJyYXlPZlN0cmluZ3NQcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDEzKTtcbiAgY29uc3Qge1xuICAgIHByb3BlcnR5S2V5LFxuICAgIHZhbHVlLFxuICAgIHByb3BlcnR5OiBpbnB1dFByb3BlcnR5LFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncyB8fCAkWzFdICE9PSBpbnB1dFByb3BlcnR5IHx8ICRbMl0gIT09IHByb3BlcnR5S2V5KSB7XG4gICAgdDEgPSByZXNvbHZlQXJyYXlQcm9wZXJ0eSh7XG4gICAgICBwcm9wZXJ0eUtleSxcbiAgICAgIHByb3BlcnR5OiBpbnB1dFByb3BlcnR5LFxuICAgICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgICB9KTtcbiAgICAkWzBdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzO1xuICAgICRbMV0gPSBpbnB1dFByb3BlcnR5O1xuICAgICRbMl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGNvbnN0IHByb3BlcnR5ID0gdDE7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5Lm9mKSkge1xuICAgIHRocm93IEVycm9yKFwiVXNpbmcgYXJyYXkgcHJvcGVydGllcyBpbnN0ZWFkIG9mIHNpbmdsZSBvbmUgaW4gYG9mYCBpbiBBcnJheVByb3BlcnR5XCIpO1xuICB9XG4gIGlmICghcHJvcGVydHkub2YgfHwgcHJvcGVydHkuZGF0YVR5cGUgIT09IFwiYXJyYXlcIiB8fCBwcm9wZXJ0eS5vZi5kYXRhVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IEVycm9yKFwiUGlja2VkIHdyb25nIHByZXZpZXcgY29tcG9uZW50IEFycmF5T2ZTdHJpbmdzUHJldmlld1wiKTtcbiAgfVxuICBpZiAodmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3QgdDIyID0gYFVuZXhwZWN0ZWQgdmFsdWU6ICR7dmFsdWV9YDtcbiAgICBsZXQgdDMyO1xuICAgIGlmICgkWzRdICE9PSB0MjIpIHtcbiAgICAgIHQzMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogdDIyIH0pO1xuICAgICAgJFs0XSA9IHQyMjtcbiAgICAgICRbNV0gPSB0MzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzMiA9ICRbNV07XG4gICAgfVxuICAgIHJldHVybiB0MzI7XG4gIH1cbiAgY29uc3Qgc3RyaW5nUHJvcGVydHkgPSBwcm9wZXJ0eS5vZjtcbiAgbGV0IHQyO1xuICBpZiAoJFs2XSAhPT0gcHJvcGVydHlLZXkgfHwgJFs3XSAhPT0gc2l6ZSB8fCAkWzhdICE9PSBzdHJpbmdQcm9wZXJ0eSB8fCAkWzldICE9PSB2YWx1ZSkge1xuICAgIHQyID0gdmFsdWUgJiYgdmFsdWUubWFwKCh2LCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RyaW5nUHJvcGVydHlQcmV2aWV3LCB7IHByb3BlcnR5S2V5LCBwcm9wZXJ0eTogc3RyaW5nUHJvcGVydHksIHZhbHVlOiB2LCBzaXplIH0pIH0pIH0sIGBwcmV2aWV3X2FycmF5X3N0cmluZ3NfJHtwcm9wZXJ0eUtleX1fJHtpbmRleH1gKSk7XG4gICAgJFs2XSA9IHByb3BlcnR5S2V5O1xuICAgICRbN10gPSBzaXplO1xuICAgICRbOF0gPSBzdHJpbmdQcm9wZXJ0eTtcbiAgICAkWzldID0gdmFsdWU7XG4gICAgJFsxMF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMTBdO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbMTFdICE9PSB0Mikge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiB0MiB9KTtcbiAgICAkWzExXSA9IHQyO1xuICAgICRbMTJdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzEyXTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5mdW5jdGlvbiBBcnJheU9uZU9mUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygxNCk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICBzaXplXG4gIH0gPSB0MDtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MgfHwgJFsxXSAhPT0gaW5wdXRQcm9wZXJ0eSB8fCAkWzJdICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQxID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBwcm9wZXJ0eTogaW5wdXRQcm9wZXJ0eSxcbiAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgfSk7XG4gICAgJFswXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncztcbiAgICAkWzFdID0gaW5wdXRQcm9wZXJ0eTtcbiAgICAkWzJdID0gcHJvcGVydHlLZXk7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCBwcm9wZXJ0eSA9IHQxO1xuICBpZiAocHJvcGVydHk/LmRhdGFUeXBlICE9PSBcImFycmF5XCIpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBpY2tlZCB3cm9uZyBwcmV2aWV3IGNvbXBvbmVudCBBcnJheVByZXZpZXdcIik7XG4gIH1cbiAgaWYgKCFwcm9wZXJ0eT8ub25lT2YpIHtcbiAgICB0aHJvdyBFcnJvcihgWW91IG5lZWQgdG8gc3BlY2lmeSBhbiAnb2YnIG9yICdvbmVPZicgcHJvcCAob3Igc3BlY2lmeSBhIGN1c3RvbSBmaWVsZCkgaW4geW91ciBhcnJheSBwcm9wZXJ0eSAke3Byb3BlcnR5S2V5fWApO1xuICB9XG4gIGNvbnN0IHZhbHVlcyA9IHZhbHVlO1xuICBpZiAoIXZhbHVlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGNoaWxkU2l6ZSA9IHNpemUgPT09IFwibWVkaXVtXCIgPyBcIm1lZGl1bVwiIDogXCJzbWFsbFwiO1xuICBjb25zdCB0eXBlRmllbGQgPSBwcm9wZXJ0eS5vbmVPZi50eXBlRmllbGQgPz8gREVGQVVMVF9PTkVfT0ZfVFlQRTtcbiAgY29uc3QgdmFsdWVGaWVsZCA9IHByb3BlcnR5Lm9uZU9mLnZhbHVlRmllbGQgPz8gREVGQVVMVF9PTkVfT0ZfVkFMVUU7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSBwcm9wZXJ0eS5vbmVPZi5wcm9wZXJ0aWVzO1xuICBsZXQgdDI7XG4gIGlmICgkWzRdICE9PSBjaGlsZFNpemUgfHwgJFs1XSAhPT0gcHJvcGVydGllcyB8fCAkWzZdICE9PSBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXMgfHwgJFs3XSAhPT0gcHJvcGVydHlLZXkgfHwgJFs4XSAhPT0gdHlwZUZpZWxkIHx8ICRbOV0gIT09IHZhbHVlRmllbGQgfHwgJFsxMF0gIT09IHZhbHVlcykge1xuICAgIHQyID0gdmFsdWVzICYmIHZhbHVlcy5tYXAoKHZhbHVlXzAsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZGVmYXVsdEJvcmRlck1peGluLCBcIm0tMSBib3JkZXItYiBsYXN0OmJvcmRlci1iLTAgcHktMlwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogdmFsdWVfMCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyBwcm9wZXJ0eUtleSwgdmFsdWU6IHZhbHVlXzBbdmFsdWVGaWVsZF0sIHByb3BlcnR5OiBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXNbaW5kZXhdID8/IHByb3BlcnRpZXNbdmFsdWVfMFt0eXBlRmllbGRdXSwgc2l6ZTogY2hpbGRTaXplIH0pIH0pIH0pIH0sIFwicHJldmlld19hcnJheV9cIiArIHZhbHVlXzAgKyBcIl9cIiArIGluZGV4KSk7XG4gICAgJFs0XSA9IGNoaWxkU2l6ZTtcbiAgICAkWzVdID0gcHJvcGVydGllcztcbiAgICAkWzZdID0gcHJvcGVydHkucmVzb2x2ZWRQcm9wZXJ0aWVzO1xuICAgICRbN10gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzhdID0gdHlwZUZpZWxkO1xuICAgICRbOV0gPSB2YWx1ZUZpZWxkO1xuICAgICRbMTBdID0gdmFsdWVzO1xuICAgICRbMTFdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzExXTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzEyXSAhPT0gdDIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbFwiLCBjaGlsZHJlbjogdDIgfSk7XG4gICAgJFsxMl0gPSB0MjtcbiAgICAkWzEzXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxM107XG4gIH1cbiAgcmV0dXJuIHQzO1xufVxuZnVuY3Rpb24gTWFwUHJvcGVydHlQcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDE1KTtcbiAgY29uc3Qge1xuICAgIHZhbHVlLFxuICAgIHByb3BlcnR5LFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgIT09IFwibWFwXCIpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBpY2tlZCB3cm9uZyBwcmV2aWV3IGNvbXBvbmVudCBNYXBQcm9wZXJ0eVByZXZpZXdcIik7XG4gIH1cbiAgY29uc3QgbWFwUHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgaWYgKCFtYXBQcm9wZXJ0eS5wcm9wZXJ0aWVzIHx8IE9iamVjdC5rZXlzKG1hcFByb3BlcnR5LnByb3BlcnRpZXMgPz8ge30pLmxlbmd0aCA9PT0gMCkge1xuICAgIGxldCB0MTI7XG4gICAgaWYgKCRbMF0gIT09IHZhbHVlKSB7XG4gICAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KEtleVZhbHVlUHJldmlldywgeyB2YWx1ZSB9KTtcbiAgICAgICRbMF0gPSB2YWx1ZTtcbiAgICAgICRbMV0gPSB0MTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxMiA9ICRbMV07XG4gICAgfVxuICAgIHJldHVybiB0MTI7XG4gIH1cbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbMl0gIT09IG1hcFByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICB0MSA9IE9iamVjdC5rZXlzKG1hcFByb3BlcnR5LnByb3BlcnRpZXMpO1xuICAgICRbMl0gPSBtYXBQcm9wZXJ0eS5wcm9wZXJ0aWVzO1xuICAgICRbM10gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgY29uc3QgbWFwUHJvcGVydHlLZXlzID0gdDE7XG4gIGlmIChzaXplID09PSBcInNtYWxsXCIpIHtcbiAgICBsZXQgdDIyO1xuICAgIGlmICgkWzRdICE9PSBtYXBQcm9wZXJ0eS5uYW1lIHx8ICRbNV0gIT09IG1hcFByb3BlcnR5LnByb3BlcnRpZXMgfHwgJFs2XSAhPT0gbWFwUHJvcGVydHlLZXlzIHx8ICRbN10gIT09IHNpemUgfHwgJFs4XSAhPT0gdmFsdWUpIHtcbiAgICAgIHQyMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidy1mdWxsIGZsZXggZmxleC1jb2wgc3BhY2UteS0xIG1kOnNwYWNlLXktMlwiLCBjaGlsZHJlbjogbWFwUHJvcGVydHlLZXlzLm1hcCgoa2V5LCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlQcmV2aWV3LCB7IHByb3BlcnR5S2V5OiBrZXksIHZhbHVlOiB2YWx1ZVtrZXldLCBwcm9wZXJ0eTogbWFwUHJvcGVydHkucHJvcGVydGllc1trZXldLCBzaXplIH0pIH0sIFwibWFwX3ByZXZpZXdfXCIgKyBtYXBQcm9wZXJ0eS5uYW1lICsga2V5ICsgaW5kZXgpIH0sIGBtYXBfJHtrZXl9YCkpIH0pO1xuICAgICAgJFs0XSA9IG1hcFByb3BlcnR5Lm5hbWU7XG4gICAgICAkWzVdID0gbWFwUHJvcGVydHkucHJvcGVydGllcztcbiAgICAgICRbNl0gPSBtYXBQcm9wZXJ0eUtleXM7XG4gICAgICAkWzddID0gc2l6ZTtcbiAgICAgICRbOF0gPSB2YWx1ZTtcbiAgICAgICRbOV0gPSB0MjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQyMiA9ICRbOV07XG4gICAgfVxuICAgIHJldHVybiB0MjI7XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFsxMF0gIT09IG1hcFByb3BlcnR5LnByb3BlcnRpZXMgfHwgJFsxMV0gIT09IG1hcFByb3BlcnR5S2V5cyB8fCAkWzEyXSAhPT0gc2l6ZSB8fCAkWzEzXSAhPT0gdmFsdWUpIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMSB3LWZ1bGxcIiwgY2hpbGRyZW46IG1hcFByb3BlcnR5S2V5cyAmJiBtYXBQcm9wZXJ0eUtleXMubWFwKChrZXlfMCwgaW5kZXhfMCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRQcm9wZXJ0eSA9IG1hcFByb3BlcnR5LnByb3BlcnRpZXNba2V5XzBdO1xuICAgICAgY29uc3QgaXNBcnJheU9yTWFwID0gY2hpbGRQcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJtYXBcIiB8fCBjaGlsZFByb3BlcnR5ID09PSBcImFycmF5XCI7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwibGFzdDpib3JkZXItYi0wIGJvcmRlci1iXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtcm93IHB0LTAuNSBwYi0wLjUgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1pbi13LVsxNDBweF0gdy1bMjUlXSBweS0xXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNsYXNzTmFtZTogXCJmb250LW1vbm8gYnJlYWstd29yZHNcIiwgY29sb3I6IFwic2Vjb25kYXJ5XCIsIGNoaWxkcmVuOiBjaGlsZFByb3BlcnR5Lm5hbWUgfSkgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgbWF4LXctWzc1JV1cIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogIWlzQXJyYXlPck1hcCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyBwcm9wZXJ0eUtleToga2V5XzAsIHZhbHVlOiB2YWx1ZVtrZXlfMF0sIHByb3BlcnR5OiBjaGlsZFByb3BlcnR5LCBzaXplIH0pIH0pIH0pXG4gICAgICAgIF0gfSksXG4gICAgICAgIGlzQXJyYXlPck1hcCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZGVmYXVsdEJvcmRlck1peGluLCBcImJvcmRlci1sIHBsLTQgbWwtMiBteS0yXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXk6IGtleV8wLCB2YWx1ZTogdmFsdWVba2V5XzBdLCBwcm9wZXJ0eTogY2hpbGRQcm9wZXJ0eSwgc2l6ZSB9KSB9KVxuICAgICAgXSB9LCBgbWFwX3ByZXZpZXdfdGFibGVfJHtrZXlfMH19YCk7XG4gICAgfSkgfSk7XG4gICAgJFsxMF0gPSBtYXBQcm9wZXJ0eS5wcm9wZXJ0aWVzO1xuICAgICRbMTFdID0gbWFwUHJvcGVydHlLZXlzO1xuICAgICRbMTJdID0gc2l6ZTtcbiAgICAkWzEzXSA9IHZhbHVlO1xuICAgICRbMTRdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzE0XTtcbiAgfVxuICByZXR1cm4gdDI7XG59XG5mdW5jdGlvbiBLZXlWYWx1ZVByZXZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoNSk7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZVxuICB9ID0gdDA7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIXZhbHVlKSB7XG4gICAgbGV0IHQxMjtcbiAgICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW1wdHlWYWx1ZSwge30pO1xuICAgICAgJFswXSA9IHQxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDEyID0gJFswXTtcbiAgICB9XG4gICAgcmV0dXJuIHQxMjtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzFdICE9PSB2YWx1ZSkge1xuICAgIHQxID0gT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcChfdGVtcCRtKTtcbiAgICAkWzFdID0gdmFsdWU7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzNdICE9PSB0MSkge1xuICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0xIHctZnVsbFwiLCBjaGlsZHJlbjogdDEgfSk7XG4gICAgJFszXSA9IHQxO1xuICAgICRbNF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNF07XG4gIH1cbiAgcmV0dXJuIHQyO1xufVxuZnVuY3Rpb24gX3RlbXAkbSh0MCkge1xuICBjb25zdCBba2V5LCBjaGlsZFZhbHVlXSA9IHQwO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwibGFzdDpib3JkZXItYi0wIGJvcmRlci1iXCIpLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgcHQtMC41IHBiLTAuNSBnYXAtMlwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtaW4tdy1bMTQwcHhdIHctWzI1JV0gcHktMVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjbGFzc05hbWU6IFwiZm9udC1tb25vIGJyZWFrLXdvcmRzXCIsIGNvbG9yOiBcInNlY29uZGFyeVwiLCBjaGlsZHJlbjoga2V5IH0pIH0sIGB0YWJsZS1jZWxsLXRpdGxlLSR7a2V5fS0ke2tleX1gKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93IG1heC13LVs3NSVdXCIsIGNoaWxkcmVuOiBjaGlsZFZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBjaGlsZFZhbHVlLnRvU3RyaW5nKCkgfSkgfSkgfSlcbiAgICBdIH0pLFxuICAgIHR5cGVvZiBjaGlsZFZhbHVlID09PSBcIm9iamVjdFwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwiYm9yZGVyLWwgcGwtNFwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goS2V5VmFsdWVQcmV2aWV3LCB7IHZhbHVlOiBjaGlsZFZhbHVlIH0pIH0pXG4gIF0gfSwgYG1hcF9wcmV2aWV3X3RhYmxlXyR7a2V5fX1gKTtcbn1cbmZ1bmN0aW9uIERhdGVQcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgZGF0ZVxuICB9ID0gdDA7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgZGF0ZVV0aWxzTG9jYWxlID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXI/LmxvY2FsZSA/IGxvY2FsZXNbY3VzdG9taXphdGlvbkNvbnRyb2xsZXI/LmxvY2FsZV0gOiB2b2lkIDA7XG4gIGNvbnN0IGRhdGVGb3JtYXQgPSBjdXN0b21pemF0aW9uQ29udHJvbGxlcj8uZGF0ZVRpbWVGb3JtYXQgPz8gZGVmYXVsdERhdGVGb3JtYXQ7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGRhdGUgfHwgJFsxXSAhPT0gZGF0ZUZvcm1hdCB8fCAkWzJdICE9PSBkYXRlVXRpbHNMb2NhbGUpIHtcbiAgICB0MSA9IGRhdGUgPyBmb3JtYXQoZGF0ZSwgZGF0ZUZvcm1hdCwge1xuICAgICAgbG9jYWxlOiBkYXRlVXRpbHNMb2NhbGVcbiAgICB9KSA6IFwiXCI7XG4gICAgJFswXSA9IGRhdGU7XG4gICAgJFsxXSA9IGRhdGVGb3JtYXQ7XG4gICAgJFsyXSA9IGRhdGVVdGlsc0xvY2FsZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFs0XSAhPT0gZm9ybWF0dGVkRGF0ZSkge1xuICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogZm9ybWF0dGVkRGF0ZSB9KTtcbiAgICAkWzRdID0gZm9ybWF0dGVkRGF0ZTtcbiAgICAkWzVdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzVdO1xuICB9XG4gIHJldHVybiB0Mjtcbn1cbmZ1bmN0aW9uIEJvb2xlYW5QcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDkpO1xuICBjb25zdCB7XG4gICAgdmFsdWUsXG4gICAgc2l6ZSxcbiAgICBwcm9wZXJ0eVxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IHNpemUgfHwgJFsxXSAhPT0gdmFsdWUpIHtcbiAgICB0MSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2hlY2tib3gsIHsgY2hlY2tlZDogdmFsdWUsIHBhZGRpbmc6IGZhbHNlLCBzaXplLCBjb2xvcjogXCJzZWNvbmRhcnlcIiB9KTtcbiAgICAkWzBdID0gc2l6ZTtcbiAgICAkWzFdID0gdmFsdWU7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzNdICE9PSBwcm9wZXJ0eS5uYW1lIHx8ICRbNF0gIT09IHNpemUpIHtcbiAgICB0MiA9IHByb3BlcnR5Lm5hbWUgJiYgLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNscyhcInRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmtcIiwgc2l6ZSA9PT0gXCJzbWFsbFwiID8gXCJ0ZXh0LXNtXCIgOiBcIlwiKSwgY2hpbGRyZW46IHByb3BlcnR5Lm5hbWUgfSk7XG4gICAgJFszXSA9IHByb3BlcnR5Lm5hbWU7XG4gICAgJFs0XSA9IHNpemU7XG4gICAgJFs1XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs1XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzZdICE9PSB0MSB8fCAkWzddICE9PSB0Mikge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBnYXAtMiBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxLFxuICAgICAgdDJcbiAgICBdIH0pO1xuICAgICRbNl0gPSB0MTtcbiAgICAkWzddID0gdDI7XG4gICAgJFs4XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs4XTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5mdW5jdGlvbiBOdW1iZXJQcm9wZXJ0eVByZXZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBjb25zdCB7XG4gICAgdmFsdWUsXG4gICAgcHJvcGVydHksXG4gICAgc2l6ZVxuICB9ID0gdDA7XG4gIGlmIChwcm9wZXJ0eS5lbnVtVmFsdWVzKSB7XG4gICAgY29uc3QgZW51bUtleSA9IHZhbHVlO1xuICAgIGxldCB0MTtcbiAgICBpZiAoJFswXSAhPT0gcHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgICAgdDEgPSBlbnVtVG9PYmplY3RFbnRyaWVzKHByb3BlcnR5LmVudW1WYWx1ZXMpO1xuICAgICAgJFswXSA9IHByb3BlcnR5LmVudW1WYWx1ZXM7XG4gICAgICAkWzFdID0gdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxID0gJFsxXTtcbiAgICB9XG4gICAgY29uc3QgZW51bVZhbHVlcyA9IHQxO1xuICAgIGlmICghZW51bVZhbHVlcykge1xuICAgICAgbGV0IHQyMjtcbiAgICAgIGlmICgkWzJdICE9PSB2YWx1ZSkge1xuICAgICAgICB0MjIgPSAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiB2YWx1ZSB9KTtcbiAgICAgICAgJFsyXSA9IHZhbHVlO1xuICAgICAgICAkWzNdID0gdDIyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDIyID0gJFszXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0MjI7XG4gICAgfVxuICAgIGNvbnN0IHQyID0gc2l6ZSAhPT0gXCJtZWRpdW1cIiA/IFwic21hbGxcIiA6IFwibWVkaXVtXCI7XG4gICAgbGV0IHQzO1xuICAgIGlmICgkWzRdICE9PSBlbnVtS2V5IHx8ICRbNV0gIT09IGVudW1WYWx1ZXMgfHwgJFs2XSAhPT0gdDIpIHtcbiAgICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5LCBlbnVtVmFsdWVzLCBzaXplOiB0MiB9KTtcbiAgICAgICRbNF0gPSBlbnVtS2V5O1xuICAgICAgJFs1XSA9IGVudW1WYWx1ZXM7XG4gICAgICAkWzZdID0gdDI7XG4gICAgICAkWzddID0gdDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzID0gJFs3XTtcbiAgICB9XG4gICAgcmV0dXJuIHQzO1xuICB9IGVsc2Uge1xuICAgIGxldCB0MTtcbiAgICBpZiAoJFs4XSAhPT0gdmFsdWUpIHtcbiAgICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogdmFsdWUgfSk7XG4gICAgICAkWzhdID0gdmFsdWU7XG4gICAgICAkWzldID0gdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxID0gJFs5XTtcbiAgICB9XG4gICAgcmV0dXJuIHQxO1xuICB9XG59XG5jb25zdCBQcm9wZXJ0eVByZXZpZXcgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIFByb3BlcnR5UHJldmlldzIocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoMjkpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCBjb250ZW50O1xuICBjb25zdCB7XG4gICAgcHJvcGVydHk6IGlucHV0UHJvcGVydHksXG4gICAgcHJvcGVydHlLZXksXG4gICAgdmFsdWUsXG4gICAgc2l6ZSxcbiAgICBoZWlnaHQsXG4gICAgd2lkdGgsXG4gICAgaW50ZXJhY3RpdmVcbiAgfSA9IHByb3BzO1xuICBpZiAoJFswXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzIHx8ICRbMV0gIT09IGhlaWdodCB8fCAkWzJdICE9PSBpbnB1dFByb3BlcnR5IHx8ICRbM10gIT09IGludGVyYWN0aXZlIHx8ICRbNF0gIT09IHByb3BlcnR5S2V5IHx8ICRbNV0gIT09IHByb3BzIHx8ICRbNl0gIT09IHNpemUgfHwgJFs3XSAhPT0gdmFsdWUgfHwgJFs4XSAhPT0gd2lkdGgpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHJlc29sdmVQcm9wZXJ0eSh7XG4gICAgICBwcm9wZXJ0eUtleSxcbiAgICAgIHByb3BlcnR5T3JCdWlsZGVyOiBpbnB1dFByb3BlcnR5LFxuICAgICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgICB9KTtcbiAgICBpZiAocHJvcGVydHkgPT09IG51bGwpIHtcbiAgICAgIGxldCB0MDI7XG4gICAgICBpZiAoJFsxMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgIHQwMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW1wdHlWYWx1ZSwge30pO1xuICAgICAgICAkWzEwXSA9IHQwMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQwMiA9ICRbMTBdO1xuICAgICAgfVxuICAgICAgY29udGVudCA9IHQwMjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BlcnR5LlByZXZpZXcpIHtcbiAgICAgICAgY29udGVudCA9IGNyZWF0ZUVsZW1lbnQocHJvcGVydHkuUHJldmlldywge1xuICAgICAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHByb3BlcnR5LFxuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGN1c3RvbVByb3BzOiBwcm9wZXJ0eS5jdXN0b21Qcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgbGV0IHQwMjtcbiAgICAgICAgICBpZiAoJFsxMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgICAgICB0MDIgPSAvKiBAX19QVVJFX18gKi8ganN4KEVtcHR5VmFsdWUsIHt9KTtcbiAgICAgICAgICAgICRbMTFdID0gdDAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0MDIgPSAkWzExXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGVudCA9IHQwMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ1Byb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIGlmIChzdHJpbmdQcm9wZXJ0eS5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBzdHJpbmdQcm9wZXJ0eS5zdG9yYWdlLnByZXZpZXdVcmwgPyBzdHJpbmdQcm9wZXJ0eS5zdG9yYWdlLnByZXZpZXdVcmwodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdDAyID0gcHJvcGVydHkuc3RvcmFnZT8uc3RvcmVVcmwgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHQxO1xuICAgICAgICAgICAgICAgIGlmICgkWzEyXSAhPT0gZmlsZVBhdGggfHwgJFsxM10gIT09IGludGVyYWN0aXZlIHx8ICRbMTRdICE9PSBwcm9wcy5zaXplIHx8ICRbMTVdICE9PSB0MDIpIHtcbiAgICAgICAgICAgICAgICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChTdG9yYWdlVGh1bWJuYWlsLCB7IGludGVyYWN0aXZlLCBzdG9yZVVybDogdDAyLCBzaXplOiBwcm9wcy5zaXplLCBzdG9yYWdlUGF0aE9yRG93bmxvYWRVcmw6IGZpbGVQYXRoIH0pO1xuICAgICAgICAgICAgICAgICAgJFsxMl0gPSBmaWxlUGF0aDtcbiAgICAgICAgICAgICAgICAgICRbMTNdID0gaW50ZXJhY3RpdmU7XG4gICAgICAgICAgICAgICAgICAkWzE0XSA9IHByb3BzLnNpemU7XG4gICAgICAgICAgICAgICAgICAkWzE1XSA9IHQwMjtcbiAgICAgICAgICAgICAgICAgICRbMTZdID0gdDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHQxID0gJFsxNl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0MTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nUHJvcGVydHkudXJsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0cmluZ1Byb3BlcnR5LnVybCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHQwMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRbMTddICE9PSBwcm9wcy5zaXplIHx8ICRbMThdICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHQwMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVXJsQ29tcG9uZW50UHJldmlldywgeyBzaXplOiBwcm9wcy5zaXplLCB1cmw6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICRbMTddID0gcHJvcHMuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAkWzE4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICRbMTldID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHQwMiA9ICRbMTldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0MDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0cmluZ1Byb3BlcnR5LnVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFVybENvbXBvbmVudFByZXZpZXcsIHsgc2l6ZTogcHJvcHMuc2l6ZSwgdXJsOiB2YWx1ZSwgaW50ZXJhY3RpdmUsIHByZXZpZXdUeXBlOiBzdHJpbmdQcm9wZXJ0eS51cmwgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ1Byb3BlcnR5Lm1hcmtkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0MDI7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkWzIwXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0MDIgPSAvKiBAX19QVVJFX18gKi8ganN4KE1hcmtkb3duLCB7IHNvdXJjZTogdmFsdWUsIHNpemU6IFwic21hbGxcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAkWzIwXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICRbMjFdID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHQwMiA9ICRbMjFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0MDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChTdHJpbmdQcm9wZXJ0eVByZXZpZXcsIHsgLi4ucHJvcHMsIHByb3BlcnR5OiBzdHJpbmdQcm9wZXJ0eSwgdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZW50ID0gYnVpbGRXcm9uZ1ZhbHVlVHlwZShwcm9wZXJ0eUtleSwgcHJvcGVydHkuZGF0YVR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheVByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheVByb3BlcnR5Lm9mICYmICFhcnJheVByb3BlcnR5Lm9uZU9mKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgWW91IG5lZWQgdG8gc3BlY2lmeSBhbiAnb2YnIG9yICdvbmVPZicgcHJvcCAob3Igc3BlY2lmeSBhIGN1c3RvbSBmaWVsZCkgaW4geW91ciBhcnJheSBwcm9wZXJ0eSAke3Byb3BlcnR5S2V5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZikge1xuICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlQcm9wZXJ0eS5vZikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyYXlQcm9wZXJ0eVByZXZpZXcsIHsgLi4ucHJvcHMsIHZhbHVlLCBwcm9wZXJ0eSB9KTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9mLmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyYXlPZlJlZmVyZW5jZXNQcmV2aWV3LCB7IC4uLnByb3BzLCB2YWx1ZSwgcHJvcGVydHkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5UHJvcGVydHkub2YuZGF0YVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9mLmVudW1WYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyYXlQcm9wZXJ0eUVudW1QcmV2aWV3LCB7IC4uLnByb3BzLCB2YWx1ZSwgcHJvcGVydHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZi5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyYXlPZlN0b3JhZ2VDb21wb25lbnRzUHJldmlldywgeyAuLi5wcm9wcywgdmFsdWUsIHByb3BlcnR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5T2ZTdHJpbmdzUHJldmlldywgeyAuLi5wcm9wcywgdmFsdWUsIHByb3BlcnR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9mLmRhdGFUeXBlID09PSBcIm51bWJlclwiICYmIGFycmF5UHJvcGVydHkub2YuZW51bVZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChBcnJheVByb3BlcnR5RW51bVByZXZpZXcsIHsgLi4ucHJvcHMsIHZhbHVlLCBwcm9wZXJ0eSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5UHJvcGVydHlQcmV2aWV3LCB7IC4uLnByb3BzLCB2YWx1ZSwgcHJvcGVydHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9uZU9mKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5T25lT2ZQcmV2aWV3LCB7IC4uLnByb3BzLCB2YWx1ZSwgcHJvcGVydHkgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBidWlsZFdyb25nVmFsdWVUeXBlKHByb3BlcnR5S2V5LCBwcm9wZXJ0eS5kYXRhVHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChNYXBQcm9wZXJ0eVByZXZpZXcsIHsgLi4ucHJvcHMsIHByb3BlcnR5IH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50ID0gYnVpbGRXcm9uZ1ZhbHVlVHlwZShwcm9wZXJ0eUtleSwgcHJvcGVydHkuZGF0YVR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdDAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJFsyMl0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdDAyID0gLyogQF9fUFVSRV9fICovIGpzeChEYXRlUHJldmlldywgeyBkYXRlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAkWzIyXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICRbMjNdID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHQwMiA9ICRbMjNdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0MDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gYnVpbGRXcm9uZ1ZhbHVlVHlwZShwcm9wZXJ0eUtleSwgcHJvcGVydHkuZGF0YVR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkucGF0aCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJpc0VudGl0eVJlZmVyZW5jZVwiIGluIHZhbHVlICYmIHZhbHVlLmlzRW50aXR5UmVmZXJlbmNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZVByZXZpZXcsIHsgZGlzYWJsZWQ6ICFwcm9wZXJ0eS5wYXRoLCBwcmV2aWV3UHJvcGVydGllczogcHJvcGVydHkucHJldmlld1Byb3BlcnRpZXMsIGluY2x1ZGVJZDogcHJvcGVydHkuaW5jbHVkZUlkLCBpbmNsdWRlRW50aXR5TGluazogcHJvcGVydHkuaW5jbHVkZUVudGl0eUxpbmssIHNpemU6IHByb3BzLnNpemUsIHJlZmVyZW5jZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBidWlsZFdyb25nVmFsdWVUeXBlKHByb3BlcnR5S2V5LCBwcm9wZXJ0eS5kYXRhVHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgdDAyO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgkWzI0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQwMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW1wdHlWYWx1ZSwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJFsyNF0gPSB0MDI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQwMiA9ICRbMjRdO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KEJvb2xlYW5QcmV2aWV3LCB7IHZhbHVlLCBzaXplLCBwcm9wZXJ0eSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGJ1aWxkV3JvbmdWYWx1ZVR5cGUocHJvcGVydHlLZXksIHByb3BlcnR5LmRhdGFUeXBlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChOdW1iZXJQcm9wZXJ0eVByZXZpZXcsIHsgLi4ucHJvcHMsIHZhbHVlLCBwcm9wZXJ0eSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBidWlsZFdyb25nVmFsdWVUeXBlKHByb3BlcnR5S2V5LCBwcm9wZXJ0eS5kYXRhVHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdDAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRbMjVdICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0MDIgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRbMjVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRbMjZdID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdDAyID0gJFsyNl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gdDAyO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAkWzBdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzO1xuICAgICRbMV0gPSBoZWlnaHQ7XG4gICAgJFsyXSA9IGlucHV0UHJvcGVydHk7XG4gICAgJFszXSA9IGludGVyYWN0aXZlO1xuICAgICRbNF0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzVdID0gcHJvcHM7XG4gICAgJFs2XSA9IHNpemU7XG4gICAgJFs3XSA9IHZhbHVlO1xuICAgICRbOF0gPSB3aWR0aDtcbiAgICAkWzldID0gY29udGVudDtcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50ID0gJFs5XTtcbiAgfVxuICBsZXQgdDA7XG4gIGlmICgkWzI3XSAhPT0gY29udGVudCkge1xuICAgIHQwID0gY29udGVudCA9PT0gdm9pZCAwIHx8IGNvbnRlbnQgPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheShjb250ZW50KSAmJiBjb250ZW50Lmxlbmd0aCA9PT0gMCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goRW1wdHlWYWx1ZSwge30pIDogY29udGVudDtcbiAgICAkWzI3XSA9IGNvbnRlbnQ7XG4gICAgJFsyOF0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMjhdO1xuICB9XG4gIHJldHVybiB0MDtcbn0sIGVxdWFsKTtcbmZ1bmN0aW9uIGJ1aWxkV3JvbmdWYWx1ZVR5cGUobmFtZSwgZGF0YVR5cGUsIHZhbHVlKSB7XG4gIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCB2YWx1ZSBmb3IgcHJvcGVydHkgJHtuYW1lfSwgb2YgdHlwZSAke2RhdGFUeXBlfWAsIHZhbHVlKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JWaWV3LCB7IHRpdGxlOiBcIlVuZXhwZWN0ZWQgdmFsdWVcIiwgZXJyb3I6IGAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gIH0pO1xufVxuZnVuY3Rpb24gQXJyYXlPZk1hcHNQcmV2aWV3KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDEzKTtcbiAgY29uc3Qge1xuICAgIHByb3BlcnR5S2V5LFxuICAgIHZhbHVlLFxuICAgIHByb3BlcnR5OiBpbnB1dFByb3BlcnR5LFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IHQxID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzO1xuICBsZXQgdDI7XG4gIGxldCB0MztcbiAgbGV0IHQ0O1xuICBpZiAoJFswXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzIHx8ICRbMV0gIT09IGlucHV0UHJvcGVydHkgfHwgJFsyXSAhPT0gcHJvcGVydHlLZXkgfHwgJFszXSAhPT0gc2l6ZSB8fCAkWzRdICE9PSB2YWx1ZSkge1xuICAgIHQ0ID0gU3ltYm9sLmZvcihcInJlYWN0LmVhcmx5X3JldHVybl9zZW50aW5lbFwiKTtcbiAgICBiYjA6IHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgcHJvcGVydHk6IGlucHV0UHJvcGVydHksXG4gICAgICAgIHByb3BlcnR5Q29uZmlnczogdDFcbiAgICAgIH0pO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHk/Lm9mKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlVzaW5nIGFycmF5IHByb3BlcnRpZXMgaW5zdGVhZCBvZiBzaW5nbGUgb25lIGluIGBvZmAgaW4gQXJyYXlQcm9wZXJ0eVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wZXJ0eT8uZGF0YVR5cGUgIT09IFwiYXJyYXlcIiB8fCAhcHJvcGVydHkub2YgfHwgcHJvcGVydHkub2YuZGF0YVR5cGUgIT09IFwibWFwXCIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJQaWNrZWQgd3JvbmcgcHJldmlldyBjb21wb25lbnQgQXJyYXlPZk1hcHNQcmV2aWV3XCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgbWFwUHJvcGVydHkgPSBwcm9wZXJ0eS5vZjtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBtYXBQcm9wZXJ0eS5wcm9wZXJ0aWVzO1xuICAgICAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBZb3UgbmVlZCB0byBzcGVjaWZ5IGEgJ3Byb3BlcnRpZXMnIHByb3AgKG9yIHNwZWNpZnkgYSBjdXN0b20gZmllbGQpIGluIHlvdXIgbWFwIHByb3BlcnR5ICR7cHJvcGVydHlLZXl9YCk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZTtcbiAgICAgIGNvbnN0IHByZXZpZXdQcm9wZXJ0aWVzID0gbWFwUHJvcGVydHkucHJldmlld1Byb3BlcnRpZXM7XG4gICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICB0NCA9IG51bGw7XG4gICAgICAgIGJyZWFrIGJiMDtcbiAgICAgIH1cbiAgICAgIGxldCBtYXBQcm9wZXJ0aWVzO1xuICAgICAgbWFwUHJvcGVydGllcyA9IHByZXZpZXdQcm9wZXJ0aWVzO1xuICAgICAgaWYgKCFtYXBQcm9wZXJ0aWVzIHx8ICFtYXBQcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICBtYXBQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyk7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgbWFwUHJvcGVydGllcyA9IG1hcFByb3BlcnRpZXMuc2xpY2UoMCwgMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHQzID0gXCJ0YWJsZS1hdXRvIHRleHQteHNcIjtcbiAgICAgIHQyID0gdmFsdWVzICYmIHZhbHVlcy5tYXAoKHYsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMCBweS0yXCIsIGNoaWxkcmVuOiBtYXBQcm9wZXJ0aWVzICYmIG1hcFByb3BlcnRpZXMubWFwKChrZXkpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidGFibGUtY2VsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyBwcm9wZXJ0eUtleToga2V5LCB2YWx1ZTogdltrZXldLCBwcm9wZXJ0eTogcHJvcGVydGllc1trZXldLCBzaXplOiBcInNtYWxsXCIgfSkgfSkgfSwgYHRhYmxlLWNlbGwtJHtrZXl9YCkpIH0sIGB0YWJsZV8ke3Z9XyR7aW5kZXh9YCkpO1xuICAgIH1cbiAgICAkWzBdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzO1xuICAgICRbMV0gPSBpbnB1dFByb3BlcnR5O1xuICAgICRbMl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzNdID0gc2l6ZTtcbiAgICAkWzRdID0gdmFsdWU7XG4gICAgJFs1XSA9IHQyO1xuICAgICRbNl0gPSB0MztcbiAgICAkWzddID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzVdO1xuICAgIHQzID0gJFs2XTtcbiAgICB0NCA9ICRbN107XG4gIH1cbiAgaWYgKHQ0ICE9PSBTeW1ib2wuZm9yKFwicmVhY3QuZWFybHlfcmV0dXJuX3NlbnRpbmVsXCIpKSB7XG4gICAgcmV0dXJuIHQ0O1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbOF0gIT09IHQyKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IHQyIH0pO1xuICAgICRbOF0gPSB0MjtcbiAgICAkWzldID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzldO1xuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbMTBdICE9PSB0MyB8fCAkWzExXSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQzLCBjaGlsZHJlbjogdDUgfSk7XG4gICAgJFsxMF0gPSB0MztcbiAgICAkWzExXSA9IHQ1O1xuICAgICRbMTJdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzEyXTtcbiAgfVxuICByZXR1cm4gdDY7XG59XG5jb25zdCBBc3luY1ByZXZpZXdDb21wb25lbnQgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIEFzeW5jUHJldmlld0NvbXBvbmVudEludGVybmFsKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgYnVpbGRlclxuICB9ID0gdDA7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGxldCB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gYnVpbGRlcikge1xuICAgIHQxID0gKCkgPT4ge1xuICAgICAgbGV0IHVubW91bnRlZDtcbiAgICAgIHVubW91bnRlZCA9IGZhbHNlO1xuICAgICAgYnVpbGRlci50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKCF1bm1vdW50ZWQpIHtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRSZXN1bHQocmVzKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0MiA9IFtidWlsZGVyXTtcbiAgICAkWzBdID0gYnVpbGRlcjtcbiAgICAkWzFdID0gdDE7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgdXNlRWZmZWN0KHQxLCB0Mik7XG4gIGlmIChsb2FkaW5nKSB7XG4gICAgbGV0IHQzMjtcbiAgICBpZiAoJFszXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgIHQzMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHt9KTtcbiAgICAgICRbM10gPSB0MzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQzMiA9ICRbM107XG4gICAgfVxuICAgIHJldHVybiB0MzI7XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs0XSAhPT0gcmVzdWx0KSB7XG4gICAgdDMgPSAvKiBAX19QVVJFX18gKi8ganN4KFJlYWN0LkZyYWdtZW50LCB7IGNoaWxkcmVuOiByZXN1bHQgfSk7XG4gICAgJFs0XSA9IHJlc3VsdDtcbiAgICAkWzVdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzVdO1xuICB9XG4gIHJldHVybiB0Mztcbn0pO1xuZnVuY3Rpb24gRW50aXR5Vmlldyh7XG4gIGVudGl0eSxcbiAgY29sbGVjdGlvbixcbiAgcGF0aCxcbiAgY2xhc3NOYW1lXG59KSB7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgcmVzb2x2ZWRDb2xsZWN0aW9uID0gdXNlTWVtbygoKSA9PiByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgY29sbGVjdGlvbixcbiAgICBwYXRoLFxuICAgIGVudGl0eUlkOiBlbnRpdHkuaWQsXG4gICAgdmFsdWVzOiBlbnRpdHkudmFsdWVzLFxuICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gIH0pLCBbY29sbGVjdGlvbiwgcGF0aCwgZW50aXR5LCBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NdKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGwgXCIgKyBjbGFzc05hbWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGwgbWItNFwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZGVmYXVsdEJvcmRlck1peGluLCBcImZsZXgganVzdGlmeS1iZXR3ZWVuIHB5LTIgYm9yZGVyLWIgbGFzdDpib3JkZXItYi0wXCIpLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciB3LTEvNFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicGwtMiB0ZXh0LXNtIHRleHQtc3VyZmFjZS02MDBcIiwgY2hpbGRyZW46IFwiSWRcIiB9KSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXgtZ3JvdyBwLTIgbWwtMiB3LTMvNCB0ZXh0LXN1cmZhY2UtOTAwIGRhcms6dGV4dC13aGl0ZSBtaW4taC1bNTZweF0gZmxleCBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93IG1yLTJcIiwgY2hpbGRyZW46IGVudGl0eS5pZCB9KSxcbiAgICAgICAgY3VzdG9taXphdGlvbkNvbnRyb2xsZXI/LmVudGl0eUxpbmtCdWlsZGVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJhXCIsIHsgaHJlZjogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIuZW50aXR5TGlua0J1aWxkZXIoe1xuICAgICAgICAgIGVudGl0eVxuICAgICAgICB9KSwgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiwgdGFyZ2V0OiBcIl9ibGFua1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KE9wZW5Jbk5ld0ljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pIH0pIH0pXG4gICAgICBdIH0pXG4gICAgXSB9KSxcbiAgICBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5tYXAoKFtrZXksIHByb3BlcnR5XSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBlbnRpdHkudmFsdWVzPy5ba2V5XTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzKGRlZmF1bHRCb3JkZXJNaXhpbiwgXCJmbGV4IGp1c3RpZnktYmV0d2VlbiBweS0yIGJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMFwiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciB3LTEvNFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicGwtMiB0ZXh0LXNtIHRleHQtc3VyZmFjZS02MDBcIiwgY2hpbGRyZW46IHByb3BlcnR5Lm5hbWUgfSkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93IHAtMiBtbC0yIHctMy80IHRleHQtc3VyZmFjZS05MDAgZGFyazp0ZXh0LXdoaXRlIG1pbi1oLVs1NnB4XSBmbGV4IGl0ZW1zLWNlbnRlclwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBQcm9wZXJ0eVByZXZpZXcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcGVydHlLZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICBzaXplOiBcIm1lZGl1bVwiXG4gICAgICAgICAgfVxuICAgICAgICApIH0pXG4gICAgICBdIH0sIGByZWZlcmVuY2VfcHJldmlld3NfJHtrZXl9YCk7XG4gICAgfSlcbiAgXSB9KSB9KTtcbn1cbmZ1bmN0aW9uIFZpcnR1YWxUYWJsZUlucHV0KHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDIyKTtcbiAgY29uc3QgcmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO1xuICBjb25zdCB7XG4gICAgdmFsdWUsXG4gICAgbXVsdGlsaW5lLFxuICAgIHVwZGF0ZVZhbHVlLFxuICAgIGZvY3VzZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwcmV2VmFsdWUgPSB1c2VSZWYodmFsdWUpO1xuICBjb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGZvY3VzZWRTdGF0ZSA9IHVzZVJlZihmYWxzZSk7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gIT09IGludGVybmFsVmFsdWUgfHwgJFsxXSAhPT0gdmFsdWUpIHtcbiAgICB0MCA9ICgpID0+IHtcbiAgICAgIGlmIChwcmV2VmFsdWUuY3VycmVudCAhPT0gdmFsdWUgJiYgdmFsdWUgIT09IGludGVybmFsVmFsdWUpIHtcbiAgICAgICAgc2V0SW50ZXJuYWxWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBwcmV2VmFsdWUuY3VycmVudCA9IHZhbHVlO1xuICAgIH07XG4gICAgJFswXSA9IGludGVybmFsVmFsdWU7XG4gICAgJFsxXSA9IHZhbHVlO1xuICAgICRbMl0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMl07XG4gIH1cbiAgbGV0IHQxO1xuICBpZiAoJFszXSAhPT0gdmFsdWUpIHtcbiAgICB0MSA9IFt2YWx1ZV07XG4gICAgJFszXSA9IHZhbHVlO1xuICAgICRbNF0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNF07XG4gIH1cbiAgdXNlRWZmZWN0KHQwLCB0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbNV0gIT09IGludGVybmFsVmFsdWUgfHwgJFs2XSAhPT0gdXBkYXRlVmFsdWUgfHwgJFs3XSAhPT0gdmFsdWUpIHtcbiAgICB0MiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGVtcHR5SW5pdGlhbFZhbHVlID0gIXZhbHVlO1xuICAgICAgaWYgKGVtcHR5SW5pdGlhbFZhbHVlICYmICFpbnRlcm5hbFZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcm5hbFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBwcmV2VmFsdWUuY3VycmVudCA9IGludGVybmFsVmFsdWU7XG4gICAgICAgIHVwZGF0ZVZhbHVlKGludGVybmFsVmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgJFs1XSA9IGludGVybmFsVmFsdWU7XG4gICAgJFs2XSA9IHVwZGF0ZVZhbHVlO1xuICAgICRbN10gPSB2YWx1ZTtcbiAgICAkWzhdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzhdO1xuICB9XG4gIGNvbnN0IGRvVXBkYXRlID0gdDI7XG4gIHVzZURlYm91bmNlZENhbGxiYWNrKGludGVybmFsVmFsdWUsIGRvVXBkYXRlLCAhZm9jdXNlZCwgMmUzKTtcbiAgbGV0IHQzO1xuICBsZXQgdDQ7XG4gIGlmICgkWzldICE9PSBmb2N1c2VkKSB7XG4gICAgdDMgPSAoKSA9PiB7XG4gICAgICBpZiAocmVmLmN1cnJlbnQgJiYgZm9jdXNlZCAmJiAhZm9jdXNlZFN0YXRlLmN1cnJlbnQpIHtcbiAgICAgICAgZm9jdXNlZFN0YXRlLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZWYuY3VycmVudC5mb2N1cyh7XG4gICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVmLmN1cnJlbnQuc2VsZWN0aW9uU3RhcnQgPSByZWYuY3VycmVudC52YWx1ZS5sZW5ndGg7XG4gICAgICAgIHJlZi5jdXJyZW50LnNlbGVjdGlvbkVuZCA9IHJlZi5jdXJyZW50LnZhbHVlLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvY3VzZWRTdGF0ZS5jdXJyZW50ID0gZm9jdXNlZDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHQ0ID0gW2ZvY3VzZWQsIHJlZl07XG4gICAgJFs5XSA9IGZvY3VzZWQ7XG4gICAgJFsxMF0gPSB0MztcbiAgICAkWzExXSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMF07XG4gICAgdDQgPSAkWzExXTtcbiAgfVxuICB1c2VFZmZlY3QodDMsIHQ0KTtcbiAgbGV0IHQ1O1xuICBpZiAoJFsxMl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDUgPSB7XG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWFyZ2luOiAwLFxuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgY29sb3I6IFwidW5zZXRcIixcbiAgICAgIGZvbnRXZWlnaHQ6IFwidW5zZXRcIixcbiAgICAgIGxpbmVIZWlnaHQ6IDEuNzE0Mjg1NyxcbiAgICAgIGZvbnRTaXplOiBcInVuc2V0XCIsXG4gICAgICBmb250RmFtaWx5OiBcInVuc2V0XCIsXG4gICAgICBiYWNrZ3JvdW5kOiBcInVuc2V0XCIsXG4gICAgICBib3JkZXI6IFwidW5zZXRcIixcbiAgICAgIHJlc2l6ZTogXCJub25lXCIsXG4gICAgICBvdXRsaW5lOiBcIm5vbmVcIlxuICAgIH07XG4gICAgJFsxMl0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTJdO1xuICB9XG4gIGNvbnN0IHQ2ID0gaW50ZXJuYWxWYWx1ZSA/PyBcIlwiO1xuICBsZXQgdDc7XG4gIGlmICgkWzEzXSAhPT0gbXVsdGlsaW5lKSB7XG4gICAgdDcgPSAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IGV2dC50YXJnZXQudmFsdWU7XG4gICAgICBpZiAobXVsdGlsaW5lIHx8ICFuZXdWYWx1ZS5lbmRzV2l0aChcIlxcblwiKSkge1xuICAgICAgICBzZXRJbnRlcm5hbFZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRbMTNdID0gbXVsdGlsaW5lO1xuICAgICRbMTRdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE0XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzE1XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OCA9ICgpID0+IHtcbiAgICAgIGZvY3VzZWRTdGF0ZS5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICAgICRbMTVdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzE1XTtcbiAgfVxuICBsZXQgdDk7XG4gIGlmICgkWzE2XSAhPT0gZG9VcGRhdGUpIHtcbiAgICB0OSA9ICgpID0+IHtcbiAgICAgIGZvY3VzZWRTdGF0ZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBkb1VwZGF0ZSgpO1xuICAgIH07XG4gICAgJFsxNl0gPSBkb1VwZGF0ZTtcbiAgICAkWzE3XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsxN107XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMThdICE9PSB0NiB8fCAkWzE5XSAhPT0gdDcgfHwgJFsyMF0gIT09IHQ5KSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeChUZXh0YXJlYUF1dG9zaXplLCB7IGNsYXNzTmFtZTogZm9jdXNlZERpc2FibGVkLCByZWYsIHN0eWxlOiB0NSwgdmFsdWU6IHQ2LCBvbkNoYW5nZTogdDcsIG9uRm9jdXM6IHQ4LCBvbkJsdXI6IHQ5IH0pO1xuICAgICRbMThdID0gdDY7XG4gICAgJFsxOV0gPSB0NztcbiAgICAkWzIwXSA9IHQ5O1xuICAgICRbMjFdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMjFdO1xuICB9XG4gIHJldHVybiB0MTA7XG59XG5mdW5jdGlvbiBWaXJ0dWFsVGFibGVTZWxlY3QocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoMTkpO1xuICBjb25zdCB7XG4gICAgZW51bVZhbHVlcyxcbiAgICBpbnRlcm5hbFZhbHVlLFxuICAgIGRpc2FibGVkLFxuICAgIHNtYWxsLFxuICAgIGZvY3VzZWQsXG4gICAgdXBkYXRlVmFsdWUsXG4gICAgbXVsdGlwbGUsXG4gICAgdmFsdWVUeXBlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdmFsaWRWYWx1ZSA9IEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgJiYgbXVsdGlwbGUgfHwgIUFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgJiYgIW11bHRpcGxlO1xuICBjb25zdCByZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gIGxldCB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gZm9jdXNlZCkge1xuICAgIHQwID0gKCkgPT4ge1xuICAgICAgaWYgKHJlZi5jdXJyZW50ICYmIGZvY3VzZWQpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQ/LmZvY3VzKHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdDEgPSBbZm9jdXNlZCwgcmVmXTtcbiAgICAkWzBdID0gZm9jdXNlZDtcbiAgICAkWzFdID0gdDA7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFsxXTtcbiAgICB0MSA9ICRbMl07XG4gIH1cbiAgdXNlRWZmZWN0KHQwLCB0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbM10gIT09IG11bHRpcGxlIHx8ICRbNF0gIT09IHVwZGF0ZVZhbHVlIHx8ICRbNV0gIT09IHZhbHVlVHlwZSkge1xuICAgIHQyID0gKHVwZGF0ZWRWYWx1ZSkgPT4ge1xuICAgICAgY29uc29sZS50cmFjZShcIm9uQ2hhbmdlXCIpO1xuICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZWRWYWx1ZS5tYXAoX3RlbXAkbCk7XG4gICAgICAgICAgdXBkYXRlVmFsdWUobmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZVZhbHVlKHBhcnNlRmxvYXQodXBkYXRlZFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBpZiAoIXVwZGF0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgdXBkYXRlVmFsdWUobnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVZhbHVlKHVwZGF0ZWRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiTWlzc2luZyBtYXBwaW5nIGluIFRhYmxlU2VsZWN0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzNdID0gbXVsdGlwbGU7XG4gICAgJFs0XSA9IHVwZGF0ZVZhbHVlO1xuICAgICRbNV0gPSB2YWx1ZVR5cGU7XG4gICAgJFs2XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs2XTtcbiAgfVxuICBjb25zdCBvbkNoYW5nZSA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzddICE9PSBlbnVtVmFsdWVzIHx8ICRbOF0gIT09IHNtYWxsKSB7XG4gICAgdDMgPSAoZW51bUtleSkgPT4gLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5OiBTdHJpbmcoZW51bUtleSksIGVudW1WYWx1ZXMsIHNpemU6IHNtYWxsID8gXCJzbWFsbFwiIDogXCJtZWRpdW1cIiB9LCBgJHtlbnVtS2V5fWApO1xuICAgICRbN10gPSBlbnVtVmFsdWVzO1xuICAgICRbOF0gPSBzbWFsbDtcbiAgICAkWzldID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzldO1xuICB9XG4gIGNvbnN0IHJlbmRlclZhbHVlID0gdDM7XG4gIGxldCB0NDtcbiAgaWYgKCRbMTBdICE9PSBkaXNhYmxlZCB8fCAkWzExXSAhPT0gZW51bVZhbHVlcyB8fCAkWzEyXSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzEzXSAhPT0gbXVsdGlwbGUgfHwgJFsxNF0gIT09IG9uQ2hhbmdlIHx8ICRbMTVdICE9PSByZW5kZXJWYWx1ZSB8fCAkWzE2XSAhPT0gc21hbGwgfHwgJFsxN10gIT09IHZhbGlkVmFsdWUpIHtcbiAgICB0NCA9IG11bHRpcGxlID8gLyogQF9fUFVSRV9fICovIGpzeChNdWx0aVNlbGVjdCwgeyBpbnB1dFJlZjogcmVmLCBjbGFzc05hbWU6IFwidy1mdWxsIGgtZnVsbCBwLTAgYmctdHJhbnNwYXJlbnRcIiwgcG9zaXRpb246IFwiaXRlbS1hbGlnbmVkXCIsIGRpc2FibGVkLCBpbmNsdWRlQ2xlYXI6IGZhbHNlLCB1c2VDaGlwczogZmFsc2UsIHZhbHVlOiB2YWxpZFZhbHVlID8gaW50ZXJuYWxWYWx1ZS5tYXAoX3RlbXAyJGIpIDogW10sIG9uVmFsdWVDaGFuZ2U6IG9uQ2hhbmdlLCBjaGlsZHJlbjogZW51bVZhbHVlcz8ubWFwKChlbnVtQ29uZmlnKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KE11bHRpU2VsZWN0SXRlbSwgeyB2YWx1ZTogU3RyaW5nKGVudW1Db25maWcuaWQpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5OiBlbnVtQ29uZmlnLmlkLCBlbnVtVmFsdWVzLCBzaXplOiBzbWFsbCA/IFwic21hbGxcIiA6IFwibWVkaXVtXCIgfSkgfSwgZW51bUNvbmZpZy5pZCkpIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgaW5wdXRSZWY6IHJlZiwgc2l6ZTogXCJsYXJnZVwiLCBmdWxsV2lkdGg6IHRydWUsIGNsYXNzTmFtZTogXCJ3LWZ1bGwgaC1mdWxsIHAtMCBiZy10cmFuc3BhcmVudFwiLCBwb3NpdGlvbjogXCJpdGVtLWFsaWduZWRcIiwgZGlzYWJsZWQsIHBhZGRpbmc6IGZhbHNlLCB2YWx1ZTogdmFsaWRWYWx1ZSA/IGludGVybmFsVmFsdWU/LnRvU3RyaW5nKCkgOiBcIlwiLCBvblZhbHVlQ2hhbmdlOiBvbkNoYW5nZSwgcmVuZGVyVmFsdWUsIGNoaWxkcmVuOiBlbnVtVmFsdWVzPy5tYXAoKGVudW1Db25maWdfMCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RJdGVtLCB7IHZhbHVlOiBTdHJpbmcoZW51bUNvbmZpZ18wLmlkKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRW51bVZhbHVlc0NoaXAsIHsgZW51bUtleTogZW51bUNvbmZpZ18wLmlkLCBlbnVtVmFsdWVzLCBzaXplOiBzbWFsbCA/IFwic21hbGxcIiA6IFwibWVkaXVtXCIgfSkgfSwgZW51bUNvbmZpZ18wLmlkKSkgfSk7XG4gICAgJFsxMF0gPSBkaXNhYmxlZDtcbiAgICAkWzExXSA9IGVudW1WYWx1ZXM7XG4gICAgJFsxMl0gPSBpbnRlcm5hbFZhbHVlO1xuICAgICRbMTNdID0gbXVsdGlwbGU7XG4gICAgJFsxNF0gPSBvbkNoYW5nZTtcbiAgICAkWzE1XSA9IHJlbmRlclZhbHVlO1xuICAgICRbMTZdID0gc21hbGw7XG4gICAgJFsxN10gPSB2YWxpZFZhbHVlO1xuICAgICRbMThdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzE4XTtcbiAgfVxuICByZXR1cm4gdDQ7XG59XG5mdW5jdGlvbiBfdGVtcDIkYih2XzApIHtcbiAgcmV0dXJuIHZfMC50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gX3RlbXAkbCh2KSB7XG4gIHJldHVybiBwYXJzZUZsb2F0KHYpO1xufVxuZnVuY3Rpb24gVmlydHVhbFRhYmxlTnVtYmVySW5wdXQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGFsaWduLFxuICAgIHZhbHVlLFxuICAgIHVwZGF0ZVZhbHVlLFxuICAgIGZvY3VzZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwcm9wU3RyaW5nVmFsdWUgPSB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS50b1N0cmluZygpIDogXCJcIjtcbiAgY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0gdXNlU3RhdGUocHJvcFN0cmluZ1ZhbHVlKTtcbiAgY29uc3QgcHJldlZhbHVlID0gdXNlUmVmKHZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJldlZhbHVlLmN1cnJlbnQgIT09IHZhbHVlICYmIFN0cmluZyh2YWx1ZSkgIT09IGludGVybmFsVmFsdWUpIHNldEludGVybmFsVmFsdWUodmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogbnVsbCk7XG4gICAgcHJldlZhbHVlLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW3ZhbHVlXSk7XG4gIGNvbnN0IGRvVXBkYXRlID0gUmVhY3RfX2RlZmF1bHQudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChpbnRlcm5hbFZhbHVlICE9PSBwcm9wU3RyaW5nVmFsdWUpIHtcbiAgICAgIGlmIChpbnRlcm5hbFZhbHVlICE9PSB2b2lkIDAgJiYgaW50ZXJuYWxWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBudW1iZXJWYWx1ZSA9IHBhcnNlRmxvYXQoaW50ZXJuYWxWYWx1ZSk7XG4gICAgICAgIGlmIChpc05hTihudW1iZXJWYWx1ZSkpIHJldHVybjtcbiAgICAgICAgaWYgKG51bWJlclZhbHVlICE9PSB2b2lkIDAgJiYgbnVtYmVyVmFsdWUgIT09IG51bGwpIHVwZGF0ZVZhbHVlKG51bWJlclZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVZhbHVlKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2ludGVybmFsVmFsdWUsIHZhbHVlXSk7XG4gIHVzZURlYm91bmNlZENhbGxiYWNrKGludGVybmFsVmFsdWUsIGRvVXBkYXRlLCAhZm9jdXNlZCwgMmUzKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWZvY3VzZWQgJiYgcHJvcFN0cmluZ1ZhbHVlICE9PSBpbnRlcm5hbFZhbHVlKSBzZXRJbnRlcm5hbFZhbHVlKHZhbHVlICE9PSB2b2lkIDAgJiYgdmFsdWUgIT09IG51bGwgPyB2YWx1ZS50b1N0cmluZygpIDogbnVsbCk7XG4gIH0sIFt2YWx1ZSwgZm9jdXNlZF0pO1xuICBjb25zdCByZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlZi5jdXJyZW50ICYmIGZvY3VzZWQpIHtcbiAgICAgIHJlZi5jdXJyZW50LmZvY3VzKHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZm9jdXNlZCwgcmVmXSk7XG4gIGNvbnN0IHJlZ2V4cCA9IC9eLT9bMC05XStbLC5dP1swLTldKiQvO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImlucHV0XCIsIHsgcmVmLCBjbGFzc05hbWU6IGNscyhcInctZnVsbCB0ZXh0LXJpZ2h0IHAtMCBtLTAgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgcmVzaXplLW5vbmUgb3V0bGluZS1ub25lIGZvbnQtbm9ybWFsIGxlYWRpbmctbm9ybWFsIHRleHQtdW5zZXRcIiwgZm9jdXNlZERpc2FibGVkKSwgc3R5bGU6IHtcbiAgICB0ZXh0QWxpZ246IGFsaWduXG4gIH0sIHZhbHVlOiBpbnRlcm5hbFZhbHVlID8/IFwiXCIsIG9uQ2hhbmdlOiAoZXZ0KSA9PiB7XG4gICAgY29uc3QgbmV3VmFsdWUgPSBldnQudGFyZ2V0LnZhbHVlLnJlcGxhY2UoXCIsXCIsIFwiLlwiKTtcbiAgICBpZiAobmV3VmFsdWUubGVuZ3RoID09PSAwKSBzZXRJbnRlcm5hbFZhbHVlKG51bGwpO1xuICAgIGlmIChyZWdleHAudGVzdChuZXdWYWx1ZSkgfHwgbmV3VmFsdWUuc3RhcnRzV2l0aChcIi1cIikpIHNldEludGVybmFsVmFsdWUobmV3VmFsdWUpO1xuICB9IH0pO1xufVxuZnVuY3Rpb24gVmlydHVhbFRhYmxlU3dpdGNoKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgaW50ZXJuYWxWYWx1ZSxcbiAgICB1cGRhdGVWYWx1ZSxcbiAgICBmb2N1c2VkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO1xuICBsZXQgdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGZvY3VzZWQpIHtcbiAgICB0MCA9ICgpID0+IHtcbiAgICAgIGlmIChyZWYuY3VycmVudCAmJiBmb2N1c2VkKSB7XG4gICAgICAgIHJlZi5jdXJyZW50LmZvY3VzKHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdDEgPSBbZm9jdXNlZCwgcmVmXTtcbiAgICAkWzBdID0gZm9jdXNlZDtcbiAgICAkWzFdID0gdDA7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFsxXTtcbiAgICB0MSA9ICRbMl07XG4gIH1cbiAgdXNlRWZmZWN0KHQwLCB0MSk7XG4gIGNvbnN0IHQyID0gQm9vbGVhbihpbnRlcm5hbFZhbHVlKTtcbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gdDIgfHwgJFs0XSAhPT0gdXBkYXRlVmFsdWUpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm9vbGVhblN3aXRjaCwgeyByZWYsIHNpemU6IFwic21hbGxcIiwgdmFsdWU6IHQyLCBvblZhbHVlQ2hhbmdlOiB1cGRhdGVWYWx1ZSB9KTtcbiAgICAkWzNdID0gdDI7XG4gICAgJFs0XSA9IHVwZGF0ZVZhbHVlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgcmV0dXJuIHQzO1xufVxuZnVuY3Rpb24gVmlydHVhbFRhYmxlRGF0ZUZpZWxkKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDkpO1xuICBjb25zdCB7XG4gICAgbG9jYWxlXG4gIH0gPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCB7XG4gICAgbW9kZSxcbiAgICBpbnRlcm5hbFZhbHVlLFxuICAgIHVwZGF0ZVZhbHVlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdDAgPSBpbnRlcm5hbFZhbHVlID8/IHZvaWQgMDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gdXBkYXRlVmFsdWUpIHtcbiAgICB0MSA9IChkYXRlVmFsdWUpID0+IHVwZGF0ZVZhbHVlKGRhdGVWYWx1ZSA/PyBudWxsKTtcbiAgICAkWzBdID0gdXBkYXRlVmFsdWU7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBsZXQgdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbMl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDIgPSBjbHMoXCJ3LWZ1bGwgaC1mdWxsXCIsIGZvY3VzZWREaXNhYmxlZCk7XG4gICAgdDMgPSBjbHMoXCJ3LWZ1bGwgaC1mdWxsXCIsIGZvY3VzZWREaXNhYmxlZCk7XG4gICAgJFsyXSA9IHQyO1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gICAgdDMgPSAkWzNdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNF0gIT09IGxvY2FsZSB8fCAkWzVdICE9PSBtb2RlIHx8ICRbNl0gIT09IHQwIHx8ICRbN10gIT09IHQxKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KERhdGVUaW1lRmllbGQsIHsgdmFsdWU6IHQwLCBvbkNoYW5nZTogdDEsIHNpemU6IFwibGFyZ2VcIiwgaW52aXNpYmxlOiB0cnVlLCBpbnB1dENsYXNzTmFtZTogdDIsIGNsYXNzTmFtZTogdDMsIG1vZGUsIGxvY2FsZSB9KTtcbiAgICAkWzRdID0gbG9jYWxlO1xuICAgICRbNV0gPSBtb2RlO1xuICAgICRbNl0gPSB0MDtcbiAgICAkWzddID0gdDE7XG4gICAgJFs4XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs4XTtcbiAgfVxuICByZXR1cm4gdDQ7XG59XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9oYW5kbGUtY2FsbGJhY2stZXJyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3JcbiAgICB9O1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIG0tMlwiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBtLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEVycm9ySWNvbiwgeyBjb2xvcjogXCJlcnJvclwiLCBzaXplOiBcInNtYWxsXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtbC00XCIsIGNoaWxkcmVuOiBcIkVycm9yXCIgfSlcbiAgICAgICAgXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjaGlsZHJlbjogdGhpcy5zdGF0ZS5lcnJvcj8ubWVzc2FnZSA/PyBcIlNlZSB0aGUgZXJyb3IgaW4gdGhlIGNvbnNvbGVcIiB9KVxuICAgICAgXSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZVN0b3JhZ2VVcGxvYWRDb250cm9sbGVyKHtcbiAgZW50aXR5SWQsXG4gIGVudGl0eVZhbHVlcyxcbiAgcGF0aCxcbiAgdmFsdWUsXG4gIHByb3BlcnR5LFxuICBwcm9wZXJ0eUtleSxcbiAgc3RvcmFnZVNvdXJjZSxcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlXG59KSB7XG4gIGNvbnN0IHN0b3JhZ2UgPSBwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiA/IHByb3BlcnR5LnN0b3JhZ2UgOiBwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJhcnJheVwiICYmIHByb3BlcnR5Lm9mLmRhdGFUeXBlID09PSBcInN0cmluZ1wiID8gcHJvcGVydHkub2Yuc3RvcmFnZSA6IHZvaWQgMDtcbiAgY29uc3QgbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCA9IHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCI7XG4gIGlmICghc3RvcmFnZSkgdGhyb3cgRXJyb3IoXCJTdG9yYWdlIG1ldGEgbXVzdCBiZSBzcGVjaWZpZWRcIik7XG4gIGNvbnN0IG1ldGFkYXRhID0gc3RvcmFnZT8ubWV0YWRhdGE7XG4gIGNvbnN0IHNpemUgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkID8gXCJtZWRpdW1cIiA6IFwibGFyZ2VcIjtcbiAgY29uc3QgY29tcHJlc3Npb24gPSBzdG9yYWdlPy5pbWFnZUNvbXByZXNzaW9uO1xuICBjb25zdCBpbnRlcm5hbEluaXRpYWxWYWx1ZSA9IGdldEludGVybmFsSW5pdGlhbFZhbHVlKG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsIHZhbHVlLCBtZXRhZGF0YSwgc2l6ZSk7XG4gIGNvbnN0IFtpbml0aWFsVmFsdWUsIHNldEluaXRpYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKGludGVybmFsSW5pdGlhbFZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVxdWFsKGluaXRpYWxWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICBzZXRJbml0aWFsVmFsdWUodmFsdWUpO1xuICAgICAgc2V0SW50ZXJuYWxWYWx1ZShpbnRlcm5hbEluaXRpYWxWYWx1ZSk7XG4gICAgfVxuICB9LCBbaW50ZXJuYWxJbml0aWFsVmFsdWUsIHZhbHVlLCBpbml0aWFsVmFsdWVdKTtcbiAgY29uc3QgcmVzb2x2ZWRQcm9wZXJ0eSA9IHJlc29sdmVQcm9wZXJ0eSh7XG4gICAgcHJvcGVydHlPckJ1aWxkZXI6IHByb3BlcnR5LFxuICAgIHZhbHVlczogZW50aXR5VmFsdWVzXG4gIH0pO1xuICBjb25zdCBmaWxlTmFtZUJ1aWxkZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoZmlsZSkgPT4ge1xuICAgIGlmIChzdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGF3YWl0IHJlc29sdmVTdG9yYWdlRmlsZW5hbWVTdHJpbmcoe1xuICAgICAgICBpbnB1dDogc3RvcmFnZS5maWxlTmFtZSxcbiAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgdmFsdWVzOiBlbnRpdHlWYWx1ZXMsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBwYXRoLFxuICAgICAgICBwcm9wZXJ0eTogcmVzb2x2ZWRQcm9wZXJ0eSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgcHJvcGVydHlLZXlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFmaWxlTmFtZSB8fCBmaWxlTmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJZb3UgbmVlZCB0byByZXR1cm4gYSB2YWxpZCBmaWxlbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaWxlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHJhbmRvbVN0cmluZygpICsgXCJfXCIgKyBmaWxlLm5hbWU7XG4gIH0sIFtlbnRpdHlJZCwgZW50aXR5VmFsdWVzLCBwYXRoLCByZXNvbHZlZFByb3BlcnR5LCBwcm9wZXJ0eUtleSwgc3RvcmFnZV0pO1xuICBjb25zdCBzdG9yYWdlUGF0aEJ1aWxkZXIgPSB1c2VDYWxsYmFjaygoZmlsZV8wKSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVTdG9yYWdlUGF0aFN0cmluZyh7XG4gICAgICBpbnB1dDogc3RvcmFnZS5zdG9yYWdlUGF0aCxcbiAgICAgIHN0b3JhZ2UsXG4gICAgICB2YWx1ZXM6IGVudGl0eVZhbHVlcyxcbiAgICAgIGVudGl0eUlkLFxuICAgICAgcGF0aCxcbiAgICAgIHByb3BlcnR5OiByZXNvbHZlZFByb3BlcnR5LFxuICAgICAgZmlsZTogZmlsZV8wLFxuICAgICAgcHJvcGVydHlLZXlcbiAgICB9KSA/PyBcIi9cIjtcbiAgfSwgW2VudGl0eUlkLCBlbnRpdHlWYWx1ZXMsIHBhdGgsIHJlc29sdmVkUHJvcGVydHksIHByb3BlcnR5S2V5LCBzdG9yYWdlXSk7XG4gIGNvbnN0IG9uRmlsZVVwbG9hZENvbXBsZXRlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVwbG9hZGVkUGF0aCwgZW50cnksIG1ldGFkYXRhXzApID0+IHtcbiAgICBjb25zb2xlLmRlYnVnKFwib25GaWxlVXBsb2FkQ29tcGxldGVcIiwgdXBsb2FkZWRQYXRoLCBlbnRyeSk7XG4gICAgbGV0IHVwbG9hZFBhdGhPckRvd25sb2FkVXJsID0gdXBsb2FkZWRQYXRoO1xuICAgIGlmIChzdG9yYWdlLnN0b3JlVXJsKSB7XG4gICAgICB1cGxvYWRQYXRoT3JEb3dubG9hZFVybCA9IChhd2FpdCBzdG9yYWdlU291cmNlLmdldERvd25sb2FkVVJMKHVwbG9hZGVkUGF0aCkpLnVybDtcbiAgICB9XG4gICAgaWYgKHN0b3JhZ2UucG9zdFByb2Nlc3MgJiYgdXBsb2FkUGF0aE9yRG93bmxvYWRVcmwpIHtcbiAgICAgIHVwbG9hZFBhdGhPckRvd25sb2FkVXJsID0gYXdhaXQgc3RvcmFnZS5wb3N0UHJvY2Vzcyh1cGxvYWRQYXRoT3JEb3dubG9hZFVybCk7XG4gICAgfVxuICAgIGlmICghdXBsb2FkUGF0aE9yRG93bmxvYWRVcmwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInVwbG9hZFBhdGhPckRvd25sb2FkVXJsIGlzIG51bGxcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZXdWYWx1ZTtcbiAgICBlbnRyeS5zdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwgPSB1cGxvYWRQYXRoT3JEb3dubG9hZFVybDtcbiAgICBlbnRyeS5tZXRhZGF0YSA9IG1ldGFkYXRhXzA7XG4gICAgbmV3VmFsdWUgPSBbLi4uaW50ZXJuYWxWYWx1ZV07XG4gICAgbmV3VmFsdWUgPSByZW1vdmVEdXBsaWNhdGVzKG5ld1ZhbHVlKTtcbiAgICBzZXRJbnRlcm5hbFZhbHVlKG5ld1ZhbHVlKTtcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gbmV3VmFsdWUuZmlsdGVyKChlKSA9PiAhIWUuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKS5tYXAoKGVfMCkgPT4gZV8wLnN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCk7XG4gICAgaWYgKG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQpIHtcbiAgICAgIG9uQ2hhbmdlKGZpZWxkVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkNoYW5nZShmaWVsZFZhbHVlID8gZmllbGRWYWx1ZVswXSA6IG51bGwpO1xuICAgIH1cbiAgfSwgW2ludGVybmFsVmFsdWUsIG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsIG9uQ2hhbmdlLCBzdG9yYWdlLCBzdG9yYWdlU291cmNlXSk7XG4gIGNvbnN0IG9uRmlsZXNBZGRlZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChhY2NlcHRlZEZpbGVzKSA9PiB7XG4gICAgaWYgKCFhY2NlcHRlZEZpbGVzLmxlbmd0aCB8fCBkaXNhYmxlZCkgcmV0dXJuO1xuICAgIGxldCBuZXdJbnRlcm5hbFZhbHVlO1xuICAgIGlmIChtdWx0aXBsZUZpbGVzU3VwcG9ydGVkKSB7XG4gICAgICBuZXdJbnRlcm5hbFZhbHVlID0gWy4uLmludGVybmFsVmFsdWUsIC4uLmF3YWl0IFByb21pc2UuYWxsKGFjY2VwdGVkRmlsZXMubWFwKGFzeW5jIChmaWxlXzEpID0+IHtcbiAgICAgICAgaWYgKGNvbXByZXNzaW9uICYmIGNvbXByZXNzaW9uRm9ybWF0KGZpbGVfMSkpIHtcbiAgICAgICAgICBmaWxlXzEgPSBhd2FpdCByZXNpemVBbmRDb21wcmVzc0ltYWdlKGZpbGVfMSwgY29tcHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGdldFJhbmRvbUlkJDIoKSxcbiAgICAgICAgICBmaWxlOiBmaWxlXzEsXG4gICAgICAgICAgZmlsZU5hbWU6IGF3YWl0IGZpbGVOYW1lQnVpbGRlcihmaWxlXzEpLFxuICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgIHNpemVcbiAgICAgICAgfTtcbiAgICAgIH0pKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmaWxlXzIgPSBhY2NlcHRlZEZpbGVzWzBdO1xuICAgICAgaWYgKGNvbXByZXNzaW9uICYmIGNvbXByZXNzaW9uRm9ybWF0KGZpbGVfMikpIHtcbiAgICAgICAgZmlsZV8yID0gYXdhaXQgcmVzaXplQW5kQ29tcHJlc3NJbWFnZShmaWxlXzIsIGNvbXByZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIG5ld0ludGVybmFsVmFsdWUgPSBbe1xuICAgICAgICBpZDogZ2V0UmFuZG9tSWQkMigpLFxuICAgICAgICBmaWxlOiBmaWxlXzIsXG4gICAgICAgIGZpbGVOYW1lOiBhd2FpdCBmaWxlTmFtZUJ1aWxkZXIoZmlsZV8yKSxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgIHNpemVcbiAgICAgIH1dO1xuICAgIH1cbiAgICBuZXdJbnRlcm5hbFZhbHVlID0gcmVtb3ZlRHVwbGljYXRlcyhuZXdJbnRlcm5hbFZhbHVlKTtcbiAgICBzZXRJbnRlcm5hbFZhbHVlKG5ld0ludGVybmFsVmFsdWUpO1xuICB9LCBbZGlzYWJsZWQsIGZpbGVOYW1lQnVpbGRlciwgaW50ZXJuYWxWYWx1ZSwgbWV0YWRhdGEsIG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsIHNpemVdKTtcbiAgcmV0dXJuIHtcbiAgICBpbnRlcm5hbFZhbHVlLFxuICAgIHNldEludGVybmFsVmFsdWUsXG4gICAgc3RvcmFnZSxcbiAgICBmaWxlTmFtZUJ1aWxkZXIsXG4gICAgc3RvcmFnZVBhdGhCdWlsZGVyLFxuICAgIG9uRmlsZVVwbG9hZENvbXBsZXRlLFxuICAgIG9uRmlsZXNBZGRlZCxcbiAgICBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnRlcm5hbEluaXRpYWxWYWx1ZShtdWx0aXBsZUZpbGVzU3VwcG9ydGVkLCB2YWx1ZSwgbWV0YWRhdGEsIHNpemUpIHtcbiAgbGV0IHN0cmluZ3MgPSBbXTtcbiAgaWYgKG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgc3RyaW5ncyA9IHZhbHVlID8/IFtdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBzdHJpbmdzID0gdmFsdWUgPyBbdmFsdWVdIDogW107XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHJpbmdzLm1hcCgoZW50cnkpID0+ICh7XG4gICAgaWQ6IGdldFJhbmRvbUlkJDIoKSxcbiAgICBzdG9yYWdlUGF0aE9yRG93bmxvYWRVcmw6IGVudHJ5LFxuICAgIG1ldGFkYXRhLFxuICAgIHNpemVcbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlcyhpdGVtcykge1xuICByZXR1cm4gaXRlbXMuZmlsdGVyKChpdGVtLCBpKSA9PiB7XG4gICAgcmV0dXJuIChpdGVtcy5tYXAoKHYpID0+IHYuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKS5pbmRleE9mKGl0ZW0uc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKSA9PT0gaSB8fCAhaXRlbS5zdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwpICYmIChpdGVtcy5tYXAoKHYpID0+IHYuZmlsZSkuaW5kZXhPZihpdGVtLmZpbGUpID09PSBpIHx8ICFpdGVtLmZpbGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJhbmRvbUlkJDIoKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSk7XG59XG5jb25zdCBzdXBwb3J0ZWRUeXBlcyA9IHtcbiAgXCJpbWFnZS9qcGVnXCI6IFwiSlBFR1wiLFxuICBcImltYWdlL3BuZ1wiOiBcIlBOR1wiLFxuICBcImltYWdlL3dlYnBcIjogXCJXRUJQXCJcbn07XG5jb25zdCBjb21wcmVzc2lvbkZvcm1hdCA9IChmaWxlKSA9PiBzdXBwb3J0ZWRUeXBlc1tmaWxlLnR5cGVdID8gc3VwcG9ydGVkVHlwZXNbZmlsZS50eXBlXSA6IG51bGw7XG5jb25zdCBkZWZhdWx0UXVhbGl0eSA9IDEwMDtcbmNvbnN0IHJlc2l6ZUFuZENvbXByZXNzSW1hZ2UgPSAoZmlsZSwgY29tcHJlc3Npb24pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gIGNvbnN0IGlucHV0UXVhbGl0eSA9IGNvbXByZXNzaW9uLnF1YWxpdHkgPT09IHZvaWQgMCA/IGRlZmF1bHRRdWFsaXR5IDogY29tcHJlc3Npb24ucXVhbGl0eTtcbiAgY29uc3QgcXVhbGl0eSA9IGlucHV0UXVhbGl0eSA+PSAwID8gaW5wdXRRdWFsaXR5IDw9IDEwMCA/IGlucHV0UXVhbGl0eSA6IDEwMCA6IDEwMDtcbiAgY29uc3QgZm9ybWF0MiA9IGNvbXByZXNzaW9uRm9ybWF0KGZpbGUpO1xuICBpZiAoIWZvcm1hdDIpIHtcbiAgICB0aHJvdyBFcnJvcihcInJlc2l6ZUFuZENvbXByZXNzSW1hZ2U6IFVuc3VwcG9ydGVkIGltYWdlIGZvcm1hdFwiKTtcbiAgfVxuICBSZXNpemVyLmltYWdlRmlsZVJlc2l6ZXIoZmlsZSwgY29tcHJlc3Npb24ubWF4V2lkdGggfHwgTnVtYmVyLk1BWF9WQUxVRSwgY29tcHJlc3Npb24ubWF4SGVpZ2h0IHx8IE51bWJlci5NQVhfVkFMVUUsIGZvcm1hdDIsIHF1YWxpdHksIDAsIChmaWxlMikgPT4gcmVzb2x2ZShmaWxlMiksIFwiZmlsZVwiKTtcbn0pO1xuZnVuY3Rpb24gU3RvcmFnZVVwbG9hZFByb2dyZXNzKHtcbiAgc3RvcmFnZVBhdGgsXG4gIGVudHJ5LFxuICBtZXRhZGF0YSxcbiAgb25GaWxlVXBsb2FkQ29tcGxldGUsXG4gIGltYWdlU2l6ZSxcbiAgc2ltcGxlXG59KSB7XG4gIGNvbnN0IHN0b3JhZ2VTb3VyY2UgPSB1c2VTdG9yYWdlU291cmNlKCk7XG4gIGNvbnN0IHNuYWNrYmFyQ29udHJvbGxlciA9IHVzZVNuYWNrYmFyQ29udHJvbGxlcigpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbW91bnRlZCA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHVwbG9hZGluZyA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHVwbG9hZCA9IHVzZUNhbGxiYWNrKChmaWxlLCBmaWxlTmFtZSkgPT4ge1xuICAgIGlmICh1cGxvYWRpbmcuY3VycmVudCkgcmV0dXJuO1xuICAgIHVwbG9hZGluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBzZXRFcnJvcih2b2lkIDApO1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc3RvcmFnZVNvdXJjZS51cGxvYWRGaWxlKHtcbiAgICAgIGZpbGUsXG4gICAgICBmaWxlTmFtZSxcbiAgICAgIHBhdGg6IHN0b3JhZ2VQYXRoLFxuICAgICAgbWV0YWRhdGFcbiAgICB9KS50aGVuKGFzeW5jICh7XG4gICAgICBwYXRoXG4gICAgfSkgPT4ge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIlVwbG9hZCBzdWNjZXNzZnVsXCIsIHBhdGgpO1xuICAgICAgYXdhaXQgb25GaWxlVXBsb2FkQ29tcGxldGUocGF0aCwgZW50cnksIG1ldGFkYXRhKTtcbiAgICAgIGlmIChtb3VudGVkLmN1cnJlbnQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oXCJVcGxvYWQgZXJyb3JcIiwgZSk7XG4gICAgICBpZiAobW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgIHNldEVycm9yKGUpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc25hY2tiYXJDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIkVycm9yIHVwbG9hZGluZyBmaWxlOiBcIiArIGUubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIHVwbG9hZGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sIFtlbnRyeSwgbWV0YWRhdGEsIG9uRmlsZVVwbG9hZENvbXBsZXRlLCBzdG9yYWdlU291cmNlLCBzdG9yYWdlUGF0aF0pO1xuICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgaWYgKGVudHJ5LmZpbGUpIHVwbG9hZChlbnRyeS5maWxlLCBlbnRyeS5maWxlTmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtlbnRyeS5maWxlLCBlbnRyeS5maWxlTmFtZSwgdXBsb2FkXSk7XG4gIGlmIChzaW1wbGUpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogYG0tNCB3LSR7aW1hZ2VTaXplfSBoLSR7aW1hZ2VTaXplfWAsIGNoaWxkcmVuOiBsb2FkaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHsgY2xhc3NOYW1lOiBgdy0ke2ltYWdlU2l6ZX0gaC0ke2ltYWdlU2l6ZX1gIH0pIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzKHBhcGVyTWl4aW4sIFwicmVsYXRpdmUgbS00IGJvcmRlci1ib3ggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiwgYG1pbi13LVske2ltYWdlU2l6ZX1weF0gbWluLWgtWyR7aW1hZ2VTaXplfXB4XWApLCBjaGlsZHJlbjogW1xuICAgIGxvYWRpbmcgJiYgLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvbiwgeyBjbGFzc05hbWU6IFwibS00IHctZnVsbCBoLWZ1bGxcIiB9KSxcbiAgICBlcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yVmlldywgeyB0aXRsZTogXCJFcnJvciB1cGxvYWRpbmcgZmlsZVwiLCBlcnJvciB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gRW50aXR5VGFibGVDZWxsQWN0aW9ucyh7XG4gIHNob3dFcnJvcixcbiAgZGlzYWJsZWQsXG4gIHNob3dFeHBhbmRJY29uLFxuICBzZWxlY3RlZCxcbiAgb3BlblBvcHVwLFxuICBjaGlsZHJlblxufSkge1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRvT3BlblBvcHVwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChvcGVuUG9wdXApIHtcbiAgICAgIGNvbnN0IGNlbGxSZWN0ID0gcmVmICYmIHJlZj8uY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBvcGVuUG9wdXAoY2VsbFJlY3QpO1xuICAgIH1cbiAgfSwgW10pO1xuICBjb25zdCBpY29uUmVmID0gdXNlUmVmKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGljb25SZWYuY3VycmVudCAmJiBzZWxlY3RlZCkge1xuICAgICAgaWNvblJlZi5jdXJyZW50LmZvY3VzKHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IChzaG93RXJyb3IgfHwgIWRpc2FibGVkICYmIHNob3dFeHBhbmRJY29uKSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHJlZiwgY2xhc3NOYW1lOiBcImFic29sdXRlIHRvcC0wLjUgcmlnaHQtMC41IGZsZXggaXRlbXMtY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgc2VsZWN0ZWQgJiYgY2hpbGRyZW4sXG4gICAgc2VsZWN0ZWQgJiYgIWRpc2FibGVkICYmIHNob3dFeHBhbmRJY29uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyByZWY6IGljb25SZWYsIGNvbG9yOiBcImluaGVyaXRcIiwgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBkb09wZW5Qb3B1cCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwic3ZnXCIsIHsgZmlsbDogXCIjODg4XCIsIHdpZHRoOiBcIjIwXCIsIGhlaWdodDogXCIyMFwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBjbGFzc05hbWU6IFwiY2xzLTJcIiwgZDogXCJNMjAsNWExLDEsMCwwLDAtMS0xTDE0LDRoMGExLDEsMCwwLDAsMCwyaDIuNTdMMTMuMjksOS4yOWExLDEsMCwwLDAsMCwxLjQyLDEsMSwwLDAsMCwxLjQyLDBMMTgsNy40MlYxMGExLDEsMCwwLDAsMSwxaDBhMSwxLDAsMCwwLDEtMVpcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgY2xhc3NOYW1lOiBcImNscy0yXCIsIGQ6IFwiTTEwLjcxLDEzLjI5YTEsMSwwLDAsMC0xLjQyLDBMNiwxNi41N1YxNGExLDEsMCwwLDAtMS0xSDVhMSwxLDAsMCwwLTEsMWwwLDVhMSwxLDAsMCwwLDEsMWg1YTEsMSwwLDAsMCwwLTJINy40MmwzLjI5LTMuMjlBMSwxLDAsMCwwLDEwLjcxLDEzLjI5WlwiIH0pXG4gICAgXSB9KSB9KSxcbiAgICBzaG93RXJyb3IgJiYgLyogQF9fUFVSRV9fICovIGpzeChFcnJvclRvb2x0aXAsIHsgc2lkZTogXCJsZWZ0XCIsIHRpdGxlOiBzaG93RXJyb3IubWVzc2FnZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiwgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiAzMixcbiAgICAgIGhlaWdodDogMzJcbiAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckljb24sIHsgc2l6ZTogXCJzbWFsbFwiLCBjb2xvcjogXCJlcnJvclwiIH0pIH0pIH0pXG4gIF0gfSkgfSk7XG59XG5jb25zdCBkcm9wWm9uZUNsYXNzZXMkMSA9IFwibWF4LXctZnVsbCBib3gtYm9yZGVyIHJlbGF0aXZlIHB0LVsycHhdIGl0ZW1zLWNlbnRlciBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IG91dGxpbmUtbm9uZSByb3VuZGVkLW1kIGR1cmF0aW9uLTIwMCBlYXNlLVtjdWJpYy1iZXppZXIoMC40LDAsMC4yLDEpXSBmb2N1czpib3JkZXItcHJpbWFyeS1zb2xpZFwiO1xuY29uc3QgYWN0aXZlRHJvcENsYXNzZXMkMSA9IFwicHQtMCBib3JkZXItMiBib3JkZXItc29saWRcIjtcbmNvbnN0IGFjY2VwdERyb3BDbGFzc2VzJDEgPSBcInRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBlYXNlLVtjdWJpYy1iZXppZXIoMCwwLDAuMiwxKV0gYm9yZGVyLTIgYm9yZGVyLXNvbGlkIGJvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAgZGFyazpiZy1ncmVlbi05MDBcIjtcbmNvbnN0IHJlamVjdERyb3BDbGFzc2VzJDEgPSBcInRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBlYXNlLVtjdWJpYy1iZXppZXIoMCwwLDAuMiwxKV0gYm9yZGVyLTIgYm9yZGVyLXNvbGlkIGJvcmRlci1yZWQtNTAwIGJnLXJlZC01MCBkYXJrOmJnLXJlZC05MDBcIjtcbmZ1bmN0aW9uIFRhYmxlU3RvcmFnZVVwbG9hZChwcm9wcykge1xuICBjb25zdCAkID0gYygyNyk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICBlcnJvcixcbiAgICBzZWxlY3RlZCxcbiAgICBvcGVuUG9wdXAsXG4gICAgdmFsdWUsXG4gICAgZGlzYWJsZWQsXG4gICAgcHJvcGVydHksXG4gICAgZW50aXR5LFxuICAgIHBhdGgsXG4gICAgcHJldmlld1NpemUsXG4gICAgdXBkYXRlVmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzdG9yYWdlU291cmNlID0gdXNlU3RvcmFnZVNvdXJjZSgpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSBkaXNhYmxlZCB8fCAkWzFdICE9PSBlbnRpdHkuaWQgfHwgJFsyXSAhPT0gZW50aXR5LnZhbHVlcyB8fCAkWzNdICE9PSBwYXRoIHx8ICRbNF0gIT09IHByb3BlcnR5IHx8ICRbNV0gIT09IHByb3BlcnR5S2V5IHx8ICRbNl0gIT09IHN0b3JhZ2VTb3VyY2UgfHwgJFs3XSAhPT0gdXBkYXRlVmFsdWUgfHwgJFs4XSAhPT0gdmFsdWUpIHtcbiAgICB0MCA9IHtcbiAgICAgIGVudGl0eVZhbHVlczogZW50aXR5LnZhbHVlcyxcbiAgICAgIGVudGl0eUlkOiBlbnRpdHkuaWQsXG4gICAgICBwYXRoLFxuICAgICAgcHJvcGVydHksXG4gICAgICBwcm9wZXJ0eUtleSxcbiAgICAgIHN0b3JhZ2VTb3VyY2UsXG4gICAgICBvbkNoYW5nZTogdXBkYXRlVmFsdWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRpc2FibGVkXG4gICAgfTtcbiAgICAkWzBdID0gZGlzYWJsZWQ7XG4gICAgJFsxXSA9IGVudGl0eS5pZDtcbiAgICAkWzJdID0gZW50aXR5LnZhbHVlcztcbiAgICAkWzNdID0gcGF0aDtcbiAgICAkWzRdID0gcHJvcGVydHk7XG4gICAgJFs1XSA9IHByb3BlcnR5S2V5O1xuICAgICRbNl0gPSBzdG9yYWdlU291cmNlO1xuICAgICRbN10gPSB1cGRhdGVWYWx1ZTtcbiAgICAkWzhdID0gdmFsdWU7XG4gICAgJFs5XSA9IHQwO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFs5XTtcbiAgfVxuICBjb25zdCB7XG4gICAgaW50ZXJuYWxWYWx1ZSxcbiAgICBzZXRJbnRlcm5hbFZhbHVlLFxuICAgIG9uRmlsZXNBZGRlZCxcbiAgICBzdG9yYWdlLFxuICAgIG9uRmlsZVVwbG9hZENvbXBsZXRlLFxuICAgIHN0b3JhZ2VQYXRoQnVpbGRlcixcbiAgICBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkXG4gIH0gPSB1c2VTdG9yYWdlVXBsb2FkQ29udHJvbGxlcih0MCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMTBdICE9PSBkaXNhYmxlZCB8fCAkWzExXSAhPT0gZW50aXR5IHx8ICRbMTJdICE9PSBlcnJvciB8fCAkWzEzXSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzE0XSAhPT0gbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCB8fCAkWzE1XSAhPT0gb25GaWxlVXBsb2FkQ29tcGxldGUgfHwgJFsxNl0gIT09IG9uRmlsZXNBZGRlZCB8fCAkWzE3XSAhPT0gb3BlblBvcHVwIHx8ICRbMThdICE9PSBwcmV2aWV3U2l6ZSB8fCAkWzE5XSAhPT0gcHJvcGVydHkgfHwgJFsyMF0gIT09IHByb3BlcnR5S2V5IHx8ICRbMjFdICE9PSBzZWxlY3RlZCB8fCAkWzIyXSAhPT0gc2V0SW50ZXJuYWxWYWx1ZSB8fCAkWzIzXSAhPT0gc3RvcmFnZSB8fCAkWzI0XSAhPT0gc3RvcmFnZVBhdGhCdWlsZGVyIHx8ICRbMjVdICE9PSB1cGRhdGVWYWx1ZSkge1xuICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChTdG9yYWdlVXBsb2FkJDEsIHsgaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZSwgbmFtZTogcHJvcGVydHlLZXksIGRpc2FibGVkLCBhdXRvRm9jdXM6IGZhbHNlLCBvcGVuUG9wdXAsIGVycm9yLCBzZWxlY3RlZCwgcHJvcGVydHksIG9uQ2hhbmdlOiB1cGRhdGVWYWx1ZSwgZW50aXR5LCBzdG9yYWdlUGF0aEJ1aWxkZXIsIHN0b3JhZ2UsIG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsIG9uRmlsZXNBZGRlZCwgb25GaWxlVXBsb2FkQ29tcGxldGUsIHByZXZpZXdTaXplIH0pO1xuICAgICRbMTBdID0gZGlzYWJsZWQ7XG4gICAgJFsxMV0gPSBlbnRpdHk7XG4gICAgJFsxMl0gPSBlcnJvcjtcbiAgICAkWzEzXSA9IGludGVybmFsVmFsdWU7XG4gICAgJFsxNF0gPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkO1xuICAgICRbMTVdID0gb25GaWxlVXBsb2FkQ29tcGxldGU7XG4gICAgJFsxNl0gPSBvbkZpbGVzQWRkZWQ7XG4gICAgJFsxN10gPSBvcGVuUG9wdXA7XG4gICAgJFsxOF0gPSBwcmV2aWV3U2l6ZTtcbiAgICAkWzE5XSA9IHByb3BlcnR5O1xuICAgICRbMjBdID0gcHJvcGVydHlLZXk7XG4gICAgJFsyMV0gPSBzZWxlY3RlZDtcbiAgICAkWzIyXSA9IHNldEludGVybmFsVmFsdWU7XG4gICAgJFsyM10gPSBzdG9yYWdlO1xuICAgICRbMjRdID0gc3RvcmFnZVBhdGhCdWlsZGVyO1xuICAgICRbMjVdID0gdXBkYXRlVmFsdWU7XG4gICAgJFsyNl0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMjZdO1xuICB9XG4gIHJldHVybiB0MTtcbn1cbmZ1bmN0aW9uIFN0b3JhZ2VVcGxvYWQkMSh0MCkge1xuICBjb25zdCAkID0gYyg2NCk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eSxcbiAgICBpbnRlcm5hbFZhbHVlLFxuICAgIG9wZW5Qb3B1cCxcbiAgICBlbnRpdHksXG4gICAgc2VsZWN0ZWQsXG4gICAgZXJyb3IsXG4gICAgbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCxcbiAgICBwcmV2aWV3U2l6ZTogcHJldmlld1NpemVJbnB1dCxcbiAgICBkaXNhYmxlZCxcbiAgICBhdXRvRm9jdXMsXG4gICAgc3RvcmFnZSxcbiAgICBvbkZpbGVzQWRkZWQsXG4gICAgb25GaWxlVXBsb2FkQ29tcGxldGUsXG4gICAgc3RvcmFnZVBhdGhCdWlsZGVyXG4gIH0gPSB0MDtcbiAgY29uc3QgcHJldmlld1NpemUgPSBwcmV2aWV3U2l6ZUlucHV0O1xuICBpZiAobXVsdGlwbGVGaWxlc1N1cHBvcnRlZCkge1xuICAgIGNvbnN0IGFycmF5UHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVByb3BlcnR5Lm9mKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJVc2luZyBhcnJheSBwcm9wZXJ0aWVzIGluc3RlYWQgb2Ygc2luZ2xlIG9uZSBpbiBgb2ZgIGluIEFycmF5UHJvcGVydHlcIik7XG4gICAgfVxuICAgIGlmIChhcnJheVByb3BlcnR5Lm9mKSB7XG4gICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZi5kYXRhVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlN0b3JhZ2UgZmllbGQgdXNpbmcgYXJyYXkgbXVzdCBiZSBvZiBkYXRhIHR5cGUgc3RyaW5nXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlN0b3JhZ2UgZmllbGQgdXNpbmcgYXJyYXkgbXVzdCBiZSBvZiBkYXRhIHR5cGUgc3RyaW5nXCIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBtZXRhZGF0YSA9IHN0b3JhZ2U/Lm1ldGFkYXRhO1xuICBjb25zdCBoYXNWYWx1ZSA9IEJvb2xlYW4oaW50ZXJuYWxWYWx1ZSk7XG4gIGNvbnN0IHNuYWNrYmFyQ29udGV4dCA9IHVzZVNuYWNrYmFyQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBzdG9yYWdlLmFjY2VwdGVkRmlsZXMpIHtcbiAgICB0MSA9IHN0b3JhZ2UuYWNjZXB0ZWRGaWxlcyA/IHN0b3JhZ2UuYWNjZXB0ZWRGaWxlcy5tYXAoX3RlbXAkaykucmVkdWNlKF90ZW1wMiRhLCB7fSkgOiB2b2lkIDA7XG4gICAgJFswXSA9IHN0b3JhZ2UuYWNjZXB0ZWRGaWxlcztcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gIT09IHNuYWNrYmFyQ29udGV4dCB8fCAkWzNdICE9PSBzdG9yYWdlLm1heFNpemUpIHtcbiAgICB0MiA9IChmaWxlUmVqZWN0aW9ucywgZXZlbnQpID0+IHtcbiAgICAgIGZvciAoY29uc3QgZmlsZVJlamVjdGlvbiBvZiBmaWxlUmVqZWN0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IGVycm9yXzAgb2YgZmlsZVJlamVjdGlvbi5lcnJvcnMpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IFwiLCBlcnJvcl8wKTtcbiAgICAgICAgICBpZiAoZXJyb3JfMC5jb2RlID09PSBcImZpbGUtdG9vLWxhcmdlXCIpIHtcbiAgICAgICAgICAgIHNuYWNrYmFyQ29udGV4dC5vcGVuKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBgRXJyb3IgdXBsb2FkaW5nIGZpbGU6IEZpbGUgaXMgbGFyZ2VyIHRoYW4gJHtzdG9yYWdlLm1heFNpemV9IGJ5dGVzYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlcnJvcl8wLmNvZGUgPT09IFwiZmlsZS1pbnZhbGlkLXR5cGVcIikge1xuICAgICAgICAgICAgICBzbmFja2JhckNvbnRleHQub3Blbih7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IEZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzJdID0gc25hY2tiYXJDb250ZXh0O1xuICAgICRbM10gPSBzdG9yYWdlLm1heFNpemU7XG4gICAgJFs0XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs0XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzVdICE9PSBkaXNhYmxlZCB8fCAkWzZdICE9PSBvbkZpbGVzQWRkZWQgfHwgJFs3XSAhPT0gc3RvcmFnZS5tYXhTaXplIHx8ICRbOF0gIT09IHQxIHx8ICRbOV0gIT09IHQyKSB7XG4gICAgdDMgPSB7XG4gICAgICBhY2NlcHQ6IHQxLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBtYXhTaXplOiBzdG9yYWdlLm1heFNpemUsXG4gICAgICBub0NsaWNrOiB0cnVlLFxuICAgICAgbm9LZXlib2FyZDogdHJ1ZSxcbiAgICAgIG9uRHJvcDogb25GaWxlc0FkZGVkLFxuICAgICAgb25Ecm9wUmVqZWN0ZWQ6IHQyXG4gICAgfTtcbiAgICAkWzVdID0gZGlzYWJsZWQ7XG4gICAgJFs2XSA9IG9uRmlsZXNBZGRlZDtcbiAgICAkWzddID0gc3RvcmFnZS5tYXhTaXplO1xuICAgICRbOF0gPSB0MTtcbiAgICAkWzldID0gdDI7XG4gICAgJFsxMF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTBdO1xuICB9XG4gIGNvbnN0IHtcbiAgICBvcGVuLFxuICAgIGdldFJvb3RQcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzLFxuICAgIGlzRHJhZ0FjdGl2ZSxcbiAgICBpc0RyYWdBY2NlcHQsXG4gICAgaXNEcmFnUmVqZWN0XG4gIH0gPSB1c2VEcm9wem9uZSh0Myk7XG4gIGxldCB0NDtcbiAgaWYgKCRbMTFdICE9PSBnZXRSb290UHJvcHMpIHtcbiAgICB0NCA9IGdldFJvb3RQcm9wcygpO1xuICAgICRbMTFdID0gZ2V0Um9vdFByb3BzO1xuICAgICRbMTJdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEyXTtcbiAgfVxuICBsZXQgcm9vdFByb3BzO1xuICBpZiAoJFsxM10gIT09IHQ0KSB7XG4gICAgKHtcbiAgICAgIC4uLnJvb3RQcm9wc1xuICAgIH0gPSB0NCk7XG4gICAgJFsxM10gPSB0NDtcbiAgICAkWzE0XSA9IHJvb3RQcm9wcztcbiAgfSBlbHNlIHtcbiAgICByb290UHJvcHMgPSAkWzE0XTtcbiAgfVxuICBjb25zdCBoZWxwVGV4dCA9IG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQgPyBcIkRyYWcgJ24nIGRyb3Agc29tZSBmaWxlcyBoZXJlLCBvciBjbGljayBoZXJlIHRvIGVkaXRcIiA6IFwiRHJhZyAnbicgZHJvcCBhIGZpbGUgaGVyZSwgb3IgY2xpY2sgaGVyZSBlZGl0XCI7XG4gIGNvbnN0IHJlbmRlclByb3BlcnR5ID0gbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCA/IHByb3BlcnR5Lm9mIDogcHJvcGVydHk7XG4gIGxldCB0NTtcbiAgbGV0IHQ2O1xuICBpZiAoJFsxNV0gIT09IHByZXZpZXdTaXplKSB7XG4gICAgdDYgPSBnZXRUaHVtYm5haWxNZWFzdXJlKHByZXZpZXdTaXplKTtcbiAgICAkWzE1XSA9IHByZXZpZXdTaXplO1xuICAgICRbMTZdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE2XTtcbiAgfVxuICB0NSA9IHQ2O1xuICBjb25zdCBpbWFnZVNpemUgPSB0NTtcbiAgY29uc3Qgc2hvd0Vycm9yID0gIWRpc2FibGVkICYmIGVycm9yO1xuICBjb25zdCB0NyA9IGBqdXN0aWZ5LSR7aGFzVmFsdWUgPyBcInN0YXJ0XCIgOiBcImNlbnRlclwifWA7XG4gIGNvbnN0IHQ4ID0gaXNEcmFnQWN0aXZlID8gYWN0aXZlRHJvcENsYXNzZXMkMSA6IFwiXCI7XG4gIGNvbnN0IHQ5ID0gaXNEcmFnQWNjZXB0ID8gYWNjZXB0RHJvcENsYXNzZXMkMSA6IFwiXCI7XG4gIGNvbnN0IHQxMCA9IGlzRHJhZ1JlamVjdCA/IHJlamVjdERyb3BDbGFzc2VzJDEgOiBcIlwiO1xuICBsZXQgdDExO1xuICBpZiAoJFsxN10gIT09IHQxMCB8fCAkWzE4XSAhPT0gdDcgfHwgJFsxOV0gIT09IHQ4IHx8ICRbMjBdICE9PSB0OSkge1xuICAgIHQxMSA9IGNscyhkcm9wWm9uZUNsYXNzZXMkMSwgXCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIGZsZXhcIiwgdDcsIHQ4LCB0OSwgdDEwKTtcbiAgICAkWzE3XSA9IHQxMDtcbiAgICAkWzE4XSA9IHQ3O1xuICAgICRbMTldID0gdDg7XG4gICAgJFsyMF0gPSB0OTtcbiAgICAkWzIxXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzIxXTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFsyMl0gIT09IGdldElucHV0UHJvcHMpIHtcbiAgICB0MTIgPSBnZXRJbnB1dFByb3BzKCk7XG4gICAgJFsyMl0gPSBnZXRJbnB1dFByb3BzO1xuICAgICRbMjNdID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMjNdO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzI0XSAhPT0gYXV0b0ZvY3VzIHx8ICRbMjVdICE9PSB0MTIpIHtcbiAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiaW5wdXRcIiwgeyBhdXRvRm9jdXMsIC4uLnQxMiB9KTtcbiAgICAkWzI0XSA9IGF1dG9Gb2N1cztcbiAgICAkWzI1XSA9IHQxMjtcbiAgICAkWzI2XSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzI2XTtcbiAgfVxuICBsZXQgdDE0O1xuICBpZiAoJFsyN10gIT09IGVudGl0eSB8fCAkWzI4XSAhPT0gaW1hZ2VTaXplIHx8ICRbMjldICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbMzBdICE9PSBtZXRhZGF0YSB8fCAkWzMxXSAhPT0gb25GaWxlVXBsb2FkQ29tcGxldGUgfHwgJFszMl0gIT09IHByZXZpZXdTaXplIHx8ICRbMzNdICE9PSByZW5kZXJQcm9wZXJ0eSB8fCAkWzM0XSAhPT0gc3RvcmFnZVBhdGhCdWlsZGVyKSB7XG4gICAgbGV0IHQxNTI7XG4gICAgaWYgKCRbMzZdICE9PSBlbnRpdHkgfHwgJFszN10gIT09IGltYWdlU2l6ZSB8fCAkWzM4XSAhPT0gbWV0YWRhdGEgfHwgJFszOV0gIT09IG9uRmlsZVVwbG9hZENvbXBsZXRlIHx8ICRbNDBdICE9PSBwcmV2aWV3U2l6ZSB8fCAkWzQxXSAhPT0gcmVuZGVyUHJvcGVydHkgfHwgJFs0Ml0gIT09IHN0b3JhZ2VQYXRoQnVpbGRlcikge1xuICAgICAgdDE1MiA9IChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICBpZiAoZW50cnkuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKSB7XG4gICAgICAgICAgY2hpbGQgPSAvKiBAX19QVVJFX18gKi8ganN4KFRhYmxlU3RvcmFnZUl0ZW1QcmV2aWV3LCB7IHByb3BlcnR5OiByZW5kZXJQcm9wZXJ0eSwgdmFsdWU6IGVudHJ5LnN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCwgZW50aXR5LCBzaXplOiBwcmV2aWV3U2l6ZSB9LCBgc3RvcmFnZV9wcmV2aWV3XyR7aW5kZXh9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmZpbGUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gLyogQF9fUFVSRV9fICovIGpzeChTdG9yYWdlVXBsb2FkUHJvZ3Jlc3MsIHsgZW50cnksIG1ldGFkYXRhLCBzdG9yYWdlUGF0aDogc3RvcmFnZVBhdGhCdWlsZGVyKGVudHJ5LmZpbGUpLCBvbkZpbGVVcGxvYWRDb21wbGV0ZSwgaW1hZ2VTaXplLCBzaW1wbGU6IHRydWUgfSwgYHN0b3JhZ2VfcHJvZ3Jlc3NfJHtpbmRleH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfTtcbiAgICAgICRbMzZdID0gZW50aXR5O1xuICAgICAgJFszN10gPSBpbWFnZVNpemU7XG4gICAgICAkWzM4XSA9IG1ldGFkYXRhO1xuICAgICAgJFszOV0gPSBvbkZpbGVVcGxvYWRDb21wbGV0ZTtcbiAgICAgICRbNDBdID0gcHJldmlld1NpemU7XG4gICAgICAkWzQxXSA9IHJlbmRlclByb3BlcnR5O1xuICAgICAgJFs0Ml0gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgICAkWzQzXSA9IHQxNTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxNTIgPSAkWzQzXTtcbiAgICB9XG4gICAgdDE0ID0gaW50ZXJuYWxWYWx1ZS5tYXAodDE1Mik7XG4gICAgJFsyN10gPSBlbnRpdHk7XG4gICAgJFsyOF0gPSBpbWFnZVNpemU7XG4gICAgJFsyOV0gPSBpbnRlcm5hbFZhbHVlO1xuICAgICRbMzBdID0gbWV0YWRhdGE7XG4gICAgJFszMV0gPSBvbkZpbGVVcGxvYWRDb21wbGV0ZTtcbiAgICAkWzMyXSA9IHByZXZpZXdTaXplO1xuICAgICRbMzNdID0gcmVuZGVyUHJvcGVydHk7XG4gICAgJFszNF0gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgJFszNV0gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFszNV07XG4gIH1cbiAgbGV0IHQxNTtcbiAgaWYgKCRbNDRdICE9PSBoZWxwVGV4dCB8fCAkWzQ1XSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzQ2XSAhPT0gb3Blbikge1xuICAgIHQxNSA9ICFpbnRlcm5hbFZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93IG0tMiBtYXgtdy1bMjAwcHhdXCIsIG9uQ2xpY2s6IG9wZW4sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgY2xhc3NOYW1lOiBcInRleHQtc3VyZmFjZS00MDAgZGFyazp0ZXh0LXN1cmZhY2UtNjAwXCIsIHZhcmlhbnQ6IFwiYm9keTJcIiwgYWxpZ246IFwiY2VudGVyXCIsIGNoaWxkcmVuOiBoZWxwVGV4dCB9KSB9KTtcbiAgICAkWzQ0XSA9IGhlbHBUZXh0O1xuICAgICRbNDVdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzQ2XSA9IG9wZW47XG4gICAgJFs0N10gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFs0N107XG4gIH1cbiAgY29uc3QgdDE2ID0gIWRpc2FibGVkID8gb3BlblBvcHVwIDogdm9pZCAwO1xuICBsZXQgdDE3O1xuICBpZiAoJFs0OF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDE3ID0gLyogQF9fUFVSRV9fICovIGpzeChFZGl0SWNvbiwgeyBzaXplOiBcInNtYWxsXCIsIGNsYXNzTmFtZTogXCJ0ZXh0LXN1cmZhY2UtNTAwXCIgfSk7XG4gICAgJFs0OF0gPSB0MTc7XG4gIH0gZWxzZSB7XG4gICAgdDE3ID0gJFs0OF07XG4gIH1cbiAgbGV0IHQxODtcbiAgaWYgKCRbNDldICE9PSBvcGVuKSB7XG4gICAgdDE4ID0gLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNvbG9yOiBcImluaGVyaXRcIiwgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBvcGVuLCBjaGlsZHJlbjogdDE3IH0pO1xuICAgICRbNDldID0gb3BlbjtcbiAgICAkWzUwXSA9IHQxODtcbiAgfSBlbHNlIHtcbiAgICB0MTggPSAkWzUwXTtcbiAgfVxuICBsZXQgdDE5O1xuICBpZiAoJFs1MV0gIT09IGRpc2FibGVkIHx8ICRbNTJdICE9PSBzZWxlY3RlZCB8fCAkWzUzXSAhPT0gc2hvd0Vycm9yIHx8ICRbNTRdICE9PSB0MTYgfHwgJFs1NV0gIT09IHQxOCkge1xuICAgIHQxOSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5VGFibGVDZWxsQWN0aW9ucywgeyBzaG93RXJyb3IsIGRpc2FibGVkLCBzaG93RXhwYW5kSWNvbjogdHJ1ZSwgc2VsZWN0ZWQsIG9wZW5Qb3B1cDogdDE2LCBjaGlsZHJlbjogdDE4IH0pO1xuICAgICRbNTFdID0gZGlzYWJsZWQ7XG4gICAgJFs1Ml0gPSBzZWxlY3RlZDtcbiAgICAkWzUzXSA9IHNob3dFcnJvcjtcbiAgICAkWzU0XSA9IHQxNjtcbiAgICAkWzU1XSA9IHQxODtcbiAgICAkWzU2XSA9IHQxOTtcbiAgfSBlbHNlIHtcbiAgICB0MTkgPSAkWzU2XTtcbiAgfVxuICBsZXQgdDIwO1xuICBpZiAoJFs1N10gIT09IHJvb3RQcm9wcyB8fCAkWzU4XSAhPT0gdDExIHx8ICRbNTldICE9PSB0MTMgfHwgJFs2MF0gIT09IHQxNCB8fCAkWzYxXSAhPT0gdDE1IHx8ICRbNjJdICE9PSB0MTkpIHtcbiAgICB0MjAgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IC4uLnJvb3RQcm9wcywgY2xhc3NOYW1lOiB0MTEsIGNoaWxkcmVuOiBbXG4gICAgICB0MTMsXG4gICAgICB0MTQsXG4gICAgICB0MTUsXG4gICAgICB0MTlcbiAgICBdIH0pO1xuICAgICRbNTddID0gcm9vdFByb3BzO1xuICAgICRbNThdID0gdDExO1xuICAgICRbNTldID0gdDEzO1xuICAgICRbNjBdID0gdDE0O1xuICAgICRbNjFdID0gdDE1O1xuICAgICRbNjJdID0gdDE5O1xuICAgICRbNjNdID0gdDIwO1xuICB9IGVsc2Uge1xuICAgIHQyMCA9ICRbNjNdO1xuICB9XG4gIHJldHVybiB0MjA7XG59XG5mdW5jdGlvbiBfdGVtcDIkYShhLCBiKSB7XG4gIHJldHVybiB7XG4gICAgLi4uYSxcbiAgICAuLi5iXG4gIH07XG59XG5mdW5jdGlvbiBfdGVtcCRrKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBbZV06IFtdXG4gIH07XG59XG5mdW5jdGlvbiBUYWJsZVN0b3JhZ2VJdGVtUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYyg2KTtcbiAgY29uc3Qge1xuICAgIHByb3BlcnR5LFxuICAgIHZhbHVlLFxuICAgIHNpemVcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBwcm9wZXJ0eSB8fCAkWzFdICE9PSBzaXplIHx8ICRbMl0gIT09IHZhbHVlKSB7XG4gICAgdDEgPSB2YWx1ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlQcmV2aWV3LCB7IHByb3BlcnR5S2V5OiBcImlnbm9yZVwiLCB2YWx1ZSwgcHJvcGVydHksIHNpemUgfSkgfSk7XG4gICAgJFswXSA9IHByb3BlcnR5O1xuICAgICRbMV0gPSBzaXplO1xuICAgICRbMl0gPSB2YWx1ZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IHQxKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlbGF0aXZlIHAtMiBtYXgtdy1mdWxsXCIsIGNoaWxkcmVuOiB0MSB9KTtcbiAgICAkWzRdID0gdDE7XG4gICAgJFs1XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs1XTtcbiAgfVxuICByZXR1cm4gdDI7XG59XG5mdW5jdGlvbiBUYWJsZVJlZmVyZW5jZUZpZWxkKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDkpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IG5hdmlnYXRpb25Db250cm9sbGVyID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3Qge1xuICAgIHBhdGhcbiAgfSA9IHByb3BzO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSBuYXZpZ2F0aW9uQ29udHJvbGxlciB8fCAkWzFdICE9PSBwYXRoKSB7XG4gICAgdDAgPSBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uKHBhdGgpO1xuICAgICRbMF0gPSBuYXZpZ2F0aW9uQ29udHJvbGxlcjtcbiAgICAkWzFdID0gcGF0aDtcbiAgICAkWzJdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzJdO1xuICB9XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSB0MDtcbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgaWYgKGN1c3RvbWl6YXRpb25Db250cm9sbGVyLmNvbXBvbmVudHM/Lm1pc3NpbmdSZWZlcmVuY2UpIHtcbiAgICAgIGxldCB0MTI7XG4gICAgICBpZiAoJFszXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIuY29tcG9uZW50cy5taXNzaW5nUmVmZXJlbmNlIHx8ICRbNF0gIT09IHBhdGgpIHtcbiAgICAgICAgdDEyID0gLyogQF9fUFVSRV9fICovIGpzeChjdXN0b21pemF0aW9uQ29udHJvbGxlci5jb21wb25lbnRzLm1pc3NpbmdSZWZlcmVuY2UsIHsgcGF0aCB9KTtcbiAgICAgICAgJFszXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLmNvbXBvbmVudHMubWlzc2luZ1JlZmVyZW5jZTtcbiAgICAgICAgJFs0XSA9IHBhdGg7XG4gICAgICAgICRbNV0gPSB0MTI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MTIgPSAkWzVdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoYENvdWxkbid0IGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgY29sbGVjdGlvbiB2aWV3IGZvciB0aGUgcGF0aDogJHtwYXRofWApO1xuICAgIH1cbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzZdICE9PSBjb2xsZWN0aW9uIHx8ICRbN10gIT09IHByb3BzKSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KFRhYmxlUmVmZXJlbmNlRmllbGRJbnRlcm5hbCwgeyAuLi5wcm9wcywgY29sbGVjdGlvbiB9KTtcbiAgICAkWzZdID0gY29sbGVjdGlvbjtcbiAgICAkWzddID0gcHJvcHM7XG4gICAgJFs4XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs4XTtcbiAgfVxuICByZXR1cm4gdDE7XG59XG5jb25zdCBUYWJsZVJlZmVyZW5jZUZpZWxkSW50ZXJuYWwgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIFRhYmxlUmVmZXJlbmNlRmllbGRJbnRlcm5hbDIocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoNTQpO1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICBpbnRlcm5hbFZhbHVlLFxuICAgIHVwZGF0ZVZhbHVlLFxuICAgIG11bHRpc2VsZWN0LFxuICAgIHBhdGgsXG4gICAgc2l6ZSxcbiAgICBwcmV2aWV3UHJvcGVydGllcyxcbiAgICB0aXRsZSxcbiAgICBkaXNhYmxlZCxcbiAgICBmb3JjZUZpbHRlcixcbiAgICBjb2xsZWN0aW9uLFxuICAgIGluY2x1ZGVJZCxcbiAgICBpbmNsdWRlRW50aXR5TGlua1xuICB9ID0gcHJvcHM7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gIT09IHVwZGF0ZVZhbHVlKSB7XG4gICAgdDAgPSAoZW50aXR5KSA9PiB7XG4gICAgICB1cGRhdGVWYWx1ZShlbnRpdHkgPyBnZXRSZWZlcmVuY2VGcm9tKGVudGl0eSkgOiBudWxsKTtcbiAgICB9O1xuICAgICRbMF0gPSB1cGRhdGVWYWx1ZTtcbiAgICAkWzFdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzFdO1xuICB9XG4gIGNvbnN0IG9uU2luZ2xlRW50aXR5U2VsZWN0ZWQgPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFsyXSAhPT0gdXBkYXRlVmFsdWUpIHtcbiAgICB0MSA9IChlbnRpdGllcykgPT4ge1xuICAgICAgdXBkYXRlVmFsdWUoZW50aXRpZXMubWFwKF90ZW1wJGopKTtcbiAgICB9O1xuICAgICRbMl0gPSB1cGRhdGVWYWx1ZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGNvbnN0IG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkID0gdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IGludGVybmFsVmFsdWUpIHtcbiAgICB0MiA9IGludGVybmFsVmFsdWUgPyBBcnJheS5pc0FycmF5KGludGVybmFsVmFsdWUpID8gaW50ZXJuYWxWYWx1ZS5tYXAoX3RlbXAyJDkpIDogaW50ZXJuYWxWYWx1ZS5pZCA/IFtpbnRlcm5hbFZhbHVlLmlkXSA6IFtdIDogW107XG4gICAgJFs0XSA9IGludGVybmFsVmFsdWU7XG4gICAgJFs1XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs1XTtcbiAgfVxuICBjb25zdCBzZWxlY3RlZEVudGl0eUlkcyA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzZdICE9PSBjb2xsZWN0aW9uIHx8ICRbN10gIT09IGZvcmNlRmlsdGVyIHx8ICRbOF0gIT09IG11bHRpc2VsZWN0IHx8ICRbOV0gIT09IG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkIHx8ICRbMTBdICE9PSBvblNpbmdsZUVudGl0eVNlbGVjdGVkIHx8ICRbMTFdICE9PSBwYXRoIHx8ICRbMTJdICE9PSBzZWxlY3RlZEVudGl0eUlkcykge1xuICAgIHQzID0ge1xuICAgICAgbXVsdGlzZWxlY3QsXG4gICAgICBwYXRoLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkLFxuICAgICAgb25TaW5nbGVFbnRpdHlTZWxlY3RlZCxcbiAgICAgIHNlbGVjdGVkRW50aXR5SWRzLFxuICAgICAgZm9yY2VGaWx0ZXJcbiAgICB9O1xuICAgICRbNl0gPSBjb2xsZWN0aW9uO1xuICAgICRbN10gPSBmb3JjZUZpbHRlcjtcbiAgICAkWzhdID0gbXVsdGlzZWxlY3Q7XG4gICAgJFs5XSA9IG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkO1xuICAgICRbMTBdID0gb25TaW5nbGVFbnRpdHlTZWxlY3RlZDtcbiAgICAkWzExXSA9IHBhdGg7XG4gICAgJFsxMl0gPSBzZWxlY3RlZEVudGl0eUlkcztcbiAgICAkWzEzXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxM107XG4gIH1cbiAgY29uc3QgcmVmZXJlbmNlRGlhbG9nQ29udHJvbGxlciA9IHVzZVJlZmVyZW5jZURpYWxvZyh0Myk7XG4gIGxldCB0NDtcbiAgaWYgKCRbMTRdICE9PSBkaXNhYmxlZCB8fCAkWzE1XSAhPT0gcmVmZXJlbmNlRGlhbG9nQ29udHJvbGxlcikge1xuICAgIHQ0ID0gKCkgPT4ge1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZmVyZW5jZURpYWxvZ0NvbnRyb2xsZXIub3BlbigpO1xuICAgIH07XG4gICAgJFsxNF0gPSBkaXNhYmxlZDtcbiAgICAkWzE1XSA9IHJlZmVyZW5jZURpYWxvZ0NvbnRyb2xsZXI7XG4gICAgJFsxNl0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMTZdO1xuICB9XG4gIGNvbnN0IGhhbmRsZU9wZW4gPSB0NDtcbiAgY29uc3QgdmFsdWVOb3RTZXQgPSAhaW50ZXJuYWxWYWx1ZSB8fCBBcnJheS5pc0FycmF5KGludGVybmFsVmFsdWUpICYmIGludGVybmFsVmFsdWUubGVuZ3RoID09PSAwO1xuICBsZXQgdDU7XG4gIGlmICgkWzE3XSAhPT0gZGlzYWJsZWQgfHwgJFsxOF0gIT09IGhhbmRsZU9wZW4gfHwgJFsxOV0gIT09IGluY2x1ZGVFbnRpdHlMaW5rIHx8ICRbMjBdICE9PSBpbmNsdWRlSWQgfHwgJFsyMV0gIT09IGludGVybmFsVmFsdWUgfHwgJFsyMl0gIT09IHBhdGggfHwgJFsyM10gIT09IHByZXZpZXdQcm9wZXJ0aWVzIHx8ICRbMjRdICE9PSBzaXplKSB7XG4gICAgdDUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJuYWxWYWx1ZSAmJiAhQXJyYXkuaXNBcnJheShpbnRlcm5hbFZhbHVlKSAmJiBpbnRlcm5hbFZhbHVlLmlzRW50aXR5UmVmZXJlbmNlICYmIGludGVybmFsVmFsdWUuaXNFbnRpdHlSZWZlcmVuY2UoKSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSZWZlcmVuY2VQcmV2aWV3LCB7IG9uQ2xpY2s6IGRpc2FibGVkID8gdm9pZCAwIDogaGFuZGxlT3Blbiwgc2l6ZTogZ2V0UHJldmlld1NpemVGcm9tKHNpemUpLCByZWZlcmVuY2U6IGludGVybmFsVmFsdWUsIGhvdmVyOiAhZGlzYWJsZWQsIGRpc2FibGVkOiAhcGF0aCwgcHJldmlld1Byb3BlcnRpZXMsIGluY2x1ZGVJZCwgaW5jbHVkZUVudGl0eUxpbmsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlQcmV2aWV3Q29udGFpbmVyLCB7IG9uQ2xpY2s6IGRpc2FibGVkID8gdm9pZCAwIDogaGFuZGxlT3Blbiwgc2l6ZTogZ2V0UHJldmlld1NpemVGcm9tKHNpemUpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgdGl0bGU6IFwiVmFsdWUgaXMgbm90IGEgcmVmZXJlbmNlLlwiLCBlcnJvcjogXCJDbGljayB0byBlZGl0XCIgfSkgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzE3XSA9IGRpc2FibGVkO1xuICAgICRbMThdID0gaGFuZGxlT3BlbjtcbiAgICAkWzE5XSA9IGluY2x1ZGVFbnRpdHlMaW5rO1xuICAgICRbMjBdID0gaW5jbHVkZUlkO1xuICAgICRbMjFdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzIyXSA9IHBhdGg7XG4gICAgJFsyM10gPSBwcmV2aWV3UHJvcGVydGllcztcbiAgICAkWzI0XSA9IHNpemU7XG4gICAgJFsyNV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMjVdO1xuICB9XG4gIGNvbnN0IGJ1aWxkU2luZ2xlUmVmZXJlbmNlRmllbGQgPSB0NTtcbiAgbGV0IHQ2O1xuICBpZiAoJFsyNl0gIT09IGRpc2FibGVkIHx8ICRbMjddICE9PSBoYW5kbGVPcGVuIHx8ICRbMjhdICE9PSBpbmNsdWRlRW50aXR5TGluayB8fCAkWzI5XSAhPT0gaW5jbHVkZUlkIHx8ICRbMzBdICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbMzFdICE9PSBuYW1lIHx8ICRbMzJdICE9PSBwYXRoIHx8ICRbMzNdICE9PSBwcmV2aWV3UHJvcGVydGllcykge1xuICAgIHQ2ID0gKCkgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGludGVybmFsVmFsdWUubWFwKChyZWZlcmVuY2UsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbCBteS0wLjVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlldywgeyBvbkNsaWNrOiBkaXNhYmxlZCA/IHZvaWQgMCA6IGhhbmRsZU9wZW4sIHNpemU6IFwic21hbGxcIiwgcmVmZXJlbmNlLCBob3ZlcjogIWRpc2FibGVkLCBkaXNhYmxlZDogIXBhdGgsIHByZXZpZXdQcm9wZXJ0aWVzLCBpbmNsdWRlSWQsIGluY2x1ZGVFbnRpdHlMaW5rIH0pIH0sIGBwcmV2aWV3X2FycmF5X3JlZl8ke25hbWV9XyR7aW5kZXh9YCkpIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JWaWV3LCB7IGVycm9yOiBcIkRhdGEgaXMgbm90IGFuIGFycmF5IG9mIHJlZmVyZW5jZXNcIiB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRbMjZdID0gZGlzYWJsZWQ7XG4gICAgJFsyN10gPSBoYW5kbGVPcGVuO1xuICAgICRbMjhdID0gaW5jbHVkZUVudGl0eUxpbms7XG4gICAgJFsyOV0gPSBpbmNsdWRlSWQ7XG4gICAgJFszMF0gPSBpbnRlcm5hbFZhbHVlO1xuICAgICRbMzFdID0gbmFtZTtcbiAgICAkWzMyXSA9IHBhdGg7XG4gICAgJFszM10gPSBwcmV2aWV3UHJvcGVydGllcztcbiAgICAkWzM0XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFszNF07XG4gIH1cbiAgY29uc3QgYnVpbGRNdWx0aXBsZVJlZmVyZW5jZUZpZWxkID0gdDY7XG4gIGlmICghY29sbGVjdGlvbikge1xuICAgIGxldCB0NzI7XG4gICAgaWYgKCRbMzVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDcyID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiVGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGRvZXMgbm90IGV4aXN0XCIgfSk7XG4gICAgICAkWzM1XSA9IHQ3MjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDcyID0gJFszNV07XG4gICAgfVxuICAgIHJldHVybiB0NzI7XG4gIH1cbiAgbGV0IHQ3O1xuICBpZiAoJFszNl0gIT09IGJ1aWxkU2luZ2xlUmVmZXJlbmNlRmllbGQgfHwgJFszN10gIT09IGludGVybmFsVmFsdWUgfHwgJFszOF0gIT09IG11bHRpc2VsZWN0KSB7XG4gICAgdDcgPSBpbnRlcm5hbFZhbHVlICYmICFtdWx0aXNlbGVjdCAmJiBidWlsZFNpbmdsZVJlZmVyZW5jZUZpZWxkKCk7XG4gICAgJFszNl0gPSBidWlsZFNpbmdsZVJlZmVyZW5jZUZpZWxkO1xuICAgICRbMzddID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzM4XSA9IG11bHRpc2VsZWN0O1xuICAgICRbMzldID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzM5XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzQwXSAhPT0gYnVpbGRNdWx0aXBsZVJlZmVyZW5jZUZpZWxkIHx8ICRbNDFdICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbNDJdICE9PSBtdWx0aXNlbGVjdCkge1xuICAgIHQ4ID0gaW50ZXJuYWxWYWx1ZSAmJiBtdWx0aXNlbGVjdCAmJiBidWlsZE11bHRpcGxlUmVmZXJlbmNlRmllbGQoKTtcbiAgICAkWzQwXSA9IGJ1aWxkTXVsdGlwbGVSZWZlcmVuY2VGaWVsZDtcbiAgICAkWzQxXSA9IGludGVybmFsVmFsdWU7XG4gICAgJFs0Ml0gPSBtdWx0aXNlbGVjdDtcbiAgICAkWzQzXSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFs0M107XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFs0NF0gIT09IGRpc2FibGVkIHx8ICRbNDVdICE9PSBoYW5kbGVPcGVuIHx8ICRbNDZdICE9PSBtdWx0aXNlbGVjdCB8fCAkWzQ3XSAhPT0gdGl0bGUgfHwgJFs0OF0gIT09IHZhbHVlTm90U2V0KSB7XG4gICAgdDkgPSB2YWx1ZU5vdFNldCAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhFbnRpdHlQcmV2aWV3Q29udGFpbmVyLCB7IGNsYXNzTmFtZTogY2xzKFwicHgtMyBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXJcIiwgbXVsdGlzZWxlY3QgPyBcImdhcC00XCIgOiBcImdhcC02XCIsIGRpc2FibGVkID8gXCJ0ZXh0LXN1cmZhY2UtYWNjZW50LTUwMFwiIDogXCJjdXJzb3ItcG9pbnRlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrIGhvdmVyOmJnLXN1cmZhY2UtYWNjZW50LTUwIGRhcms6aG92ZXI6Ymctc3VyZmFjZS04MDAgZ3JvdXAtaG92ZXI6Ymctc3VyZmFjZS1hY2NlbnQtNTAgZGFyazpncm91cC1ob3ZlcjpiZy1zdXJmYWNlLTgwMFwiKSwgb25DbGljazogaGFuZGxlT3Blbiwgc2l6ZTogXCJtZWRpdW1cIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRWRpdEljb24sIHsgc2l6ZTogXCJzbWFsbFwiLCBjbGFzc05hbWU6IFwibWwtMiBtci0xIHRleHQtc3VyZmFjZS0zMDAgZGFyazp0ZXh0LXN1cmZhY2UtNjAwXCIgfSksXG4gICAgICB0aXRsZVxuICAgIF0gfSk7XG4gICAgJFs0NF0gPSBkaXNhYmxlZDtcbiAgICAkWzQ1XSA9IGhhbmRsZU9wZW47XG4gICAgJFs0Nl0gPSBtdWx0aXNlbGVjdDtcbiAgICAkWzQ3XSA9IHRpdGxlO1xuICAgICRbNDhdID0gdmFsdWVOb3RTZXQ7XG4gICAgJFs0OV0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbNDldO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzUwXSAhPT0gdDcgfHwgJFs1MV0gIT09IHQ4IHx8ICRbNTJdICE9PSB0OSkge1xuICAgIHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbCBncm91cFwiLCBjaGlsZHJlbjogW1xuICAgICAgdDcsXG4gICAgICB0OCxcbiAgICAgIHQ5XG4gICAgXSB9KTtcbiAgICAkWzUwXSA9IHQ3O1xuICAgICRbNTFdID0gdDg7XG4gICAgJFs1Ml0gPSB0OTtcbiAgICAkWzUzXSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzUzXTtcbiAgfVxuICByZXR1cm4gdDEwO1xufSwgZXF1YWwpO1xuZnVuY3Rpb24gX3RlbXAkaihlKSB7XG4gIHJldHVybiBnZXRSZWZlcmVuY2VGcm9tKGUpO1xufVxuZnVuY3Rpb24gX3RlbXAyJDkocmVmKSB7XG4gIHJldHVybiByZWYuaWQ7XG59XG55dXAuYWRkTWV0aG9kKHl1cC5hcnJheSwgXCJ1bmlxdWVJbkFycmF5XCIsIGZ1bmN0aW9uKG1hcHBlciA9IChhKSA9PiBhLCBtZXNzYWdlKSB7XG4gIHJldHVybiB0aGlzLnRlc3QoXCJ1bmlxdWVJbkFycmF5XCIsIG1lc3NhZ2UsICh2YWx1ZXMpID0+IHtcbiAgICByZXR1cm4gIXZhbHVlcyB8fCB2YWx1ZXMubGVuZ3RoID09PSBuZXcgU2V0KHZhbHVlcy5tYXAobWFwcGVyKSkuc2l6ZTtcbiAgfSk7XG59KTtcbmZ1bmN0aW9uIGdldFl1cEVudGl0eVNjaGVtYShlbnRpdHlJZCwgcHJvcGVydGllcywgY3VzdG9tRmllbGRWYWxpZGF0b3IpIHtcbiAgY29uc3Qgb2JqZWN0U2NoZW1hID0ge307XG4gIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLmZvckVhY2goKFtuYW1lLCBwcm9wZXJ0eV0pID0+IHtcbiAgICBvYmplY3RTY2hlbWFbbmFtZV0gPSBtYXBQcm9wZXJ0eVRvWXVwKHtcbiAgICAgIHByb3BlcnR5LFxuICAgICAgY3VzdG9tRmllbGRWYWxpZGF0b3IsXG4gICAgICBuYW1lLFxuICAgICAgZW50aXR5SWRcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB5dXAub2JqZWN0KCkuc2hhcGUob2JqZWN0U2NoZW1hKTtcbn1cbmZ1bmN0aW9uIG1hcFByb3BlcnR5VG9ZdXAocHJvcGVydHlDb250ZXh0KSB7XG4gIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydHlDb250ZXh0LnByb3BlcnR5O1xuICBpZiAoaXNQcm9wZXJ0eUJ1aWxkZXIocHJvcGVydHkpKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHByb3BlcnR5XCIsIHByb3BlcnR5Q29udGV4dCk7XG4gICAgdGhyb3cgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgeXVwIG1hcHBpbmcgZnJvbSBhIHByb3BlcnR5IGJ1aWxkZXIuIFBsZWFzZSB1c2UgcmVzb2x2ZWQgcHJvcGVydGllcyBvbmx5XCIpO1xuICB9XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBnZXRZdXBTdHJpbmdTY2hlbWEocHJvcGVydHlDb250ZXh0KTtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBnZXRZdXBOdW1iZXJTY2hlbWEocHJvcGVydHlDb250ZXh0KTtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gZ2V0WXVwQm9vbGVhblNjaGVtYShwcm9wZXJ0eUNvbnRleHQpO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiKSB7XG4gICAgcmV0dXJuIGdldFl1cE1hcE9iamVjdFNjaGVtYShwcm9wZXJ0eUNvbnRleHQpO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICByZXR1cm4gZ2V0WXVwQXJyYXlTY2hlbWEocHJvcGVydHlDb250ZXh0KTtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJkYXRlXCIpIHtcbiAgICByZXR1cm4gZ2V0WXVwRGF0ZVNjaGVtYShwcm9wZXJ0eUNvbnRleHQpO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImdlb3BvaW50XCIpIHtcbiAgICByZXR1cm4gZ2V0WXVwR2VvUG9pbnRTY2hlbWEocHJvcGVydHlDb250ZXh0KTtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHJldHVybiBnZXRZdXBSZWZlcmVuY2VTY2hlbWEocHJvcGVydHlDb250ZXh0KTtcbiAgfVxuICBjb25zb2xlLmVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIGluIHl1cCBtYXBwaW5nXCIsIHByb3BlcnR5KTtcbiAgdGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBkYXRhIHR5cGUgaW4geXVwIG1hcHBpbmdcIik7XG59XG5mdW5jdGlvbiBnZXRZdXBNYXBPYmplY3RTY2hlbWEoe1xuICBwcm9wZXJ0eSxcbiAgZW50aXR5SWQsXG4gIGN1c3RvbUZpZWxkVmFsaWRhdG9yLFxuICBuYW1lXG59KSB7XG4gIGNvbnN0IG9iamVjdFNjaGVtYSA9IHt9O1xuICBjb25zdCB2YWxpZGF0aW9uID0gcHJvcGVydHkudmFsaWRhdGlvbjtcbiAgaWYgKHByb3BlcnR5LnByb3BlcnRpZXMpIE9iamVjdC5lbnRyaWVzKHByb3BlcnR5LnByb3BlcnRpZXMpLmZvckVhY2goKFtjaGlsZE5hbWUsIGNoaWxkUHJvcGVydHldKSA9PiB7XG4gICAgb2JqZWN0U2NoZW1hW2NoaWxkTmFtZV0gPSBtYXBQcm9wZXJ0eVRvWXVwKHtcbiAgICAgIHByb3BlcnR5OiBjaGlsZFByb3BlcnR5LFxuICAgICAgcGFyZW50UHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgY3VzdG9tRmllbGRWYWxpZGF0b3IsXG4gICAgICBuYW1lOiBgJHtuYW1lfVske2NoaWxkTmFtZX1dYCxcbiAgICAgIGVudGl0eUlkXG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBzaGFwZSA9IHl1cC5vYmplY3QoKS5zaGFwZShvYmplY3RTY2hlbWEpO1xuICBpZiAodmFsaWRhdGlvbj8ucmVxdWlyZWQpIHtcbiAgICByZXR1cm4gc2hhcGUucmVxdWlyZWQodmFsaWRhdGlvbj8ucmVxdWlyZWRNZXNzYWdlID8gdmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgOiBcIlJlcXVpcmVkXCIpLm51bGxhYmxlKHRydWUpO1xuICB9XG4gIHJldHVybiB5dXAub2JqZWN0KCkuc2hhcGUoc2hhcGUuZmllbGRzKS5kZWZhdWx0KHZvaWQgMCkubm90UmVxdWlyZWQoKS5udWxsYWJsZSh0cnVlKTtcbn1cbmZ1bmN0aW9uIGdldFl1cFN0cmluZ1NjaGVtYSh7XG4gIHByb3BlcnR5LFxuICBwYXJlbnRQcm9wZXJ0eSxcbiAgY3VzdG9tRmllbGRWYWxpZGF0b3IsXG4gIG5hbWUsXG4gIGVudGl0eUlkXG59KSB7XG4gIGxldCBjb2xsZWN0aW9uID0geXVwLnN0cmluZygpO1xuICBjb25zdCB2YWxpZGF0aW9uID0gcHJvcGVydHkudmFsaWRhdGlvbjtcbiAgaWYgKHByb3BlcnR5LmVudW1WYWx1ZXMpIHtcbiAgICBpZiAodmFsaWRhdGlvbj8ucmVxdWlyZWQpIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnJlcXVpcmVkKHZhbGlkYXRpb24/LnJlcXVpcmVkTWVzc2FnZSA/IHZhbGlkYXRpb24ucmVxdWlyZWRNZXNzYWdlIDogXCJSZXF1aXJlZFwiKTtcbiAgICBjb25zdCBlbnRyaWVzID0gZW51bVRvT2JqZWN0RW50cmllcyhwcm9wZXJ0eS5lbnVtVmFsdWVzKTtcbiAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5vbmVPZigodmFsaWRhdGlvbj8ucmVxdWlyZWQgPyBlbnRyaWVzIDogWy4uLmVudHJpZXMsIG51bGxdKS5tYXAoKGVudW1WYWx1ZUNvbmZpZykgPT4gZW51bVZhbHVlQ29uZmlnPy5pZCA/PyBudWxsKSkubnVsbGFibGUodHJ1ZSk7XG4gIH1cbiAgaWYgKHZhbGlkYXRpb24pIHtcbiAgICBjb2xsZWN0aW9uID0gdmFsaWRhdGlvbi5yZXF1aXJlZCA/IGNvbGxlY3Rpb24ucmVxdWlyZWQodmFsaWRhdGlvbj8ucmVxdWlyZWRNZXNzYWdlID8gdmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgOiBcIlJlcXVpcmVkXCIpLm51bGxhYmxlKHRydWUpIDogY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICAgIGlmICh2YWxpZGF0aW9uLnVuaXF1ZSAmJiBjdXN0b21GaWVsZFZhbGlkYXRvciAmJiBuYW1lKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi50ZXN0KFwidW5pcXVlXCIsIFwiVGhpcyB2YWx1ZSBhbHJlYWR5IGV4aXN0cyBhbmQgc2hvdWxkIGJlIHVuaXF1ZVwiLCAodmFsdWUsIGNvbnRleHQpID0+IGN1c3RvbUZpZWxkVmFsaWRhdG9yKHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIHBhcmVudFByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBlbnRpdHlJZFxuICAgIH0pKTtcbiAgICBpZiAodmFsaWRhdGlvbi5taW4gfHwgdmFsaWRhdGlvbi5taW4gPT09IDApIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm1pbih2YWxpZGF0aW9uLm1pbiwgYCR7cHJvcGVydHkubmFtZX0gbXVzdCBiZSBtaW4gJHt2YWxpZGF0aW9uLm1pbn0gY2hhcmFjdGVycyBsb25nYCk7XG4gICAgaWYgKHZhbGlkYXRpb24ubWF4IHx8IHZhbGlkYXRpb24ubWF4ID09PSAwKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5tYXgodmFsaWRhdGlvbi5tYXgsIGAke3Byb3BlcnR5Lm5hbWV9IG11c3QgYmUgbWF4ICR7dmFsaWRhdGlvbi5tYXh9IGNoYXJhY3RlcnMgbG9uZ2ApO1xuICAgIGlmICh2YWxpZGF0aW9uLm1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IHJlZ0V4cCA9IHR5cGVvZiB2YWxpZGF0aW9uLm1hdGNoZXMgPT09IFwic3RyaW5nXCIgPyBoeWRyYXRlUmVnRXhwKHZhbGlkYXRpb24ubWF0Y2hlcykgOiB2YWxpZGF0aW9uLm1hdGNoZXM7XG4gICAgICBpZiAocmVnRXhwKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm1hdGNoZXMocmVnRXhwLCB2YWxpZGF0aW9uLm1hdGNoZXNNZXNzYWdlID8ge1xuICAgICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb24ubWF0Y2hlc01lc3NhZ2VcbiAgICAgICAgfSA6IHZvaWQgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YWxpZGF0aW9uLnRyaW0pIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnRyaW0oKTtcbiAgICBpZiAodmFsaWRhdGlvbi5sb3dlcmNhc2UpIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLmxvd2VyY2FzZSgpO1xuICAgIGlmICh2YWxpZGF0aW9uLnVwcGVyY2FzZSkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24udXBwZXJjYXNlKCk7XG4gICAgaWYgKHByb3BlcnR5LmVtYWlsKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5lbWFpbChgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGFuIGVtYWlsYCk7XG4gICAgaWYgKHByb3BlcnR5LnVybCkge1xuICAgICAgaWYgKCFwcm9wZXJ0eS5zdG9yYWdlIHx8IHByb3BlcnR5LnN0b3JhZ2U/LnN0b3JlVXJsKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnVybChgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGEgdXJsYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYFByb3BlcnR5ICR7cHJvcGVydHkubmFtZX0gaGFzIGEgdXJsIHZhbGlkYXRpb24gYnV0IGl0cyBzdG9yYWdlIGNvbmZpZ3VyYXRpb24gaXMgbm90IHNldCB0byBzdG9yZSB1cmxzYCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm5vdFJlcXVpcmVkKCkubnVsbGFibGUodHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59XG5mdW5jdGlvbiBnZXRZdXBOdW1iZXJTY2hlbWEoe1xuICBwcm9wZXJ0eSxcbiAgcGFyZW50UHJvcGVydHksXG4gIGN1c3RvbUZpZWxkVmFsaWRhdG9yLFxuICBuYW1lLFxuICBlbnRpdHlJZFxufSkge1xuICBjb25zdCB2YWxpZGF0aW9uID0gcHJvcGVydHkudmFsaWRhdGlvbjtcbiAgbGV0IGNvbGxlY3Rpb24gPSB5dXAubnVtYmVyKCkudHlwZUVycm9yKFwiTXVzdCBiZSBhIG51bWJlclwiKTtcbiAgaWYgKHZhbGlkYXRpb24pIHtcbiAgICBjb2xsZWN0aW9uID0gdmFsaWRhdGlvbi5yZXF1aXJlZCA/IGNvbGxlY3Rpb24ucmVxdWlyZWQodmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgPyB2YWxpZGF0aW9uLnJlcXVpcmVkTWVzc2FnZSA6IFwiUmVxdWlyZWRcIikubnVsbGFibGUodHJ1ZSkgOiBjb2xsZWN0aW9uLm5vdFJlcXVpcmVkKCkubnVsbGFibGUodHJ1ZSk7XG4gICAgaWYgKHZhbGlkYXRpb24udW5pcXVlICYmIGN1c3RvbUZpZWxkVmFsaWRhdG9yICYmIG5hbWUpIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnRlc3QoXCJ1bmlxdWVcIiwgXCJUaGlzIHZhbHVlIGFscmVhZHkgZXhpc3RzIGFuZCBzaG91bGQgYmUgdW5pcXVlXCIsICh2YWx1ZSkgPT4gY3VzdG9tRmllbGRWYWxpZGF0b3Ioe1xuICAgICAgbmFtZSxcbiAgICAgIHByb3BlcnR5LFxuICAgICAgcGFyZW50UHJvcGVydHksXG4gICAgICB2YWx1ZSxcbiAgICAgIGVudGl0eUlkXG4gICAgfSkpO1xuICAgIGlmICh2YWxpZGF0aW9uLm1pbiB8fCB2YWxpZGF0aW9uLm1pbiA9PT0gMCkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ubWluKHZhbGlkYXRpb24ubWluLCBgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGhpZ2hlciBvciBlcXVhbCB0byAke3ZhbGlkYXRpb24ubWlufWApO1xuICAgIGlmICh2YWxpZGF0aW9uLm1heCB8fCB2YWxpZGF0aW9uLm1heCA9PT0gMCkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ubWF4KHZhbGlkYXRpb24ubWF4LCBgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGxvd2VyIG9yIGVxdWFsIHRvICR7dmFsaWRhdGlvbi5tYXh9YCk7XG4gICAgaWYgKHZhbGlkYXRpb24ubGVzc1RoYW4gfHwgdmFsaWRhdGlvbi5sZXNzVGhhbiA9PT0gMCkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ubGVzc1RoYW4odmFsaWRhdGlvbi5sZXNzVGhhbiwgYCR7cHJvcGVydHkubmFtZX0gbXVzdCBiZSBoaWdoZXIgdGhhbiAke3ZhbGlkYXRpb24ubGVzc1RoYW59YCk7XG4gICAgaWYgKHZhbGlkYXRpb24ubW9yZVRoYW4gfHwgdmFsaWRhdGlvbi5tb3JlVGhhbiA9PT0gMCkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ubW9yZVRoYW4odmFsaWRhdGlvbi5tb3JlVGhhbiwgYCR7cHJvcGVydHkubmFtZX0gbXVzdCBiZSBsb3dlciB0aGFuICR7dmFsaWRhdGlvbi5tb3JlVGhhbn1gKTtcbiAgICBpZiAodmFsaWRhdGlvbi5wb3NpdGl2ZSkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ucG9zaXRpdmUoYCR7cHJvcGVydHkubmFtZX0gbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgIGlmICh2YWxpZGF0aW9uLm5lZ2F0aXZlKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5uZWdhdGl2ZShgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIG5lZ2F0aXZlYCk7XG4gICAgaWYgKHZhbGlkYXRpb24uaW50ZWdlcikgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uaW50ZWdlcihgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGFuIGludGVnZXJgKTtcbiAgfSBlbHNlIHtcbiAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuZnVuY3Rpb24gZ2V0WXVwR2VvUG9pbnRTY2hlbWEoe1xuICBwcm9wZXJ0eSxcbiAgcGFyZW50UHJvcGVydHksXG4gIGN1c3RvbUZpZWxkVmFsaWRhdG9yLFxuICBuYW1lLFxuICBlbnRpdHlJZFxufSkge1xuICBsZXQgY29sbGVjdGlvbiA9IHl1cC5vYmplY3QoKTtcbiAgY29uc3QgdmFsaWRhdGlvbiA9IHByb3BlcnR5LnZhbGlkYXRpb247XG4gIGlmICh2YWxpZGF0aW9uPy51bmlxdWUgJiYgY3VzdG9tRmllbGRWYWxpZGF0b3IgJiYgbmFtZSkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24udGVzdChcInVuaXF1ZVwiLCBcIlRoaXMgdmFsdWUgYWxyZWFkeSBleGlzdHMgYW5kIHNob3VsZCBiZSB1bmlxdWVcIiwgKHZhbHVlKSA9PiBjdXN0b21GaWVsZFZhbGlkYXRvcih7XG4gICAgbmFtZSxcbiAgICBwcm9wZXJ0eSxcbiAgICBwYXJlbnRQcm9wZXJ0eSxcbiAgICB2YWx1ZSxcbiAgICBlbnRpdHlJZFxuICB9KSk7XG4gIGlmICh2YWxpZGF0aW9uPy5yZXF1aXJlZCkge1xuICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnJlcXVpcmVkKHZhbGlkYXRpb24ucmVxdWlyZWRNZXNzYWdlKS5udWxsYWJsZSh0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuZnVuY3Rpb24gZ2V0WXVwRGF0ZVNjaGVtYSh7XG4gIHByb3BlcnR5LFxuICBwYXJlbnRQcm9wZXJ0eSxcbiAgY3VzdG9tRmllbGRWYWxpZGF0b3IsXG4gIG5hbWUsXG4gIGVudGl0eUlkXG59KSB7XG4gIGlmIChwcm9wZXJ0eS5hdXRvVmFsdWUpIHtcbiAgICByZXR1cm4geXVwLm9iamVjdCgpLm51bGxhYmxlKCk7XG4gIH1cbiAgbGV0IGNvbGxlY3Rpb24gPSB5dXAuZGF0ZSgpO1xuICBjb25zdCB2YWxpZGF0aW9uID0gcHJvcGVydHkudmFsaWRhdGlvbjtcbiAgaWYgKHZhbGlkYXRpb24pIHtcbiAgICBjb2xsZWN0aW9uID0gdmFsaWRhdGlvbi5yZXF1aXJlZCA/IGNvbGxlY3Rpb24ucmVxdWlyZWQodmFsaWRhdGlvbj8ucmVxdWlyZWRNZXNzYWdlID8gdmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgOiBcIlJlcXVpcmVkXCIpIDogY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpO1xuICAgIGlmICh2YWxpZGF0aW9uLnVuaXF1ZSAmJiBjdXN0b21GaWVsZFZhbGlkYXRvciAmJiBuYW1lKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi50ZXN0KFwidW5pcXVlXCIsIFwiVGhpcyB2YWx1ZSBhbHJlYWR5IGV4aXN0cyBhbmQgc2hvdWxkIGJlIHVuaXF1ZVwiLCAodmFsdWUpID0+IGN1c3RvbUZpZWxkVmFsaWRhdG9yKHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIHBhcmVudFByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBlbnRpdHlJZFxuICAgIH0pKTtcbiAgICBpZiAodmFsaWRhdGlvbi5taW4pIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm1pbih2YWxpZGF0aW9uLm1pbiwgYCR7cHJvcGVydHkubmFtZX0gbXVzdCBiZSBhZnRlciAke3ZhbGlkYXRpb24ubWlufWApO1xuICAgIGlmICh2YWxpZGF0aW9uLm1heCkgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24ubWF4KHZhbGlkYXRpb24ubWF4LCBgJHtwcm9wZXJ0eS5uYW1lfSBtdXN0IGJlIGJlZm9yZSAke3ZhbGlkYXRpb24ubWlufWApO1xuICB9IGVsc2Uge1xuICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm5vdFJlcXVpcmVkKCk7XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb24udHJhbnNmb3JtKCh2KSA9PiB2IGluc3RhbmNlb2YgRGF0ZSA/IHYgOiBudWxsKS5udWxsYWJsZSgpO1xufVxuZnVuY3Rpb24gZ2V0WXVwUmVmZXJlbmNlU2NoZW1hKHtcbiAgcHJvcGVydHksXG4gIHBhcmVudFByb3BlcnR5LFxuICBjdXN0b21GaWVsZFZhbGlkYXRvcixcbiAgbmFtZSxcbiAgZW50aXR5SWRcbn0pIHtcbiAgbGV0IGNvbGxlY3Rpb24gPSB5dXAub2JqZWN0KCk7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSBwcm9wZXJ0eS52YWxpZGF0aW9uO1xuICBpZiAodmFsaWRhdGlvbikge1xuICAgIGNvbGxlY3Rpb24gPSB2YWxpZGF0aW9uLnJlcXVpcmVkID8gY29sbGVjdGlvbi5yZXF1aXJlZCh2YWxpZGF0aW9uPy5yZXF1aXJlZE1lc3NhZ2UgPyB2YWxpZGF0aW9uLnJlcXVpcmVkTWVzc2FnZSA6IFwiUmVxdWlyZWRcIikubnVsbGFibGUodHJ1ZSkgOiBjb2xsZWN0aW9uLm5vdFJlcXVpcmVkKCkubnVsbGFibGUodHJ1ZSk7XG4gICAgaWYgKHZhbGlkYXRpb24udW5pcXVlICYmIGN1c3RvbUZpZWxkVmFsaWRhdG9yICYmIG5hbWUpIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnRlc3QoXCJ1bmlxdWVcIiwgXCJUaGlzIHZhbHVlIGFscmVhZHkgZXhpc3RzIGFuZCBzaG91bGQgYmUgdW5pcXVlXCIsICh2YWx1ZSkgPT4gY3VzdG9tRmllbGRWYWxpZGF0b3Ioe1xuICAgICAgbmFtZSxcbiAgICAgIHByb3BlcnR5LFxuICAgICAgcGFyZW50UHJvcGVydHksXG4gICAgICB2YWx1ZSxcbiAgICAgIGVudGl0eUlkXG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm5vdFJlcXVpcmVkKCkubnVsbGFibGUodHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59XG5mdW5jdGlvbiBnZXRZdXBCb29sZWFuU2NoZW1hKHtcbiAgcHJvcGVydHksXG4gIHBhcmVudFByb3BlcnR5LFxuICBjdXN0b21GaWVsZFZhbGlkYXRvcixcbiAgbmFtZSxcbiAgZW50aXR5SWRcbn0pIHtcbiAgbGV0IGNvbGxlY3Rpb24gPSB5dXAuYm9vbGVhbigpO1xuICBjb25zdCB2YWxpZGF0aW9uID0gcHJvcGVydHkudmFsaWRhdGlvbjtcbiAgaWYgKHZhbGlkYXRpb24pIHtcbiAgICBjb2xsZWN0aW9uID0gdmFsaWRhdGlvbi5yZXF1aXJlZCA/IGNvbGxlY3Rpb24ucmVxdWlyZWQodmFsaWRhdGlvbj8ucmVxdWlyZWRNZXNzYWdlID8gdmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgOiBcIlJlcXVpcmVkXCIpLm51bGxhYmxlKHRydWUpIDogY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICAgIGlmICh2YWxpZGF0aW9uLnVuaXF1ZSAmJiBjdXN0b21GaWVsZFZhbGlkYXRvciAmJiBuYW1lKSBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi50ZXN0KFwidW5pcXVlXCIsIFwiVGhpcyB2YWx1ZSBhbHJlYWR5IGV4aXN0cyBhbmQgc2hvdWxkIGJlIHVuaXF1ZVwiLCAodmFsdWUpID0+IGN1c3RvbUZpZWxkVmFsaWRhdG9yKHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIHBhcmVudFByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBlbnRpdHlJZFxuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbi5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuZnVuY3Rpb24gaGFzVW5pcXVlSW5BcnJheU1vZGlmaWVyKHByb3BlcnR5KSB7XG4gIGlmIChwcm9wZXJ0eS52YWxpZGF0aW9uPy51bmlxdWVJbkFycmF5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIgJiYgcHJvcGVydHkucHJvcGVydGllcykge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhwcm9wZXJ0eS5wcm9wZXJ0aWVzKS5maWx0ZXIoKFtrZXksIGNoaWxkUHJvcGVydHldKSA9PiBjaGlsZFByb3BlcnR5LnZhbGlkYXRpb24/LnVuaXF1ZUluQXJyYXkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFl1cEFycmF5U2NoZW1hKHtcbiAgcHJvcGVydHksXG4gIHBhcmVudFByb3BlcnR5LFxuICBjdXN0b21GaWVsZFZhbGlkYXRvcixcbiAgbmFtZSxcbiAgZW50aXR5SWRcbn0pIHtcbiAgbGV0IGFycmF5U2NoZW1hID0geXVwLmFycmF5KCk7XG4gIGlmIChwcm9wZXJ0eS5vZikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5Lm9mKSkge1xuICAgICAgY29uc3QgeXVwUHJvcGVydGllcyA9IHByb3BlcnR5Lm9mLm1hcCgocCwgaW5kZXgpID0+ICh7XG4gICAgICAgIFtgJHtuYW1lfVske2luZGV4fV1gXTogbWFwUHJvcGVydHlUb1l1cCh7XG4gICAgICAgICAgcHJvcGVydHk6IHAsXG4gICAgICAgICAgcGFyZW50UHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICAgIGVudGl0eUlkXG4gICAgICAgIH0pXG4gICAgICB9KSkucmVkdWNlKChhLCBiKSA9PiAoe1xuICAgICAgICAuLi5hLFxuICAgICAgICAuLi5iXG4gICAgICB9KSwge30pO1xuICAgICAgcmV0dXJuIHl1cC5hcnJheSgpLm9mKHl1cC5taXhlZCgpLnRlc3QoXCJEeW5hbWljIG9iamVjdCB2YWxpZGF0aW9uXCIsIFwiRHluYW1pYyBvYmplY3QgdmFsaWRhdGlvbiBlcnJvclwiLCAob2JqZWN0LCBjb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHl1cFByb3BlcnR5ID0gZ2V0VmFsdWVJblBhdGgoeXVwUHJvcGVydGllcywgY29udGV4dC5wYXRoKTtcbiAgICAgICAgcmV0dXJuIHl1cFByb3BlcnR5LnZhbGlkYXRlKG9iamVjdCk7XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycmF5U2NoZW1hID0gYXJyYXlTY2hlbWEub2YobWFwUHJvcGVydHlUb1l1cCh7XG4gICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eS5vZixcbiAgICAgICAgcGFyZW50UHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICBlbnRpdHlJZFxuICAgICAgfSkpO1xuICAgICAgY29uc3QgYXJyYXlVbmlxdWVGaWVsZHMgPSBoYXNVbmlxdWVJbkFycmF5TW9kaWZpZXIocHJvcGVydHkub2YpO1xuICAgICAgaWYgKGFycmF5VW5pcXVlRmllbGRzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJyYXlVbmlxdWVGaWVsZHMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgYXJyYXlTY2hlbWEgPSBhcnJheVNjaGVtYS51bmlxdWVJbkFycmF5KCh2KSA9PiB2LCBgJHtwcm9wZXJ0eS5uYW1lfSBzaG91bGQgaGF2ZSB1bmlxdWUgdmFsdWVzIHdpdGhpbiB0aGUgYXJyYXlgKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFycmF5VW5pcXVlRmllbGRzKSkge1xuICAgICAgICAgIGFycmF5VW5pcXVlRmllbGRzLmZvckVhY2goKFtuYW1lMiwgY2hpbGRQcm9wZXJ0eV0pID0+IHtcbiAgICAgICAgICAgIGFycmF5U2NoZW1hID0gYXJyYXlTY2hlbWEudW5pcXVlSW5BcnJheSgodikgPT4gdiAmJiB2W25hbWUyXSwgYCR7cHJvcGVydHkubmFtZX0g4oaSICR7Y2hpbGRQcm9wZXJ0eS5uYW1lID8/IG5hbWUyfTogc2hvdWxkIGhhdmUgdW5pcXVlIHZhbHVlcyB3aXRoaW4gdGhlIGFycmF5YCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgdmFsaWRhdGlvbiA9IHByb3BlcnR5LnZhbGlkYXRpb247XG4gIGlmICh2YWxpZGF0aW9uKSB7XG4gICAgYXJyYXlTY2hlbWEgPSB2YWxpZGF0aW9uLnJlcXVpcmVkID8gYXJyYXlTY2hlbWEucmVxdWlyZWQodmFsaWRhdGlvbj8ucmVxdWlyZWRNZXNzYWdlID8gdmFsaWRhdGlvbi5yZXF1aXJlZE1lc3NhZ2UgOiBcIlJlcXVpcmVkXCIpLm51bGxhYmxlKHRydWUpIDogYXJyYXlTY2hlbWEubm90UmVxdWlyZWQoKS5udWxsYWJsZSh0cnVlKTtcbiAgICBpZiAodmFsaWRhdGlvbi5taW4gfHwgdmFsaWRhdGlvbi5taW4gPT09IDApIGFycmF5U2NoZW1hID0gYXJyYXlTY2hlbWEubWluKHZhbGlkYXRpb24ubWluLCBgJHtwcm9wZXJ0eS5uYW1lfSBzaG91bGQgYmUgbWluICR7dmFsaWRhdGlvbi5taW59IGVudHJpZXMgbG9uZ2ApO1xuICAgIGlmICh2YWxpZGF0aW9uLm1heCkgYXJyYXlTY2hlbWEgPSBhcnJheVNjaGVtYS5tYXgodmFsaWRhdGlvbi5tYXgsIGAke3Byb3BlcnR5Lm5hbWV9IHNob3VsZCBiZSBtYXggJHt2YWxpZGF0aW9uLm1heH0gZW50cmllcyBsb25nYCk7XG4gIH0gZWxzZSB7XG4gICAgYXJyYXlTY2hlbWEgPSBhcnJheVNjaGVtYS5ub3RSZXF1aXJlZCgpLm51bGxhYmxlKHRydWUpO1xuICB9XG4gIHJldHVybiBhcnJheVNjaGVtYTtcbn1cbmZ1bmN0aW9uIGdldFJvd0hlaWdodChzaXplKSB7XG4gIHN3aXRjaCAoc2l6ZSkge1xuICAgIGNhc2UgXCJ4bFwiOlxuICAgICAgcmV0dXJuIDQwMDtcbiAgICBjYXNlIFwibFwiOlxuICAgICAgcmV0dXJuIDI4MDtcbiAgICBjYXNlIFwibVwiOlxuICAgICAgcmV0dXJuIDE0MDtcbiAgICBjYXNlIFwic1wiOlxuICAgICAgcmV0dXJuIDgwO1xuICAgIGNhc2UgXCJ4c1wiOlxuICAgICAgcmV0dXJuIDU0O1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIk1pc3NpbmcgbWFwcGluZyBmb3IgY29sbGVjdGlvbiBzaXplIC0+IGhlaWdodFwiKTtcbiAgfVxufVxuY29uc3QgVGFibGVDZWxsSW5uZXIgPSAodDApID0+IHtcbiAgY29uc3QgJCA9IGMoMTIpO1xuICBjb25zdCB7XG4gICAganVzdGlmeUNvbnRlbnQsXG4gICAgc2Nyb2xsYWJsZSxcbiAgICBmYWRlZCxcbiAgICBmdWxsSGVpZ2h0LFxuICAgIGNoaWxkcmVuXG4gIH0gPSB0MDtcbiAgY29uc3QgdDEgPSBmYWRlZCB8fCBzY3JvbGxhYmxlO1xuICBsZXQgdDI7XG4gIGlmICgkWzBdICE9PSB0MSkge1xuICAgIHQyID0gY2xzKFwiZmxleCBmbGV4LWNvbCBtYXgtaC1mdWxsIHctZnVsbFwiLCB7XG4gICAgICBcIml0ZW1zLXN0YXJ0XCI6IHQxXG4gICAgfSk7XG4gICAgJFswXSA9IHQxO1xuICAgICRbMV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMV07XG4gIH1cbiAgY29uc3QgdDMgPSBmdWxsSGVpZ2h0ID8gXCIxMDAlXCIgOiB2b2lkIDA7XG4gIGNvbnN0IHQ0ID0gc2Nyb2xsYWJsZSA/IFwiYXV0b1wiIDogdm9pZCAwO1xuICBjb25zdCB0NSA9IGZhZGVkID8gXCJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCBibGFjayA2MCUsIHRyYW5zcGFyZW50IDEwMCUpXCIgOiB2b2lkIDA7XG4gIGNvbnN0IHQ2ID0gZmFkZWQgPyBcImxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIGJsYWNrIDYwJSwgdHJhbnNwYXJlbnQgMTAwJSlcIiA6IHZvaWQgMDtcbiAgbGV0IHQ3O1xuICBpZiAoJFsyXSAhPT0ganVzdGlmeUNvbnRlbnQgfHwgJFszXSAhPT0gdDMgfHwgJFs0XSAhPT0gdDQgfHwgJFs1XSAhPT0gdDUgfHwgJFs2XSAhPT0gdDYpIHtcbiAgICB0NyA9IHtcbiAgICAgIGp1c3RpZnlDb250ZW50LFxuICAgICAgaGVpZ2h0OiB0MyxcbiAgICAgIG92ZXJmbG93OiB0NCxcbiAgICAgIFdlYmtpdE1hc2tJbWFnZTogdDUsXG4gICAgICBtYXNrSW1hZ2U6IHQ2XG4gICAgfTtcbiAgICAkWzJdID0ganVzdGlmeUNvbnRlbnQ7XG4gICAgJFszXSA9IHQzO1xuICAgICRbNF0gPSB0NDtcbiAgICAkWzVdID0gdDU7XG4gICAgJFs2XSA9IHQ2O1xuICAgICRbN10gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbN107XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFs4XSAhPT0gY2hpbGRyZW4gfHwgJFs5XSAhPT0gdDIgfHwgJFsxMF0gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0Miwgc3R5bGU6IHQ3LCBjaGlsZHJlbiB9KTtcbiAgICAkWzhdID0gY2hpbGRyZW47XG4gICAgJFs5XSA9IHQyO1xuICAgICRbMTBdID0gdDc7XG4gICAgJFsxMV0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMTFdO1xuICB9XG4gIHJldHVybiB0ODtcbn07XG5jb25zdCBFbnRpdHlUYWJsZUNlbGwgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIEVudGl0eVRhYmxlQ2VsbDIodDApIHtcbiAgY29uc3QgJCA9IGMoNDUpO1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgYWN0aW9ucyxcbiAgICBzaXplLFxuICAgIHNlbGVjdGVkLFxuICAgIGRpc2FibGVkLFxuICAgIGRpc2FibGVkVG9vbHRpcCxcbiAgICBzYXZlZCxcbiAgICBlcnJvcixcbiAgICBhbGlnbixcbiAgICBhbGxvd1Njcm9sbCxcbiAgICByZW1vdmVQYWRkaW5nLFxuICAgIGZ1bGxIZWlnaHQsXG4gICAgb25TZWxlY3QsXG4gICAgd2lkdGgsXG4gICAgaGlkZU92ZXJmbG93OiB0MSxcbiAgICBzaG93RXhwYW5kSWNvbjogdDJcbiAgfSA9IHQwO1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSB0MSA9PT0gdm9pZCAwID8gdHJ1ZSA6IHQxO1xuICBjb25zdCBbbWVhc3VyZVJlZiwgYm91bmRzXSA9IHVzZU1lYXN1cmUoKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICBsZXQgdDM7XG4gIHQzID0gZ2V0Um93SGVpZ2h0KHNpemUpO1xuICBjb25zdCBtYXhIZWlnaHQgPSB0MztcbiAgY29uc3QgW29uSG92ZXIsIHNldE9uSG92ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW50ZXJuYWxTYXZlZCwgc2V0SW50ZXJuYWxTYXZlZF0gPSB1c2VTdGF0ZShzYXZlZCk7XG4gIGNvbnN0IHNob3dFcnJvciA9ICFkaXNhYmxlZCAmJiBCb29sZWFuKGVycm9yKTtcbiAgbGV0IHQ0O1xuICBsZXQgdDU7XG4gIGlmICgkWzBdICE9PSBzYXZlZCkge1xuICAgIHQ0ID0gKCkgPT4ge1xuICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgIHNldEludGVybmFsU2F2ZWQodHJ1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBoYW5kbGVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldEludGVybmFsU2F2ZWQoZmFsc2UpO1xuICAgICAgfSwgODAwKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChoYW5kbGVyKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0NSA9IFtzYXZlZF07XG4gICAgJFswXSA9IHNhdmVkO1xuICAgICRbMV0gPSB0NDtcbiAgICAkWzJdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzFdO1xuICAgIHQ1ID0gJFsyXTtcbiAgfVxuICB1c2VFZmZlY3QodDQsIHQ1KTtcbiAgbGV0IHAgPSAwO1xuICBpZiAoIXJlbW92ZVBhZGRpbmcpIHtcbiAgICBiYjA6IHN3aXRjaCAoc2l6ZSkge1xuICAgICAgY2FzZSBcImxcIjpcbiAgICAgIGNhc2UgXCJ4bFwiOiB7XG4gICAgICAgIHAgPSA0O1xuICAgICAgICBicmVhayBiYjA7XG4gICAgICB9XG4gICAgICBjYXNlIFwibVwiOiB7XG4gICAgICAgIHAgPSAyO1xuICAgICAgICBicmVhayBiYjA7XG4gICAgICB9XG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBwID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGp1c3RpZnlDb250ZW50O1xuICBiYjE6IHN3aXRjaCAoYWxpZ24pIHtcbiAgICBjYXNlIFwicmlnaHRcIjoge1xuICAgICAganVzdGlmeUNvbnRlbnQgPSBcImZsZXgtZW5kXCI7XG4gICAgICBicmVhayBiYjE7XG4gICAgfVxuICAgIGNhc2UgXCJjZW50ZXJcIjoge1xuICAgICAganVzdGlmeUNvbnRlbnQgPSBcImNlbnRlclwiO1xuICAgICAgYnJlYWsgYmIxO1xuICAgIH1cbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50ID0gXCJmbGV4LXN0YXJ0XCI7XG4gICAgfVxuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbM10gIT09IGRpc2FibGVkIHx8ICRbNF0gIT09IG9uU2VsZWN0IHx8ICRbNV0gIT09IHNlbGVjdGVkKSB7XG4gICAgdDYgPSAoKSA9PiB7XG4gICAgICBpZiAoIW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbGxSZWN0ID0gcmVmICYmIHJlZj8uY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgb25TZWxlY3Qodm9pZCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc2VsZWN0ZWQgJiYgY2VsbFJlY3QpIHtcbiAgICAgICAgICBvblNlbGVjdChjZWxsUmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgICRbM10gPSBkaXNhYmxlZDtcbiAgICAkWzRdID0gb25TZWxlY3Q7XG4gICAgJFs1XSA9IHNlbGVjdGVkO1xuICAgICRbNl0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbNl07XG4gIH1cbiAgY29uc3Qgb25TZWxlY3RDYWxsYmFjayA9IHQ2O1xuICBsZXQgdDc7XG4gIGlmICgkWzddICE9PSBvblNlbGVjdENhbGxiYWNrKSB7XG4gICAgdDcgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uU2VsZWN0Q2FsbGJhY2soKTtcbiAgICB9O1xuICAgICRbN10gPSBvblNlbGVjdENhbGxiYWNrO1xuICAgICRbOF0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbOF07XG4gIH1cbiAgY29uc3Qgb25Gb2N1cyA9IHQ3O1xuICBsZXQgdDg7XG4gIGJiMjoge1xuICAgIGlmIChib3VuZHMpIHtcbiAgICAgIHQ4ID0gYm91bmRzLmhlaWdodCA+IG1heEhlaWdodDtcbiAgICAgIGJyZWFrIGJiMjtcbiAgICB9XG4gICAgdDggPSBmYWxzZTtcbiAgfVxuICBjb25zdCBpc092ZXJmbG93aW5nID0gdDg7XG4gIGNvbnN0IGlzU2VsZWN0ZWQgPSAhc2hvd0Vycm9yICYmIHNlbGVjdGVkO1xuICBjb25zdCBzY3JvbGxhYmxlID0gIWRpc2FibGVkICYmIGFsbG93U2Nyb2xsICYmIGlzT3ZlcmZsb3dpbmc7XG4gIGNvbnN0IGZhZGVkID0gIWRpc2FibGVkICYmICFhbGxvd1Njcm9sbCAmJiBpc092ZXJmbG93aW5nO1xuICBsZXQgdDk7XG4gIGlmICgkWzldID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ5ID0gKCkgPT4gc2V0T25Ib3Zlcih0cnVlKTtcbiAgICAkWzldID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzldO1xuICB9XG4gIGNvbnN0IHNldE9uSG92ZXJUcnVlID0gdDk7XG4gIGxldCB0MTA7XG4gIGlmICgkWzEwXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MTAgPSAoKSA9PiBzZXRPbkhvdmVyKGZhbHNlKTtcbiAgICAkWzEwXSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzEwXTtcbiAgfVxuICBjb25zdCBzZXRPbkhvdmVyRmFsc2UgPSB0MTA7XG4gIGNvbnN0IGJvcmRlckNsYXNzID0gc2hvd0Vycm9yID8gXCJib3JkZXItcmVkLTUwMFwiIDogaW50ZXJuYWxTYXZlZCA/IFwiYm9yZGVyLWdyZWVuLTUwMFwiIDogaXNTZWxlY3RlZCA/IFwiYm9yZGVyLXByaW1hcnlcIiA6IFwiYm9yZGVyLXRyYW5zcGFyZW50XCI7XG4gIGNvbnN0IHQxMSA9IGBmbGV4IHJlbGF0aXZlIGgtZnVsbCByb3VuZGVkLW1kIHAtJHtwfSBib3JkZXIgYm9yZGVyLTQgIGJvcmRlci1vcGFjaXR5LTc1YDtcbiAgY29uc3QgdDEyID0gb25Ib3ZlciAmJiAhZGlzYWJsZWQgPyBcImJnLXN1cmZhY2UtNTAgZGFyazpiZy1zdXJmYWNlLTkwMFwiIDogXCJcIjtcbiAgY29uc3QgdDEzID0gc2F2ZWQgPyBcImJnLXN1cmZhY2UtMTAwIGJnLW9wYWNpdHktNzUgZGFyazpiZy1zdXJmYWNlLTgwMCBkYXJrOmJnLW9wYWNpdHktNzVcIiA6IFwiXCI7XG4gIGNvbnN0IHQxNCA9IGhpZGVPdmVyZmxvdyA/IFwib3ZlcmZsb3ctaGlkZGVuXCIgOiBcIlwiO1xuICBjb25zdCB0MTUgPSBpc1NlbGVjdGVkID8gXCJiZy1zdXJmYWNlLTUwIGRhcms6Ymctc3VyZmFjZS05MDBcIiA6IFwiXCI7XG4gIGxldCB0MTY7XG4gIGlmICgkWzExXSAhPT0gYm9yZGVyQ2xhc3MgfHwgJFsxMl0gIT09IHQxMSB8fCAkWzEzXSAhPT0gdDEyIHx8ICRbMTRdICE9PSB0MTMgfHwgJFsxNV0gIT09IHQxNCB8fCAkWzE2XSAhPT0gdDE1KSB7XG4gICAgdDE2ID0gY2xzKFwidHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTAwIGVhc2UtaW4tb3V0XCIsIHQxMSwgdDEyLCB0MTMsIHQxNCwgdDE1LCBib3JkZXJDbGFzcyk7XG4gICAgJFsxMV0gPSBib3JkZXJDbGFzcztcbiAgICAkWzEyXSA9IHQxMTtcbiAgICAkWzEzXSA9IHQxMjtcbiAgICAkWzE0XSA9IHQxMztcbiAgICAkWzE1XSA9IHQxNDtcbiAgICAkWzE2XSA9IHQxNTtcbiAgICAkWzE3XSA9IHQxNjtcbiAgfSBlbHNlIHtcbiAgICB0MTYgPSAkWzE3XTtcbiAgfVxuICBjb25zdCB0MTcgPSBkaXNhYmxlZCB8fCAhaXNPdmVyZmxvd2luZyA/IFwiY2VudGVyXCIgOiB2b2lkIDA7XG4gIGNvbnN0IHQxOCA9IHdpZHRoID8/IFwiMTAwJVwiO1xuICBsZXQgdDE5O1xuICBpZiAoJFsxOF0gIT09IGFsaWduIHx8ICRbMTldICE9PSBqdXN0aWZ5Q29udGVudCB8fCAkWzIwXSAhPT0gdDE3IHx8ICRbMjFdICE9PSB0MTgpIHtcbiAgICB0MTkgPSB7XG4gICAgICBqdXN0aWZ5Q29udGVudCxcbiAgICAgIGFsaWduSXRlbXM6IHQxNyxcbiAgICAgIHdpZHRoOiB0MTgsXG4gICAgICB0ZXh0QWxpZ246IGFsaWduXG4gICAgfTtcbiAgICAkWzE4XSA9IGFsaWduO1xuICAgICRbMTldID0ganVzdGlmeUNvbnRlbnQ7XG4gICAgJFsyMF0gPSB0MTc7XG4gICAgJFsyMV0gPSB0MTg7XG4gICAgJFsyMl0gPSB0MTk7XG4gIH0gZWxzZSB7XG4gICAgdDE5ID0gJFsyMl07XG4gIH1cbiAgY29uc3QgdDIwID0gc2VsZWN0ZWQgfHwgZGlzYWJsZWQgPyB2b2lkIDAgOiAwO1xuICBjb25zdCB0MjEgPSBmdWxsSGVpZ2h0ICYmICFmYWRlZCAmJiBjaGlsZHJlbjtcbiAgbGV0IHQyMjtcbiAgaWYgKCRbMjNdICE9PSBjaGlsZHJlbiB8fCAkWzI0XSAhPT0gZmFkZWQgfHwgJFsyNV0gIT09IGZ1bGxIZWlnaHQgfHwgJFsyNl0gIT09IGp1c3RpZnlDb250ZW50IHx8ICRbMjddICE9PSBtZWFzdXJlUmVmIHx8ICRbMjhdICE9PSBzY3JvbGxhYmxlKSB7XG4gICAgdDIyID0gKCFmdWxsSGVpZ2h0IHx8IGZhZGVkKSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRhYmxlQ2VsbElubmVyLCB7IGZ1bGxIZWlnaHQ6IGZ1bGxIZWlnaHQgPz8gZmFsc2UsIGp1c3RpZnlDb250ZW50LCBzY3JvbGxhYmxlOiBzY3JvbGxhYmxlID8/IGZhbHNlLCBmYWRlZCwgY2hpbGRyZW46ICFmdWxsSGVpZ2h0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyByZWY6IG1lYXN1cmVSZWYsIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgIGp1c3RpZnlDb250ZW50LFxuICAgICAgaGVpZ2h0OiBmdWxsSGVpZ2h0ID8gXCIxMDAlXCIgOiB2b2lkIDBcbiAgICB9LCBjaGlsZHJlbiB9KSB9KTtcbiAgICAkWzIzXSA9IGNoaWxkcmVuO1xuICAgICRbMjRdID0gZmFkZWQ7XG4gICAgJFsyNV0gPSBmdWxsSGVpZ2h0O1xuICAgICRbMjZdID0ganVzdGlmeUNvbnRlbnQ7XG4gICAgJFsyN10gPSBtZWFzdXJlUmVmO1xuICAgICRbMjhdID0gc2Nyb2xsYWJsZTtcbiAgICAkWzI5XSA9IHQyMjtcbiAgfSBlbHNlIHtcbiAgICB0MjIgPSAkWzI5XTtcbiAgfVxuICBsZXQgdDIzO1xuICBpZiAoJFszMF0gIT09IHQyMSB8fCAkWzMxXSAhPT0gdDIyKSB7XG4gICAgdDIzID0gLyogQF9fUFVSRV9fICovIGpzeHMoRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogW1xuICAgICAgdDIxLFxuICAgICAgdDIyXG4gICAgXSB9KTtcbiAgICAkWzMwXSA9IHQyMTtcbiAgICAkWzMxXSA9IHQyMjtcbiAgICAkWzMyXSA9IHQyMztcbiAgfSBlbHNlIHtcbiAgICB0MjMgPSAkWzMyXTtcbiAgfVxuICBsZXQgdDI0O1xuICBpZiAoJFszM10gIT09IGRpc2FibGVkIHx8ICRbMzRdICE9PSBkaXNhYmxlZFRvb2x0aXAgfHwgJFszNV0gIT09IG9uSG92ZXIpIHtcbiAgICB0MjQgPSBkaXNhYmxlZCAmJiBvbkhvdmVyICYmIGRpc2FibGVkVG9vbHRpcCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHRvcC0xIHJpZ2h0LTEgdGV4dC14c1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBkaXNhYmxlZFRvb2x0aXAsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KERvTm90RGlzdHVyYk9uSWNvbiwgeyBzaXplOiBcInNtYWxsZXN0XCIsIGNvbG9yOiBcImRpc2FibGVkXCIsIGNsYXNzTmFtZTogXCJ0ZXh0LXN1cmZhY2UtNTAwXCIgfSkgfSkgfSk7XG4gICAgJFszM10gPSBkaXNhYmxlZDtcbiAgICAkWzM0XSA9IGRpc2FibGVkVG9vbHRpcDtcbiAgICAkWzM1XSA9IG9uSG92ZXI7XG4gICAgJFszNl0gPSB0MjQ7XG4gIH0gZWxzZSB7XG4gICAgdDI0ID0gJFszNl07XG4gIH1cbiAgbGV0IHQyNTtcbiAgaWYgKCRbMzddICE9PSBhY3Rpb25zIHx8ICRbMzhdICE9PSBvbkZvY3VzIHx8ICRbMzldICE9PSB0MTYgfHwgJFs0MF0gIT09IHQxOSB8fCAkWzQxXSAhPT0gdDIwIHx8ICRbNDJdICE9PSB0MjMgfHwgJFs0M10gIT09IHQyNCkge1xuICAgIHQyNSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0MTYsIHJlZiwgc3R5bGU6IHQxOSwgdGFiSW5kZXg6IHQyMCwgb25Gb2N1cywgb25Nb3VzZUVudGVyOiBzZXRPbkhvdmVyVHJ1ZSwgb25Nb3VzZU1vdmU6IHNldE9uSG92ZXJUcnVlLCBvbk1vdXNlTGVhdmU6IHNldE9uSG92ZXJGYWxzZSwgY2hpbGRyZW46IFtcbiAgICAgIHQyMyxcbiAgICAgIGFjdGlvbnMsXG4gICAgICB0MjRcbiAgICBdIH0pO1xuICAgICRbMzddID0gYWN0aW9ucztcbiAgICAkWzM4XSA9IG9uRm9jdXM7XG4gICAgJFszOV0gPSB0MTY7XG4gICAgJFs0MF0gPSB0MTk7XG4gICAgJFs0MV0gPSB0MjA7XG4gICAgJFs0Ml0gPSB0MjM7XG4gICAgJFs0M10gPSB0MjQ7XG4gICAgJFs0NF0gPSB0MjU7XG4gIH0gZWxzZSB7XG4gICAgdDI1ID0gJFs0NF07XG4gIH1cbiAgcmV0dXJuIHQyNTtcbn0sIChhLCBiKSA9PiB7XG4gIHJldHVybiBhLmVycm9yID09PSBiLmVycm9yICYmIGEudmFsdWUgPT09IGIudmFsdWUgJiYgYS5kaXNhYmxlZCA9PT0gYi5kaXNhYmxlZCAmJiBhLnNhdmVkID09PSBiLnNhdmVkICYmIGEuYWxsb3dTY3JvbGwgPT09IGIuYWxsb3dTY3JvbGwgJiYgYS5hbGlnbiA9PT0gYi5hbGlnbiAmJiBhLnNpemUgPT09IGIuc2l6ZSAmJiBhLmRpc2FibGVkVG9vbHRpcCA9PT0gYi5kaXNhYmxlZFRvb2x0aXAgJiYgYS53aWR0aCA9PT0gYi53aWR0aCAmJiBhLnNob3dFeHBhbmRJY29uID09PSBiLnNob3dFeHBhbmRJY29uICYmIGEucmVtb3ZlUGFkZGluZyA9PT0gYi5yZW1vdmVQYWRkaW5nICYmIGEuZnVsbEhlaWdodCA9PT0gYi5mdWxsSGVpZ2h0ICYmIGEuc2VsZWN0ZWQgPT09IGIuc2VsZWN0ZWQ7XG59KTtcbmNvbnN0IFNlbGVjdGFibGVUYWJsZUNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IHVzZVNlbGVjdGFibGVUYWJsZUNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFNlbGVjdGFibGVUYWJsZUNvbnRleHQpO1xufTtcbmZ1bmN0aW9uIHVzZUNsZWFyUmVzdG9yZVZhbHVlKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHksXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWVcbiAgfSA9IHQwO1xuICBjb25zdCBjbGVhcmVkVmFsdWVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IHByb3BlcnR5LmRpc2FibGVkIHx8ICRbMV0gIT09IHNldFZhbHVlIHx8ICRbMl0gIT09IHZhbHVlKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRDbGVhclZhbHVlSWZEaXNhYmxlZCA9IHR5cGVvZiBwcm9wZXJ0eS5kaXNhYmxlZCA9PT0gXCJvYmplY3RcIiAmJiBCb29sZWFuKHByb3BlcnR5LmRpc2FibGVkLmNsZWFyT25EaXNhYmxlZCk7XG4gICAgICBpZiAoc2hvdWxkQ2xlYXJWYWx1ZUlmRGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjbGVhcmVkVmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICAgICAgICAgIHNldFZhbHVlKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY2xlYXJlZFZhbHVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBzZXRWYWx1ZShjbGVhcmVkVmFsdWVSZWYuY3VycmVudCk7XG4gICAgICAgICAgY2xlYXJlZFZhbHVlUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gcHJvcGVydHkuZGlzYWJsZWQ7XG4gICAgJFsxXSA9IHNldFZhbHVlO1xuICAgICRbMl0gPSB2YWx1ZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IHByb3BlcnR5KSB7XG4gICAgdDIgPSBbcHJvcGVydHldO1xuICAgICRbNF0gPSBwcm9wZXJ0eTtcbiAgICAkWzVdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzVdO1xuICB9XG4gIHVzZUVmZmVjdCh0MSwgdDIpO1xufVxuZnVuY3Rpb24gaXNTdG9yYWdlUHJvcGVydHkocHJvcGVydHkpIHtcbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcInN0cmluZ1wiICYmIHByb3BlcnR5Lm1hcmtkb3duKSByZXR1cm4gZmFsc2U7XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0eS5zdG9yYWdlKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5vZikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lm9mPy5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wZXJ0eS5vZj8uc3RvcmFnZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY29uc3QgUHJvcGVydHlUYWJsZUNlbGwgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIFByb3BlcnR5VGFibGVDZWxsMih7XG4gIHByb3BlcnR5S2V5LFxuICBjdXN0b21GaWVsZFZhbGlkYXRvcixcbiAgdmFsdWUsXG4gIHByb3BlcnR5LFxuICBhbGlnbixcbiAgd2lkdGgsXG4gIGhlaWdodCxcbiAgcGF0aCxcbiAgZW50aXR5LFxuICByZWFkb25seSxcbiAgZGlzYWJsZWQ6IGRpc2FibGVkUHJvcCxcbiAgZW5hYmxlUG9wdXBJY29uID0gdHJ1ZVxufSkge1xuICBjb25zdCB7XG4gICAgb25WYWx1ZUNoYW5nZSxcbiAgICBzaXplLFxuICAgIHNlbGVjdGVkQ2VsbCxcbiAgICBzZWxlY3QsXG4gICAgc2V0UG9wdXBDZWxsXG4gIH0gPSB1c2VTZWxlY3RhYmxlVGFibGVDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNlbGVjdGVkID0gc2VsZWN0ZWRDZWxsPy5wcm9wZXJ0eUtleSA9PT0gcHJvcGVydHlLZXkgJiYgc2VsZWN0ZWRDZWxsPy5lbnRpdHlQYXRoID09PSBlbnRpdHkucGF0aCAmJiBzZWxlY3RlZENlbGw/LmVudGl0eUlkID09PSBlbnRpdHkuaWQ7XG4gIGNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcbiAgY29uc3QgaW50ZXJuYWxWYWx1ZVJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW3ZhbGlkYXRpb25FcnJvciwgc2V0VmFsaWRhdGlvbkVycm9yXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtzYXZlZCwgc2V0U2F2ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBvblZhbHVlVXBkYXRlZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTYXZlZCh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFNhdmVkKGZhbHNlKTtcbiAgICB9LCAxMDApO1xuICB9LCBbXSk7XG4gIGNvbnN0IGN1c3RvbUZpZWxkID0gQm9vbGVhbihwcm9wZXJ0eS5GaWVsZCk7XG4gIGNvbnN0IGN1c3RvbVByZXZpZXcgPSBCb29sZWFuKHByb3BlcnR5LlByZXZpZXcpO1xuICBjb25zdCByZWFkT25seVByb3BlcnR5ID0gaXNSZWFkT25seShwcm9wZXJ0eSk7XG4gIGNvbnN0IGRpc2FibGVkVG9vbHRpcCA9IHR5cGVvZiBwcm9wZXJ0eS5kaXNhYmxlZCA9PT0gXCJvYmplY3RcIiA/IHByb3BlcnR5LmRpc2FibGVkLmRpc2FibGVkTWVzc2FnZSA6IHZvaWQgMDtcbiAgY29uc3QgZGlzYWJsZWQgPSByZWFkb25seSB8fCBkaXNhYmxlZFByb3AgfHwgQm9vbGVhbihwcm9wZXJ0eS5kaXNhYmxlZCk7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSB1c2VNZW1vKCgpID0+IG1hcFByb3BlcnR5VG9ZdXAoe1xuICAgIHByb3BlcnR5LFxuICAgIGVudGl0eUlkOiBlbnRpdHkuaWQsXG4gICAgY3VzdG9tRmllbGRWYWxpZGF0b3IsXG4gICAgbmFtZTogcHJvcGVydHlLZXlcbiAgfSksIFtlbnRpdHkuaWQsIHByb3BlcnR5LCBwcm9wZXJ0eUtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZXF1YWwodmFsdWUsIGludGVybmFsVmFsdWVSZWYuY3VycmVudCkpIHtcbiAgICAgIHNldFZhbGlkYXRpb25FcnJvcih2b2lkIDApO1xuICAgICAgc2V0SW50ZXJuYWxWYWx1ZSh2YWx1ZSk7XG4gICAgICBpbnRlcm5hbFZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgIG9uVmFsdWVVcGRhdGVkKCk7XG4gICAgfVxuICB9LCBbb25WYWx1ZVVwZGF0ZWQsIHZhbHVlXSk7XG4gIGNvbnN0IHNhdmVWYWx1ZXMgPSAodmFsdWVfMCkgPT4ge1xuICAgIGlmIChlcXVhbCh2YWx1ZV8wLCBpbnRlcm5hbFZhbHVlUmVmLmN1cnJlbnQpKSByZXR1cm47XG4gICAgc2V0U2F2ZWQoZmFsc2UpO1xuICAgIHZhbGlkYXRpb24udmFsaWRhdGUodmFsdWVfMCkudGhlbigoKSA9PiB7XG4gICAgICBzZXRWYWxpZGF0aW9uRXJyb3Iodm9pZCAwKTtcbiAgICAgIGludGVybmFsVmFsdWVSZWYuY3VycmVudCA9IHZhbHVlXzA7XG4gICAgICBpZiAob25WYWx1ZUNoYW5nZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG9uVmFsdWVDaGFuZ2Uoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXzAsXG4gICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIHNldEVycm9yLFxuICAgICAgICAgICAgb25WYWx1ZVVwZGF0ZWQsXG4gICAgICAgICAgICBkYXRhOiBlbnRpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvblZhbHVlQ2hhbmdlIGVycm9yXCIsIGUpO1xuICAgICAgICAgIHNldEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVfMCkgPT4ge1xuICAgICAgc2V0VmFsaWRhdGlvbkVycm9yKGVfMCk7XG4gICAgfSk7XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFsaWRhdGlvbi52YWxpZGF0ZShpbnRlcm5hbFZhbHVlKS50aGVuKCgpID0+IHNldFZhbGlkYXRpb25FcnJvcih2b2lkIDApKS5jYXRjaChzZXRWYWxpZGF0aW9uRXJyb3IpO1xuICB9LCBbaW50ZXJuYWxWYWx1ZSwgdmFsaWRhdGlvbiwgcHJvcGVydHlLZXksIHByb3BlcnR5LCBlbnRpdHldKTtcbiAgY29uc3QgdXBkYXRlVmFsdWUgPSAobmV3VmFsdWUpID0+IHtcbiAgICBsZXQgdXBkYXRlZFZhbHVlO1xuICAgIGlmIChuZXdWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB1cGRhdGVkVmFsdWUgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgc2V0SW50ZXJuYWxWYWx1ZSh1cGRhdGVkVmFsdWUpO1xuICAgIHNhdmVWYWx1ZXModXBkYXRlZFZhbHVlKTtcbiAgfTtcbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUoe1xuICAgIHByb3BlcnR5LFxuICAgIHZhbHVlOiBpbnRlcm5hbFZhbHVlLFxuICAgIHNldFZhbHVlOiB1cGRhdGVWYWx1ZVxuICB9KTtcbiAgY29uc3Qgb25TZWxlY3QgPSB1c2VDYWxsYmFjaygoY2VsbFJlY3QpID0+IHtcbiAgICBpZiAoIWNlbGxSZWN0KSB7XG4gICAgICBzZWxlY3Qodm9pZCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0KHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgZW50aXR5UGF0aDogZW50aXR5LnBhdGgsXG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHkuaWQsXG4gICAgICAgIGNlbGxSZWN0LFxuICAgICAgICBwcm9wZXJ0eUtleVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZW50aXR5LCBoZWlnaHQsIHByb3BlcnR5S2V5LCBzZWxlY3QsIHdpZHRoXSk7XG4gIGNvbnN0IG9wZW5Qb3B1cCA9IChjZWxsUmVjdF8wKSA9PiB7XG4gICAgaWYgKCFzZXRQb3B1cENlbGwpIHJldHVybjtcbiAgICBpZiAoIWNlbGxSZWN0XzApIHtcbiAgICAgIHNldFBvcHVwQ2VsbCh2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQb3B1cENlbGwoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBlbnRpdHlQYXRoOiBlbnRpdHkucGF0aCxcbiAgICAgICAgZW50aXR5SWQ6IGVudGl0eS5pZCxcbiAgICAgICAgY2VsbFJlY3Q6IGNlbGxSZWN0XzAsXG4gICAgICAgIHByb3BlcnR5S2V5XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGxldCBpbm5lckNvbXBvbmVudDtcbiAgbGV0IGFsbG93U2Nyb2xsID0gZmFsc2U7XG4gIGxldCBzaG93RXhwYW5kSWNvbiA9IGZhbHNlO1xuICBsZXQgaGlkZU92ZXJmbG93ID0gdHJ1ZTtcbiAgbGV0IHJlbW92ZVBhZGRpbmcgPSBmYWxzZTtcbiAgbGV0IGZ1bGxIZWlnaHQgPSBmYWxzZTtcbiAgbGV0IGluY2x1ZGVBY3Rpb25zID0gdHJ1ZTtcbiAgY29uc3Qgc2hvd0Vycm9yID0gIWRpc2FibGVkICYmIGVycm9yO1xuICBpZiAocmVhZG9ubHkgfHwgcmVhZE9ubHlQcm9wZXJ0eSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eVRhYmxlQ2VsbCwgeyBzaXplLCB3aWR0aCwgc2F2ZWQsIHZhbHVlOiBpbnRlcm5hbFZhbHVlLCBhbGlnbjogYWxpZ24gPz8gXCJsZWZ0XCIsIGZ1bGxIZWlnaHQ6IGZhbHNlLCBkaXNhYmxlZFRvb2x0aXA6IGRpc2FibGVkVG9vbHRpcCA/PyAocmVhZE9ubHlQcm9wZXJ0eSA/IFwiUmVhZCBvbmx5XCIgOiB2b2lkIDApLCBkaXNhYmxlZDogdHJ1ZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlQcmV2aWV3LCB7IHdpZHRoLCBoZWlnaHQ6IGdldFJvd0hlaWdodChzaXplKSwgcHJvcGVydHlLZXksIHByb3BlcnR5LCB2YWx1ZTogaW50ZXJuYWxWYWx1ZSwgc2l6ZTogZ2V0UHJldmlld1NpemVGcm9tKHNpemUpIH0pIH0sIGAke3Byb3BlcnR5S2V5fV8ke2VudGl0eS5wYXRofV8ke2VudGl0eS5pZH1gKTtcbiAgfVxuICBpZiAoIWN1c3RvbUZpZWxkICYmICghY3VzdG9tUHJldmlldyB8fCBzZWxlY3RlZCkpIHtcbiAgICBjb25zdCBpc0FTdG9yYWdlUHJvcGVydHkgPSBpc1N0b3JhZ2VQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgaWYgKGlzQVN0b3JhZ2VQcm9wZXJ0eSkge1xuICAgICAgaW5uZXJDb21wb25lbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFRhYmxlU3RvcmFnZVVwbG9hZCwgeyBlcnJvcjogdmFsaWRhdGlvbkVycm9yID8/IGVycm9yLCBkaXNhYmxlZCwgZm9jdXNlZDogc2VsZWN0ZWQsIHNlbGVjdGVkLCBvcGVuUG9wdXA6IHNldFBvcHVwQ2VsbCA/IG9wZW5Qb3B1cCA6IHZvaWQgMCwgcHJvcGVydHksIGVudGl0eSwgcGF0aCwgdmFsdWU6IGludGVybmFsVmFsdWUsIHByZXZpZXdTaXplOiBnZXRQcmV2aWV3U2l6ZUZyb20oc2l6ZSksIHVwZGF0ZVZhbHVlLCBwcm9wZXJ0eUtleSB9KTtcbiAgICAgIGluY2x1ZGVBY3Rpb25zID0gZmFsc2U7XG4gICAgICBzaG93RXhwYW5kSWNvbiA9IHRydWU7XG4gICAgICBmdWxsSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIHJlbW92ZVBhZGRpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWQgJiYgcHJvcGVydHkuZGF0YVR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IG51bWJlclByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICBpZiAobnVtYmVyUHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgICAgICBpbm5lckNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlU2VsZWN0LCB7IG5hbWU6IHByb3BlcnR5S2V5LCBtdWx0aXBsZTogZmFsc2UsIGRpc2FibGVkLCBmb2N1c2VkOiBzZWxlY3RlZCwgdmFsdWVUeXBlOiBcIm51bWJlclwiLCBzbWFsbDogZ2V0UHJldmlld1NpemVGcm9tKHNpemUpICE9PSBcIm1lZGl1bVwiLCBlbnVtVmFsdWVzOiBudW1iZXJQcm9wZXJ0eS5lbnVtVmFsdWVzLCBlcnJvcjogdmFsaWRhdGlvbkVycm9yID8/IGVycm9yLCBpbnRlcm5hbFZhbHVlLCB1cGRhdGVWYWx1ZSB9KTtcbiAgICAgICAgZnVsbEhlaWdodCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbm5lckNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlTnVtYmVySW5wdXQsIHsgYWxpZ24sIGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgPz8gZXJyb3IsIGZvY3VzZWQ6IHNlbGVjdGVkLCBkaXNhYmxlZCwgdmFsdWU6IGludGVybmFsVmFsdWUsIHVwZGF0ZVZhbHVlIH0pO1xuICAgICAgICBhbGxvd1Njcm9sbCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWxlY3RlZCAmJiBwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgc3RyaW5nUHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICAgIGlmIChzdHJpbmdQcm9wZXJ0eS5lbnVtVmFsdWVzKSB7XG4gICAgICAgIGlubmVyQ29tcG9uZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChWaXJ0dWFsVGFibGVTZWxlY3QsIHsgbmFtZTogcHJvcGVydHlLZXksIG11bHRpcGxlOiBmYWxzZSwgZm9jdXNlZDogc2VsZWN0ZWQsIGRpc2FibGVkLCB2YWx1ZVR5cGU6IFwic3RyaW5nXCIsIHNtYWxsOiBnZXRQcmV2aWV3U2l6ZUZyb20oc2l6ZSkgIT09IFwibWVkaXVtXCIsIGVudW1WYWx1ZXM6IHN0cmluZ1Byb3BlcnR5LmVudW1WYWx1ZXMsIGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgPz8gZXJyb3IsIGludGVybmFsVmFsdWUsIHVwZGF0ZVZhbHVlIH0pO1xuICAgICAgICBmdWxsSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nUHJvcGVydHkubWFya2Rvd24gfHwgIXN0cmluZ1Byb3BlcnR5LnN0b3JhZ2UpIHtcbiAgICAgICAgY29uc3QgbXVsdGlsaW5lID0gQm9vbGVhbihzdHJpbmdQcm9wZXJ0eS5tdWx0aWxpbmUpIHx8IEJvb2xlYW4oc3RyaW5nUHJvcGVydHkubWFya2Rvd24pO1xuICAgICAgICBpbm5lckNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlSW5wdXQsIHsgZXJyb3I6IHZhbGlkYXRpb25FcnJvciA/PyBlcnJvciwgZGlzYWJsZWQsIG11bHRpbGluZSwgZm9jdXNlZDogc2VsZWN0ZWQsIHZhbHVlOiBpbnRlcm5hbFZhbHVlLCB1cGRhdGVWYWx1ZSB9KTtcbiAgICAgICAgYWxsb3dTY3JvbGwgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpbm5lckNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlU3dpdGNoLCB7IGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgPz8gZXJyb3IsIGRpc2FibGVkLCBmb2N1c2VkOiBzZWxlY3RlZCwgaW50ZXJuYWxWYWx1ZSwgdXBkYXRlVmFsdWUgfSk7XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJkYXRlXCIpIHtcbiAgICAgIGlubmVyQ29tcG9uZW50ID0gLyogQF9fUFVSRV9fICovIGpzeChWaXJ0dWFsVGFibGVEYXRlRmllbGQsIHsgbmFtZTogcHJvcGVydHlLZXksIGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgPz8gZXJyb3IsIGRpc2FibGVkLCBtb2RlOiBwcm9wZXJ0eS5tb2RlLCBmb2N1c2VkOiBzZWxlY3RlZCwgaW50ZXJuYWxWYWx1ZSwgdXBkYXRlVmFsdWUgfSk7XG4gICAgICBmdWxsSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIGhpZGVPdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgYWxsb3dTY3JvbGwgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3BlcnR5LnBhdGggPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaW5uZXJDb21wb25lbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFRhYmxlUmVmZXJlbmNlRmllbGQsIHsgbmFtZTogcHJvcGVydHlLZXksIGludGVybmFsVmFsdWUsIHVwZGF0ZVZhbHVlLCBkaXNhYmxlZCwgc2l6ZSwgcGF0aDogcHJvcGVydHkucGF0aCwgbXVsdGlzZWxlY3Q6IGZhbHNlLCBwcmV2aWV3UHJvcGVydGllczogcHJvcGVydHkucHJldmlld1Byb3BlcnRpZXMsIGluY2x1ZGVJZDogcHJvcGVydHkuaW5jbHVkZUlkLCBpbmNsdWRlRW50aXR5TGluazogcHJvcGVydHkuaW5jbHVkZUVudGl0eUxpbmssIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBmb3JjZUZpbHRlcjogcHJvcGVydHkuZm9yY2VGaWx0ZXIgfSk7XG4gICAgICB9XG4gICAgICBhbGxvd1Njcm9sbCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgY29uc3QgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgaWYgKCFhcnJheVByb3BlcnR5Lm9mICYmICFhcnJheVByb3BlcnR5Lm9uZU9mKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBZb3UgbmVlZCB0byBzcGVjaWZ5IGFuICdvZicgb3IgJ29uZU9mJyBwcm9wIChvciBzcGVjaWZ5IGEgY3VzdG9tIGZpZWxkKSBpbiB5b3VyIGFycmF5IHByb3BlcnR5ICR7cHJvcGVydHlLZXl9YCk7XG4gICAgICB9XG4gICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZiAmJiAhQXJyYXkuaXNBcnJheShhcnJheVByb3BlcnR5Lm9mKSkge1xuICAgICAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZi5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBhcnJheVByb3BlcnR5Lm9mLmRhdGFUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkICYmIGFycmF5UHJvcGVydHkub2YuZW51bVZhbHVlcykge1xuICAgICAgICAgICAgaW5uZXJDb21wb25lbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFZpcnR1YWxUYWJsZVNlbGVjdCwgeyBuYW1lOiBwcm9wZXJ0eUtleSwgbXVsdGlwbGU6IHRydWUsIGRpc2FibGVkLCBmb2N1c2VkOiBzZWxlY3RlZCwgc21hbGw6IGdldFByZXZpZXdTaXplRnJvbShzaXplKSAhPT0gXCJtZWRpdW1cIiwgdmFsdWVUeXBlOiBhcnJheVByb3BlcnR5Lm9mLmRhdGFUeXBlLCBlbnVtVmFsdWVzOiBhcnJheVByb3BlcnR5Lm9mLmVudW1WYWx1ZXMsIGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgPz8gZXJyb3IsIGludGVybmFsVmFsdWUsIHVwZGF0ZVZhbHVlIH0pO1xuICAgICAgICAgICAgYWxsb3dTY3JvbGwgPSB0cnVlO1xuICAgICAgICAgICAgZnVsbEhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICBoaWRlT3ZlcmZsb3cgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYXJyYXlQcm9wZXJ0eS5vZi5kYXRhVHlwZSA9PT0gXCJyZWZlcmVuY2VcIikge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlQcm9wZXJ0eS5vZi5wYXRoID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpbm5lckNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVGFibGVSZWZlcmVuY2VGaWVsZCwgeyBuYW1lOiBwcm9wZXJ0eUtleSwgZGlzYWJsZWQsIGludGVybmFsVmFsdWUsIHVwZGF0ZVZhbHVlLCBzaXplLCBtdWx0aXNlbGVjdDogdHJ1ZSwgcGF0aDogYXJyYXlQcm9wZXJ0eS5vZi5wYXRoLCBwcmV2aWV3UHJvcGVydGllczogYXJyYXlQcm9wZXJ0eS5vZi5wcmV2aWV3UHJvcGVydGllcywgdGl0bGU6IGFycmF5UHJvcGVydHkubmFtZSwgZm9yY2VGaWx0ZXI6IGFycmF5UHJvcGVydHkub2YuZm9yY2VGaWx0ZXIsIGluY2x1ZGVJZDogYXJyYXlQcm9wZXJ0eS5vZi5pbmNsdWRlSWQsIGluY2x1ZGVFbnRpdHlMaW5rOiBhcnJheVByb3BlcnR5Lm9mLmluY2x1ZGVFbnRpdHlMaW5rIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbGxvd1Njcm9sbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICghaW5uZXJDb21wb25lbnQpIHtcbiAgICBhbGxvd1Njcm9sbCA9IGZhbHNlO1xuICAgIHNob3dFeHBhbmRJY29uID0gZW5hYmxlUG9wdXBJY29uICYmIHNlbGVjdGVkICYmICFpbm5lckNvbXBvbmVudCAmJiAhZGlzYWJsZWQgJiYgIXJlYWRPbmx5UHJvcGVydHk7XG4gICAgaW5uZXJDb21wb25lbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyB3aWR0aCwgaGVpZ2h0LCBwcm9wZXJ0eUtleSwgdmFsdWU6IGludGVybmFsVmFsdWUsIHByb3BlcnR5LCBzaXplOiBnZXRQcmV2aWV3U2l6ZUZyb20oc2l6ZSkgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5VGFibGVDZWxsLCB7IHNpemUsIHdpZHRoLCBvblNlbGVjdCwgc2VsZWN0ZWQsIGRpc2FibGVkOiBkaXNhYmxlZCB8fCByZWFkT25seVByb3BlcnR5LCBkaXNhYmxlZFRvb2x0aXA6IGRpc2FibGVkVG9vbHRpcCA/PyBcIkRpc2FibGVkXCIsIHJlbW92ZVBhZGRpbmcsIGZ1bGxIZWlnaHQsIHNhdmVkLCBlcnJvcjogdmFsaWRhdGlvbkVycm9yID8/IGVycm9yLCBhbGlnbiwgYWxsb3dTY3JvbGwsIHNob3dFeHBhbmRJY29uLCB2YWx1ZTogaW50ZXJuYWxWYWx1ZSwgaGlkZU92ZXJmbG93LCBhY3Rpb25zOiBpbmNsdWRlQWN0aW9ucyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eVRhYmxlQ2VsbEFjdGlvbnMsIHsgc2hvd0Vycm9yLCBkaXNhYmxlZCwgc2hvd0V4cGFuZEljb24sIHNlbGVjdGVkLCBvcGVuUG9wdXA6ICFkaXNhYmxlZCA/IG9wZW5Qb3B1cCA6IHZvaWQgMCB9KSwgY2hpbGRyZW46IGlubmVyQ29tcG9uZW50IH0sIGBjZWxsXyR7cHJvcGVydHlLZXl9XyR7ZW50aXR5LnBhdGh9XyR7ZW50aXR5LmlkfWApO1xufSwgYXJlRXF1YWwpO1xuZnVuY3Rpb24gYXJlRXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcbiAgcmV0dXJuIHByZXZQcm9wcy5oZWlnaHQgPT09IG5leHRQcm9wcy5oZWlnaHQgJiYgcHJldlByb3BzLnByb3BlcnR5S2V5ID09PSBuZXh0UHJvcHMucHJvcGVydHlLZXkgJiYgcHJldlByb3BzLmFsaWduID09PSBuZXh0UHJvcHMuYWxpZ24gJiYgcHJldlByb3BzLndpZHRoID09PSBuZXh0UHJvcHMud2lkdGggJiYgZXF1YWwocHJldlByb3BzLnByb3BlcnR5LCBuZXh0UHJvcHMucHJvcGVydHkpICYmIGVxdWFsKHByZXZQcm9wcy52YWx1ZSwgbmV4dFByb3BzLnZhbHVlKSAmJiBlcXVhbChwcmV2UHJvcHMuZW50aXR5LmlkLCBuZXh0UHJvcHMuZW50aXR5LmlkKSAmJiBlcXVhbChwcmV2UHJvcHMuZW50aXR5LnZhbHVlcywgbmV4dFByb3BzLmVudGl0eS52YWx1ZXMpO1xufVxuY29uc3QgTE9DQUxfU1RPUkFHRV9QUkVGSVggPSBcImVudGl0eV9jYWNoZTo6XCI7XG5jb25zdCBlbnRpdHlDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5jb25zdCBpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSA9IHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09IFwidW5kZWZpbmVkXCI7XG5mdW5jdGlvbiBjdXN0b21SZXBsYWNlcihrZXkpIHtcbiAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiBcIkRhdGVcIixcbiAgICAgIHZhbHVlOiB2YWx1ZS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFbnRpdHlSZWZlcmVuY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiBcIkVudGl0eVJlZmVyZW5jZVwiLFxuICAgICAgaWQ6IHZhbHVlLmlkLFxuICAgICAgcGF0aDogdmFsdWUucGF0aFxuICAgIH07XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgR2VvUG9pbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiBcIkdlb1BvaW50XCIsXG4gICAgICBsYXRpdHVkZTogdmFsdWUubGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGU6IHZhbHVlLmxvbmdpdHVkZVxuICAgIH07XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVmVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogXCJWZWN0b3JcIixcbiAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gY3VzdG9tUmV2aXZlcihrZXksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJfX3R5cGVcIiBpbiB2YWx1ZSkge1xuICAgIHN3aXRjaCAodmFsdWUuX190eXBlKSB7XG4gICAgICBjYXNlIFwiRGF0ZVwiOlxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUudmFsdWUpO1xuICAgICAgY2FzZSBcIkVudGl0eVJlZmVyZW5jZVwiOlxuICAgICAgICByZXR1cm4gbmV3IEVudGl0eVJlZmVyZW5jZSh2YWx1ZS5pZCwgdmFsdWUucGF0aCk7XG4gICAgICBjYXNlIFwiR2VvUG9pbnRcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBHZW9Qb2ludCh2YWx1ZS5sYXRpdHVkZSwgdmFsdWUubG9uZ2l0dWRlKTtcbiAgICAgIGNhc2UgXCJWZWN0b3JcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodmFsdWUudmFsdWUpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5pZiAoaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgdHJ5IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZnVsbEtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICBpZiAoZnVsbEtleSAmJiBmdWxsS2V5LnN0YXJ0c1dpdGgoTE9DQUxfU1RPUkFHRV9QUkVGSVgpKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBmdWxsS2V5LnN1YnN0cmluZyhMT0NBTF9TVE9SQUdFX1BSRUZJWC5sZW5ndGgpO1xuICAgICAgICBjb25zdCBlbnRpdHlTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmdWxsS2V5KTtcbiAgICAgICAgaWYgKGVudGl0eVN0cmluZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBKU09OLnBhcnNlKGVudGl0eVN0cmluZywgY3VzdG9tUmV2aXZlcik7XG4gICAgICAgICAgICBlbnRpdHlDYWNoZS5zZXQocGF0aCwgZW50aXR5KTtcbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGFyc2UgZW50aXR5IGZvciBwYXRoIFwiJHtwYXRofVwiIGZyb20gbG9jYWxTdG9yYWdlOmAsIHBhcnNlRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWNjZXNzaW5nIGxvY2FsU3RvcmFnZSBkdXJpbmcgaW5pdGlhbGl6YXRpb246XCIsIGVycm9yKTtcbiAgfVxufVxuZnVuY3Rpb24gc2F2ZUVudGl0eVRvQ2FjaGUocGF0aCwgZGF0YSkge1xuICBlbnRpdHlDYWNoZS5zZXQocGF0aCwgZGF0YSk7XG4gIGlmIChpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXkgPSBMT0NBTF9TVE9SQUdFX1BSRUZJWCArIHBhdGg7XG4gICAgICBjb25zdCBlbnRpdHlTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBjdXN0b21SZXBsYWNlcik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGVudGl0eVN0cmluZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzYXZlIGVudGl0eSBmb3IgcGF0aCBcIiR7cGF0aH1cIiB0byBsb2NhbFN0b3JhZ2U6YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0RW50aXR5RnJvbUNhY2hlKHBhdGgpIHtcbiAgaWYgKGVudGl0eUNhY2hlLmhhcyhwYXRoKSkge1xuICAgIHJldHVybiBlbnRpdHlDYWNoZS5nZXQocGF0aCk7XG4gIH1cbiAgaWYgKGlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IExPQ0FMX1NUT1JBR0VfUFJFRklYICsgcGF0aDtcbiAgICAgIGNvbnN0IGVudGl0eVN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoZW50aXR5U3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IEpTT04ucGFyc2UoZW50aXR5U3RyaW5nLCBjdXN0b21SZXZpdmVyKTtcbiAgICAgICAgZW50aXR5Q2FjaGUuc2V0KHBhdGgsIGVudGl0eSk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGVudGl0eSBmb3IgcGF0aCBcIiR7cGF0aH1cIiBmcm9tIGxvY2FsU3RvcmFnZTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBoYXNFbnRpdHlJbkNhY2hlKHBhdGgpIHtcbiAgcmV0dXJuIGVudGl0eUNhY2hlLmhhcyhwYXRoKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUVudGl0eUZyb21DYWNoZShwYXRoKSB7XG4gIGNvbnNvbGUuZGVidWcoXCJSZW1vdmluZyBlbnRpdHkgZnJvbSBjYWNoZVwiLCBwYXRoKTtcbiAgZW50aXR5Q2FjaGUuZGVsZXRlKHBhdGgpO1xuICBpZiAoaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5ID0gTE9DQUxfU1RPUkFHRV9QUkVGSVggKyBwYXRoO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlbW92ZSBlbnRpdHkgZm9yIHBhdGggXCIke3BhdGh9XCIgZnJvbSBsb2NhbFN0b3JhZ2U6YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgRW50aXR5Q29sbGVjdGlvblJvd0FjdGlvbnMgPSBmdW5jdGlvbiBFbnRpdHlDb2xsZWN0aW9uUm93QWN0aW9uczIoe1xuICBlbnRpdHksXG4gIGNvbGxlY3Rpb24sXG4gIGZ1bGxQYXRoLFxuICB3aWR0aCxcbiAgZnJvemVuLFxuICBpc1NlbGVjdGVkLFxuICBzZWxlY3Rpb25FbmFibGVkLFxuICBzaXplLFxuICBoaWdobGlnaHRFbnRpdHksXG4gIG9uQ29sbGVjdGlvbkNoYW5nZSxcbiAgdW5oaWdobGlnaHRFbnRpdHksXG4gIGFjdGlvbnMgPSBbXSxcbiAgaGlkZUlkLFxuICBzZWxlY3Rpb25Db250cm9sbGVyLFxuICBvcGVuRW50aXR5TW9kZVxufSkge1xuICBjb25zdCBsYXJnZUxheW91dCA9IHVzZUxhcmdlTGF5b3V0KCk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBvbkNoZWNrZWRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoY2hlY2tlZCkgPT4ge1xuICAgIHNlbGVjdGlvbkNvbnRyb2xsZXI/LnRvZ2dsZUVudGl0eVNlbGVjdGlvbihlbnRpdHksIGNoZWNrZWQpO1xuICB9LCBbZW50aXR5LCBzZWxlY3Rpb25Db250cm9sbGVyPy50b2dnbGVFbnRpdHlTZWxlY3Rpb25dKTtcbiAgY29uc3QgaGFzQWN0aW9ucyA9IGFjdGlvbnMubGVuZ3RoID4gMDtcbiAgY29uc3QgaGFzQ29sbGFwc2VkQWN0aW9ucyA9IGFjdGlvbnMuc29tZSgoYSkgPT4gYS5jb2xsYXBzZWQgfHwgYS5jb2xsYXBzZWQgPT09IHZvaWQgMCk7XG4gIGNvbnN0IGNvbGxhcHNlZEFjdGlvbnMgPSBhY3Rpb25zLmZpbHRlcigoYV8wKSA9PiBhXzAuY29sbGFwc2VkIHx8IGFfMC5jb2xsYXBzZWQgPT09IHZvaWQgMCk7XG4gIGNvbnN0IHVuY29sbGFwc2VkQWN0aW9ucyA9IGFjdGlvbnMuZmlsdGVyKChhXzEpID0+IGFfMS5jb2xsYXBzZWQgPT09IGZhbHNlKTtcbiAgY29uc3QgaGFzRHJhZnQgPSBoYXNFbnRpdHlJbkNhY2hlKGZ1bGxQYXRoICsgXCIvXCIgKyBlbnRpdHkuaWQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcImgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LWNvbCBiZy1zdXJmYWNlLTUwIGRhcms6Ymctc3VyZmFjZS05MDAgYmctb3BhY2l0eS05MCBkYXJrOmJnLW9wYWNpdHktOTAgei0xMFwiLCBmcm96ZW4gPyBcInN0aWNreSBsZWZ0LTBcIiA6IFwiXCIpLCBvbkNsaWNrOiB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSwgW10pLCBzdHlsZToge1xuICAgIHdpZHRoLFxuICAgIHBvc2l0aW9uOiBmcm96ZW4gPyBcInN0aWNreVwiIDogXCJpbml0aWFsXCIsXG4gICAgbGVmdDogZnJvemVuID8gMCA6IFwiaW5pdGlhbFwiLFxuICAgIGNvbnRhaW46IFwic3RyaWN0XCJcbiAgfSwgY2hpbGRyZW46IFtcbiAgICAoaGFzQWN0aW9ucyB8fCBzZWxlY3Rpb25FbmFibGVkKSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LTM0IGZsZXgganVzdGlmeS1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHVuY29sbGFwc2VkQWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogYWN0aW9uLm5hbWUsIGFzQ2hpbGQ6IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgb25DbGljazogKGV2ZW50XzApID0+IHtcbiAgICAgICAgZXZlbnRfMC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgYWN0aW9uLm9uQ2xpY2soe1xuICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICBmdWxsUGF0aCxcbiAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgc2VsZWN0aW9uQ29udHJvbGxlcixcbiAgICAgICAgICBoaWdobGlnaHRFbnRpdHksXG4gICAgICAgICAgdW5oaWdobGlnaHRFbnRpdHksXG4gICAgICAgICAgb25Db2xsZWN0aW9uQ2hhbmdlLFxuICAgICAgICAgIG9wZW5FbnRpdHlNb2RlOiBvcGVuRW50aXR5TW9kZSA/PyBjb2xsZWN0aW9uPy5vcGVuRW50aXR5TW9kZVxuICAgICAgICB9KTtcbiAgICAgIH0sIHNpemU6IGxhcmdlTGF5b3V0ID8gXCJtZWRpdW1cIiA6IFwic21hbGxcIiwgY2hpbGRyZW46IGFjdGlvbi5pY29uIH0pIH0sIGluZGV4KSksXG4gICAgICBoYXNDb2xsYXBzZWRBY3Rpb25zICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudSwgeyB0cmlnZ2VyOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgc2l6ZTogbGFyZ2VMYXlvdXQgPyBcIm1lZGl1bVwiIDogXCJzbWFsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChNb3JlVmVydEljb24sIHt9KSB9KSwgY2hpbGRyZW46IGNvbGxhcHNlZEFjdGlvbnMubWFwKChhY3Rpb25fMCwgaW5kZXhfMCkgPT4gLyogQF9fUFVSRV9fICovIGpzeHMoTWVudUl0ZW0sIHsgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgYWN0aW9uXzAub25DbGljayh7XG4gICAgICAgICAgZW50aXR5LFxuICAgICAgICAgIGZ1bGxQYXRoLFxuICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBzZWxlY3Rpb25Db250cm9sbGVyLFxuICAgICAgICAgIGhpZ2hsaWdodEVudGl0eSxcbiAgICAgICAgICB1bmhpZ2hsaWdodEVudGl0eSxcbiAgICAgICAgICBvbkNvbGxlY3Rpb25DaGFuZ2UsXG4gICAgICAgICAgb3BlbkVudGl0eU1vZGU6IG9wZW5FbnRpdHlNb2RlID8/IGNvbGxlY3Rpb24/Lm9wZW5FbnRpdHlNb2RlXG4gICAgICAgIH0pO1xuICAgICAgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgYWN0aW9uXzAuaWNvbixcbiAgICAgICAgYWN0aW9uXzAubmFtZVxuICAgICAgXSB9LCBpbmRleF8wKSkgfSksXG4gICAgICBzZWxlY3Rpb25FbmFibGVkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogYFNlbGVjdCAke2VudGl0eS5pZH1gLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDaGVja2JveCwgeyBzaXplOiBsYXJnZUxheW91dCA/IFwibWVkaXVtXCIgOiBcInNtYWxsXCIsIGNoZWNrZWQ6IEJvb2xlYW4oaXNTZWxlY3RlZCksIG9uQ2hlY2tlZENoYW5nZSB9KSB9KVxuICAgIF0gfSksXG4gICAgIWhpZGVJZCAmJiBzaXplICE9PSBcInhzXCIgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidy1bMTM4cHhdIG92ZXJmbG93LWhpZGRlbiB0cnVuY2F0ZSBmb250LW1vbm8gdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrIG1heC13LWZ1bGwgdGV4dC1lbGxpcHNpcyBweC0yIGFsaWduLWNlbnRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMVwiLCBvbkNsaWNrOiAoZXZlbnRfMSkgPT4ge1xuICAgICAgZXZlbnRfMS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgaGFzRHJhZnQgJiYgLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBcIlVuc2F2ZWQgY2hhbmdlc1wiLCBjbGFzc05hbWU6IFwiaW5saW5lXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENoaXAsIHsgY29sb3JTY2hlbWU6IFwib3JhbmdlRGFya2VyXCIsIGNsYXNzTmFtZTogXCJwLTAuNVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFZGl0SWNvbiwgeyBzaXplOiAxMiB9KSB9KSB9KSxcbiAgICAgIGVudGl0eSA/IGVudGl0eS5pZCA6IC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHt9KVxuICAgIF0gfSlcbiAgXSB9KTtcbn07XG5mdW5jdGlvbiBDb2xsZWN0aW9uVGFibGVUb29sYmFyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMwKTtcbiAgY29uc3Qge1xuICAgIGFjdGlvbnMsXG4gICAgYWN0aW9uc1N0YXJ0LFxuICAgIGxvYWRpbmcsXG4gICAgb25TaXplQ2hhbmdlZCxcbiAgICBvblRleHRTZWFyY2gsXG4gICAgb25UZXh0U2VhcmNoQ2xpY2ssXG4gICAgc2l6ZSxcbiAgICB0ZXh0U2VhcmNoTG9hZGluZyxcbiAgICB0aXRsZVxuICB9ID0gdDA7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO1xuICBjb25zdCBsYXJnZUxheW91dCA9IHVzZUxhcmdlTGF5b3V0KCk7XG4gIGNvbnN0IHNlYXJjaExvYWRpbmcgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoZmFsc2UpO1xuICBsZXQgdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbMF0gIT09IHRleHRTZWFyY2hMb2FkaW5nKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCAmJiBzZWFyY2hMb2FkaW5nLmN1cnJlbnQgJiYgIXRleHRTZWFyY2hMb2FkaW5nKSB7XG4gICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIHNlYXJjaExvYWRpbmcuY3VycmVudCA9IHRleHRTZWFyY2hMb2FkaW5nID8/IGZhbHNlO1xuICAgIH07XG4gICAgdDIgPSBbdGV4dFNlYXJjaExvYWRpbmddO1xuICAgICRbMF0gPSB0ZXh0U2VhcmNoTG9hZGluZztcbiAgICAkWzFdID0gdDE7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgdXNlRWZmZWN0KHQxLCB0Mik7XG4gIGNvbnN0IHQzID0gc2l6ZTtcbiAgbGV0IHQ0O1xuICBpZiAoJFszXSAhPT0gb25TaXplQ2hhbmdlZCkge1xuICAgIHQ0ID0gKHYpID0+IG9uU2l6ZUNoYW5nZWQodik7XG4gICAgJFszXSA9IG9uU2l6ZUNoYW5nZWQ7XG4gICAgJFs0XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs0XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzVdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ1ID0gW1wieHNcIiwgXCJzXCIsIFwibVwiLCBcImxcIiwgXCJ4bFwiXS5tYXAoX3RlbXAyJDgpO1xuICAgICRbNV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbNV07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFs2XSAhPT0gdDMgfHwgJFs3XSAhPT0gdDQpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogXCJUYWJsZSByb3cgc2l6ZVwiLCBzaWRlOiBcInJpZ2h0XCIsIHNpZGVPZmZzZXQ6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyB2YWx1ZTogdDMsIGNsYXNzTmFtZTogXCJ3LTE2IGgtMTBcIiwgc2l6ZTogXCJzbWFsbFwiLCBvblZhbHVlQ2hhbmdlOiB0NCwgcmVuZGVyVmFsdWU6IF90ZW1wJGksIGNoaWxkcmVuOiB0NSB9KSB9KTtcbiAgICAkWzZdID0gdDM7XG4gICAgJFs3XSA9IHQ0O1xuICAgICRbOF0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbOF07XG4gIH1cbiAgY29uc3Qgc2l6ZVNlbGVjdCA9IHQ2O1xuICBsZXQgdDc7XG4gIGlmICgkWzldID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ3ID0gY2xzKGRlZmF1bHRCb3JkZXJNaXhpbiwgXCJuby1zY3JvbGxiYXIgbWluLWgtWzU2cHhdIG92ZXJmbG93LXgtYXV0byBweC0yIG1kOnB4LTQgYmctc3VyZmFjZS01MCBkYXJrOmJnLXN1cmZhY2UtOTAwIGJvcmRlci1iIGZsZXggZmxleC1yb3cganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGxcIik7XG4gICAgJFs5XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFs5XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzEwXSAhPT0gdGl0bGUpIHtcbiAgICB0OCA9IHRpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaGlkZGVuIGxnOmJsb2NrXCIsIGNoaWxkcmVuOiB0aXRsZSB9KTtcbiAgICAkWzEwXSA9IHRpdGxlO1xuICAgICRbMTFdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzExXTtcbiAgfVxuICBsZXQgdDk7XG4gIGlmICgkWzEyXSAhPT0gYWN0aW9uc1N0YXJ0IHx8ICRbMTNdICE9PSBzaXplU2VsZWN0IHx8ICRbMTRdICE9PSB0OCkge1xuICAgIHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWQ6bXItNCBtci0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0OCxcbiAgICAgIHNpemVTZWxlY3QsXG4gICAgICBhY3Rpb25zU3RhcnRcbiAgICBdIH0pO1xuICAgICRbMTJdID0gYWN0aW9uc1N0YXJ0O1xuICAgICRbMTNdID0gc2l6ZVNlbGVjdDtcbiAgICAkWzE0XSA9IHQ4O1xuICAgICRbMTVdID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzE1XTtcbiAgfVxuICBsZXQgdDEwO1xuICBpZiAoJFsxNl0gIT09IGxhcmdlTGF5b3V0IHx8ICRbMTddICE9PSBsb2FkaW5nKSB7XG4gICAgdDEwID0gbGFyZ2VMYXlvdXQgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LVsyMnB4XSBtci00XCIsIGNoaWxkcmVuOiBsb2FkaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY3VsYXJQcm9ncmVzcywgeyBzaXplOiBcInNtYWxsZXN0XCIgfSkgfSk7XG4gICAgJFsxNl0gPSBsYXJnZUxheW91dDtcbiAgICAkWzE3XSA9IGxvYWRpbmc7XG4gICAgJFsxOF0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsxOF07XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMTldICE9PSBvblRleHRTZWFyY2ggfHwgJFsyMF0gIT09IG9uVGV4dFNlYXJjaENsaWNrIHx8ICRbMjFdICE9PSB0ZXh0U2VhcmNoTG9hZGluZykge1xuICAgIHQxMSA9IChvblRleHRTZWFyY2ggfHwgb25UZXh0U2VhcmNoQ2xpY2spICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goU2VhcmNoQmFyLCB7IGlucHV0UmVmOiBzZWFyY2hJbnB1dFJlZiwgbG9hZGluZzogdGV4dFNlYXJjaExvYWRpbmcsIGRpc2FibGVkOiBCb29sZWFuKG9uVGV4dFNlYXJjaENsaWNrKSwgb25DbGljazogb25UZXh0U2VhcmNoQ2xpY2ssIG9uVGV4dFNlYXJjaDogb25UZXh0U2VhcmNoQ2xpY2sgPyB2b2lkIDAgOiBvblRleHRTZWFyY2gsIGV4cGFuZGFibGU6IHRydWUgfSwgXCJzZWFyY2gtYmFyXCIpO1xuICAgICRbMTldID0gb25UZXh0U2VhcmNoO1xuICAgICRbMjBdID0gb25UZXh0U2VhcmNoQ2xpY2s7XG4gICAgJFsyMV0gPSB0ZXh0U2VhcmNoTG9hZGluZztcbiAgICAkWzIyXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzIyXTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFsyM10gIT09IGFjdGlvbnMgfHwgJFsyNF0gIT09IHQxMCB8fCAkWzI1XSAhPT0gdDExKSB7XG4gICAgdDEyID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxMCxcbiAgICAgIHQxMSxcbiAgICAgIGFjdGlvbnNcbiAgICBdIH0pO1xuICAgICRbMjNdID0gYWN0aW9ucztcbiAgICAkWzI0XSA9IHQxMDtcbiAgICAkWzI1XSA9IHQxMTtcbiAgICAkWzI2XSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzI2XTtcbiAgfVxuICBsZXQgdDEzO1xuICBpZiAoJFsyN10gIT09IHQxMiB8fCAkWzI4XSAhPT0gdDkpIHtcbiAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogdDcsIGNoaWxkcmVuOiBbXG4gICAgICB0OSxcbiAgICAgIHQxMlxuICAgIF0gfSk7XG4gICAgJFsyN10gPSB0MTI7XG4gICAgJFsyOF0gPSB0OTtcbiAgICAkWzI5XSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzI5XTtcbiAgfVxuICByZXR1cm4gdDEzO1xufVxuZnVuY3Rpb24gX3RlbXAyJDgoc2l6ZV8wKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdEl0ZW0sIHsgdmFsdWU6IHNpemVfMCwgY2xhc3NOYW1lOiBcInctMTIgZm9udC1tZWRpdW0gdGV4dC1jZW50ZXJcIiwgY2hpbGRyZW46IHNpemVfMC50b1VwcGVyQ2FzZSgpIH0sIHNpemVfMCk7XG59XG5mdW5jdGlvbiBfdGVtcCRpKHZfMCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogdl8wLnRvVXBwZXJDYXNlKCkgfSk7XG59XG5mdW5jdGlvbiBnZXRUYWJsZUNlbGxBbGlnbm1lbnQocHJvcGVydHkpIHtcbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBcImNlbnRlclwiO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKHByb3BlcnR5LmVudW1WYWx1ZXMpIHJldHVybiBcImxlZnRcIjtcbiAgICByZXR1cm4gXCJyaWdodFwiO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImRhdGVcIikge1xuICAgIHJldHVybiBcInJpZ2h0XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwibGVmdFwiO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYWJsZVByb3BlcnR5Q29sdW1uV2lkdGgocHJvcGVydHkpIHtcbiAgaWYgKHByb3BlcnR5LmNvbHVtbldpZHRoKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5LmNvbHVtbldpZHRoO1xuICB9XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChwcm9wZXJ0eS51cmwpIHtcbiAgICAgIHJldHVybiAyODA7XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5zdG9yYWdlKSB7XG4gICAgICByZXR1cm4gMTYwO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgICAgcmV0dXJuIDIwMDtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5Lm11bHRpbGluZSkge1xuICAgICAgcmV0dXJuIDMwMDtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5Lm1hcmtkb3duKSB7XG4gICAgICByZXR1cm4gMzAwO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkuZW1haWwpIHtcbiAgICAgIHJldHVybiAyMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAyMDA7XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICBjb25zdCBhcnJheVByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgaWYgKGFycmF5UHJvcGVydHkub2YpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5Lm9mKSkge1xuICAgICAgICByZXR1cm4gMzAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldFRhYmxlUHJvcGVydHlDb2x1bW5XaWR0aChhcnJheVByb3BlcnR5Lm9mKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDMwMDtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAocHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgICAgcmV0dXJuIDIwMDtcbiAgICB9XG4gICAgcmV0dXJuIDE0MDtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJtYXBcIikge1xuICAgIHJldHVybiAzNjA7XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgcmV0dXJuIDIwMDtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHJldHVybiAyMjA7XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIDE0MDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMjAwO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTdWJjb2xsZWN0aW9uQ29sdW1uSWQoY29sbGVjdGlvbikge1xuICByZXR1cm4gYHN1YmNvbGxlY3Rpb246JHtjb2xsZWN0aW9uLmlkID8/IGNvbGxlY3Rpb24ucGF0aH1gO1xufVxuY29uc3QgQ09MTEVDVElPTl9HUk9VUF9QQVJFTlRfSUQgPSBcImNvbGxlY3Rpb25Hcm91cFBhcmVudFwiO1xuZnVuY3Rpb24gdXNlQ29sdW1uSWRzKGNvbGxlY3Rpb24sIGluY2x1ZGVTdWJjb2xsZWN0aW9ucykge1xuICBjb25zdCAkID0gYyg1KTtcbiAgbGV0IHQwO1xuICBiYjA6IHtcbiAgICBpZiAoY29sbGVjdGlvbi5wcm9wZXJ0aWVzT3JkZXIpIHtcbiAgICAgIGxldCBwcm9wZXJ0eUNvbHVtbkNvbmZpZ3M7XG4gICAgICBpZiAoJFswXSAhPT0gY29sbGVjdGlvbikge1xuICAgICAgICBwcm9wZXJ0eUNvbHVtbkNvbmZpZ3MgPSBoaWRlQW5kRXhwYW5kS2V5cyhjb2xsZWN0aW9uLCBjb2xsZWN0aW9uLnByb3BlcnRpZXNPcmRlcik7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uLmNvbGxlY3Rpb25Hcm91cCkge1xuICAgICAgICAgIHByb3BlcnR5Q29sdW1uQ29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgIGtleTogQ09MTEVDVElPTl9HUk9VUF9QQVJFTlRfSUQsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRbMF0gPSBjb2xsZWN0aW9uO1xuICAgICAgICAkWzFdID0gcHJvcGVydHlDb2x1bW5Db25maWdzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcGVydHlDb2x1bW5Db25maWdzID0gJFsxXTtcbiAgICAgIH1cbiAgICAgIHQwID0gcHJvcGVydHlDb2x1bW5Db25maWdzO1xuICAgICAgYnJlYWsgYmIwO1xuICAgIH1cbiAgICBsZXQgdDE7XG4gICAgaWYgKCRbMl0gIT09IGNvbGxlY3Rpb24gfHwgJFszXSAhPT0gaW5jbHVkZVN1YmNvbGxlY3Rpb25zKSB7XG4gICAgICB0MSA9IGdldERlZmF1bHRDb2x1bW5LZXlzKGNvbGxlY3Rpb24sIGluY2x1ZGVTdWJjb2xsZWN0aW9ucyk7XG4gICAgICAkWzJdID0gY29sbGVjdGlvbjtcbiAgICAgICRbM10gPSBpbmNsdWRlU3ViY29sbGVjdGlvbnM7XG4gICAgICAkWzRdID0gdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxID0gJFs0XTtcbiAgICB9XG4gICAgdDAgPSB0MTtcbiAgfVxuICByZXR1cm4gdDA7XG59XG5mdW5jdGlvbiBoaWRlQW5kRXhwYW5kS2V5cyhjb2xsZWN0aW9uLCBrZXlzKSB7XG4gIHJldHVybiBrZXlzLmZsYXRNYXAoKGtleSkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gY29sbGVjdGlvbi5wcm9wZXJ0aWVzW2tleV07XG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICBpZiAocHJvcGVydHkuaGlkZUZyb21Db2xsZWN0aW9uKSByZXR1cm4gW251bGxdO1xuICAgICAgaWYgKHByb3BlcnR5LmRpc2FibGVkICYmIHR5cGVvZiBwcm9wZXJ0eS5kaXNhYmxlZCA9PT0gXCJvYmplY3RcIiAmJiBwcm9wZXJ0eS5kaXNhYmxlZC5oaWRkZW4pIHJldHVybiBbbnVsbF07XG4gICAgICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIgJiYgcHJvcGVydHkuc3ByZWFkQ2hpbGRyZW4gJiYgcHJvcGVydHkucHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gZ2V0Q29sdW1uS2V5c0ZvclByb3BlcnR5KHByb3BlcnR5LCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIGtleSxcbiAgICAgICAgZGlzYWJsZWQ6IEJvb2xlYW4ocHJvcGVydHkuZGlzYWJsZWQpIHx8IEJvb2xlYW4ocHJvcGVydHkucmVhZE9ubHkpXG4gICAgICB9XTtcbiAgICB9XG4gICAgY29uc3QgYWRkaXRpb25hbEZpZWxkID0gY29sbGVjdGlvbi5hZGRpdGlvbmFsRmllbGRzPy5maW5kKChmaWVsZCkgPT4gZmllbGQua2V5ID09PSBrZXkpO1xuICAgIGlmIChhZGRpdGlvbmFsRmllbGQpIHtcbiAgICAgIHJldHVybiBbe1xuICAgICAgICBrZXksXG4gICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICB9XTtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMpIHtcbiAgICAgIGNvbnN0IHN1YkNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnN1YmNvbGxlY3Rpb25zLmZpbmQoKHN1YkNvbCkgPT4gZ2V0U3ViY29sbGVjdGlvbkNvbHVtbklkKHN1YkNvbCkgPT09IGtleSk7XG4gICAgICBpZiAoc3ViQ29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb2xsZWN0aW9uLmNvbGxlY3Rpb25Hcm91cCAmJiBrZXkgPT09IENPTExFQ1RJT05fR1JPVVBfUEFSRU5UX0lEKSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAga2V5LFxuICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgfV07XG4gICAgfVxuICAgIHJldHVybiBbbnVsbF07XG4gIH0pLmZpbHRlcihCb29sZWFuKTtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRDb2x1bW5LZXlzKGNvbGxlY3Rpb24sIGluY2x1ZGVTdWJDb2xsZWN0aW9ucykge1xuICBjb25zdCBwcm9wZXJ0eUtleXMgPSBPYmplY3Qua2V5cyhjb2xsZWN0aW9uLnByb3BlcnRpZXMpO1xuICBjb25zdCBhZGRpdGlvbmFsRmllbGRzID0gY29sbGVjdGlvbi5hZGRpdGlvbmFsRmllbGRzID8/IFtdO1xuICBjb25zdCBzdWJDb2xsZWN0aW9ucyA9IGNvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMgPz8gW107XG4gIGNvbnN0IGNvbHVtbklkcyA9IFsuLi5wcm9wZXJ0eUtleXMsIC4uLmFkZGl0aW9uYWxGaWVsZHMubWFwKChmaWVsZCkgPT4gZmllbGQua2V5KV07XG4gIGlmIChpbmNsdWRlU3ViQ29sbGVjdGlvbnMpIHtcbiAgICBjb25zdCBzdWJDb2xsZWN0aW9uSWRzID0gc3ViQ29sbGVjdGlvbnMubWFwKChjb2xsZWN0aW9uMikgPT4gZ2V0U3ViY29sbGVjdGlvbkNvbHVtbklkKGNvbGxlY3Rpb24yKSk7XG4gICAgY29sdW1uSWRzLnB1c2goLi4uc3ViQ29sbGVjdGlvbklkcy5maWx0ZXIoKHN1YkNvbElkKSA9PiAhY29sdW1uSWRzLmluY2x1ZGVzKHN1YkNvbElkKSkpO1xuICB9XG4gIGlmIChjb2xsZWN0aW9uLmNvbGxlY3Rpb25Hcm91cCkge1xuICAgIGNvbHVtbklkcy5wdXNoKENPTExFQ1RJT05fR1JPVVBfUEFSRU5UX0lEKTtcbiAgfVxuICByZXR1cm4gaGlkZUFuZEV4cGFuZEtleXMoY29sbGVjdGlvbiwgY29sdW1uSWRzKTtcbn1cbmZ1bmN0aW9uIGdldENvbHVtbktleXNGb3JQcm9wZXJ0eShwcm9wZXJ0eSwga2V5LCBkaXNhYmxlZCkge1xuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIgJiYgcHJvcGVydHkuc3ByZWFkQ2hpbGRyZW4gJiYgcHJvcGVydHkucHJvcGVydGllcykge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhwcm9wZXJ0eS5wcm9wZXJ0aWVzKS5mbGF0TWFwKChbY2hpbGRLZXksIGNoaWxkUHJvcGVydHldKSA9PiBnZXRDb2x1bW5LZXlzRm9yUHJvcGVydHkoY2hpbGRQcm9wZXJ0eSwgYCR7a2V5fS4ke2NoaWxkS2V5fWAsIGRpc2FibGVkIHx8IEJvb2xlYW4ocHJvcGVydHkuZGlzYWJsZWQpIHx8IEJvb2xlYW4ocHJvcGVydHkucmVhZE9ubHkpKSk7XG4gIH1cbiAgcmV0dXJuIFt7XG4gICAga2V5LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBCb29sZWFuKHByb3BlcnR5LmRpc2FibGVkKSB8fCBCb29sZWFuKHByb3BlcnR5LnJlYWRPbmx5KVxuICB9XTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1GaWVsZEtleXMoY29sbGVjdGlvbikge1xuICBjb25zdCBwcm9wZXJ0eUtleXMgPSBPYmplY3Qua2V5cyhjb2xsZWN0aW9uLnByb3BlcnRpZXMpO1xuICBjb25zdCBhZGRpdGlvbmFsRmllbGRzID0gY29sbGVjdGlvbi5hZGRpdGlvbmFsRmllbGRzID8/IFtdO1xuICBjb25zdCBhbGxLZXlzID0gWy4uLnByb3BlcnR5S2V5cywgLi4uYWRkaXRpb25hbEZpZWxkcy5tYXAoKGZpZWxkKSA9PiBmaWVsZC5rZXkpXTtcbiAgaWYgKGNvbGxlY3Rpb24ucHJvcGVydGllc09yZGVyKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ucHJvcGVydGllc09yZGVyLmZpbHRlcigoa2V5KSA9PiBhbGxLZXlzLmluY2x1ZGVzKGtleSkpO1xuICB9XG4gIHJldHVybiBhbGxLZXlzO1xufVxuZnVuY3Rpb24gYnVpbGRJZENvbHVtbihsYXJnZUxheW91dCkge1xuICByZXR1cm4ge1xuICAgIGtleTogXCJpZF9ld2NmZWRjc3dkZjNcIixcbiAgICB3aWR0aDogbGFyZ2VMYXlvdXQgPyAxNjAgOiAxMzAsXG4gICAgdGl0bGU6IFwiSURcIixcbiAgICByZXNpemFibGU6IGZhbHNlLFxuICAgIGZyb3plbjogbGFyZ2VMYXlvdXQgPz8gZmFsc2UsXG4gICAgaGVhZGVyQWxpZ246IFwiY2VudGVyXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCJcbiAgfTtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNUb0NvbHVtbnMoe1xuICBwcm9wZXJ0aWVzLFxuICBzb3J0YWJsZSxcbiAgZm9yY2VGaWx0ZXIsXG4gIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXRcbn0pIHtcbiAgY29uc3QgZGlzYWJsZWRGaWx0ZXIgPSBCb29sZWFuKGZvcmNlRmlsdGVyKTtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLmZsYXRNYXAoKFtrZXksIHByb3BlcnR5XSkgPT4gZ2V0Q29sdW1uS2V5c0ZvclByb3BlcnR5KHByb3BlcnR5LCBrZXkpKS5tYXAoKHtcbiAgICBrZXksXG4gICAgZGlzYWJsZWRcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gZ2V0UmVzb2x2ZWRQcm9wZXJ0eUluUGF0aChwcm9wZXJ0aWVzLCBrZXkpO1xuICAgIGlmICghcHJvcGVydHkpIHRocm93IEVycm9yKFwiSW50ZXJuYWwgZXJyb3I6IG5vIHByb3BlcnR5IGZvdW5kIGluIHBhdGggXCIgKyBrZXkpO1xuICAgIGNvbnN0IGZpbHRlcmFibGUgPSBmaWx0ZXJhYmxlUHJvcGVydHkocHJvcGVydHkpO1xuICAgIHJldHVybiB7XG4gICAgICBrZXksXG4gICAgICBhbGlnbjogZ2V0VGFibGVDZWxsQWxpZ25tZW50KHByb3BlcnR5KSxcbiAgICAgIGljb246IGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgXCJzbWFsbFwiKSxcbiAgICAgIHRpdGxlOiBwcm9wZXJ0eS5uYW1lID8/IGtleSxcbiAgICAgIHNvcnRhYmxlLFxuICAgICAgZmlsdGVyOiAhZGlzYWJsZWRGaWx0ZXIgJiYgZmlsdGVyYWJsZSxcbiAgICAgIHdpZHRoOiBnZXRUYWJsZVByb3BlcnR5Q29sdW1uV2lkdGgocHJvcGVydHkpLFxuICAgICAgcmVzaXphYmxlOiB0cnVlLFxuICAgICAgY3VzdG9tOiB7XG4gICAgICAgIHJlc29sdmVkUHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgICBkaXNhYmxlZFxuICAgICAgfSxcbiAgICAgIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQ6IEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQgPyAoe1xuICAgICAgICBvbkhvdmVyXG4gICAgICB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQsIHsgcHJvcGVydHksIHByb3BlcnR5S2V5OiBrZXksIG9uSG92ZXIgfSkgOiB2b2lkIDBcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbHRlcmFibGVQcm9wZXJ0eShwcm9wZXJ0eSwgcGFydE9mQXJyYXkgPSBmYWxzZSkge1xuICBpZiAocGFydE9mQXJyYXkpIHtcbiAgICByZXR1cm4gW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiZGF0ZVwiLCBcInJlZmVyZW5jZVwiXS5pbmNsdWRlcyhwcm9wZXJ0eS5kYXRhVHlwZSk7XG4gIH1cbiAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICBpZiAocHJvcGVydHkub2YpIHJldHVybiBmaWx0ZXJhYmxlUHJvcGVydHkocHJvcGVydHkub2YsIHRydWUpO1xuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCIsIFwiZGF0ZVwiLCBcInJlZmVyZW5jZVwiLCBcImFycmF5XCJdLmluY2x1ZGVzKHByb3BlcnR5LmRhdGFUeXBlKTtcbn1cbmZ1bmN0aW9uIENpcmN1bGFyUHJvZ3Jlc3NDZW50ZXIodDApIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBsZXQgcHJvcHM7XG4gIGxldCB0ZXh0O1xuICBpZiAoJFswXSAhPT0gdDApIHtcbiAgICAoe1xuICAgICAgdGV4dCxcbiAgICAgIC4uLnByb3BzXG4gICAgfSA9IHQwKTtcbiAgICAkWzBdID0gdDA7XG4gICAgJFsxXSA9IHByb3BzO1xuICAgICRbMl0gPSB0ZXh0O1xuICB9IGVsc2Uge1xuICAgIHByb3BzID0gJFsxXTtcbiAgICB0ZXh0ID0gJFsyXTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzNdICE9PSBwcm9wcykge1xuICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChDaXJjdWxhclByb2dyZXNzLCB7IC4uLnByb3BzIH0pO1xuICAgICRbM10gPSBwcm9wcztcbiAgICAkWzRdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzRdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNV0gIT09IHRleHQpIHtcbiAgICB0MiA9IHRleHQgJiYgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IGNvbG9yOiBcInNlY29uZGFyeVwiLCB2YXJpYW50OiBcImNhcHRpb25cIiwgY2xhc3NOYW1lOiBcInRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiB0ZXh0IH0pO1xuICAgICRbNV0gPSB0ZXh0O1xuICAgICRbNl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNl07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs3XSAhPT0gdDEgfHwgJFs4XSAhPT0gdDIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCB3LWZ1bGwgaC1zY3JlZW4gbWF4LWgtZnVsbCBtYXgtdy1mdWxsIGdhcC00XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtLWF1dG8gZmxleCBmbGV4LWNvbCBnYXAtMiBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxLFxuICAgICAgdDJcbiAgICBdIH0pIH0pO1xuICAgICRbN10gPSB0MTtcbiAgICAkWzhdID0gdDI7XG4gICAgJFs5XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs5XTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5jb25zdCBWaXJ0dWFsVGFibGVIZWFkZXIgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIFZpcnR1YWxUYWJsZUhlYWRlcjIodDApIHtcbiAgY29uc3QgJCA9IGMoNTcpO1xuICBjb25zdCB7XG4gICAgcmVzaXplSGFuZGxlUmVmLFxuICAgIGNvbHVtbkluZGV4LFxuICAgIGlzUmVzaXppbmdJbmRleCxcbiAgICBzb3J0LFxuICAgIG9uQ29sdW1uU29ydCxcbiAgICBvbkZpbHRlclVwZGF0ZSxcbiAgICBmaWx0ZXIsXG4gICAgY29sdW1uLFxuICAgIG9uQ2xpY2tSZXNpemVDb2x1bW4sXG4gICAgY3JlYXRlRmlsdGVyRmllbGQ6IGNyZWF0ZUZpbHRlckZpZWxkMixcbiAgICBBZGRpdGlvbmFsSGVhZGVyV2lkZ2V0XG4gIH0gPSB0MDtcbiAgY29uc3QgW29uSG92ZXIsIHNldE9uSG92ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbb3BlbkZpbHRlciwgc2V0T3BlbkZpbHRlcl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoaWRkZW4sIHNldEhpZGRlbl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSAoZXZlbnQpID0+IHtcbiAgICAgIHNldE9wZW5GaWx0ZXIodHJ1ZSk7XG4gICAgfTtcbiAgICAkWzBdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzBdO1xuICB9XG4gIGNvbnN0IGhhbmRsZVNldHRpbmdzQ2xpY2sgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFsxXSAhPT0gY29sdW1uIHx8ICRbMl0gIT09IG9uRmlsdGVyVXBkYXRlKSB7XG4gICAgdDIgPSAoZmlsdGVyRm9yUHJvcGVydHksIG5ld09wZW5GaWx0ZXJTdGF0ZSkgPT4ge1xuICAgICAgb25GaWx0ZXJVcGRhdGUoY29sdW1uLCBmaWx0ZXJGb3JQcm9wZXJ0eSk7XG4gICAgICBpZiAobmV3T3BlbkZpbHRlclN0YXRlICE9PSB2b2lkIDApIHtcbiAgICAgICAgc2V0T3BlbkZpbHRlcihuZXdPcGVuRmlsdGVyU3RhdGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgJFsxXSA9IGNvbHVtbjtcbiAgICAkWzJdID0gb25GaWx0ZXJVcGRhdGU7XG4gICAgJFszXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFszXTtcbiAgfVxuICBjb25zdCB1cGRhdGUgPSB0MjtcbiAgY29uc3QgdGhpc0NvbHVtbklzUmVzaXppbmcgPSBpc1Jlc2l6aW5nSW5kZXggPT09IGNvbHVtbkluZGV4O1xuICBjb25zdCBhbm90aGVyQ29sdW1uSXNSZXNpemluZyA9IGlzUmVzaXppbmdJbmRleCAhPT0gY29sdW1uSW5kZXggJiYgaXNSZXNpemluZ0luZGV4ID4gMDtcbiAgY29uc3QgaG92ZXJlZCA9ICFhbm90aGVyQ29sdW1uSXNSZXNpemluZyAmJiAob25Ib3ZlciB8fCB0aGlzQ29sdW1uSXNSZXNpemluZyk7XG4gIGNvbnN0IHQzID0gY29sdW1uLmZyb3plbiA/IFwic3RpY2t5IGxlZnQtMCB6LTEwXCIgOiBcInJlbGF0aXZlIHotMFwiO1xuICBsZXQgdDQ7XG4gIGlmICgkWzRdICE9PSB0Mykge1xuICAgIHQ0ID0gY2xzKFwiZmxleCBweS0wIHB4LTMgaC1mdWxsIHRleHQteHMgdXBwZXJjYXNlIGZvbnQtc2VtaWJvbGQgcmVsYXRpdmUgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGJnLXN1cmZhY2UtNTAgZGFyazpiZy1zdXJmYWNlLTkwMFwiLCBcInRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmsgZGFyazpob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeS1kYXJrXCIsIFwiaG92ZXI6Ymctc3VyZmFjZS0xMDAgZGFyazpob3ZlcjpiZy1zdXJmYWNlLTgwMCBob3ZlcjpiZy1vcGFjaXR5LTUwIGRhcms6aG92ZXI6Ymctb3BhY2l0eS01MFwiLCB0Myk7XG4gICAgJFs0XSA9IHQzO1xuICAgICRbNV0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNV07XG4gIH1cbiAgY29uc3QgdDUgPSBjb2x1bW4uZnJvemVuID8gMCA6IHZvaWQgMDtcbiAgbGV0IHQ2O1xuICBpZiAoJFs2XSAhPT0gY29sdW1uLndpZHRoIHx8ICRbN10gIT09IHQ1KSB7XG4gICAgdDYgPSB7XG4gICAgICBsZWZ0OiB0NSxcbiAgICAgIG1pbldpZHRoOiBjb2x1bW4ud2lkdGgsXG4gICAgICBtYXhXaWR0aDogY29sdW1uLndpZHRoXG4gICAgfTtcbiAgICAkWzZdID0gY29sdW1uLndpZHRoO1xuICAgICRbN10gPSB0NTtcbiAgICAkWzhdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzhdO1xuICB9XG4gIGxldCB0NztcbiAgbGV0IHQ4O1xuICBsZXQgdDk7XG4gIGlmICgkWzldID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ3ID0gKCkgPT4gc2V0T25Ib3Zlcih0cnVlKTtcbiAgICB0OCA9ICgpID0+IHNldE9uSG92ZXIodHJ1ZSk7XG4gICAgdDkgPSAoKSA9PiBzZXRPbkhvdmVyKGZhbHNlKTtcbiAgICAkWzldID0gdDc7XG4gICAgJFsxMF0gPSB0ODtcbiAgICAkWzExXSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFs5XTtcbiAgICB0OCA9ICRbMTBdO1xuICAgIHQ5ID0gJFsxMV07XG4gIH1cbiAgY29uc3QgdDEwID0gYGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktJHtjb2x1bW4uaGVhZGVyQWxpZ259IGZsZXgtcm93YDtcbiAgbGV0IHQxMTtcbiAgaWYgKCRbMTJdICE9PSBjb2x1bW4uYWxpZ24pIHtcbiAgICB0MTEgPSB7XG4gICAgICBXZWJraXRCb3hPcmllbnQ6IFwidmVydGljYWxcIixcbiAgICAgIFdlYmtpdExpbmVDbGFtcDogMixcbiAgICAgIGp1c3RpZnlDb250ZW50OiBjb2x1bW4uYWxpZ25cbiAgICB9O1xuICAgICRbMTJdID0gY29sdW1uLmFsaWduO1xuICAgICRbMTNdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMTNdO1xuICB9XG4gIGxldCB0MTI7XG4gIGlmICgkWzE0XSAhPT0gY29sdW1uLnRpdGxlIHx8ICRbMTVdICE9PSB0MTEpIHtcbiAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRydW5jYXRlIC13ZWJraXQtYm94IHctZnVsbCBteC0xIG92ZXJmbG93LWhpZGRlblwiLCBzdHlsZTogdDExLCBjaGlsZHJlbjogY29sdW1uLnRpdGxlIH0pO1xuICAgICRbMTRdID0gY29sdW1uLnRpdGxlO1xuICAgICRbMTVdID0gdDExO1xuICAgICRbMTZdID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMTZdO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzE3XSAhPT0gY29sdW1uLmljb24gfHwgJFsxOF0gIT09IHQxMCB8fCAkWzE5XSAhPT0gdDEyKSB7XG4gICAgdDEzID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJvdmVyZmxvdy1oaWRkZW4gZmxleC1ncm93XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogdDEwLCBjaGlsZHJlbjogW1xuICAgICAgY29sdW1uLmljb24sXG4gICAgICB0MTJcbiAgICBdIH0pIH0pO1xuICAgICRbMTddID0gY29sdW1uLmljb247XG4gICAgJFsxOF0gPSB0MTA7XG4gICAgJFsxOV0gPSB0MTI7XG4gICAgJFsyMF0gPSB0MTM7XG4gIH0gZWxzZSB7XG4gICAgdDEzID0gJFsyMF07XG4gIH1cbiAgbGV0IHQxNDtcbiAgaWYgKCRbMjFdICE9PSBBZGRpdGlvbmFsSGVhZGVyV2lkZ2V0IHx8ICRbMjJdICE9PSBvbkhvdmVyIHx8ICRbMjNdICE9PSBvcGVuRmlsdGVyKSB7XG4gICAgdDE0ID0gQWRkaXRpb25hbEhlYWRlcldpZGdldCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQsIHsgb25Ib3Zlcjogb25Ib3ZlciB8fCBvcGVuRmlsdGVyIH0pO1xuICAgICRbMjFdID0gQWRkaXRpb25hbEhlYWRlcldpZGdldDtcbiAgICAkWzIyXSA9IG9uSG92ZXI7XG4gICAgJFsyM10gPSBvcGVuRmlsdGVyO1xuICAgICRbMjRdID0gdDE0O1xuICB9IGVsc2Uge1xuICAgIHQxNCA9ICRbMjRdO1xuICB9XG4gIGxldCB0MTU7XG4gIGlmICgkWzI1XSAhPT0gY29sdW1uLmtleSB8fCAkWzI2XSAhPT0gY29sdW1uLnNvcnRhYmxlIHx8ICRbMjddICE9PSBob3ZlcmVkIHx8ICRbMjhdICE9PSBvbkNvbHVtblNvcnQgfHwgJFsyOV0gIT09IG9uSG92ZXIgfHwgJFszMF0gIT09IG9wZW5GaWx0ZXIgfHwgJFszMV0gIT09IHNvcnQpIHtcbiAgICB0MTUgPSBjb2x1bW4uc29ydGFibGUgJiYgKHNvcnQgfHwgaG92ZXJlZCB8fCBvcGVuRmlsdGVyKSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJhZGdlLCB7IGNvbG9yOiBcInNlY29uZGFyeVwiLCBpbnZpc2libGU6ICFzb3J0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoSWNvbkJ1dHRvbiwgeyBzaXplOiBcInNtYWxsXCIsIGNsYXNzTmFtZTogb25Ib3ZlciB8fCBvcGVuRmlsdGVyID8gXCJiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTUwXCIgOiB2b2lkIDAsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIG9uQ29sdW1uU29ydChjb2x1bW4ua2V5KTtcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgIXNvcnQgJiYgLyogQF9fUFVSRV9fICovIGpzeChBcnJvd1Vwd2FyZEljb24sIHt9KSxcbiAgICAgIHNvcnQgPT09IFwiYXNjXCIgJiYgLyogQF9fUFVSRV9fICovIGpzeChBcnJvd1Vwd2FyZEljb24sIHt9KSxcbiAgICAgIHNvcnQgPT09IFwiZGVzY1wiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyb3dVcHdhcmRJY29uLCB7IGNsYXNzTmFtZTogXCJyb3RhdGUtMTgwXCIgfSlcbiAgICBdIH0pIH0pO1xuICAgICRbMjVdID0gY29sdW1uLmtleTtcbiAgICAkWzI2XSA9IGNvbHVtbi5zb3J0YWJsZTtcbiAgICAkWzI3XSA9IGhvdmVyZWQ7XG4gICAgJFsyOF0gPSBvbkNvbHVtblNvcnQ7XG4gICAgJFsyOV0gPSBvbkhvdmVyO1xuICAgICRbMzBdID0gb3BlbkZpbHRlcjtcbiAgICAkWzMxXSA9IHNvcnQ7XG4gICAgJFszMl0gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFszMl07XG4gIH1cbiAgbGV0IHQxNjtcbiAgaWYgKCRbMzNdICE9PSB0MTQgfHwgJFszNF0gIT09IHQxNSkge1xuICAgIHQxNiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICB0MTQsXG4gICAgICB0MTVcbiAgICBdIH0pO1xuICAgICRbMzNdID0gdDE0O1xuICAgICRbMzRdID0gdDE1O1xuICAgICRbMzVdID0gdDE2O1xuICB9IGVsc2Uge1xuICAgIHQxNiA9ICRbMzVdO1xuICB9XG4gIGxldCB0MTc7XG4gIGlmICgkWzM2XSAhPT0gY29sdW1uIHx8ICRbMzddICE9PSBjcmVhdGVGaWx0ZXJGaWVsZDIgfHwgJFszOF0gIT09IGZpbHRlciB8fCAkWzM5XSAhPT0gaGlkZGVuIHx8ICRbNDBdICE9PSBvbkhvdmVyIHx8ICRbNDFdICE9PSBvcGVuRmlsdGVyIHx8ICRbNDJdICE9PSB1cGRhdGUpIHtcbiAgICB0MTcgPSBjb2x1bW4uZmlsdGVyICYmIGNyZWF0ZUZpbHRlckZpZWxkMiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQmFkZ2UsIHsgY29sb3I6IFwic2Vjb25kYXJ5XCIsIGludmlzaWJsZTogIWZpbHRlciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wb3ZlciwgeyBvcGVuOiBvcGVuRmlsdGVyLCBvbk9wZW5DaGFuZ2U6IHNldE9wZW5GaWx0ZXIsIGNsYXNzTmFtZTogaGlkZGVuID8gXCJoaWRkZW5cIiA6IHZvaWQgMCwgbW9kYWw6IHRydWUsIHRyaWdnZXI6IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IG9uSG92ZXIgfHwgb3BlbkZpbHRlciA/IFwiYmctd2hpdGUgZGFyazpiZy1zdXJmYWNlLTk1MFwiIDogdm9pZCAwLCBzaXplOiBcInNtYWxsXCIsIG9uQ2xpY2s6IGhhbmRsZVNldHRpbmdzQ2xpY2ssIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEZpbHRlckxpc3RJY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSB9KSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRmlsdGVyRm9ybSwgeyBjb2x1bW4sIGZpbHRlciwgb25Ib3Zlciwgb25GaWx0ZXJVcGRhdGU6IHVwZGF0ZSwgY3JlYXRlRmlsdGVyRmllbGQ6IGNyZWF0ZUZpbHRlckZpZWxkMiwgaGlkZGVuLCBzZXRIaWRkZW4gfSkgfSkgfSkgfSk7XG4gICAgJFszNl0gPSBjb2x1bW47XG4gICAgJFszN10gPSBjcmVhdGVGaWx0ZXJGaWVsZDI7XG4gICAgJFszOF0gPSBmaWx0ZXI7XG4gICAgJFszOV0gPSBoaWRkZW47XG4gICAgJFs0MF0gPSBvbkhvdmVyO1xuICAgICRbNDFdID0gb3BlbkZpbHRlcjtcbiAgICAkWzQyXSA9IHVwZGF0ZTtcbiAgICAkWzQzXSA9IHQxNztcbiAgfSBlbHNlIHtcbiAgICB0MTcgPSAkWzQzXTtcbiAgfVxuICBsZXQgdDE4O1xuICBpZiAoJFs0NF0gIT09IGNvbHVtbiB8fCAkWzQ1XSAhPT0gY29sdW1uSW5kZXggfHwgJFs0Nl0gIT09IGhvdmVyZWQgfHwgJFs0N10gIT09IG9uQ2xpY2tSZXNpemVDb2x1bW4gfHwgJFs0OF0gIT09IHJlc2l6ZUhhbmRsZVJlZikge1xuICAgIHQxOCA9IGNvbHVtbi5yZXNpemFibGUgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZjogcmVzaXplSGFuZGxlUmVmLCBjbGFzc05hbWU6IGNscyhcImFic29sdXRlIGgtZnVsbCB3LVs2cHhdIHRvcC0wIHJpZ2h0LTAgY3Vyc29yLWNvbC1yZXNpemVcIiwgaG92ZXJlZCAmJiBcImJnLXN1cmZhY2UtMzAwIGRhcms6Ymctc3VyZmFjZS03MDBcIiksIG9uTW91c2VEb3duOiBvbkNsaWNrUmVzaXplQ29sdW1uID8gKCkgPT4gb25DbGlja1Jlc2l6ZUNvbHVtbihjb2x1bW5JbmRleCwgY29sdW1uKSA6IHZvaWQgMCB9KTtcbiAgICAkWzQ0XSA9IGNvbHVtbjtcbiAgICAkWzQ1XSA9IGNvbHVtbkluZGV4O1xuICAgICRbNDZdID0gaG92ZXJlZDtcbiAgICAkWzQ3XSA9IG9uQ2xpY2tSZXNpemVDb2x1bW47XG4gICAgJFs0OF0gPSByZXNpemVIYW5kbGVSZWY7XG4gICAgJFs0OV0gPSB0MTg7XG4gIH0gZWxzZSB7XG4gICAgdDE4ID0gJFs0OV07XG4gIH1cbiAgbGV0IHQxOTtcbiAgaWYgKCRbNTBdICE9PSB0MTMgfHwgJFs1MV0gIT09IHQxNiB8fCAkWzUyXSAhPT0gdDE3IHx8ICRbNTNdICE9PSB0MTggfHwgJFs1NF0gIT09IHQ0IHx8ICRbNTVdICE9PSB0Nikge1xuICAgIHQxOSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQ0LCBzdHlsZTogdDYsIG9uTW91c2VFbnRlcjogdDcsIG9uTW91c2VNb3ZlOiB0OCwgb25Nb3VzZUxlYXZlOiB0OSwgY2hpbGRyZW46IFtcbiAgICAgIHQxMyxcbiAgICAgIHQxNixcbiAgICAgIHQxNyxcbiAgICAgIHQxOFxuICAgIF0gfSkgfSk7XG4gICAgJFs1MF0gPSB0MTM7XG4gICAgJFs1MV0gPSB0MTY7XG4gICAgJFs1Ml0gPSB0MTc7XG4gICAgJFs1M10gPSB0MTg7XG4gICAgJFs1NF0gPSB0NDtcbiAgICAkWzU1XSA9IHQ2O1xuICAgICRbNTZdID0gdDE5O1xuICB9IGVsc2Uge1xuICAgIHQxOSA9ICRbNTZdO1xuICB9XG4gIHJldHVybiB0MTk7XG59LCBlcXVhbCk7XG5mdW5jdGlvbiBGaWx0ZXJGb3JtKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMzKTtcbiAgY29uc3Qge1xuICAgIGNvbHVtbixcbiAgICBvbkZpbHRlclVwZGF0ZSxcbiAgICBmaWx0ZXIsXG4gICAgY3JlYXRlRmlsdGVyRmllbGQ6IGNyZWF0ZUZpbHRlckZpZWxkMixcbiAgICBoaWRkZW4sXG4gICAgc2V0SGlkZGVuXG4gIH0gPSB0MDtcbiAgY29uc3QgaWQgPSBjb2x1bW4ua2V5O1xuICBjb25zdCBbZmlsdGVySW50ZXJuYWwsIHNldEZpbHRlckludGVybmFsXSA9IHVzZVN0YXRlKGZpbHRlcik7XG4gIGxldCB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gZmlsdGVyKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBzZXRGaWx0ZXJJbnRlcm5hbChmaWx0ZXIpO1xuICAgIH07XG4gICAgdDIgPSBbZmlsdGVyXTtcbiAgICAkWzBdID0gZmlsdGVyO1xuICAgICRbMV0gPSB0MTtcbiAgICAkWzJdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICB1c2VFZmZlY3QodDEsIHQyKTtcbiAgaWYgKCFjb2x1bW4uZmlsdGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gZmlsdGVySW50ZXJuYWwgfHwgJFs0XSAhPT0gb25GaWx0ZXJVcGRhdGUpIHtcbiAgICB0MyA9ICgpID0+IHtcbiAgICAgIG9uRmlsdGVyVXBkYXRlKGZpbHRlckludGVybmFsLCBmYWxzZSk7XG4gICAgfTtcbiAgICAkWzNdID0gZmlsdGVySW50ZXJuYWw7XG4gICAgJFs0XSA9IG9uRmlsdGVyVXBkYXRlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgY29uc3Qgc3VibWl0ID0gdDM7XG4gIGxldCB0NDtcbiAgaWYgKCRbNl0gIT09IG9uRmlsdGVyVXBkYXRlKSB7XG4gICAgdDQgPSAoZSkgPT4ge1xuICAgICAgb25GaWx0ZXJVcGRhdGUodm9pZCAwLCBmYWxzZSk7XG4gICAgfTtcbiAgICAkWzZdID0gb25GaWx0ZXJVcGRhdGU7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBjb25zdCByZXNldCA9IHQ0O1xuICBjb25zdCBmaWx0ZXJJc1NldCA9ICEhZmlsdGVyO1xuICBsZXQgdDU7XG4gIGlmICgkWzhdICE9PSBjb2x1bW4gfHwgJFs5XSAhPT0gY3JlYXRlRmlsdGVyRmllbGQyIHx8ICRbMTBdICE9PSBmaWx0ZXJJbnRlcm5hbCB8fCAkWzExXSAhPT0gaGlkZGVuIHx8ICRbMTJdICE9PSBpZCB8fCAkWzEzXSAhPT0gc2V0SGlkZGVuKSB7XG4gICAgdDUgPSBjcmVhdGVGaWx0ZXJGaWVsZDIoe1xuICAgICAgaWQsXG4gICAgICBmaWx0ZXJWYWx1ZTogZmlsdGVySW50ZXJuYWwsXG4gICAgICBzZXRGaWx0ZXJWYWx1ZTogc2V0RmlsdGVySW50ZXJuYWwsXG4gICAgICBjb2x1bW4sXG4gICAgICBoaWRkZW4sXG4gICAgICBzZXRIaWRkZW5cbiAgICB9KTtcbiAgICAkWzhdID0gY29sdW1uO1xuICAgICRbOV0gPSBjcmVhdGVGaWx0ZXJGaWVsZDI7XG4gICAgJFsxMF0gPSBmaWx0ZXJJbnRlcm5hbDtcbiAgICAkWzExXSA9IGhpZGRlbjtcbiAgICAkWzEyXSA9IGlkO1xuICAgICRbMTNdID0gc2V0SGlkZGVuO1xuICAgICRbMTRdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzE0XTtcbiAgfVxuICBjb25zdCBmaWx0ZXJGaWVsZCA9IHQ1O1xuICBpZiAoIWZpbHRlckZpZWxkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxNV0gIT09IHN1Ym1pdCkge1xuICAgIHQ2ID0gKGVfMCkgPT4ge1xuICAgICAgZV8wLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZV8wLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdWJtaXQoKTtcbiAgICB9O1xuICAgICRbMTVdID0gc3VibWl0O1xuICAgICRbMTZdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE2XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzE3XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NyA9IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwicHktNCBweC02IHR5cG9ncmFwaHktbGFiZWwgYm9yZGVyLWJcIik7XG4gICAgJFsxN10gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMTddO1xuICB9XG4gIGNvbnN0IHQ4ID0gY29sdW1uLnRpdGxlID8/IGlkO1xuICBsZXQgdDk7XG4gIGlmICgkWzE4XSAhPT0gdDgpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQ3LCBjaGlsZHJlbjogdDggfSk7XG4gICAgJFsxOF0gPSB0ODtcbiAgICAkWzE5XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsxOV07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMjBdICE9PSBmaWx0ZXJGaWVsZCkge1xuICAgIHQxMCA9IGZpbHRlckZpZWxkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibS00XCIsIGNoaWxkcmVuOiBmaWx0ZXJGaWVsZCB9KTtcbiAgICAkWzIwXSA9IGZpbHRlckZpZWxkO1xuICAgICRbMjFdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMjFdO1xuICB9XG4gIGNvbnN0IHQxMSA9ICFmaWx0ZXJJc1NldDtcbiAgbGV0IHQxMjtcbiAgaWYgKCRbMjJdICE9PSByZXNldCB8fCAkWzIzXSAhPT0gdDExKSB7XG4gICAgdDEyID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcIm1yLTRcIiwgZGlzYWJsZWQ6IHQxMSwgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcInByaW1hcnlcIiwgdHlwZTogXCJyZXNldFwiLCBcImFyaWEtbGFiZWxcIjogXCJmaWx0ZXIgY2xlYXJcIiwgb25DbGljazogcmVzZXQsIGNoaWxkcmVuOiBcIkNsZWFyXCIgfSk7XG4gICAgJFsyMl0gPSByZXNldDtcbiAgICAkWzIzXSA9IHQxMTtcbiAgICAkWzI0XSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzI0XTtcbiAgfVxuICBsZXQgdDEzO1xuICBpZiAoJFsyNV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEzID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIHR5cGU6IFwic3VibWl0XCIsIGNoaWxkcmVuOiBcIkZpbHRlclwiIH0pO1xuICAgICRbMjVdID0gdDEzO1xuICB9IGVsc2Uge1xuICAgIHQxMyA9ICRbMjVdO1xuICB9XG4gIGxldCB0MTQ7XG4gIGlmICgkWzI2XSAhPT0gdDEyKSB7XG4gICAgdDE0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBqdXN0aWZ5LWVuZCBtLTRcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxMixcbiAgICAgIHQxM1xuICAgIF0gfSk7XG4gICAgJFsyNl0gPSB0MTI7XG4gICAgJFsyN10gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFsyN107XG4gIH1cbiAgbGV0IHQxNTtcbiAgaWYgKCRbMjhdICE9PSB0MTAgfHwgJFsyOV0gIT09IHQxNCB8fCAkWzMwXSAhPT0gdDYgfHwgJFszMV0gIT09IHQ5KSB7XG4gICAgdDE1ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJmb3JtXCIsIHsgbm9WYWxpZGF0ZTogdHJ1ZSwgb25TdWJtaXQ6IHQ2LCBjbGFzc05hbWU6IFwidGV4dC1zdXJmYWNlLTkwMCBkYXJrOnRleHQtd2hpdGVcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQ5LFxuICAgICAgdDEwLFxuICAgICAgdDE0XG4gICAgXSB9KTtcbiAgICAkWzI4XSA9IHQxMDtcbiAgICAkWzI5XSA9IHQxNDtcbiAgICAkWzMwXSA9IHQ2O1xuICAgICRbMzFdID0gdDk7XG4gICAgJFszMl0gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFszMl07XG4gIH1cbiAgcmV0dXJuIHQxNTtcbn1cbmNvbnN0IFZpcnR1YWxUYWJsZUhlYWRlclJvdyA9ICh7XG4gIGNvbHVtbnMsXG4gIGN1cnJlbnRTb3J0LFxuICBvbkNvbHVtblNvcnQsXG4gIG9uRmlsdGVyVXBkYXRlLFxuICBzb3J0QnlQcm9wZXJ0eSxcbiAgZmlsdGVyLFxuICBvbkNvbHVtblJlc2l6ZSxcbiAgb25Db2x1bW5SZXNpemVFbmQsXG4gIGNyZWF0ZUZpbHRlckZpZWxkOiBjcmVhdGVGaWx0ZXJGaWVsZDIsXG4gIEFkZENvbHVtbkNvbXBvbmVudFxufSkgPT4ge1xuICBjb25zdCBjb2x1bW5SZWZzID0gY29sdW1ucy5tYXAoKCkgPT4gY3JlYXRlUmVmKCkpO1xuICBjb25zdCBbaXNSZXNpemluZywgc2V0SXNSZXNpemluZ10gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IGFkanVzdFdpZHRoQ29sdW1uID0gdXNlQ2FsbGJhY2soKGluZGV4LCB3aWR0aCwgZW5kKSA9PiB7XG4gICAgY29uc3QgY29sdW1uID0gY29sdW1uc1tpbmRleF07XG4gICAgY29uc3QgbWluV2lkdGggPSAxMDA7XG4gICAgY29uc3QgbWF4V2lkdGggPSA4MDA7XG4gICAgY29uc3QgbmV3V2lkdGggPSB3aWR0aCA+IG1heFdpZHRoID8gbWF4V2lkdGggOiB3aWR0aCA8IG1pbldpZHRoID8gbWluV2lkdGggOiB3aWR0aDtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICB3aWR0aDogbmV3V2lkdGgsXG4gICAgICBrZXk6IGNvbHVtbi5rZXksXG4gICAgICBjb2x1bW46IHtcbiAgICAgICAgLi4uY29sdW1uLFxuICAgICAgICB3aWR0aDogbmV3V2lkdGhcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghZW5kKSBvbkNvbHVtblJlc2l6ZShwYXJhbXMpO1xuICAgIGVsc2Ugb25Db2x1bW5SZXNpemVFbmQocGFyYW1zKTtcbiAgfSwgW2NvbHVtbnMsIG9uQ29sdW1uUmVzaXplLCBvbkNvbHVtblJlc2l6ZUVuZF0pO1xuICBjb25zdCBnZXRFdmVudE5ld1dpZHRoID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBpZiAoaXNSZXNpemluZyA+PSAwKSB7XG4gICAgICBjb25zdCBsZWZ0ID0gY29sdW1uUmVmc1tpc1Jlc2l6aW5nXS5jdXJyZW50Py5wYXJlbnRFbGVtZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgaWYgKCFsZWZ0KSByZXR1cm47XG4gICAgICByZXR1cm4gZS5jbGllbnRYIC0gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfSwgW2NvbHVtblJlZnMsIGlzUmVzaXppbmddKTtcbiAgY29uc3Qgc2V0Q3Vyc29yRG9jdW1lbnQgPSB1c2VDYWxsYmFjaygoaXNSZXNpemluZ18wKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBpc1Jlc2l6aW5nXzAgPyBcImNvbC1yZXNpemVcIiA6IFwiYXV0b1wiO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZU9uTW91c2VNb3ZlID0gdXNlQ2FsbGJhY2soKGVfMCkgPT4ge1xuICAgIGVfMC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlXzAucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBuZXdXaWR0aF8wID0gZ2V0RXZlbnROZXdXaWR0aChlXzApO1xuICAgIGlmIChuZXdXaWR0aF8wKSBhZGp1c3RXaWR0aENvbHVtbihpc1Jlc2l6aW5nLCBuZXdXaWR0aF8wLCBmYWxzZSk7XG4gIH0sIFthZGp1c3RXaWR0aENvbHVtbiwgZ2V0RXZlbnROZXdXaWR0aCwgaXNSZXNpemluZ10pO1xuICBjb25zdCBoYW5kbGVPbk1vdXNlVXAgPSB1c2VDYWxsYmFjaygoZV8xKSA9PiB7XG4gICAgZV8xLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGVfMS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5ld1dpZHRoXzEgPSBnZXRFdmVudE5ld1dpZHRoKGVfMSk7XG4gICAgaWYgKG5ld1dpZHRoXzEpIGFkanVzdFdpZHRoQ29sdW1uKGlzUmVzaXppbmcsIG5ld1dpZHRoXzEsIHRydWUpO1xuICAgIHNldElzUmVzaXppbmcoLTEpO1xuICAgIHNldEN1cnNvckRvY3VtZW50KGZhbHNlKTtcbiAgfSwgW2FkanVzdFdpZHRoQ29sdW1uLCBnZXRFdmVudE5ld1dpZHRoLCBpc1Jlc2l6aW5nLCBzZXRDdXJzb3JEb2N1bWVudF0pO1xuICBjb25zdCByZW1vdmVSZXNpemluZ0xpc3RlbmVycyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU9uTW91c2VNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVPbk1vdXNlVXApO1xuICB9LCBbaGFuZGxlT25Nb3VzZU1vdmUsIGhhbmRsZU9uTW91c2VVcF0pO1xuICBjb25zdCBhdHRhY2hSZXNpemVMaXN0ZW5lcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVPbk1vdXNlTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlT25Nb3VzZVVwKTtcbiAgfSwgW2hhbmRsZU9uTW91c2VNb3ZlLCBoYW5kbGVPbk1vdXNlVXBdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNSZXNpemluZyA+PSAwKSB7XG4gICAgICBhdHRhY2hSZXNpemVMaXN0ZW5lcnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlUmVzaXppbmdMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZVJlc2l6aW5nTGlzdGVuZXJzKCk7XG4gICAgfTtcbiAgfSwgW2F0dGFjaFJlc2l6ZUxpc3RlbmVycywgaXNSZXNpemluZywgcmVtb3ZlUmVzaXppbmdMaXN0ZW5lcnNdKTtcbiAgY29uc3Qgb25DbGlja1Jlc2l6ZUNvbHVtbiA9IHVzZUNhbGxiYWNrKChpbmRleF8wKSA9PiB7XG4gICAgc2V0SXNSZXNpemluZyhpbmRleF8wKTtcbiAgICBzZXRDdXJzb3JEb2N1bWVudCh0cnVlKTtcbiAgfSwgW3NldEN1cnNvckRvY3VtZW50XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzKGRlZmF1bHRCb3JkZXJNaXhpbiwgXCJ6LTIwIHN0aWNreSBtaW4tdy1mdWxsIGZsZXggdy1maXQgZmxleC1yb3cgdG9wLTAgbGVmdC0wIGgtMTIgYm9yZGVyLWIgYmctc3VyZmFjZS01MCBkYXJrOmJnLXN1cmZhY2UtOTAwXCIpLCBjaGlsZHJlbjogW1xuICAgIGNvbHVtbnMubWFwKChjMiwgY29sdW1uSW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbl8wID0gY29sdW1uc1tjb2x1bW5JbmRleF07XG4gICAgICBjb25zdCBmaWx0ZXJGb3JUaGlzUHJvcGVydHkgPSBjb2x1bW5fMCAmJiBmaWx0ZXIgJiYgZmlsdGVyW2NvbHVtbl8wLmtleV0gPyBmaWx0ZXJbY29sdW1uXzAua2V5XSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlSGVhZGVyLCB7IHJlc2l6ZUhhbmRsZVJlZjogY29sdW1uUmVmc1tjb2x1bW5JbmRleF0sIGNvbHVtbkluZGV4LCBpc1Jlc2l6aW5nSW5kZXg6IGlzUmVzaXppbmcsIG9uRmlsdGVyVXBkYXRlLCBmaWx0ZXI6IGZpbHRlckZvclRoaXNQcm9wZXJ0eSwgc29ydDogc29ydEJ5UHJvcGVydHkgPT09IGNvbHVtbl8wLmtleSA/IGN1cnJlbnRTb3J0IDogdm9pZCAwLCBvbkNvbHVtblNvcnQsIG9uQ2xpY2tSZXNpemVDb2x1bW4sIGNvbHVtbjogY29sdW1uXzAsIGNyZWF0ZUZpbHRlckZpZWxkOiBjcmVhdGVGaWx0ZXJGaWVsZDIsIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQ6IGNvbHVtbl8wLkFkZGl0aW9uYWxIZWFkZXJXaWRnZXQgfSkgfSwgXCJoZWFkZXJfXCIgKyBjb2x1bW5fMC5rZXkpO1xuICAgIH0pLFxuICAgIEFkZENvbHVtbkNvbXBvbmVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEFkZENvbHVtbkNvbXBvbmVudCwge30pXG4gIF0gfSk7XG59O1xuY29uc3QgVmlydHVhbFRhYmxlUm93ID0gUmVhY3RfX2RlZmF1bHQubWVtbyhmdW5jdGlvbiBWaXJ0dWFsVGFibGVSb3cyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDE3KTtcbiAgY29uc3Qge1xuICAgIHJvd0RhdGEsXG4gICAgcm93SW5kZXgsXG4gICAgY2hpbGRyZW4sXG4gICAgb25Sb3dDbGljayxcbiAgICByb3dIZWlnaHQsXG4gICAgc3R5bGUsXG4gICAgaG92ZXJSb3csXG4gICAgcm93Q2xhc3NOYW1lXG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gb25Sb3dDbGljayB8fCAkWzFdICE9PSByb3dEYXRhIHx8ICRbMl0gIT09IHJvd0luZGV4KSB7XG4gICAgdDEgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChvblJvd0NsaWNrKSB7XG4gICAgICAgIG9uUm93Q2xpY2soe1xuICAgICAgICAgIHJvd0RhdGEsXG4gICAgICAgICAgcm93SW5kZXgsXG4gICAgICAgICAgZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gb25Sb3dDbGljaztcbiAgICAkWzFdID0gcm93RGF0YTtcbiAgICAkWzJdID0gcm93SW5kZXg7XG4gICAgJFszXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFszXTtcbiAgfVxuICBjb25zdCBvbkNsaWNrID0gdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IGhvdmVyUm93IHx8ICRbNV0gIT09IG9uUm93Q2xpY2sgfHwgJFs2XSAhPT0gcm93Q2xhc3NOYW1lIHx8ICRbN10gIT09IHJvd0RhdGEpIHtcbiAgICB0MiA9IGNscyhcImZsZXggbWluLXctZnVsbCB0ZXh0LXNtIGJvcmRlci1iIGJvcmRlci1zdXJmYWNlLTIwMCBkYXJrOmJvcmRlci1zdXJmYWNlLTgwMCBib3JkZXItb3BhY2l0eS00MCBkYXJrOmJvcmRlci1vcGFjaXR5LTQwXCIsIHJvd0NsYXNzTmFtZSA/IHJvd0NsYXNzTmFtZShyb3dEYXRhKSA6IFwiXCIsIHtcbiAgICAgIFwiaG92ZXI6Ymctb3BhY2l0eS05NVwiOiBob3ZlclJvdyxcbiAgICAgIFwiY3Vyc29yLXBvaW50ZXJcIjogb25Sb3dDbGlja1xuICAgIH0pO1xuICAgICRbNF0gPSBob3ZlclJvdztcbiAgICAkWzVdID0gb25Sb3dDbGljaztcbiAgICAkWzZdID0gcm93Q2xhc3NOYW1lO1xuICAgICRbN10gPSByb3dEYXRhO1xuICAgICRbOF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbOF07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs5XSAhPT0gcm93SGVpZ2h0IHx8ICRbMTBdICE9PSBzdHlsZSkge1xuICAgIHQzID0ge1xuICAgICAgLi4uc3R5bGUsXG4gICAgICBoZWlnaHQ6IHJvd0hlaWdodCxcbiAgICAgIHdpZHRoOiBcImZpdC1jb250ZW50XCJcbiAgICB9O1xuICAgICRbOV0gPSByb3dIZWlnaHQ7XG4gICAgJFsxMF0gPSBzdHlsZTtcbiAgICAkWzExXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMV07XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFsxMl0gIT09IGNoaWxkcmVuIHx8ICRbMTNdICE9PSBvbkNsaWNrIHx8ICRbMTRdICE9PSB0MiB8fCAkWzE1XSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQyLCBvbkNsaWNrLCBzdHlsZTogdDMsIGNoaWxkcmVuIH0pO1xuICAgICRbMTJdID0gY2hpbGRyZW47XG4gICAgJFsxM10gPSBvbkNsaWNrO1xuICAgICRbMTRdID0gdDI7XG4gICAgJFsxNV0gPSB0MztcbiAgICAkWzE2XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFsxNl07XG4gIH1cbiAgcmV0dXJuIHQ0O1xufSwgZXF1YWwpO1xuY29uc3QgVmlydHVhbFRhYmxlQ2VsbCA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gVmlydHVhbFRhYmxlQ2VsbDIocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnJvd0RhdGEgJiYgcHJvcHMuY2VsbFJlbmRlcmVyKHtcbiAgICBjZWxsRGF0YTogcHJvcHMuY2VsbERhdGEsXG4gICAgcm93RGF0YTogcHJvcHMucm93RGF0YSxcbiAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXgsXG4gICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgIGNvbHVtbjogcHJvcHMuY29sdW1uLFxuICAgIGNvbHVtbnM6IHByb3BzLmNvbHVtbnMsXG4gICAgY29sdW1uSW5kZXg6IHByb3BzLmNvbHVtbkluZGV4LFxuICAgIHdpZHRoOiBwcm9wcy5jb2x1bW4ud2lkdGhcbiAgfSk7XG59LCAoYSwgYikgPT4ge1xuICByZXR1cm4gZXF1YWwoYS5yb3dEYXRhLCBiLnJvd0RhdGEpICYmIGVxdWFsKGEuY29sdW1uLCBiLmNvbHVtbikgJiYgZXF1YWwoYS5jZWxsRGF0YSwgYi5jZWxsRGF0YSkgJiYgZXF1YWwoYS5yb3dJbmRleCwgYi5yb3dJbmRleCkgJiYgZXF1YWwoYS5jZWxsUmVuZGVyZXIsIGIuY2VsbFJlbmRlcmVyKSAmJiBlcXVhbChhLmNvbHVtbkluZGV4LCBiLmNvbHVtbkluZGV4KTtcbn0pO1xuZnVuY3Rpb24gdXNlRGVib3VuY2VDYWxsYmFjayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgY29uc3QgJCA9IGMoMyk7XG4gIGNvbnN0IHRpbWVvdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gIT09IGNhbGxiYWNrIHx8ICRbMV0gIT09IGRlbGF5KSB7XG4gICAgdDAgPSAoLi4udDEpID0+IHtcbiAgICAgIGNvbnN0IGFyZ3MgPSB0MTtcbiAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrPy4oLi4uYXJncyk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfTtcbiAgICAkWzBdID0gY2FsbGJhY2s7XG4gICAgJFsxXSA9IGRlbGF5O1xuICAgICRbMl0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMl07XG4gIH1cbiAgY29uc3QgZGVib3VuY2VkQ2FsbGJhY2sgPSB0MDtcbiAgcmV0dXJuIGRlYm91bmNlZENhbGxiYWNrO1xufVxuY29uc3QgVmlydHVhbExpc3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5WaXJ0dWFsTGlzdENvbnRleHQuZGlzcGxheU5hbWUgPSBcIlZpcnR1YWxMaXN0Q29udGV4dFwiO1xuY29uc3QgaW5uZXJFbGVtZW50VHlwZSA9IGZvcndhcmRSZWYoKHQwLCByZWYpID0+IHtcbiAgY29uc3QgJCA9IGMoNyk7XG4gIGxldCBjaGlsZHJlbjtcbiAgbGV0IHJlc3Q7XG4gIGlmICgkWzBdICE9PSB0MCkge1xuICAgICh7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdDApO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gY2hpbGRyZW47XG4gICAgJFsyXSA9IHJlc3Q7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSAkWzFdO1xuICAgIHJlc3QgPSAkWzJdO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbM10gIT09IGNoaWxkcmVuIHx8ICRbNF0gIT09IHJlZiB8fCAkWzVdICE9PSByZXN0KSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KFZpcnR1YWxMaXN0Q29udGV4dC5Db25zdW1lciwgeyBjaGlsZHJlbjogKHZpcnR1YWxUYWJsZVByb3BzKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21WaWV3ID0gdmlydHVhbFRhYmxlUHJvcHMuY3VzdG9tVmlldztcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgaWQ6IFwidmlydHVhbC10YWJsZVwiLCBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyByZWYsIC4uLnJlc3QsIHN0eWxlOiB7XG4gICAgICAgICAgLi4ucmVzdD8uc3R5bGUsXG4gICAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICAgIH0sIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChWaXJ0dWFsVGFibGVIZWFkZXJSb3csIHsgLi4udmlydHVhbFRhYmxlUHJvcHMgfSksXG4gICAgICAgICAgIWN1c3RvbVZpZXcgJiYgY2hpbGRyZW5cbiAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgY3VzdG9tVmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogXCJzdGlja3lcIixcbiAgICAgICAgICB0b3A6IFwiNDhweFwiLFxuICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEwMCUgLSA0OHB4KVwiLFxuICAgICAgICAgIG1hcmdpblRvcDogXCJjYWxjKDQ4cHggLSAxMDB2aClcIixcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0sIGNoaWxkcmVuOiBjdXN0b21WaWV3IH0pXG4gICAgICBdIH0pO1xuICAgIH0gfSk7XG4gICAgJFszXSA9IGNoaWxkcmVuO1xuICAgICRbNF0gPSByZWY7XG4gICAgJFs1XSA9IHJlc3Q7XG4gICAgJFs2XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs2XTtcbiAgfVxuICByZXR1cm4gdDE7XG59KTtcbmNvbnN0IFZpcnR1YWxUYWJsZSA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gVmlydHVhbFRhYmxlMih7XG4gIGRhdGEsXG4gIG9uUmVzZXRQYWdpbmF0aW9uLFxuICBvbkVuZFJlYWNoZWQsXG4gIGVuZE9mZnNldCA9IDYwMCxcbiAgcm93SGVpZ2h0ID0gNTQsXG4gIGNvbHVtbnM6IGNvbHVtbnNQcm9wLFxuICBvblJvd0NsaWNrLFxuICBvbkNvbHVtblJlc2l6ZSxcbiAgZmlsdGVyOiBmaWx0ZXJJbnB1dCxcbiAgY2hlY2tGaWx0ZXJDb21iaW5hdGlvbixcbiAgb25GaWx0ZXJVcGRhdGUsXG4gIHNvcnRCeSxcbiAgZXJyb3IsXG4gIGVtcHR5Q29tcG9uZW50LFxuICBvblNvcnRCeVVwZGF0ZSxcbiAgb25TY3JvbGw6IG9uU2Nyb2xsUHJvcCxcbiAgbG9hZGluZyxcbiAgY2VsbFJlbmRlcmVyLFxuICBob3ZlclJvdyxcbiAgY3JlYXRlRmlsdGVyRmllbGQ6IGNyZWF0ZUZpbHRlckZpZWxkMixcbiAgcm93Q2xhc3NOYW1lLFxuICBzdHlsZSxcbiAgY2xhc3NOYW1lLFxuICBlbmRBZG9ybm1lbnQsXG4gIEFkZENvbHVtbkNvbXBvbmVudCxcbiAgaW5pdGlhbFNjcm9sbCA9IDAsXG4gIGRlYnVnXG59KSB7XG4gIGNvbnN0IHNvcnRCeVByb3BlcnR5ID0gc29ydEJ5ID8gc29ydEJ5WzBdIDogdm9pZCAwO1xuICBjb25zdCBjdXJyZW50U29ydCA9IHNvcnRCeSA/IHNvcnRCeVsxXSA6IHZvaWQgMDtcbiAgY29uc3QgW2NvbHVtbnMsIHNldENvbHVtbnNdID0gdXNlU3RhdGUoY29sdW1uc1Byb3ApO1xuICBjb25zdCB0YWJsZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZW5kUmVhY2hDYWxsYmFja1RocmVzaG9sZCA9IHVzZVJlZigwKTtcbiAgY29uc3QgZGVib3VuY2VkU2Nyb2xsID0gdXNlRGVib3VuY2VDYWxsYmFjayhvblNjcm9sbFByb3AsIDIwMCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRhYmxlUmVmLmN1cnJlbnQgJiYgaW5pdGlhbFNjcm9sbCkge1xuICAgICAgdGFibGVSZWYuY3VycmVudC5zY3JvbGxUbygwLCBpbml0aWFsU2Nyb2xsKTtcbiAgICB9XG4gIH0sIFt0YWJsZVJlZiwgaW5pdGlhbFNjcm9sbF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENvbHVtbnMoY29sdW1uc1Byb3ApO1xuICB9LCBbY29sdW1uc1Byb3BdKTtcbiAgY29uc3QgW21lYXN1cmVSZWYsIGJvdW5kc10gPSB1c2VNZWFzdXJlKCk7XG4gIGNvbnN0IG9uQ29sdW1uUmVzaXplSW50ZXJuYWwgPSB1c2VDYWxsYmFjaygocGFyYW1zKSA9PiB7XG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIm9uQ29sdW1uUmVzaXplSW50ZXJuYWxcIiwgcGFyYW1zKTtcbiAgICBzZXRDb2x1bW5zKGNvbHVtbnMubWFwKChjb2x1bW4pID0+IGNvbHVtbi5rZXkgPT09IHBhcmFtcy5jb2x1bW4ua2V5ID8gcGFyYW1zLmNvbHVtbiA6IGNvbHVtbikpO1xuICB9LCBbY29sdW1uc10pO1xuICBjb25zdCBvbkNvbHVtblJlc2l6ZUVuZEludGVybmFsID0gdXNlQ2FsbGJhY2soKHBhcmFtc18wKSA9PiB7XG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIm9uQ29sdW1uUmVzaXplRW5kSW50ZXJuYWxcIiwgcGFyYW1zXzApO1xuICAgIHNldENvbHVtbnMoY29sdW1ucy5tYXAoKGNvbHVtbl8wKSA9PiBjb2x1bW5fMC5rZXkgPT09IHBhcmFtc18wLmNvbHVtbi5rZXkgPyBwYXJhbXNfMC5jb2x1bW4gOiBjb2x1bW5fMCkpO1xuICAgIGlmIChvbkNvbHVtblJlc2l6ZSkge1xuICAgICAgb25Db2x1bW5SZXNpemUocGFyYW1zXzApO1xuICAgIH1cbiAgfSwgW2NvbHVtbnMsIG9uQ29sdW1uUmVzaXplXSk7XG4gIGNvbnN0IGZpbHRlclJlZiA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJGaWx0ZXIgdXBkYXRlZFwiLCBmaWx0ZXJJbnB1dCk7XG4gICAgZmlsdGVyUmVmLmN1cnJlbnQgPSBmaWx0ZXJJbnB1dDtcbiAgfSwgW2ZpbHRlcklucHV0XSk7XG4gIGNvbnN0IHNjcm9sbFRvVG9wID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJzY3JvbGxUb1RvcFwiKTtcbiAgICBlbmRSZWFjaENhbGxiYWNrVGhyZXNob2xkLmN1cnJlbnQgPSAwO1xuICAgIGlmICh0YWJsZVJlZi5jdXJyZW50KSB7XG4gICAgICB0YWJsZVJlZi5jdXJyZW50LnNjcm9sbFRvKHRhYmxlUmVmLmN1cnJlbnQ/LnNjcm9sbExlZnQsIDApO1xuICAgIH1cbiAgfSwgW10pO1xuICBjb25zdCBvbkNvbHVtblNvcnQgPSB1c2VDYWxsYmFjaygoa2V5KSA9PiB7XG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIm9uQ29sdW1uU29ydFwiLCBrZXkpO1xuICAgIGNvbnN0IGlzRGVzYyA9IHNvcnRCeVByb3BlcnR5ID09PSBrZXkgJiYgY3VycmVudFNvcnQgPT09IFwiZGVzY1wiO1xuICAgIGNvbnN0IGlzQXNjID0gc29ydEJ5UHJvcGVydHkgPT09IGtleSAmJiBjdXJyZW50U29ydCA9PT0gXCJhc2NcIjtcbiAgICBjb25zdCBuZXdTb3J0ID0gaXNBc2MgPyBcImRlc2NcIiA6IGlzRGVzYyA/IHZvaWQgMCA6IFwiYXNjXCI7XG4gICAgY29uc3QgbmV3U29ydFByb3BlcnR5ID0gaXNEZXNjID8gdm9pZCAwIDoga2V5O1xuICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlclJlZi5jdXJyZW50O1xuICAgIGNvbnN0IG5ld1NvcnRCeSA9IG5ld1NvcnQgJiYgbmV3U29ydFByb3BlcnR5ID8gW25ld1NvcnRQcm9wZXJ0eSwgbmV3U29ydF0gOiB2b2lkIDA7XG4gICAgaWYgKGZpbHRlcikge1xuICAgICAgaWYgKGNoZWNrRmlsdGVyQ29tYmluYXRpb24gJiYgIWNoZWNrRmlsdGVyQ29tYmluYXRpb24oZmlsdGVyLCBuZXdTb3J0QnkpKSB7XG4gICAgICAgIGlmIChvbkZpbHRlclVwZGF0ZSkgb25GaWx0ZXJVcGRhdGUodm9pZCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9uUmVzZXRQYWdpbmF0aW9uKSB7XG4gICAgICBvblJlc2V0UGFnaW5hdGlvbigpO1xuICAgIH1cbiAgICBpZiAob25Tb3J0QnlVcGRhdGUpIHtcbiAgICAgIG9uU29ydEJ5VXBkYXRlKG5ld1NvcnRCeSk7XG4gICAgfVxuICAgIHNjcm9sbFRvVG9wKCk7XG4gIH0sIFtjaGVja0ZpbHRlckNvbWJpbmF0aW9uLCBjdXJyZW50U29ydCwgb25GaWx0ZXJVcGRhdGUsIG9uUmVzZXRQYWdpbmF0aW9uLCBvblNvcnRCeVVwZGF0ZSwgc2Nyb2xsVG9Ub3AsIHNvcnRCeVByb3BlcnR5XSk7XG4gIGNvbnN0IG1heFNjcm9sbCA9IE1hdGgubWF4KChkYXRhPy5sZW5ndGggPz8gMCkgKiByb3dIZWlnaHQgLSBib3VuZHMuaGVpZ2h0LCAwKTtcbiAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIm1heFNjcm9sbFwiLCBtYXhTY3JvbGwpO1xuICBjb25zdCBvbkVuZFJlYWNoZWRJbnRlcm5hbCA9IHVzZUNhbGxiYWNrKChzY3JvbGxPZmZzZXQpID0+IHtcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwib25FbmRSZWFjaGVkSW50ZXJuYWxcIiwgc2Nyb2xsT2Zmc2V0LCBlbmRSZWFjaENhbGxiYWNrVGhyZXNob2xkLmN1cnJlbnQgKyBlbmRPZmZzZXQpO1xuICAgIGlmIChvbkVuZFJlYWNoZWQgJiYgKGRhdGE/Lmxlbmd0aCA/PyAwKSA+IDAgJiYgc2Nyb2xsT2Zmc2V0ID4gZW5kUmVhY2hDYWxsYmFja1RocmVzaG9sZC5jdXJyZW50ICsgZW5kT2Zmc2V0KSB7XG4gICAgICBlbmRSZWFjaENhbGxiYWNrVGhyZXNob2xkLmN1cnJlbnQgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICBvbkVuZFJlYWNoZWQoKTtcbiAgICB9XG4gIH0sIFtkYXRhPy5sZW5ndGgsIG9uRW5kUmVhY2hlZF0pO1xuICBjb25zdCBvblNjcm9sbCA9IHVzZUNhbGxiYWNrKCh7XG4gICAgc2Nyb2xsRGlyZWN0aW9uLFxuICAgIHNjcm9sbE9mZnNldDogc2Nyb2xsT2Zmc2V0XzAsXG4gICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkXG4gIH0pID0+IHtcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwib25TY3JvbGxcIiwge1xuICAgICAgc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxPZmZzZXRfMCxcbiAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZFxuICAgIH0pO1xuICAgIGlmIChvblNjcm9sbFByb3ApIHtcbiAgICAgIGRlYm91bmNlZFNjcm9sbCh7XG4gICAgICAgIHNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxPZmZzZXRfMCxcbiAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQgJiYgc2Nyb2xsT2Zmc2V0XzAgPj0gbWF4U2Nyb2xsIC0gZW5kT2Zmc2V0KSBvbkVuZFJlYWNoZWRJbnRlcm5hbChzY3JvbGxPZmZzZXRfMCk7XG4gIH0sIFttYXhTY3JvbGwsIG9uRW5kUmVhY2hlZEludGVybmFsXSk7XG4gIGNvbnN0IG9uRmlsdGVyVXBkYXRlSW50ZXJuYWwgPSB1c2VDYWxsYmFjaygoY29sdW1uXzEsIGZpbHRlckZvclByb3BlcnR5KSA9PiB7XG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIm9uRmlsdGVyVXBkYXRlSW50ZXJuYWxcIiwgY29sdW1uXzEsIGZpbHRlckZvclByb3BlcnR5KTtcbiAgICBlbmRSZWFjaENhbGxiYWNrVGhyZXNob2xkLmN1cnJlbnQgPSAwO1xuICAgIGNvbnN0IGZpbHRlcl8wID0gZmlsdGVyUmVmLmN1cnJlbnQ7XG4gICAgbGV0IG5ld0ZpbHRlclZhbHVlID0gZmlsdGVyXzAgPyB7XG4gICAgICAuLi5maWx0ZXJfMFxuICAgIH0gOiB7fTtcbiAgICBpZiAoIWZpbHRlckZvclByb3BlcnR5KSB7XG4gICAgICBkZWxldGUgbmV3RmlsdGVyVmFsdWVbY29sdW1uXzEua2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RmlsdGVyVmFsdWVbY29sdW1uXzEua2V5XSA9IGZpbHRlckZvclByb3BlcnR5O1xuICAgIH1cbiAgICBjb25zdCBuZXdTb3J0QnlfMCA9IHNvcnRCeVByb3BlcnR5ICYmIGN1cnJlbnRTb3J0ID8gW3NvcnRCeVByb3BlcnR5LCBjdXJyZW50U29ydF0gOiB2b2lkIDA7XG4gICAgY29uc3QgaXNOZXdGaWx0ZXJDb21iaW5hdGlvblZhbGlkID0gIWNoZWNrRmlsdGVyQ29tYmluYXRpb24gfHwgY2hlY2tGaWx0ZXJDb21iaW5hdGlvbihuZXdGaWx0ZXJWYWx1ZSwgbmV3U29ydEJ5XzApO1xuICAgIGlmICghaXNOZXdGaWx0ZXJDb21iaW5hdGlvblZhbGlkKSB7XG4gICAgICBuZXdGaWx0ZXJWYWx1ZSA9IGZpbHRlckZvclByb3BlcnR5ID8ge1xuICAgICAgICBbY29sdW1uXzEua2V5XTogZmlsdGVyRm9yUHJvcGVydHlcbiAgICAgIH0gOiB7fTtcbiAgICB9XG4gICAgaWYgKG9uRmlsdGVyVXBkYXRlKSBvbkZpbHRlclVwZGF0ZShuZXdGaWx0ZXJWYWx1ZSk7XG4gIH0sIFtjaGVja0ZpbHRlckNvbWJpbmF0aW9uLCBjdXJyZW50U29ydCwgb25GaWx0ZXJVcGRhdGUsIHNvcnRCeVByb3BlcnR5XSk7XG4gIGNvbnN0IGVtcHR5ID0gIWxvYWRpbmcgJiYgKGRhdGE/Lmxlbmd0aCA/PyAwKSA9PT0gMDtcbiAgY29uc3QgY3VzdG9tVmlldyA9IGVycm9yID8gLyogQF9fUFVSRV9fICovIGpzeHMoQ2VudGVyZWRWaWV3LCB7IG1heFdpZHRoOiBcIjJ4bFwiLCBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMlwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImg2XCIsIGNoaWxkcmVuOiBcIkVycm9yXCIgfSksXG4gICAgZXJyb3I/Lm1lc3NhZ2UgJiYgLyogQF9fUFVSRV9fICovIGpzeChTYWZlTGlua1JlbmRlcmVyLCB7IHRleHQ6IGVycm9yLm1lc3NhZ2UgfSlcbiAgXSB9KSA6IGVtcHR5ID8gbG9hZGluZyA/IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY3VsYXJQcm9ncmVzc0NlbnRlciwge30pIDogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1hdXRvIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgZ2FwLTIgaC1mdWxsXCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChBc3NpZ25tZW50SWNvbiwge30pLFxuICAgIGVtcHR5Q29tcG9uZW50XG4gIF0gfSkgOiB2b2lkIDA7XG4gIGNvbnN0IHZpcnR1YWxMaXN0Q29udHJvbGxlciA9IHtcbiAgICBkYXRhLFxuICAgIHJvd0hlaWdodCxcbiAgICBjZWxsUmVuZGVyZXIsXG4gICAgY29sdW1ucyxcbiAgICBjdXJyZW50U29ydCxcbiAgICBvblJvd0NsaWNrLFxuICAgIGN1c3RvbVZpZXcsXG4gICAgb25Db2x1bW5SZXNpemU6IG9uQ29sdW1uUmVzaXplSW50ZXJuYWwsXG4gICAgb25Db2x1bW5SZXNpemVFbmQ6IG9uQ29sdW1uUmVzaXplRW5kSW50ZXJuYWwsXG4gICAgZmlsdGVyOiBmaWx0ZXJSZWYuY3VycmVudCxcbiAgICBvbkNvbHVtblNvcnQsXG4gICAgb25GaWx0ZXJVcGRhdGU6IG9uRmlsdGVyVXBkYXRlSW50ZXJuYWwsXG4gICAgc29ydEJ5UHJvcGVydHksXG4gICAgaG92ZXJSb3c6IGhvdmVyUm93ID8/IGZhbHNlLFxuICAgIGNyZWF0ZUZpbHRlckZpZWxkOiBjcmVhdGVGaWx0ZXJGaWVsZDIsXG4gICAgcm93Q2xhc3NOYW1lLFxuICAgIGVuZEFkb3JubWVudCxcbiAgICBBZGRDb2x1bW5Db21wb25lbnRcbiAgfTtcbiAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIlZpcnR1YWxUYWJsZSByZW5kZXJcIiwgdmlydHVhbExpc3RDb250cm9sbGVyKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyByZWY6IG1lYXN1cmVSZWYsIHN0eWxlLCBjbGFzc05hbWU6IGNscyhcImgtZnVsbCB3LWZ1bGxcIiwgY2xhc3NOYW1lKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbExpc3RDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB2aXJ0dWFsTGlzdENvbnRyb2xsZXIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KE1lbW9pemVkTGlzdCwgeyBvdXRlclJlZjogdGFibGVSZWYsIHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCwgaXRlbUNvdW50OiAoZGF0YT8ubGVuZ3RoID8/IDApICsgKGVuZEFkb3JubWVudCA/IDEgOiAwKSwgb25TY3JvbGwsIGluY2x1ZGVBZGRDb2x1bW46IEJvb2xlYW4oQWRkQ29sdW1uQ29tcG9uZW50KSwgaXRlbVNpemU6IHJvd0hlaWdodCB9LCByb3dIZWlnaHQpIH0pIH0pO1xufSwgZXF1YWwpO1xuZnVuY3Rpb24gTWVtb2l6ZWRMaXN0KHtcbiAgb3V0ZXJSZWYsXG4gIHdpZHRoLFxuICBoZWlnaHQsXG4gIGl0ZW1Db3VudCxcbiAgb25TY3JvbGwsXG4gIGl0ZW1TaXplLFxuICBpbmNsdWRlQWRkQ29sdW1uXG59KSB7XG4gIGNvbnN0IFJvdyA9IHVzZUNhbGxiYWNrKCh7XG4gICAgaW5kZXgsXG4gICAgc3R5bGVcbiAgfSkgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFZpcnR1YWxMaXN0Q29udGV4dC5Db25zdW1lciwgeyBjaGlsZHJlbjogKHtcbiAgICAgIG9uUm93Q2xpY2ssXG4gICAgICBkYXRhLFxuICAgICAgY29sdW1ucyxcbiAgICAgIHJvd0hlaWdodCA9IDU0LFxuICAgICAgY2VsbFJlbmRlcmVyLFxuICAgICAgaG92ZXJSb3csXG4gICAgICByb3dDbGFzc05hbWUsXG4gICAgICBlbmRBZG9ybm1lbnRcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoZW5kQWRvcm5tZW50ICYmIGluZGV4ID09PSAoZGF0YSA/PyBbXSkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgIHBvc2l0aW9uOiBcInN0aWNreVwiLFxuICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICB6SW5kZXg6IDFcbiAgICAgICAgfSwgY2hpbGRyZW46IGVuZEFkb3JubWVudCB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJvd0RhdGEgPSBkYXRhICYmIGRhdGFbaW5kZXhdO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFZpcnR1YWxUYWJsZVJvdywgeyByb3dEYXRhLCByb3dJbmRleDogaW5kZXgsIG9uUm93Q2xpY2ssIGNvbHVtbnMsIGhvdmVyUm93LCByb3dDbGFzc05hbWUsIHN0eWxlOiB7XG4gICAgICAgIC4uLnN0eWxlLFxuICAgICAgICB0b3A6IGBjYWxjKCR7c3R5bGUudG9wfXB4ICsgNDhweClgXG4gICAgICB9LCByb3dIZWlnaHQsIGNoaWxkcmVuOiBbXG4gICAgICAgIGNvbHVtbnMubWFwKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2VsbERhdGEgPSByb3dEYXRhICYmIHJvd0RhdGFbY29sdW1uLmtleV07XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVmlydHVhbFRhYmxlQ2VsbCwgeyBkYXRhS2V5OiBjb2x1bW4ua2V5LCBjZWxsUmVuZGVyZXIsIGNvbHVtbiwgY29sdW1ucywgcm93RGF0YSwgY2VsbERhdGEsIHJvd0luZGV4OiBpbmRleCwgY29sdW1uSW5kZXggfSwgYGNlbGxfJHtjb2x1bW4ua2V5fWApO1xuICAgICAgICB9KSxcbiAgICAgICAgaW5jbHVkZUFkZENvbHVtbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctMjBcIiB9KVxuICAgICAgXSB9LCBgcm93XyR7aW5kZXh9YCk7XG4gICAgfSB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGaXhlZFNpemVMaXN0LCB7IG91dGVyUmVmLCBpbm5lckVsZW1lbnRUeXBlLCB3aWR0aCwgaGVpZ2h0LCBvdmVyc2NhbkNvdW50OiA0LCBpdGVtQ291bnQsIG9uU2Nyb2xsLCBpdGVtU2l6ZSwgY2hpbGRyZW46IFJvdyB9KTtcbn1cbmNvbnN0IFNhZmVMaW5rUmVuZGVyZXIgPSAodDApID0+IHtcbiAgY29uc3QgJCA9IGMoNCk7XG4gIGNvbnN0IHtcbiAgICB0ZXh0XG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gdGV4dCkge1xuICAgIGNvbnN0IHVybFJlZ2V4ID0gL2h0dHBzPzpcXC9cXC9bXlxcc10rL2c7XG4gICAgdDEgPSB0ZXh0LnJlcGxhY2UodXJsUmVnZXgsIF90ZW1wJGgpO1xuICAgICRbMF0gPSB0ZXh0O1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgY29uc3QgaHRtbENvbnRlbnQgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gaHRtbENvbnRlbnQpIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnJlYWstYWxsXCIsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICBfX2h0bWw6IGh0bWxDb250ZW50XG4gICAgfSB9KTtcbiAgICAkWzJdID0gaHRtbENvbnRlbnQ7XG4gICAgJFszXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFszXTtcbiAgfVxuICByZXR1cm4gdDI7XG59O1xuZnVuY3Rpb24gX3RlbXAkaCh1cmwpIHtcbiAgcmV0dXJuIGA8YSBocmVmPVwiJHt1cmx9XCIgY2xhc3M9XCJ1bmRlcmxpbmVcIiB0YXJnZXQ9XCJfYmxhbmtcIj5MaW5rPC9hPjxici8+YDtcbn1cbmNvbnN0IG9wZXJhdGlvbkxhYmVscyQyID0ge1xuICBcIj09XCI6IFwiPT1cIixcbiAgXCIhPVwiOiBcIiE9XCIsXG4gIFwiPlwiOiBcIj5cIixcbiAgXCI8XCI6IFwiPFwiLFxuICBcIj49XCI6IFwiPj1cIixcbiAgXCI8PVwiOiBcIjw9XCIsXG4gIGluOiBcIkluXCIsXG4gIFwibm90LWluXCI6IFwiTm90IGluXCIsXG4gIFwiYXJyYXktY29udGFpbnNcIjogXCJDb250YWluc1wiLFxuICBcImFycmF5LWNvbnRhaW5zLWFueVwiOiBcIkNvbnRhaW5zIEFueVwiXG59O1xuY29uc3QgbXVsdGlwbGVTZWxlY3RPcGVyYXRpb25zJDIgPSBbXCJhcnJheS1jb250YWlucy1hbnlcIiwgXCJpblwiLCBcIm5vdC1pblwiXTtcbmZ1bmN0aW9uIFJlZmVyZW5jZUZpbHRlckZpZWxkKHtcbiAgdmFsdWUsXG4gIHNldFZhbHVlLFxuICBpc0FycmF5LFxuICBwYXRoLFxuICBpbmNsdWRlSWQgPSB0cnVlLFxuICBwcmV2aWV3UHJvcGVydGllcyxcbiAgc2V0SGlkZGVuXG59KSB7XG4gIGNvbnN0IHBvc3NpYmxlT3BlcmF0aW9ucyA9IGlzQXJyYXkgPyBbXCJhcnJheS1jb250YWluc1wiXSA6IFtcIj09XCIsIFwiIT1cIiwgXCI+XCIsIFwiPFwiLCBcIj49XCIsIFwiPD1cIl07XG4gIGlmIChpc0FycmF5KSB7XG4gICAgcG9zc2libGVPcGVyYXRpb25zLnB1c2goXCJhcnJheS1jb250YWlucy1hbnlcIik7XG4gIH0gZWxzZSB7XG4gICAgcG9zc2libGVPcGVyYXRpb25zLnB1c2goXCJpblwiLCBcIm5vdC1pblwiKTtcbiAgfVxuICBjb25zdCBbZmllbGRPcGVyYXRpb24sIGZpZWxkVmFsdWVdID0gdmFsdWUgfHwgW3Bvc3NpYmxlT3BlcmF0aW9uc1swXSwgdm9pZCAwXTtcbiAgY29uc3QgW29wZXJhdGlvbiwgc2V0T3BlcmF0aW9uXSA9IHVzZVN0YXRlKGZpZWxkT3BlcmF0aW9uKTtcbiAgY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0gdXNlU3RhdGUoZmllbGRWYWx1ZSk7XG4gIGNvbnN0IHNlbGVjdGVkRW50aXR5SWRzID0gaW50ZXJuYWxWYWx1ZSA/IEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgPyBpbnRlcm5hbFZhbHVlLm1hcCgocmVmKSA9PiB7XG4gICAgaWYgKCEocmVmPy5pc0VudGl0eVJlZmVyZW5jZSAmJiByZWY/LmlzRW50aXR5UmVmZXJlbmNlKCkpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlZi5pZDtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pIDogW2ludGVybmFsVmFsdWUuaWRdIDogW107XG4gIGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcihvcCwgdmFsKSB7XG4gICAgY29uc3QgcHJldk9wSXNBcnJheSA9IG11bHRpcGxlU2VsZWN0T3BlcmF0aW9ucyQyLmluY2x1ZGVzKG9wZXJhdGlvbik7XG4gICAgY29uc3QgbmV3T3BJc0FycmF5ID0gbXVsdGlwbGVTZWxlY3RPcGVyYXRpb25zJDIuaW5jbHVkZXMob3ApO1xuICAgIGxldCBuZXdWYWx1ZSA9IHZhbDtcbiAgICBpZiAocHJldk9wSXNBcnJheSAhPT0gbmV3T3BJc0FycmF5KSB7XG4gICAgICBuZXdWYWx1ZSA9IG5ld09wSXNBcnJheSA/IG5ld1ZhbHVlPy5pc0VudGl0eVJlZmVyZW5jZSAmJiBuZXdWYWx1ZT8uaXNFbnRpdHlSZWZlcmVuY2UoKSA/IFtuZXdWYWx1ZV0gOiBbXSA6IHZvaWQgMDtcbiAgICB9XG4gICAgc2V0T3BlcmF0aW9uKG9wKTtcbiAgICBzZXRJbnRlcm5hbFZhbHVlKG5ld1ZhbHVlKTtcbiAgICBjb25zdCBoYXNOZXdWYWx1ZSA9IG5ld1ZhbHVlICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkobmV3VmFsdWUpID8gbmV3VmFsdWUubGVuZ3RoID4gMCA6IG5ld1ZhbHVlICE9PSB2b2lkIDA7XG4gICAgaWYgKG9wICYmIGhhc05ld1ZhbHVlKSB7XG4gICAgICBzZXRWYWx1ZShbb3AsIG5ld1ZhbHVlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbHVlKHZvaWQgMCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG5hdmlnYXRpb25Db250cm9sbGVyID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgY29sbGVjdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBwYXRoID8gbmF2aWdhdGlvbkNvbnRyb2xsZXIuZ2V0Q29sbGVjdGlvbihwYXRoKSA6IHZvaWQgMDtcbiAgfSwgW3BhdGhdKTtcbiAgY29uc3Qgb25TaW5nbGVFbnRpdHlTZWxlY3RlZCA9IChlbnRpdHkpID0+IHtcbiAgICB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCBnZXRSZWZlcmVuY2VGcm9tKGVudGl0eSkpO1xuICB9O1xuICBjb25zdCBvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZCA9IChlbnRpdGllcykgPT4ge1xuICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIGVudGl0aWVzLm1hcCgoZSkgPT4gZ2V0UmVmZXJlbmNlRnJvbShlKSkpO1xuICB9O1xuICBjb25zdCBtdWx0aXBsZSA9IG11bHRpcGxlU2VsZWN0T3BlcmF0aW9ucyQyLmluY2x1ZGVzKG9wZXJhdGlvbik7XG4gIGNvbnN0IHJlZmVyZW5jZURpYWxvZ0NvbnRyb2xsZXIgPSB1c2VSZWZlcmVuY2VEaWFsb2coe1xuICAgIG11bHRpc2VsZWN0OiBtdWx0aXBsZSxcbiAgICBwYXRoLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgb25TaW5nbGVFbnRpdHlTZWxlY3RlZCxcbiAgICBvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZCxcbiAgICBzZWxlY3RlZEVudGl0eUlkcyxcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICBzZXRIaWRkZW4oZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGRvT3BlbkRpYWxvZyA9ICgpID0+IHtcbiAgICBzZXRIaWRkZW4odHJ1ZSk7XG4gICAgcmVmZXJlbmNlRGlhbG9nQ29udHJvbGxlci5vcGVuKCk7XG4gIH07XG4gIGNvbnN0IGJ1aWxkRW50cnkgPSAocmVmZXJlbmNlKSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlldywgeyBkaXNhYmxlZDogIXBhdGgsIHByZXZpZXdQcm9wZXJ0aWVzLCBzaXplOiBcIm1lZGl1bVwiLCBvbkNsaWNrOiBkb09wZW5EaWFsb2csIHJlZmVyZW5jZSwgaG92ZXI6IHRydWUsIGluY2x1ZGVJZCwgaW5jbHVkZUVudGl0eUxpbms6IGZhbHNlIH0pO1xuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCB3LVs0ODBweF0gZmxleC1yb3dcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctWzE0MHB4XVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgdmFsdWU6IG9wZXJhdGlvbiwgc2l6ZTogXCJsYXJnZVwiLCBmdWxsV2lkdGg6IHRydWUsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZV8wKSA9PiB7XG4gICAgICB1cGRhdGVGaWx0ZXIodmFsdWVfMCwgaW50ZXJuYWxWYWx1ZSk7XG4gICAgfSwgcmVuZGVyVmFsdWU6IChvcF8wKSA9PiBvcGVyYXRpb25MYWJlbHMkMltvcF8wXSwgY2hpbGRyZW46IHBvc3NpYmxlT3BlcmF0aW9ucy5tYXAoKG9wXzEpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0SXRlbSwgeyB2YWx1ZTogb3BfMSwgY2hpbGRyZW46IG9wZXJhdGlvbkxhYmVscyQyW29wXzFdIH0sIG9wXzEpKSB9KSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgbWwtMiBoLWZ1bGwgZ2FwLTIgZmxleCBmbGV4LWNvbCB3LVszNDBweF1cIiwgY2hpbGRyZW46IFtcbiAgICAgIGludGVybmFsVmFsdWUgJiYgQXJyYXkuaXNBcnJheShpbnRlcm5hbFZhbHVlKSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGludGVybmFsVmFsdWUubWFwKChyZWZfMCwgaW5kZXgpID0+IGJ1aWxkRW50cnkocmVmXzApKSB9KSxcbiAgICAgIGludGVybmFsVmFsdWUgJiYgIUFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBidWlsZEVudHJ5KGludGVybmFsVmFsdWUpIH0pLFxuICAgICAgKCFpbnRlcm5hbFZhbHVlIHx8IEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgJiYgaW50ZXJuYWxWYWx1ZS5sZW5ndGggPT09IDApICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IG9uQ2xpY2s6IGRvT3BlbkRpYWxvZywgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBzaXplOiBcImxhcmdlXCIsIGNsYXNzTmFtZTogXCJoLWZ1bGwgdy1mdWxsXCIsIGNoaWxkcmVuOiBtdWx0aXBsZSA/IFwiU2VsZWN0IHJlZmVyZW5jZXNcIiA6IFwiU2VsZWN0IHJlZmVyZW5jZVwiIH0pLFxuICAgICAgIWlzQXJyYXkgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoTGFiZWwsIHsgY2xhc3NOYW1lOiBcImJvcmRlciBjdXJzb3ItcG9pbnRlciByb3VuZGVkLW1kIHAtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBbJjpoYXMoOmNoZWNrZWQpXTpiZy1zdXJmYWNlLTEwMCBkYXJrOlsmOmhhcyg6Y2hlY2tlZCldOmJnLXN1cmZhY2UtODAwXCIsIGh0bWxGb3I6IFwibnVsbC1maWx0ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDaGVja2JveCwgeyBpZDogXCJudWxsLWZpbHRlclwiLCBjaGVja2VkOiBpbnRlcm5hbFZhbHVlID09PSBudWxsLCBzaXplOiBcInNtYWxsXCIsIG9uQ2hlY2tlZENoYW5nZTogKGNoZWNrZWQpID0+IHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxWYWx1ZSAhPT0gbnVsbCkgdXBkYXRlRmlsdGVyKG9wZXJhdGlvbiwgbnVsbCk7XG4gICAgICAgICAgZWxzZSB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCB2b2lkIDApO1xuICAgICAgICB9IH0pLFxuICAgICAgICBcIkZpbHRlciBmb3IgbnVsbCB2YWx1ZXNcIlxuICAgICAgXSB9KVxuICAgIF0gfSlcbiAgXSB9KTtcbn1cbmNvbnN0IG9wZXJhdGlvbkxhYmVscyQxID0ge1xuICBcIj09XCI6IFwiPT1cIixcbiAgXCIhPVwiOiBcIiE9XCIsXG4gIFwiPlwiOiBcIj5cIixcbiAgXCI8XCI6IFwiPFwiLFxuICBcIj49XCI6IFwiPj1cIixcbiAgXCI8PVwiOiBcIjw9XCIsXG4gIGluOiBcIkluXCIsXG4gIFwibm90LWluXCI6IFwiTm90IGluXCIsXG4gIFwiYXJyYXktY29udGFpbnNcIjogXCJDb250YWluc1wiLFxuICBcImFycmF5LWNvbnRhaW5zLWFueVwiOiBcIkFueVwiXG59O1xuY29uc3QgbXVsdGlwbGVTZWxlY3RPcGVyYXRpb25zJDEgPSBbXCJhcnJheS1jb250YWlucy1hbnlcIiwgXCJpblwiLCBcIm5vdC1pblwiXTtcbmZ1bmN0aW9uIFN0cmluZ051bWJlckZpbHRlckZpZWxkKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDU1KTtcbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgZGF0YVR5cGUsXG4gICAgaXNBcnJheSxcbiAgICBlbnVtVmFsdWVzXG4gIH0gPSB0MDtcbiAgbGV0IHBvc3NpYmxlT3BlcmF0aW9ucztcbiAgaWYgKCRbMF0gIT09IGVudW1WYWx1ZXMgfHwgJFsxXSAhPT0gaXNBcnJheSkge1xuICAgIHBvc3NpYmxlT3BlcmF0aW9ucyA9IGlzQXJyYXkgPyBbXCJhcnJheS1jb250YWluc1wiXSA6IFtcIj09XCIsIFwiIT1cIiwgXCI+XCIsIFwiPFwiLCBcIj49XCIsIFwiPD1cIl07XG4gICAgaWYgKGVudW1WYWx1ZXMpIHtcbiAgICAgIGlzQXJyYXkgPyBwb3NzaWJsZU9wZXJhdGlvbnMucHVzaChcImFycmF5LWNvbnRhaW5zLWFueVwiKSA6IHBvc3NpYmxlT3BlcmF0aW9ucy5wdXNoKFwiaW5cIiwgXCJub3QtaW5cIik7XG4gICAgfVxuICAgICRbMF0gPSBlbnVtVmFsdWVzO1xuICAgICRbMV0gPSBpc0FycmF5O1xuICAgICRbMl0gPSBwb3NzaWJsZU9wZXJhdGlvbnM7XG4gIH0gZWxzZSB7XG4gICAgcG9zc2libGVPcGVyYXRpb25zID0gJFsyXTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzNdICE9PSBwb3NzaWJsZU9wZXJhdGlvbnMgfHwgJFs0XSAhPT0gdmFsdWUpIHtcbiAgICB0MSA9IHZhbHVlIHx8IFtwb3NzaWJsZU9wZXJhdGlvbnNbMF0sIHZvaWQgMF07XG4gICAgJFszXSA9IHBvc3NpYmxlT3BlcmF0aW9ucztcbiAgICAkWzRdID0gdmFsdWU7XG4gICAgJFs1XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs1XTtcbiAgfVxuICBjb25zdCBbZmllbGRPcGVyYXRpb24sIGZpZWxkVmFsdWVdID0gdDE7XG4gIGNvbnN0IFtvcGVyYXRpb24sIHNldE9wZXJhdGlvbl0gPSB1c2VTdGF0ZShmaWVsZE9wZXJhdGlvbik7XG4gIGNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKGZpZWxkVmFsdWUpO1xuICBsZXQgdDI7XG4gIGlmICgkWzZdICE9PSBvcGVyYXRpb24gfHwgJFs3XSAhPT0gc2V0VmFsdWUpIHtcbiAgICB0MiA9IGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcjIob3AsIHZhbCkge1xuICAgICAgbGV0IG5ld1ZhbHVlID0gdmFsO1xuICAgICAgY29uc3QgcHJldk9wSXNBcnJheSA9IG11bHRpcGxlU2VsZWN0T3BlcmF0aW9ucyQxLmluY2x1ZGVzKG9wZXJhdGlvbik7XG4gICAgICBjb25zdCBuZXdPcElzQXJyYXkgPSBtdWx0aXBsZVNlbGVjdE9wZXJhdGlvbnMkMS5pbmNsdWRlcyhvcCk7XG4gICAgICBpZiAocHJldk9wSXNBcnJheSAhPT0gbmV3T3BJc0FycmF5KSB7XG4gICAgICAgIG5ld1ZhbHVlID0gbmV3T3BJc0FycmF5ID8gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiID8gW3ZhbF0gOiBbXSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09IFwibnVtYmVyXCIgJiYgaXNOYU4obmV3VmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgc2V0T3BlcmF0aW9uKG9wKTtcbiAgICAgIHNldEludGVybmFsVmFsdWUobmV3VmFsdWUpO1xuICAgICAgY29uc3QgaGFzTmV3VmFsdWUgPSBuZXdWYWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KG5ld1ZhbHVlKSA/IG5ld1ZhbHVlLmxlbmd0aCA+IDAgOiBuZXdWYWx1ZSAhPT0gdm9pZCAwO1xuICAgICAgaWYgKG9wICYmIGhhc05ld1ZhbHVlKSB7XG4gICAgICAgIHNldFZhbHVlKFtvcCwgbmV3VmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFZhbHVlKHZvaWQgMCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzZdID0gb3BlcmF0aW9uO1xuICAgICRbN10gPSBzZXRWYWx1ZTtcbiAgICAkWzhdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzhdO1xuICB9XG4gIGNvbnN0IHVwZGF0ZUZpbHRlciA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzldICE9PSBvcGVyYXRpb24pIHtcbiAgICB0MyA9IG11bHRpcGxlU2VsZWN0T3BlcmF0aW9ucyQxLmluY2x1ZGVzKG9wZXJhdGlvbik7XG4gICAgJFs5XSA9IG9wZXJhdGlvbjtcbiAgICAkWzEwXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMF07XG4gIH1cbiAgY29uc3QgbXVsdGlwbGUgPSB0MztcbiAgbGV0IHQ0O1xuICBpZiAoJFsxMV0gIT09IGludGVybmFsVmFsdWUgfHwgJFsxMl0gIT09IHVwZGF0ZUZpbHRlcikge1xuICAgIHQ0ID0gKHZhbHVlXzApID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcih2YWx1ZV8wLCBpbnRlcm5hbFZhbHVlKTtcbiAgICB9O1xuICAgICRbMTFdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzEyXSA9IHVwZGF0ZUZpbHRlcjtcbiAgICAkWzEzXSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFsxM107XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFsxNF0gIT09IHBvc3NpYmxlT3BlcmF0aW9ucykge1xuICAgIHQ1ID0gcG9zc2libGVPcGVyYXRpb25zLm1hcChfdGVtcDIkNyk7XG4gICAgJFsxNF0gPSBwb3NzaWJsZU9wZXJhdGlvbnM7XG4gICAgJFsxNV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTVdO1xuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbMTZdICE9PSBvcGVyYXRpb24gfHwgJFsxN10gIT09IHQ0IHx8ICRbMThdICE9PSB0NSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LVs4MHB4XVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgdmFsdWU6IG9wZXJhdGlvbiwgZnVsbFdpZHRoOiB0cnVlLCBwb3NpdGlvbjogXCJpdGVtLWFsaWduZWRcIiwgb25WYWx1ZUNoYW5nZTogdDQsIHJlbmRlclZhbHVlOiBfdGVtcCRnLCBjaGlsZHJlbjogdDUgfSkgfSk7XG4gICAgJFsxNl0gPSBvcGVyYXRpb247XG4gICAgJFsxN10gPSB0NDtcbiAgICAkWzE4XSA9IHQ1O1xuICAgICRbMTldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE5XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzIwXSAhPT0gZGF0YVR5cGUgfHwgJFsyMV0gIT09IGVudW1WYWx1ZXMgfHwgJFsyMl0gIT09IGludGVybmFsVmFsdWUgfHwgJFsyM10gIT09IG9wZXJhdGlvbiB8fCAkWzI0XSAhPT0gdXBkYXRlRmlsdGVyKSB7XG4gICAgdDcgPSAhZW51bVZhbHVlcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRleHRGaWVsZCwgeyB0eXBlOiBkYXRhVHlwZSA9PT0gXCJudW1iZXJcIiA/IFwibnVtYmVyXCIgOiB2b2lkIDAsIHZhbHVlOiBpbnRlcm5hbFZhbHVlICE9PSB2b2lkIDAgJiYgaW50ZXJuYWxWYWx1ZSAhPSBudWxsID8gU3RyaW5nKGludGVybmFsVmFsdWUpIDogXCJcIiwgb25DaGFuZ2U6IChldnQpID0+IHtcbiAgICAgIGNvbnN0IHZhbF8wID0gZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgPyBwYXJzZUZsb2F0KGV2dC50YXJnZXQudmFsdWUpIDogZXZ0LnRhcmdldC52YWx1ZTtcbiAgICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIHZhbF8wKTtcbiAgICB9LCBlbmRBZG9ybm1lbnQ6IGludGVybmFsVmFsdWUgJiYgLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IChlKSA9PiB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCB2b2lkIDApLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDbG9zZUljb24sIHt9KSB9KSB9KTtcbiAgICAkWzIwXSA9IGRhdGFUeXBlO1xuICAgICRbMjFdID0gZW51bVZhbHVlcztcbiAgICAkWzIyXSA9IGludGVybmFsVmFsdWU7XG4gICAgJFsyM10gPSBvcGVyYXRpb247XG4gICAgJFsyNF0gPSB1cGRhdGVGaWx0ZXI7XG4gICAgJFsyNV0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMjVdO1xuICB9XG4gIGxldCB0ODtcbiAgaWYgKCRbMjZdICE9PSBkYXRhVHlwZSB8fCAkWzI3XSAhPT0gZW51bVZhbHVlcyB8fCAkWzI4XSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzI5XSAhPT0gbXVsdGlwbGUgfHwgJFszMF0gIT09IG5hbWUgfHwgJFszMV0gIT09IG9wZXJhdGlvbiB8fCAkWzMyXSAhPT0gdXBkYXRlRmlsdGVyKSB7XG4gICAgdDggPSBlbnVtVmFsdWVzICYmICFtdWx0aXBsZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyBwb3NpdGlvbjogXCJpdGVtLWFsaWduZWRcIiwgZnVsbFdpZHRoOiB0cnVlLCB2YWx1ZTogdHlwZW9mIGludGVybmFsVmFsdWUgPT09IFwic3RyaW5nXCIgPyBpbnRlcm5hbFZhbHVlIDogXCJcIiwgb25WYWx1ZUNoYW5nZTogKHZhbHVlXzEpID0+IHtcbiAgICAgIGlmICh2YWx1ZV8xICE9PSBcIlwiKSB7XG4gICAgICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIGRhdGFUeXBlID09PSBcIm51bWJlclwiID8gcGFyc2VJbnQodmFsdWVfMSkgOiB2YWx1ZV8xKTtcbiAgICAgIH1cbiAgICB9LCBlbmRBZG9ybm1lbnQ6IGludGVybmFsVmFsdWUgJiYgLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSByaWdodC0yIHRvcC0zXCIsIG9uQ2xpY2s6IChlXzApID0+IHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIHZvaWQgMCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENsb3NlSWNvbiwge30pIH0pLCByZW5kZXJWYWx1ZTogKGVudW1LZXkpID0+IHtcbiAgICAgIGlmIChlbnVtS2V5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcIkZpbHRlciBmb3IgbnVsbCB2YWx1ZXNcIjtcbiAgICAgIH1cbiAgICAgIGlmIChlbnVtS2V5ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5LCBlbnVtVmFsdWVzLCBzaXplOiBcInNtYWxsXCIgfSwgYHNlbGVjdF92YWx1ZV8ke25hbWV9XyR7ZW51bUtleX1gKTtcbiAgICB9LCBjaGlsZHJlbjogZW51bVZhbHVlcy5tYXAoKGVudW1Db25maWcpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0SXRlbSwgeyB2YWx1ZTogU3RyaW5nKGVudW1Db25maWcuaWQpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5OiBTdHJpbmcoZW51bUNvbmZpZy5pZCksIGVudW1WYWx1ZXMsIHNpemU6IFwic21hbGxcIiB9KSB9LCBgc2VsZWN0X2l0ZW1fJHtuYW1lfV8ke2VudW1Db25maWcuaWR9YCkpIH0pO1xuICAgICRbMjZdID0gZGF0YVR5cGU7XG4gICAgJFsyN10gPSBlbnVtVmFsdWVzO1xuICAgICRbMjhdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzI5XSA9IG11bHRpcGxlO1xuICAgICRbMzBdID0gbmFtZTtcbiAgICAkWzMxXSA9IG9wZXJhdGlvbjtcbiAgICAkWzMyXSA9IHVwZGF0ZUZpbHRlcjtcbiAgICAkWzMzXSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFszM107XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFszNF0gIT09IGRhdGFUeXBlIHx8ICRbMzVdICE9PSBlbnVtVmFsdWVzIHx8ICRbMzZdICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbMzddICE9PSBtdWx0aXBsZSB8fCAkWzM4XSAhPT0gbmFtZSB8fCAkWzM5XSAhPT0gb3BlcmF0aW9uIHx8ICRbNDBdICE9PSB1cGRhdGVGaWx0ZXIpIHtcbiAgICB0OSA9IGVudW1WYWx1ZXMgJiYgbXVsdGlwbGUgJiYgLyogQF9fUFVSRV9fICovIGpzeChNdWx0aVNlbGVjdCwgeyBwb3NpdGlvbjogXCJpdGVtLWFsaWduZWRcIiwgdmFsdWU6IEFycmF5LmlzQXJyYXkoaW50ZXJuYWxWYWx1ZSkgPyBpbnRlcm5hbFZhbHVlLm1hcChfdGVtcDMkMykgOiBbXSwgb25WYWx1ZUNoYW5nZTogKHZhbHVlXzIpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIGRhdGFUeXBlID09PSBcIm51bWJlclwiID8gdmFsdWVfMi5tYXAoX3RlbXA0JDIpIDogdmFsdWVfMik7XG4gICAgfSwgbXVsdGlwbGUsIGVuZEFkb3JubWVudDogaW50ZXJuYWxWYWx1ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHJpZ2h0LTIgdG9wLTNcIiwgb25DbGljazogKGVfMikgPT4gdXBkYXRlRmlsdGVyKG9wZXJhdGlvbiwgdm9pZCAwKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2xvc2VJY29uLCB7fSkgfSksIGNoaWxkcmVuOiBlbnVtVmFsdWVzLm1hcCgoZW51bUNvbmZpZ18wKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KE11bHRpU2VsZWN0SXRlbSwgeyB2YWx1ZTogU3RyaW5nKGVudW1Db25maWdfMC5pZCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVudW1WYWx1ZXNDaGlwLCB7IGVudW1LZXk6IFN0cmluZyhlbnVtQ29uZmlnXzAuaWQpLCBlbnVtVmFsdWVzLCBzaXplOiBcInNtYWxsXCIgfSkgfSwgYHNlbGVjdF92YWx1ZV8ke25hbWV9XyR7ZW51bUNvbmZpZ18wLmlkfWApKSB9KTtcbiAgICAkWzM0XSA9IGRhdGFUeXBlO1xuICAgICRbMzVdID0gZW51bVZhbHVlcztcbiAgICAkWzM2XSA9IGludGVybmFsVmFsdWU7XG4gICAgJFszN10gPSBtdWx0aXBsZTtcbiAgICAkWzM4XSA9IG5hbWU7XG4gICAgJFszOV0gPSBvcGVyYXRpb247XG4gICAgJFs0MF0gPSB1cGRhdGVGaWx0ZXI7XG4gICAgJFs0MV0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbNDFdO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzQyXSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzQzXSAhPT0gaXNBcnJheSB8fCAkWzQ0XSAhPT0gb3BlcmF0aW9uIHx8ICRbNDVdICE9PSB1cGRhdGVGaWx0ZXIpIHtcbiAgICB0MTAgPSAhaXNBcnJheSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhMYWJlbCwgeyBjbGFzc05hbWU6IFwiYm9yZGVyIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbWQgcC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIFsmOmhhcyg6Y2hlY2tlZCldOmJnLXN1cmZhY2UtMTAwIGRhcms6WyY6aGFzKDpjaGVja2VkKV06Ymctc3VyZmFjZS04MDBcIiwgaHRtbEZvcjogXCJudWxsLWZpbHRlclwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDaGVja2JveCwgeyBpZDogXCJudWxsLWZpbHRlclwiLCBjaGVja2VkOiBpbnRlcm5hbFZhbHVlID09PSBudWxsLCBzaXplOiBcInNtYWxsXCIsIG9uQ2hlY2tlZENoYW5nZTogKGNoZWNrZWQpID0+IHtcbiAgICAgICAgaWYgKGludGVybmFsVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCB2b2lkIDApO1xuICAgICAgICB9XG4gICAgICB9IH0pLFxuICAgICAgXCJGaWx0ZXIgZm9yIG51bGwgdmFsdWVzXCJcbiAgICBdIH0pO1xuICAgICRbNDJdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzQzXSA9IGlzQXJyYXk7XG4gICAgJFs0NF0gPSBvcGVyYXRpb247XG4gICAgJFs0NV0gPSB1cGRhdGVGaWx0ZXI7XG4gICAgJFs0Nl0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFs0Nl07XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbNDddICE9PSB0MTAgfHwgJFs0OF0gIT09IHQ3IHx8ICRbNDldICE9PSB0OCB8fCAkWzUwXSAhPT0gdDkpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgbWwtMiBmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0NyxcbiAgICAgIHQ4LFxuICAgICAgdDksXG4gICAgICB0MTBcbiAgICBdIH0pO1xuICAgICRbNDddID0gdDEwO1xuICAgICRbNDhdID0gdDc7XG4gICAgJFs0OV0gPSB0ODtcbiAgICAkWzUwXSA9IHQ5O1xuICAgICRbNTFdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbNTFdO1xuICB9XG4gIGxldCB0MTI7XG4gIGlmICgkWzUyXSAhPT0gdDExIHx8ICRbNTNdICE9PSB0Nikge1xuICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggdy1bNDQwcHhdXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0NixcbiAgICAgIHQxMVxuICAgIF0gfSk7XG4gICAgJFs1Ml0gPSB0MTE7XG4gICAgJFs1M10gPSB0NjtcbiAgICAkWzU0XSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzU0XTtcbiAgfVxuICByZXR1cm4gdDEyO1xufVxuZnVuY3Rpb24gX3RlbXA0JDIodikge1xuICByZXR1cm4gcGFyc2VJbnQodik7XG59XG5mdW5jdGlvbiBfdGVtcDMkMyhlXzEpIHtcbiAgcmV0dXJuIFN0cmluZyhlXzEpO1xufVxuZnVuY3Rpb24gX3RlbXAyJDcob3BfMSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RJdGVtLCB7IHZhbHVlOiBvcF8xLCBjaGlsZHJlbjogb3BlcmF0aW9uTGFiZWxzJDFbb3BfMV0gfSwgb3BfMSk7XG59XG5mdW5jdGlvbiBfdGVtcCRnKG9wXzApIHtcbiAgcmV0dXJuIG9wZXJhdGlvbkxhYmVscyQxW29wXzBdO1xufVxuZnVuY3Rpb24gQm9vbGVhbkZpbHRlckZpZWxkKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDgpO1xuICBjb25zdCB7XG4gICAgdGl0bGUsXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWVcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBzZXRWYWx1ZSkge1xuICAgIHQxID0gZnVuY3Rpb24gdXBkYXRlRmlsdGVyMih2YWwpIHtcbiAgICAgIGlmICh2YWwgIT09IHZvaWQgMCkge1xuICAgICAgICBzZXRWYWx1ZShbXCI9PVwiLCB2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFZhbHVlKHZvaWQgMCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gc2V0VmFsdWU7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCB1cGRhdGVGaWx0ZXIgPSB0MTtcbiAgY29uc3QgdmFsdWVTZXRUb1RydWUgPSB2YWx1ZSAmJiB2YWx1ZVsxXTtcbiAgY29uc3QgdmFsdWVTZXQgPSAhIXZhbHVlO1xuICBsZXQgdDI7XG4gIGlmICgkWzJdICE9PSB1cGRhdGVGaWx0ZXIpIHtcbiAgICB0MiA9ICh2KSA9PiB1cGRhdGVGaWx0ZXIodiA9PT0gbnVsbCA/IHZvaWQgMCA6IHYpO1xuICAgICRbMl0gPSB1cGRhdGVGaWx0ZXI7XG4gICAgJFszXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFszXTtcbiAgfVxuICBjb25zdCB0MyA9ICF2YWx1ZVNldCA/IFwiTm8gZmlsdGVyXCIgOiB2YWx1ZVNldFRvVHJ1ZSA/IGAke3RpdGxlfSBpcyB0cnVlYCA6IGAke3RpdGxlfSBpcyBmYWxzZWA7XG4gIGxldCB0NDtcbiAgaWYgKCRbNF0gIT09IHQyIHx8ICRbNV0gIT09IHQzIHx8ICRbNl0gIT09IHZhbHVlU2V0VG9UcnVlKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctWzMwMHB4XVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChCb29sZWFuU3dpdGNoV2l0aExhYmVsLCB7IHZhbHVlOiB2YWx1ZVNldFRvVHJ1ZSwgYWxsb3dJbmRldGVybWluYXRlOiB0cnVlLCBvblZhbHVlQ2hhbmdlOiB0MiwgbGFiZWw6IHQzIH0pIH0pO1xuICAgICRbNF0gPSB0MjtcbiAgICAkWzVdID0gdDM7XG4gICAgJFs2XSA9IHZhbHVlU2V0VG9UcnVlO1xuICAgICRbN10gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbN107XG4gIH1cbiAgcmV0dXJuIHQ0O1xufVxuY29uc3Qgb3BlcmF0aW9uTGFiZWxzID0ge1xuICBcIj09XCI6IFwiPT1cIixcbiAgXCIhPVwiOiBcIiE9XCIsXG4gIFwiPlwiOiBcIj5cIixcbiAgXCI8XCI6IFwiPFwiLFxuICBcIj49XCI6IFwiPj1cIixcbiAgXCI8PVwiOiBcIjw9XCIsXG4gIFwibm90LWluXCI6IFwibm90IGluXCIsXG4gIGluOiBcImluXCIsXG4gIFwiYXJyYXktY29udGFpbnNcIjogXCJDb250YWluc1wiLFxuICBcImFycmF5LWNvbnRhaW5zLWFueVwiOiBcIkFueVwiXG59O1xuY29uc3QgbXVsdGlwbGVTZWxlY3RPcGVyYXRpb25zID0gW1wiYXJyYXktY29udGFpbnMtYW55XCIsIFwiaW5cIl07XG5mdW5jdGlvbiBEYXRlVGltZUZpbHRlckZpZWxkKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDM4KTtcbiAgY29uc3Qge1xuICAgIGlzQXJyYXksXG4gICAgbW9kZSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZVxuICB9ID0gdDA7XG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGlzQXJyYXkpIHtcbiAgICB0MSA9IGlzQXJyYXkgPyBbXCJhcnJheS1jb250YWluc1wiXSA6IFtcIj09XCIsIFwiIT1cIiwgXCI+XCIsIFwiPFwiLCBcIj49XCIsIFwiPD1cIl07XG4gICAgJFswXSA9IGlzQXJyYXk7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBwb3NzaWJsZU9wZXJhdGlvbnMgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gcG9zc2libGVPcGVyYXRpb25zIHx8ICRbM10gIT09IHZhbHVlKSB7XG4gICAgdDIgPSB2YWx1ZSB8fCBbcG9zc2libGVPcGVyYXRpb25zWzBdLCB2b2lkIDBdO1xuICAgICRbMl0gPSBwb3NzaWJsZU9wZXJhdGlvbnM7XG4gICAgJFszXSA9IHZhbHVlO1xuICAgICRbNF0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNF07XG4gIH1cbiAgY29uc3QgW2ZpZWxkT3BlcmF0aW9uLCBmaWVsZFZhbHVlXSA9IHQyO1xuICBjb25zdCBbb3BlcmF0aW9uLCBzZXRPcGVyYXRpb25dID0gdXNlU3RhdGUoZmllbGRPcGVyYXRpb24pO1xuICBjb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSB1c2VTdGF0ZShmaWVsZFZhbHVlKTtcbiAgbGV0IHQzO1xuICBpZiAoJFs1XSAhPT0gb3BlcmF0aW9uIHx8ICRbNl0gIT09IHNldFZhbHVlKSB7XG4gICAgdDMgPSBmdW5jdGlvbiB1cGRhdGVGaWx0ZXIyKG9wLCB2YWwpIHtcbiAgICAgIGxldCBuZXdWYWx1ZSA9IHZhbDtcbiAgICAgIGNvbnN0IHByZXZPcElzQXJyYXkgPSBtdWx0aXBsZVNlbGVjdE9wZXJhdGlvbnMuaW5jbHVkZXMob3BlcmF0aW9uKTtcbiAgICAgIGNvbnN0IG5ld09wSXNBcnJheSA9IG11bHRpcGxlU2VsZWN0T3BlcmF0aW9ucy5pbmNsdWRlcyhvcCk7XG4gICAgICBpZiAocHJldk9wSXNBcnJheSAhPT0gbmV3T3BJc0FycmF5KSB7XG4gICAgICAgIG5ld1ZhbHVlID0gbmV3T3BJc0FycmF5ID8gdmFsID8gW3ZhbF0gOiBbXSA6IFwiXCI7XG4gICAgICB9XG4gICAgICBzZXRPcGVyYXRpb24ob3ApO1xuICAgICAgc2V0SW50ZXJuYWxWYWx1ZShuZXdWYWx1ZSA9PT0gbnVsbCA/IHZvaWQgMCA6IG5ld1ZhbHVlKTtcbiAgICAgIGNvbnN0IGhhc05ld1ZhbHVlID0gbmV3VmFsdWUgIT09IG51bGwgJiYgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkgPyBuZXdWYWx1ZS5sZW5ndGggPiAwIDogbmV3VmFsdWUgIT09IHZvaWQgMDtcbiAgICAgIGlmIChvcCAmJiBoYXNOZXdWYWx1ZSkge1xuICAgICAgICBzZXRWYWx1ZShbb3AsIG5ld1ZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRWYWx1ZSh2b2lkIDApO1xuICAgICAgfVxuICAgIH07XG4gICAgJFs1XSA9IG9wZXJhdGlvbjtcbiAgICAkWzZdID0gc2V0VmFsdWU7XG4gICAgJFs3XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs3XTtcbiAgfVxuICBjb25zdCB1cGRhdGVGaWx0ZXIgPSB0MztcbiAgbGV0IHQ0O1xuICBpZiAoJFs4XSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzldICE9PSB1cGRhdGVGaWx0ZXIpIHtcbiAgICB0NCA9ICh2YWx1ZV8wKSA9PiB7XG4gICAgICB1cGRhdGVGaWx0ZXIodmFsdWVfMCwgaW50ZXJuYWxWYWx1ZSk7XG4gICAgfTtcbiAgICAkWzhdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzldID0gdXBkYXRlRmlsdGVyO1xuICAgICRbMTBdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEwXTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzExXSAhPT0gcG9zc2libGVPcGVyYXRpb25zKSB7XG4gICAgdDUgPSBwb3NzaWJsZU9wZXJhdGlvbnMubWFwKF90ZW1wMiQ2KTtcbiAgICAkWzExXSA9IHBvc3NpYmxlT3BlcmF0aW9ucztcbiAgICAkWzEyXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxMl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxM10gIT09IG9wZXJhdGlvbiB8fCAkWzE0XSAhPT0gdDQgfHwgJFsxNV0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctWzgwcHhdXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyB2YWx1ZTogb3BlcmF0aW9uLCBzaXplOiBcImxhcmdlXCIsIGZ1bGxXaWR0aDogdHJ1ZSwgb25WYWx1ZUNoYW5nZTogdDQsIHJlbmRlclZhbHVlOiBfdGVtcCRmLCBjaGlsZHJlbjogdDUgfSkgfSk7XG4gICAgJFsxM10gPSBvcGVyYXRpb247XG4gICAgJFsxNF0gPSB0NDtcbiAgICAkWzE1XSA9IHQ1O1xuICAgICRbMTZdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE2XTtcbiAgfVxuICBjb25zdCB0NyA9IGludGVybmFsVmFsdWUgPz8gdm9pZCAwO1xuICBsZXQgdDg7XG4gIGlmICgkWzE3XSAhPT0gb3BlcmF0aW9uIHx8ICRbMThdICE9PSB1cGRhdGVGaWx0ZXIpIHtcbiAgICB0OCA9IChkYXRlVmFsdWUpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIGRhdGVWYWx1ZSA9PT0gbnVsbCA/IHZvaWQgMCA6IGRhdGVWYWx1ZSk7XG4gICAgfTtcbiAgICAkWzE3XSA9IG9wZXJhdGlvbjtcbiAgICAkWzE4XSA9IHVwZGF0ZUZpbHRlcjtcbiAgICAkWzE5XSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxOV07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsyMF0gIT09IGxvY2FsZSB8fCAkWzIxXSAhPT0gbW9kZSB8fCAkWzIyXSAhPT0gdDcgfHwgJFsyM10gIT09IHQ4KSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KERhdGVUaW1lRmllbGQsIHsgbW9kZSwgc2l6ZTogXCJsYXJnZVwiLCBsb2NhbGUsIHZhbHVlOiB0Nywgb25DaGFuZ2U6IHQ4LCBjbGVhcmFibGU6IHRydWUgfSk7XG4gICAgJFsyMF0gPSBsb2NhbGU7XG4gICAgJFsyMV0gPSBtb2RlO1xuICAgICRbMjJdID0gdDc7XG4gICAgJFsyM10gPSB0ODtcbiAgICAkWzI0XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyNF07XG4gIH1cbiAgY29uc3QgdDEwID0gaW50ZXJuYWxWYWx1ZSA9PT0gbnVsbDtcbiAgbGV0IHQxMTtcbiAgaWYgKCRbMjVdICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbMjZdICE9PSBvcGVyYXRpb24gfHwgJFsyN10gIT09IHVwZGF0ZUZpbHRlcikge1xuICAgIHQxMSA9IChjaGVja2VkKSA9PiB7XG4gICAgICBpZiAoaW50ZXJuYWxWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVGaWx0ZXIob3BlcmF0aW9uLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUZpbHRlcihvcGVyYXRpb24sIHZvaWQgMCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzI1XSA9IGludGVybmFsVmFsdWU7XG4gICAgJFsyNl0gPSBvcGVyYXRpb247XG4gICAgJFsyN10gPSB1cGRhdGVGaWx0ZXI7XG4gICAgJFsyOF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFsyOF07XG4gIH1cbiAgbGV0IHQxMjtcbiAgaWYgKCRbMjldICE9PSB0MTAgfHwgJFszMF0gIT09IHQxMSkge1xuICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKExhYmVsLCB7IGNsYXNzTmFtZTogXCJib3JkZXIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1tZCBwLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgWyY6aGFzKDpjaGVja2VkKV06Ymctc3VyZmFjZS0xMDAgZGFyazpbJjpoYXMoOmNoZWNrZWQpXTpiZy1zdXJmYWNlLTgwMFwiLCBodG1sRm9yOiBcIm51bGwtZmlsdGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KENoZWNrYm94LCB7IGlkOiBcIm51bGwtZmlsdGVyXCIsIGNoZWNrZWQ6IHQxMCwgc2l6ZTogXCJzbWFsbFwiLCBvbkNoZWNrZWRDaGFuZ2U6IHQxMSB9KSxcbiAgICAgIFwiRmlsdGVyIGZvciBudWxsIHZhbHVlc1wiXG4gICAgXSB9KTtcbiAgICAkWzI5XSA9IHQxMDtcbiAgICAkWzMwXSA9IHQxMTtcbiAgICAkWzMxXSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzMxXTtcbiAgfVxuICBsZXQgdDEzO1xuICBpZiAoJFszMl0gIT09IHQxMiB8fCAkWzMzXSAhPT0gdDkpIHtcbiAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgbWwtMiBmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0OSxcbiAgICAgIHQxMlxuICAgIF0gfSk7XG4gICAgJFszMl0gPSB0MTI7XG4gICAgJFszM10gPSB0OTtcbiAgICAkWzM0XSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzM0XTtcbiAgfVxuICBsZXQgdDE0O1xuICBpZiAoJFszNV0gIT09IHQxMyB8fCAkWzM2XSAhPT0gdDYpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHctWzQ0MHB4XVwiLCBjaGlsZHJlbjogW1xuICAgICAgdDYsXG4gICAgICB0MTNcbiAgICBdIH0pO1xuICAgICRbMzVdID0gdDEzO1xuICAgICRbMzZdID0gdDY7XG4gICAgJFszN10gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFszN107XG4gIH1cbiAgcmV0dXJuIHQxNDtcbn1cbmZ1bmN0aW9uIF90ZW1wMiQ2KG9wXzEpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0SXRlbSwgeyB2YWx1ZTogb3BfMSwgY2hpbGRyZW46IG9wZXJhdGlvbkxhYmVsc1tvcF8xXSB9LCBvcF8xKTtcbn1cbmZ1bmN0aW9uIF90ZW1wJGYob3BfMCkge1xuICByZXR1cm4gb3BlcmF0aW9uTGFiZWxzW29wXzBdO1xufVxuY29uc3QgU2VsZWN0YWJsZVRhYmxlID0gUmVhY3RfX2RlZmF1bHQubWVtbyhcbiAgZnVuY3Rpb24gU2VsZWN0YWJsZVRhYmxlMih7XG4gICAgb25WYWx1ZUNoYW5nZSxcbiAgICBjZWxsUmVuZGVyZXIsXG4gICAgb25FbnRpdHlDbGljayxcbiAgICBvbkNvbHVtblJlc2l6ZSxcbiAgICBob3ZlclJvdyA9IHRydWUsXG4gICAgc2l6ZSA9IFwibVwiLFxuICAgIGlubGluZUVkaXRpbmcgPSBmYWxzZSxcbiAgICB0YWJsZUNvbnRyb2xsZXI6IHtcbiAgICAgIGRhdGEsXG4gICAgICBkYXRhTG9hZGluZyxcbiAgICAgIG5vTW9yZVRvTG9hZCxcbiAgICAgIGRhdGFMb2FkaW5nRXJyb3IsXG4gICAgICBmaWx0ZXJWYWx1ZXMsXG4gICAgICBzZXRGaWx0ZXJWYWx1ZXMsXG4gICAgICBzb3J0QnksXG4gICAgICBzZXRTb3J0QnksXG4gICAgICBpdGVtQ291bnQsXG4gICAgICBzZXRJdGVtQ291bnQsXG4gICAgICBwYWdlU2l6ZSA9IDUwLFxuICAgICAgcGFnaW5hdGlvbkVuYWJsZWQsXG4gICAgICBjaGVja0ZpbHRlckNvbWJpbmF0aW9uLFxuICAgICAgc2V0UG9wdXBDZWxsXG4gICAgfSxcbiAgICBmaWx0ZXJhYmxlID0gdHJ1ZSxcbiAgICBvblNjcm9sbCxcbiAgICBpbml0aWFsU2Nyb2xsLFxuICAgIGVtcHR5Q29tcG9uZW50LFxuICAgIGNvbHVtbnMsXG4gICAgZm9yY2VGaWx0ZXIsXG4gICAgaGlnaGxpZ2h0ZWRSb3csXG4gICAgZW5kQWRvcm5tZW50LFxuICAgIEFkZENvbHVtbkNvbXBvbmVudFxuICB9KSB7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFtzZWxlY3RlZENlbGwsIHNldFNlbGVjdGVkQ2VsbF0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSh2b2lkIDApO1xuICAgIGNvbnN0IGxvYWROZXh0UGFnZSA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnaW5hdGlvbkVuYWJsZWQgfHwgZGF0YUxvYWRpbmcgfHwgbm9Nb3JlVG9Mb2FkKSByZXR1cm47XG4gICAgICBpZiAoaXRlbUNvdW50ICE9PSB2b2lkIDApIHNldEl0ZW1Db3VudD8uKGl0ZW1Db3VudCArIHBhZ2VTaXplKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0UGFnaW5hdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHNldEl0ZW1Db3VudD8uKHBhZ2VTaXplKTtcbiAgICB9LCBbcGFnZVNpemVdKTtcbiAgICBjb25zdCBvblJvd0NsaWNrID0gdXNlQ2FsbGJhY2soKHtcbiAgICAgIHJvd0RhdGFcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoaW5saW5lRWRpdGluZykgcmV0dXJuO1xuICAgICAgcmV0dXJuIG9uRW50aXR5Q2xpY2sgJiYgb25FbnRpdHlDbGljayhyb3dEYXRhKTtcbiAgICB9LCBbb25FbnRpdHlDbGljaywgaW5saW5lRWRpdGluZ10pO1xuICAgIHVzZU91dHNpZGVBbGVydGVyKHJlZiwgKCkgPT4ge1xuICAgICAgaWYgKHNlbGVjdGVkQ2VsbCkge1xuICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgfVxuICAgIH0sIEJvb2xlYW4oc2VsZWN0ZWRDZWxsKSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVzY0Z1bmN0aW9uID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgIHVuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NGdW5jdGlvbiwgZmFsc2UpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXNjRnVuY3Rpb24sIGZhbHNlKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZWN0ID0gdXNlQ2FsbGJhY2soKGNlbGwpID0+IHtcbiAgICAgIHNldFNlbGVjdGVkQ2VsbChjZWxsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgdW5zZWxlY3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBzZXRTZWxlY3RlZENlbGwodm9pZCAwKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgb25GaWx0ZXJVcGRhdGUgPSB1c2VDYWxsYmFjaygodXBkYXRlZEZpbHRlclZhbHVlcykgPT4ge1xuICAgICAgc2V0RmlsdGVyVmFsdWVzPy4oe1xuICAgICAgICAuLi51cGRhdGVkRmlsdGVyVmFsdWVzLFxuICAgICAgICAuLi5mb3JjZUZpbHRlclxuICAgICAgfSk7XG4gICAgfSwgW2ZvcmNlRmlsdGVyXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0YWJsZVRhYmxlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZToge1xuICAgICAgc2V0UG9wdXBDZWxsLFxuICAgICAgc2VsZWN0LFxuICAgICAgb25WYWx1ZUNoYW5nZSxcbiAgICAgIHNpemU6IHNpemUgPz8gXCJtXCIsXG4gICAgICBzZWxlY3RlZENlbGxcbiAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoLWZ1bGwgdy1mdWxsIGZsZXggZmxleC1jb2wgYmctd2hpdGUgZGFyazpiZy1zdXJmYWNlLTk1MFwiLCByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFZpcnR1YWxUYWJsZSwgeyBkYXRhLCBjb2x1bW5zLCBjZWxsUmVuZGVyZXIsIG9uUm93Q2xpY2s6IGlubGluZUVkaXRpbmcgPyB2b2lkIDAgOiBvbkVudGl0eUNsaWNrID8gb25Sb3dDbGljayA6IHZvaWQgMCwgb25FbmRSZWFjaGVkOiBsb2FkTmV4dFBhZ2UsIG9uUmVzZXRQYWdpbmF0aW9uOiByZXNldFBhZ2luYXRpb24sIGVycm9yOiBkYXRhTG9hZGluZ0Vycm9yLCBvbkNvbHVtblJlc2l6ZSwgcm93SGVpZ2h0OiBnZXRSb3dIZWlnaHQoc2l6ZSksIGxvYWRpbmc6IGRhdGFMb2FkaW5nLCBmaWx0ZXI6IGZpbHRlclZhbHVlcywgb25GaWx0ZXJVcGRhdGU6IHNldEZpbHRlclZhbHVlcyA/IG9uRmlsdGVyVXBkYXRlIDogdm9pZCAwLCBzb3J0QnksIG9uU29ydEJ5VXBkYXRlOiBzZXRTb3J0QnksIGhvdmVyUm93LCBpbml0aWFsU2Nyb2xsLCBvblNjcm9sbCwgY2hlY2tGaWx0ZXJDb21iaW5hdGlvbiwgY3JlYXRlRmlsdGVyRmllbGQ6IGZpbHRlcmFibGUgPyBjcmVhdGVGaWx0ZXJGaWVsZCA6IHZvaWQgMCwgcm93Q2xhc3NOYW1lOiB1c2VDYWxsYmFjaygoZW50aXR5KSA9PiB7XG4gICAgICByZXR1cm4gaGlnaGxpZ2h0ZWRSb3c/LihlbnRpdHkpID8gXCJiZy1zdXJmYWNlLTEwMCBiZy1vcGFjaXR5LTc1IGRhcms6Ymctc3VyZmFjZS04MDAgZGFyazpiZy1vcGFjaXR5LTc1XCIgOiBcIlwiO1xuICAgIH0sIFtoaWdobGlnaHRlZFJvd10pLCBjbGFzc05hbWU6IFwiZmxleC1ncm93XCIsIGVtcHR5Q29tcG9uZW50LCBlbmRBZG9ybm1lbnQsIEFkZENvbHVtbkNvbXBvbmVudCB9KSB9KSB9KTtcbiAgfSxcbiAgKCkgPT4gZmFsc2VcbiAgLy8gZXF1YWxcbik7XG5mdW5jdGlvbiBjcmVhdGVGaWx0ZXJGaWVsZCh7XG4gIGlkLFxuICBmaWx0ZXJWYWx1ZSxcbiAgc2V0RmlsdGVyVmFsdWUsXG4gIGNvbHVtbixcbiAgaGlkZGVuLFxuICBzZXRIaWRkZW5cbn0pIHtcbiAgaWYgKCFjb2x1bW4uY3VzdG9tKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qge1xuICAgIHJlc29sdmVkUHJvcGVydHlcbiAgfSA9IGNvbHVtbi5jdXN0b207XG4gIGNvbnN0IGlzQXJyYXkgPSByZXNvbHZlZFByb3BlcnR5Py5kYXRhVHlwZSA9PT0gXCJhcnJheVwiO1xuICBjb25zdCBiYXNlUHJvcGVydHkgPSBpc0FycmF5ID8gcmVzb2x2ZWRQcm9wZXJ0eS5vZiA6IHJlc29sdmVkUHJvcGVydHk7XG4gIGlmICghYmFzZVByb3BlcnR5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGJhc2VQcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZUZpbHRlckZpZWxkLCB7IHZhbHVlOiBmaWx0ZXJWYWx1ZSwgc2V0VmFsdWU6IHNldEZpbHRlclZhbHVlLCBuYW1lOiBpZCwgaXNBcnJheSwgcGF0aDogYmFzZVByb3BlcnR5LnBhdGgsIHRpdGxlOiByZXNvbHZlZFByb3BlcnR5Py5uYW1lLCBpbmNsdWRlSWQ6IGJhc2VQcm9wZXJ0eS5pbmNsdWRlSWQsIHByZXZpZXdQcm9wZXJ0aWVzOiBiYXNlUHJvcGVydHk/LnByZXZpZXdQcm9wZXJ0aWVzLCBoaWRkZW4sIHNldEhpZGRlbiB9KTtcbiAgfSBlbHNlIGlmIChiYXNlUHJvcGVydHkuZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgfHwgYmFzZVByb3BlcnR5LmRhdGFUeXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgbmFtZSA9IGJhc2VQcm9wZXJ0eS5uYW1lO1xuICAgIGNvbnN0IGVudW1WYWx1ZXMgPSBiYXNlUHJvcGVydHkuZW51bVZhbHVlcyA/IGVudW1Ub09iamVjdEVudHJpZXMoYmFzZVByb3BlcnR5LmVudW1WYWx1ZXMpIDogdm9pZCAwO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFN0cmluZ051bWJlckZpbHRlckZpZWxkLCB7IHZhbHVlOiBmaWx0ZXJWYWx1ZSwgc2V0VmFsdWU6IHNldEZpbHRlclZhbHVlLCBuYW1lOiBpZCwgZGF0YVR5cGU6IGJhc2VQcm9wZXJ0eS5kYXRhVHlwZSwgaXNBcnJheSwgZW51bVZhbHVlcywgdGl0bGU6IG5hbWUgfSk7XG4gIH0gZWxzZSBpZiAoYmFzZVByb3BlcnR5LmRhdGFUeXBlID09PSBcImJvb2xlYW5cIikge1xuICAgIGNvbnN0IG5hbWUgPSBiYXNlUHJvcGVydHkubmFtZTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChCb29sZWFuRmlsdGVyRmllbGQsIHsgdmFsdWU6IGZpbHRlclZhbHVlLCBzZXRWYWx1ZTogc2V0RmlsdGVyVmFsdWUsIG5hbWU6IGlkLCB0aXRsZTogbmFtZSB9KTtcbiAgfSBlbHNlIGlmIChiYXNlUHJvcGVydHkuZGF0YVR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgY29uc3QgdGl0bGUgPSBiYXNlUHJvcGVydHkubmFtZTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChEYXRlVGltZUZpbHRlckZpZWxkLCB7IHZhbHVlOiBmaWx0ZXJWYWx1ZSwgc2V0VmFsdWU6IHNldEZpbHRlclZhbHVlLCBuYW1lOiBpZCwgbW9kZTogYmFzZVByb3BlcnR5Lm1vZGUsIGlzQXJyYXksIHRpdGxlIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGBDdXJyZW50bHkgdGhlIGZpbHRlciBmaWVsZCAke3Jlc29sdmVkUHJvcGVydHkuZGF0YVR5cGV9IGlzIG5vdCBzdXBwb3J0ZWRgIH0pO1xufVxuY29uc3QgRW50aXR5Q29sbGVjdGlvblRhYmxlID0gZnVuY3Rpb24gRW50aXR5Q29sbGVjdGlvblRhYmxlMih7XG4gIGNsYXNzTmFtZSxcbiAgc3R5bGUsXG4gIGZvcmNlRmlsdGVyLFxuICBhY3Rpb25zU3RhcnQsXG4gIGFjdGlvbnMsXG4gIHRpdGxlLFxuICB0YWJsZVJvd0FjdGlvbnNCdWlsZGVyLFxuICB1bmlxdWVGaWVsZFZhbGlkYXRvcixcbiAgZ2V0UHJvcGVydHlGb3IsXG4gIG9uVmFsdWVDaGFuZ2UsXG4gIHNlbGVjdGlvbkNvbnRyb2xsZXIsXG4gIGhpZ2hsaWdodGVkRW50aXRpZXMsXG4gIG9uRW50aXR5Q2xpY2ssXG4gIG9uQ29sdW1uUmVzaXplLFxuICBpbml0aWFsU2Nyb2xsLFxuICBvblNjcm9sbCxcbiAgb25TaXplQ2hhbmdlZCxcbiAgdGV4dFNlYXJjaEVuYWJsZWQgPSBmYWxzZSxcbiAgaG92ZXJSb3cgPSB0cnVlLFxuICBpbmxpbmVFZGl0aW5nID0gZmFsc2UsXG4gIGFkZGl0aW9uYWxGaWVsZHMsXG4gIGRpc3BsYXllZENvbHVtbklkcyxcbiAgZGVmYXVsdFNpemUsXG4gIHByb3BlcnRpZXMsXG4gIHRhYmxlQ29udHJvbGxlcixcbiAgZmlsdGVyYWJsZSA9IHRydWUsXG4gIHNvcnRhYmxlID0gdHJ1ZSxcbiAgZW5kQWRvcm5tZW50LFxuICBBZGRDb2x1bW5Db21wb25lbnQsXG4gIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQsXG4gIGFkZGl0aW9uYWxJREhlYWRlcldpZGdldCxcbiAgZW1wdHlDb21wb25lbnQsXG4gIGdldElkQ29sdW1uV2lkdGgsXG4gIG9uVGV4dFNlYXJjaENsaWNrLFxuICB0ZXh0U2VhcmNoTG9hZGluZyxcbiAgZW5hYmxlUG9wdXBJY29uLFxuICBvcGVuRW50aXR5TW9kZSA9IFwic2lkZV9wYW5lbFwiXG59KSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbGFyZ2VMYXlvdXQgPSB1c2VMYXJnZUxheW91dCgpO1xuICBjb25zdCBzZWxlY3RlZEVudGl0aWVzID0gKHNlbGVjdGlvbkNvbnRyb2xsZXI/LnNlbGVjdGVkRW50aXRpZXM/Lmxlbmd0aCA+IDAgPyBzZWxlY3Rpb25Db250cm9sbGVyPy5zZWxlY3RlZEVudGl0aWVzIDogaGlnaGxpZ2h0ZWRFbnRpdGllcyk/LmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IFtzaXplLCBzZXRTaXplXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGRlZmF1bHRTaXplID8/IFwibVwiKTtcbiAgY29uc3QgdXBkYXRlU2l6ZSA9IHVzZUNhbGxiYWNrKChzaXplXzApID0+IHtcbiAgICBpZiAob25TaXplQ2hhbmdlZCkgb25TaXplQ2hhbmdlZChzaXplXzApO1xuICAgIHNldFNpemUoc2l6ZV8wKTtcbiAgfSwgW10pO1xuICBjb25zdCBvblRleHRTZWFyY2ggPSB1c2VDYWxsYmFjaygobmV3U2VhcmNoU3RyaW5nKSA9PiB0YWJsZUNvbnRyb2xsZXIuc2V0U2VhcmNoU3RyaW5nPy4obmV3U2VhcmNoU3RyaW5nKSwgW10pO1xuICBjb25zdCBhZGRpdGlvbmFsRmllbGRzTWFwID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGFkZGl0aW9uYWxGaWVsZHMgPyBhZGRpdGlvbmFsRmllbGRzLm1hcCgoYUMpID0+ICh7XG4gICAgICBbYUMua2V5XTogYUNcbiAgICB9KSkucmVkdWNlKChhLCBiKSA9PiAoe1xuICAgICAgLi4uYSxcbiAgICAgIC4uLmJcbiAgICB9KSwge30pIDoge307XG4gIH0sIFthZGRpdGlvbmFsRmllbGRzXSk7XG4gIGNvbnN0IGN1c3RvbUZpZWxkVmFsaWRhdG9yID0gdW5pcXVlRmllbGRWYWxpZGF0b3I7XG4gIGNvbnN0IHByb3BlcnR5Q2VsbFJlbmRlcmVyID0gKHtcbiAgICBjb2x1bW4sXG4gICAgY29sdW1uSW5kZXgsXG4gICAgcm93RGF0YSxcbiAgICByb3dJbmRleFxuICB9KSA9PiB7XG4gICAgY29uc3QgZW50aXR5ID0gcm93RGF0YTtcbiAgICBjb25zdCBwcm9wZXJ0eUtleSA9IGNvbHVtbi5rZXk7XG4gICAgbGV0IGRpc2FibGVkID0gY29sdW1uLmN1c3RvbT8uZGlzYWJsZWQ7XG4gICAgY29uc3QgcHJvcGVydHkgPSBnZXRQcm9wZXJ0eUZvcj8uKHtcbiAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgZW50aXR5XG4gICAgfSkgPz8gY29sdW1uLmN1c3RvbS5yZXNvbHZlZFByb3BlcnR5O1xuICAgIGlmICghcHJvcGVydHk/LmRpc2FibGVkKSB7XG4gICAgICBkaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogZW50aXR5ID8gLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVRhYmxlQ2VsbCwgeyByZWFkb25seTogIWlubGluZUVkaXRpbmcsIGFsaWduOiBjb2x1bW4uYWxpZ24gPz8gXCJsZWZ0XCIsIHByb3BlcnR5S2V5LCBwcm9wZXJ0eSwgdmFsdWU6IGVudGl0eT8udmFsdWVzID8gZ2V0VmFsdWVJblBhdGgoZW50aXR5LnZhbHVlcywgcHJvcGVydHlLZXkpIDogdm9pZCAwLCBjdXN0b21GaWVsZFZhbGlkYXRvciwgY29sdW1uSW5kZXgsIHdpZHRoOiBjb2x1bW4ud2lkdGgsIGhlaWdodDogZ2V0Um93SGVpZ2h0KHNpemUpLCBlbnRpdHksIGRpc2FibGVkLCBlbmFibGVQb3B1cEljb24sIHBhdGg6IGVudGl0eS5wYXRoIH0sIGBwcm9wZXJ0eV90YWJsZV9jZWxsXyR7ZW50aXR5LmlkfV8ke3Byb3BlcnR5S2V5fWApIDogcmVuZGVyU2tlbGV0b25UZXh0KCkgfSk7XG4gIH07XG4gIGNvbnN0IGFkZGl0aW9uYWxDZWxsUmVuZGVyZXIgPSB1c2VDYWxsYmFjaygoe1xuICAgIGNvbHVtbjogY29sdW1uXzAsXG4gICAgcm93RGF0YTogcm93RGF0YV8wLFxuICAgIHdpZHRoXG4gIH0pID0+IHtcbiAgICBjb25zdCBlbnRpdHlfMCA9IHJvd0RhdGFfMDtcbiAgICBjb25zdCBhZGRpdGlvbmFsRmllbGQgPSBhZGRpdGlvbmFsRmllbGRzTWFwW2NvbHVtbl8wLmtleV07XG4gICAgY29uc3QgdmFsdWVfMCA9IGFkZGl0aW9uYWxGaWVsZC5kZXBlbmRlbmNpZXMgPyBPYmplY3QuZW50cmllcyhlbnRpdHlfMC52YWx1ZXMpLmZpbHRlcigoW2tleSwgdmFsdWVdKSA9PiBhZGRpdGlvbmFsRmllbGQuZGVwZW5kZW5jaWVzLmluY2x1ZGVzKGtleSkpLnJlZHVjZSgoYV8wLCBiXzApID0+ICh7XG4gICAgICAuLi5hXzAsXG4gICAgICAuLi5iXzBcbiAgICB9KSwge30pIDogZW50aXR5XzA7XG4gICAgY29uc3QgQnVpbGRlciA9IGFkZGl0aW9uYWxGaWVsZC5CdWlsZGVyO1xuICAgIGlmICghQnVpbGRlciAmJiAhYWRkaXRpb25hbEZpZWxkLnZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHVzaW5nIGFkZGl0aW9uYWwgZmllbGRzIHlvdSBuZWVkIHRvIHByb3ZpZGUgYSBCdWlsZGVyIG9yIGEgdmFsdWVcIik7XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkID0gQnVpbGRlciA/IC8qIEBfX1BVUkVfXyAqLyBqc3goQnVpbGRlciwgeyBlbnRpdHk6IGVudGl0eV8wLCBjb250ZXh0IH0pIDogLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogYWRkaXRpb25hbEZpZWxkLnZhbHVlPy4oe1xuICAgICAgZW50aXR5OiBlbnRpdHlfMCxcbiAgICAgIGNvbnRleHRcbiAgICB9KT8udG9TdHJpbmcoKSB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlUYWJsZUNlbGwsIHsgd2lkdGgsIHNpemUsIHZhbHVlOiB2YWx1ZV8wLCBzZWxlY3RlZDogZmFsc2UsIGRpc2FibGVkOiB0cnVlLCBhbGlnbjogXCJsZWZ0XCIsIGFsbG93U2Nyb2xsOiBmYWxzZSwgc2hvd0V4cGFuZEljb246IGZhbHNlLCBkaXNhYmxlZFRvb2x0aXA6IFwiVGhpcyBjb2x1bW4gY2FuJ3QgYmUgZWRpdGVkIGRpcmVjdGx5XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGNoaWxkIH0pIH0sIGBhZGRpdGlvbmFsX3RhYmxlX2NlbGxfJHtlbnRpdHlfMC5pZH1fJHtjb2x1bW5fMC5rZXl9YCk7XG4gIH0sIFtzaXplXSk7XG4gIGNvbnN0IGNvbGxlY3Rpb25Db2x1bW5zID0gKCgpID0+IHtcbiAgICBjb25zdCBjb2x1bW5zUmVzdWx0ID0gcHJvcGVydGllc1RvQ29sdW1ucyh7XG4gICAgICBwcm9wZXJ0aWVzLFxuICAgICAgc29ydGFibGUsXG4gICAgICBmb3JjZUZpbHRlcixcbiAgICAgIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXRcbiAgICB9KTtcbiAgICBjb25zdCBhZGRpdGlvbmFsVGFibGVDb2x1bW5zID0gYWRkaXRpb25hbEZpZWxkcyA/IGFkZGl0aW9uYWxGaWVsZHMubWFwKChhZGRpdGlvbmFsRmllbGRfMCkgPT4gKHtcbiAgICAgIGtleTogYWRkaXRpb25hbEZpZWxkXzAua2V5LFxuICAgICAgYWxpZ246IFwibGVmdFwiLFxuICAgICAgc29ydGFibGU6IGZhbHNlLFxuICAgICAgdGl0bGU6IGFkZGl0aW9uYWxGaWVsZF8wLm5hbWUsXG4gICAgICB3aWR0aDogYWRkaXRpb25hbEZpZWxkXzAud2lkdGggPz8gMjAwXG4gICAgfSkpIDogW107XG4gICAgcmV0dXJuIFsuLi5jb2x1bW5zUmVzdWx0LCAuLi5hZGRpdGlvbmFsVGFibGVDb2x1bW5zXTtcbiAgfSkoKTtcbiAgY29uc3QgaWRDb2x1bW4gPSB7XG4gICAga2V5OiBcImlkX2V3Y2ZlZGNzd2RmM1wiLFxuICAgIHdpZHRoOiBnZXRJZENvbHVtbldpZHRoPy4oKSA/PyAobGFyZ2VMYXlvdXQgPyAxNjAgOiAxMzApLFxuICAgIHRpdGxlOiBcIklEXCIsXG4gICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICBmcm96ZW46IGxhcmdlTGF5b3V0LFxuICAgIGhlYWRlckFsaWduOiBcImNlbnRlclwiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIEFkZGl0aW9uYWxIZWFkZXJXaWRnZXQ6ICgpID0+IGFkZGl0aW9uYWxJREhlYWRlcldpZGdldFxuICB9O1xuICBjb25zdCBjb2x1bW5zID0gW2lkQ29sdW1uLCAuLi5kaXNwbGF5ZWRDb2x1bW5JZHMgPyBkaXNwbGF5ZWRDb2x1bW5JZHMubWFwKChwKSA9PiB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25Db2x1bW5zLmZpbmQoKGMyKSA9PiBjMi5rZXkgPT09IHAua2V5KTtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pIDogY29sbGVjdGlvbkNvbHVtbnNdO1xuICBjb25zdCBjZWxsUmVuZGVyZXIgPSB1c2VDYWxsYmFjaygocHJvcHMpID0+IHtcbiAgICBjb25zdCBjb2x1bW5fMSA9IHByb3BzLmNvbHVtbjtcbiAgICBjb25zdCBjb2x1bW5zXzAgPSBwcm9wcy5jb2x1bW5zO1xuICAgIGNvbnN0IGNvbHVtbktleSA9IGNvbHVtbl8xLmtleTtcbiAgICB0cnkge1xuICAgICAgaWYgKHByb3BzLmNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgIGlmICh0YWJsZVJvd0FjdGlvbnNCdWlsZGVyKSByZXR1cm4gdGFibGVSb3dBY3Rpb25zQnVpbGRlcih7XG4gICAgICAgICAgZW50aXR5OiBwcm9wcy5yb3dEYXRhLFxuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgd2lkdGg6IGNvbHVtbl8xLndpZHRoLFxuICAgICAgICAgIGZyb3plbjogY29sdW1uXzEuZnJvemVuXG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUNvbGxlY3Rpb25Sb3dBY3Rpb25zLCB7IGVudGl0eTogcHJvcHMucm93RGF0YSwgd2lkdGg6IGNvbHVtbl8xLndpZHRoLCBmcm96ZW46IGNvbHVtbl8xLmZyb3plbiwgaXNTZWxlY3RlZDogZmFsc2UsIHNpemUsIG9wZW5FbnRpdHlNb2RlIH0pO1xuICAgICAgfSBlbHNlIGlmIChhZGRpdGlvbmFsRmllbGRzTWFwW2NvbHVtbktleV0pIHtcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWxDZWxsUmVuZGVyZXIocHJvcHMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5jb2x1bW5JbmRleCA8IGNvbHVtbnNfMC5sZW5ndGggKyAxKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUNlbGxSZW5kZXJlcihwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludGVybmFsOiBjb2x1bW5zIG5vdCBtYXBwZWQgcHJvcGVybHlcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlbmRlcmluZyBjZWxsXCIsIGUpO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5VGFibGVDZWxsLCB7IHNpemUsIHdpZHRoOiBjb2x1bW5fMS53aWR0aCwgc2F2ZWQ6IGZhbHNlLCB2YWx1ZTogbnVsbCwgYWxpZ246IFwibGVmdFwiLCBmdWxsSGVpZ2h0OiBmYWxzZSwgZGlzYWJsZWQ6IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yVmlldywgeyBlcnJvcjogZSB9KSB9KTtcbiAgICB9XG4gIH0sIFt0YWJsZVJvd0FjdGlvbnNCdWlsZGVyLCBhZGRpdGlvbmFsQ2VsbFJlbmRlcmVyLCBwcm9wZXJ0eUNlbGxSZW5kZXJlciwgc2l6ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyByZWYsIHN0eWxlLCBjbGFzc05hbWU6IGNscyhcImgtZnVsbCB3LWZ1bGwgZmxleCBmbGV4LWNvbCBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTUwXCIsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChDb2xsZWN0aW9uVGFibGVUb29sYmFyLCB7IG9uVGV4dFNlYXJjaDogdGV4dFNlYXJjaEVuYWJsZWQgPyBvblRleHRTZWFyY2ggOiB2b2lkIDAsIHRleHRTZWFyY2hMb2FkaW5nLCBvblRleHRTZWFyY2hDbGljazogdGV4dFNlYXJjaEVuYWJsZWQgPyBvblRleHRTZWFyY2hDbGljayA6IHZvaWQgMCwgc2l6ZSwgb25TaXplQ2hhbmdlZDogdXBkYXRlU2l6ZSwgdGl0bGUsIGFjdGlvbnNTdGFydCwgYWN0aW9ucywgbG9hZGluZzogdGFibGVDb250cm9sbGVyLmRhdGFMb2FkaW5nIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0YWJsZVRhYmxlLCB7IGNvbHVtbnMsIHNpemUsIGlubGluZUVkaXRpbmcsIGNlbGxSZW5kZXJlciwgb25FbnRpdHlDbGljaywgaGlnaGxpZ2h0ZWRSb3c6IChlbnRpdHlfMSkgPT4gQm9vbGVhbihzZWxlY3RlZEVudGl0aWVzPy5maW5kKChlXzApID0+IGVfMC5pZCA9PT0gZW50aXR5XzEuaWQgJiYgZV8wLnBhdGggPT09IGVudGl0eV8xLnBhdGgpKSwgdGFibGVDb250cm9sbGVyLCBvblZhbHVlQ2hhbmdlLCBpbml0aWFsU2Nyb2xsLCBvblNjcm9sbCwgb25Db2x1bW5SZXNpemUsIGhvdmVyUm93LCBmaWx0ZXJhYmxlLCBlbXB0eUNvbXBvbmVudCwgZW5kQWRvcm5tZW50LCBBZGRDb2x1bW5Db21wb25lbnQgfSlcbiAgXSB9KTtcbn07XG5mdW5jdGlvbiB1c2VEYXRhT3JkZXIoe1xuICBkYXRhLFxuICBlbnRpdGllc0Rpc3BsYXllZEZpcnN0XG59KSB7XG4gIGlmICghZW50aXRpZXNEaXNwbGF5ZWRGaXJzdCkgcmV0dXJuIGRhdGE7XG4gIGNvbnN0IGRpc3BsYXllZEZpcnN0SWQgPSBuZXcgU2V0KGVudGl0aWVzRGlzcGxheWVkRmlyc3QubWFwKChlKSA9PiBlLmlkKSk7XG4gIHJldHVybiBbLi4uZW50aXRpZXNEaXNwbGF5ZWRGaXJzdCwgLi4uZGF0YS5maWx0ZXIoKGUpID0+ICFkaXNwbGF5ZWRGaXJzdElkLmhhcyhlLmlkKSldO1xufVxuZnVuY3Rpb24gdXNlRGVib3VuY2VkRGF0YShkYXRhLCBkZXBzLCB0aW1lb3V0TXMgPSA1ZTMpIHtcbiAgY29uc3QgW2RlZmVycmVkRGF0YSwgc2V0RGVmZXJyZWREYXRhXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGRhdGEpO1xuICBjb25zdCBkYXRhTGVuZ3RoID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKGRlZmVycmVkRGF0YS5sZW5ndGggPz8gMCk7XG4gIGNvbnN0IHBlbmRpbmdVcGRhdGUgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoZmFsc2UpO1xuICBjb25zdCBjdXJyZW50RGVwcyA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihkZXBzKTtcbiAgY29uc3QgaGF2ZURlcHNDaGFuZ2VkID0gIWVxdWFsKGN1cnJlbnREZXBzLmN1cnJlbnQsIGRlcHMpO1xuICBjb25zdCBpbW1lZGlhdGVVcGRhdGUgPSBkYXRhLmxlbmd0aCA+PSBkYXRhTGVuZ3RoLmN1cnJlbnQgfHwgaGF2ZURlcHNDaGFuZ2VkO1xuICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHBlcmZvcm1VcGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWVxdWFsKGRlZmVycmVkRGF0YSwgZGF0YSkpIHtcbiAgICAgICAgY3VycmVudERlcHMuY3VycmVudCA9IGRlcHM7XG4gICAgICAgIGRhdGFMZW5ndGguY3VycmVudCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBzZXREZWZlcnJlZERhdGEoZGF0YSk7XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBkYXRlLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICAgIHBlbmRpbmdVcGRhdGUuY3VycmVudCA9IHRydWU7XG4gICAgbGV0IGhhbmRsZXI7XG4gICAgaWYgKGltbWVkaWF0ZVVwZGF0ZSkgcGVyZm9ybVVwZGF0ZSgpO1xuICAgIGVsc2UgaGFuZGxlciA9IHNldFRpbWVvdXQocGVyZm9ybVVwZGF0ZSwgdGltZW91dE1zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZXIpO1xuICAgICAgaWYgKHBlbmRpbmdVcGRhdGUuY3VycmVudCAmJiBpbW1lZGlhdGVVcGRhdGUpIHBlcmZvcm1VcGRhdGUoKTtcbiAgICB9O1xuICB9LCBbZGF0YSwgdGltZW91dE1zLCBkZXBzLCBpbW1lZGlhdGVVcGRhdGVdKTtcbiAgcmV0dXJuIGltbWVkaWF0ZVVwZGF0ZSA/IGRhdGEgOiBkZWZlcnJlZERhdGE7XG59XG5jb25zdCBERUZBVUxUX1BBR0VfU0laRSA9IDUwO1xuZnVuY3Rpb24gdXNlRGF0YVNvdXJjZVRhYmxlQ29udHJvbGxlcih7XG4gIGZ1bGxQYXRoLFxuICBjb2xsZWN0aW9uLFxuICBzY3JvbGxSZXN0b3JhdGlvbixcbiAgZW50aXRpZXNEaXNwbGF5ZWRGaXJzdCxcbiAgbGFzdERlbGV0ZVRpbWVzdGFtcCxcbiAgZm9yY2VGaWx0ZXI6IGZvcmNlRmlsdGVyRnJvbVByb3BzLFxuICB1cGRhdGVVcmxcbn0pIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxGaWx0ZXIsXG4gICAgaW5pdGlhbFNvcnQsXG4gICAgZm9yY2VGaWx0ZXI6IGZvcmNlRmlsdGVyRnJvbUNvbGxlY3Rpb25cbiAgfSA9IGNvbGxlY3Rpb247XG4gIGNvbnN0IFtwb3B1cENlbGwsIHNldFBvcHVwQ2VsbF0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSh2b2lkIDApO1xuICBjb25zdCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgZGF0YVNvdXJjZSA9IHVzZURhdGFTb3VyY2UoKTtcbiAgY29uc3QgcmVzb2x2ZWRQYXRoID0gdXNlTWVtbygoKSA9PiBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tKGZ1bGxQYXRoKSwgW2Z1bGxQYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tXSk7XG4gIGNvbnN0IGZvcmNlRmlsdGVyID0gZm9yY2VGaWx0ZXJGcm9tUHJvcHMgPz8gZm9yY2VGaWx0ZXJGcm9tQ29sbGVjdGlvbjtcbiAgY29uc3QgcGFnaW5hdGlvbkVuYWJsZWQgPSBjb2xsZWN0aW9uLnBhZ2luYXRpb24gPT09IHZvaWQgMCB8fCBCb29sZWFuKGNvbGxlY3Rpb24ucGFnaW5hdGlvbik7XG4gIGNvbnN0IHBhZ2VTaXplID0gdHlwZW9mIGNvbGxlY3Rpb24ucGFnaW5hdGlvbiA9PT0gXCJudW1iZXJcIiA/IGNvbGxlY3Rpb24ucGFnaW5hdGlvbiA6IERFRkFVTFRfUEFHRV9TSVpFO1xuICBjb25zdCBbc2VhcmNoU3RyaW5nLCBzZXRTZWFyY2hTdHJpbmddID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoKTtcbiAgY29uc3QgY2hlY2tGaWx0ZXJDb21iaW5hdGlvbiA9IHVzZUNhbGxiYWNrKChmaWx0ZXJWYWx1ZXMsIHNvcnRCeSkgPT4ge1xuICAgIGlmICghZGF0YVNvdXJjZS5pc0ZpbHRlckNvbWJpbmF0aW9uVmFsaWQpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBkYXRhU291cmNlLmlzRmlsdGVyQ29tYmluYXRpb25WYWxpZCh7XG4gICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgZmlsdGVyVmFsdWVzLFxuICAgICAgc29ydEJ5XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25TY3JvbGwgPSAoe1xuICAgIHNjcm9sbE9mZnNldFxuICB9KSA9PiB7XG4gICAgaWYgKHNjcm9sbFJlc3RvcmF0aW9uKSB7XG4gICAgICBzY3JvbGxSZXN0b3JhdGlvbi51cGRhdGVDb2xsZWN0aW9uU2Nyb2xsKHtcbiAgICAgICAgZnVsbFBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgc2Nyb2xsT2Zmc2V0LFxuICAgICAgICBkYXRhOiByYXdEYXRhLFxuICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJWYWx1ZXNfMFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbml0aWFsU29ydEludGVybmFsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTb3J0ICYmIGZvcmNlRmlsdGVyICYmICFjaGVja0ZpbHRlckNvbWJpbmF0aW9uKGZvcmNlRmlsdGVyLCBpbml0aWFsU29ydCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkluaXRpYWwgc29ydCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBmb3JjZSBmaWx0ZXIuIElnbm9yaW5nIGluaXRpYWwgc29ydFwiKTtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBpbml0aWFsU29ydDtcbiAgfSwgW2luaXRpYWxTb3J0LCBmb3JjZUZpbHRlcl0pO1xuICBjb25zdCB7XG4gICAgZmlsdGVyVmFsdWVzOiBpbml0aWFsRmlsdGVyVXJsLFxuICAgIHNvcnRCeTogaW5pdGlhbFNvcnRVcmxcbiAgfSA9IHBhcnNlRmlsdGVyQW5kU29ydCh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgY29uc3QgW2ZpbHRlclZhbHVlc18wLCBzZXRGaWx0ZXJWYWx1ZXNdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoZm9yY2VGaWx0ZXIgPz8gKHVwZGF0ZVVybCA/IGluaXRpYWxGaWx0ZXJVcmwgOiB2b2lkIDApID8/IGluaXRpYWxGaWx0ZXIgPz8gdm9pZCAwKTtcbiAgY29uc3QgW3NvcnRCeV8wLCBzZXRTb3J0QnldID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoaW5pdGlhbFNvcnRVcmwgPz8gaW5pdGlhbFNvcnRJbnRlcm5hbCk7XG4gIHVzZVVwZGF0ZVVybChmaWx0ZXJWYWx1ZXNfMCwgc29ydEJ5XzAsIHNlYXJjaFN0cmluZywgdXBkYXRlVXJsKTtcbiAgY29uc3QgY29sbGVjdGlvblNjcm9sbCA9IHNjcm9sbFJlc3RvcmF0aW9uPy5nZXRDb2xsZWN0aW9uU2Nyb2xsKGZ1bGxQYXRoLCBmaWx0ZXJWYWx1ZXNfMCk7XG4gIGNvbnN0IGluaXRpYWxJdGVtQ291bnQgPSBjb2xsZWN0aW9uU2Nyb2xsPy5kYXRhLmxlbmd0aCA/PyBwYWdlU2l6ZTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsUmVzdG9yYXRpb24pIHtcbiAgICAgIHNjcm9sbFJlc3RvcmF0aW9uLnVwZGF0ZUNvbGxlY3Rpb25TY3JvbGwoe1xuICAgICAgICBmdWxsUGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBzY3JvbGxPZmZzZXQ6IGNvbGxlY3Rpb25TY3JvbGw/LnNjcm9sbE9mZnNldCA/PyAwLFxuICAgICAgICBkYXRhOiByYXdEYXRhLFxuICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJWYWx1ZXNfMFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IFtpdGVtQ291bnQsIHNldEl0ZW1Db3VudF0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShwYWdpbmF0aW9uRW5hYmxlZCA/IGluaXRpYWxJdGVtQ291bnQgOiB2b2lkIDApO1xuICBjb25zdCBzb3J0QnlQcm9wZXJ0eSA9IHNvcnRCeV8wID8gc29ydEJ5XzBbMF0gOiB2b2lkIDA7XG4gIGNvbnN0IGN1cnJlbnRTb3J0ID0gc29ydEJ5XzAgPyBzb3J0QnlfMFsxXSA6IHZvaWQgMDtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IFtyYXdEYXRhLCBzZXRSYXdEYXRhXSA9IHVzZVN0YXRlKGNvbGxlY3Rpb25TY3JvbGw/LmRhdGEgPz8gW10pO1xuICBjb25zdCBbZGF0YUxvYWRpbmcsIHNldERhdGFMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RhdGFMb2FkaW5nRXJyb3IsIHNldERhdGFMb2FkaW5nRXJyb3JdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW25vTW9yZVRvTG9hZCwgc2V0Tm9Nb3JlVG9Mb2FkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgY2xlYXJGaWx0ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRGaWx0ZXJWYWx1ZXMoZm9yY2VGaWx0ZXIgPz8gdm9pZCAwKSwgW2ZvcmNlRmlsdGVyXSk7XG4gIGNvbnN0IHVwZGF0ZUZpbHRlclZhbHVlcyA9IHVzZUNhbGxiYWNrKCh1cGRhdGVkRmlsdGVyKSA9PiB7XG4gICAgaWYgKGZvcmNlRmlsdGVyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJGaWx0ZXIgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgZm9yY2UgZmlsdGVyLiBJZ25vcmluZyBmaWx0ZXJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh1cGRhdGVkRmlsdGVyICYmIE9iamVjdC5rZXlzKHVwZGF0ZWRGaWx0ZXIpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RmlsdGVyVmFsdWVzKHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEZpbHRlclZhbHVlcyh1cGRhdGVkRmlsdGVyKTtcbiAgICB9XG4gIH0sIFtmb3JjZUZpbHRlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldERhdGFMb2FkaW5nKHRydWUpO1xuICAgIGNvbnN0IG9uRW50aXRpZXNVcGRhdGUgPSBhc3luYyAoZW50aXRpZXMpID0+IHtcbiAgICAgIGlmIChjb2xsZWN0aW9uLmNhbGxiYWNrcz8ub25GZXRjaCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGVudGl0aWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoZW50aXRpZXMubWFwKChlbnRpdHkpID0+IGNvbGxlY3Rpb24uY2FsbGJhY2tzLm9uRmV0Y2goe1xuICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0RGF0YUxvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0RGF0YUxvYWRpbmdFcnJvcih2b2lkIDApO1xuICAgICAgc2V0UmF3RGF0YShlbnRpdGllcy5tYXAoKGVfMCkgPT4gKHtcbiAgICAgICAgLi4uZV8wXG4gICAgICAgIC8vIHZhbHVlczogc2FuaXRpemVEYXRhKGUudmFsdWVzLCByZXNvbHZlZENvbGxlY3Rpb24ucHJvcGVydGllcylcbiAgICAgIH0pKSk7XG4gICAgICBzZXROb01vcmVUb0xvYWQoIWl0ZW1Db3VudCB8fCBlbnRpdGllcy5sZW5ndGggPCBpdGVtQ291bnQpO1xuICAgIH07XG4gICAgY29uc3Qgb25FcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIGVycm9yKTtcbiAgICAgIHNldERhdGFMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldFJhd0RhdGEoW10pO1xuICAgICAgc2V0RGF0YUxvYWRpbmdFcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBpZiAoZGF0YVNvdXJjZS5saXN0ZW5Db2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gZGF0YVNvdXJjZS5saXN0ZW5Db2xsZWN0aW9uKHtcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICBvblVwZGF0ZTogb25FbnRpdGllc1VwZGF0ZSxcbiAgICAgICAgb25FcnJvcixcbiAgICAgICAgc2VhcmNoU3RyaW5nLFxuICAgICAgICBmaWx0ZXI6IGZpbHRlclZhbHVlc18wLFxuICAgICAgICBsaW1pdDogaXRlbUNvdW50LFxuICAgICAgICBzdGFydEFmdGVyOiB2b2lkIDAsXG4gICAgICAgIG9yZGVyQnk6IHNvcnRCeVByb3BlcnR5LFxuICAgICAgICBvcmRlcjogY3VycmVudFNvcnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhU291cmNlLmZldGNoQ29sbGVjdGlvbih7XG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgc2VhcmNoU3RyaW5nLFxuICAgICAgICBmaWx0ZXI6IGZpbHRlclZhbHVlc18wLFxuICAgICAgICBsaW1pdDogaXRlbUNvdW50LFxuICAgICAgICBzdGFydEFmdGVyOiB2b2lkIDAsXG4gICAgICAgIG9yZGVyQnk6IHNvcnRCeVByb3BlcnR5LFxuICAgICAgICBvcmRlcjogY3VycmVudFNvcnRcbiAgICAgIH0pLnRoZW4ob25FbnRpdGllc1VwZGF0ZSkuY2F0Y2gob25FcnJvcik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtyZXNvbHZlZFBhdGgsIGl0ZW1Db3VudCwgY3VycmVudFNvcnQsIHNvcnRCeVByb3BlcnR5LCBmaWx0ZXJWYWx1ZXNfMCwgc2VhcmNoU3RyaW5nXSk7XG4gIGNvbnN0IG9yZGVyZWREYXRhID0gdXNlRGF0YU9yZGVyKHtcbiAgICBkYXRhOiByYXdEYXRhLFxuICAgIGVudGl0aWVzRGlzcGxheWVkRmlyc3RcbiAgfSk7XG4gIGNvbnN0IGRhdGEgPSB1c2VEZWJvdW5jZWREYXRhKG9yZGVyZWREYXRhLCB7XG4gICAgZmlsdGVyVmFsdWVzOiBmaWx0ZXJWYWx1ZXNfMCxcbiAgICBzb3J0Qnk6IHNvcnRCeV8wLFxuICAgIHNlYXJjaFN0cmluZyxcbiAgICBsYXN0RGVsZXRlVGltZXN0YW1wXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgZGF0YUxvYWRpbmcsXG4gICAgbm9Nb3JlVG9Mb2FkLFxuICAgIGRhdGFMb2FkaW5nRXJyb3IsXG4gICAgZmlsdGVyVmFsdWVzOiBmaWx0ZXJWYWx1ZXNfMCxcbiAgICBzZXRGaWx0ZXJWYWx1ZXM6IHVwZGF0ZUZpbHRlclZhbHVlcyxcbiAgICBzb3J0Qnk6IHNvcnRCeV8wLFxuICAgIHNldFNvcnRCeSxcbiAgICBzZWFyY2hTdHJpbmcsXG4gICAgc2V0U2VhcmNoU3RyaW5nLFxuICAgIGNsZWFyRmlsdGVyLFxuICAgIGl0ZW1Db3VudCxcbiAgICBzZXRJdGVtQ291bnQsXG4gICAgaW5pdGlhbFNjcm9sbDogY29sbGVjdGlvblNjcm9sbD8uc2Nyb2xsT2Zmc2V0LFxuICAgIG9uU2Nyb2xsLFxuICAgIHBhZ2luYXRpb25FbmFibGVkLFxuICAgIHBhZ2VTaXplLFxuICAgIGNoZWNrRmlsdGVyQ29tYmluYXRpb24sXG4gICAgcG9wdXBDZWxsLFxuICAgIHNldFBvcHVwQ2VsbFxuICB9O1xufVxuZnVuY3Rpb24gdXNlVXBkYXRlVXJsKGZpbHRlclZhbHVlcywgc29ydEJ5LCBzZWFyY2hTdHJpbmcsIHVwZGF0ZVVybCkge1xuICBjb25zdCAkID0gYyg2KTtcbiAgbGV0IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBmaWx0ZXJWYWx1ZXMgfHwgJFsxXSAhPT0gc2VhcmNoU3RyaW5nIHx8ICRbMl0gIT09IHNvcnRCeSB8fCAkWzNdICE9PSB1cGRhdGVVcmwpIHtcbiAgICB0MCA9ICgpID0+IHtcbiAgICAgIGlmICh1cGRhdGVVcmwpIHtcbiAgICAgICAgY29uc3QgbmV3VXJsID0gZW5jb2RlRmlsdGVyQW5kU29ydChmaWx0ZXJWYWx1ZXMsIHNvcnRCeSk7XG4gICAgICAgIGNvbnN0IHNlYXJjaCA9IHNlYXJjaFN0cmluZyA/IGAmc2VhcmNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaFN0cmluZyl9YCA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gYCR7bmV3VXJsfSR7c2VhcmNofWA7XG4gICAgICAgIGNvbnN0IGhhc2gyID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gXCJcIikge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgYCR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSR7aGFzaDJ9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBgPyR7c3RhdGV9JHtoYXNoMn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdDEgPSBbZmlsdGVyVmFsdWVzLCBzb3J0QnksIHNlYXJjaFN0cmluZywgdXBkYXRlVXJsXTtcbiAgICAkWzBdID0gZmlsdGVyVmFsdWVzO1xuICAgICRbMV0gPSBzZWFyY2hTdHJpbmc7XG4gICAgJFsyXSA9IHNvcnRCeTtcbiAgICAkWzNdID0gdXBkYXRlVXJsO1xuICAgICRbNF0gPSB0MDtcbiAgICAkWzVdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzRdO1xuICAgIHQxID0gJFs1XTtcbiAgfVxuICB1c2VFZmZlY3QodDAsIHQxKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUZpbHRlckFuZFNvcnQoZmlsdGVyVmFsdWVzLCBzb3J0QnkpIHtcbiAgY29uc3QgZW50cmllcyA9IHt9O1xuICBpZiAoc29ydEJ5KSB7XG4gICAgZW50cmllc1tcIl9fc29ydFwiXSA9IGVuY29kZVVSSUNvbXBvbmVudChzb3J0QnlbMF0pO1xuICAgIGVudHJpZXNbXCJfX3NvcnRfb3JkZXJcIl0gPSBlbmNvZGVVUklDb21wb25lbnQoc29ydEJ5WzFdKTtcbiAgfVxuICBpZiAoZmlsdGVyVmFsdWVzKSB7XG4gICAgT2JqZWN0LmVudHJpZXMoZmlsdGVyVmFsdWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCBbb3AsIHZhbF0gPSB2YWx1ZTtcbiAgICAgICAgbGV0IGVuY29kZWRWYWx1ZSA9IHZhbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgZW5jb2RlZFZhbHVlID0gdmFsLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICBlbmNvZGVkVmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWwsIChrZXkyLCB2YWx1ZTIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUyIGluc3RhbmNlb2YgRW50aXR5UmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlUmVmKHZhbHVlMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBFbnRpdHlSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgZW5jb2RlZFZhbHVlID0gZW5jb2RlUmVmKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZW5jb2RlZFZhbHVlID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmNvZGVkVmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGVudHJpZXNbZW5jb2RlVVJJQ29tcG9uZW50KGAke2tleX1fb3BgKV0gPSBlbmNvZGVVUklDb21wb25lbnQob3ApO1xuICAgICAgICAgIGVudHJpZXNbZW5jb2RlVVJJQ29tcG9uZW50KGAke2tleX1fdmFsdWVgKV0gPSBlbmNvZGVVUklDb21wb25lbnQoZW5jb2RlZFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFPYmplY3Qua2V5cyhlbnRyaWVzKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZW50cmllcykubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX09JHt2YWx1ZX1gKS5qb2luKFwiJlwiKTtcbn1cbmZ1bmN0aW9uIHBhcnNlRmlsdGVyQW5kU29ydChzZWFyY2gpIHtcbiAgY29uc3QgZW50cmllcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgY29uc3QgZmlsdGVyVmFsdWVzID0ge307XG4gIGxldCBzb3J0QnkgPSB2b2lkIDA7XG4gIGVudHJpZXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmIChrZXkgPT09IFwiX19zb3J0XCIpIHtcbiAgICAgIHNvcnRCeSA9IFtkZWNvZGVVUklDb21wb25lbnQodmFsdWUpLCBlbnRyaWVzLmdldChcIl9fc29ydF9vcmRlclwiKV07XG4gICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoXCJfb3BcIikpIHtcbiAgICAgIGNvbnN0IGZpZWxkID0ga2V5LnJlcGxhY2UoXCJfb3BcIiwgXCJcIik7XG4gICAgICBjb25zdCBmaWx0ZXJPcCA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICBjb25zdCBmaWx0ZXJWYWxTdHIgPSBlbnRyaWVzLmdldChgJHtmaWVsZH1fdmFsdWVgKTtcbiAgICAgIGlmIChmaWx0ZXJWYWxTdHIgIT09IG51bGwpIHtcbiAgICAgICAgZmlsdGVyVmFsdWVzW2ZpZWxkXSA9IFtmaWx0ZXJPcCwgZGVjb2RlU3RyaW5nKGZpbHRlclZhbFN0cildO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgZmlsdGVyVmFsdWVzOiBPYmplY3Qua2V5cyhmaWx0ZXJWYWx1ZXMpLmxlbmd0aCA/IGZpbHRlclZhbHVlcyA6IHZvaWQgMCxcbiAgICBzb3J0QnlcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRGF0ZShkYXRlU3RyaW5nKSB7XG4gIGNvbnN0IHJlZ2V4UGF0dGVybiA9IC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1UXFxkezJ9OlxcZHsyfTpcXGR7Mn1cXC5cXGR7M31aJC87XG4gIGlmICghcmVnZXhQYXR0ZXJuLnRlc3QoZGF0ZVN0cmluZykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpID09PSBkYXRlU3RyaW5nO1xufVxuZnVuY3Rpb24gZW5jb2RlUmVmKHZhbCkge1xuICByZXR1cm4gYHJlZjo6JHt2YWwucGF0aH0vJHt2YWwuaWR9YDtcbn1cbmZ1bmN0aW9uIGRlY29kZVN0cmluZyh2YWwpIHtcbiAgbGV0IHBhcnNlZEZpbHRlclZhbCA9IHZhbDtcbiAgaWYgKGlzRGF0ZSh2YWwpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHBhcnNlZEZpbHRlclZhbCA9IG5ldyBEYXRlKHZhbCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHBhcnNlZEZpbHRlclZhbCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRyeSB7XG4gICAgICBwYXJzZWRGaWx0ZXJWYWwgPSBKU09OLnBhcnNlKHBhcnNlZEZpbHRlclZhbCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5zdGFydHNXaXRoKFwicmVmOjpcIikpIHtcbiAgICAgICAgICBjb25zdCBbcGF0aCwgaWRdID0gdmFsdWUuc3Vic3RyaW5nKDUpLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4gbmV3IEVudGl0eVJlZmVyZW5jZShpZCwgcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHBhcnNlZEZpbHRlclZhbCA9PT0gXCJzdHJpbmdcIiAmJiBwYXJzZWRGaWx0ZXJWYWwuc3RhcnRzV2l0aChcInJlZjo6XCIpKSB7XG4gICAgY29uc3QgW3BhdGgsIGlkXSA9IHBhcnNlZEZpbHRlclZhbC5zdWJzdHJpbmcoNSkuc3BsaXQoXCIvXCIpO1xuICAgIHJldHVybiBuZXcgRW50aXR5UmVmZXJlbmNlKGlkLCBwYXRoKTtcbiAgfVxuICByZXR1cm4gcGFyc2VkRmlsdGVyVmFsO1xufVxuZnVuY3Rpb24gdXNlU2VsZWN0aW9uQ29udHJvbGxlcihvblNlbGVjdGlvbkNoYW5nZSkge1xuICBjb25zdCBbc2VsZWN0ZWRFbnRpdGllcywgc2V0U2VsZWN0ZWRFbnRpdGllc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IHRvZ2dsZUVudGl0eVNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKChlbnRpdHksIG5ld1NlbGVjdGVkU3RhdGUpID0+IHtcbiAgICBsZXQgbmV3VmFsdWU7XG4gICAgaWYgKG5ld1NlbGVjdGVkU3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IEJvb2xlYW4oc2VsZWN0ZWRFbnRpdGllcy5maW5kKChlKSA9PiBlLmlkID09PSBlbnRpdHkuaWQgJiYgZS5wYXRoID09PSBlbnRpdHkucGF0aCkpO1xuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U/LihlbnRpdHksIGZhbHNlKTtcbiAgICAgICAgbmV3VmFsdWUgPSBzZWxlY3RlZEVudGl0aWVzLmZpbHRlcigoaXRlbSkgPT4gIShpdGVtLmlkID09PSBlbnRpdHkuaWQgJiYgaXRlbS5wYXRoID09PSBlbnRpdHkucGF0aCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U/LihlbnRpdHksIHRydWUpO1xuICAgICAgICBuZXdWYWx1ZSA9IFsuLi5zZWxlY3RlZEVudGl0aWVzLCBlbnRpdHldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmV3U2VsZWN0ZWRTdGF0ZSkge1xuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT8uKGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgIG5ld1ZhbHVlID0gWy4uLnNlbGVjdGVkRW50aXRpZXMsIGVudGl0eV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT8uKGVudGl0eSwgZmFsc2UpO1xuICAgICAgICBuZXdWYWx1ZSA9IHNlbGVjdGVkRW50aXRpZXMuZmlsdGVyKChpdGVtXzApID0+ICEoaXRlbV8wLmlkID09PSBlbnRpdHkuaWQgJiYgaXRlbV8wLnBhdGggPT09IGVudGl0eS5wYXRoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNldFNlbGVjdGVkRW50aXRpZXMobmV3VmFsdWUpO1xuICB9LCBbc2VsZWN0ZWRFbnRpdGllc10pO1xuICBjb25zdCBpc0VudGl0eVNlbGVjdGVkID0gdXNlQ2FsbGJhY2soKGVudGl0eV8wKSA9PiB7XG4gICAgcmV0dXJuIEJvb2xlYW4oc2VsZWN0ZWRFbnRpdGllcy5maW5kKChlXzApID0+IGVfMC5pZCA9PT0gZW50aXR5XzAuaWQgJiYgZV8wLnBhdGggPT09IGVudGl0eV8wLnBhdGgpKTtcbiAgfSwgW3NlbGVjdGVkRW50aXRpZXNdKTtcbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RlZEVudGl0aWVzLFxuICAgIHNldFNlbGVjdGVkRW50aXRpZXMsXG4gICAgaXNFbnRpdHlTZWxlY3RlZCxcbiAgICB0b2dnbGVFbnRpdHlTZWxlY3Rpb25cbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZVRhYmxlU2VhcmNoSGVscGVyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMzKTtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgZnVsbFBhdGgsXG4gICAgcGFyZW50Q29sbGVjdGlvbklkc1xuICB9ID0gdDA7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlKCk7XG4gIGNvbnN0IFt0ZXh0U2VhcmNoTG9hZGluZywgc2V0VGV4dFNlYXJjaExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGV4dFNlYXJjaEluaXRpYWxpc2VkLCBzZXRUZXh0U2VhcmNoSW5pdGlhbGlzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgb25UZXh0U2VhcmNoQ2xpY2s7XG4gIGxldCB0ZXh0U2VhcmNoRW5hYmxlZDtcbiAgaWYgKCRbMF0gIT09IGNvbGxlY3Rpb24gfHwgJFsxXSAhPT0gY29udGV4dCB8fCAkWzJdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zIHx8ICRbM10gIT09IGRhdGFTb3VyY2UgfHwgJFs0XSAhPT0gZnVsbFBhdGggfHwgJFs1XSAhPT0gcGFyZW50Q29sbGVjdGlvbklkcykge1xuICAgIHRleHRTZWFyY2hFbmFibGVkID0gQm9vbGVhbihjb2xsZWN0aW9uLnRleHRTZWFyY2hFbmFibGVkKTtcbiAgICBsZXQgcHJvcHM7XG4gICAgbGV0IHQxMjtcbiAgICBpZiAoJFs4XSAhPT0gY29sbGVjdGlvbiB8fCAkWzldICE9PSBjb250ZXh0IHx8ICRbMTBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zIHx8ICRbMTFdICE9PSBmdWxsUGF0aCB8fCAkWzEyXSAhPT0gcGFyZW50Q29sbGVjdGlvbklkcykge1xuICAgICAgcHJvcHMgPSB7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBkYXRhYmFzZUlkOiBjb2xsZWN0aW9uLmRhdGFiYXNlSWQsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIHBhcmVudENvbGxlY3Rpb25JZHNcbiAgICAgIH07XG4gICAgICB0MTIgPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zPy5maW5kKChwKSA9PiBwLmNvbGxlY3Rpb25WaWV3Py5ibG9ja1NlYXJjaD8uKHByb3BzKSk7XG4gICAgICAkWzhdID0gY29sbGVjdGlvbjtcbiAgICAgICRbOV0gPSBjb250ZXh0O1xuICAgICAgJFsxMF0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICAgJFsxMV0gPSBmdWxsUGF0aDtcbiAgICAgICRbMTJdID0gcGFyZW50Q29sbGVjdGlvbklkcztcbiAgICAgICRbMTNdID0gcHJvcHM7XG4gICAgICAkWzE0XSA9IHQxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcHMgPSAkWzEzXTtcbiAgICAgIHQxMiA9ICRbMTRdO1xuICAgIH1cbiAgICBjb25zdCBzZWFyY2hCbG9ja2VkID0gdDEyO1xuICAgIGxldCB0MjtcbiAgICBpZiAoJFsxNV0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMgfHwgJFsxNl0gIT09IGRhdGFTb3VyY2U/LmluaXRUZXh0U2VhcmNoKSB7XG4gICAgICB0MiA9IEJvb2xlYW4oZGF0YVNvdXJjZT8uaW5pdFRleHRTZWFyY2gpIHx8IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM/LmZpbmQoX3RlbXAkZSk7XG4gICAgICAkWzE1XSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM7XG4gICAgICAkWzE2XSA9IGRhdGFTb3VyY2U/LmluaXRUZXh0U2VhcmNoO1xuICAgICAgJFsxN10gPSB0MjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDIgPSAkWzE3XTtcbiAgICB9XG4gICAgY29uc3QgYWRkVGV4dFNlYXJjaENsaWNrTGlzdGVuZXIgPSB0MjtcbiAgICBpZiAoYWRkVGV4dFNlYXJjaENsaWNrTGlzdGVuZXIpIHtcbiAgICAgIGxldCB0MztcbiAgICAgIGlmICgkWzE4XSAhPT0gYWRkVGV4dFNlYXJjaENsaWNrTGlzdGVuZXIgfHwgJFsxOV0gIT09IGNvbGxlY3Rpb24gfHwgJFsyMF0gIT09IGNvbnRleHQgfHwgJFsyMV0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMgfHwgJFsyMl0gIT09IGRhdGFTb3VyY2UgfHwgJFsyM10gIT09IGZ1bGxQYXRoIHx8ICRbMjRdICE9PSBwYXJlbnRDb2xsZWN0aW9uSWRzIHx8ICRbMjVdICE9PSBwcm9wcyB8fCAkWzI2XSAhPT0gc2VhcmNoQmxvY2tlZCkge1xuICAgICAgICB0MyA9IGFkZFRleHRTZWFyY2hDbGlja0xpc3RlbmVyID8gKCkgPT4ge1xuICAgICAgICAgIHNldFRleHRTZWFyY2hMb2FkaW5nKHRydWUpO1xuICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgaWYgKGRhdGFTb3VyY2U/LmluaXRUZXh0U2VhcmNoICYmICFzZWFyY2hCbG9ja2VkKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGFTb3VyY2UuaW5pdFRleHRTZWFyY2gocHJvcHMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlYXJjaEJsb2NrZWQpIHtcbiAgICAgICAgICAgIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM/LmZvckVhY2goKHBfMSkgPT4ge1xuICAgICAgICAgICAgICBpZiAocF8xLmNvbGxlY3Rpb25WaWV3Py5vblRleHRTZWFyY2hDbGljaykge1xuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocF8xLmNvbGxlY3Rpb25WaWV3Lm9uVGV4dFNlYXJjaENsaWNrKHtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICBwYXJlbnRDb2xsZWN0aW9uSWRzXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMuZXZlcnkoQm9vbGVhbikpIHtcbiAgICAgICAgICAgICAgc2V0VGV4dFNlYXJjaEluaXRpYWxpc2VkKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2V0VGV4dFNlYXJjaExvYWRpbmcoZmFsc2UpKTtcbiAgICAgICAgfSA6IHZvaWQgMDtcbiAgICAgICAgJFsxOF0gPSBhZGRUZXh0U2VhcmNoQ2xpY2tMaXN0ZW5lcjtcbiAgICAgICAgJFsxOV0gPSBjb2xsZWN0aW9uO1xuICAgICAgICAkWzIwXSA9IGNvbnRleHQ7XG4gICAgICAgICRbMjFdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgICAgICAgJFsyMl0gPSBkYXRhU291cmNlO1xuICAgICAgICAkWzIzXSA9IGZ1bGxQYXRoO1xuICAgICAgICAkWzI0XSA9IHBhcmVudENvbGxlY3Rpb25JZHM7XG4gICAgICAgICRbMjVdID0gcHJvcHM7XG4gICAgICAgICRbMjZdID0gc2VhcmNoQmxvY2tlZDtcbiAgICAgICAgJFsyN10gPSB0MztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQzID0gJFsyN107XG4gICAgICB9XG4gICAgICBvblRleHRTZWFyY2hDbGljayA9IHQzO1xuICAgICAgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucz8uZm9yRWFjaCgocF8yKSA9PiB7XG4gICAgICAgIGlmICghdGV4dFNlYXJjaEVuYWJsZWQpIHtcbiAgICAgICAgICBpZiAocF8yLmNvbGxlY3Rpb25WaWV3Py5zaG93VGV4dFNlYXJjaEJhcikge1xuICAgICAgICAgICAgdGV4dFNlYXJjaEVuYWJsZWQgPSBwXzIuY29sbGVjdGlvblZpZXcuc2hvd1RleHRTZWFyY2hCYXIoe1xuICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgcGFyZW50Q29sbGVjdGlvbklkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgJFswXSA9IGNvbGxlY3Rpb247XG4gICAgJFsxXSA9IGNvbnRleHQ7XG4gICAgJFsyXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM7XG4gICAgJFszXSA9IGRhdGFTb3VyY2U7XG4gICAgJFs0XSA9IGZ1bGxQYXRoO1xuICAgICRbNV0gPSBwYXJlbnRDb2xsZWN0aW9uSWRzO1xuICAgICRbNl0gPSB0ZXh0U2VhcmNoRW5hYmxlZDtcbiAgICAkWzddID0gb25UZXh0U2VhcmNoQ2xpY2s7XG4gIH0gZWxzZSB7XG4gICAgdGV4dFNlYXJjaEVuYWJsZWQgPSAkWzZdO1xuICAgIG9uVGV4dFNlYXJjaENsaWNrID0gJFs3XTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzI4XSAhPT0gb25UZXh0U2VhcmNoQ2xpY2sgfHwgJFsyOV0gIT09IHRleHRTZWFyY2hFbmFibGVkIHx8ICRbMzBdICE9PSB0ZXh0U2VhcmNoSW5pdGlhbGlzZWQgfHwgJFszMV0gIT09IHRleHRTZWFyY2hMb2FkaW5nKSB7XG4gICAgdDEgPSB7XG4gICAgICB0ZXh0U2VhcmNoTG9hZGluZyxcbiAgICAgIHRleHRTZWFyY2hJbml0aWFsaXNlZCxcbiAgICAgIG9uVGV4dFNlYXJjaENsaWNrLFxuICAgICAgdGV4dFNlYXJjaEVuYWJsZWRcbiAgICB9O1xuICAgICRbMjhdID0gb25UZXh0U2VhcmNoQ2xpY2s7XG4gICAgJFsyOV0gPSB0ZXh0U2VhcmNoRW5hYmxlZDtcbiAgICAkWzMwXSA9IHRleHRTZWFyY2hJbml0aWFsaXNlZDtcbiAgICAkWzMxXSA9IHRleHRTZWFyY2hMb2FkaW5nO1xuICAgICRbMzJdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzMyXTtcbiAgfVxuICByZXR1cm4gdDE7XG59XG5mdW5jdGlvbiBfdGVtcCRlKHBfMCkge1xuICByZXR1cm4gQm9vbGVhbihwXzAuY29sbGVjdGlvblZpZXc/Lm9uVGV4dFNlYXJjaENsaWNrKTtcbn1cbmZ1bmN0aW9uIERlbGV0ZUVudGl0eURpYWxvZyh7XG4gIGVudGl0eU9yRW50aXRpZXNUb0RlbGV0ZSxcbiAgY29sbGVjdGlvbixcbiAgb25DbG9zZSxcbiAgb3BlbixcbiAgY2FsbGJhY2tzLFxuICBvbkVudGl0eURlbGV0ZSxcbiAgb25NdWx0aXBsZUVudGl0aWVzRGVsZXRlLFxuICBwYXRoXG59KSB7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlKCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3Qgc25hY2tiYXJDb250cm9sbGVyID0gdXNlU25hY2tiYXJDb250cm9sbGVyKCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IGVudGl0eU9yRW50aXRpZXMgPSBBcnJheS5pc0FycmF5KGVudGl0eU9yRW50aXRpZXNUb0RlbGV0ZSkgJiYgZW50aXR5T3JFbnRpdGllc1RvRGVsZXRlLmxlbmd0aCA9PT0gMSA/IGVudGl0eU9yRW50aXRpZXNUb0RlbGV0ZVswXSA6IGVudGl0eU9yRW50aXRpZXNUb0RlbGV0ZTtcbiAgY29uc3QgbXVsdGlwbGVFbnRpdGllcyA9IEFycmF5LmlzQXJyYXkoZW50aXR5T3JFbnRpdGllcyk7XG4gIGNvbnN0IHJlc29sdmVkQ29sbGVjdGlvbiA9IHVzZU1lbW8oKCkgPT4gcmVzb2x2ZUNvbGxlY3Rpb24oe1xuICAgIGNvbGxlY3Rpb24sXG4gICAgcGF0aCxcbiAgICBwcm9wZXJ0eUNvbmZpZ3M6IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlnc1xuICB9KSwgW2NvbGxlY3Rpb24sIHBhdGhdKTtcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uQ2xvc2UoKTtcbiAgfSwgW29uQ2xvc2VdKTtcbiAgY29uc3Qgb25EZWxldGVTdWNjZXNzID0gdXNlQ2FsbGJhY2soKGVudGl0eSkgPT4ge1xuICAgIGNvbnNvbGUuZGVidWcoXCJEZWxldGVkXCIsIGVudGl0eSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25EZWxldGVGYWlsdXJlID0gdXNlQ2FsbGJhY2soKGVudGl0eV8wLCBlKSA9PiB7XG4gICAgc25hY2tiYXJDb250cm9sbGVyLm9wZW4oe1xuICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgbWVzc2FnZTogXCJFcnJvciBkZWxldGluZzogXCIgKyBlPy5tZXNzYWdlXG4gICAgfSk7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGVudGl0eVwiKTtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9LCBbcmVzb2x2ZWRDb2xsZWN0aW9uLm5hbWVdKTtcbiAgY29uc3Qgb25QcmVEZWxldGVIb29rRXJyb3IgPSB1c2VDYWxsYmFjaygoZW50aXR5XzEsIGVfMCkgPT4ge1xuICAgIHNuYWNrYmFyQ29udHJvbGxlci5vcGVuKHtcbiAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYmVmb3JlIGRlbGV0aW5nOiBcIiArIGVfMD8ubWVzc2FnZVxuICAgIH0pO1xuICAgIGNvbnNvbGUuZXJyb3IoZV8wKTtcbiAgfSwgW3Jlc29sdmVkQ29sbGVjdGlvbi5uYW1lXSk7XG4gIGNvbnN0IG9uRGVsZXRlU3VjY2Vzc0hvb2tFcnJvciA9IHVzZUNhbGxiYWNrKChlbnRpdHlfMiwgZV8xKSA9PiB7XG4gICAgc25hY2tiYXJDb250cm9sbGVyLm9wZW4oe1xuICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgbWVzc2FnZTogXCJFcnJvciBhZnRlciBkZWxldGluZzogXCIgKyBlXzE/Lm1lc3NhZ2VcbiAgICB9KTtcbiAgICBjb25zb2xlLmVycm9yKGVfMSk7XG4gIH0sIFtyZXNvbHZlZENvbGxlY3Rpb24ubmFtZV0pO1xuICBjb25zdCBwZXJmb3JtRGVsZXRlID0gdXNlQ2FsbGJhY2soKGVudGl0eV8zKSA9PiBkZWxldGVFbnRpdHlXaXRoQ2FsbGJhY2tzKHtcbiAgICBkYXRhU291cmNlLFxuICAgIGVudGl0eTogZW50aXR5XzMsXG4gICAgY29sbGVjdGlvbjogcmVzb2x2ZWRDb2xsZWN0aW9uLFxuICAgIGNhbGxiYWNrcyxcbiAgICBvbkRlbGV0ZVN1Y2Nlc3MsXG4gICAgb25EZWxldGVGYWlsdXJlLFxuICAgIG9uUHJlRGVsZXRlSG9va0Vycm9yLFxuICAgIG9uRGVsZXRlU3VjY2Vzc0hvb2tFcnJvcixcbiAgICBjb250ZXh0XG4gIH0pLCBbZGF0YVNvdXJjZSwgcmVzb2x2ZWRDb2xsZWN0aW9uLCBjYWxsYmFja3MsIG9uRGVsZXRlU3VjY2Vzcywgb25EZWxldGVGYWlsdXJlLCBvblByZURlbGV0ZUhvb2tFcnJvciwgb25EZWxldGVTdWNjZXNzSG9va0Vycm9yLCBjb250ZXh0XSk7XG4gIGNvbnN0IGhhbmRsZU9rID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChlbnRpdHlPckVudGl0aWVzKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgaWYgKG11bHRpcGxlRW50aXRpZXMpIHtcbiAgICAgICAgUHJvbWlzZS5hbGwoZW50aXR5T3JFbnRpdGllcy5tYXAocGVyZm9ybURlbGV0ZSkpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBpZiAob25NdWx0aXBsZUVudGl0aWVzRGVsZXRlICYmIGVudGl0eU9yRW50aXRpZXMpIG9uTXVsdGlwbGVFbnRpdGllc0RlbGV0ZShwYXRoLCBlbnRpdHlPckVudGl0aWVzKTtcbiAgICAgICAgICBpZiAocmVzdWx0cy5ldmVyeShCb29sZWFuKSkge1xuICAgICAgICAgICAgc25hY2tiYXJDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgbWVzc2FnZTogYCR7cmVzb2x2ZWRDb2xsZWN0aW9uLm5hbWV9OiBtdWx0aXBsZSBkZWxldGVkYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHRzLnNvbWUoQm9vbGVhbikpIHtcbiAgICAgICAgICAgIHNuYWNrYmFyQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGAke3Jlc29sdmVkQ29sbGVjdGlvbi5uYW1lfTogU29tZSBvZiB0aGUgZW50aXRpZXMgaGF2ZSBiZWVuIGRlbGV0ZWQsIGJ1dCBub3QgYWxsYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNuYWNrYmFyQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtyZXNvbHZlZENvbGxlY3Rpb24ubmFtZX06IEVycm9yIGRlbGV0aW5nIGVudGl0aWVzYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJmb3JtRGVsZXRlKGVudGl0eU9yRW50aXRpZXMpLnRoZW4oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgaWYgKG9uRW50aXR5RGVsZXRlICYmIGVudGl0eU9yRW50aXRpZXMpIG9uRW50aXR5RGVsZXRlKHBhdGgsIGVudGl0eU9yRW50aXRpZXMpO1xuICAgICAgICAgICAgc25hY2tiYXJDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgbWVzc2FnZTogYCR7cmVzb2x2ZWRDb2xsZWN0aW9uLnNpbmd1bGFyTmFtZSA/PyByZXNvbHZlZENvbGxlY3Rpb24ubmFtZX0gZGVsZXRlZGBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZW50aXR5T3JFbnRpdGllcywgbXVsdGlwbGVFbnRpdGllcywgcGVyZm9ybURlbGV0ZSwgb25NdWx0aXBsZUVudGl0aWVzRGVsZXRlLCBwYXRoLCBvbkNsb3NlLCBzbmFja2JhckNvbnRyb2xsZXIsIHJlc29sdmVkQ29sbGVjdGlvbi5uYW1lLCBvbkVudGl0eURlbGV0ZV0pO1xuICBsZXQgY29udGVudDtcbiAgaWYgKGVudGl0eU9yRW50aXRpZXMgJiYgbXVsdGlwbGVFbnRpdGllcykge1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBcIk11bHRpcGxlIGVudGl0aWVzXCIgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZW50aXR5XzQgPSBlbnRpdHlPckVudGl0aWVzO1xuICAgIGNvbnRlbnQgPSBlbnRpdHlfNCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5VmlldywgeyBlbnRpdHk6IGVudGl0eV80LCBjb2xsZWN0aW9uLCBwYXRoIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwge30pO1xuICB9XG4gIGNvbnN0IGRpYWxvZ1RpdGxlID0gbXVsdGlwbGVFbnRpdGllcyA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcImJcIiwgeyBjaGlsZHJlbjogcmVzb2x2ZWRDb2xsZWN0aW9uLm5hbWUgfSksXG4gICAgXCI6IENvbmZpcm0gbXVsdGlwbGUgZGVsZXRlP1wiXG4gIF0gfSkgOiBgV291bGQgeW91IGxpa2UgdG8gZGVsZXRlIHRoaXMgJHtyZXNvbHZlZENvbGxlY3Rpb24uc2luZ3VsYXJOYW1lID8/IHJlc29sdmVkQ29sbGVjdGlvbi5uYW1lfT9gO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRGlhbG9nLCB7IG1heFdpZHRoOiBtdWx0aXBsZUVudGl0aWVzID8gXCJsZ1wiIDogXCIyeGxcIiwgXCJhcmlhLWxhYmVsbGVkYnlcIjogXCJkZWxldGUtZGlhbG9nXCIsIG9wZW4sIG9uT3BlbkNoYW5nZTogKG9wZW5fMCkgPT4gIW9wZW5fMCA/IG9uQ2xvc2UoKSA6IHZvaWQgMCwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ1RpdGxlLCB7IGlkOiBcImRlbGV0ZS1kaWFsb2ctdGl0bGVcIiwgY2hpbGRyZW46IGRpYWxvZ1RpdGxlIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRGlhbG9nQ29udGVudCwgeyBmdWxsSGVpZ2h0OiB0cnVlLCBjaGlsZHJlbjogIW11bHRpcGxlRW50aXRpZXMgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwLTRcIiwgY2hpbGRyZW46IGNvbnRlbnQgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoRGlhbG9nQWN0aW9ucywgeyBjaGlsZHJlbjogW1xuICAgICAgbG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4KENpcmN1bGFyUHJvZ3Jlc3MsIHsgc2l6ZTogXCJzbWFsbGVzdFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgb25DbGljazogaGFuZGxlQ2FuY2VsLCBkaXNhYmxlZDogbG9hZGluZywgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcInByaW1hcnlcIiwgY2hpbGRyZW46IFwiQ2FuY2VsXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyBhdXRvRm9jdXM6IHRydWUsIGRpc2FibGVkOiBsb2FkaW5nLCBvbkNsaWNrOiBoYW5kbGVPaywgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCBjaGlsZHJlbjogXCJPa1wiIH0pXG4gICAgXSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gYWRkUmVjZW50SWQoY29sbGVjdGlvbklkLCBpZCkge1xuICBjb25zdCByZWNlbnRJZHMgPSBnZXRSZWNlbnRJZHMoY29sbGVjdGlvbklkKTtcbiAgY29uc3QgbmV3UmVjZW50SWRzID0gW2lkLCAuLi5yZWNlbnRJZHMuZmlsdGVyKChpKSA9PiBpICE9PSBpZCldO1xuICBpZiAobmV3UmVjZW50SWRzLmxlbmd0aCA+IDUpIHtcbiAgICBuZXdSZWNlbnRJZHMucG9wKCk7XG4gIH1cbiAgc2F2ZVNlYXJjaGVkSWRzTG9jYWxseShjb2xsZWN0aW9uSWQsIG5ld1JlY2VudElkcyk7XG4gIHJldHVybiBuZXdSZWNlbnRJZHM7XG59XG5mdW5jdGlvbiBzYXZlU2VhcmNoZWRJZHNMb2NhbGx5KGNvbGxlY3Rpb25JZCwgaWRzKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicmVjZW50X2lkX3NlYXJjaGVzOjpcIiArIGNvbGxlY3Rpb25JZCwgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XG59XG5mdW5jdGlvbiBnZXRSZWNlbnRJZHMoY29sbGVjdGlvbklkKSB7XG4gIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicmVjZW50X2lkX3NlYXJjaGVzOjpcIiArIGNvbGxlY3Rpb25JZCk7XG4gIGlmICghc3RvcmVkKSByZXR1cm4gW107XG4gIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZCk7XG59XG5jb25zdCBlZGl0RW50aXR5QWN0aW9uID0ge1xuICBpY29uOiAvKiBAX19QVVJFX18gKi8ganN4KEVkaXRJY29uLCB7fSksXG4gIGtleTogXCJlZGl0XCIsXG4gIG5hbWU6IFwiRWRpdFwiLFxuICBjb2xsYXBzZWQ6IGZhbHNlLFxuICBvbkNsaWNrKHtcbiAgICBlbnRpdHksXG4gICAgY29sbGVjdGlvbixcbiAgICBmdWxsUGF0aCxcbiAgICBjb250ZXh0LFxuICAgIGhpZ2hsaWdodEVudGl0eSxcbiAgICB1bmhpZ2hsaWdodEVudGl0eSxcbiAgICBvcGVuRW50aXR5TW9kZVxuICB9KSB7XG4gICAgaGlnaGxpZ2h0RW50aXR5Py4oZW50aXR5KTtcbiAgICBjb250ZXh0LmFuYWx5dGljc0NvbnRyb2xsZXI/Lm9uQW5hbHl0aWNzRXZlbnQ/LihcImVudGl0eV9jbGlja1wiLCB7XG4gICAgICBwYXRoOiBlbnRpdHkucGF0aCxcbiAgICAgIGVudGl0eUlkOiBlbnRpdHkuaWRcbiAgICB9KTtcbiAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgYWRkUmVjZW50SWQoY29sbGVjdGlvbi5pZCwgZW50aXR5LmlkKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGNvbGxlY3Rpb24/LmNvbGxlY3Rpb25Hcm91cCA/IGVudGl0eS5wYXRoIDogZnVsbFBhdGggPz8gZW50aXR5LnBhdGg7XG4gICAgbmF2aWdhdGVUb0VudGl0eSh7XG4gICAgICBvcGVuRW50aXR5TW9kZSxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBlbnRpdHlJZDogZW50aXR5LmlkLFxuICAgICAgcGF0aCxcbiAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyOiBjb250ZXh0LnNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgICAgb25DbG9zZTogKCkgPT4gdW5oaWdobGlnaHRFbnRpdHk/LihlbnRpdHkpLFxuICAgICAgbmF2aWdhdGlvbjogY29udGV4dC5uYXZpZ2F0aW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICB9XG59O1xuY29uc3QgY29weUVudGl0eUFjdGlvbiA9IHtcbiAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeChGaWxlQ29weUljb24sIHt9KSxcbiAgbmFtZTogXCJDb3B5XCIsXG4gIGtleTogXCJjb3B5XCIsXG4gIG9uQ2xpY2soe1xuICAgIGVudGl0eSxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbnRleHQsXG4gICAgZnVsbFBhdGgsXG4gICAgaGlnaGxpZ2h0RW50aXR5LFxuICAgIHVuaGlnaGxpZ2h0RW50aXR5LFxuICAgIG9wZW5FbnRpdHlNb2RlXG4gIH0pIHtcbiAgICBoaWdobGlnaHRFbnRpdHk/LihlbnRpdHkpO1xuICAgIGNvbnRleHQuYW5hbHl0aWNzQ29udHJvbGxlcj8ub25BbmFseXRpY3NFdmVudD8uKFwiY29weV9lbnRpdHlfY2xpY2tcIiwge1xuICAgICAgcGF0aDogZW50aXR5LnBhdGgsXG4gICAgICBlbnRpdHlJZDogZW50aXR5LmlkXG4gICAgfSk7XG4gICAgY29uc3QgcGF0aCA9IGNvbGxlY3Rpb24/LmNvbGxlY3Rpb25Hcm91cCA/IGVudGl0eS5wYXRoIDogZnVsbFBhdGggPz8gZW50aXR5LnBhdGg7XG4gICAgbmF2aWdhdGVUb0VudGl0eSh7XG4gICAgICBvcGVuRW50aXR5TW9kZSxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBlbnRpdHlJZDogZW50aXR5LmlkLFxuICAgICAgcGF0aCxcbiAgICAgIGNvcHk6IHRydWUsXG4gICAgICBzaWRlRW50aXR5Q29udHJvbGxlcjogY29udGV4dC5zaWRlRW50aXR5Q29udHJvbGxlcixcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHVuaGlnaGxpZ2h0RW50aXR5Py4oZW50aXR5KSxcbiAgICAgIG5hdmlnYXRpb246IGNvbnRleHQubmF2aWdhdGlvblxuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgfVxufTtcbmNvbnN0IGRlbGV0ZUVudGl0eUFjdGlvbiA9IHtcbiAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeChEZWxldGVJY29uLCB7fSksXG4gIG5hbWU6IFwiRGVsZXRlXCIsXG4gIGtleTogXCJkZWxldGVcIixcbiAgb25DbGljayh7XG4gICAgZW50aXR5LFxuICAgIGZ1bGxQYXRoLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgY29udGV4dCxcbiAgICBzZWxlY3Rpb25Db250cm9sbGVyLFxuICAgIG9uQ29sbGVjdGlvbkNoYW5nZSxcbiAgICBzaWRlRW50aXR5Q29udHJvbGxlclxuICB9KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xvc2VEaWFsb2dcbiAgICB9ID0gY29udGV4dC5kaWFsb2dzQ29udHJvbGxlci5vcGVuKHtcbiAgICAgIGtleTogXCJkZWxldGVfZW50aXR5X2RpYWxvZ19cIiArIGVudGl0eS5pZCxcbiAgICAgIENvbXBvbmVudDogKHtcbiAgICAgICAgb3BlblxuICAgICAgfSkgPT4ge1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb24gfHwgIWZ1bGxQYXRoKSB0aHJvdyBuZXcgRXJyb3IoXCJkZWxldGVFbnRpdHlBY3Rpb246IENvbGxlY3Rpb24gaXMgdW5kZWZpbmVkXCIpO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChEZWxldGVFbnRpdHlEaWFsb2csIHsgZW50aXR5T3JFbnRpdGllc1RvRGVsZXRlOiBlbnRpdHksIHBhdGg6IGZ1bGxQYXRoLCBjb2xsZWN0aW9uLCBjYWxsYmFja3M6IGNvbGxlY3Rpb24uY2FsbGJhY2tzLCBvcGVuLCBvbkVudGl0eURlbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIGNvbnRleHQuYW5hbHl0aWNzQ29udHJvbGxlcj8ub25BbmFseXRpY3NFdmVudD8uKFwic2luZ2xlX2VudGl0eV9kZWxldGVkXCIsIHtcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsZWN0aW9uQ29udHJvbGxlcj8uc2V0U2VsZWN0ZWRFbnRpdGllcyhzZWxlY3Rpb25Db250cm9sbGVyLnNlbGVjdGVkRW50aXRpZXMuZmlsdGVyKChlKSA9PiBlLmlkICE9PSBlbnRpdHkuaWQpKTtcbiAgICAgICAgICBvbkNvbGxlY3Rpb25DaGFuZ2U/LigpO1xuICAgICAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyPy5jbG9zZSgpO1xuICAgICAgICB9LCBvbkNsb3NlOiBjbG9zZURpYWxvZyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gIH1cbn07XG5mdW5jdGlvbiBSZWZlcmVuY2VTZWxlY3Rpb25UYWJsZSh7XG4gIG9uU2luZ2xlRW50aXR5U2VsZWN0ZWQsXG4gIG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkLFxuICBtdWx0aXNlbGVjdCxcbiAgY29sbGVjdGlvbixcbiAgcGF0aDogcGF0aElucHV0LFxuICBzZWxlY3RlZEVudGl0eUlkczogc2VsZWN0ZWRFbnRpdHlJZHNQcm9wLFxuICBkZXNjcmlwdGlvbixcbiAgZm9yY2VGaWx0ZXIsXG4gIG1heFNlbGVjdGlvblxufSkge1xuICBjb25zdCBzaWRlRGlhbG9nQ29udGV4dCA9IHVzZVNpZGVEaWFsb2dDb250ZXh0KCk7XG4gIGNvbnN0IHNpZGVFbnRpdHlDb250cm9sbGVyID0gdXNlU2lkZUVudGl0eUNvbnRyb2xsZXIoKTtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGFuYWx5dGljc0NvbnRyb2xsZXIgPSB1c2VBbmFseXRpY3NDb250cm9sbGVyKCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgZnVsbFBhdGggPSBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tKHBhdGhJbnB1dCk7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlKCk7XG4gIGNvbnN0IFtlbnRpdGllc0Rpc3BsYXllZEZpcnN0LCBzZXRFbnRpdGllc0Rpc3BsYXllZEZpcnN0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgdG9nZ2xlRW50aXR5U2VsZWN0aW9uID0gKGVudGl0eSkgPT4ge1xuICAgIGxldCBuZXdWYWx1ZTtcbiAgICBjb25zdCBzZWxlY3RlZEVudGl0aWVzID0gc2VsZWN0aW9uQ29udHJvbGxlci5zZWxlY3RlZEVudGl0aWVzO1xuICAgIGFuYWx5dGljc0NvbnRyb2xsZXIub25BbmFseXRpY3NFdmVudD8uKFwicmVmZXJlbmNlX3NlbGVjdGlvbl90b2dnbGVcIiwge1xuICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICBlbnRpdHlJZDogZW50aXR5LmlkXG4gICAgfSk7XG4gICAgaWYgKHNlbGVjdGVkRW50aXRpZXMpIHtcbiAgICAgIGlmIChzZWxlY3RlZEVudGl0aWVzLm1hcCgoZSkgPT4gZS5pZCkuaW5kZXhPZihlbnRpdHkuaWQpID4gLTEpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzZWxlY3RlZEVudGl0aWVzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gZW50aXR5LmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtYXhTZWxlY3Rpb24gJiYgc2VsZWN0ZWRFbnRpdGllcy5sZW5ndGggPj0gbWF4U2VsZWN0aW9uKSByZXR1cm47XG4gICAgICAgIG5ld1ZhbHVlID0gWy4uLnNlbGVjdGVkRW50aXRpZXMsIGVudGl0eV07XG4gICAgICB9XG4gICAgICBzZWxlY3Rpb25Db250cm9sbGVyLnNldFNlbGVjdGVkRW50aXRpZXMobmV3VmFsdWUpO1xuICAgICAgaWYgKG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkKSBvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZChuZXdWYWx1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZWxlY3Rpb25Db250cm9sbGVyID0gdXNlU2VsZWN0aW9uQ29udHJvbGxlcih0b2dnbGVFbnRpdHlTZWxlY3Rpb24pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCB1bm1vdW50ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBzZWxlY3RlZEVudGl0eUlkcyA9IHNlbGVjdGVkRW50aXR5SWRzUHJvcD8ubWFwKChpZCkgPT4gaWQ/LnRvU3RyaW5nKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICBpZiAoc2VsZWN0ZWRFbnRpdHlJZHMgJiYgY29sbGVjdGlvbikge1xuICAgICAgUHJvbWlzZS5hbGwoc2VsZWN0ZWRFbnRpdHlJZHMubWFwKChlbnRpdHlJZCkgPT4gZGF0YVNvdXJjZS5mZXRjaEVudGl0eSh7XG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgY29sbGVjdGlvblxuICAgICAgfSkpKS50aGVuKChlbnRpdGllcykgPT4ge1xuICAgICAgICBpZiAoIXVubW91bnRlZCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVudGl0aWVzLmZpbHRlcigoZV8wKSA9PiBlXzAgIT09IHZvaWQgMCk7XG4gICAgICAgICAgc2VsZWN0aW9uQ29udHJvbGxlci5zZXRTZWxlY3RlZEVudGl0aWVzKHJlc3VsdCk7XG4gICAgICAgICAgc2V0RW50aXRpZXNEaXNwbGF5ZWRGaXJzdChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0aW9uQ29udHJvbGxlci5zZXRTZWxlY3RlZEVudGl0aWVzKFtdKTtcbiAgICAgIHNldEVudGl0aWVzRGlzcGxheWVkRmlyc3QoW10pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbZGF0YVNvdXJjZSwgZnVsbFBhdGgsIHNlbGVjdGVkRW50aXR5SWRzUHJvcCwgY29sbGVjdGlvbiwgc2VsZWN0aW9uQ29udHJvbGxlci5zZXRTZWxlY3RlZEVudGl0aWVzXSk7XG4gIGNvbnN0IG9uQ2xlYXIgPSAoKSA9PiB7XG4gICAgYW5hbHl0aWNzQ29udHJvbGxlci5vbkFuYWx5dGljc0V2ZW50Py4oXCJyZWZlcmVuY2Vfc2VsZWN0aW9uX2NsZWFyXCIsIHtcbiAgICAgIHBhdGg6IGZ1bGxQYXRoXG4gICAgfSk7XG4gICAgc2VsZWN0aW9uQ29udHJvbGxlci5zZXRTZWxlY3RlZEVudGl0aWVzKFtdKTtcbiAgICBpZiAoIW11bHRpc2VsZWN0ICYmIG9uU2luZ2xlRW50aXR5U2VsZWN0ZWQpIHtcbiAgICAgIG9uU2luZ2xlRW50aXR5U2VsZWN0ZWQobnVsbCk7XG4gICAgfSBlbHNlIGlmIChvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZCkge1xuICAgICAgb25NdWx0aXBsZUVudGl0aWVzU2VsZWN0ZWQoW10pO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25FbnRpdHlDbGljayA9IChlbnRpdHlfMCkgPT4ge1xuICAgIGlmICghbXVsdGlzZWxlY3QgJiYgb25TaW5nbGVFbnRpdHlTZWxlY3RlZCkge1xuICAgICAgYW5hbHl0aWNzQ29udHJvbGxlci5vbkFuYWx5dGljc0V2ZW50Py4oXCJyZWZlcmVuY2Vfc2VsZWN0ZWRfc2luZ2xlXCIsIHtcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHlfMC5pZFxuICAgICAgfSk7XG4gICAgICBvblNpbmdsZUVudGl0eVNlbGVjdGVkKGVudGl0eV8wKTtcbiAgICAgIHNpZGVEaWFsb2dDb250ZXh0LmNsb3NlKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9nZ2xlRW50aXR5U2VsZWN0aW9uKGVudGl0eV8wKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uTmV3Q2xpY2sgPSAoKSA9PiB7XG4gICAgYW5hbHl0aWNzQ29udHJvbGxlci5vbkFuYWx5dGljc0V2ZW50Py4oXCJyZWZlcmVuY2Vfc2VsZWN0aW9uX25ld19lbnRpdHlcIiwge1xuICAgICAgcGF0aDogZnVsbFBhdGhcbiAgICB9KTtcbiAgICBzaWRlRW50aXR5Q29udHJvbGxlci5vcGVuKHtcbiAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIHVwZGF0ZVVybDogdHJ1ZSxcbiAgICAgIG9uVXBkYXRlOiAoe1xuICAgICAgICBlbnRpdHk6IGVudGl0eV8xXG4gICAgICB9KSA9PiB7XG4gICAgICAgIHNldEVudGl0aWVzRGlzcGxheWVkRmlyc3QoW2VudGl0eV8xLCAuLi5lbnRpdGllc0Rpc3BsYXllZEZpcnN0XSk7XG4gICAgICAgIG9uRW50aXR5Q2xpY2soZW50aXR5XzEpO1xuICAgICAgfSxcbiAgICAgIGNsb3NlT25TYXZlOiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHRhYmxlUm93QWN0aW9uc0J1aWxkZXIgPSAoe1xuICAgIGVudGl0eTogZW50aXR5XzIsXG4gICAgc2l6ZSxcbiAgICB3aWR0aCxcbiAgICBmcm96ZW5cbiAgfSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRW50aXRpZXNfMCA9IHNlbGVjdGlvbkNvbnRyb2xsZXIuc2VsZWN0ZWRFbnRpdGllcztcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRFbnRpdGllc18wICYmIHNlbGVjdGVkRW50aXRpZXNfMC5tYXAoKGVfMSkgPT4gZV8xLmlkKS5pbmRleE9mKGVudGl0eV8yLmlkKSA+IC0xO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUNvbGxlY3Rpb25Sb3dBY3Rpb25zLCB7IHdpZHRoLCBmcm96ZW4sIGVudGl0eTogZW50aXR5XzIsIHNpemUsIGlzU2VsZWN0ZWQsIHNlbGVjdGlvbkVuYWJsZWQ6IG11bHRpc2VsZWN0LCBoaWRlSWQ6IGNvbGxlY3Rpb24/LmhpZGVJZEZyb21Db2xsZWN0aW9uLCBmdWxsUGF0aCwgc2VsZWN0aW9uQ29udHJvbGxlciwgb3BlbkVudGl0eU1vZGU6IFwic2lkZV9wYW5lbFwiIH0pO1xuICB9O1xuICBjb25zdCBvbkRvbmUgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzaWRlRGlhbG9nQ29udGV4dC5jbG9zZShmYWxzZSk7XG4gIH0sIFtzaWRlRGlhbG9nQ29udGV4dF0pO1xuICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiQ291bGQgbm90IGZpbmQgY29sbGVjdGlvbiB3aXRoIGlkIFwiICsgY29sbGVjdGlvbiB9KTtcbiAgfVxuICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSB1c2VNZW1vKCgpID0+IHJlc29sdmVDb2xsZWN0aW9uKHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIHZhbHVlczoge30sXG4gICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgfSksIFtjb2xsZWN0aW9uLCBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MsIGZ1bGxQYXRoXSk7XG4gIGNvbnN0IGRpc3BsYXllZENvbHVtbklkcyA9IHVzZUNvbHVtbklkcyhyZXNvbHZlZENvbGxlY3Rpb24sIGZhbHNlKTtcbiAgY29uc3QgdGFibGVDb250cm9sbGVyID0gdXNlRGF0YVNvdXJjZVRhYmxlQ29udHJvbGxlcih7XG4gICAgZnVsbFBhdGgsXG4gICAgY29sbGVjdGlvbixcbiAgICBlbnRpdGllc0Rpc3BsYXllZEZpcnN0LFxuICAgIGZvcmNlRmlsdGVyLFxuICAgIHVwZGF0ZVVybDogZmFsc2VcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICB0ZXh0U2VhcmNoTG9hZGluZyxcbiAgICB0ZXh0U2VhcmNoSW5pdGlhbGlzZWQsXG4gICAgb25UZXh0U2VhcmNoQ2xpY2ssXG4gICAgdGV4dFNlYXJjaEVuYWJsZWRcbiAgfSA9IHVzZVRhYmxlU2VhcmNoSGVscGVyKHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIGZ1bGxQYXRoXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBoLWZ1bGxcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXgtZ3Jvd1wiLCBjaGlsZHJlbjogZW50aXRpZXNEaXNwbGF5ZWRGaXJzdCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUNvbGxlY3Rpb25UYWJsZSwgeyB0ZXh0U2VhcmNoTG9hZGluZywgb25UZXh0U2VhcmNoQ2xpY2s6IHRleHRTZWFyY2hJbml0aWFsaXNlZCA/IHZvaWQgMCA6IG9uVGV4dFNlYXJjaENsaWNrLCB0ZXh0U2VhcmNoRW5hYmxlZCwgZGlzcGxheWVkQ29sdW1uSWRzLCBvbkVudGl0eUNsaWNrLCB0YWJsZUNvbnRyb2xsZXIsIGVuYWJsZVBvcHVwSWNvbjogZmFsc2UsIHRhYmxlUm93QWN0aW9uc0J1aWxkZXIsIG9wZW5FbnRpdHlNb2RlOiBcInNpZGVfcGFuZWxcIiwgdGl0bGU6IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJzdWJ0aXRsZTJcIiwgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkZvclZpZXcsIHsgc2l6ZTogXCJzbWFsbFwiLCBjb2xsZWN0aW9uT3JWaWV3OiBjb2xsZWN0aW9uLCBjbGFzc05hbWU6IFwidGV4dC1zdXJmYWNlLTMwMCBkYXJrOnRleHQtc3VyZmFjZS02MDBcIiB9KSxcbiAgICAgIGNvbGxlY3Rpb24uc2luZ3VsYXJOYW1lID8gYFNlbGVjdCAke2NvbGxlY3Rpb24uc2luZ3VsYXJOYW1lfWAgOiBgU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAke2NvbGxlY3Rpb24ubmFtZX1gXG4gICAgXSB9KSwgZGVmYXVsdFNpemU6IGNvbGxlY3Rpb24uZGVmYXVsdFNpemUsIHByb3BlcnRpZXM6IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzLCBmb3JjZUZpbHRlciwgaW5saW5lRWRpdGluZzogZmFsc2UsIHNlbGVjdGlvbkNvbnRyb2xsZXIsIGFjdGlvbnM6IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlRGlhbG9nQWN0aW9ucywgeyBjb2xsZWN0aW9uLCBwYXRoOiBmdWxsUGF0aCwgb25OZXdDbGljaywgb25DbGVhciB9KSB9KSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2dBY3Rpb25zLCB7IHRyYW5zbHVjZW50OiBmYWxzZSwgY2hpbGRyZW46IFtcbiAgICAgIGRlc2NyaXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkyXCIsIGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgdGV4dC1sZWZ0XCIsIGNoaWxkcmVuOiBkZXNjcmlwdGlvbiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IG9uQ2xpY2s6IG9uRG9uZSwgY29sb3I6IFwicHJpbWFyeVwiLCB2YXJpYW50OiBcImZpbGxlZFwiLCBjaGlsZHJlbjogXCJEb25lXCIgfSlcbiAgICBdIH0pXG4gIF0gfSk7XG59XG5mdW5jdGlvbiBSZWZlcmVuY2VEaWFsb2dBY3Rpb25zKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDEzKTtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgcGF0aCxcbiAgICBvbkNsZWFyLFxuICAgIG9uTmV3Q2xpY2tcbiAgfSA9IHQwO1xuICBjb25zdCBhdXRoQ29udHJvbGxlciA9IHVzZUF1dGhDb250cm9sbGVyKCk7XG4gIGNvbnN0IGxhcmdlTGF5b3V0ID0gdXNlTGFyZ2VMYXlvdXQoKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gb25OZXdDbGljaykge1xuICAgIHQxID0gb25OZXdDbGljayA/IChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbk5ld0NsaWNrKCk7XG4gICAgfSA6IHZvaWQgMDtcbiAgICAkWzBdID0gb25OZXdDbGljaztcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGNvbnN0IG9uQ2xpY2sgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gYXV0aENvbnRyb2xsZXIgfHwgJFszXSAhPT0gY29sbGVjdGlvbiB8fCAkWzRdICE9PSBsYXJnZUxheW91dCB8fCAkWzVdICE9PSBvbkNsaWNrIHx8ICRbNl0gIT09IHBhdGgpIHtcbiAgICB0MiA9IGNhbkNyZWF0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgcGF0aCwgbnVsbCkgJiYgb25DbGljayAmJiAobGFyZ2VMYXlvdXQgPyAvKiBAX19QVVJFX18gKi8ganN4cyhCdXR0b24sIHsgb25DbGljaywgc3RhcnRJY29uOiAvKiBAX19QVVJFX18gKi8ganN4KEFkZEljb24sIHt9KSwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiBbXG4gICAgICBcIkFkZCBcIixcbiAgICAgIGNvbGxlY3Rpb24uc2luZ3VsYXJOYW1lID8/IGNvbGxlY3Rpb24ubmFtZVxuICAgIF0gfSkgOiAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyBvbkNsaWNrLCB2YXJpYW50OiBcIm91dGxpbmVkXCIsIGNvbG9yOiBcInByaW1hcnlcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQWRkSWNvbiwge30pIH0pKTtcbiAgICAkWzJdID0gYXV0aENvbnRyb2xsZXI7XG4gICAgJFszXSA9IGNvbGxlY3Rpb247XG4gICAgJFs0XSA9IGxhcmdlTGF5b3V0O1xuICAgICRbNV0gPSBvbkNsaWNrO1xuICAgICRbNl0gPSBwYXRoO1xuICAgICRbN10gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbN107XG4gIH1cbiAgY29uc3QgYWRkQnV0dG9uID0gdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbOF0gIT09IG9uQ2xlYXIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IG9uQ2xpY2s6IG9uQ2xlYXIsIHZhcmlhbnQ6IFwidGV4dFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiBcIkNsZWFyXCIgfSk7XG4gICAgJFs4XSA9IG9uQ2xlYXI7XG4gICAgJFs5XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs5XTtcbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzEwXSAhPT0gYWRkQnV0dG9uIHx8ICRbMTFdICE9PSB0Mykge1xuICAgIHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQzLFxuICAgICAgYWRkQnV0dG9uXG4gICAgXSB9KTtcbiAgICAkWzEwXSA9IGFkZEJ1dHRvbjtcbiAgICAkWzExXSA9IHQzO1xuICAgICRbMTJdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEyXTtcbiAgfVxuICByZXR1cm4gdDQ7XG59XG5mdW5jdGlvbiB0b0FycmF5KGlucHV0KSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGlucHV0KSA/IGlucHV0IDogaW5wdXQgPyBbaW5wdXRdIDogW107XG59XG5mdW5jdGlvbiBOYXZpZ2F0aW9uR3JvdXAodDApIHtcbiAgY29uc3QgJCA9IGMoMTQpO1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgZ3JvdXBcbiAgfSA9IHQwO1xuICBjb25zdCB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlID0gdXNlVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpO1xuICBjb25zdCB0MSA9ICEodXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZT8uY29sbGFwc2VkR3JvdXBzID8/IFtdKS5pbmNsdWRlcyhncm91cCA/PyBcInVuZ3JvdXBlZFwiKTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gZ3JvdXAgfHwgJFsxXSAhPT0gdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSkge1xuICAgIHQyID0gKGV4cGFuZGVkKSA9PiB7XG4gICAgICBpZiAodXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSkge1xuICAgICAgICBpZiAoIWV4cGFuZGVkKSB7XG4gICAgICAgICAgY29uc3QgcGF0aHMgPSAodXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5jb2xsYXBzZWRHcm91cHMgPz8gW10pLmNvbmNhdChncm91cCA/PyBcInVuZ3JvdXBlZFwiKTtcbiAgICAgICAgICB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlLnNldENvbGxhcHNlZEdyb3VwcyhwYXRocyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5zZXRDb2xsYXBzZWRHcm91cHMoKHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UuY29sbGFwc2VkR3JvdXBzID8/IFtdKS5maWx0ZXIoKGcpID0+IGcgIT09IChncm91cCA/PyBcInVuZ3JvdXBlZFwiKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gZ3JvdXA7XG4gICAgJFsxXSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2U7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBncm91cCkge1xuICAgIHQzID0gZ3JvdXA/LnRvVXBwZXJDYXNlKCkgPz8gXCJWaWV3c1wiLnRvVXBwZXJDYXNlKCk7XG4gICAgJFszXSA9IGdyb3VwO1xuICAgICRbNF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNF07XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFs1XSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY2xhc3NOYW1lOiBcImZvbnQtbWVkaXVtIG1sLTFcIiwgY2hpbGRyZW46IHQzIH0pO1xuICAgICRbNV0gPSB0MztcbiAgICAkWzZdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzZdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbN10gIT09IGNoaWxkcmVuKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1iLThcIiwgY2hpbGRyZW4gfSk7XG4gICAgJFs3XSA9IGNoaWxkcmVuO1xuICAgICRbOF0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbOF07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFs5XSAhPT0gdDEgfHwgJFsxMF0gIT09IHQyIHx8ICRbMTFdICE9PSB0NCB8fCAkWzEyXSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXhwYW5kYWJsZVBhbmVsLCB7IGludmlzaWJsZTogdHJ1ZSwgdGl0bGVDbGFzc05hbWU6IFwiZm9udC1tZWRpdW0gdGV4dC1zbSB0ZXh0LXN1cmZhY2UtNjAwIGRhcms6dGV4dC1zdXJmYWNlLTQwMFwiLCBpbm5lckNsYXNzTmFtZTogXCJweS00XCIsIGluaXRpYWxseUV4cGFuZGVkOiB0MSwgb25FeHBhbmRlZENoYW5nZTogdDIsIHRpdGxlOiB0NCwgY2hpbGRyZW46IHQ1IH0pO1xuICAgICRbOV0gPSB0MTtcbiAgICAkWzEwXSA9IHQyO1xuICAgICRbMTFdID0gdDQ7XG4gICAgJFsxMl0gPSB0NTtcbiAgICAkWzEzXSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxM107XG4gIH1cbiAgcmV0dXJuIHQ2O1xufVxuZnVuY3Rpb24gTmF2aWdhdGlvbkNhcmQodDApIHtcbiAgY29uc3QgJCA9IGMoMjMpO1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBpY29uLFxuICAgIGFjdGlvbnMsXG4gICAgb25DbGlja1xuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSBjbHMoXCJoLWZ1bGwgcC00IGN1cnNvci1wb2ludGVyIG1pbi1oLVsyMzBweF1cIik7XG4gICAgJFswXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFswXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzFdICE9PSBvbkNsaWNrKSB7XG4gICAgdDIgPSAoKSA9PiB7XG4gICAgICBvbkNsaWNrPy4oKTtcbiAgICB9O1xuICAgICRbMV0gPSBvbkNsaWNrO1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gYWN0aW9ucykge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiLCBvbkNsaWNrOiBfdGVtcCRkLCBjaGlsZHJlbjogYWN0aW9ucyB9KTtcbiAgICAkWzNdID0gYWN0aW9ucztcbiAgICAkWzRdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzRdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNV0gIT09IGljb24gfHwgJFs2XSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImgtMTAgZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXN1cmZhY2UtMzAwIGRhcms6dGV4dC1zdXJmYWNlLTYwMFwiLCBjaGlsZHJlbjogW1xuICAgICAgaWNvbixcbiAgICAgIHQzXG4gICAgXSB9KTtcbiAgICAkWzVdID0gaWNvbjtcbiAgICAkWzZdID0gdDM7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzhdICE9PSBuYW1lKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgZ3V0dGVyQm90dG9tOiB0cnVlLCB2YXJpYW50OiBcImg1XCIsIGNvbXBvbmVudDogXCJoMlwiLCBjaGlsZHJlbjogbmFtZSB9KTtcbiAgICAkWzhdID0gbmFtZTtcbiAgICAkWzldID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzldO1xuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbMTBdICE9PSBkZXNjcmlwdGlvbikge1xuICAgIHQ2ID0gZGVzY3JpcHRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiYm9keTJcIiwgY29sb3I6IFwic2Vjb25kYXJ5XCIsIGNvbXBvbmVudDogXCJkaXZcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goTWFya2Rvd24sIHsgc291cmNlOiBkZXNjcmlwdGlvbiwgc2l6ZTogXCJzbWFsbFwiIH0pIH0pO1xuICAgICRbMTBdID0gZGVzY3JpcHRpb247XG4gICAgJFsxMV0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTFdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTJdICE9PSB0NCB8fCAkWzEzXSAhPT0gdDUgfHwgJFsxNF0gIT09IHQ2KSB7XG4gICAgdDcgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgdy1mdWxsXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0NCxcbiAgICAgIHQ1LFxuICAgICAgdDZcbiAgICBdIH0pO1xuICAgICRbMTJdID0gdDQ7XG4gICAgJFsxM10gPSB0NTtcbiAgICAkWzE0XSA9IHQ2O1xuICAgICRbMTVdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE1XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzE2XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OCA9IHtcbiAgICAgIGFsaWduU2VsZjogXCJmbGV4LWVuZFwiXG4gICAgfTtcbiAgICAkWzE2XSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxNl07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsxN10gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHQ4LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwLTRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyb3dGb3J3YXJkSWNvbiwgeyBjbGFzc05hbWU6IFwidGV4dC1wcmltYXJ5XCIgfSkgfSkgfSk7XG4gICAgJFsxN10gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMTddO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzE4XSAhPT0gdDcpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGgtZnVsbFwiLCBjaGlsZHJlbjogW1xuICAgICAgdDcsXG4gICAgICB0OVxuICAgIF0gfSk7XG4gICAgJFsxOF0gPSB0NztcbiAgICAkWzE5XSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzE5XTtcbiAgfVxuICBsZXQgdDExO1xuICBpZiAoJFsyMF0gIT09IHQxMCB8fCAkWzIxXSAhPT0gdDIpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgY2xhc3NOYW1lOiB0MSwgb25DbGljazogdDIsIGNoaWxkcmVuOiB0MTAgfSk7XG4gICAgJFsyMF0gPSB0MTA7XG4gICAgJFsyMV0gPSB0MjtcbiAgICAkWzIyXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzIyXTtcbiAgfVxuICByZXR1cm4gdDExO1xufVxuZnVuY3Rpb24gX3RlbXAkZChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cbmZ1bmN0aW9uIFNtYWxsTmF2aWdhdGlvbkNhcmQodDApIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICB1cmwsXG4gICAgaWNvblxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSBjbHMoY2FyZE1peGluLCBjYXJkQ2xpY2thYmxlTWl4aW4sIFwiY3Vyc29yLXBvaW50ZXIgZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIgcHgtNCBweS0yIHRleHQtaW5oZXJpdCBkYXJrOnRleHQtaW5oZXJpdCB2aXNpdGVkOnRleHQtaW5oZXJpdCB2aXNpdGVkOmRhcms6dGV4dC1pbmhlcml0IGhvdmVyOnRleHQtaW5oZXJpdCBob3ZlcjpkYXJrOnRleHQtaW5oZXJpdCBcIik7XG4gICAgJFswXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFswXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzFdICE9PSBuYW1lKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgZ3V0dGVyQm90dG9tOiB0cnVlLCB2YXJpYW50OiBcImg1XCIsIGNvbXBvbmVudDogXCJoMlwiLCBjbGFzc05hbWU6IFwibWItMCBtbC00XCIsIGNoaWxkcmVuOiBuYW1lIH0pO1xuICAgICRbMV0gPSBuYW1lO1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gaWNvbiB8fCAkWzRdICE9PSB0Mikge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIgZmxleC1ncm93IGdhcC0yIFwiLCBjaGlsZHJlbjogW1xuICAgICAgaWNvbixcbiAgICAgIHQyXG4gICAgXSB9KTtcbiAgICAkWzNdID0gaWNvbjtcbiAgICAkWzRdID0gdDI7XG4gICAgJFs1XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs1XTtcbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwLTRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyb3dGb3J3YXJkSWNvbiwgeyBjb2xvcjogXCJwcmltYXJ5XCIgfSkgfSk7XG4gICAgJFs2XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs2XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzddICE9PSB0MyB8fCAkWzhdICE9PSB1cmwpIHtcbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKExpbmssIHsgdGFiSW5kZXg6IDAsIGNsYXNzTmFtZTogdDEsIHRvOiB1cmwsIGNoaWxkcmVuOiBbXG4gICAgICB0MyxcbiAgICAgIHQ0XG4gICAgXSB9KSB9KTtcbiAgICAkWzddID0gdDM7XG4gICAgJFs4XSA9IHVybDtcbiAgICAkWzldID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzldO1xuICB9XG4gIHJldHVybiB0NTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRpb25DYXJkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYygzNCk7XG4gIGNvbnN0IHtcbiAgICBwYXRoLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgdmlldyxcbiAgICB1cmwsXG4gICAgbmFtZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBvbkNsaWNrLFxuICAgIHR5cGVcbiAgfSA9IHQwO1xuICBjb25zdCB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlID0gdXNlVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpO1xuICBjb25zdCB0MSA9IGNvbGxlY3Rpb24gPz8gdmlldztcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gdDEpIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkZvclZpZXcsIHsgY29sbGVjdGlvbk9yVmlldzogdDEgfSk7XG4gICAgJFswXSA9IHQxO1xuICAgICRbMV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMV07XG4gIH1cbiAgY29uc3QgY29sbGVjdGlvbkljb24gPSB0MjtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRmlyZUNNU0NvbnRleHQoKTtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDM7XG4gIGlmICgkWzJdICE9PSB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlPy5mYXZvdXJpdGVQYXRocykge1xuICAgIHQzID0gdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZT8uZmF2b3VyaXRlUGF0aHMgPz8gW107XG4gICAgJFsyXSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2U/LmZhdm91cml0ZVBhdGhzO1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbM107XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFs0XSAhPT0gcGF0aCB8fCAkWzVdICE9PSB0Mykge1xuICAgIHQ0ID0gdDMuaW5jbHVkZXMocGF0aCk7XG4gICAgJFs0XSA9IHBhdGg7XG4gICAgJFs1XSA9IHQzO1xuICAgICRbNl0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNl07XG4gIH1cbiAgY29uc3QgZmF2b3VyaXRlID0gdDQ7XG4gIGxldCB0NTtcbiAgaWYgKCRbN10gIT09IGNvbGxlY3Rpb24gfHwgJFs4XSAhPT0gY29udGV4dCB8fCAkWzldICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zIHx8ICRbMTBdICE9PSBmYXZvdXJpdGUgfHwgJFsxMV0gIT09IHBhdGggfHwgJFsxMl0gIT09IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UpIHtcbiAgICBjb25zdCBhY3Rpb25zQXJyYXkgPSB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlID8gWy8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChmYXZvdXJpdGUpIHtcbiAgICAgICAgdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5zZXRGYXZvdXJpdGVQYXRocyh1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlLmZhdm91cml0ZVBhdGhzLmZpbHRlcigocCkgPT4gcCAhPT0gcGF0aCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5zZXRGYXZvdXJpdGVQYXRocyhbLi4udXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5mYXZvdXJpdGVQYXRocywgcGF0aF0pO1xuICAgICAgfVxuICAgIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0YXJJY29uLCB7IHNpemU6IDE4LCBjbGFzc05hbWU6IGZhdm91cml0ZSA/IFwidGV4dC1zZWNvbmRhcnlcIiA6IFwidGV4dC1zdXJmYWNlLTQwMCBkYXJrOnRleHQtc3VyZmFjZS01MDBcIiB9KSB9LCBcImZhdm91cml0ZVwiKV0gOiBbXTtcbiAgICBpZiAoY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucyAmJiBjb2xsZWN0aW9uKSB7XG4gICAgICBsZXQgdDYyO1xuICAgICAgaWYgKCRbMTRdICE9PSBjb2xsZWN0aW9uIHx8ICRbMTVdICE9PSBjb250ZXh0IHx8ICRbMTZdICE9PSBwYXRoKSB7XG4gICAgICAgIHQ2MiA9IHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgY29udGV4dFxuICAgICAgICB9O1xuICAgICAgICAkWzE0XSA9IGNvbGxlY3Rpb247XG4gICAgICAgICRbMTVdID0gY29udGV4dDtcbiAgICAgICAgJFsxNl0gPSBwYXRoO1xuICAgICAgICAkWzE3XSA9IHQ2MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQ2MiA9ICRbMTddO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aW9uUHJvcHMgPSB0NjI7XG4gICAgICBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zLmZvckVhY2goKHBsdWdpbiwgaSkgPT4gYWN0aW9uc0FycmF5LnB1c2gocGx1Z2luLmhvbWVQYWdlPy5Db2xsZWN0aW9uQWN0aW9ucyA/IC8qIEBfX1BVUkVfXyAqLyBqc3gocGx1Z2luLmhvbWVQYWdlLkNvbGxlY3Rpb25BY3Rpb25zLCB7IC4uLmFjdGlvblByb3BzLCBleHRyYVByb3BzOiBwbHVnaW4uaG9tZVBhZ2UuZXh0cmFQcm9wcyB9LCBgYWN0aW9uc18ke2l9YCkgOiBudWxsKSk7XG4gICAgfVxuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogYWN0aW9uc0FycmF5IH0pO1xuICAgICRbN10gPSBjb2xsZWN0aW9uO1xuICAgICRbOF0gPSBjb250ZXh0O1xuICAgICRbOV0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICRbMTBdID0gZmF2b3VyaXRlO1xuICAgICRbMTFdID0gcGF0aDtcbiAgICAkWzEyXSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2U7XG4gICAgJFsxM10gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTNdO1xuICB9XG4gIGNvbnN0IGFjdGlvbnMgPSB0NTtcbiAgaWYgKHR5cGUgPT09IFwiYWRtaW5cIikge1xuICAgIGxldCB0NjI7XG4gICAgaWYgKCRbMThdICE9PSBjb2xsZWN0aW9uSWNvbiB8fCAkWzE5XSAhPT0gbmFtZSB8fCAkWzIwXSAhPT0gdXJsKSB7XG4gICAgICB0NjIgPSAvKiBAX19QVVJFX18gKi8ganN4KFNtYWxsTmF2aWdhdGlvbkNhcmQsIHsgaWNvbjogY29sbGVjdGlvbkljb24sIG5hbWUsIHVybCB9KTtcbiAgICAgICRbMThdID0gY29sbGVjdGlvbkljb247XG4gICAgICAkWzE5XSA9IG5hbWU7XG4gICAgICAkWzIwXSA9IHVybDtcbiAgICAgICRbMjFdID0gdDYyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NjIgPSAkWzIxXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ2MjtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzIyXSAhPT0gbmF2aWdhdGUgfHwgJFsyM10gIT09IG9uQ2xpY2sgfHwgJFsyNF0gIT09IHBhdGggfHwgJFsyNV0gIT09IHVybCB8fCAkWzI2XSAhPT0gdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSkge1xuICAgIHQ2ID0gKCkgPT4ge1xuICAgICAgb25DbGljaz8uKCk7XG4gICAgICBuYXZpZ2F0ZSh1cmwpO1xuICAgICAgaWYgKHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UpIHtcbiAgICAgICAgdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5zZXRSZWNlbnRseVZpc2l0ZWRQYXRocyhbcGF0aCwgLi4uKHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UucmVjZW50bHlWaXNpdGVkUGF0aHMgPz8gW10pLmZpbHRlcigocF8wKSA9PiBwXzAgIT09IHBhdGgpXSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzIyXSA9IG5hdmlnYXRlO1xuICAgICRbMjNdID0gb25DbGljaztcbiAgICAkWzI0XSA9IHBhdGg7XG4gICAgJFsyNV0gPSB1cmw7XG4gICAgJFsyNl0gPSB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlO1xuICAgICRbMjddID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzI3XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzI4XSAhPT0gYWN0aW9ucyB8fCAkWzI5XSAhPT0gY29sbGVjdGlvbkljb24gfHwgJFszMF0gIT09IGRlc2NyaXB0aW9uIHx8ICRbMzFdICE9PSBuYW1lIHx8ICRbMzJdICE9PSB0Nikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChOYXZpZ2F0aW9uQ2FyZCwgeyBpY29uOiBjb2xsZWN0aW9uSWNvbiwgbmFtZSwgZGVzY3JpcHRpb24sIGFjdGlvbnMsIG9uQ2xpY2s6IHQ2IH0pO1xuICAgICRbMjhdID0gYWN0aW9ucztcbiAgICAkWzI5XSA9IGNvbGxlY3Rpb25JY29uO1xuICAgICRbMzBdID0gZGVzY3JpcHRpb247XG4gICAgJFszMV0gPSBuYW1lO1xuICAgICRbMzJdID0gdDY7XG4gICAgJFszM10gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMzNdO1xuICB9XG4gIHJldHVybiB0Nztcbn1cbmZ1bmN0aW9uIE5hdmlnYXRpb25DaGlwKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDE4KTtcbiAgY29uc3Qge1xuICAgIGVudHJ5XG4gIH0gPSB0MDtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlID0gdXNlVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpO1xuICBpZiAoIXVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBlbnRyeS5wYXRoIHx8ICRbMV0gIT09IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UuZmF2b3VyaXRlUGF0aHMpIHtcbiAgICB0MSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UuZmF2b3VyaXRlUGF0aHMuaW5jbHVkZXMoZW50cnkucGF0aCk7XG4gICAgJFswXSA9IGVudHJ5LnBhdGg7XG4gICAgJFsxXSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UuZmF2b3VyaXRlUGF0aHM7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICBjb25zdCBmYXZvdXJpdGUgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFszXSAhPT0gZW50cnkucGF0aCB8fCAkWzRdICE9PSBmYXZvdXJpdGUgfHwgJFs1XSAhPT0gdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSkge1xuICAgIHQyID0gKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoZmF2b3VyaXRlKSB7XG4gICAgICAgIHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2Uuc2V0RmF2b3VyaXRlUGF0aHModXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZS5mYXZvdXJpdGVQYXRocy5maWx0ZXIoKHApID0+IHAgIT09IGVudHJ5LnBhdGgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2Uuc2V0RmF2b3VyaXRlUGF0aHMoWy4uLnVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UuZmF2b3VyaXRlUGF0aHMsIGVudHJ5LnBhdGhdKTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRbM10gPSBlbnRyeS5wYXRoO1xuICAgICRbNF0gPSBmYXZvdXJpdGU7XG4gICAgJFs1XSA9IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2U7XG4gICAgJFs2XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs2XTtcbiAgfVxuICBjb25zdCBvbkljb25DbGljayA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzddICE9PSBlbnRyeS51cmwgfHwgJFs4XSAhPT0gbmF2aWdhdGUpIHtcbiAgICB0MyA9ICgpID0+IG5hdmlnYXRlKGVudHJ5LnVybCk7XG4gICAgJFs3XSA9IGVudHJ5LnVybDtcbiAgICAkWzhdID0gbmF2aWdhdGU7XG4gICAgJFs5XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs5XTtcbiAgfVxuICBjb25zdCB0NCA9IGZhdm91cml0ZSA/IFwidGV4dC1zZWNvbmRhcnlcIiA6IFwidGV4dC1zdXJmYWNlLTQwMCBkYXJrOnRleHQtc3VyZmFjZS01MDBcIjtcbiAgbGV0IHQ1O1xuICBpZiAoJFsxMF0gIT09IG9uSWNvbkNsaWNrIHx8ICRbMTFdICE9PSB0NCkge1xuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChTdGFySWNvbiwgeyBvbkNsaWNrOiBvbkljb25DbGljaywgc2l6ZTogMTgsIGNsYXNzTmFtZTogdDQgfSk7XG4gICAgJFsxMF0gPSBvbkljb25DbGljaztcbiAgICAkWzExXSA9IHQ0O1xuICAgICRbMTJdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzEyXTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzEzXSAhPT0gZW50cnkubmFtZSB8fCAkWzE0XSAhPT0gZW50cnkucGF0aCB8fCAkWzE1XSAhPT0gdDMgfHwgJFsxNl0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KENoaXAsIHsgb25DbGljazogdDMsIGljb246IHQ1LCBjaGlsZHJlbjogZW50cnkubmFtZSB9LCBlbnRyeS5wYXRoKTtcbiAgICAkWzEzXSA9IGVudHJ5Lm5hbWU7XG4gICAgJFsxNF0gPSBlbnRyeS5wYXRoO1xuICAgICRbMTVdID0gdDM7XG4gICAgJFsxNl0gPSB0NTtcbiAgICAkWzE3XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxN107XG4gIH1cbiAgcmV0dXJuIHQ2O1xufVxuZnVuY3Rpb24gRmF2b3VyaXRlc1ZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMTcpO1xuICBjb25zdCBuYXZpZ2F0aW9uQ29udHJvbGxlciA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2UgPSB1c2VVc2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlKCk7XG4gIGlmICghdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IHVzZXJDb25maWd1cmF0aW9uUGVyc2lzdGVuY2U/LmZhdm91cml0ZVBhdGhzKSB7XG4gICAgdDEgPSB1c2VyQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlPy5mYXZvdXJpdGVQYXRocyA/PyBbXTtcbiAgICAkWzBdID0gdXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZT8uZmF2b3VyaXRlUGF0aHM7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBsZXQgVDA7XG4gIGxldCB0MjtcbiAgbGV0IHQzO1xuICBsZXQgdDQ7XG4gIGlmICgkWzJdICE9PSBuYXZpZ2F0aW9uQ29udHJvbGxlci50b3BMZXZlbE5hdmlnYXRpb24/Lm5hdmlnYXRpb25FbnRyaWVzIHx8ICRbM10gIT09IHQxKSB7XG4gICAgbGV0IHQ1MjtcbiAgICBpZiAoJFs4XSAhPT0gbmF2aWdhdGlvbkNvbnRyb2xsZXIudG9wTGV2ZWxOYXZpZ2F0aW9uPy5uYXZpZ2F0aW9uRW50cmllcykge1xuICAgICAgdDUyID0gKHBhdGgpID0+IG5hdmlnYXRpb25Db250cm9sbGVyLnRvcExldmVsTmF2aWdhdGlvbj8ubmF2aWdhdGlvbkVudHJpZXMuZmluZCgoZW50cnkpID0+IGVudHJ5LnBhdGggPT09IHBhdGgpO1xuICAgICAgJFs4XSA9IG5hdmlnYXRpb25Db250cm9sbGVyLnRvcExldmVsTmF2aWdhdGlvbj8ubmF2aWdhdGlvbkVudHJpZXM7XG4gICAgICAkWzldID0gdDUyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NTIgPSAkWzldO1xuICAgIH1cbiAgICBjb25zdCBmYXZvdXJpdGVDb2xsZWN0aW9ucyA9IHQxLm1hcCh0NTIpLmZpbHRlcihCb29sZWFuKTtcbiAgICBUMCA9IENvbGxhcHNlO1xuICAgIHQ0ID0gZmF2b3VyaXRlQ29sbGVjdGlvbnMubGVuZ3RoID4gMDtcbiAgICB0MiA9IFwiZmxleCBmbGV4LXJvdyBmbGV4LXdyYXAgZ2FwLTIgcGItMiBtaW4taC1bMzJweF1cIjtcbiAgICB0MyA9IGZhdm91cml0ZUNvbGxlY3Rpb25zLm1hcChfdGVtcCRjKTtcbiAgICAkWzJdID0gbmF2aWdhdGlvbkNvbnRyb2xsZXIudG9wTGV2ZWxOYXZpZ2F0aW9uPy5uYXZpZ2F0aW9uRW50cmllcztcbiAgICAkWzNdID0gdDE7XG4gICAgJFs0XSA9IFQwO1xuICAgICRbNV0gPSB0MjtcbiAgICAkWzZdID0gdDM7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIFQwID0gJFs0XTtcbiAgICB0MiA9ICRbNV07XG4gICAgdDMgPSAkWzZdO1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzEwXSAhPT0gdDIgfHwgJFsxMV0gIT09IHQzKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0MiwgY2hpbGRyZW46IHQzIH0pO1xuICAgICRbMTBdID0gdDI7XG4gICAgJFsxMV0gPSB0MztcbiAgICAkWzEyXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxMl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxM10gIT09IFQwIHx8ICRbMTRdICE9PSB0NCB8fCAkWzE1XSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVDAsIHsgaW46IHQ0LCBjaGlsZHJlbjogdDUgfSk7XG4gICAgJFsxM10gPSBUMDtcbiAgICAkWzE0XSA9IHQ0O1xuICAgICRbMTVdID0gdDU7XG4gICAgJFsxNl0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTZdO1xuICB9XG4gIHJldHVybiB0Njtcbn1cbmZ1bmN0aW9uIF90ZW1wJGMoZW50cnlfMCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChOYXZpZ2F0aW9uQ2hpcCwgeyBlbnRyeTogZW50cnlfMCB9LCBlbnRyeV8wLnBhdGgpO1xufVxuY29uc3Qgc2Nyb2xsc01hcCA9IHt9O1xuZnVuY3Rpb24gdXNlUmVzdG9yZVNjcm9sbCgpIHtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtzY3JvbGwsIHNldFNjcm9sbF0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2RpcmVjdGlvbiwgc2V0RGlyZWN0aW9uXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKFwiZG93blwiKTtcbiAgY29uc3QgaGFuZGxlU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQgfHwgIWxvY2F0aW9uLmtleSkgcmV0dXJuO1xuICAgIHNjcm9sbHNNYXBbbG9jYXRpb24ua2V5XSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICBzZXRTY3JvbGwoY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wKTtcbiAgICBzZXREaXJlY3Rpb24oY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID4gc2Nyb2xsID8gXCJkb3duXCIgOiBcInVwXCIpO1xuICB9LCBbY29udGFpbmVyUmVmLCBsb2NhdGlvbi5rZXksIHNjcm9sbF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXIpIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XG4gICAgfTtcbiAgfSwgW2NvbnRhaW5lclJlZiwgaGFuZGxlU2Nyb2xsLCBsb2NhdGlvbl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQgfHwgIXNjcm9sbHNNYXBbbG9jYXRpb24ua2V5XSkgcmV0dXJuO1xuICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvKHtcbiAgICAgIHRvcDogc2Nyb2xsc01hcFtsb2NhdGlvbi5rZXldLFxuICAgICAgYmVoYXZpb3I6IFwiYXV0b1wiXG4gICAgfSk7XG4gIH0sIFtsb2NhdGlvbl0pO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lclJlZixcbiAgICBzY3JvbGwsXG4gICAgZGlyZWN0aW9uXG4gIH07XG59XG5mdW5jdGlvbiBEZWZhdWx0SG9tZVBhZ2UodDApIHtcbiAgY29uc3QgJCA9IGMoNzEpO1xuICBjb25zdCB7XG4gICAgYWRkaXRpb25hbEFjdGlvbnMsXG4gICAgYWRkaXRpb25hbENoaWxkcmVuU3RhcnQsXG4gICAgYWRkaXRpb25hbENoaWxkcmVuRW5kXG4gIH0gPSB0MDtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgbmF2aWdhdGlvbkNvbnRyb2xsZXIgPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBmdXNlID0gdXNlUmVmKG51bGwpO1xuICBpZiAoIW5hdmlnYXRpb25Db250cm9sbGVyLnRvcExldmVsTmF2aWdhdGlvbikge1xuICAgIHRocm93IEVycm9yKFwiTmF2aWdhdGlvbiBub3QgcmVhZHkgaW4gRmlyZUNNU0hvbWVQYWdlXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBjb250YWluZXJSZWYsXG4gICAgZGlyZWN0aW9uXG4gIH0gPSB1c2VSZXN0b3JlU2Nyb2xsKCk7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0aW9uRW50cmllcyxcbiAgICBncm91cHNcbiAgfSA9IG5hdmlnYXRpb25Db250cm9sbGVyLnRvcExldmVsTmF2aWdhdGlvbjtcbiAgY29uc3QgW2ZpbHRlcmVkVXJscywgc2V0RmlsdGVyZWRVcmxzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBwZXJmb3JtaW5nU2VhcmNoID0gQm9vbGVhbihmaWx0ZXJlZFVybHMpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBmaWx0ZXJlZFVybHMgfHwgJFsxXSAhPT0gbmF2aWdhdGlvbkVudHJpZXMpIHtcbiAgICB0MSA9IGZpbHRlcmVkVXJscyA/IGZpbHRlcmVkVXJscy5tYXAoKHVybCkgPT4gbmF2aWdhdGlvbkVudHJpZXMuZmluZCgoZSkgPT4gZS51cmwgPT09IHVybCkpLmZpbHRlcihCb29sZWFuKSA6IG5hdmlnYXRpb25FbnRyaWVzO1xuICAgICRbMF0gPSBmaWx0ZXJlZFVybHM7XG4gICAgJFsxXSA9IG5hdmlnYXRpb25FbnRyaWVzO1xuICAgICRbMl0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMl07XG4gIH1cbiAgY29uc3QgZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcyA9IHQxO1xuICBsZXQgdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbM10gIT09IG5hdmlnYXRpb25FbnRyaWVzKSB7XG4gICAgdDIgPSAoKSA9PiB7XG4gICAgICBmdXNlLmN1cnJlbnQgPSBuZXcgRnVzZShuYXZpZ2F0aW9uRW50cmllcywge1xuICAgICAgICBrZXlzOiBbXCJuYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJncm91cFwiLCBcInBhdGhcIl1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdDMgPSBbbmF2aWdhdGlvbkVudHJpZXNdO1xuICAgICRbM10gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAkWzRdID0gdDI7XG4gICAgJFs1XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs0XTtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgdXNlRWZmZWN0KHQyLCB0Myk7XG4gIGxldCB0NDtcbiAgaWYgKCRbNl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDQgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgc2V0RmlsdGVyZWRVcmxzKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gZnVzZS5jdXJyZW50Py5zZWFyY2godmFsdWUpO1xuICAgICAgICBpZiAoc2VhcmNoUmVzdWx0KSB7XG4gICAgICAgICAgc2V0RmlsdGVyZWRVcmxzKHNlYXJjaFJlc3VsdC5tYXAoX3RlbXAkYikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzZdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzZdO1xuICB9XG4gIGNvbnN0IHVwZGF0ZVNlYXJjaFJlc3VsdHMgPSB0NDtcbiAgbGV0IFQwO1xuICBsZXQgYWRkaXRpb25hbFBsdWdpbkNoaWxkcmVuRW5kO1xuICBsZXQgYWRkaXRpb25hbFBsdWdpblNlY3Rpb25zO1xuICBsZXQgdDEwO1xuICBsZXQgdDExO1xuICBsZXQgdDEyO1xuICBsZXQgdDEzO1xuICBsZXQgdDU7XG4gIGxldCB0NjtcbiAgbGV0IHQ3O1xuICBsZXQgdDg7XG4gIGxldCB0OTtcbiAgaWYgKCRbN10gIT09IGFkZGl0aW9uYWxBY3Rpb25zIHx8ICRbOF0gIT09IGFkZGl0aW9uYWxDaGlsZHJlblN0YXJ0IHx8ICRbOV0gIT09IGNvbnRhaW5lclJlZiB8fCAkWzEwXSAhPT0gY29udGV4dCB8fCAkWzExXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucyB8fCAkWzEyXSAhPT0gZGlyZWN0aW9uIHx8ICRbMTNdICE9PSBmaWx0ZXJlZE5hdmlnYXRpb25FbnRyaWVzIHx8ICRbMTRdICE9PSBmaWx0ZXJlZFVybHMgfHwgJFsxNV0gIT09IGdyb3VwcyB8fCAkWzE2XSAhPT0gcGVyZm9ybWluZ1NlYXJjaCkge1xuICAgIGNvbnN0IGZpbHRlcmVkR3JvdXBzID0gZmlsdGVyZWRVcmxzID8gZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcy5tYXAoX3RlbXAyJDUpIDogW107XG4gICAgY29uc3QgYWxsR3JvdXBzID0gZmlsdGVyZWRVcmxzID8gZmlsdGVyZWRHcm91cHMuZmlsdGVyKChncm91cCwgaW5kZXgpID0+IGZpbHRlcmVkR3JvdXBzLmluZGV4T2YoZ3JvdXApID09PSBpbmRleCkgOiBbLi4uZ3JvdXBzXTtcbiAgICBpZiAoZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcy5maWx0ZXIoX3RlbXAzJDIpLmxlbmd0aCA+IDAgfHwgZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFsbEdyb3Vwcy5wdXNoKHZvaWQgMCk7XG4gICAgfVxuICAgIGxldCBhZGRpdGlvbmFsUGx1Z2luQ2hpbGRyZW5TdGFydDtcbiAgICBpZiAoY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucykge1xuICAgICAgbGV0IHQxNDM7XG4gICAgICBpZiAoJFsyOV0gIT09IGNvbnRleHQgfHwgJFszMF0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvblByb3BzID0ge1xuICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgfTtcbiAgICAgICAgdDE0MyA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMuZmlsdGVyKF90ZW1wNCQxKS5tYXAoKHBsdWdpbl8wLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IHBsdWdpbl8wLmhvbWVQYWdlLmluY2x1ZGVTZWN0aW9uKHNlY3Rpb25Qcm9wcyk7XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTmF2aWdhdGlvbkdyb3VwLCB7IGdyb3VwOiBzZWN0aW9uLnRpdGxlLCBjaGlsZHJlbjogc2VjdGlvbi5jaGlsZHJlbiB9LCBgcGx1Z2luX3NlY3Rpb25fJHtwbHVnaW5fMC5rZXl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkWzI5XSA9IGNvbnRleHQ7XG4gICAgICAgICRbMzBdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgICAgICAgJFszMV0gPSB0MTQzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDE0MyA9ICRbMzFdO1xuICAgICAgfVxuICAgICAgbGV0IHQxNTM7XG4gICAgICBpZiAoJFszMl0gIT09IHQxNDMpIHtcbiAgICAgICAgdDE1MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHQxNDMgfSk7XG4gICAgICAgICRbMzJdID0gdDE0MztcbiAgICAgICAgJFszM10gPSB0MTUzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDE1MyA9ICRbMzNdO1xuICAgICAgfVxuICAgICAgYWRkaXRpb25hbFBsdWdpblNlY3Rpb25zID0gdDE1MztcbiAgICAgIGxldCB0MTYyO1xuICAgICAgaWYgKCRbMzRdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zKSB7XG4gICAgICAgIHQxNjIgPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zLmZpbHRlcihfdGVtcDUkMSkubWFwKF90ZW1wNiQxKTtcbiAgICAgICAgJFszNF0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICAgICAkWzM1XSA9IHQxNjI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MTYyID0gJFszNV07XG4gICAgICB9XG4gICAgICBsZXQgdDE3MjtcbiAgICAgIGlmICgkWzM2XSAhPT0gdDE2Mikge1xuICAgICAgICB0MTcyID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0yXCIsIGNoaWxkcmVuOiB0MTYyIH0pO1xuICAgICAgICAkWzM2XSA9IHQxNjI7XG4gICAgICAgICRbMzddID0gdDE3MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQxNzIgPSAkWzM3XTtcbiAgICAgIH1cbiAgICAgIGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlblN0YXJ0ID0gdDE3MjtcbiAgICAgIGxldCB0MTg7XG4gICAgICBpZiAoJFszOF0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMpIHtcbiAgICAgICAgdDE4ID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucy5maWx0ZXIoX3RlbXA3KS5tYXAoX3RlbXA4KTtcbiAgICAgICAgJFszOF0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICAgICAkWzM5XSA9IHQxODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQxOCA9ICRbMzldO1xuICAgICAgfVxuICAgICAgbGV0IHQxOTtcbiAgICAgIGlmICgkWzQwXSAhPT0gdDE4KSB7XG4gICAgICAgIHQxOSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMlwiLCBjaGlsZHJlbjogdDE4IH0pO1xuICAgICAgICAkWzQwXSA9IHQxODtcbiAgICAgICAgJFs0MV0gPSB0MTk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MTkgPSAkWzQxXTtcbiAgICAgIH1cbiAgICAgIGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlbkVuZCA9IHQxOTtcbiAgICB9XG4gICAgdDExID0gXCJob21lX3BhZ2VcIjtcbiAgICB0MTIgPSBjb250YWluZXJSZWY7XG4gICAgdDEzID0gXCJweS0yIG92ZXJmbG93LWF1dG8gaC1mdWxsIHctZnVsbFwiO1xuICAgIFQwID0gQ29udGFpbmVyO1xuICAgIHQ1ID0gXCI2eGxcIjtcbiAgICBjb25zdCB0MTQyID0gZGlyZWN0aW9uID09PSBcImRvd25cIiA/IC04NCA6IDA7XG4gICAgbGV0IHQxNTI7XG4gICAgaWYgKCRbNDJdICE9PSB0MTQyKSB7XG4gICAgICB0MTUyID0ge1xuICAgICAgICB0b3A6IHQxNDJcbiAgICAgIH07XG4gICAgICAkWzQyXSA9IHQxNDI7XG4gICAgICAkWzQzXSA9IHQxNTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxNTIgPSAkWzQzXTtcbiAgICB9XG4gICAgbGV0IHQxNjtcbiAgICBpZiAoJFs0NF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICB0MTYgPSAvKiBAX19QVVJFX18gKi8ganN4KFNlYXJjaEJhciwgeyBvblRleHRTZWFyY2g6IHVwZGF0ZVNlYXJjaFJlc3VsdHMsIHBsYWNlaG9sZGVyOiBcIlNlYXJjaCBjb2xsZWN0aW9uc1wiLCBsYXJnZTogZmFsc2UsIGF1dG9Gb2N1czogdHJ1ZSwgaW5uZXJDbGFzc05hbWU6IFwidy1mdWxsXCIsIGNsYXNzTmFtZTogXCJ3LWZ1bGwgZmxleC1ncm93XCIgfSk7XG4gICAgICAkWzQ0XSA9IHQxNjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDE2ID0gJFs0NF07XG4gICAgfVxuICAgIGlmICgkWzQ1XSAhPT0gYWRkaXRpb25hbEFjdGlvbnMgfHwgJFs0Nl0gIT09IHQxNTIpIHtcbiAgICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidy1mdWxsIHN0aWNreSBweS00IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTQwMCBlYXNlLWluLW91dCB0b3AtMCB6LTEwIGZsZXggZmxleC1yb3cgZ2FwLTRcIiwgc3R5bGU6IHQxNTIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHQxNixcbiAgICAgICAgYWRkaXRpb25hbEFjdGlvbnNcbiAgICAgIF0gfSk7XG4gICAgICAkWzQ1XSA9IGFkZGl0aW9uYWxBY3Rpb25zO1xuICAgICAgJFs0Nl0gPSB0MTUyO1xuICAgICAgJFs0N10gPSB0NjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDYgPSAkWzQ3XTtcbiAgICB9XG4gICAgaWYgKCRbNDhdICE9PSBwZXJmb3JtaW5nU2VhcmNoKSB7XG4gICAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRmF2b3VyaXRlc1ZpZXcsIHsgaGlkZGVuOiBwZXJmb3JtaW5nU2VhcmNoIH0pO1xuICAgICAgJFs0OF0gPSBwZXJmb3JtaW5nU2VhcmNoO1xuICAgICAgJFs0OV0gPSB0NztcbiAgICB9IGVsc2Uge1xuICAgICAgdDcgPSAkWzQ5XTtcbiAgICB9XG4gICAgdDggPSBhZGRpdGlvbmFsQ2hpbGRyZW5TdGFydDtcbiAgICB0OSA9IGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlblN0YXJ0O1xuICAgIGxldCB0MTc7XG4gICAgaWYgKCRbNTBdICE9PSBjb250ZXh0IHx8ICRbNTFdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zIHx8ICRbNTJdICE9PSBmaWx0ZXJlZE5hdmlnYXRpb25FbnRyaWVzIHx8ICRbNTNdICE9PSBwZXJmb3JtaW5nU2VhcmNoKSB7XG4gICAgICB0MTcgPSAoZ3JvdXBfMCwgaW5kZXhfMCkgPT4ge1xuICAgICAgICBjb25zdCBBZGRpdGlvbmFsQ2FyZHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWN0aW9uUHJvcHMgPSB7XG4gICAgICAgICAgZ3JvdXA6IGdyb3VwXzAsXG4gICAgICAgICAgY29udGV4dFxuICAgICAgICB9O1xuICAgICAgICBpZiAoY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucykge1xuICAgICAgICAgIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luXzUpID0+IHtcbiAgICAgICAgICAgIGlmIChwbHVnaW5fNS5ob21lUGFnZT8uQWRkaXRpb25hbENhcmRzKSB7XG4gICAgICAgICAgICAgIEFkZGl0aW9uYWxDYXJkcy5wdXNoKC4uLnRvQXJyYXkocGx1Z2luXzUuaG9tZVBhZ2U/LkFkZGl0aW9uYWxDYXJkcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRoaXNHcm91cENvbGxlY3Rpb25zID0gZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcy5maWx0ZXIoKGVudHJ5XzApID0+IGVudHJ5XzAuZ3JvdXAgPT09IGdyb3VwXzAgfHwgIWVudHJ5XzAuZ3JvdXAgJiYgZ3JvdXBfMCA9PT0gdm9pZCAwKTtcbiAgICAgICAgaWYgKHRoaXNHcm91cENvbGxlY3Rpb25zLmxlbmd0aCA9PT0gMCAmJiAoQWRkaXRpb25hbENhcmRzLmxlbmd0aCA9PT0gMCB8fCBwZXJmb3JtaW5nU2VhcmNoKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE5hdmlnYXRpb25Hcm91cCwgeyBncm91cDogZ3JvdXBfMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTRcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICB0aGlzR3JvdXBDb2xsZWN0aW9ucy5tYXAoKGVudHJ5XzEpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29sLXNwYW4tMVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChOYXZpZ2F0aW9uQ2FyZEJpbmRpbmcsIHsgLi4uZW50cnlfMSwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGV2ZW50O1xuICAgICAgICAgICAgaWYgKGVudHJ5XzEudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgZXZlbnQgPSBcImhvbWVfbmF2aWdhdGVfdG9fY29sbGVjdGlvblwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5XzEudHlwZSA9PT0gXCJ2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IFwiaG9tZV9uYXZpZ2F0ZV90b192aWV3XCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5XzEudHlwZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgICBldmVudCA9IFwiaG9tZV9uYXZpZ2F0ZV90b19hZG1pbl92aWV3XCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50ID0gXCJ1bm1hcHBlZF9ldmVudFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5hbmFseXRpY3NDb250cm9sbGVyPy5vbkFuYWx5dGljc0V2ZW50Py4oZXZlbnQsIHtcbiAgICAgICAgICAgICAgcGF0aDogZW50cnlfMS5wYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IH0pIH0sIGBuYXZfJHtlbnRyeV8xLmdyb3VwfV8ke2VudHJ5XzEubmFtZX1gKSksXG4gICAgICAgICAgZ3JvdXBfMD8udG9Mb3dlckNhc2UoKSAhPT0gXCJhZG1pblwiICYmIEFkZGl0aW9uYWxDYXJkcyAmJiBBZGRpdGlvbmFsQ2FyZHMubWFwKChBZGRpdGlvbmFsQ2FyZCwgaV8yKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQWRkaXRpb25hbENhcmQsIHsgLi4uYWN0aW9uUHJvcHMgfSkgfSwgYG5hdl8ke2dyb3VwXzB9X2FkZF8ke2lfMn1gKSlcbiAgICAgICAgXSB9KSB9LCBgcGx1Z2luX3NlY3Rpb25fJHtncm91cF8wfWApO1xuICAgICAgfTtcbiAgICAgICRbNTBdID0gY29udGV4dDtcbiAgICAgICRbNTFdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgICAgICRbNTJdID0gZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcztcbiAgICAgICRbNTNdID0gcGVyZm9ybWluZ1NlYXJjaDtcbiAgICAgICRbNTRdID0gdDE3O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MTcgPSAkWzU0XTtcbiAgICB9XG4gICAgdDEwID0gYWxsR3JvdXBzLm1hcCh0MTcpO1xuICAgICRbN10gPSBhZGRpdGlvbmFsQWN0aW9ucztcbiAgICAkWzhdID0gYWRkaXRpb25hbENoaWxkcmVuU3RhcnQ7XG4gICAgJFs5XSA9IGNvbnRhaW5lclJlZjtcbiAgICAkWzEwXSA9IGNvbnRleHQ7XG4gICAgJFsxMV0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICRbMTJdID0gZGlyZWN0aW9uO1xuICAgICRbMTNdID0gZmlsdGVyZWROYXZpZ2F0aW9uRW50cmllcztcbiAgICAkWzE0XSA9IGZpbHRlcmVkVXJscztcbiAgICAkWzE1XSA9IGdyb3VwcztcbiAgICAkWzE2XSA9IHBlcmZvcm1pbmdTZWFyY2g7XG4gICAgJFsxN10gPSBUMDtcbiAgICAkWzE4XSA9IGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlbkVuZDtcbiAgICAkWzE5XSA9IGFkZGl0aW9uYWxQbHVnaW5TZWN0aW9ucztcbiAgICAkWzIwXSA9IHQxMDtcbiAgICAkWzIxXSA9IHQxMTtcbiAgICAkWzIyXSA9IHQxMjtcbiAgICAkWzIzXSA9IHQxMztcbiAgICAkWzI0XSA9IHQ1O1xuICAgICRbMjVdID0gdDY7XG4gICAgJFsyNl0gPSB0NztcbiAgICAkWzI3XSA9IHQ4O1xuICAgICRbMjhdID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgVDAgPSAkWzE3XTtcbiAgICBhZGRpdGlvbmFsUGx1Z2luQ2hpbGRyZW5FbmQgPSAkWzE4XTtcbiAgICBhZGRpdGlvbmFsUGx1Z2luU2VjdGlvbnMgPSAkWzE5XTtcbiAgICB0MTAgPSAkWzIwXTtcbiAgICB0MTEgPSAkWzIxXTtcbiAgICB0MTIgPSAkWzIyXTtcbiAgICB0MTMgPSAkWzIzXTtcbiAgICB0NSA9ICRbMjRdO1xuICAgIHQ2ID0gJFsyNV07XG4gICAgdDcgPSAkWzI2XTtcbiAgICB0OCA9ICRbMjddO1xuICAgIHQ5ID0gJFsyOF07XG4gIH1cbiAgbGV0IHQxNDtcbiAgaWYgKCRbNTVdICE9PSBUMCB8fCAkWzU2XSAhPT0gYWRkaXRpb25hbENoaWxkcmVuRW5kIHx8ICRbNTddICE9PSBhZGRpdGlvbmFsUGx1Z2luQ2hpbGRyZW5FbmQgfHwgJFs1OF0gIT09IGFkZGl0aW9uYWxQbHVnaW5TZWN0aW9ucyB8fCAkWzU5XSAhPT0gdDEwIHx8ICRbNjBdICE9PSB0NSB8fCAkWzYxXSAhPT0gdDYgfHwgJFs2Ml0gIT09IHQ3IHx8ICRbNjNdICE9PSB0OCB8fCAkWzY0XSAhPT0gdDkpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhUMCwgeyBtYXhXaWR0aDogdDUsIGNoaWxkcmVuOiBbXG4gICAgICB0NixcbiAgICAgIHQ3LFxuICAgICAgdDgsXG4gICAgICB0OSxcbiAgICAgIHQxMCxcbiAgICAgIGFkZGl0aW9uYWxQbHVnaW5TZWN0aW9ucyxcbiAgICAgIGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlbkVuZCxcbiAgICAgIGFkZGl0aW9uYWxDaGlsZHJlbkVuZFxuICAgIF0gfSk7XG4gICAgJFs1NV0gPSBUMDtcbiAgICAkWzU2XSA9IGFkZGl0aW9uYWxDaGlsZHJlbkVuZDtcbiAgICAkWzU3XSA9IGFkZGl0aW9uYWxQbHVnaW5DaGlsZHJlbkVuZDtcbiAgICAkWzU4XSA9IGFkZGl0aW9uYWxQbHVnaW5TZWN0aW9ucztcbiAgICAkWzU5XSA9IHQxMDtcbiAgICAkWzYwXSA9IHQ1O1xuICAgICRbNjFdID0gdDY7XG4gICAgJFs2Ml0gPSB0NztcbiAgICAkWzYzXSA9IHQ4O1xuICAgICRbNjRdID0gdDk7XG4gICAgJFs2NV0gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFs2NV07XG4gIH1cbiAgbGV0IHQxNTtcbiAgaWYgKCRbNjZdICE9PSB0MTEgfHwgJFs2N10gIT09IHQxMiB8fCAkWzY4XSAhPT0gdDEzIHx8ICRbNjldICE9PSB0MTQpIHtcbiAgICB0MTUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgaWQ6IHQxMSwgcmVmOiB0MTIsIGNsYXNzTmFtZTogdDEzLCBjaGlsZHJlbjogdDE0IH0pO1xuICAgICRbNjZdID0gdDExO1xuICAgICRbNjddID0gdDEyO1xuICAgICRbNjhdID0gdDEzO1xuICAgICRbNjldID0gdDE0O1xuICAgICRbNzBdID0gdDE1O1xuICB9IGVsc2Uge1xuICAgIHQxNSA9ICRbNzBdO1xuICB9XG4gIHJldHVybiB0MTU7XG59XG5mdW5jdGlvbiBfdGVtcDgocGx1Z2luXzQsIGlfMSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBwbHVnaW5fNC5ob21lUGFnZS5hZGRpdGlvbmFsQ2hpbGRyZW5FbmQgfSwgYHBsdWdpbl9jaGlsZHJlbl9zdGFydF8ke2lfMX1gKTtcbn1cbmZ1bmN0aW9uIF90ZW1wNyhwbHVnaW5fMykge1xuICByZXR1cm4gcGx1Z2luXzMuaG9tZVBhZ2U/LmFkZGl0aW9uYWxDaGlsZHJlbkVuZDtcbn1cbmZ1bmN0aW9uIF90ZW1wNiQxKHBsdWdpbl8yLCBpXzApIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogcGx1Z2luXzIuaG9tZVBhZ2UuYWRkaXRpb25hbENoaWxkcmVuU3RhcnQgfSwgYHBsdWdpbl9jaGlsZHJlbl9zdGFydF8ke2lfMH1gKTtcbn1cbmZ1bmN0aW9uIF90ZW1wNSQxKHBsdWdpbl8xKSB7XG4gIHJldHVybiBwbHVnaW5fMS5ob21lUGFnZT8uYWRkaXRpb25hbENoaWxkcmVuU3RhcnQ7XG59XG5mdW5jdGlvbiBfdGVtcDQkMShwbHVnaW4pIHtcbiAgcmV0dXJuIHBsdWdpbi5ob21lUGFnZT8uaW5jbHVkZVNlY3Rpb247XG59XG5mdW5jdGlvbiBfdGVtcDMkMihlXzEpIHtcbiAgcmV0dXJuICFlXzEuZ3JvdXA7XG59XG5mdW5jdGlvbiBfdGVtcDIkNShlbnRyeSkge1xuICByZXR1cm4gZW50cnkuZ3JvdXA7XG59XG5mdW5jdGlvbiBfdGVtcCRiKGVfMCkge1xuICByZXR1cm4gZV8wLml0ZW0udXJsO1xufVxuZnVuY3Rpb24gRW50aXR5Q29sbGVjdGlvblZpZXdBY3Rpb25zKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDQxKTtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgcmVsYXRpdmVQYXRoLFxuICAgIHBhcmVudENvbGxlY3Rpb25JZHMsXG4gICAgb25OZXdDbGljayxcbiAgICBvbk11bHRpcGxlRGVsZXRlQ2xpY2ssXG4gICAgc2VsZWN0aW9uRW5hYmxlZCxcbiAgICBwYXRoLFxuICAgIHNlbGVjdGlvbkNvbnRyb2xsZXIsXG4gICAgdGFibGVDb250cm9sbGVyLFxuICAgIGNvbGxlY3Rpb25FbnRpdGllc0NvdW50XG4gIH0gPSB0MDtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucykge1xuICAgIHQxID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucyA/PyBbXTtcbiAgICAkWzBdID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGNvbnN0IHBsdWdpbnMgPSB0MTtcbiAgY29uc3QgYXV0aENvbnRyb2xsZXIgPSB1c2VBdXRoQ29udHJvbGxlcigpO1xuICBjb25zdCBsYXJnZUxheW91dCA9IHVzZUxhcmdlTGF5b3V0KCk7XG4gIGNvbnN0IHNlbGVjdGVkRW50aXRpZXMgPSBzZWxlY3Rpb25Db250cm9sbGVyLnNlbGVjdGVkRW50aXRpZXM7XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gIT09IGF1dGhDb250cm9sbGVyIHx8ICRbM10gIT09IGNvbGxlY3Rpb24gfHwgJFs0XSAhPT0gbGFyZ2VMYXlvdXQgfHwgJFs1XSAhPT0gb25OZXdDbGljayB8fCAkWzZdICE9PSBwYXRoKSB7XG4gICAgdDIgPSBjYW5DcmVhdGVFbnRpdHkoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHBhdGgsIG51bGwpICYmIG9uTmV3Q2xpY2sgJiYgKGxhcmdlTGF5b3V0ID8gLyogQF9fUFVSRV9fICovIGpzeHMoQnV0dG9uLCB7IGlkOiBgYWRkX2VudGl0eV8ke3BhdGh9YCwgb25DbGljazogb25OZXdDbGljaywgc3RhcnRJY29uOiAvKiBAX19QVVJFX18gKi8ganN4KEFkZEljb24sIHt9KSwgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCBjaGlsZHJlbjogW1xuICAgICAgXCJBZGQgXCIsXG4gICAgICBjb2xsZWN0aW9uLnNpbmd1bGFyTmFtZSA/PyBjb2xsZWN0aW9uLm5hbWVcbiAgICBdIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgaWQ6IGBhZGRfZW50aXR5XyR7cGF0aH1gLCBvbkNsaWNrOiBvbk5ld0NsaWNrLCB2YXJpYW50OiBcImZpbGxlZFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEFkZEljb24sIHt9KSB9KSk7XG4gICAgJFsyXSA9IGF1dGhDb250cm9sbGVyO1xuICAgICRbM10gPSBjb2xsZWN0aW9uO1xuICAgICRbNF0gPSBsYXJnZUxheW91dDtcbiAgICAkWzVdID0gb25OZXdDbGljaztcbiAgICAkWzZdID0gcGF0aDtcbiAgICAkWzddID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzddO1xuICB9XG4gIGNvbnN0IGFkZEJ1dHRvbiA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzhdICE9PSBhdXRoQ29udHJvbGxlciB8fCAkWzldICE9PSBjb2xsZWN0aW9uIHx8ICRbMTBdICE9PSBwYXRoKSB7XG4gICAgdDMgPSBjYW5EZWxldGVFbnRpdHkoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHBhdGgsIG51bGwpO1xuICAgICRbOF0gPSBhdXRoQ29udHJvbGxlcjtcbiAgICAkWzldID0gY29sbGVjdGlvbjtcbiAgICAkWzEwXSA9IHBhdGg7XG4gICAgJFsxMV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTFdO1xuICB9XG4gIGNvbnN0IG11bHRpcGxlRGVsZXRlRW5hYmxlZCA9IHQzO1xuICBsZXQgbXVsdGlwbGVEZWxldGVCdXR0b247XG4gIGlmIChzZWxlY3Rpb25FbmFibGVkKSB7XG4gICAgbGV0IHQ0MjtcbiAgICBpZiAoJFsxMl0gIT09IGxhcmdlTGF5b3V0IHx8ICRbMTNdICE9PSBtdWx0aXBsZURlbGV0ZUVuYWJsZWQgfHwgJFsxNF0gIT09IG9uTXVsdGlwbGVEZWxldGVDbGljayB8fCAkWzE1XSAhPT0gc2VsZWN0ZWRFbnRpdGllcz8ubGVuZ3RoKSB7XG4gICAgICB0NDIgPSBsYXJnZUxheW91dCA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJ1dHRvbiwgeyB2YXJpYW50OiBcInRleHRcIiwgZGlzYWJsZWQ6ICFzZWxlY3RlZEVudGl0aWVzPy5sZW5ndGggfHwgIW11bHRpcGxlRGVsZXRlRW5hYmxlZCwgc3RhcnRJY29uOiAvKiBAX19QVVJFX18gKi8ganN4KERlbGV0ZUljb24sIHt9KSwgb25DbGljazogb25NdWx0aXBsZURlbGV0ZUNsaWNrLCBjb2xvcjogXCJwcmltYXJ5XCIsIGNsYXNzTmFtZTogXCJsZzp3LTIwXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIFwiKFwiLFxuICAgICAgICBzZWxlY3RlZEVudGl0aWVzPy5sZW5ndGgsXG4gICAgICAgIFwiKVwiXG4gICAgICBdIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNvbG9yOiBcInByaW1hcnlcIiwgZGlzYWJsZWQ6ICFzZWxlY3RlZEVudGl0aWVzPy5sZW5ndGggfHwgIW11bHRpcGxlRGVsZXRlRW5hYmxlZCwgb25DbGljazogb25NdWx0aXBsZURlbGV0ZUNsaWNrLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEZWxldGVJY29uLCB7fSkgfSk7XG4gICAgICAkWzEyXSA9IGxhcmdlTGF5b3V0O1xuICAgICAgJFsxM10gPSBtdWx0aXBsZURlbGV0ZUVuYWJsZWQ7XG4gICAgICAkWzE0XSA9IG9uTXVsdGlwbGVEZWxldGVDbGljaztcbiAgICAgICRbMTVdID0gc2VsZWN0ZWRFbnRpdGllcz8ubGVuZ3RoO1xuICAgICAgJFsxNl0gPSB0NDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ0MiA9ICRbMTZdO1xuICAgIH1cbiAgICBjb25zdCBidXR0b24gPSB0NDI7XG4gICAgY29uc3QgdDUyID0gbXVsdGlwbGVEZWxldGVFbmFibGVkID8gXCJEZWxldGVcIiA6IFwiWW91IGhhdmUgc2VsZWN0ZWQgYXQgbGVhc3Qgb25lIGVudGl0eSB5b3UgY2Fubm90IGRlbGV0ZVwiO1xuICAgIGxldCB0NjI7XG4gICAgaWYgKCRbMTddICE9PSBidXR0b24gfHwgJFsxOF0gIT09IHQ1Mikge1xuICAgICAgdDYyID0gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiB0NTIsIGNoaWxkcmVuOiBidXR0b24gfSk7XG4gICAgICAkWzE3XSA9IGJ1dHRvbjtcbiAgICAgICRbMThdID0gdDUyO1xuICAgICAgJFsxOV0gPSB0NjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ2MiA9ICRbMTldO1xuICAgIH1cbiAgICBtdWx0aXBsZURlbGV0ZUJ1dHRvbiA9IHQ2MjtcbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzIwXSAhPT0gY29sbGVjdGlvbiB8fCAkWzIxXSAhPT0gY29sbGVjdGlvbkVudGl0aWVzQ291bnQgfHwgJFsyMl0gIT09IGNvbnRleHQgfHwgJFsyM10gIT09IHBhcmVudENvbGxlY3Rpb25JZHMgfHwgJFsyNF0gIT09IHBhdGggfHwgJFsyNV0gIT09IHJlbGF0aXZlUGF0aCB8fCAkWzI2XSAhPT0gc2VsZWN0aW9uQ29udHJvbGxlciB8fCAkWzI3XSAhPT0gdGFibGVDb250cm9sbGVyKSB7XG4gICAgdDQgPSB7XG4gICAgICBwYXRoLFxuICAgICAgcmVsYXRpdmVQYXRoLFxuICAgICAgcGFyZW50Q29sbGVjdGlvbklkcyxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBzZWxlY3Rpb25Db250cm9sbGVyLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRhYmxlQ29udHJvbGxlcixcbiAgICAgIGNvbGxlY3Rpb25FbnRpdGllc0NvdW50XG4gICAgfTtcbiAgICAkWzIwXSA9IGNvbGxlY3Rpb247XG4gICAgJFsyMV0gPSBjb2xsZWN0aW9uRW50aXRpZXNDb3VudDtcbiAgICAkWzIyXSA9IGNvbnRleHQ7XG4gICAgJFsyM10gPSBwYXJlbnRDb2xsZWN0aW9uSWRzO1xuICAgICRbMjRdID0gcGF0aDtcbiAgICAkWzI1XSA9IHJlbGF0aXZlUGF0aDtcbiAgICAkWzI2XSA9IHNlbGVjdGlvbkNvbnRyb2xsZXI7XG4gICAgJFsyN10gPSB0YWJsZUNvbnRyb2xsZXI7XG4gICAgJFsyOF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMjhdO1xuICB9XG4gIGNvbnN0IGFjdGlvblByb3BzID0gdDQ7XG4gIGxldCBhY3Rpb25zO1xuICBpZiAoJFsyOV0gIT09IGFjdGlvblByb3BzIHx8ICRbMzBdICE9PSBjb2xsZWN0aW9uLkFjdGlvbnMgfHwgJFszMV0gIT09IHBsdWdpbnMpIHtcbiAgICBsZXQgdDUyO1xuICAgIGlmICgkWzMzXSAhPT0gYWN0aW9uUHJvcHMpIHtcbiAgICAgIHQ1MiA9IChBY3Rpb24sIGkpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChBY3Rpb24sIHsgLi4uYWN0aW9uUHJvcHMgfSkgfSwgYGFjdGlvbnNfJHtpfWApO1xuICAgICAgJFszM10gPSBhY3Rpb25Qcm9wcztcbiAgICAgICRbMzRdID0gdDUyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NTIgPSAkWzM0XTtcbiAgICB9XG4gICAgYWN0aW9ucyA9IHRvQXJyYXkoY29sbGVjdGlvbi5BY3Rpb25zKS5tYXAodDUyKTtcbiAgICBpZiAocGx1Z2lucykge1xuICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4sIGlfMCkgPT4ge1xuICAgICAgICBpZiAocGx1Z2luLmNvbGxlY3Rpb25WaWV3Py5Db2xsZWN0aW9uQWN0aW9ucykge1xuICAgICAgICAgIGFjdGlvbnMucHVzaCguLi50b0FycmF5KHBsdWdpbi5jb2xsZWN0aW9uVmlldz8uQ29sbGVjdGlvbkFjdGlvbnMpLm1hcCgoQWN0aW9uXzAsIGopID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChBY3Rpb25fMCwgeyAuLi5hY3Rpb25Qcm9wcywgLi4ucGx1Z2luLmNvbGxlY3Rpb25WaWV3Py5jb2xsZWN0aW9uQWN0aW9uc1Byb3BzIH0pIH0sIGBwbHVnaW5fYWN0aW9uc18ke2lfMH1fJHtqfWApKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAkWzI5XSA9IGFjdGlvblByb3BzO1xuICAgICRbMzBdID0gY29sbGVjdGlvbi5BY3Rpb25zO1xuICAgICRbMzFdID0gcGx1Z2lucztcbiAgICAkWzMyXSA9IGFjdGlvbnM7XG4gIH0gZWxzZSB7XG4gICAgYWN0aW9ucyA9ICRbMzJdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbMzVdICE9PSBhY3Rpb25zKSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGFjdGlvbnMgfSk7XG4gICAgJFszNV0gPSBhY3Rpb25zO1xuICAgICRbMzZdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzM2XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzM3XSAhPT0gYWRkQnV0dG9uIHx8ICRbMzhdICE9PSBtdWx0aXBsZURlbGV0ZUJ1dHRvbiB8fCAkWzM5XSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICB0NSxcbiAgICAgIG11bHRpcGxlRGVsZXRlQnV0dG9uLFxuICAgICAgYWRkQnV0dG9uXG4gICAgXSB9KTtcbiAgICAkWzM3XSA9IGFkZEJ1dHRvbjtcbiAgICAkWzM4XSA9IG11bHRpcGxlRGVsZXRlQnV0dG9uO1xuICAgICRbMzldID0gdDU7XG4gICAgJFs0MF0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbNDBdO1xuICB9XG4gIHJldHVybiB0Njtcbn1cbmZ1bmN0aW9uIHVzZURyYWdnYWJsZSh7XG4gIGNvbnRhaW5lclJlZixcbiAgaW5uZXJSZWYsXG4gIHgsXG4gIHksXG4gIG9uTW92ZVxufSkge1xuICBsZXQgcmVsWCA9IDA7XG4gIGxldCByZWxZID0gMDtcbiAgY29uc3QgbGlzdGVuaW5nUmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgb25Nb3VzZURvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwIHx8ICFjb250YWluZXJSZWYuY3VycmVudCB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkIHx8IGV2ZW50LmlubmVyQ2xpY2tlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICB4OiB4XzAsXG4gICAgICB5OiB5XzBcbiAgICB9ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmVsWCA9IGV2ZW50LnNjcmVlblggLSB4XzA7XG4gICAgcmVsWSA9IGV2ZW50LnNjcmVlblkgLSB5XzA7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgb25Nb3VzZVVwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgb25TZWxlY3QpO1xuICAgIGxpc3RlbmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3Qgb25Nb3VzZURvd25Jbm5lciA9IChldmVudF8wKSA9PiB7XG4gICAgZXZlbnRfMC5pbm5lckNsaWNrZWQgPSB0cnVlO1xuICB9O1xuICBjb25zdCBvblNlbGVjdCA9IChldmVudF8xKSA9PiB7XG4gICAgZXZlbnRfMS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50XzEuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG4gIGNvbnN0IG9uTW91c2VVcCA9IChldmVudF8yKSA9PiB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgb25Nb3VzZVVwKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgb25TZWxlY3QpO1xuICAgIGV2ZW50XzIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbGlzdGVuaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3Qgb25Nb3VzZU1vdmUgPSAoZXZlbnRfMykgPT4ge1xuICAgIGlmIChldmVudF8zLnRhcmdldC5sb2NhbE5hbWUgPT09IFwiaW5wdXRcIiB8fCAhbGlzdGVuaW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBvbk1vdmUoe1xuICAgICAgeDogZXZlbnRfMy5zY3JlZW5YIC0gcmVsWCxcbiAgICAgIHk6IGV2ZW50XzMuc2NyZWVuWSAtIHJlbFlcbiAgICB9KTtcbiAgICBldmVudF8zLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb250YWluZXJSZWYuY3VycmVudC5zdHlsZS50b3AgPSBgJHt5fXB4YDtcbiAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICB9XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGlubmVyQ3VycmVudCA9IGlubmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjdXJyZW50IHx8ICFpbm5lckN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAoaW5uZXJDdXJyZW50KSBpbm5lckN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bklubmVyKTtcbiAgICBpZiAoY3VycmVudCkgY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duKTtcbiAgICB1cGRhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnQpIGN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bik7XG4gICAgICBpZiAoaW5uZXJDdXJyZW50KSBpbm5lckN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bklubmVyKTtcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZVdpbmRvd1NpemUoKSB7XG4gIGNvbnN0ICQgPSBjKDMpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQwID0ge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgICRbMF0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMF07XG4gIH1cbiAgY29uc3QgW3NpemUsIHNldFNpemVdID0gdXNlU3RhdGUodDApO1xuICBsZXQgdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDEgPSAoKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVTaXplID0gZnVuY3Rpb24gdXBkYXRlU2l6ZTIoKSB7XG4gICAgICAgIHNldFNpemUoe1xuICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVTaXplKTtcbiAgICAgIHVwZGF0ZVNpemUoKTtcbiAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVTaXplKTtcbiAgICB9O1xuICAgIHQyID0gW107XG4gICAgJFsxXSA9IHQxO1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gICAgdDIgPSAkWzJdO1xuICB9XG4gIHVzZUxheW91dEVmZmVjdCh0MSwgdDIpO1xuICByZXR1cm4gc2l6ZTtcbn1cbmNvbnN0IEVsZW1lbnRSZXNpemVMaXN0ZW5lciA9ICh7XG4gIG9uUmVzaXplXG59KSA9PiB7XG4gIGNvbnN0IHJhZlJlZiA9IHVzZVJlZigwKTtcbiAgY29uc3Qgb2JqZWN0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBvblJlc2l6ZVJlZiA9IHVzZVJlZihvblJlc2l6ZSk7XG4gIG9uUmVzaXplUmVmLmN1cnJlbnQgPSBvblJlc2l6ZTtcbiAgY29uc3QgX29uUmVzaXplID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBpZiAocmFmUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgcmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgb25SZXNpemVSZWYuY3VycmVudChlKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBvbkxvYWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qgb2JqID0gb2JqZWN0UmVmLmN1cnJlbnQ7XG4gICAgaWYgKG9iaiAmJiBvYmouY29udGVudERvY3VtZW50ICYmIG9iai5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcbiAgICAgIG9iai5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBfb25SZXNpemUpO1xuICAgIH1cbiAgfSwgW19vblJlc2l6ZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9ial8wID0gb2JqZWN0UmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChvYmpfMCAmJiBvYmpfMC5jb250ZW50RG9jdW1lbnQgJiYgb2JqXzAuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3KSB7XG4gICAgICAgIG9ial8wLmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIF9vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW19vblJlc2l6ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcIm9iamVjdFwiLCB7IG9uTG9hZCwgcmVmOiBvYmplY3RSZWYsIHRhYkluZGV4OiAtMSwgdHlwZTogXCJ0ZXh0L2h0bWxcIiwgZGF0YTogXCJhYm91dDpibGFua1wiLCB0aXRsZTogXCJcIiwgc3R5bGU6IHtcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIHpJbmRleDogLTEsXG4gICAgb3BhY2l0eTogMFxuICB9IH0pO1xufTtcbmZ1bmN0aW9uIFBvcHVwRm9ybUZpZWxkKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDIpO1xuICBpZiAoIXByb3BzLm9wZW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSBwcm9wcykge1xuICAgIHQwID0gLyogQF9fUFVSRV9fICovIGpzeChQb3B1cEZvcm1GaWVsZExvYWRpbmcsIHsgLi4ucHJvcHMgfSk7XG4gICAgJFswXSA9IHByb3BzO1xuICAgICRbMV0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMV07XG4gIH1cbiAgcmV0dXJuIHQwO1xufVxuZnVuY3Rpb24gUG9wdXBGb3JtRmllbGRMb2FkaW5nKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDIzKTtcbiAgY29uc3Qge1xuICAgIHRhYmxlS2V5LFxuICAgIGVudGl0eUlkLFxuICAgIGN1c3RvbUZpZWxkVmFsaWRhdG9yLFxuICAgIHByb3BlcnR5S2V5LFxuICAgIGNvbGxlY3Rpb246IGlucHV0Q29sbGVjdGlvbixcbiAgICBwYXRoLFxuICAgIGNlbGxSZWN0LFxuICAgIG9wZW4sXG4gICAgb25DbG9zZSxcbiAgICBvbkNlbGxWYWx1ZUNoYW5nZSxcbiAgICBjb250YWluZXJcbiAgfSA9IHQwO1xuICBjb25zdCBkYXRhU291cmNlID0gdXNlRGF0YVNvdXJjZSgpO1xuICBjb25zdCBbZW50aXR5LCBzZXRFbnRpdHldID0gdXNlU3RhdGUodm9pZCAwKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gZGF0YVNvdXJjZSB8fCAkWzFdICE9PSBlbnRpdHlJZCB8fCAkWzJdICE9PSBpbnB1dENvbGxlY3Rpb24gfHwgJFszXSAhPT0gcGF0aCkge1xuICAgIHQxID0gKCkgPT4ge1xuICAgICAgaWYgKGVudGl0eUlkICYmIGlucHV0Q29sbGVjdGlvbikge1xuICAgICAgICBkYXRhU291cmNlLmZldGNoRW50aXR5KHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIGVudGl0eUlkLFxuICAgICAgICAgIGNvbGxlY3Rpb246IGlucHV0Q29sbGVjdGlvblxuICAgICAgICB9KS50aGVuKHNldEVudGl0eSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzBdID0gZGF0YVNvdXJjZTtcbiAgICAkWzFdID0gZW50aXR5SWQ7XG4gICAgJFsyXSA9IGlucHV0Q29sbGVjdGlvbjtcbiAgICAkWzNdID0gcGF0aDtcbiAgICAkWzRdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzRdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNV0gIT09IGVudGl0eUlkIHx8ICRbNl0gIT09IGlucHV0Q29sbGVjdGlvbikge1xuICAgIHQyID0gW2VudGl0eUlkLCBpbnB1dENvbGxlY3Rpb25dO1xuICAgICRbNV0gPSBlbnRpdHlJZDtcbiAgICAkWzZdID0gaW5wdXRDb2xsZWN0aW9uO1xuICAgICRbN10gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbN107XG4gIH1cbiAgdXNlRWZmZWN0KHQxLCB0Mik7XG4gIGlmICghZW50aXR5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs4XSAhPT0gY2VsbFJlY3QgfHwgJFs5XSAhPT0gY29udGFpbmVyIHx8ICRbMTBdICE9PSBjdXN0b21GaWVsZFZhbGlkYXRvciB8fCAkWzExXSAhPT0gZW50aXR5SWQgfHwgJFsxMl0gIT09IGlucHV0Q29sbGVjdGlvbiB8fCAkWzEzXSAhPT0gb25DZWxsVmFsdWVDaGFuZ2UgfHwgJFsxNF0gIT09IG9uQ2xvc2UgfHwgJFsxNV0gIT09IG9wZW4gfHwgJFsxNl0gIT09IHBhdGggfHwgJFsxN10gIT09IHByb3BlcnR5S2V5IHx8ICRbMThdICE9PSB0YWJsZUtleSkge1xuICAgIHQzID0ge1xuICAgICAgdGFibGVLZXksXG4gICAgICBlbnRpdHlJZCxcbiAgICAgIGN1c3RvbUZpZWxkVmFsaWRhdG9yLFxuICAgICAgcHJvcGVydHlLZXksXG4gICAgICBjb2xsZWN0aW9uOiBpbnB1dENvbGxlY3Rpb24sXG4gICAgICBwYXRoLFxuICAgICAgY2VsbFJlY3QsXG4gICAgICBvcGVuLFxuICAgICAgb25DbG9zZSxcbiAgICAgIG9uQ2VsbFZhbHVlQ2hhbmdlLFxuICAgICAgY29udGFpbmVyXG4gICAgfTtcbiAgICAkWzhdID0gY2VsbFJlY3Q7XG4gICAgJFs5XSA9IGNvbnRhaW5lcjtcbiAgICAkWzEwXSA9IGN1c3RvbUZpZWxkVmFsaWRhdG9yO1xuICAgICRbMTFdID0gZW50aXR5SWQ7XG4gICAgJFsxMl0gPSBpbnB1dENvbGxlY3Rpb247XG4gICAgJFsxM10gPSBvbkNlbGxWYWx1ZUNoYW5nZTtcbiAgICAkWzE0XSA9IG9uQ2xvc2U7XG4gICAgJFsxNV0gPSBvcGVuO1xuICAgICRbMTZdID0gcGF0aDtcbiAgICAkWzE3XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMThdID0gdGFibGVLZXk7XG4gICAgJFsxOV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTldO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbMjBdICE9PSBlbnRpdHkgfHwgJFsyMV0gIT09IHQzKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KFBvcHVwRm9ybUZpZWxkSW50ZXJuYWwsIHsgLi4udDMsIGVudGl0eSB9KTtcbiAgICAkWzIwXSA9IGVudGl0eTtcbiAgICAkWzIxXSA9IHQzO1xuICAgICRbMjJdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzIyXTtcbiAgfVxuICByZXR1cm4gdDQ7XG59XG5mdW5jdGlvbiBQb3B1cEZvcm1GaWVsZEludGVybmFsKHtcbiAgdGFibGVLZXksXG4gIGVudGl0eUlkLFxuICBjdXN0b21GaWVsZFZhbGlkYXRvcixcbiAgcHJvcGVydHlLZXksXG4gIGNvbGxlY3Rpb246IGlucHV0Q29sbGVjdGlvbixcbiAgcGF0aCxcbiAgY2VsbFJlY3QsXG4gIG9wZW4sXG4gIG9uQ2xvc2UsXG4gIG9uQ2VsbFZhbHVlQ2hhbmdlLFxuICBjb250YWluZXIsXG4gIGVudGl0eVxufSkge1xuICBjb25zdCBmaXJlQ01TQ29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0gdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgW3NhdmluZ0Vycm9yLCBzZXRTYXZpbmdFcnJvcl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbcG9wdXBMb2NhdGlvbiwgc2V0UG9wdXBMb2NhdGlvbl0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBjb2xsZWN0aW9uID0gaW5wdXRDb2xsZWN0aW9uID8gcmVzb2x2ZUNvbGxlY3Rpb24oe1xuICAgIGNvbGxlY3Rpb246IGlucHV0Q29sbGVjdGlvbixcbiAgICBwYXRoLFxuICAgIHZhbHVlczogZW50aXR5Py52YWx1ZXMsXG4gICAgZW50aXR5SWQsXG4gICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgfSkgOiB2b2lkIDA7XG4gIGNvbnN0IHdpbmRvd1NpemUgPSB1c2VXaW5kb3dTaXplKCk7XG4gIGNvbnN0IGRyYWdnYWJsZVJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaW5uZXJSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGluaXRpYWxQb3NpdGlvblNldCA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGdldEluaXRpYWxMb2NhdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWNlbGxSZWN0KSB0aHJvdyBFcnJvcihcImdldEluaXRpYWxMb2NhdGlvbiBlcnJvclwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogY2VsbFJlY3QubGVmdCA8IHdpbmRvd1NpemUud2lkdGggLSBjZWxsUmVjdC5yaWdodCA/IGNlbGxSZWN0LnggKyBjZWxsUmVjdC53aWR0aCAvIDIgOiBjZWxsUmVjdC54IC0gY2VsbFJlY3Qud2lkdGggLyAyLFxuICAgICAgeTogY2VsbFJlY3QudG9wIDwgd2luZG93U2l6ZS5oZWlnaHQgLSBjZWxsUmVjdC5ib3R0b20gPyBjZWxsUmVjdC55ICsgY2VsbFJlY3QuaGVpZ2h0IC8gMiA6IGNlbGxSZWN0LnkgLSBjZWxsUmVjdC5oZWlnaHQgLyAyXG4gICAgfTtcbiAgfSwgW2NlbGxSZWN0LCB3aW5kb3dTaXplLmhlaWdodCwgd2luZG93U2l6ZS53aWR0aF0pO1xuICBjb25zdCBub3JtYWxpemVQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKCh7XG4gICAgeCxcbiAgICB5XG4gIH0pID0+IHtcbiAgICBjb25zdCBkcmFnZ2FibGVCb3VuZGluZ1JlY3QgPSBkcmFnZ2FibGVSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKCFkcmFnZ2FibGVCb3VuZGluZ1JlY3QpIHRocm93IEVycm9yKFwibm9ybWFsaXplUG9zaXRpb24gY2FsbGVkIGJlZm9yZSBkcmFnZ2FibGVCb3VuZGluZ1JlY3QgaXMgc2V0XCIpO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBNYXRoLm1heCgwLCBNYXRoLm1pbih4LCB3aW5kb3dTaXplLndpZHRoIC0gZHJhZ2dhYmxlQm91bmRpbmdSZWN0LndpZHRoKSksXG4gICAgICB5OiBNYXRoLm1heCgwLCBNYXRoLm1pbih5LCB3aW5kb3dTaXplLmhlaWdodCAtIGRyYWdnYWJsZUJvdW5kaW5nUmVjdC5oZWlnaHQpKVxuICAgIH07XG4gIH0sIFt3aW5kb3dTaXplXSk7XG4gIGNvbnN0IHVwZGF0ZVBvcHVwTG9jYXRpb24gPSB1c2VDYWxsYmFjaygocG9zaXRpb24pID0+IHtcbiAgICBjb25zdCBkcmFnZ2FibGVCb3VuZGluZ1JlY3RfMCA9IGRyYWdnYWJsZVJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoIWNlbGxSZWN0IHx8ICFkcmFnZ2FibGVCb3VuZGluZ1JlY3RfMCkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gPz8gbm9ybWFsaXplUG9zaXRpb24oZ2V0SW5pdGlhbExvY2F0aW9uKCkpO1xuICAgIGlmICghcG9wdXBMb2NhdGlvbiB8fCBuZXdQb3NpdGlvbi54ICE9PSBwb3B1cExvY2F0aW9uLnggfHwgbmV3UG9zaXRpb24ueSAhPT0gcG9wdXBMb2NhdGlvbi55KSBzZXRQb3B1cExvY2F0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgfSwgW2NlbGxSZWN0LCBnZXRJbml0aWFsTG9jYXRpb24sIG5vcm1hbGl6ZVBvc2l0aW9uLCBwb3B1cExvY2F0aW9uXSk7XG4gIHVzZURyYWdnYWJsZSh7XG4gICAgY29udGFpbmVyUmVmOiBkcmFnZ2FibGVSZWYsXG4gICAgaW5uZXJSZWYsXG4gICAgeDogcG9wdXBMb2NhdGlvbj8ueCxcbiAgICB5OiBwb3B1cExvY2F0aW9uPy55LFxuICAgIG9uTW92ZTogdXBkYXRlUG9wdXBMb2NhdGlvblxuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbml0aWFsUG9zaXRpb25TZXQuY3VycmVudCA9IGZhbHNlO1xuICB9LCBbcHJvcGVydHlLZXksIGVudGl0eV0pO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRyYWdnYWJsZUJvdW5kaW5nUmVjdF8xID0gZHJhZ2dhYmxlUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICghY2VsbFJlY3QgfHwgIWRyYWdnYWJsZUJvdW5kaW5nUmVjdF8xIHx8IGluaXRpYWxQb3NpdGlvblNldC5jdXJyZW50KSByZXR1cm47XG4gICAgdXBkYXRlUG9wdXBMb2NhdGlvbigpO1xuICAgIGluaXRpYWxQb3NpdGlvblNldC5jdXJyZW50ID0gdHJ1ZTtcbiAgfSwgW2NlbGxSZWN0LCB1cGRhdGVQb3B1cExvY2F0aW9uLCBpbml0aWFsUG9zaXRpb25TZXQuY3VycmVudF0pO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVBvcHVwTG9jYXRpb24ocG9wdXBMb2NhdGlvbik7XG4gIH0sIFt3aW5kb3dTaXplLCBjZWxsUmVjdF0pO1xuICBjb25zdCB2YWxpZGF0aW9uU2NoZW1hID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbnRpdHlJZCkgcmV0dXJuO1xuICAgIHJldHVybiBnZXRZdXBFbnRpdHlTY2hlbWEoZW50aXR5SWQsIHByb3BlcnR5S2V5ICYmIGNvbGxlY3Rpb24ucHJvcGVydGllc1twcm9wZXJ0eUtleV0gPyB7XG4gICAgICBbcHJvcGVydHlLZXldOiBjb2xsZWN0aW9uLnByb3BlcnRpZXNbcHJvcGVydHlLZXldXG4gICAgfSA6IHt9LCBjdXN0b21GaWVsZFZhbGlkYXRvcik7XG4gIH0sIFtjb2xsZWN0aW9uLCBlbnRpdHlJZCwgcHJvcGVydHlLZXksIGN1c3RvbUZpZWxkVmFsaWRhdG9yXSk7XG4gIGNvbnN0IGFkYXB0UmVzaXplID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiB1cGRhdGVQb3B1cExvY2F0aW9uKHBvcHVwTG9jYXRpb24pO1xuICB9LCBbcG9wdXBMb2NhdGlvbiwgdXBkYXRlUG9wdXBMb2NhdGlvbl0pO1xuICBjb25zdCBzYXZlVmFsdWUgPSBhc3luYyAodmFsdWVzKSA9PiB7XG4gICAgc2V0U2F2aW5nRXJyb3IobnVsbCk7XG4gICAgaWYgKGlucHV0Q29sbGVjdGlvbiAmJiBlbnRpdHkgJiYgb25DZWxsVmFsdWVDaGFuZ2UgJiYgcHJvcGVydHlLZXkpIHtcbiAgICAgIHJldHVybiBvbkNlbGxWYWx1ZUNoYW5nZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZXNbcHJvcGVydHlLZXldLFxuICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgZGF0YTogZW50aXR5LFxuICAgICAgICBzZXRFcnJvcjogc2V0U2F2aW5nRXJyb3IsXG4gICAgICAgIG9uVmFsdWVVcGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH07XG4gIGNvbnN0IGZvcm1leCA9IHVzZUNyZWF0ZUZvcm1leCh7XG4gICAgaW5pdGlhbFZhbHVlczogZW50aXR5Py52YWx1ZXMgPz8ge30sXG4gICAgdmFsaWRhdGlvbjogKHZhbHVlc18wKSA9PiB7XG4gICAgICByZXR1cm4gdmFsaWRhdGlvblNjaGVtYT8udmFsaWRhdGUodmFsdWVzXzAsIHtcbiAgICAgICAgYWJvcnRFYXJseTogZmFsc2VcbiAgICAgIH0pLnRoZW4oKCkgPT4gKHt9KSkuY2F0Y2goeXVwVG9Gb3JtRXJyb3JzKTtcbiAgICB9LFxuICAgIHZhbGlkYXRlT25Jbml0aWFsUmVuZGVyOiB0cnVlLFxuICAgIG9uU3VibWl0OiAodmFsdWVzXzEsIGFjdGlvbnMpID0+IHtcbiAgICAgIHNhdmVWYWx1ZSh2YWx1ZXNfMSkudGhlbigoKSA9PiB7XG4gICAgICAgIGZvcm1leC5yZXNldEZvcm0oe1xuICAgICAgICAgIHZhbHVlczogdmFsdWVzXzFcbiAgICAgICAgfSk7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gYWN0aW9ucy5zZXRTdWJtaXR0aW5nKGZhbHNlKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qge1xuICAgIHZhbHVlczogdmFsdWVzXzIsXG4gICAgaXNTdWJtaXR0aW5nLFxuICAgIHNldEZpZWxkVmFsdWUsXG4gICAgaGFuZGxlU3VibWl0XG4gIH0gPSBmb3JtZXg7XG4gIGNvbnN0IGRpc2FibGVkID0gaXNTdWJtaXR0aW5nO1xuICBjb25zdCBmb3JtQ29udGV4dCA9IHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIGVudGl0eUlkLFxuICAgIHZhbHVlczogdmFsdWVzXzIsXG4gICAgcGF0aCxcbiAgICBzZXRGaWVsZFZhbHVlLFxuICAgIHNhdmU6IHNhdmVWYWx1ZSxcbiAgICBmb3JtZXgsXG4gICAgc3RhdHVzOiBcImV4aXN0aW5nXCIsXG4gICAgb3BlbkVudGl0eU1vZGU6IFwic2lkZV9wYW5lbFwiXG4gIH07XG4gIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydHlLZXkgJiYgZ2V0UHJvcGVydHlJblBhdGgoY29sbGVjdGlvbj8ucHJvcGVydGllcyA/PyB7fSwgcHJvcGVydHlLZXkpO1xuICBjb25zdCBmaWVsZFByb3BzID0gcHJvcGVydHlLZXkgJiYgcHJvcGVydHkgPyB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgZGlzYWJsZWQ6IGlzU3VibWl0dGluZyB8fCBpc1JlYWRPbmx5KHByb3BlcnR5KSB8fCAhIXByb3BlcnR5LmRpc2FibGVkLFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvbjogZmFsc2UsXG4gICAgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDogZmFsc2UsXG4gICAgY29udGV4dDogZm9ybUNvbnRleHQsXG4gICAgcGFydE9mQXJyYXk6IGZhbHNlLFxuICAgIG1pbmltYWxpc3RWaWV3OiBmYWxzZSxcbiAgICBhdXRvRm9jdXM6IG9wZW5cbiAgfSA6IHZvaWQgMDtcbiAgbGV0IGludGVybmFsRm9ybSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidy1bNzAwcHhdIG1heC13LWZ1bGwgbWF4LWgtWzg1dmhdXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImZvcm1cIiwgeyBvblN1Ym1pdDogaGFuZGxlU3VibWl0LCBub1ZhbGlkYXRlOiB0cnVlLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWItMSBwLTQgZmxleCBmbGV4LWNvbCByZWxhdGl2ZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZjogaW5uZXJSZWYsIGNsYXNzTmFtZTogXCJjdXJzb3ItYXV0b1wiLCBzdHlsZToge1xuICAgICAgY3Vyc29yOiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgfSwgY2hpbGRyZW46IGZpZWxkUHJvcHMgJiYgLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eUZpZWxkQmluZGluZywgeyAuLi5maWVsZFByb3BzIH0pIH0pIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRGlhbG9nQWN0aW9ucywgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCB0eXBlOiBcInN1Ym1pdFwiLCBkaXNhYmxlZCwgY2hpbGRyZW46IFwiU2F2ZVwiIH0pIH0pXG4gIF0gfSkgfSwgYHBvcHVwX2Zvcm1fJHt0YWJsZUtleX1fJHtlbnRpdHlJZH1fJHtwcm9wZXJ0eUtleX1gKSB9KTtcbiAgY29uc3QgcGx1Z2lucyA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM7XG4gIGlmIChwbHVnaW5zKSB7XG4gICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgIGlmIChwbHVnaW4uZm9ybT8ucHJvdmlkZXIpIHtcbiAgICAgICAgaW50ZXJuYWxGb3JtID0gLyogQF9fUFVSRV9fICovIGpzeChwbHVnaW4uZm9ybS5wcm92aWRlci5Db21wb25lbnQsIHsgc3RhdHVzOiBcImV4aXN0aW5nXCIsIHBhdGgsIGNvbGxlY3Rpb24sIGVudGl0eSwgY29udGV4dDogZmlyZUNNU0NvbnRleHQsIGN1cnJlbnRFbnRpdHlJZDogZW50aXR5SWQsIGZvcm1Db250ZXh0LCAuLi5wbHVnaW4uZm9ybS5wcm92aWRlci5wcm9wcywgY2hpbGRyZW46IGludGVybmFsRm9ybSB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBmb3JtID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGB0ZXh0LXN1cmZhY2UtOTAwIGRhcms6dGV4dC13aGl0ZSBvdmVyZmxvdy1hdXRvIHJvdW5kZWQgcm91bmRlZC1tZCBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTUwICR7IW9wZW4gPyBcImhpZGRlblwiIDogXCJcIn0gY3Vyc29yLWdyYWIgbWF4LXctWzEwMHZ3XWAsIGNoaWxkcmVuOiBbXG4gICAgaW50ZXJuYWxGb3JtLFxuICAgIHNhdmluZ0Vycm9yICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjb2xvcjogXCJlcnJvclwiLCBjaGlsZHJlbjogc2F2aW5nRXJyb3IubWVzc2FnZSB9KVxuICBdIH0pO1xuICBjb25zdCBkcmFnZ2FibGUgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7XG4gICAgYm94U2hhZG93OiBcIjAgMCAwIDJweCByZ2JhKDEyOCwxMjgsMTI4LDAuMilcIlxuICB9LCBjbGFzc05hbWU6IGBpbmxpbmUtYmxvY2sgZml4ZWQgei0yMCBzaGFkb3ctb3V0bGluZSByb3VuZGVkLW1kIGJnLXdoaXRlIGRhcms6Ymctc3VyZmFjZS05NTAgJHshb3BlbiA/IFwiaW52aXNpYmxlXCIgOiBcInZpc2libGVcIn0gY3Vyc29yLWdyYWIgb3ZlcmZsb3ctdmlzaWJsZWAsIHJlZjogZHJhZ2dhYmxlUmVmLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRWxlbWVudFJlc2l6ZUxpc3RlbmVyLCB7IG9uUmVzaXplOiBhZGFwdFJlc2l6ZSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJvdmVyZmxvdy1oaWRkZW5cIiwgY2hpbGRyZW46IFtcbiAgICAgIGZvcm0sXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIC10b3AtMy41IC1yaWdodC0zLjUgYmctc3VyZmFjZS01MDAgcm91bmRlZC1mdWxsXCIsIHN0eWxlOiB7XG4gICAgICAgIHdpZHRoOiBcIjMycHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjMycHhcIlxuICAgICAgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBzaXplOiBcInNtYWxsXCIsIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgb25DbG9zZSgpO1xuICAgICAgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2xvc2VJY29uLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXdoaXRlXCIsIHNpemU6IFwic21hbGxcIiB9KSB9KSB9KVxuICAgIF0gfSlcbiAgXSB9LCBgZHJhZ2dhYmxlXyR7cHJvcGVydHlLZXl9XyR7ZW50aXR5SWR9XyR7b3Blbn1gKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9ydGFsLlJvb3QsIHsgYXNDaGlsZDogdHJ1ZSwgY29udGFpbmVyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChGb3JtZXgsIHsgdmFsdWU6IGZvcm1leCwgY2hpbGRyZW46IGRyYWdnYWJsZSB9KSB9KTtcbn1cbmZ1bmN0aW9uIENsZWFyRmlsdGVyU29ydEJ1dHRvbih0MCkge1xuICBjb25zdCAkID0gYyg2KTtcbiAgY29uc3Qge1xuICAgIHRhYmxlQ29udHJvbGxlcixcbiAgICBlbmFibGVkXG4gIH0gPSB0MDtcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZmlsdGVySXNTZXQgPSAhIXRhYmxlQ29udHJvbGxlci5maWx0ZXJWYWx1ZXMgJiYgT2JqZWN0LmtleXModGFibGVDb250cm9sbGVyLmZpbHRlclZhbHVlcykubGVuZ3RoID4gMDtcbiAgY29uc3Qgc29ydElzU2V0ID0gISF0YWJsZUNvbnRyb2xsZXIuc29ydEJ5ICYmIHRhYmxlQ29udHJvbGxlci5zb3J0QnkubGVuZ3RoID4gMDtcbiAgaWYgKChmaWx0ZXJJc1NldCB8fCBzb3J0SXNTZXQpICYmICh0YWJsZUNvbnRyb2xsZXIuY2xlYXJGaWx0ZXIgfHwgdGFibGVDb250cm9sbGVyLnNldFNvcnRCeSkpIHtcbiAgICBsZXQgbGFiZWw7XG4gICAgaWYgKGZpbHRlcklzU2V0ICYmIHNvcnRJc1NldCkge1xuICAgICAgbGFiZWwgPSBcIkNsZWFyIGZpbHRlciBhbmQgc29ydFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmlsdGVySXNTZXQpIHtcbiAgICAgICAgbGFiZWwgPSBcIkNsZWFyIGZpbHRlclwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWwgPSBcIkNsZWFyIHNvcnRcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHQxO1xuICAgIGlmICgkWzBdICE9PSB0YWJsZUNvbnRyb2xsZXIpIHtcbiAgICAgIHQxID0gKCkgPT4ge1xuICAgICAgICB0YWJsZUNvbnRyb2xsZXIuY2xlYXJGaWx0ZXI/LigpO1xuICAgICAgICB0YWJsZUNvbnRyb2xsZXIuc2V0U29ydEJ5Py4odm9pZCAwKTtcbiAgICAgIH07XG4gICAgICAkWzBdID0gdGFibGVDb250cm9sbGVyO1xuICAgICAgJFsxXSA9IHQxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MSA9ICRbMV07XG4gICAgfVxuICAgIGxldCB0MjtcbiAgICBpZiAoJFsyXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChGaWx0ZXJMaXN0T2ZmSWNvbiwge30pO1xuICAgICAgJFsyXSA9IHQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9ICRbMl07XG4gICAgfVxuICAgIGxldCB0MztcbiAgICBpZiAoJFszXSAhPT0gbGFiZWwgfHwgJFs0XSAhPT0gdDEpIHtcbiAgICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeHMoQnV0dG9uLCB7IHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgY2xhc3NOYW1lOiBcImgtZml0LWNvbnRlbnRcIiwgXCJhcmlhLWxhYmVsXCI6IFwiZmlsdGVyIGNsZWFyXCIsIG9uQ2xpY2s6IHQxLCBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHQyLFxuICAgICAgICBsYWJlbFxuICAgICAgXSB9KTtcbiAgICAgICRbM10gPSBsYWJlbDtcbiAgICAgICRbNF0gPSB0MTtcbiAgICAgICRbNV0gPSB0MztcbiAgICB9IGVsc2Uge1xuICAgICAgdDMgPSAkWzVdO1xuICAgIH1cbiAgICByZXR1cm4gdDM7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBFbnRpdHlDb2xsZWN0aW9uVmlld1N0YXJ0QWN0aW9ucyh0MCkge1xuICBjb25zdCAkID0gYygxOCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIHJlbGF0aXZlUGF0aCxcbiAgICBwYXJlbnRDb2xsZWN0aW9uSWRzLFxuICAgIHBhdGgsXG4gICAgc2VsZWN0aW9uQ29udHJvbGxlcixcbiAgICB0YWJsZUNvbnRyb2xsZXIsXG4gICAgY29sbGVjdGlvbkVudGl0aWVzQ291bnRcbiAgfSA9IHQwO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRmlyZUNNU0NvbnRleHQoKTtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zKSB7XG4gICAgdDEgPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zID8/IFtdO1xuICAgICRbMF0gPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgY29uc3QgcGx1Z2lucyA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzJdICE9PSBjb2xsZWN0aW9uIHx8ICRbM10gIT09IGNvbGxlY3Rpb25FbnRpdGllc0NvdW50IHx8ICRbNF0gIT09IGNvbnRleHQgfHwgJFs1XSAhPT0gcGFyZW50Q29sbGVjdGlvbklkcyB8fCAkWzZdICE9PSBwYXRoIHx8ICRbN10gIT09IHJlbGF0aXZlUGF0aCB8fCAkWzhdICE9PSBzZWxlY3Rpb25Db250cm9sbGVyIHx8ICRbOV0gIT09IHRhYmxlQ29udHJvbGxlcikge1xuICAgIHQyID0ge1xuICAgICAgcGF0aCxcbiAgICAgIHJlbGF0aXZlUGF0aCxcbiAgICAgIHBhcmVudENvbGxlY3Rpb25JZHMsXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgc2VsZWN0aW9uQ29udHJvbGxlcixcbiAgICAgIGNvbnRleHQsXG4gICAgICB0YWJsZUNvbnRyb2xsZXIsXG4gICAgICBjb2xsZWN0aW9uRW50aXRpZXNDb3VudFxuICAgIH07XG4gICAgJFsyXSA9IGNvbGxlY3Rpb247XG4gICAgJFszXSA9IGNvbGxlY3Rpb25FbnRpdGllc0NvdW50O1xuICAgICRbNF0gPSBjb250ZXh0O1xuICAgICRbNV0gPSBwYXJlbnRDb2xsZWN0aW9uSWRzO1xuICAgICRbNl0gPSBwYXRoO1xuICAgICRbN10gPSByZWxhdGl2ZVBhdGg7XG4gICAgJFs4XSA9IHNlbGVjdGlvbkNvbnRyb2xsZXI7XG4gICAgJFs5XSA9IHRhYmxlQ29udHJvbGxlcjtcbiAgICAkWzEwXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsxMF07XG4gIH1cbiAgY29uc3QgYWN0aW9uUHJvcHMgPSB0MjtcbiAgY29uc3QgdDMgPSAhY29sbGVjdGlvbi5mb3JjZUZpbHRlcjtcbiAgbGV0IHQ0O1xuICBpZiAoJFsxMV0gIT09IHQzIHx8ICRbMTJdICE9PSB0YWJsZUNvbnRyb2xsZXIpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2xlYXJGaWx0ZXJTb3J0QnV0dG9uLCB7IHRhYmxlQ29udHJvbGxlciwgZW5hYmxlZDogdDMgfSwgXCJjbGVhcl9maWx0ZXJcIik7XG4gICAgJFsxMV0gPSB0MztcbiAgICAkWzEyXSA9IHRhYmxlQ29udHJvbGxlcjtcbiAgICAkWzEzXSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFsxM107XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFsxNF0gIT09IGFjdGlvblByb3BzIHx8ICRbMTVdICE9PSBwbHVnaW5zIHx8ICRbMTZdICE9PSB0NCkge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBbdDRdO1xuICAgIGlmIChwbHVnaW5zKSB7XG4gICAgICBwbHVnaW5zLmZvckVhY2goKHBsdWdpbiwgaSkgPT4ge1xuICAgICAgICBpZiAocGx1Z2luLmNvbGxlY3Rpb25WaWV3Py5Db2xsZWN0aW9uQWN0aW9uc1N0YXJ0KSB7XG4gICAgICAgICAgYWN0aW9ucy5wdXNoKC4uLnRvQXJyYXkocGx1Z2luLmNvbGxlY3Rpb25WaWV3Py5Db2xsZWN0aW9uQWN0aW9uc1N0YXJ0KS5tYXAoKEFjdGlvbiwgaikgPT4gLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEFjdGlvbiwgeyAuLi5hY3Rpb25Qcm9wcywgLi4ucGx1Z2luLmNvbGxlY3Rpb25WaWV3Py5jb2xsZWN0aW9uQWN0aW9uc1N0YXJ0UHJvcHMgfSkgfSwgYHBsdWdpbl9hY3Rpb25zXyR7aX1fJHtqfWApKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGFjdGlvbnMgfSk7XG4gICAgJFsxNF0gPSBhY3Rpb25Qcm9wcztcbiAgICAkWzE1XSA9IHBsdWdpbnM7XG4gICAgJFsxNl0gPSB0NDtcbiAgICAkWzE3XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxN107XG4gIH1cbiAgcmV0dXJuIHQ1O1xufVxuY29uc3QgY29sbGVjdGlvblNjcm9sbENhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHVzZVNjcm9sbFJlc3RvcmF0aW9uKCkge1xuICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2Nyb2xsID0gKHtcbiAgICBmdWxsUGF0aCxcbiAgICBmaWx0ZXJzLFxuICAgIHNjcm9sbE9mZnNldCxcbiAgICBkYXRhXG4gIH0pID0+IHtcbiAgICBjb2xsZWN0aW9uU2Nyb2xsQ2FjaGUuc2V0KGNyZWF0ZUNhY2hlS2V5KGZ1bGxQYXRoLCBmaWx0ZXJzKSwge1xuICAgICAgc2Nyb2xsT2Zmc2V0LFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXRDb2xsZWN0aW9uU2Nyb2xsID0gKGZ1bGxQYXRoLCBmaWx0ZXJzKSA9PiB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25TY3JvbGxDYWNoZS5nZXQoY3JlYXRlQ2FjaGVLZXkoZnVsbFBhdGgsIGZpbHRlcnMpKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXRDb2xsZWN0aW9uU2Nyb2xsLFxuICAgIHVwZGF0ZUNvbGxlY3Rpb25TY3JvbGxcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlS2V5KGZ1bGxQYXRoLCBmaWx0ZXJzKSB7XG4gIGlmICghZmlsdGVycykge1xuICAgIHJldHVybiBmdWxsUGF0aDtcbiAgfVxuICBjb25zdCBmaWx0ZXJzU3RyaW5nID0gZmlsdGVycyA/IE9iamVjdC5rZXlzKGZpbHRlcnMpLm1hcCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShmaWx0ZXJzW2tleV0pO1xuICAgIHJldHVybiBgJHtrZXl9PSR7dmFsdWV9YDtcbiAgfSkuam9pbihcIiZcIikgOiBcIlwiO1xuICByZXR1cm4gYCR7ZnVsbFBhdGh9PyR7ZmlsdGVyc1N0cmluZ31gO1xufVxuY29uc3QgREVGQVVMVF9FTlRJVFlfT1BFTl9NT0RFID0gXCJzaWRlX3BhbmVsXCI7XG5jb25zdCBFbnRpdHlDb2xsZWN0aW9uVmlldyA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gRW50aXR5Q29sbGVjdGlvblZpZXcyKHtcbiAgZnVsbFBhdGg6IGZ1bGxQYXRoUHJvcCxcbiAgcGFyZW50Q29sbGVjdGlvbklkcyxcbiAgaXNTdWJDb2xsZWN0aW9uLFxuICBjbGFzc05hbWUsXG4gIHVwZGF0ZVVybCxcbiAgLi4uY29sbGVjdGlvblByb3Bcbn0pIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUZpcmVDTVNDb250ZXh0KCk7XG4gIGNvbnN0IGZ1bGxQYXRoID0gZnVsbFBhdGhQcm9wID8/IGNvbGxlY3Rpb25Qcm9wLnBhdGg7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlKCk7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZVNpZGVFbnRpdHlDb250cm9sbGVyKCk7XG4gIGNvbnN0IGF1dGhDb250cm9sbGVyID0gdXNlQXV0aENvbnRyb2xsZXIoKTtcbiAgY29uc3QgdXNlckNvbmZpZ1BlcnNpc3RlbmNlID0gdXNlVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZSgpO1xuICBjb25zdCBhbmFseXRpY3NDb250cm9sbGVyID0gdXNlQW5hbHl0aWNzQ29udHJvbGxlcigpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2Nyb2xsUmVzdG9yYXRpb24gPSB1c2VTY3JvbGxSZXN0b3JhdGlvbigpO1xuICBjb25zdCBjb2xsZWN0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdXNlck92ZXJyaWRlID0gdXNlckNvbmZpZ1BlcnNpc3RlbmNlPy5nZXRDb2xsZWN0aW9uQ29uZmlnKGZ1bGxQYXRoKTtcbiAgICByZXR1cm4gdXNlck92ZXJyaWRlID8gbWVyZ2VEZWVwKGNvbGxlY3Rpb25Qcm9wLCB1c2VyT3ZlcnJpZGUpIDogY29sbGVjdGlvblByb3A7XG4gIH0sIFtjb2xsZWN0aW9uUHJvcCwgZnVsbFBhdGgsIHVzZXJDb25maWdQZXJzaXN0ZW5jZT8uZ2V0Q29sbGVjdGlvbkNvbmZpZ10pO1xuICBjb25zdCBvcGVuRW50aXR5TW9kZSA9IGNvbGxlY3Rpb24/Lm9wZW5FbnRpdHlNb2RlID8/IERFRkFVTFRfRU5USVRZX09QRU5fTU9ERTtcbiAgY29uc3QgY29sbGVjdGlvblJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihjb2xsZWN0aW9uKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb2xsZWN0aW9uUmVmLmN1cnJlbnQgPSBjb2xsZWN0aW9uO1xuICB9LCBbY29sbGVjdGlvbl0pO1xuICBjb25zdCBjYW5DcmVhdGVFbnRpdGllcyA9IGNhbkNyZWF0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgZnVsbFBhdGgsIG51bGwpO1xuICBjb25zdCBbaGlnaGxpZ2h0ZWRFbnRpdHksIHNldEhpZ2hsaWdodGVkRW50aXR5XSA9IHVzZVN0YXRlKHZvaWQgMCk7XG4gIGNvbnN0IFtkZWxldGVFbnRpdHlDbGlja2VkLCBzZXREZWxldGVFbnRpdHlDbGlja2VkXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKHZvaWQgMCk7XG4gIGNvbnN0IFtsYXN0RGVsZXRlVGltZXN0YW1wLCBzZXRMYXN0RGVsZXRlVGltZXN0YW1wXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKDApO1xuICBjb25zdCBbZG9jc0NvdW50LCBzZXREb2NzQ291bnRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHVuc2VsZWN0TmF2aWdhdGVkRW50aXR5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTZWxlY3Rpb24gPSBoaWdobGlnaHRlZEVudGl0eTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uID09PSBoaWdobGlnaHRlZEVudGl0eSkgc2V0SGlnaGxpZ2h0ZWRFbnRpdHkodm9pZCAwKTtcbiAgICB9LCAyNDAwKTtcbiAgfSwgW2hpZ2hsaWdodGVkRW50aXR5XSk7XG4gIGNvbnN0IGNoZWNrSW5saW5lRWRpdGluZyA9IHVzZUNhbGxiYWNrKChlbnRpdHkpID0+IHtcbiAgICBjb25zdCBjb2xsZWN0aW9uXzAgPSBjb2xsZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW5FZGl0RW50aXR5KGNvbGxlY3Rpb25fMCwgYXV0aENvbnRyb2xsZXIsIGZ1bGxQYXRoLCBlbnRpdHkgPz8gbnVsbCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25fMC5pbmxpbmVFZGl0aW5nID09PSB2b2lkIDAgfHwgY29sbGVjdGlvbl8wLmlubGluZUVkaXRpbmc7XG4gIH0sIFthdXRoQ29udHJvbGxlciwgZnVsbFBhdGhdKTtcbiAgY29uc3Qgc2VsZWN0aW9uRW5hYmxlZCA9IGNvbGxlY3Rpb24uc2VsZWN0aW9uRW5hYmxlZCA9PT0gdm9pZCAwIHx8IGNvbGxlY3Rpb24uc2VsZWN0aW9uRW5hYmxlZDtcbiAgY29uc3QgaG92ZXJSb3cgPSAhY2hlY2tJbmxpbmVFZGl0aW5nKCk7XG4gIGNvbnN0IFtwb3BPdmVyT3Blbiwgc2V0UG9wT3Zlck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzZWxlY3Rpb25Db250cm9sbGVyID0gdXNlU2VsZWN0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCB1c2VkU2VsZWN0aW9uQ29udHJvbGxlciA9IGNvbGxlY3Rpb24uc2VsZWN0aW9uQ29udHJvbGxlciA/PyBzZWxlY3Rpb25Db250cm9sbGVyO1xuICBjb25zdCB7XG4gICAgc2VsZWN0ZWRFbnRpdGllcyxcbiAgICBzZXRTZWxlY3RlZEVudGl0aWVzXG4gIH0gPSB1c2VkU2VsZWN0aW9uQ29udHJvbGxlcjtcbiAgY29uc3QgdGFibGVDb250cm9sbGVyID0gdXNlRGF0YVNvdXJjZVRhYmxlQ29udHJvbGxlcih7XG4gICAgZnVsbFBhdGgsXG4gICAgY29sbGVjdGlvbixcbiAgICBsYXN0RGVsZXRlVGltZXN0YW1wLFxuICAgIHNjcm9sbFJlc3RvcmF0aW9uLFxuICAgIHVwZGF0ZVVybFxuICB9KTtcbiAgY29uc3QgdGFibGVLZXkgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikpO1xuICBjb25zdCBwb3B1cENlbGwgPSB0YWJsZUNvbnRyb2xsZXIucG9wdXBDZWxsO1xuICBjb25zdCBvblBvcHVwQ2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdGFibGVDb250cm9sbGVyLnNldFBvcHVwQ2VsbD8uKHZvaWQgMCk7XG4gIH0sIFt0YWJsZUNvbnRyb2xsZXIuc2V0UG9wdXBDZWxsXSk7XG4gIGNvbnN0IG9uRW50aXR5Q2xpY2sgPSB1c2VDYWxsYmFjaygoY2xpY2tlZEVudGl0eSkgPT4ge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25fMSA9IGNvbGxlY3Rpb25SZWYuY3VycmVudDtcbiAgICBzZXRIaWdobGlnaHRlZEVudGl0eShjbGlja2VkRW50aXR5KTtcbiAgICBhbmFseXRpY3NDb250cm9sbGVyLm9uQW5hbHl0aWNzRXZlbnQ/LihcImVkaXRfZW50aXR5X2NsaWNrZWRcIiwge1xuICAgICAgcGF0aDogY2xpY2tlZEVudGl0eS5wYXRoLFxuICAgICAgZW50aXR5SWQ6IGNsaWNrZWRFbnRpdHkuaWRcbiAgICB9KTtcbiAgICBpZiAoY29sbGVjdGlvbl8xKSB7XG4gICAgICBhZGRSZWNlbnRJZChjb2xsZWN0aW9uXzEuaWQsIGNsaWNrZWRFbnRpdHkuaWQpO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gY29sbGVjdGlvbl8xPy5jb2xsZWN0aW9uR3JvdXAgPyBjbGlja2VkRW50aXR5LnBhdGggOiBmdWxsUGF0aCA/PyBjbGlja2VkRW50aXR5LnBhdGg7XG4gICAgbmF2aWdhdGVUb0VudGl0eSh7XG4gICAgICBuYXZpZ2F0aW9uLFxuICAgICAgcGF0aCxcbiAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgICAgb3BlbkVudGl0eU1vZGUsXG4gICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzEsXG4gICAgICBlbnRpdHlJZDogY2xpY2tlZEVudGl0eS5pZFxuICAgIH0pO1xuICB9LCBbdW5zZWxlY3ROYXZpZ2F0ZWRFbnRpdHksIHNpZGVFbnRpdHlDb250cm9sbGVyXSk7XG4gIGNvbnN0IG9uTmV3Q2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbl8yID0gY29sbGVjdGlvblJlZi5jdXJyZW50O1xuICAgIGFuYWx5dGljc0NvbnRyb2xsZXIub25BbmFseXRpY3NFdmVudD8uKFwibmV3X2VudGl0eV9jbGlja1wiLCB7XG4gICAgICBwYXRoOiBmdWxsUGF0aFxuICAgIH0pO1xuICAgIG5hdmlnYXRlVG9FbnRpdHkoe1xuICAgICAgb3BlbkVudGl0eU1vZGUsXG4gICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzIsXG4gICAgICBlbnRpdHlJZDogdm9pZCAwLFxuICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICBzaWRlRW50aXR5Q29udHJvbGxlcixcbiAgICAgIG5hdmlnYXRpb24sXG4gICAgICBvbkNsb3NlOiB1bnNlbGVjdE5hdmlnYXRlZEVudGl0eVxuICAgIH0pO1xuICB9LCBbZnVsbFBhdGgsIHNpZGVFbnRpdHlDb250cm9sbGVyXSk7XG4gIGNvbnN0IG9uTXVsdGlwbGVEZWxldGVDbGljayA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NDb250cm9sbGVyLm9uQW5hbHl0aWNzRXZlbnQ/LihcIm11bHRpcGxlX2RlbGV0ZV9kaWFsb2dfb3BlblwiLCB7XG4gICAgICBwYXRoOiBmdWxsUGF0aFxuICAgIH0pO1xuICAgIHNldERlbGV0ZUVudGl0eUNsaWNrZWQoc2VsZWN0ZWRFbnRpdGllcyk7XG4gIH07XG4gIGNvbnN0IGludGVybmFsT25FbnRpdHlEZWxldGUgPSAoX3BhdGgsIGVudGl0eV8wKSA9PiB7XG4gICAgYW5hbHl0aWNzQ29udHJvbGxlci5vbkFuYWx5dGljc0V2ZW50Py4oXCJzaW5nbGVfZW50aXR5X2RlbGV0ZWRcIiwge1xuICAgICAgcGF0aDogZnVsbFBhdGhcbiAgICB9KTtcbiAgICBzZXRTZWxlY3RlZEVudGl0aWVzKChzZWxlY3RlZEVudGl0aWVzXzApID0+IHNlbGVjdGVkRW50aXRpZXNfMC5maWx0ZXIoKGUpID0+IGUuaWQgIT09IGVudGl0eV8wLmlkKSk7XG4gICAgc2V0TGFzdERlbGV0ZVRpbWVzdGFtcChEYXRlLm5vdygpKTtcbiAgfTtcbiAgY29uc3QgaW50ZXJuYWxPbk11bHRpcGxlRW50aXRpZXNEZWxldGUgPSAoX3BhdGhfMCwgZW50aXRpZXMpID0+IHtcbiAgICBhbmFseXRpY3NDb250cm9sbGVyLm9uQW5hbHl0aWNzRXZlbnQ/LihcIm11bHRpcGxlX2VudGl0aWVzX2RlbGV0ZWRcIiwge1xuICAgICAgcGF0aDogZnVsbFBhdGhcbiAgICB9KTtcbiAgICBzZXRTZWxlY3RlZEVudGl0aWVzKFtdKTtcbiAgICBzZXREZWxldGVFbnRpdHlDbGlja2VkKHZvaWQgMCk7XG4gICAgc2V0TGFzdERlbGV0ZVRpbWVzdGFtcChEYXRlLm5vdygpKTtcbiAgfTtcbiAgbGV0IEFkZENvbHVtbkNvbXBvbmVudDtcbiAgaWYgKGN1c3RvbWl6YXRpb25Db250cm9sbGVyPy5wbHVnaW5zKSB7XG4gICAgQWRkQ29sdW1uQ29tcG9uZW50ID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucy5maW5kKChwbHVnaW4pID0+IHBsdWdpbi5jb2xsZWN0aW9uVmlldz8uQWRkQ29sdW1uQ29tcG9uZW50KT8uY29sbGVjdGlvblZpZXc/LkFkZENvbHVtbkNvbXBvbmVudDtcbiAgfVxuICBjb25zdCBvbkNvbGxlY3Rpb25Nb2RpZmllZEZvclVzZXIgPSB1c2VDYWxsYmFjaygocGF0aF8wLCBwYXJ0aWFsQ29sbGVjdGlvbikgPT4ge1xuICAgIGlmICh1c2VyQ29uZmlnUGVyc2lzdGVuY2UpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTdG9yZWRDb25maWcgPSB1c2VyQ29uZmlnUGVyc2lzdGVuY2UuZ2V0Q29sbGVjdGlvbkNvbmZpZyhwYXRoXzApO1xuICAgICAgY29uc3QgdXBkYXRlZENvbmZpZyA9IG1lcmdlRGVlcChjdXJyZW50U3RvcmVkQ29uZmlnLCBwYXJ0aWFsQ29sbGVjdGlvbik7XG4gICAgICB1c2VyQ29uZmlnUGVyc2lzdGVuY2Uub25Db2xsZWN0aW9uTW9kaWZpZWQocGF0aF8wLCB1cGRhdGVkQ29uZmlnKTtcbiAgICB9XG4gIH0sIFt1c2VyQ29uZmlnUGVyc2lzdGVuY2VdKTtcbiAgY29uc3Qgb25Db2x1bW5SZXNpemUgPSB1c2VDYWxsYmFjaygoe1xuICAgIHdpZHRoLFxuICAgIGtleVxuICB9KSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbl8zID0gY29sbGVjdGlvblJlZi5jdXJyZW50O1xuICAgIGlmICghZ2V0UHJvcGVydHlJblBhdGgoY29sbGVjdGlvbl8zLnByb3BlcnRpZXMsIGtleSkpIHJldHVybjtcbiAgICBjb25zdCBsb2NhbENvbGxlY3Rpb24gPSBidWlsZFByb3BlcnR5V2lkdGhPdmVyd3JpdGUoa2V5LCB3aWR0aCk7XG4gICAgb25Db2xsZWN0aW9uTW9kaWZpZWRGb3JVc2VyKGZ1bGxQYXRoLCBsb2NhbENvbGxlY3Rpb24pO1xuICB9LCBbb25Db2xsZWN0aW9uTW9kaWZpZWRGb3JVc2VyLCBmdWxsUGF0aF0pO1xuICBjb25zdCBvblNpemVDaGFuZ2VkID0gdXNlQ2FsbGJhY2soKHNpemUpID0+IHtcbiAgICBpZiAodXNlckNvbmZpZ1BlcnNpc3RlbmNlKSBvbkNvbGxlY3Rpb25Nb2RpZmllZEZvclVzZXIoZnVsbFBhdGgsIHtcbiAgICAgIGRlZmF1bHRTaXplOiBzaXplXG4gICAgfSk7XG4gIH0sIFtvbkNvbGxlY3Rpb25Nb2RpZmllZEZvclVzZXIsIGZ1bGxQYXRoLCB1c2VyQ29uZmlnUGVyc2lzdGVuY2VdKTtcbiAgY29uc3QgY3JlYXRlRW5hYmxlZCA9IGNhbkNyZWF0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgZnVsbFBhdGgsIG51bGwpO1xuICBjb25zdCB1bmlxdWVGaWVsZFZhbGlkYXRvciA9IHVzZUNhbGxiYWNrKCh7XG4gICAgbmFtZSxcbiAgICB2YWx1ZSxcbiAgICBwcm9wZXJ0eSxcbiAgICBlbnRpdHlJZFxuICB9KSA9PiBkYXRhU291cmNlLmNoZWNrVW5pcXVlRmllbGQoZnVsbFBhdGgsIG5hbWUsIHZhbHVlLCBlbnRpdHlJZCwgY29sbGVjdGlvbiksIFtmdWxsUGF0aF0pO1xuICBjb25zdCBvblZhbHVlQ2hhbmdlID0gKHtcbiAgICB2YWx1ZTogdmFsdWVfMCxcbiAgICBwcm9wZXJ0eUtleSxcbiAgICBvblZhbHVlVXBkYXRlZCxcbiAgICBzZXRFcnJvcixcbiAgICBkYXRhOiBlbnRpdHlfMVxuICB9KSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZFZhbHVlcyA9IHNldEluKHtcbiAgICAgIC4uLmVudGl0eV8xLnZhbHVlc1xuICAgIH0sIHByb3BlcnR5S2V5LCB2YWx1ZV8wKTtcbiAgICBjb25zdCBzYXZlUHJvcHMgPSB7XG4gICAgICBwYXRoOiBlbnRpdHlfMS5wYXRoID8/IGZ1bGxQYXRoLFxuICAgICAgZW50aXR5SWQ6IGVudGl0eV8xLmlkLFxuICAgICAgdmFsdWVzOiB1cGRhdGVkVmFsdWVzLFxuICAgICAgcHJldmlvdXNWYWx1ZXM6IGVudGl0eV8xLnZhbHVlcyxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBzdGF0dXM6IFwiZXhpc3RpbmdcIlxuICAgIH07XG4gICAgcmV0dXJuIHNhdmVFbnRpdHlXaXRoQ2FsbGJhY2tzKHtcbiAgICAgIC4uLnNhdmVQcm9wcyxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBkYXRhU291cmNlLFxuICAgICAgY29udGV4dCxcbiAgICAgIG9uU2F2ZVN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICAgICAgb25WYWx1ZVVwZGF0ZWQoKTtcbiAgICAgIH0sXG4gICAgICBvblNhdmVGYWlsdXJlOiAoZV8wKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTYXZlIGZhaWx1cmVcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZV8wKTtcbiAgICAgICAgc2V0RXJyb3IoZV8wKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgcmVzb2x2ZWRGdWxsUGF0aCA9IG5hdmlnYXRpb24ucmVzb2x2ZUlkc0Zyb20oZnVsbFBhdGgpO1xuICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSB1c2VNZW1vKCgpID0+IHJlc29sdmVDb2xsZWN0aW9uKHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gIH0pLCBbY29sbGVjdGlvbiwgZnVsbFBhdGhdKTtcbiAgY29uc3QgZ2V0UHJvcGVydHlGb3IgPSB1c2VDYWxsYmFjaygoe1xuICAgIHByb3BlcnR5S2V5OiBwcm9wZXJ0eUtleV8wLFxuICAgIGVudGl0eTogZW50aXR5XzJcbiAgfSkgPT4ge1xuICAgIGxldCBwcm9wZXJ0eU9yQnVpbGRlciA9IGdldFByb3BlcnR5SW5QYXRoKGNvbGxlY3Rpb24ucHJvcGVydGllcywgcHJvcGVydHlLZXlfMCk7XG4gICAgaWYgKCFwcm9wZXJ0eU9yQnVpbGRlcikge1xuICAgICAgcHJvcGVydHlPckJ1aWxkZXIgPSBnZXRQcm9wZXJ0eUluUGF0aChyZXNvbHZlZENvbGxlY3Rpb24ucHJvcGVydGllcywgcHJvcGVydHlLZXlfMCk7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXk6IHByb3BlcnR5S2V5XzAsXG4gICAgICBwcm9wZXJ0eU9yQnVpbGRlcixcbiAgICAgIHBhdGg6IGVudGl0eV8yLnBhdGgsXG4gICAgICB2YWx1ZXM6IGVudGl0eV8yLnZhbHVlcyxcbiAgICAgIGVudGl0eUlkOiBlbnRpdHlfMi5pZCxcbiAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzXG4gICAgfSk7XG4gIH0sIFtjb2xsZWN0aW9uLnByb3BlcnRpZXMsIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncywgcmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXNdKTtcbiAgY29uc3QgZGlzcGxheWVkQ29sdW1uSWRzID0gdXNlQ29sdW1uSWRzKHJlc29sdmVkQ29sbGVjdGlvbiwgdHJ1ZSk7XG4gIGNvbnN0IGFkZGl0aW9uYWxGaWVsZHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzdWJjb2xsZWN0aW9uQ29sdW1ucyA9IGNvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnM/Lm1hcCgoc3ViY29sbGVjdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBnZXRTdWJjb2xsZWN0aW9uQ29sdW1uSWQoc3ViY29sbGVjdGlvbiksXG4gICAgICAgIG5hbWU6IHN1YmNvbGxlY3Rpb24ubmFtZSxcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgICAgQnVpbGRlcjogKHtcbiAgICAgICAgICBlbnRpdHk6IGVudGl0eV8zXG4gICAgICAgIH0pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IGNvbG9yOiBcInByaW1hcnlcIiwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBzdGFydEljb246IC8qIEBfX1BVUkVfXyAqLyBqc3goS2V5Ym9hcmRUYWJJY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSwgb25DbGljazogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgbmF2aWdhdGVUb0VudGl0eSh7XG4gICAgICAgICAgICBvcGVuRW50aXR5TW9kZSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5XzMuaWQsXG4gICAgICAgICAgICBzZWxlY3RlZFRhYjogc3ViY29sbGVjdGlvbi5pZCA/PyBzdWJjb2xsZWN0aW9uLnBhdGgsXG4gICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgIG5hdmlnYXRpb24sXG4gICAgICAgICAgICBzaWRlRW50aXR5Q29udHJvbGxlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBjaGlsZHJlbjogc3ViY29sbGVjdGlvbi5uYW1lIH0pXG4gICAgICB9O1xuICAgIH0pID8/IFtdO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Hcm91cFBhcmVudENvbGxlY3Rpb25zID0gY29sbGVjdGlvbi5jb2xsZWN0aW9uR3JvdXAgPyBbe1xuICAgICAga2V5OiBDT0xMRUNUSU9OX0dST1VQX1BBUkVOVF9JRCxcbiAgICAgIG5hbWU6IFwiUGFyZW50IGVudGl0aWVzXCIsXG4gICAgICB3aWR0aDogMjYwLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIEJ1aWxkZXI6ICh7XG4gICAgICAgIGVudGl0eTogZW50aXR5XzRcbiAgICAgIH0pID0+IHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbnNXaXRoUGF0aCA9IG5hdmlnYXRpb24uZ2V0UGFyZW50UmVmZXJlbmNlc0Zyb21QYXRoKGVudGl0eV80LnBhdGgpO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0yIHctZnVsbFwiLCBjaGlsZHJlbjogY29sbGVjdGlvbnNXaXRoUGF0aC5tYXAoKHJlZmVyZW5jZSkgPT4ge1xuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZVByZXZpZXcsIHsgcmVmZXJlbmNlLCBzaXplOiBcInNtYWxsXCIgfSwgcmVmZXJlbmNlLnBhdGggKyBcIi9cIiArIHJlZmVyZW5jZS5pZCk7XG4gICAgICAgIH0pIH0pO1xuICAgICAgfVxuICAgIH1dIDogW107XG4gICAgcmV0dXJuIFsuLi5jb2xsZWN0aW9uLmFkZGl0aW9uYWxGaWVsZHMgPz8gW10sIC4uLnN1YmNvbGxlY3Rpb25Db2x1bW5zLCAuLi5jb2xsZWN0aW9uR3JvdXBQYXJlbnRDb2xsZWN0aW9uc107XG4gIH0sIFtjb2xsZWN0aW9uLCBmdWxsUGF0aCwgc2lkZUVudGl0eUNvbnRyb2xsZXJdKTtcbiAgY29uc3QgdXBkYXRlTGFzdERlbGV0ZVRpbWVzdGFtcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRMYXN0RGVsZXRlVGltZXN0YW1wKERhdGUubm93KCkpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGxhcmdlTGF5b3V0ID0gdXNlTGFyZ2VMYXlvdXQoKTtcbiAgY29uc3QgZ2V0QWN0aW9uc0ZvckVudGl0eSA9ICh7XG4gICAgZW50aXR5OiBlbnRpdHlfNSxcbiAgICBjdXN0b21FbnRpdHlBY3Rpb25zXG4gIH0pID0+IHtcbiAgICBjb25zdCBkZWxldGVFbmFibGVkID0gZW50aXR5XzUgPyBjYW5EZWxldGVFbnRpdHkoY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIGZ1bGxQYXRoLCBlbnRpdHlfNSkgOiB0cnVlO1xuICAgIGNvbnN0IGFjdGlvbnMgPSBbZWRpdEVudGl0eUFjdGlvbl07XG4gICAgaWYgKGNyZWF0ZUVuYWJsZWQpIGFjdGlvbnMucHVzaChjb3B5RW50aXR5QWN0aW9uKTtcbiAgICBpZiAoZGVsZXRlRW5hYmxlZCkgYWN0aW9ucy5wdXNoKGRlbGV0ZUVudGl0eUFjdGlvbik7XG4gICAgaWYgKGN1c3RvbUVudGl0eUFjdGlvbnMpIHJldHVybiBtZXJnZUVudGl0eUFjdGlvbnMoYWN0aW9ucywgY3VzdG9tRW50aXR5QWN0aW9ucyk7XG4gICAgcmV0dXJuIGFjdGlvbnM7XG4gIH07XG4gIGNvbnN0IGdldElkQ29sdW1uV2lkdGggPSAoKSA9PiB7XG4gICAgY29uc3QgZW50aXR5QWN0aW9ucyA9IGdldEFjdGlvbnNGb3JFbnRpdHkoe30pO1xuICAgIGNvbnN0IGNvbGxhcHNlZEFjdGlvbnMgPSBlbnRpdHlBY3Rpb25zLmZpbHRlcigoYSkgPT4gYS5jb2xsYXBzZWQgIT09IGZhbHNlKTtcbiAgICBjb25zdCB1bmNvbGxhcHNlZEFjdGlvbnMgPSBlbnRpdHlBY3Rpb25zLmZpbHRlcigoYV8wKSA9PiBhXzAuY29sbGFwc2VkID09PSBmYWxzZSk7XG4gICAgY29uc3QgYWN0aW9uc1dpZHRoID0gdW5jb2xsYXBzZWRBY3Rpb25zLmxlbmd0aCAqIChsYXJnZUxheW91dCA/IDQwIDogMzApO1xuICAgIHJldHVybiAobGFyZ2VMYXlvdXQgPyA4MCArIGFjdGlvbnNXaWR0aCA6IDcwICsgYWN0aW9uc1dpZHRoKSArIChjb2xsYXBzZWRBY3Rpb25zLmxlbmd0aCA+IDAgPyBsYXJnZUxheW91dCA/IDQwIDogMzAgOiAwKTtcbiAgfTtcbiAgY29uc3QgdGFibGVSb3dBY3Rpb25zQnVpbGRlciA9IHVzZUNhbGxiYWNrKCh7XG4gICAgZW50aXR5OiBlbnRpdHlfNixcbiAgICBzaXplOiBzaXplXzAsXG4gICAgd2lkdGg6IHdpZHRoXzAsXG4gICAgZnJvemVuXG4gIH0pID0+IHtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gQm9vbGVhbih1c2VkU2VsZWN0aW9uQ29udHJvbGxlci5zZWxlY3RlZEVudGl0aWVzLmZpbmQoKGVfMSkgPT4gZV8xLmlkID09IGVudGl0eV82LmlkICYmIGVfMS5wYXRoID09IGVudGl0eV82LnBhdGgpKTtcbiAgICBjb25zdCBhY3Rpb25zXzAgPSBnZXRBY3Rpb25zRm9yRW50aXR5KHtcbiAgICAgIGVudGl0eTogZW50aXR5XzYsXG4gICAgICBjdXN0b21FbnRpdHlBY3Rpb25zOiBjb2xsZWN0aW9uLmVudGl0eUFjdGlvbnNcbiAgICB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlDb2xsZWN0aW9uUm93QWN0aW9ucywgeyBlbnRpdHk6IGVudGl0eV82LCB3aWR0aDogd2lkdGhfMCwgZnJvemVuLCBpc1NlbGVjdGVkLCBzZWxlY3Rpb25FbmFibGVkLCBzaXplOiBzaXplXzAsIGhpZ2hsaWdodEVudGl0eTogc2V0SGlnaGxpZ2h0ZWRFbnRpdHksIHVuaGlnaGxpZ2h0RW50aXR5OiB1bnNlbGVjdE5hdmlnYXRlZEVudGl0eSwgY29sbGVjdGlvbiwgZnVsbFBhdGgsIGFjdGlvbnM6IGFjdGlvbnNfMCwgaGlkZUlkOiBjb2xsZWN0aW9uPy5oaWRlSWRGcm9tQ29sbGVjdGlvbiwgb25Db2xsZWN0aW9uQ2hhbmdlOiB1cGRhdGVMYXN0RGVsZXRlVGltZXN0YW1wLCBzZWxlY3Rpb25Db250cm9sbGVyOiB1c2VkU2VsZWN0aW9uQ29udHJvbGxlciwgb3BlbkVudGl0eU1vZGUgfSk7XG4gIH0sIFt1cGRhdGVMYXN0RGVsZXRlVGltZXN0YW1wLCB1c2VkU2VsZWN0aW9uQ29udHJvbGxlcl0pO1xuICBjb25zdCB0aXRsZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wb3ZlciwgeyBvcGVuOiBwb3BPdmVyT3Blbiwgb25PcGVuQ2hhbmdlOiBzZXRQb3BPdmVyT3BlbiwgZW5hYmxlZDogQm9vbGVhbihjb2xsZWN0aW9uLmRlc2NyaXB0aW9uKSwgdHJpZ2dlcjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBpdGVtcy1zdGFydFwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcInN1YnRpdGxlMVwiLCBjbGFzc05hbWU6IGBsZWFkaW5nLW5vbmUgdHJ1bmNhdGUgbWF4LXctWzE2MHB4XSBsZzptYXgtdy1bMjQwcHhdICR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiA/IFwiY3Vyc29yLXBvaW50ZXJcIiA6IFwiY3Vyc29yLWF1dG9cIn1gLCBvbkNsaWNrOiBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uID8gKGVfMikgPT4ge1xuICAgICAgc2V0UG9wT3Zlck9wZW4odHJ1ZSk7XG4gICAgICBlXzIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSA6IHZvaWQgMCwgY2hpbGRyZW46IGAke2NvbGxlY3Rpb24ubmFtZX1gIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXRpZXNDb3VudCwgeyBmdWxsUGF0aCwgY29sbGVjdGlvbiwgZmlsdGVyOiB0YWJsZUNvbnRyb2xsZXIuZmlsdGVyVmFsdWVzLCBzb3J0Qnk6IHRhYmxlQ29udHJvbGxlci5zb3J0QnksIG9uQ291bnRDaGFuZ2U6IHNldERvY3NDb3VudCB9KVxuICBdIH0pLCBjaGlsZHJlbjogY29sbGVjdGlvbi5kZXNjcmlwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm0tNCB0ZXh0LXN1cmZhY2UtOTAwIGRhcms6dGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChNYXJrZG93biwgeyBzb3VyY2U6IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfSkgfSkgfSk7XG4gIGNvbnN0IGJ1aWxkQWRkaXRpb25hbEhlYWRlcldpZGdldCA9IHVzZUNhbGxiYWNrKCh7XG4gICAgcHJvcGVydHk6IHByb3BlcnR5XzAsXG4gICAgcHJvcGVydHlLZXk6IHByb3BlcnR5S2V5XzEsXG4gICAgb25Ib3ZlclxuICB9KSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbl80ID0gY29sbGVjdGlvblJlZi5jdXJyZW50O1xuICAgIGlmICghY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucykgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnMuZmlsdGVyKChwbHVnaW5fMCkgPT4gcGx1Z2luXzAuY29sbGVjdGlvblZpZXc/LkhlYWRlckFjdGlvbikubWFwKChwbHVnaW5fMSwgaSkgPT4ge1xuICAgICAgY29uc3QgSGVhZGVyQWN0aW9uID0gcGx1Z2luXzEuY29sbGVjdGlvblZpZXcuSGVhZGVyQWN0aW9uO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goSGVhZGVyQWN0aW9uLCB7IG9uSG92ZXIsIHByb3BlcnR5S2V5OiBwcm9wZXJ0eUtleV8xLCBwcm9wZXJ0eTogcHJvcGVydHlfMCwgZnVsbFBhdGgsIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fNCwgdGFibGVDb250cm9sbGVyLCBwYXJlbnRDb2xsZWN0aW9uSWRzOiBwYXJlbnRDb2xsZWN0aW9uSWRzID8/IFtdIH0sIGBwbHVnaW5faGVhZGVyX2FjdGlvbl8ke2l9YCk7XG4gICAgfSkgfSk7XG4gIH0sIFtjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zLCBmdWxsUGF0aCwgcGFyZW50Q29sbGVjdGlvbklkc10pO1xuICBjb25zdCBhZGRDb2x1bW5Db21wb25lbnRJbnRlcm5hbCA9IEFkZENvbHVtbkNvbXBvbmVudCA/IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2YgQWRkQ29sdW1uQ29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEFkZENvbHVtbkNvbXBvbmVudCwgeyBmdWxsUGF0aCwgcGFyZW50Q29sbGVjdGlvbklkczogcGFyZW50Q29sbGVjdGlvbklkcyA/PyBbXSwgY29sbGVjdGlvbiwgdGFibGVDb250cm9sbGVyIH0pO1xuICAgIHJldHVybiBudWxsO1xuICB9IDogdm9pZCAwO1xuICBjb25zdCB7XG4gICAgdGV4dFNlYXJjaExvYWRpbmcsXG4gICAgdGV4dFNlYXJjaEluaXRpYWxpc2VkLFxuICAgIG9uVGV4dFNlYXJjaENsaWNrLFxuICAgIHRleHRTZWFyY2hFbmFibGVkXG4gIH0gPSB1c2VUYWJsZVNlYXJjaEhlbHBlcih7XG4gICAgY29sbGVjdGlvbixcbiAgICBmdWxsUGF0aDogcmVzb2x2ZWRGdWxsUGF0aCxcbiAgICBwYXJlbnRDb2xsZWN0aW9uSWRzXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcIm92ZXJmbG93LWhpZGRlbiBoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtbWRcIiwgY2xhc3NOYW1lKSwgcmVmOiBjb250YWluZXJSZWYsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlDb2xsZWN0aW9uVGFibGUsIHsgYWRkaXRpb25hbEZpZWxkcywgdGFibGVDb250cm9sbGVyLCBlbmFibGVQb3B1cEljb246IHRydWUsIGRpc3BsYXllZENvbHVtbklkcywgb25TaXplQ2hhbmdlZCwgb25FbnRpdHlDbGljaywgb25Db2x1bW5SZXNpemUsIG9uVmFsdWVDaGFuZ2UsIHRhYmxlUm93QWN0aW9uc0J1aWxkZXIsIHVuaXF1ZUZpZWxkVmFsaWRhdG9yLCB0aXRsZSwgc2VsZWN0aW9uQ29udHJvbGxlcjogdXNlZFNlbGVjdGlvbkNvbnRyb2xsZXIsIGhpZ2hsaWdodGVkRW50aXRpZXM6IGhpZ2hsaWdodGVkRW50aXR5ID8gW2hpZ2hsaWdodGVkRW50aXR5XSA6IFtdLCBkZWZhdWx0U2l6ZTogY29sbGVjdGlvbi5kZWZhdWx0U2l6ZSwgcHJvcGVydGllczogcmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXMsIGdldFByb3BlcnR5Rm9yLCBvblRleHRTZWFyY2hDbGljazogdGV4dFNlYXJjaEluaXRpYWxpc2VkID8gdm9pZCAwIDogb25UZXh0U2VhcmNoQ2xpY2ssIG9uU2Nyb2xsOiB0YWJsZUNvbnRyb2xsZXIub25TY3JvbGwsIGluaXRpYWxTY3JvbGw6IHRhYmxlQ29udHJvbGxlci5pbml0aWFsU2Nyb2xsLCB0ZXh0U2VhcmNoTG9hZGluZywgdGV4dFNlYXJjaEVuYWJsZWQsIGFjdGlvbnNTdGFydDogLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlDb2xsZWN0aW9uVmlld1N0YXJ0QWN0aW9ucywgeyBwYXJlbnRDb2xsZWN0aW9uSWRzOiBwYXJlbnRDb2xsZWN0aW9uSWRzID8/IFtdLCBjb2xsZWN0aW9uLCB0YWJsZUNvbnRyb2xsZXIsIHBhdGg6IGZ1bGxQYXRoLCByZWxhdGl2ZVBhdGg6IGNvbGxlY3Rpb24ucGF0aCwgc2VsZWN0aW9uQ29udHJvbGxlcjogdXNlZFNlbGVjdGlvbkNvbnRyb2xsZXIsIGNvbGxlY3Rpb25FbnRpdGllc0NvdW50OiBkb2NzQ291bnQgfSksIGFjdGlvbnM6IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5Q29sbGVjdGlvblZpZXdBY3Rpb25zLCB7IHBhcmVudENvbGxlY3Rpb25JZHM6IHBhcmVudENvbGxlY3Rpb25JZHMgPz8gW10sIGNvbGxlY3Rpb24sIHRhYmxlQ29udHJvbGxlciwgb25NdWx0aXBsZURlbGV0ZUNsaWNrLCBvbk5ld0NsaWNrLCBwYXRoOiBmdWxsUGF0aCwgcmVsYXRpdmVQYXRoOiBjb2xsZWN0aW9uLnBhdGgsIHNlbGVjdGlvbkNvbnRyb2xsZXI6IHVzZWRTZWxlY3Rpb25Db250cm9sbGVyLCBzZWxlY3Rpb25FbmFibGVkLCBjb2xsZWN0aW9uRW50aXRpZXNDb3VudDogZG9jc0NvdW50IH0pLCBlbXB0eUNvbXBvbmVudDogY2FuQ3JlYXRlRW50aXRpZXMgJiYgdGFibGVDb250cm9sbGVyLmZpbHRlclZhbHVlcyA9PT0gdm9pZCAwICYmIHRhYmxlQ29udHJvbGxlci5zb3J0QnkgPT09IHZvaWQgMCA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJzdWJ0aXRsZTJcIiwgY2hpbGRyZW46IFwiU28gZW1wdHkuLi5cIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJ1dHRvbiwgeyBjb2xvcjogXCJwcmltYXJ5XCIsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgb25DbGljazogb25OZXdDbGljaywgY2xhc3NOYW1lOiBcIm10LTRcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChBZGRJY29uLCB7fSksXG4gICAgICAgIFwiQ3JlYXRlIHlvdXIgZmlyc3QgZW50aXR5XCJcbiAgICAgIF0gfSlcbiAgICBdIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwibGFiZWxcIiwgY2hpbGRyZW46IFwiTm8gcmVzdWx0cyB3aXRoIHRoZSBhcHBsaWVkIGZpbHRlci9zb3J0XCIgfSksIGhvdmVyUm93LCBpbmxpbmVFZGl0aW5nOiBjaGVja0lubGluZUVkaXRpbmcoKSwgQWRkaXRpb25hbEhlYWRlcldpZGdldDogYnVpbGRBZGRpdGlvbmFsSGVhZGVyV2lkZ2V0LCBBZGRDb2x1bW5Db21wb25lbnQ6IGFkZENvbHVtbkNvbXBvbmVudEludGVybmFsLCBnZXRJZENvbHVtbldpZHRoLCBhZGRpdGlvbmFsSURIZWFkZXJXaWRnZXQ6IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5SWRIZWFkZXJXaWRnZXQsIHsgcGF0aDogZnVsbFBhdGgsIGNvbGxlY3Rpb24gfSksIG9wZW5FbnRpdHlNb2RlIH0sIGBjb2xsZWN0aW9uX3RhYmxlXyR7ZnVsbFBhdGh9YCksXG4gICAgcG9wdXBDZWxsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wdXBGb3JtRmllbGQsIHsgb3BlbjogQm9vbGVhbihwb3B1cENlbGwpLCBvbkNsb3NlOiBvblBvcHVwQ2xvc2UsIGNlbGxSZWN0OiBwb3B1cENlbGw/LmNlbGxSZWN0LCBwcm9wZXJ0eUtleTogcG9wdXBDZWxsPy5wcm9wZXJ0eUtleSwgY29sbGVjdGlvbiwgZW50aXR5SWQ6IHBvcHVwQ2VsbC5lbnRpdHlJZCwgdGFibGVLZXk6IHRhYmxlS2V5LmN1cnJlbnQsIGN1c3RvbUZpZWxkVmFsaWRhdG9yOiB1bmlxdWVGaWVsZFZhbGlkYXRvciwgcGF0aDogcmVzb2x2ZWRGdWxsUGF0aCwgb25DZWxsVmFsdWVDaGFuZ2U6IG9uVmFsdWVDaGFuZ2UsIGNvbnRhaW5lcjogY29udGFpbmVyUmVmLmN1cnJlbnQgfSwgYHBvcHVwX2Zvcm1fJHtwb3B1cENlbGw/LnByb3BlcnR5S2V5fV8ke3BvcHVwQ2VsbD8uZW50aXR5SWR9YCksXG4gICAgZGVsZXRlRW50aXR5Q2xpY2tlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4KERlbGV0ZUVudGl0eURpYWxvZywgeyBlbnRpdHlPckVudGl0aWVzVG9EZWxldGU6IGRlbGV0ZUVudGl0eUNsaWNrZWQsIHBhdGg6IGZ1bGxQYXRoLCBjb2xsZWN0aW9uLCBjYWxsYmFja3M6IGNvbGxlY3Rpb24uY2FsbGJhY2tzLCBvcGVuOiBCb29sZWFuKGRlbGV0ZUVudGl0eUNsaWNrZWQpLCBvbkVudGl0eURlbGV0ZTogaW50ZXJuYWxPbkVudGl0eURlbGV0ZSwgb25NdWx0aXBsZUVudGl0aWVzRGVsZXRlOiBpbnRlcm5hbE9uTXVsdGlwbGVFbnRpdGllc0RlbGV0ZSwgb25DbG9zZTogKCkgPT4gc2V0RGVsZXRlRW50aXR5Q2xpY2tlZCh2b2lkIDApIH0pXG4gIF0gfSk7XG59LCAoYSwgYikgPT4ge1xuICByZXR1cm4gZXF1YWwoYS5wYXRoLCBiLnBhdGgpICYmIGVxdWFsKGEucGFyZW50Q29sbGVjdGlvbklkcywgYi5wYXJlbnRDb2xsZWN0aW9uSWRzKSAmJiBlcXVhbChhLmlzU3ViQ29sbGVjdGlvbiwgYi5pc1N1YkNvbGxlY3Rpb24pICYmIGVxdWFsKGEuY2xhc3NOYW1lLCBiLmNsYXNzTmFtZSkgJiYgZXF1YWwoYS5wcm9wZXJ0aWVzLCBiLnByb3BlcnRpZXMpICYmIGVxdWFsKGEucHJvcGVydGllc09yZGVyLCBiLnByb3BlcnRpZXNPcmRlcikgJiYgZXF1YWwoYS5oaWRlSWRGcm9tQ29sbGVjdGlvbiwgYi5oaWRlSWRGcm9tQ29sbGVjdGlvbikgJiYgZXF1YWwoYS5pbmxpbmVFZGl0aW5nLCBiLmlubGluZUVkaXRpbmcpICYmIGVxdWFsKGEuc2VsZWN0aW9uRW5hYmxlZCwgYi5zZWxlY3Rpb25FbmFibGVkKSAmJiBlcXVhbChhLnNlbGVjdGlvbkNvbnRyb2xsZXIsIGIuc2VsZWN0aW9uQ29udHJvbGxlcikgJiYgZXF1YWwoYS5BY3Rpb25zLCBiLkFjdGlvbnMpICYmIGVxdWFsKGEuZGVmYXVsdFNpemUsIGIuZGVmYXVsdFNpemUpICYmIGVxdWFsKGEuaW5pdGlhbEZpbHRlciwgYi5pbml0aWFsRmlsdGVyKSAmJiBlcXVhbChhLmluaXRpYWxTb3J0LCBiLmluaXRpYWxTb3J0KSAmJiBlcXVhbChhLnRleHRTZWFyY2hFbmFibGVkLCBiLnRleHRTZWFyY2hFbmFibGVkKSAmJiBlcXVhbChhLmFkZGl0aW9uYWxGaWVsZHMsIGIuYWRkaXRpb25hbEZpZWxkcykgJiYgZXF1YWwoYS5zaWRlRGlhbG9nV2lkdGgsIGIuc2lkZURpYWxvZ1dpZHRoKSAmJiBlcXVhbChhLm9wZW5FbnRpdHlNb2RlLCBiLm9wZW5FbnRpdHlNb2RlKSAmJiBlcXVhbChhLmZvcmNlRmlsdGVyLCBiLmZvcmNlRmlsdGVyKTtcbn0pO1xuZnVuY3Rpb24gRW50aXRpZXNDb3VudCh7XG4gIGZ1bGxQYXRoLFxuICBjb2xsZWN0aW9uLFxuICBmaWx0ZXIsXG4gIHNvcnRCeSxcbiAgb25Db3VudENoYW5nZVxufSkge1xuICBjb25zdCBkYXRhU291cmNlID0gdXNlRGF0YVNvdXJjZSgpO1xuICBjb25zdCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZSh2b2lkIDApO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKHZvaWQgMCk7XG4gIGNvbnN0IHNvcnRCeVByb3BlcnR5ID0gc29ydEJ5ID8gc29ydEJ5WzBdIDogdm9pZCAwO1xuICBjb25zdCBjdXJyZW50U29ydCA9IHNvcnRCeSA/IHNvcnRCeVsxXSA6IHZvaWQgMDtcbiAgY29uc3QgcmVzb2x2ZWRQYXRoID0gdXNlTWVtbygoKSA9PiBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tKGZ1bGxQYXRoKSwgW2Z1bGxQYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRhdGFTb3VyY2UuY291bnRFbnRpdGllcykgZGF0YVNvdXJjZS5jb3VudEVudGl0aWVzKHtcbiAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBmaWx0ZXIsXG4gICAgICBvcmRlckJ5OiBzb3J0QnlQcm9wZXJ0eSxcbiAgICAgIG9yZGVyOiBjdXJyZW50U29ydFxuICAgIH0pLnRoZW4oc2V0Q291bnQpLmNhdGNoKHNldEVycm9yKTtcbiAgfSwgW2Z1bGxQYXRoLCBkYXRhU291cmNlLmNvdW50RW50aXRpZXMsIHJlc29sdmVkUGF0aCwgY29sbGVjdGlvbiwgZmlsdGVyLCBzb3J0QnlQcm9wZXJ0eSwgY3VycmVudFNvcnRdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob25Db3VudENoYW5nZSkge1xuICAgICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICAgIG9uQ291bnRDaGFuZ2UoY291bnQgPz8gMCk7XG4gICAgfVxuICB9LCBbb25Db3VudENoYW5nZSwgY291bnRdKTtcbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjbGFzc05hbWU6IFwidy1mdWxsIHRleHQtZWxsaXBzaXMgYmxvY2sgb3ZlcmZsb3ctaGlkZGVuIHdoaXRlc3BhY2Utbm93cmFwIG1heC13LXhzIHRleHQtbGVmdCB3LWZpdC1jb250ZW50XCIsIHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY2hpbGRyZW46IGNvdW50ICE9PSB2b2lkIDAgPyBgJHtjb3VudH0gZW50aXRpZXNgIDogLyogQF9fUFVSRV9fICovIGpzeChTa2VsZXRvbiwgeyBjbGFzc05hbWU6IFwidy1mdWxsIG1heC13LVs4MHB4XSBtdC0xXCIgfSkgfSk7XG59XG5mdW5jdGlvbiBidWlsZFByb3BlcnR5V2lkdGhPdmVyd3JpdGUoa2V5LCB3aWR0aCkge1xuICBpZiAoa2V5LmluY2x1ZGVzKFwiLlwiKSkge1xuICAgIGNvbnN0IFtwYXJlbnRLZXksIC4uLmNoaWxkS2V5XSA9IGtleS5zcGxpdChcIi5cIik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgW3BhcmVudEtleV06IGJ1aWxkUHJvcGVydHlXaWR0aE92ZXJ3cml0ZShjaGlsZEtleS5qb2luKFwiLlwiKSwgd2lkdGgpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIFtrZXldOiB7XG4gICAgICAgIGNvbHVtbldpZHRoOiB3aWR0aFxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIEVudGl0eUlkSGVhZGVyV2lkZ2V0KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDQwKTtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgcGF0aFxuICB9ID0gdDA7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBbb3BlblBvcHVwLCBzZXRPcGVuUG9wdXBdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VhcmNoU3RyaW5nLCBzZXRTZWFyY2hTdHJpbmddID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoXCJcIik7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGNvbGxlY3Rpb24uaWQpIHtcbiAgICB0MSA9IGdldFJlY2VudElkcyhjb2xsZWN0aW9uLmlkKTtcbiAgICAkWzBdID0gY29sbGVjdGlvbi5pZDtcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGNvbnN0IFtyZWNlbnRJZHMsIHNldFJlY2VudElkc10gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSh0MSk7XG4gIGNvbnN0IHNpZGVFbnRpdHlDb250cm9sbGVyID0gdXNlU2lkZUVudGl0eUNvbnRyb2xsZXIoKTtcbiAgY29uc3Qgb3BlbkVudGl0eU1vZGUgPSBjb2xsZWN0aW9uPy5vcGVuRW50aXR5TW9kZSA/PyBERUZBVUxUX0VOVElUWV9PUEVOX01PREU7XG4gIGNvbnN0IHQyID0gIW9wZW5Qb3B1cCA/IFwiRmluZCBieSBJRFwiIDogdm9pZCAwO1xuICBsZXQgdDM7XG4gIGxldCB0NDtcbiAgaWYgKCRbMl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDMgPSAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgc2l6ZTogXCJzbWFsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTZWFyY2hJY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSB9KTtcbiAgICB0NCA9IGNscyhcIm15LTIgcm91bmRlZC1sZyBiZy1zdXJmYWNlLTUwIGRhcms6Ymctc3VyZmFjZS05NTAgdGV4dC1zdXJmYWNlLTkwMCBkYXJrOnRleHQtd2hpdGVcIik7XG4gICAgJFsyXSA9IHQzO1xuICAgICRbM10gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMl07XG4gICAgdDQgPSAkWzNdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbNF0gIT09IGNvbGxlY3Rpb24gfHwgJFs1XSAhPT0gbmF2aWdhdGlvbiB8fCAkWzZdICE9PSBvcGVuRW50aXR5TW9kZSB8fCAkWzddICE9PSBwYXRoIHx8ICRbOF0gIT09IHNlYXJjaFN0cmluZyB8fCAkWzldICE9PSBzaWRlRW50aXR5Q29udHJvbGxlcikge1xuICAgIHQ1ID0gKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghc2VhcmNoU3RyaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldE9wZW5Qb3B1cChmYWxzZSk7XG4gICAgICBjb25zdCBlbnRpdHlJZCA9IHNlYXJjaFN0cmluZy50cmltKCk7XG4gICAgICBzZXRSZWNlbnRJZHMoYWRkUmVjZW50SWQoY29sbGVjdGlvbi5pZCwgZW50aXR5SWQpKTtcbiAgICAgIG5hdmlnYXRlVG9FbnRpdHkoe1xuICAgICAgICBvcGVuRW50aXR5TW9kZSxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgZW50aXR5SWQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgICAgICBuYXZpZ2F0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuICAgICRbNF0gPSBjb2xsZWN0aW9uO1xuICAgICRbNV0gPSBuYXZpZ2F0aW9uO1xuICAgICRbNl0gPSBvcGVuRW50aXR5TW9kZTtcbiAgICAkWzddID0gcGF0aDtcbiAgICAkWzhdID0gc2VhcmNoU3RyaW5nO1xuICAgICRbOV0gPSBzaWRlRW50aXR5Q29udHJvbGxlcjtcbiAgICAkWzEwXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxMF07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDYgPSAoZV8wKSA9PiB7XG4gICAgICBzZXRTZWFyY2hTdHJpbmcoZV8wLnRhcmdldC52YWx1ZSk7XG4gICAgfTtcbiAgICAkWzExXSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxMV07XG4gIH1cbiAgbGV0IHQ3O1xuICBpZiAoJFsxMl0gIT09IG9wZW5Qb3B1cCB8fCAkWzEzXSAhPT0gc2VhcmNoU3RyaW5nKSB7XG4gICAgdDcgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiaW5wdXRcIiwgeyBhdXRvRm9jdXM6IG9wZW5Qb3B1cCwgcGxhY2Vob2xkZXI6IFwiRmluZCBlbnRpdHkgYnkgSURcIiwgb25DaGFuZ2U6IHQ2LCB2YWx1ZTogc2VhcmNoU3RyaW5nLCBjbGFzc05hbWU6IFwicm91bmRlZC1sZyBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtODAwIGZsZXgtZ3JvdyBiZy10cmFuc3BhcmVudCBvdXRsaW5lLW5vbmUgcC0yIFwiICsgZm9jdXNlZERpc2FibGVkIH0pO1xuICAgICRbMTJdID0gb3BlblBvcHVwO1xuICAgICRbMTNdID0gc2VhcmNoU3RyaW5nO1xuICAgICRbMTRdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE0XTtcbiAgfVxuICBjb25zdCB0OCA9ICFzZWFyY2hTdHJpbmcudHJpbSgpO1xuICBsZXQgdDk7XG4gIGlmICgkWzE1XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goS2V5Ym9hcmRUYWJJY29uLCB7fSk7XG4gICAgJFsxNV0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMTVdO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzE2XSAhPT0gdDgpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcInRleHRcIiwgZGlzYWJsZWQ6IHQ4LCB0eXBlOiBcInN1Ym1pdFwiLCBjaGlsZHJlbjogdDkgfSk7XG4gICAgJFsxNl0gPSB0ODtcbiAgICAkWzE3XSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzE3XTtcbiAgfVxuICBsZXQgdDExO1xuICBpZiAoJFsxOF0gIT09IHQxMCB8fCAkWzE5XSAhPT0gdDcpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHAtMiB3LWZ1bGwgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQ3LFxuICAgICAgdDEwXG4gICAgXSB9KTtcbiAgICAkWzE4XSA9IHQxMDtcbiAgICAkWzE5XSA9IHQ3O1xuICAgICRbMjBdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMjBdO1xuICB9XG4gIGxldCB0MTI7XG4gIGlmICgkWzIxXSAhPT0gdDExIHx8ICRbMjJdICE9PSB0NSkge1xuICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJmb3JtXCIsIHsgbm9WYWxpZGF0ZTogdHJ1ZSwgb25TdWJtaXQ6IHQ1LCBjbGFzc05hbWU6IFwidy05NiBtYXgtdy1mdWxsXCIsIGNoaWxkcmVuOiB0MTEgfSk7XG4gICAgJFsyMV0gPSB0MTE7XG4gICAgJFsyMl0gPSB0NTtcbiAgICAkWzIzXSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzIzXTtcbiAgfVxuICBsZXQgdDEzO1xuICBpZiAoJFsyNF0gIT09IGNvbGxlY3Rpb24gfHwgJFsyNV0gIT09IG5hdmlnYXRpb24gfHwgJFsyNl0gIT09IG9wZW5FbnRpdHlNb2RlIHx8ICRbMjddICE9PSBwYXRoIHx8ICRbMjhdICE9PSByZWNlbnRJZHMgfHwgJFsyOV0gIT09IHNpZGVFbnRpdHlDb250cm9sbGVyKSB7XG4gICAgdDEzID0gcmVjZW50SWRzICYmIHJlY2VudElkcy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTJcIiwgY2hpbGRyZW46IHJlY2VudElkcy5tYXAoKGlkKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZVByZXZpZXcsIHsgcmVmZXJlbmNlOiBuZXcgRW50aXR5UmVmZXJlbmNlKGlkLCBwYXRoKSwgaG92ZXI6IHRydWUsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldE9wZW5Qb3B1cChmYWxzZSk7XG4gICAgICBuYXZpZ2F0ZVRvRW50aXR5KHtcbiAgICAgICAgb3BlbkVudGl0eU1vZGUsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGVudGl0eUlkOiBpZCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgc2lkZUVudGl0eUNvbnRyb2xsZXIsXG4gICAgICAgIG5hdmlnYXRpb25cbiAgICAgIH0pO1xuICAgIH0sIGluY2x1ZGVFbnRpdHlMaW5rOiBmYWxzZSwgc2l6ZTogXCJzbWFsbFwiIH0sIGlkKSkgfSk7XG4gICAgJFsyNF0gPSBjb2xsZWN0aW9uO1xuICAgICRbMjVdID0gbmF2aWdhdGlvbjtcbiAgICAkWzI2XSA9IG9wZW5FbnRpdHlNb2RlO1xuICAgICRbMjddID0gcGF0aDtcbiAgICAkWzI4XSA9IHJlY2VudElkcztcbiAgICAkWzI5XSA9IHNpZGVFbnRpdHlDb250cm9sbGVyO1xuICAgICRbMzBdID0gdDEzO1xuICB9IGVsc2Uge1xuICAgIHQxMyA9ICRbMzBdO1xuICB9XG4gIGxldCB0MTQ7XG4gIGlmICgkWzMxXSAhPT0gdDEyIHx8ICRbMzJdICE9PSB0MTMpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogdDQsIGNoaWxkcmVuOiBbXG4gICAgICB0MTIsXG4gICAgICB0MTNcbiAgICBdIH0pO1xuICAgICRbMzFdID0gdDEyO1xuICAgICRbMzJdID0gdDEzO1xuICAgICRbMzNdID0gdDE0O1xuICB9IGVsc2Uge1xuICAgIHQxNCA9ICRbMzNdO1xuICB9XG4gIGxldCB0MTU7XG4gIGlmICgkWzM0XSAhPT0gb3BlblBvcHVwIHx8ICRbMzVdICE9PSB0MTQpIHtcbiAgICB0MTUgPSAvKiBAX19QVVJFX18gKi8ganN4KFBvcG92ZXIsIHsgb3Blbjogb3BlblBvcHVwLCBvbk9wZW5DaGFuZ2U6IHNldE9wZW5Qb3B1cCwgc2lkZU9mZnNldDogMCwgYWxpZ246IFwic3RhcnRcIiwgYWxpZ25PZmZzZXQ6IC0xMTcsIHRyaWdnZXI6IHQzLCBjaGlsZHJlbjogdDE0IH0pO1xuICAgICRbMzRdID0gb3BlblBvcHVwO1xuICAgICRbMzVdID0gdDE0O1xuICAgICRbMzZdID0gdDE1O1xuICB9IGVsc2Uge1xuICAgIHQxNSA9ICRbMzZdO1xuICB9XG4gIGxldCB0MTY7XG4gIGlmICgkWzM3XSAhPT0gdDE1IHx8ICRbMzhdICE9PSB0Mikge1xuICAgIHQxNiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogdDIsIGFzQ2hpbGQ6IGZhbHNlLCBjaGlsZHJlbjogdDE1IH0pO1xuICAgICRbMzddID0gdDE1O1xuICAgICRbMzhdID0gdDI7XG4gICAgJFszOV0gPSB0MTY7XG4gIH0gZWxzZSB7XG4gICAgdDE2ID0gJFszOV07XG4gIH1cbiAgcmV0dXJuIHQxNjtcbn1cbmZ1bmN0aW9uIFByb3BlcnR5Q29uZmlnQmFkZ2UodDApIHtcbiAgY29uc3QgJCA9IGMoNik7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUNvbmZpZyxcbiAgICBkaXNhYmxlZFxuICB9ID0gdDA7XG4gIGNvbnN0IGNsYXNzZXMgPSBcImgtOCB3LTggcC0xIHJvdW5kZWQtZnVsbCBzaGFkb3cgdGV4dC13aGl0ZSBcIiArIChkaXNhYmxlZCA/IFwiYmctc3VyZmFjZS00MDAgZGFyazpiZy1zdXJmYWNlLTYwMFwiIDogXCJcIik7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGNsYXNzZXMgfHwgJFsxXSAhPT0gZGlzYWJsZWQgfHwgJFsyXSAhPT0gcHJvcGVydHlDb25maWcpIHtcbiAgICBjb25zdCBkZWZhdWx0UHJvcGVydHlDb25maWcgPSB0eXBlb2YgcHJvcGVydHlDb25maWc/LnByb3BlcnR5ID09PSBcIm9iamVjdFwiID8gZ2V0RGVmYXVsdEZpZWxkQ29uZmlnKHByb3BlcnR5Q29uZmlnLnByb3BlcnR5KSA6IHZvaWQgMDtcbiAgICBjb25zdCB0MiA9ICFkaXNhYmxlZCA/IHByb3BlcnR5Q29uZmlnPy5jb2xvciA/PyBkZWZhdWx0UHJvcGVydHlDb25maWc/LmNvbG9yID8/IFwiIzg4OFwiIDogdm9pZCAwO1xuICAgIGxldCB0MztcbiAgICBpZiAoJFs0XSAhPT0gdDIpIHtcbiAgICAgIHQzID0ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0MlxuICAgICAgfTtcbiAgICAgICRbNF0gPSB0MjtcbiAgICAgICRbNV0gPSB0MztcbiAgICB9IGVsc2Uge1xuICAgICAgdDMgPSAkWzVdO1xuICAgIH1cbiAgICB0MSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMsIHN0eWxlOiB0MywgY2hpbGRyZW46IHByb3BlcnR5Q29uZmlnPy5JY29uID8gZ2V0SWNvbkZvcldpZGdldChwcm9wZXJ0eUNvbmZpZywgXCJtZWRpdW1cIikgOiBnZXRJY29uRm9yV2lkZ2V0KGRlZmF1bHRQcm9wZXJ0eUNvbmZpZywgXCJtZWRpdW1cIikgfSk7XG4gICAgJFswXSA9IGNsYXNzZXM7XG4gICAgJFsxXSA9IGRpc2FibGVkO1xuICAgICRbMl0gPSBwcm9wZXJ0eUNvbmZpZztcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIHJldHVybiB0MTtcbn1cbmZ1bmN0aW9uIFByb3BlcnR5SWRDb3B5VG9vbHRpcCh0MCkge1xuICBjb25zdCAkID0gYyg2KTtcbiAgY29uc3Qge1xuICAgIHByb3BlcnR5S2V5LFxuICAgIGNsYXNzTmFtZSxcbiAgICBjaGlsZHJlblxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IHByb3BlcnR5S2V5KSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5SWRDb3B5VG9vbHRpcENvbnRlbnQsIHsgcHJvcGVydHlLZXkgfSk7XG4gICAgJFswXSA9IHByb3BlcnR5S2V5O1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gY2hpbGRyZW4gfHwgJFszXSAhPT0gY2xhc3NOYW1lIHx8ICRbNF0gIT09IHQxKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgdGl0bGU6IHQxLCBkZWxheUR1cmF0aW9uOiA4MDAsIHNpZGU6IFwidG9wXCIsIGFsaWduOiBcInN0YXJ0XCIsIHNpZGVPZmZzZXQ6IDgsIGNsYXNzTmFtZSwgY2hpbGRyZW4gfSk7XG4gICAgJFsyXSA9IGNoaWxkcmVuO1xuICAgICRbM10gPSBjbGFzc05hbWU7XG4gICAgJFs0XSA9IHQxO1xuICAgICRbNV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNV07XG4gIH1cbiAgcmV0dXJuIHQyO1xufVxuZnVuY3Rpb24gUHJvcGVydHlJZENvcHlUb29sdGlwQ29udGVudCh0MCkge1xuICBjb25zdCAkID0gYygxNCk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleVxuICB9ID0gdDA7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHQxID0gY29waWVkID8gXCJDb3BpZWRcIiA6IFwiUHJvcGVydHkgSURcIjtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gdDEpIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY2xhc3NOYW1lOiBcIm1pbi13LTIwIHRleHQtc3VyZmFjZS1hY2NlbnQtNDAwXCIsIGNvbG9yOiBcImRpc2FibGVkXCIsIGNoaWxkcmVuOiB0MSB9KTtcbiAgICAkWzBdID0gdDE7XG4gICAgJFsxXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsxXTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzJdICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjbGFzc05hbWU6IFwidGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImNvZGVcIiwgeyBjaGlsZHJlbjogcHJvcGVydHlLZXkgfSkgfSk7XG4gICAgJFsyXSA9IHByb3BlcnR5S2V5O1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbM107XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFs0XSAhPT0gdDIgfHwgJFs1XSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQyLFxuICAgICAgdDNcbiAgICBdIH0pO1xuICAgICRbNF0gPSB0MjtcbiAgICAkWzVdID0gdDM7XG4gICAgJFs2XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs2XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzddICE9PSBwcm9wZXJ0eUtleSkge1xuICAgIHQ1ID0gKCkgPT4ge1xuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQocHJvcGVydHlLZXkpO1xuICAgICAgc2V0Q29waWVkKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyZTMpO1xuICAgIH07XG4gICAgJFs3XSA9IHByb3BlcnR5S2V5O1xuICAgICRbOF0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbOF07XG4gIH1cbiAgY29uc3QgdDYgPSB0NTtcbiAgbGV0IHQ3O1xuICBpZiAoJFs5XSAhPT0gdDYpIHtcbiAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENvbnRlbnRDb3B5SWNvbiwgeyBzaXplOiBcInNtYWxsZXN0XCIsIGNsYXNzTmFtZTogXCJ0ZXh0LXdoaXRlXCIsIG9uQ2xpY2s6IHQ2IH0pIH0pO1xuICAgICRbOV0gPSB0NjtcbiAgICAkWzEwXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxMF07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxMV0gIT09IHQ0IHx8ICRbMTJdICE9PSB0Nykge1xuICAgIHQ4ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBnYXAtMiBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogW1xuICAgICAgdDQsXG4gICAgICB0N1xuICAgIF0gfSk7XG4gICAgJFsxMV0gPSB0NDtcbiAgICAkWzEyXSA9IHQ3O1xuICAgICRbMTNdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzEzXTtcbiAgfVxuICByZXR1cm4gdDg7XG59XG5mdW5jdGlvbiBOb3RGb3VuZFBhZ2UoKSB7XG4gIGNvbnN0ICQgPSBjKDEpO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQwID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHctZnVsbCBoLWZ1bGxcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm0tYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBmbGV4LWNvbFwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiaDRcIiwgYWxpZ246IFwiY2VudGVyXCIsIGd1dHRlckJvdHRvbTogdHJ1ZSwgY2hpbGRyZW46IFwiUGFnZSBub3QgZm91bmRcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBhbGlnbjogXCJjZW50ZXJcIiwgZ3V0dGVyQm90dG9tOiB0cnVlLCBjaGlsZHJlbjogXCJUaGlzIHBhZ2UgZG9lcyBub3QgZXhpc3Qgb3IgeW91IG1heSBub3QgaGF2ZSBhY2Nlc3MgdG8gaXRcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwidGV4dFwiLCBjb21wb25lbnQ6IExpbmssIHRvOiBcIi9cIiwgY2hpbGRyZW46IFwiQmFjayB0byBob21lXCIgfSlcbiAgICBdIH0pIH0pO1xuICAgICRbMF0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMF07XG4gIH1cbiAgcmV0dXJuIHQwO1xufVxuZnVuY3Rpb24gQ29uZmlybWF0aW9uRGlhbG9nKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDIwKTtcbiAgY29uc3Qge1xuICAgIG9wZW4sXG4gICAgb25BY2NlcHQsXG4gICAgb25DYW5jZWwsXG4gICAgdGl0bGUsXG4gICAgbG9hZGluZyxcbiAgICBib2R5XG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gb25DYW5jZWwpIHtcbiAgICB0MSA9IChvcGVuXzApID0+ICFvcGVuXzAgPyBvbkNhbmNlbCgpIDogdm9pZCAwO1xuICAgICRbMF0gPSBvbkNhbmNlbDtcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gIT09IHRpdGxlKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ1RpdGxlLCB7IHZhcmlhbnQ6IFwiaDZcIiwgY2xhc3NOYW1lOiBcIm1iLTJcIiwgY2hpbGRyZW46IHRpdGxlIH0pO1xuICAgICRbMl0gPSB0aXRsZTtcbiAgICAkWzNdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzNdO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbNF0gIT09IGJvZHkpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGlhbG9nQ29udGVudCwgeyBjaGlsZHJlbjogYm9keSB9KTtcbiAgICAkWzRdID0gYm9keTtcbiAgICAkWzVdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzVdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNl0gIT09IG9uQ2FuY2VsKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcInRleHRcIiwgb25DbGljazogb25DYW5jZWwsIGF1dG9Gb2N1czogdHJ1ZSwgY2hpbGRyZW46IFwiQ2FuY2VsXCIgfSk7XG4gICAgJFs2XSA9IG9uQ2FuY2VsO1xuICAgICRbN10gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbN107XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFs4XSAhPT0gbG9hZGluZyB8fCAkWzldICE9PSBvbkFjY2VwdCkge1xuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChMb2FkaW5nQnV0dG9uLCB7IGNvbG9yOiBcInByaW1hcnlcIiwgdHlwZTogXCJzdWJtaXRcIiwgbG9hZGluZywgb25DbGljazogb25BY2NlcHQsIGNoaWxkcmVuOiBcIk9rXCIgfSk7XG4gICAgJFs4XSA9IGxvYWRpbmc7XG4gICAgJFs5XSA9IG9uQWNjZXB0O1xuICAgICRbMTBdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzEwXTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzExXSAhPT0gdDQgfHwgJFsxMl0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2dBY3Rpb25zLCB7IGNoaWxkcmVuOiBbXG4gICAgICB0NCxcbiAgICAgIHQ1XG4gICAgXSB9KTtcbiAgICAkWzExXSA9IHQ0O1xuICAgICRbMTJdID0gdDU7XG4gICAgJFsxM10gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTNdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTRdICE9PSBvcGVuIHx8ICRbMTVdICE9PSB0MSB8fCAkWzE2XSAhPT0gdDIgfHwgJFsxN10gIT09IHQzIHx8ICRbMThdICE9PSB0Nikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRGlhbG9nLCB7IG9wZW4sIG9uT3BlbkNoYW5nZTogdDEsIGNoaWxkcmVuOiBbXG4gICAgICB0MixcbiAgICAgIHQzLFxuICAgICAgdDZcbiAgICBdIH0pO1xuICAgICRbMTRdID0gb3BlbjtcbiAgICAkWzE1XSA9IHQxO1xuICAgICRbMTZdID0gdDI7XG4gICAgJFsxN10gPSB0MztcbiAgICAkWzE4XSA9IHQ2O1xuICAgICRbMTldID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE5XTtcbiAgfVxuICByZXR1cm4gdDc7XG59XG5mdW5jdGlvbiBGaXJlQ01TTG9nbyh0MCkge1xuICBjb25zdCAkID0gYyg5KTtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGVcbiAgfSA9IHQwO1xuICBjb25zdCB0MSA9IHdpZHRoID8/IFwiMTAwJVwiO1xuICBjb25zdCB0MiA9IGhlaWdodCA/PyBcIjEwMCVcIjtcbiAgbGV0IHQzO1xuICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwicmFkaWFsR3JhZGllbnRcIiwgeyBjeDogXCIyOC42MjEzNTY5JVwiLCBjeTogXCI0My4xMTMzMzI4JVwiLCBmeDogXCIyOC42MjEzNTY5JVwiLCBmeTogXCI0My4xMTMzMzI4JVwiLCByOiBcIjcxLjUwMDM0NTYlXCIsIGdyYWRpZW50VHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLjI4NjIxNCwwLjQzMTEzMykscm90YXRlKDMuMzQzNDUwKSxzY2FsZSgxLjAwMDAwMCwwLjk5NjE3NSksdHJhbnNsYXRlKC0wLjI4NjIxNCwtMC40MzExMzMpXCIsIGlkOiBcInJhZGlhbEdyYWRpZW50LTFcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdG9wXCIsIHsgc3RvcENvbG9yOiBcIiNGRjVCNzlcIiwgb2Zmc2V0OiBcIjAlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjRkE1NTc0XCIsIG9mZnNldDogXCIyOC4wOTMwODAzJVwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInN0b3BcIiwgeyBzdG9wQ29sb3I6IFwiI0VDNEM1MVwiLCBvZmZzZXQ6IFwiNDQuNzI0MjUzMSVcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdG9wXCIsIHsgc3RvcENvbG9yOiBcIiM5NTQzQzFcIiwgb2Zmc2V0OiBcIjcxLjQ1NzgxNjUlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjMzg1N0IzXCIsIG9mZnNldDogXCIxMDAlXCIgfSlcbiAgICBdIH0pO1xuICAgICRbMF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMF07XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFsxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwicmFkaWFsR3JhZGllbnRcIiwgeyBjeDogXCI1My42MjA1NTE2JVwiLCBjeTogXCI0Ny4yNDczMDM2JVwiLCBmeDogXCI1My42MjA1NTE2JVwiLCBmeTogXCI0Ny4yNDczMDM2JVwiLCByOiBcIjUwLjgyMjk2NDklXCIsIGdyYWRpZW50VHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLjUzNjIwNiwwLjQ3MjQ3Mykscm90YXRlKDkwLjAwMDAwMCksc2NhbGUoMS4wMDAwMDAsMS4yMDY2MzEpLHRyYW5zbGF0ZSgtMC41MzYyMDYsLTAuNDcyNDczKVwiLCBpZDogXCJyYWRpYWxHcmFkaWVudC0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjNjgyOTRGXCIsIHN0b3BPcGFjaXR5OiBcIjBcIiwgb2Zmc2V0OiBcIjAlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjNUUyNTQ4XCIsIHN0b3BPcGFjaXR5OiBcIjAuMDQ2NDExMDhcIiwgb2Zmc2V0OiBcIjc1LjM1MDMxNzMlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjMEQwNjBCXCIsIHN0b3BPcGFjaXR5OiBcIjAuNDM3NDMxNzA5XCIsIG9mZnNldDogXCIxMDAlXCIgfSlcbiAgICBdIH0pO1xuICAgICRbMV0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMV07XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFsyXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGVmc1wiLCB7IGNoaWxkcmVuOiBbXG4gICAgICB0MyxcbiAgICAgIHQ0LFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJyYWRpYWxHcmFkaWVudFwiLCB7IGN4OiBcIjUzLjg2MDUwMTUlXCIsIGN5OiBcIjQ4LjE5OTA0MjMlXCIsIGZ4OiBcIjUzLjg2MDUwMTUlXCIsIGZ5OiBcIjQ4LjE5OTA0MjMlXCIsIHI6IFwiNTkuOTE1MTU0OSVcIiwgZ3JhZGllbnRUcmFuc2Zvcm06IFwidHJhbnNsYXRlKDAuNTM4NjA1LDAuNDgxOTkwKSxyb3RhdGUoMTgwLjAwMDAwMCksc2NhbGUoMS4wMDAwMDAsMC45MjUwMjcpLHRyYW5zbGF0ZSgtMC41Mzg2MDUsLTAuNDgxOTkwKVwiLCBpZDogXCJyYWRpYWxHcmFkaWVudC0zXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdG9wXCIsIHsgc3RvcENvbG9yOiBcIiM2ODI5NEZcIiwgc3RvcE9wYWNpdHk6IFwiMFwiLCBvZmZzZXQ6IFwiMCVcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInN0b3BcIiwgeyBzdG9wQ29sb3I6IFwiIzVFMjU0OFwiLCBzdG9wT3BhY2l0eTogXCIwLjA0NjQxMTA4XCIsIG9mZnNldDogXCI4NC4wODY3MzQzJVwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3RvcFwiLCB7IHN0b3BDb2xvcjogXCIjRkYwMDAwXCIsIHN0b3BPcGFjaXR5OiBcIjAuNTY3MzI0NzY1XCIsIG9mZnNldDogXCIxMDAlXCIgfSlcbiAgICAgIF0gfSlcbiAgICBdIH0pO1xuICAgICRbMl0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFszXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJnXCIsIHsgaWQ6IFwiUGFnZS0xXCIsIHN0cm9rZTogXCJub25lXCIsIHN0cm9rZVdpZHRoOiBcIjFcIiwgZmlsbDogXCJub25lXCIsIGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZ1wiLCB7IGlkOiBcImZpcmVjbXNfbG9nb1wiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImNpcmNsZVwiLCB7IGZpbGw6IFwidXJsKCNyYWRpYWxHcmFkaWVudC0xKVwiLCBjeDogXCIyOTkuNVwiLCBjeTogXCIyOTkuNVwiLCByOiBcIjI5OS41XCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiY2lyY2xlXCIsIHsgZmlsbDogXCJ1cmwoI3JhZGlhbEdyYWRpZW50LTIpXCIsIGN4OiBcIjI5OS41XCIsIGN5OiBcIjI5OS41XCIsIHI6IFwiMjk5LjVcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJjaXJjbGVcIiwgeyBmaWxsOiBcInVybCgjcmFkaWFsR3JhZGllbnQtMylcIiwgY3g6IFwiMjk5LjVcIiwgY3k6IFwiMjk5LjVcIiwgcjogXCIyOTkuNVwiIH0pXG4gICAgXSB9KSB9KTtcbiAgICAkWzNdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzNdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbNF0gIT09IGNsYXNzTmFtZSB8fCAkWzVdICE9PSBzdHlsZSB8fCAkWzZdICE9PSB0MSB8fCAkWzddICE9PSB0Mikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJzdmdcIiwgeyB3aWR0aDogdDEsIGhlaWdodDogdDIsIHZpZXdCb3g6IFwiMCAwIDU5OSA1OTlcIiwgdmVyc2lvbjogXCIxLjFcIiwgc3R5bGUsIGNsYXNzTmFtZSwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQ1LFxuICAgICAgdDZcbiAgICBdIH0pO1xuICAgICRbNF0gPSBjbGFzc05hbWU7XG4gICAgJFs1XSA9IHN0eWxlO1xuICAgICRbNl0gPSB0MTtcbiAgICAkWzddID0gdDI7XG4gICAgJFs4XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFs4XTtcbiAgfVxuICByZXR1cm4gdDc7XG59XG5jb25zdCBBcHBDb250ZXh0ID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7XG4gIGhhc0RyYXdlcjogZmFsc2UsXG4gIGRyYXdlckhvdmVyZWQ6IGZhbHNlLFxuICBkcmF3ZXJPcGVuOiBmYWxzZSxcbiAgb3BlbkRyYXdlcjogKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcIm9wZW5EcmF3ZXIgbm90IGltcGxlbWVudGVkXCIpO1xuICB9LFxuICBjbG9zZURyYXdlcjogKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNsb3NlRHJhd2VyIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfSxcbiAgYXV0b09wZW5EcmF3ZXI6IGZhbHNlXG59KTtcbmZ1bmN0aW9uIHVzZUFwcCgpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LnVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG59XG5jb25zdCBERUZBVUxUX0JSRUFEQ1JVTUJTX0NPTlRST0xMRVIgPSB7XG4gIGJyZWFkY3J1bWJzOiBbXSxcbiAgc2V0OiAocHJvcHMpID0+IHtcbiAgfVxufTtcbmNvbnN0IEJyZWFkY3J1bWJDb250ZXh0ID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dChERUZBVUxUX0JSRUFEQ1JVTUJTX0NPTlRST0xMRVIpO1xuY29uc3QgQnJlYWRjcnVtYnNQcm92aWRlciA9ICh0MCkgPT4ge1xuICBjb25zdCAkID0gYyg3KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuXG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MSA9IFtdO1xuICAgICRbMF0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMF07XG4gIH1cbiAgY29uc3QgW2JyZWFkY3J1bWJzLCBzZXRCcmVhZGNydW1ic10gPSB1c2VTdGF0ZSh0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDIgPSAocHJvcHMpID0+IHtcbiAgICAgIHNldEJyZWFkY3J1bWJzKHByb3BzLmJyZWFkY3J1bWJzKTtcbiAgICB9O1xuICAgICRbMV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMV07XG4gIH1cbiAgY29uc3Qgc2V0ID0gdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbMl0gIT09IGJyZWFkY3J1bWJzKSB7XG4gICAgdDMgPSB7XG4gICAgICBicmVhZGNydW1icyxcbiAgICAgIHNldFxuICAgIH07XG4gICAgJFsyXSA9IGJyZWFkY3J1bWJzO1xuICAgICRbM10gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbM107XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFs0XSAhPT0gY2hpbGRyZW4gfHwgJFs1XSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQnJlYWRjcnVtYkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHQzLCBjaGlsZHJlbiB9KTtcbiAgICAkWzRdID0gY2hpbGRyZW47XG4gICAgJFs1XSA9IHQzO1xuICAgICRbNl0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNl07XG4gIH1cbiAgcmV0dXJuIHQ0O1xufTtcbmNvbnN0IHVzZUJyZWFkY3J1bWJzQ29udHJvbGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQnJlYWRjcnVtYkNvbnRleHQpO1xufTtcbmNvbnN0IERlZmF1bHRBcHBCYXIgPSBmdW5jdGlvbiBEZWZhdWx0QXBwQmFyMih0MCkge1xuICBjb25zdCAkID0gYyg0Nyk7XG4gIGNvbnN0IHtcbiAgICB0aXRsZSxcbiAgICBlbmRBZG9ybm1lbnQsXG4gICAgc3RhcnRBZG9ybm1lbnQsXG4gICAgZHJvcERvd25BY3Rpb25zLFxuICAgIGluY2x1ZGVNb2RlVG9nZ2xlOiB0MSxcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGUsXG4gICAgdXNlcjogdXNlclByb3BcbiAgfSA9IHQwO1xuICBjb25zdCBpbmNsdWRlTW9kZVRvZ2dsZSA9IHQxID09PSB2b2lkIDAgPyB0cnVlIDogdDE7XG4gIGNvbnN0IHtcbiAgICBoYXNEcmF3ZXIsXG4gICAgZHJhd2VyT3BlbixcbiAgICBsb2dvXG4gIH0gPSB1c2VBcHAoKTtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGJyZWFkY3J1bWJzID0gdXNlQnJlYWRjcnVtYnNDb250cm9sbGVyKCk7XG4gIGNvbnN0IGF1dGhDb250cm9sbGVyID0gdXNlQXV0aENvbnRyb2xsZXIoKTtcbiAgY29uc3Qge1xuICAgIG1vZGUsXG4gICAgc2V0TW9kZVxuICB9ID0gdXNlTW9kZUNvbnRyb2xsZXIoKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBsYXJnZUxheW91dCA9IHVzZUxhcmdlTGF5b3V0KCk7XG4gIGNvbnN0IHVzZXIgPSB1c2VyUHJvcCA/PyBhdXRoQ29udHJvbGxlci51c2VyO1xuICBsZXQgYXZhdGFyQ29tcG9uZW50O1xuICBpZiAodXNlcikge1xuICAgIGxldCB0MjI7XG4gICAgaWYgKCRbMF0gIT09IHVzZXIuZGlzcGxheU5hbWUgfHwgJFsxXSAhPT0gdXNlci5lbWFpbCkge1xuICAgICAgdDIyID0gdXNlcj8uZGlzcGxheU5hbWUgPyB1c2VyLmRpc3BsYXlOYW1lWzBdLnRvVXBwZXJDYXNlKCkgOiB1c2VyPy5lbWFpbCA/IHVzZXIuZW1haWxbMF0udG9VcHBlckNhc2UoKSA6IFwiQVwiO1xuICAgICAgJFswXSA9IHVzZXIuZGlzcGxheU5hbWU7XG4gICAgICAkWzFdID0gdXNlci5lbWFpbDtcbiAgICAgICRbMl0gPSB0MjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQyMiA9ICRbMl07XG4gICAgfVxuICAgIGNvbnN0IGluaXRpYWwgPSB0MjI7XG4gICAgY29uc3QgdDMyID0gdXNlci5waG90b1VSTCA/PyB2b2lkIDA7XG4gICAgbGV0IHQ0MjtcbiAgICBpZiAoJFszXSAhPT0gaW5pdGlhbCB8fCAkWzRdICE9PSB0MzIpIHtcbiAgICAgIHQ0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXZhdGFyLCB7IHNyYzogdDMyLCBjaGlsZHJlbjogaW5pdGlhbCB9KTtcbiAgICAgICRbM10gPSBpbml0aWFsO1xuICAgICAgJFs0XSA9IHQzMjtcbiAgICAgICRbNV0gPSB0NDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ0MiA9ICRbNV07XG4gICAgfVxuICAgIGF2YXRhckNvbXBvbmVudCA9IHQ0MjtcbiAgfSBlbHNlIHtcbiAgICBpZiAodXNlciA9PT0gdm9pZCAwIHx8IGF1dGhDb250cm9sbGVyLmluaXRpYWxMb2FkaW5nKSB7XG4gICAgICBsZXQgdDIyO1xuICAgICAgaWYgKCRbNl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgIHQyMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicC0xIGZsZXgganVzdGlmeS1jZW50ZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU2tlbGV0b24sIHsgY2xhc3NOYW1lOiBcInctMTAgaC0xMCByb3VuZGVkLWZ1bGxcIiB9KSB9KTtcbiAgICAgICAgJFs2XSA9IHQyMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQyMiA9ICRbNl07XG4gICAgICB9XG4gICAgICBhdmF0YXJDb21wb25lbnQgPSB0MjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF2YXRhckNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuICB9XG4gIGNvbnN0IHQyID0gZHJhd2VyT3BlbiAmJiBsYXJnZUxheW91dDtcbiAgY29uc3QgdDMgPSBoYXNEcmF3ZXIgJiYgIShkcmF3ZXJPcGVuICYmIGxhcmdlTGF5b3V0KTtcbiAgY29uc3QgdDQgPSBkcmF3ZXJPcGVuICYmIGxhcmdlTGF5b3V0O1xuICBsZXQgdDU7XG4gIGlmICgkWzddICE9PSBjbGFzc05hbWUgfHwgJFs4XSAhPT0gbGFyZ2VMYXlvdXQgfHwgJFs5XSAhPT0gdDIgfHwgJFsxMF0gIT09IHQzIHx8ICRbMTFdICE9PSB0NCkge1xuICAgIHQ1ID0gY2xzKFwidy1mdWxsIGgtMTYgdHJhbnNpdGlvbi1hbGwgZWFzZS1pbiBkdXJhdGlvbi03NSBhYnNvbHV0ZSB0b3AtMCBtYXgtdy1mdWxsIG92ZXJmbG93LXgtYXV0byBuby1zY3JvbGxiYXJcIiwgXCJmbGV4IGZsZXgtcm93IGdhcC0yIHB4LTQgaXRlbXMtY2VudGVyXCIsIHtcbiAgICAgIFwicGwtWzE5cmVtXVwiOiB0MixcbiAgICAgIFwicGwtMjRcIjogdDMsXG4gICAgICBcInotMTBcIjogbGFyZ2VMYXlvdXQsXG4gICAgICBcImR1cmF0aW9uLTEwMFwiOiB0NFxuICAgIH0sIGNsYXNzTmFtZSk7XG4gICAgJFs3XSA9IGNsYXNzTmFtZTtcbiAgICAkWzhdID0gbGFyZ2VMYXlvdXQ7XG4gICAgJFs5XSA9IHQyO1xuICAgICRbMTBdID0gdDM7XG4gICAgJFsxMV0gPSB0NDtcbiAgICAkWzEyXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxMl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxM10gIT09IGhhc0RyYXdlciB8fCAkWzE0XSAhPT0gbG9nbyB8fCAkWzE1XSAhPT0gbmF2aWdhdGlvbiB8fCAkWzE2XSAhPT0gdGl0bGUpIHtcbiAgICB0NiA9IG5hdmlnYXRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtci0yIGhpZGRlbiBsZzpibG9ja1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChMaW5rLCB7IGNsYXNzTmFtZTogXCJ2aXNpdGVkOnRleHQtaW5oZXJpdCB2aXNpdGVkOmRhcms6dGV4dC1pbmhlcml0IGJsb2NrXCIsIHRvOiBuYXZpZ2F0aW9uPy5iYXNlUGF0aCA/PyBcIi9cIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgZ2FwLTRcIiwgY2hpbGRyZW46IFtcbiAgICAgICFoYXNEcmF3ZXIgJiYgKGxvZ28gPyAvKiBAX19QVVJFX18gKi8ganN4KFwiaW1nXCIsIHsgc3JjOiBsb2dvLCBhbHQ6IFwiTG9nb1wiLCBjbGFzc05hbWU6IGNscyhcInctWzMycHhdIGgtWzMycHhdIG9iamVjdC1jb250YWluXCIpIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChGaXJlQ01TTG9nbywgeyB3aWR0aDogXCIzMnB4XCIsIGhlaWdodDogXCIzMnB4XCIgfSkpLFxuICAgICAgdHlwZW9mIHRpdGxlID09PSBcInN0cmluZ1wiID8gLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsIG5vV3JhcDogdHJ1ZSwgY2hpbGRyZW46IHRpdGxlIH0pIDogdGl0bGVcbiAgICBdIH0pIH0pIH0pO1xuICAgICRbMTNdID0gaGFzRHJhd2VyO1xuICAgICRbMTRdID0gbG9nbztcbiAgICAkWzE1XSA9IG5hdmlnYXRpb247XG4gICAgJFsxNl0gPSB0aXRsZTtcbiAgICAkWzE3XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxN107XG4gIH1cbiAgbGV0IHQ3O1xuICBpZiAoJFsxOF0gIT09IGJyZWFkY3J1bWJzLmJyZWFkY3J1bWJzKSB7XG4gICAgdDcgPSBicmVhZGNydW1icy5icmVhZGNydW1icyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1yLTggaGlkZGVuIGxnOmJsb2NrXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgZ2FwLTJcIiwgY2hpbGRyZW46IGJyZWFkY3J1bWJzLmJyZWFkY3J1bWJzLm1hcChfdGVtcCRhKSB9KSB9KTtcbiAgICAkWzE4XSA9IGJyZWFkY3J1bWJzLmJyZWFkY3J1bWJzO1xuICAgICRbMTldID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE5XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzIwXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93XCIgfSk7XG4gICAgJFsyMF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMjBdO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMjFdICE9PSBlbmRBZG9ybm1lbnQpIHtcbiAgICB0OSA9IGVuZEFkb3JubWVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGVuZEFkb3JubWVudCB9KTtcbiAgICAkWzIxXSA9IGVuZEFkb3JubWVudDtcbiAgICAkWzIyXSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyMl07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMjNdICE9PSBpbmNsdWRlTW9kZVRvZ2dsZSB8fCAkWzI0XSAhPT0gbW9kZSB8fCAkWzI1XSAhPT0gc2V0TW9kZSkge1xuICAgIHQxMCA9IGluY2x1ZGVNb2RlVG9nZ2xlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKE1lbnUsIHsgdHJpZ2dlcjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNvbG9yOiBcImluaGVyaXRcIiwgXCJhcmlhLWxhYmVsXCI6IFwiT3BlbiBkcmF3ZXJcIiwgc2l6ZTogXCJsYXJnZVwiLCBjaGlsZHJlbjogbW9kZSA9PT0gXCJkYXJrXCIgPyAvKiBAX19QVVJFX18gKi8ganN4KERhcmtNb2RlSWNvbiwge30pIDogLyogQF9fUFVSRV9fICovIGpzeChMaWdodE1vZGVJY29uLCB7fSkgfSksIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51SXRlbSwgeyBvbkNsaWNrOiAoKSA9PiBzZXRNb2RlKFwiZGFya1wiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChEYXJrTW9kZUljb24sIHsgc2l6ZTogXCJzbWFsbGVzdFwiIH0pLFxuICAgICAgICBcIiBEYXJrXCJcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51SXRlbSwgeyBvbkNsaWNrOiAoKSA9PiBzZXRNb2RlKFwibGlnaHRcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goTGlnaHRNb2RlSWNvbiwgeyBzaXplOiBcInNtYWxsZXN0XCIgfSksXG4gICAgICAgIFwiIExpZ2h0IFwiXG4gICAgICBdIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoTWVudUl0ZW0sIHsgb25DbGljazogKCkgPT4gc2V0TW9kZShcInN5c3RlbVwiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnJpZ2h0bmVzc01lZGl1bUljb24sIHsgc2l6ZTogXCJzbWFsbGVzdFwiIH0pLFxuICAgICAgICBcIlN5c3RlbVwiXG4gICAgICBdIH0pXG4gICAgXSB9KTtcbiAgICAkWzIzXSA9IGluY2x1ZGVNb2RlVG9nZ2xlO1xuICAgICRbMjRdID0gbW9kZTtcbiAgICAkWzI1XSA9IHNldE1vZGU7XG4gICAgJFsyNl0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsyNl07XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMjddICE9PSB1c2VyKSB7XG4gICAgdDExID0gdXNlciAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJweC00IHB5LTIgbWItMlwiLCBjaGlsZHJlbjogW1xuICAgICAgdXNlci5kaXNwbGF5TmFtZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJib2R5MVwiLCBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY2hpbGRyZW46IHVzZXIuZGlzcGxheU5hbWUgfSksXG4gICAgICB1c2VyLmVtYWlsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkyXCIsIGNvbG9yOiBcInNlY29uZGFyeVwiLCBjaGlsZHJlbjogdXNlci5lbWFpbCB9KVxuICAgIF0gfSk7XG4gICAgJFsyN10gPSB1c2VyO1xuICAgICRbMjhdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMjhdO1xuICB9XG4gIGxldCB0MTI7XG4gIGlmICgkWzI5XSAhPT0gYXV0aENvbnRyb2xsZXIgfHwgJFszMF0gIT09IGRyb3BEb3duQWN0aW9ucyB8fCAkWzMxXSAhPT0gbmF2aWdhdGUpIHtcbiAgICB0MTIgPSAhZHJvcERvd25BY3Rpb25zICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKE1lbnVJdGVtLCB7IG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGF1dGhDb250cm9sbGVyLnNpZ25PdXQoKTtcbiAgICAgIG5hdmlnYXRlKFwiL1wiKTtcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChMb2dvdXRJY29uLCB7fSksXG4gICAgICBcIkxvZyBPdXRcIlxuICAgIF0gfSk7XG4gICAgJFsyOV0gPSBhdXRoQ29udHJvbGxlcjtcbiAgICAkWzMwXSA9IGRyb3BEb3duQWN0aW9ucztcbiAgICAkWzMxXSA9IG5hdmlnYXRlO1xuICAgICRbMzJdID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMzJdO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzMzXSAhPT0gYXZhdGFyQ29tcG9uZW50IHx8ICRbMzRdICE9PSBkcm9wRG93bkFjdGlvbnMgfHwgJFszNV0gIT09IHQxMSB8fCAkWzM2XSAhPT0gdDEyKSB7XG4gICAgdDEzID0gLyogQF9fUFVSRV9fICovIGpzeHMoTWVudSwgeyB0cmlnZ2VyOiBhdmF0YXJDb21wb25lbnQsIGNoaWxkcmVuOiBbXG4gICAgICB0MTEsXG4gICAgICBkcm9wRG93bkFjdGlvbnMsXG4gICAgICB0MTJcbiAgICBdIH0pO1xuICAgICRbMzNdID0gYXZhdGFyQ29tcG9uZW50O1xuICAgICRbMzRdID0gZHJvcERvd25BY3Rpb25zO1xuICAgICRbMzVdID0gdDExO1xuICAgICRbMzZdID0gdDEyO1xuICAgICRbMzddID0gdDEzO1xuICB9IGVsc2Uge1xuICAgIHQxMyA9ICRbMzddO1xuICB9XG4gIGxldCB0MTQ7XG4gIGlmICgkWzM4XSAhPT0gc3RhcnRBZG9ybm1lbnQgfHwgJFszOV0gIT09IHN0eWxlIHx8ICRbNDBdICE9PSB0MTAgfHwgJFs0MV0gIT09IHQxMyB8fCAkWzQyXSAhPT0gdDUgfHwgJFs0M10gIT09IHQ2IHx8ICRbNDRdICE9PSB0NyB8fCAkWzQ1XSAhPT0gdDkpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlLCBjbGFzc05hbWU6IHQ1LCBjaGlsZHJlbjogW1xuICAgICAgdDYsXG4gICAgICB0NyxcbiAgICAgIHN0YXJ0QWRvcm5tZW50LFxuICAgICAgdDgsXG4gICAgICB0OSxcbiAgICAgIHQxMCxcbiAgICAgIHQxM1xuICAgIF0gfSk7XG4gICAgJFszOF0gPSBzdGFydEFkb3JubWVudDtcbiAgICAkWzM5XSA9IHN0eWxlO1xuICAgICRbNDBdID0gdDEwO1xuICAgICRbNDFdID0gdDEzO1xuICAgICRbNDJdID0gdDU7XG4gICAgJFs0M10gPSB0NjtcbiAgICAkWzQ0XSA9IHQ3O1xuICAgICRbNDVdID0gdDk7XG4gICAgJFs0Nl0gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFs0Nl07XG4gIH1cbiAgcmV0dXJuIHQxNDtcbn07XG5mdW5jdGlvbiBfdGVtcCRhKGJyZWFkY3J1bWIsIGluZGV4KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY29sb3I6IFwic2Vjb25kYXJ5XCIsIGNoaWxkcmVuOiBcIi9cIiB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KExpbmssIHsgY2xhc3NOYW1lOiBcInZpc2l0ZWQ6dGV4dC1pbmhlcml0IHZpc2l0ZWQ6ZGFyazp0ZXh0LWluaGVyaXQgYmxvY2tcIiwgdG86IGJyZWFkY3J1bWIudXJsLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY2hpbGRyZW46IGJyZWFkY3J1bWIudGl0bGUgfSkgfSwgaW5kZXgpXG4gIF0gfSwgYnJlYWRjcnVtYi51cmwgKyBcIl9cIiArIGluZGV4KTtcbn1cbmNvbnN0IGJ1aWxkSWRzTWFwID0gKHZhbHVlKSA9PiB2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwID8gdmFsdWUubWFwKCh2LCBpbmRleCkgPT4ge1xuICBpZiAoIXYpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBbZ2V0SGFzaFZhbHVlKHYpICsgaW5kZXhdOiBnZXRSYW5kb21JZCQxKClcbiAgfTtcbn0pLnJlZHVjZSgoYSwgYikgPT4gKHtcbiAgLi4uYSxcbiAgLi4uYlxufSksIHt9KSA6IHt9O1xuZnVuY3Rpb24gQXJyYXlDb250YWluZXIoe1xuICBkcm9wcGFibGVJZCxcbiAgYWRkTGFiZWwsXG4gIHZhbHVlLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICBidWlsZEVudHJ5LFxuICBzaXplID0gXCJtZWRpdW1cIixcbiAgb25JbnRlcm5hbElkQWRkZWQsXG4gIGluY2x1ZGVBZGRCdXR0b24sXG4gIG5ld0RlZmF1bHRFbnRyeSxcbiAgb25WYWx1ZUNoYW5nZSxcbiAgY2xhc3NOYW1lLFxuICBtaW4gPSAwLFxuICBtYXggPSBJbmZpbml0eVxufSkge1xuICBjb25zdCBoYXNWYWx1ZSA9IHZhbHVlICYmIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+IDA7XG4gIGNvbnN0IGludGVybmFsSWRzUmVmID0gdXNlUmVmKGJ1aWxkSWRzTWFwKHZhbHVlKSk7XG4gIGNvbnN0IFtpbnRlcm5hbElkcywgc2V0SW50ZXJuYWxJZHNdID0gdXNlU3RhdGUoaGFzVmFsdWUgPyBPYmplY3QudmFsdWVzKGludGVybmFsSWRzUmVmLmN1cnJlbnQpIDogW10pO1xuICBjb25zdCBpdGVtQ3VzdG9tUHJvcHNSZWYgPSB1c2VSZWYoe30pO1xuICBjb25zdCB1cGRhdGVJdGVtQ3VzdG9tUHJvcHMgPSB1c2VDYWxsYmFjaygoaW50ZXJuYWxJZCwgY3VzdG9tUHJvcHMpID0+IHtcbiAgICBpdGVtQ3VzdG9tUHJvcHNSZWYuY3VycmVudFtpbnRlcm5hbElkXSA9IGN1c3RvbVByb3BzO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc1ZhbHVlICYmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCAhPT0gaW50ZXJuYWxJZHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBuZXdJbnRlcm5hbElkcyA9IHZhbHVlLm1hcCgodiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaGFzaFZhbHVlID0gZ2V0SGFzaFZhbHVlKHYpICsgaW5kZXg7XG4gICAgICAgIGlmIChoYXNoVmFsdWUgaW4gaW50ZXJuYWxJZHNSZWYuY3VycmVudCkge1xuICAgICAgICAgIHJldHVybiBpbnRlcm5hbElkc1JlZi5jdXJyZW50W2hhc2hWYWx1ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3SW50ZXJuYWxJZCA9IGdldFJhbmRvbUlkJDEoKTtcbiAgICAgICAgICBpbnRlcm5hbElkc1JlZi5jdXJyZW50W2hhc2hWYWx1ZV0gPSBuZXdJbnRlcm5hbElkO1xuICAgICAgICAgIHJldHVybiBuZXdJbnRlcm5hbElkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNldEludGVybmFsSWRzKG5ld0ludGVybmFsSWRzKTtcbiAgICB9XG4gIH0sIFtoYXNWYWx1ZSwgaW50ZXJuYWxJZHMubGVuZ3RoLCB2YWx1ZV0pO1xuICBjb25zdCBpbnNlcnRJbkVuZCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChkaXNhYmxlZCB8fCAodmFsdWUgPz8gW10pLmxlbmd0aCA+PSBtYXgpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGdldFJhbmRvbUlkJDEoKTtcbiAgICBjb25zdCBuZXdJZHMgPSBbLi4uaW50ZXJuYWxJZHMsIGlkXTtcbiAgICBpZiAob25JbnRlcm5hbElkQWRkZWQpIG9uSW50ZXJuYWxJZEFkZGVkKGlkKTtcbiAgICBzZXRJbnRlcm5hbElkcyhuZXdJZHMpO1xuICAgIG9uVmFsdWVDaGFuZ2UoWy4uLnZhbHVlID8/IFtdLCBuZXdEZWZhdWx0RW50cnldKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlID0gKGluZGV4XzApID0+IHtcbiAgICBpZiAoKHZhbHVlID8/IFtdKS5sZW5ndGggPD0gbWluKSByZXR1cm47XG4gICAgY29uc3QgbmV3SWRzXzAgPSBbLi4uaW50ZXJuYWxJZHNdO1xuICAgIG5ld0lkc18wLnNwbGljZShpbmRleF8wLCAxKTtcbiAgICBzZXRJbnRlcm5hbElkcyhuZXdJZHNfMCk7XG4gICAgb25WYWx1ZUNoYW5nZSh2YWx1ZS5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4XzApKTtcbiAgfTtcbiAgY29uc3QgY29weSA9IChpbmRleF8xKSA9PiB7XG4gICAgaWYgKCh2YWx1ZSA/PyBbXSkubGVuZ3RoID49IG1heCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkXzAgPSBnZXRSYW5kb21JZCQxKCk7XG4gICAgY29uc3QgY29weWluZ0l0ZW0gPSB2YWx1ZVtpbmRleF8xXTtcbiAgICBjb25zdCBuZXdJZHNfMSA9IFsuLi5pbnRlcm5hbElkcy5zbGljZSgwLCBpbmRleF8xICsgMSksIGlkXzAsIC4uLmludGVybmFsSWRzLnNsaWNlKGluZGV4XzEgKyAxKV07XG4gICAgaWYgKG9uSW50ZXJuYWxJZEFkZGVkKSBvbkludGVybmFsSWRBZGRlZChpZF8wKTtcbiAgICBzZXRJbnRlcm5hbElkcyhuZXdJZHNfMSk7XG4gICAgb25WYWx1ZUNoYW5nZShbLi4udmFsdWUuc2xpY2UoMCwgaW5kZXhfMSArIDEpLCBjb3B5aW5nSXRlbSwgLi4udmFsdWUuc2xpY2UoaW5kZXhfMSArIDEpXSk7XG4gIH07XG4gIGNvbnN0IGFkZEluSW5kZXggPSAoaW5kZXhfMikgPT4ge1xuICAgIGlmICgodmFsdWUgPz8gW10pLmxlbmd0aCA+PSBtYXgpIHJldHVybjtcbiAgICBjb25zdCBpZF8xID0gZ2V0UmFuZG9tSWQkMSgpO1xuICAgIGNvbnN0IG5ld0lkc18yID0gWy4uLmludGVybmFsSWRzLnNsaWNlKDAsIGluZGV4XzIpLCBpZF8xLCAuLi5pbnRlcm5hbElkcy5zbGljZShpbmRleF8yKV07XG4gICAgaWYgKG9uSW50ZXJuYWxJZEFkZGVkKSBvbkludGVybmFsSWRBZGRlZChpZF8xKTtcbiAgICBzZXRJbnRlcm5hbElkcyhuZXdJZHNfMik7XG4gICAgb25WYWx1ZUNoYW5nZShbLi4udmFsdWUuc2xpY2UoMCwgaW5kZXhfMiksIG5ld0RlZmF1bHRFbnRyeSwgLi4udmFsdWUuc2xpY2UoaW5kZXhfMildKTtcbiAgfTtcbiAgY29uc3Qgb25EcmFnRW5kID0gKHJlc3VsdCkgPT4ge1xuICAgIGlmICghcmVzdWx0LmRlc3RpbmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZUluZGV4ID0gcmVzdWx0LnNvdXJjZS5pbmRleDtcbiAgICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gcmVzdWx0LmRlc3RpbmF0aW9uLmluZGV4O1xuICAgIGNvbnN0IG5ld0lkc18zID0gWy4uLmludGVybmFsSWRzXTtcbiAgICBjb25zdCB0ZW1wID0gbmV3SWRzXzNbc291cmNlSW5kZXhdO1xuICAgIG5ld0lkc18zW3NvdXJjZUluZGV4XSA9IG5ld0lkc18zW2Rlc3RpbmF0aW9uSW5kZXhdO1xuICAgIG5ld0lkc18zW2Rlc3RpbmF0aW9uSW5kZXhdID0gdGVtcDtcbiAgICBzZXRJbnRlcm5hbElkcyhuZXdJZHNfMyk7XG4gICAgb25WYWx1ZUNoYW5nZShhcnJheU1vdmUodmFsdWUsIHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkluZGV4KSk7XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERyYWdEcm9wQ29udGV4dCwgeyBvbkRyYWdFbmQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KERyb3BwYWJsZSwgeyBkcm9wcGFibGVJZCwgcmVuZGVyQ2xvbmU6IChwcm92aWRlZCwgc25hcHNob3QsIHJ1YnJpYykgPT4ge1xuICAgIGNvbnN0IGluZGV4XzMgPSBydWJyaWMuc291cmNlLmluZGV4O1xuICAgIGNvbnN0IGludGVybmFsSWRfMCA9IGludGVybmFsSWRzW2luZGV4XzNdO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5Q29udGFpbmVySXRlbSwgeyBwcm92aWRlZCwgaW50ZXJuYWxJZDogaW50ZXJuYWxJZF8wLCBpbmRleDogaW5kZXhfMywgc2l6ZSwgZGlzYWJsZWQsIGJ1aWxkRW50cnksIHJlbW92ZSwgY29weSwgaXNEcmFnZ2luZzogc25hcHNob3QuaXNEcmFnZ2luZywgc3RvcmVkUHJvcHM6IGl0ZW1DdXN0b21Qcm9wc1JlZi5jdXJyZW50W2ludGVybmFsSWRfMF0sIHVwZGF0ZUl0ZW1DdXN0b21Qcm9wcywgYWRkSW5JbmRleCwgaW5jbHVkZUFkZEJ1dHRvbiB9KTtcbiAgfSwgY2hpbGRyZW46IChkcm9wcGFibGVQcm92aWRlZCwgZHJvcHBhYmxlU25hcHNob3QpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoXCJzcGFjZS15LTFcIiwgY2xhc3NOYW1lKSwgLi4uZHJvcHBhYmxlUHJvdmlkZWQuZHJvcHBhYmxlUHJvcHMsIHJlZjogZHJvcHBhYmxlUHJvdmlkZWQuaW5uZXJSZWYsIGNoaWxkcmVuOiBbXG4gICAgaGFzVmFsdWUgJiYgaW50ZXJuYWxJZHMubWFwKChpbnRlcm5hbElkXzEsIGluZGV4XzQpID0+IHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERyYWdnYWJsZSwgeyBkcmFnZ2FibGVJZDogYGFycmF5X2ZpZWxkXyR7aW50ZXJuYWxJZF8xfWAsIGlzRHJhZ0Rpc2FibGVkOiBkaXNhYmxlZCwgaW5kZXg6IGluZGV4XzQsIGNoaWxkcmVuOiAocHJvdmlkZWRfMCwgc25hcHNob3RfMCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChBcnJheUNvbnRhaW5lckl0ZW0sIHsgcHJvdmlkZWQ6IHByb3ZpZGVkXzAsIGludGVybmFsSWQ6IGludGVybmFsSWRfMSwgaW5kZXg6IGluZGV4XzQsIHNpemUsIGRpc2FibGVkLCBidWlsZEVudHJ5LCByZW1vdmUsIGNvcHksIGlzRHJhZ2dpbmc6IHNuYXBzaG90XzAuaXNEcmFnZ2luZywgc3RvcmVkUHJvcHM6IGl0ZW1DdXN0b21Qcm9wc1JlZi5jdXJyZW50W2ludGVybmFsSWRfMV0sIHVwZGF0ZUl0ZW1DdXN0b21Qcm9wcywgYWRkSW5JbmRleCwgaW5jbHVkZUFkZEJ1dHRvbiB9KSB9LCBgYXJyYXlfZmllbGRfJHtpbnRlcm5hbElkXzF9YCk7XG4gICAgfSksXG4gICAgZHJvcHBhYmxlUHJvdmlkZWQucGxhY2Vob2xkZXIsXG4gICAgaW5jbHVkZUFkZEJ1dHRvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm15LTQganVzdGlmeS1jZW50ZXIgdGV4dC1sZWZ0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcInRleHRcIiwgc2l6ZTogc2l6ZSA9PT0gXCJzbWFsbFwiID8gXCJzbWFsbFwiIDogXCJtZWRpdW1cIiwgY29sb3I6IFwicHJpbWFyeVwiLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgdmFsdWU/Lmxlbmd0aCA+PSBtYXgsIHN0YXJ0SWNvbjogLyogQF9fUFVSRV9fICovIGpzeChBZGRJY29uLCB7fSksIG9uQ2xpY2s6IGluc2VydEluRW5kLCBjaGlsZHJlbjogYWRkTGFiZWwgPz8gXCJBZGRcIiB9KSB9KVxuICBdIH0pIH0pIH0pO1xufVxuZnVuY3Rpb24gQXJyYXlDb250YWluZXJJdGVtKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDI5KTtcbiAgY29uc3Qge1xuICAgIHByb3ZpZGVkLFxuICAgIGluZGV4LFxuICAgIGludGVybmFsSWQsXG4gICAgc2l6ZSxcbiAgICBkaXNhYmxlZCxcbiAgICBidWlsZEVudHJ5LFxuICAgIHJlbW92ZSxcbiAgICBhZGRJbkluZGV4LFxuICAgIGluY2x1ZGVBZGRCdXR0b24sXG4gICAgY29weSxcbiAgICBpc0RyYWdnaW5nLFxuICAgIHN0b3JlZFByb3BzLFxuICAgIHVwZGF0ZUl0ZW1DdXN0b21Qcm9wc1xuICB9ID0gdDA7XG4gIGNvbnN0IHQxID0gcHJvdmlkZWQuaW5uZXJSZWY7XG4gIGNvbnN0IHQyID0gcHJvdmlkZWQuZHJhZ2dhYmxlUHJvcHM7XG4gIGNvbnN0IHQzID0gcHJvdmlkZWQuZHJhZ2dhYmxlUHJvcHMuc3R5bGU7XG4gIGNvbnN0IHQ0ID0gYHJlbGF0aXZlICR7IWlzRHJhZ2dpbmcgPyBcImhvdmVyOmJnLXN1cmZhY2UtYWNjZW50LTUwIGRhcms6aG92ZXI6Ymctc3VyZmFjZS04MDAgZGFyazpob3ZlcjpiZy1vcGFjaXR5LTIwXCIgOiBcIlwifSByb3VuZGVkLW1kIG9wYWNpdHktMTAwYDtcbiAgbGV0IHQ1O1xuICBpZiAoJFswXSAhPT0gaW50ZXJuYWxJZCB8fCAkWzFdICE9PSB1cGRhdGVJdGVtQ3VzdG9tUHJvcHMpIHtcbiAgICB0NSA9IChwcm9wcykgPT4gdXBkYXRlSXRlbUN1c3RvbVByb3BzKGludGVybmFsSWQsIHByb3BzKTtcbiAgICAkWzBdID0gaW50ZXJuYWxJZDtcbiAgICAkWzFdID0gdXBkYXRlSXRlbUN1c3RvbVByb3BzO1xuICAgICRbMl0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMl07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFszXSAhPT0gYnVpbGRFbnRyeSB8fCAkWzRdICE9PSBpbmRleCB8fCAkWzVdICE9PSBpbnRlcm5hbElkIHx8ICRbNl0gIT09IGlzRHJhZ2dpbmcgfHwgJFs3XSAhPT0gc3RvcmVkUHJvcHMgfHwgJFs4XSAhPT0gdDUpIHtcbiAgICB0NiA9IGJ1aWxkRW50cnkoe1xuICAgICAgaW5kZXgsXG4gICAgICBpbnRlcm5hbElkLFxuICAgICAgaXNEcmFnZ2luZyxcbiAgICAgIHN0b3JlZFByb3BzLFxuICAgICAgc3RvcmVQcm9wczogdDVcbiAgICB9KTtcbiAgICAkWzNdID0gYnVpbGRFbnRyeTtcbiAgICAkWzRdID0gaW5kZXg7XG4gICAgJFs1XSA9IGludGVybmFsSWQ7XG4gICAgJFs2XSA9IGlzRHJhZ2dpbmc7XG4gICAgJFs3XSA9IHN0b3JlZFByb3BzO1xuICAgICRbOF0gPSB0NTtcbiAgICAkWzldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzldO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTBdICE9PSB0Nikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgdy1bY2FsYygxMDAlLTQ4cHgpXSB0ZXh0LXRleHQtcHJpbWFyeSBkYXJrOnRleHQtdGV4dC1wcmltYXJ5LWRhcmtcIiwgY2hpbGRyZW46IHQ2IH0pO1xuICAgICRbMTBdID0gdDY7XG4gICAgJFsxMV0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMTFdO1xuICB9XG4gIGNvbnN0IHQ4ID0gc2l6ZSA9PT0gXCJzbWFsbFwiID8gXCJyb3dcIiA6IFwiY29sdW1uXCI7XG4gIGxldCB0OTtcbiAgaWYgKCRbMTJdICE9PSBhZGRJbkluZGV4IHx8ICRbMTNdICE9PSBjb3B5IHx8ICRbMTRdICE9PSBkaXNhYmxlZCB8fCAkWzE1XSAhPT0gaW5jbHVkZUFkZEJ1dHRvbiB8fCAkWzE2XSAhPT0gaW5kZXggfHwgJFsxN10gIT09IHByb3ZpZGVkIHx8ICRbMThdICE9PSByZW1vdmUgfHwgJFsxOV0gIT09IHQ4KSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5SXRlbU9wdGlvbnMsIHsgZGlyZWN0aW9uOiB0OCwgZGlzYWJsZWQsIHJlbW92ZSwgaW5kZXgsIHByb3ZpZGVkLCBhZGRJbkluZGV4LCBpbmNsdWRlQWRkQnV0dG9uLCBjb3B5IH0pO1xuICAgICRbMTJdID0gYWRkSW5JbmRleDtcbiAgICAkWzEzXSA9IGNvcHk7XG4gICAgJFsxNF0gPSBkaXNhYmxlZDtcbiAgICAkWzE1XSA9IGluY2x1ZGVBZGRCdXR0b247XG4gICAgJFsxNl0gPSBpbmRleDtcbiAgICAkWzE3XSA9IHByb3ZpZGVkO1xuICAgICRbMThdID0gcmVtb3ZlO1xuICAgICRbMTldID0gdDg7XG4gICAgJFsyMF0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMjBdO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzIxXSAhPT0gdDcgfHwgJFsyMl0gIT09IHQ5KSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1zdGFydFwiLCBjaGlsZHJlbjogW1xuICAgICAgdDcsXG4gICAgICB0OVxuICAgIF0gfSk7XG4gICAgJFsyMV0gPSB0NztcbiAgICAkWzIyXSA9IHQ5O1xuICAgICRbMjNdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMjNdO1xuICB9XG4gIGxldCB0MTE7XG4gIGlmICgkWzI0XSAhPT0gcHJvdmlkZWQuZHJhZ2dhYmxlUHJvcHMgfHwgJFsyNV0gIT09IHByb3ZpZGVkLmlubmVyUmVmIHx8ICRbMjZdICE9PSB0MTAgfHwgJFsyN10gIT09IHQ0KSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZjogdDEsIC4uLnQyLCBzdHlsZTogdDMsIGNsYXNzTmFtZTogdDQsIGNoaWxkcmVuOiB0MTAgfSk7XG4gICAgJFsyNF0gPSBwcm92aWRlZC5kcmFnZ2FibGVQcm9wcztcbiAgICAkWzI1XSA9IHByb3ZpZGVkLmlubmVyUmVmO1xuICAgICRbMjZdID0gdDEwO1xuICAgICRbMjddID0gdDQ7XG4gICAgJFsyOF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFsyOF07XG4gIH1cbiAgcmV0dXJuIHQxMTtcbn1cbmZ1bmN0aW9uIEFycmF5SXRlbU9wdGlvbnMoe1xuICBkaXJlY3Rpb24sXG4gIGRpc2FibGVkLFxuICByZW1vdmUsXG4gIGluZGV4LFxuICBwcm92aWRlZCxcbiAgY29weSxcbiAgaW5jbHVkZUFkZEJ1dHRvbixcbiAgYWRkSW5JbmRleFxufSkge1xuICBjb25zdCBbbWVudU9wZW4sIHNldE1lbnVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaWNvblJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgdXNlT3V0c2lkZUFsZXJ0ZXIoaWNvblJlZiwgKCkgPT4gc2V0TWVudU9wZW4oZmFsc2UpKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBwbC0yIHB0LTEgcGItMSBmbGV4ICR7ZGlyZWN0aW9uID09PSBcInJvd1wiID8gXCJmbGV4LXJvdy1yZXZlcnNlXCIgOiBcImZsZXgtY29sXCJ9IGl0ZW1zLWNlbnRlcmAsIHJlZjogaWNvblJlZiwgLi4ucHJvdmlkZWQuZHJhZ0hhbmRsZVByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoVG9vbHRpcCwgeyBkZWxheUR1cmF0aW9uOiA0MDAsIG9wZW46IG1lbnVPcGVuID8gZmFsc2UgOiB2b2lkIDAsIHNpZGU6IGRpcmVjdGlvbiA9PT0gXCJjb2x1bW5cIiA/IFwibGVmdFwiIDogdm9pZCAwLCB0aXRsZTogXCJEcmFnIHRvIG1vdmUuIENsaWNrIGZvciBtb3JlIG9wdGlvbnNcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgc2l6ZTogXCJzbWFsbFwiLCBkaXNhYmxlZCwgb25DbGljazogKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldE1lbnVPcGVuKHRydWUpO1xuICAgIH0sIG9uRHJhZ1N0YXJ0OiAoZV8wKSA9PiB7XG4gICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgfSwgY2xhc3NOYW1lOiBgY3Vyc29yLSR7ZGlzYWJsZWQgPyBcImluaGVyaXRcIiA6IFwiZ3JhYlwifWAsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEhhbmRsZUljb24sIHt9KSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51LCB7IHBvcnRhbENvbnRhaW5lcjogaWNvblJlZi5jdXJyZW50LCBvcGVuOiBtZW51T3BlbiwgdHJpZ2dlcjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHRhYkluZGV4OiAtMSB9KSwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoZV8xKSA9PiB7XG4gICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgcmVtb3ZlKGluZGV4KTtcbiAgICAgIH0sIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVtb3ZlSWNvbiwgeyBzaXplOiBcInNtYWxsXCIgfSksXG4gICAgICAgIFwiUmVtb3ZlXCJcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51SXRlbSwgeyBkZW5zZTogdHJ1ZSwgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgIGNvcHkoaW5kZXgpO1xuICAgICAgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDb250ZW50Q29weUljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pLFxuICAgICAgICBcIkNvcHlcIlxuICAgICAgXSB9KSxcbiAgICAgIGluY2x1ZGVBZGRCdXR0b24gJiYgYWRkSW5JbmRleCAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51SXRlbSwgeyBkZW5zZTogdHJ1ZSwgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgIGFkZEluSW5kZXgoaW5kZXgpO1xuICAgICAgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChLZXlib2FyZEFycm93VXBJY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSxcbiAgICAgICAgXCJBZGQgb24gdG9wXCJcbiAgICAgIF0gfSksXG4gICAgICBpbmNsdWRlQWRkQnV0dG9uICYmIGFkZEluSW5kZXggJiYgLyogQF9fUFVSRV9fICovIGpzeHMoTWVudUl0ZW0sIHsgZGVuc2U6IHRydWUsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xuICAgICAgICBhZGRJbkluZGV4KGluZGV4ICsgMSk7XG4gICAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEtleWJvYXJkQXJyb3dEb3duSWNvbiwgeyBzaXplOiBcInNtYWxsXCIgfSksXG4gICAgICAgIFwiQWRkIGJlbG93XCJcbiAgICAgIF0gfSlcbiAgICBdIH0pXG4gIF0gfSkgfSk7XG59XG5mdW5jdGlvbiBhcnJheU1vdmUodmFsdWUsIHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkluZGV4KSB7XG4gIGNvbnN0IHJlc3VsdCA9IEFycmF5LmZyb20odmFsdWUpO1xuICBjb25zdCBbcmVtb3ZlZF0gPSByZXN1bHQuc3BsaWNlKHNvdXJjZUluZGV4LCAxKTtcbiAgcmVzdWx0LnNwbGljZShkZXN0aW5hdGlvbkluZGV4LCAwLCByZW1vdmVkKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFJhbmRvbUlkJDEoKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSk7XG59XG5mdW5jdGlvbiBSZWZlcmVuY2VXaWRnZXQoe1xuICBuYW1lLFxuICBtdWx0aXNlbGVjdCA9IGZhbHNlLFxuICBwYXRoLFxuICBkaXNhYmxlZCxcbiAgdmFsdWUsXG4gIG9uUmVmZXJlbmNlU2VsZWN0ZWQsXG4gIG9uTXVsdGlwbGVSZWZlcmVuY2VTZWxlY3RlZCxcbiAgcHJldmlld1Byb3BlcnRpZXMsXG4gIGZvcmNlRmlsdGVyLFxuICBzaXplLFxuICBjbGFzc05hbWUsXG4gIGluY2x1ZGVJZCxcbiAgaW5jbHVkZUVudGl0eUxpbmtcbn0pIHtcbiAgY29uc3QgbmF2aWdhdGlvbkNvbnRyb2xsZXIgPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBjb2xsZWN0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG5hdmlnYXRpb25Db250cm9sbGVyLmdldENvbGxlY3Rpb24ocGF0aCk7XG4gIH0sIFtwYXRoLCBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uXSk7XG4gIGNvbnN0IG9uU2luZ2xlRW50aXR5U2VsZWN0ZWQgPSB1c2VDYWxsYmFjaygoZW50aXR5KSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgaWYgKG9uUmVmZXJlbmNlU2VsZWN0ZWQpIHtcbiAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IGVudGl0eSA/IGdldFJlZmVyZW5jZUZyb20oZW50aXR5KSA6IG51bGw7XG4gICAgICBvblJlZmVyZW5jZVNlbGVjdGVkPy4oe1xuICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgIGVudGl0eVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZGlzYWJsZWQsIG9uUmVmZXJlbmNlU2VsZWN0ZWRdKTtcbiAgY29uc3Qgb25NdWx0aXBsZUVudGl0aWVzU2VsZWN0ZWQgPSB1c2VDYWxsYmFjaygoZW50aXRpZXMpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcbiAgICBpZiAob25NdWx0aXBsZVJlZmVyZW5jZVNlbGVjdGVkKSB7XG4gICAgICBjb25zdCByZWZlcmVuY2VzID0gZW50aXRpZXMgPyBlbnRpdGllcy5tYXAoKGUpID0+IGdldFJlZmVyZW5jZUZyb20oZSkpIDogbnVsbDtcbiAgICAgIG9uTXVsdGlwbGVSZWZlcmVuY2VTZWxlY3RlZCh7XG4gICAgICAgIHJlZmVyZW5jZXMsXG4gICAgICAgIGVudGl0aWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtkaXNhYmxlZCwgb25SZWZlcmVuY2VTZWxlY3RlZF0pO1xuICBjb25zdCByZWZlcmVuY2VEaWFsb2dDb250cm9sbGVyID0gdXNlUmVmZXJlbmNlRGlhbG9nKHtcbiAgICBtdWx0aXNlbGVjdCxcbiAgICBwYXRoLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgb25TaW5nbGVFbnRpdHlTZWxlY3RlZCxcbiAgICBvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZCxcbiAgICBmb3JjZUZpbHRlclxuICB9KTtcbiAgdXNlQ2FsbGJhY2soKGVfMCkgPT4ge1xuICAgIGVfMC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAobXVsdGlzZWxlY3QpIHtcbiAgICAgIG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkKFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TaW5nbGVFbnRpdHlTZWxlY3RlZChudWxsKTtcbiAgICB9XG4gIH0sIFtvblJlZmVyZW5jZVNlbGVjdGVkXSk7XG4gIGxldCBjaGlsZDtcbiAgY29uc3Qgb25FbnRyeUNsaWNrID0gKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuO1xuICAgIHJlZmVyZW5jZURpYWxvZ0NvbnRyb2xsZXIub3BlbigpO1xuICB9O1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjaGlsZCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtNFwiLCBjaGlsZHJlbjogdmFsdWUubWFwKChyZWYsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSZWZlcmVuY2VQcmV2aWV3LCB7IG9uQ2xpY2s6IG9uRW50cnlDbGljaywgcmVmZXJlbmNlOiByZWYsIGRpc2FibGVkLCBwcmV2aWV3UHJvcGVydGllcywgc2l6ZSwgaW5jbHVkZUlkLCBpbmNsdWRlRW50aXR5TGluayB9LCBgcmVmZXJlbmNlX3ByZXZpZXdfJHtpbmRleH1gKTtcbiAgICB9KSB9KTtcbiAgfSBlbHNlIGlmICh2YWx1ZT8uaXNFbnRpdHlSZWZlcmVuY2UgJiYgdmFsdWU/LmlzRW50aXR5UmVmZXJlbmNlKCkpIHtcbiAgICBjaGlsZCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlldywgeyByZWZlcmVuY2U6IHZhbHVlLCBvbkNsaWNrOiBvbkVudHJ5Q2xpY2ssIGRpc2FibGVkLCBwcmV2aWV3UHJvcGVydGllcywgc2l6ZSwgaW5jbHVkZUlkLCBpbmNsdWRlRW50aXR5TGluayB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcInRleHQtc20gZm9udC1tZWRpdW1cIiwgXCJtaW4tdy04MCBmbGV4IGZsZXgtY29sIGdhcC00XCIsIFwicmVsYXRpdmUgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGVhc2UtaW4gcm91bmRlZCBmb250LW1lZGl1bVwiLCBkaXNhYmxlZCA/IFwiYmctb3BhY2l0eS01MFwiIDogXCJob3ZlcjpiZy1vcGFjaXR5LTc1XCIsIFwidGV4dC1vcGFjaXR5LTUwIGRhcms6dGV4dC13aGl0ZSBkYXJrOnRleHQtb3BhY2l0eS01MFwiLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogW1xuICAgIGNoaWxkLFxuICAgICF2YWx1ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImp1c3RpZnktY2VudGVyIHRleHQtbGVmdFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoQnV0dG9uLCB7IHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCBkaXNhYmxlZCwgb25DbGljazogb25FbnRyeUNsaWNrLCBjaGlsZHJlbjogW1xuICAgICAgXCJFZGl0IFwiLFxuICAgICAgbmFtZVxuICAgIF0gfSkgfSlcbiAgXSB9KTtcbn1cbmNvbnN0IFVQREFURV9TRUFSQ0hfSU5ERVhfV0FJVF9NUyA9IDIyMDtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgT2JqZWN0LmtleXMoaWNvblN5bm9ueW1zKS5mb3JFYWNoKChpY29uKSA9PiB7XG4gICAgaWYgKCFpY29uS2V5cy5pbmNsdWRlcyhpY29uKSkge1xuICAgICAgY29uc29sZS53YXJuKGBUaGUgaWNvbiAke2ljb259IG5vIGxvbmdlciBleGlzdHMuIFJlbW92ZSBpdCBmcm9tIFxcYGljb25TeW5vbnltc1xcYGApO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBTZWFyY2hJY29uc1ZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMTQpO1xuICBjb25zdCB7XG4gICAgc2VsZWN0ZWRJY29uOiB0MSxcbiAgICBvbkljb25TZWxlY3RlZFxuICB9ID0gdDA7XG4gIGNvbnN0IHNlbGVjdGVkSWNvbiA9IHQxID09PSB2b2lkIDAgPyBcIlwiIDogdDE7XG4gIGNvbnN0IFtrZXlzLCBzZXRLZXlzXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKFwiXCIpO1xuICBsZXQgdDI7XG4gIGxldCB0MztcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDMgPSBkZWJvdW5jZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgc2V0S2V5cyhudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IGljb25zU2VhcmNoLnNlYXJjaCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGxpbWl0ZWQgPSBzZWFyY2hSZXN1bHQuc2xpY2UoMCwgNTApO1xuICAgICAgICBzZXRLZXlzKGxpbWl0ZWQubWFwKF90ZW1wJDkpKTtcbiAgICAgIH1cbiAgICB9LCBVUERBVEVfU0VBUkNIX0lOREVYX1dBSVRfTVMpO1xuICAgICRbMF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMF07XG4gIH1cbiAgdDIgPSB0MztcbiAgY29uc3QgdXBkYXRlU2VhcmNoUmVzdWx0cyA9IHQyO1xuICBsZXQgdDQ7XG4gIGxldCB0NTtcbiAgaWYgKCRbMV0gIT09IHF1ZXJ5KSB7XG4gICAgdDQgPSAoKSA9PiB7XG4gICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzKHF1ZXJ5KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdHMuY2xlYXIoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0NSA9IFtxdWVyeSwgdXBkYXRlU2VhcmNoUmVzdWx0c107XG4gICAgJFsxXSA9IHF1ZXJ5O1xuICAgICRbMl0gPSB0NDtcbiAgICAkWzNdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzJdO1xuICAgIHQ1ID0gJFszXTtcbiAgfVxuICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QodDQsIHQ1KTtcbiAgY29uc3QgaWNvbnMgPSBrZXlzID09PSBudWxsID8gY29vbEljb25LZXlzIDoga2V5cztcbiAgbGV0IHQ2O1xuICBpZiAoJFs0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goU2VhcmNoQmFyLCB7IGF1dG9Gb2N1czogZmFsc2UsIGlubmVyQ2xhc3NOYW1lOiBcInctZnVsbCBzdGlja3kgdG9wLTAgei0xMFwiLCBvblRleHRTZWFyY2g6ICh2YWx1ZV8wKSA9PiBzZXRRdWVyeSh2YWx1ZV8wID8/IFwiXCIpLCBwbGFjZWhvbGRlcjogXCJTZWFyY2ggZm9yIG1vcmUgaWNvbnPigKZcIiB9KTtcbiAgICAkWzRdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzRdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbNV0gIT09IGljb25zIHx8ICRbNl0gIT09IG9uSWNvblNlbGVjdGVkIHx8ICRbN10gIT09IHNlbGVjdGVkSWNvbikge1xuICAgIGxldCB0ODI7XG4gICAgaWYgKCRbOV0gIT09IG9uSWNvblNlbGVjdGVkIHx8ICRbMTBdICE9PSBzZWxlY3RlZEljb24pIHtcbiAgICAgIHQ4MiA9IChpY29uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgdGl0bGU6IGljb24sIGFzQ2hpbGQ6IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgc2hhcGU6IFwic3F1YXJlXCIsIHRvZ2dsZWQ6IHNlbGVjdGVkSWNvbiA9PT0gaWNvbiwgb25DbGljazogb25JY29uU2VsZWN0ZWQgPyAoKSA9PiBvbkljb25TZWxlY3RlZChpY29uKSA6IHZvaWQgMCwgY2xhc3NOYW1lOiBcImJveC1jb250ZW50IG0tMVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uLCB7IGljb25LZXk6IGljb24sIHNpemU6IDI0IH0pIH0pIH0sIGljb24pO1xuICAgICAgJFs5XSA9IG9uSWNvblNlbGVjdGVkO1xuICAgICAgJFsxMF0gPSBzZWxlY3RlZEljb247XG4gICAgICAkWzExXSA9IHQ4MjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDgyID0gJFsxMV07XG4gICAgfVxuICAgIHQ3ID0gaWNvbnMubWFwKHQ4Mik7XG4gICAgJFs1XSA9IGljb25zO1xuICAgICRbNl0gPSBvbkljb25TZWxlY3RlZDtcbiAgICAkWzddID0gc2VsZWN0ZWRJY29uO1xuICAgICRbOF0gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbOF07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxMl0gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDYsXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggbWF4LXctZnVsbCBmbGV4LXdyYXAgbXQtNFwiLCBjaGlsZHJlbjogdDcgfSlcbiAgICBdIH0pO1xuICAgICRbMTJdID0gdDc7XG4gICAgJFsxM10gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMTNdO1xuICB9XG4gIHJldHVybiB0ODtcbn1cbmZ1bmN0aW9uIF90ZW1wJDkoZSkge1xuICByZXR1cm4gZS5pdGVtLmtleTtcbn1cbmZ1bmN0aW9uIEZpZWxkQ2FwdGlvbih0MCkge1xuICBjb25zdCAkID0gYygzKTtcbiAgY29uc3Qge1xuICAgIGVycm9yLFxuICAgIGNoaWxkcmVuXG4gIH0gPSB0MDtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHQxID0gZXJyb3IgPyBcImVycm9yXCIgOiBcInNlY29uZGFyeVwiO1xuICBsZXQgdDI7XG4gIGlmICgkWzBdICE9PSBjaGlsZHJlbiB8fCAkWzFdICE9PSB0MSkge1xuICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjb2xvcjogdDEsIGNsYXNzTmFtZTogXCJtbC0zLjUgbXQtMC41XCIsIGNoaWxkcmVuIH0pO1xuICAgICRbMF0gPSBjaGlsZHJlbjtcbiAgICAkWzFdID0gdDE7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICByZXR1cm4gdDI7XG59XG5mdW5jdGlvbiBDdXN0b21JZEZpZWxkKHtcbiAgY3VzdG9tSWQsXG4gIGVudGl0eUlkLFxuICBzdGF0dXMsXG4gIG9uQ2hhbmdlLFxuICBlcnJvcixcbiAgZW50aXR5LFxuICBsb2FkaW5nXG59KSB7XG4gIGNvbnN0IHtcbiAgICBlcnJvcnNcbiAgfSA9IHVzZUZvcm1leCgpO1xuICBjb25zdCBkaXNhYmxlZCA9IHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiIHx8ICFjdXN0b21JZDtcbiAgY29uc3QgaWRTZXRBdXRvbWF0aWNhbGx5ID0gc3RhdHVzICE9PSBcImV4aXN0aW5nXCIgJiYgIWN1c3RvbUlkO1xuICBjb25zdCBlbnVtVmFsdWVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFjdXN0b21JZCB8fCB0eXBlb2YgY3VzdG9tSWQgPT09IFwiYm9vbGVhblwiIHx8IGN1c3RvbUlkID09PSBcIm9wdGlvbmFsXCIpIHJldHVybiB2b2lkIDA7XG4gICAgcmV0dXJuIGVudW1Ub09iamVjdEVudHJpZXMoY3VzdG9tSWQpO1xuICB9LCBbY3VzdG9tSWRdKTtcbiAgY29uc3Qgc25hY2tiYXJDb250cm9sbGVyID0gdXNlU25hY2tiYXJDb250cm9sbGVyKCk7XG4gIGNvbnN0IHtcbiAgICBjb3B5XG4gIH0gPSB1c2VDbGlwYm9hcmQoe1xuICAgIG9uU3VjY2VzczogKHRleHQpID0+IHNuYWNrYmFyQ29udHJvbGxlci5vcGVuKHtcbiAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxuICAgICAgbWVzc2FnZTogYENvcGllZCAke3RleHR9YFxuICAgIH0pXG4gIH0pO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGZpZWxkUHJvcHMgPSB7XG4gICAgbGFiZWw6IGlkU2V0QXV0b21hdGljYWxseSA/IFwiSUQgaXMgc2V0IGF1dG9tYXRpY2FsbHlcIiA6IFwiSURcIixcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgbG9hZGluZyxcbiAgICBuYW1lOiBcImlkXCIsXG4gICAgdmFsdWU6IChlbnRpdHkgJiYgc3RhdHVzID09PSBcImV4aXN0aW5nXCIgPyBlbnRpdHkuaWQgOiBlbnRpdHlJZCkgPz8gXCJcIixcbiAgICBlbmRBZG9ybm1lbnQ6IGxvYWRpbmcgPyAvKiBAX19QVVJFX18gKi8ganN4KENpcmN1bGFyUHJvZ3Jlc3MsIHsgc2l6ZTogXCJzbWFsbFwiIH0pIDogZW50aXR5ID8gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogXCJDb3B5XCIsIGFzQ2hpbGQ6IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgb25DbGljazogKGUpID0+IGNvcHkoZW50aXR5LmlkKSwgXCJhcmlhLWxhYmVsXCI6IFwiY29weS1pZFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb250ZW50Q29weUljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pIH0pIH0pLFxuICAgICAgY3VzdG9taXphdGlvbkNvbnRyb2xsZXI/LmVudGl0eUxpbmtCdWlsZGVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogXCJPcGVuIGluIHRoZSBjb25zb2xlXCIsIGFzQ2hpbGQ6IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgY29tcG9uZW50OiBcImFcIiwgaHJlZjogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIuZW50aXR5TGlua0J1aWxkZXIoe1xuICAgICAgICBlbnRpdHlcbiAgICAgIH0pLCByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIG9uQ2xpY2s6IChlXzApID0+IGVfMC5zdG9wUHJvcGFnYXRpb24oKSwgXCJhcmlhLWxhYmVsXCI6IFwiZ28tdG8tZGF0YXNvdXJjZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChPcGVuSW5OZXdJY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSB9KSB9KVxuICAgIF0gfSkgOiB2b2lkIDBcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgZW51bVZhbHVlcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyBzaXplOiBcImxhcmdlXCIsIGVycm9yLCBmdWxsV2lkdGg6IHRydWUsIG9uVmFsdWVDaGFuZ2U6ICh2KSA9PiBvbkNoYW5nZSh2KSwgLi4uZmllbGRQcm9wcywgcmVuZGVyVmFsdWU6IChvcHRpb24pID0+IHtcbiAgICAgIGNvbnN0IGVudW1Db25maWcgPSBlbnVtVmFsdWVzLmZpbmQoKGVfMSkgPT4gZV8xLmlkID09PSBvcHRpb24pO1xuICAgICAgaWYgKCFlbnVtQ29uZmlnKSByZXR1cm4gb3B0aW9uO1xuICAgICAgcmV0dXJuIGAke2VudW1Db25maWcuaWR9IC0gJHtlbnVtQ29uZmlnLmxhYmVsfWA7XG4gICAgfSwgY2hpbGRyZW46IGVudW1WYWx1ZXMubWFwKChlbnVtQ29uZmlnXzApID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goU2VsZWN0SXRlbSwgeyB2YWx1ZTogU3RyaW5nKGVudW1Db25maWdfMC5pZCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVudW1WYWx1ZXNDaGlwLCB7IGVudW1LZXk6IGVudW1Db25maWdfMC5pZCwgZW51bVZhbHVlcywgc2l6ZTogXCJtZWRpdW1cIiB9KSB9LCBlbnVtQ29uZmlnXzAuaWQpKSB9KSxcbiAgICAhZW51bVZhbHVlcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRleHRGaWVsZCwgeyAuLi5maWVsZFByb3BzLCBlcnJvciwgcGxhY2Vob2xkZXI6IGN1c3RvbUlkID09PSBcIm9wdGlvbmFsXCIgPyBcIkF1dG9nZW5lcmF0ZWQgSUQsIGl0IGNhbiBiZSBtYW51YWxseSBjaGFuZ2VkXCIgOiBzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIiA/IFwiSUQgb2YgdGhlIG5ldyBkb2N1bWVudFwiIDogXCJJRCBvZiB0aGUgZG9jdW1lbnRcIiwgb25DaGFuZ2U6IChldmVudCkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgaWYgKHZhbHVlKSB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgIHJldHVybiBvbkNoYW5nZSh2YWx1ZS5sZW5ndGggPyB2YWx1ZSA6IHZvaWQgMCk7XG4gICAgfSB9KSxcbiAgICBlcnJvcnMuaWQgJiYgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjbGFzc05hbWU6IFwibWwtMy41IHRleHQtcmVkLTUwMCBkYXJrOnRleHQtcmVkLTUwMFwiLCBjaGlsZHJlbjogZXJyb3JzLmlkIH0pXG4gIF0gfSk7XG59XG5jb25zdCBFcnJvckZvY3VzID0gKHQwKSA9PiB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgY29udGFpbmVyUmVmXG4gIH0gPSB0MDtcbiAgY29uc3Qge1xuICAgIGlzU3VibWl0dGluZyxcbiAgICBpc1ZhbGlkYXRpbmcsXG4gICAgZXJyb3JzXG4gIH0gPSB1c2VGb3JtZXgoKTtcbiAgbGV0IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzBdICE9PSBjb250YWluZXJSZWYgfHwgJFsxXSAhPT0gZXJyb3JzIHx8ICRbMl0gIT09IGlzU3VibWl0dGluZyB8fCAkWzNdICE9PSBpc1ZhbGlkYXRpbmcpIHtcbiAgICB0MSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlcnJvcnMpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiBpc1N1Ym1pdHRpbmcgJiYgIWlzVmFsaWRhdGluZykge1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBjb250YWluZXJSZWY/LmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoYCNmb3JtX2ZpZWxkXyR7a2V5c1swXX1gKTtcbiAgICAgICAgaWYgKGVycm9yRWxlbWVudCAmJiBjb250YWluZXJSZWY/LmN1cnJlbnQpIHtcbiAgICAgICAgICBjb25zdCBzY3JvbGxhYmxlUGFyZW50ID0gZ2V0U2Nyb2xsYWJsZVBhcmVudChjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgaWYgKHNjcm9sbGFibGVQYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGVycm9yRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgdG9wOiBzY3JvbGxhYmxlUGFyZW50LnNjcm9sbFRvcCArIHRvcCAtIDE5NixcbiAgICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbnB1dCA9IGVycm9yRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdDIgPSBbaXNTdWJtaXR0aW5nLCBpc1ZhbGlkYXRpbmcsIGVycm9ycywgY29udGFpbmVyUmVmXTtcbiAgICAkWzBdID0gY29udGFpbmVyUmVmO1xuICAgICRbMV0gPSBlcnJvcnM7XG4gICAgJFsyXSA9IGlzU3VibWl0dGluZztcbiAgICAkWzNdID0gaXNWYWxpZGF0aW5nO1xuICAgICRbNF0gPSB0MTtcbiAgICAkWzVdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzRdO1xuICAgIHQyID0gJFs1XTtcbiAgfVxuICB1c2VFZmZlY3QodDEsIHQyKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgaXNTY3JvbGxhYmxlID0gKGVsZSkgPT4ge1xuICBjb25zdCBoYXNTY3JvbGxhYmxlQ29udGVudCA9IGVsZSAmJiBlbGUuc2Nyb2xsSGVpZ2h0ID4gZWxlLmNsaWVudEhlaWdodDtcbiAgY29uc3Qgb3ZlcmZsb3dZU3R5bGUgPSBlbGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGUpLm92ZXJmbG93WSA6IG51bGw7XG4gIGNvbnN0IGlzT3ZlcmZsb3dIaWRkZW4gPSBvdmVyZmxvd1lTdHlsZSAmJiBvdmVyZmxvd1lTdHlsZS5pbmRleE9mKFwiaGlkZGVuXCIpICE9PSAtMTtcbiAgcmV0dXJuIGhhc1Njcm9sbGFibGVDb250ZW50ICYmICFpc092ZXJmbG93SGlkZGVuO1xufTtcbmNvbnN0IGdldFNjcm9sbGFibGVQYXJlbnQgPSAoZWxlKSA9PiB7XG4gIHJldHVybiAhZWxlIHx8IGVsZSA9PT0gZG9jdW1lbnQuYm9keSA/IGRvY3VtZW50LmJvZHkgOiBpc1Njcm9sbGFibGUoZWxlKSA/IGVsZSA6IGdldFNjcm9sbGFibGVQYXJlbnQoZWxlLnBhcmVudE5vZGUpO1xufTtcbmZ1bmN0aW9uIEVudGl0eUZvcm1BY3Rpb25zKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDEyKTtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgZW50aXR5LFxuICAgIGxheW91dCxcbiAgICBzYXZpbmdFcnJvcixcbiAgICBmb3JtZXgsXG4gICAgZGlzYWJsZWQsXG4gICAgc3RhdHVzLFxuICAgIHBsdWdpbkFjdGlvbnMsXG4gICAgb3BlbkVudGl0eU1vZGVcbiAgfSA9IHQwO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRmlyZUNNU0NvbnRleHQoKTtcbiAgY29uc3Qgc2lkZUVudGl0eUNvbnRyb2xsZXIgPSB1c2VTaWRlRW50aXR5Q29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjb2xsZWN0aW9uIHx8ICRbMV0gIT09IGNvbnRleHQgfHwgJFsyXSAhPT0gZGlzYWJsZWQgfHwgJFszXSAhPT0gZW50aXR5IHx8ICRbNF0gIT09IGZvcm1leC5pc1N1Ym1pdHRpbmcgfHwgJFs1XSAhPT0gbGF5b3V0IHx8ICRbNl0gIT09IG9wZW5FbnRpdHlNb2RlIHx8ICRbN10gIT09IHBsdWdpbkFjdGlvbnMgfHwgJFs4XSAhPT0gc2F2aW5nRXJyb3IgfHwgJFs5XSAhPT0gc2lkZUVudGl0eUNvbnRyb2xsZXIgfHwgJFsxMF0gIT09IHN0YXR1cykge1xuICAgIHQxID0gbGF5b3V0ID09PSBcImJvdHRvbVwiID8gYnVpbGRCb3R0b21BY3Rpb25zJDEoe1xuICAgICAgc2F2aW5nRXJyb3IsXG4gICAgICBlbnRpdHksXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29udGV4dCxcbiAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgICAgaXNTdWJtaXR0aW5nOiBmb3JtZXguaXNTdWJtaXR0aW5nLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBwbHVnaW5BY3Rpb25zLFxuICAgICAgb3BlbkVudGl0eU1vZGVcbiAgICB9KSA6IGJ1aWxkU2lkZUFjdGlvbnMkMSh7XG4gICAgICBzYXZpbmdFcnJvcixcbiAgICAgIGVudGl0eSxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBjb250ZXh0LFxuICAgICAgc2lkZUVudGl0eUNvbnRyb2xsZXIsXG4gICAgICBpc1N1Ym1pdHRpbmc6IGZvcm1leC5pc1N1Ym1pdHRpbmcsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHN0YXR1cyxcbiAgICAgIHBsdWdpbkFjdGlvbnMsXG4gICAgICBvcGVuRW50aXR5TW9kZVxuICAgIH0pO1xuICAgICRbMF0gPSBjb2xsZWN0aW9uO1xuICAgICRbMV0gPSBjb250ZXh0O1xuICAgICRbMl0gPSBkaXNhYmxlZDtcbiAgICAkWzNdID0gZW50aXR5O1xuICAgICRbNF0gPSBmb3JtZXguaXNTdWJtaXR0aW5nO1xuICAgICRbNV0gPSBsYXlvdXQ7XG4gICAgJFs2XSA9IG9wZW5FbnRpdHlNb2RlO1xuICAgICRbN10gPSBwbHVnaW5BY3Rpb25zO1xuICAgICRbOF0gPSBzYXZpbmdFcnJvcjtcbiAgICAkWzldID0gc2lkZUVudGl0eUNvbnRyb2xsZXI7XG4gICAgJFsxMF0gPSBzdGF0dXM7XG4gICAgJFsxMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMTFdO1xuICB9XG4gIHJldHVybiB0MTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQm90dG9tQWN0aW9ucyQxKHtcbiAgc2F2aW5nRXJyb3IsXG4gIGVudGl0eSxcbiAgZm9ybUFjdGlvbnMsXG4gIGNvbGxlY3Rpb24sXG4gIGNvbnRleHQsXG4gIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICBpc1N1Ym1pdHRpbmcsXG4gIGRpc2FibGVkLFxuICBzdGF0dXMsXG4gIHBsdWdpbkFjdGlvbnMsXG4gIG9wZW5FbnRpdHlNb2RlXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2dBY3Rpb25zLCB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGNoaWxkcmVuOiBbXG4gICAgc2F2aW5nRXJyb3IgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXJpZ2h0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgY29sb3I6IFwiZXJyb3JcIiwgY2hpbGRyZW46IHNhdmluZ0Vycm9yLm1lc3NhZ2UgfSkgfSksXG4gICAgZW50aXR5ICYmIChmb3JtQWN0aW9ucyA/PyBbXSkubGVuZ3RoID4gMCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXgtZ3JvdyBmbGV4IG92ZXJmbG93LWF1dG8gbm8tc2Nyb2xsYmFyXCIsIGNoaWxkcmVuOiAoZm9ybUFjdGlvbnMgPz8gW10pLm1hcCgoYWN0aW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgY29sb3I6IFwicHJpbWFyeVwiLCBvbkNsaWNrOiAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKGVudGl0eSkgYWN0aW9uLm9uQ2xpY2soe1xuICAgICAgICBlbnRpdHksXG4gICAgICAgIGZ1bGxQYXRoOiBjb2xsZWN0aW9uLnBhdGgsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgICAgICBvcGVuRW50aXR5TW9kZVxuICAgICAgfSk7XG4gICAgfSwgY2hpbGRyZW46IGFjdGlvbi5pY29uIH0sIGFjdGlvbi5uYW1lKSkgfSksXG4gICAgcGx1Z2luQWN0aW9ucyxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB2YXJpYW50OiBcInRleHRcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IGlzU3VibWl0dGluZywgdHlwZTogXCJyZXNldFwiLCBjaGlsZHJlbjogc3RhdHVzID09PSBcImV4aXN0aW5nXCIgPyBcIkRpc2NhcmRcIiA6IFwiQ2xlYXJcIiB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhCdXR0b24sIHsgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCB0eXBlOiBcInN1Ym1pdFwiLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgaXNTdWJtaXR0aW5nLCBjaGlsZHJlbjogW1xuICAgICAgc3RhdHVzID09PSBcImV4aXN0aW5nXCIgJiYgXCJTYXZlXCIsXG4gICAgICBzdGF0dXMgPT09IFwiY29weVwiICYmIFwiQ3JlYXRlIGNvcHlcIixcbiAgICAgIHN0YXR1cyA9PT0gXCJuZXdcIiAmJiBcIkNyZWF0ZVwiXG4gICAgXSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gYnVpbGRTaWRlQWN0aW9ucyQxKHtcbiAgc2F2aW5nRXJyb3IsXG4gIGVudGl0eSxcbiAgZm9ybUFjdGlvbnMsXG4gIGNvbGxlY3Rpb24sXG4gIGNvbnRleHQsXG4gIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICBpc1N1Ym1pdHRpbmcsXG4gIGRpc2FibGVkLFxuICBzdGF0dXMsXG4gIHBsdWdpbkFjdGlvbnNcbn0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoXCJvdmVyZmxvdy1hdXRvIGgtZnVsbCBmbGV4IGZsZXgtY29sIGdhcC0yIHctODAgMnhsOnctOTYgcHgtNCBweS0xNiBzdGlja3kgdG9wLTAgYm9yZGVyLWxcIiwgZGVmYXVsdEJvcmRlck1peGluKSwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhMb2FkaW5nQnV0dG9uLCB7IGZ1bGxXaWR0aDogdHJ1ZSwgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCB0eXBlOiBcInN1Ym1pdFwiLCBzaXplOiBcImxhcmdlXCIsIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpc1N1Ym1pdHRpbmcsIGNoaWxkcmVuOiBbXG4gICAgICBzdGF0dXMgPT09IFwiZXhpc3RpbmdcIiAmJiBcIlNhdmVcIixcbiAgICAgIHN0YXR1cyA9PT0gXCJjb3B5XCIgJiYgXCJDcmVhdGUgY29weVwiLFxuICAgICAgc3RhdHVzID09PSBcIm5ld1wiICYmIFwiQ3JlYXRlXCJcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IGZ1bGxXaWR0aDogdHJ1ZSwgdmFyaWFudDogXCJ0ZXh0XCIsIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpc1N1Ym1pdHRpbmcsIHR5cGU6IFwicmVzZXRcIiwgY2hpbGRyZW46IHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiID8gXCJEaXNjYXJkXCIgOiBcIkNsZWFyXCIgfSksXG4gICAgcGx1Z2luQWN0aW9ucyxcbiAgICBzYXZpbmdFcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHQtcmlnaHRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjb2xvcjogXCJlcnJvclwiLCBjaGlsZHJlbjogc2F2aW5nRXJyb3IubWVzc2FnZSB9KSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gRW50aXR5Rm9ybSh7XG4gIHBhdGgsXG4gIGVudGl0eUlkOiBlbnRpdHlJZFByb3AsXG4gIGNvbGxlY3Rpb24sXG4gIG9uVmFsdWVzTW9kaWZpZWQsXG4gIG9uSWRDaGFuZ2UsXG4gIG9uU2F2ZWQsXG4gIGVudGl0eSxcbiAgaW5pdGlhbERpcnR5VmFsdWVzLFxuICBvbkZvcm1Db250ZXh0UmVhZHksXG4gIGZvcmNlQWN0aW9uc0F0VGhlQm90dG9tLFxuICBpbml0aWFsU3RhdHVzLFxuICBjbGFzc05hbWUsXG4gIG9uU3RhdHVzQ2hhbmdlLFxuICBvbkVudGl0eUNoYW5nZSxcbiAgb3BlbkVudGl0eU1vZGUgPSBcImZ1bGxfc2NyZWVuXCIsXG4gIGZvcm1leDogZm9ybWV4UHJvcCxcbiAgQnVpbGRlcixcbiAgRW50aXR5Rm9ybUFjdGlvbnNDb21wb25lbnQgPSBFbnRpdHlGb3JtQWN0aW9ucyxcbiAgc2hvd0RlZmF1bHRBY3Rpb25zID0gdHJ1ZSxcbiAgc2hvd0VudGl0eVBhdGggPSB0cnVlLFxuICBjaGlsZHJlblxufSkge1xuICBpZiAoY29sbGVjdGlvbi5jdXN0b21JZCAmJiBjb2xsZWN0aW9uLmZvcm1BdXRvU2F2ZSkge1xuICAgIGNvbnNvbGUud2FybihgVGhlIGNvbGxlY3Rpb24gJHtjb2xsZWN0aW9uLnBhdGh9IGhhcyBjdXN0b21JZCBhbmQgZm9ybUF1dG9TYXZlIGVuYWJsZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgZm9ybUF1dG9TYXZlIHdpbGwgYmUgaWdub3JlZGApO1xuICB9XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZShpbml0aWFsU3RhdHVzKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdXBkYXRlU3RhdHVzID0gKHN0YXR1c18wKSA9PiB7XG4gICAgc2V0U3RhdHVzKHN0YXR1c18wKTtcbiAgICBvblN0YXR1c0NoYW5nZT8uKHN0YXR1c18wKTtcbiAgfTtcbiAgY29uc3QgW3ZhbHVlc1RvQmVTYXZlZCwgc2V0VmFsdWVzVG9CZVNhdmVkXSA9IHVzZVN0YXRlKHZvaWQgMCk7XG4gIHVzZURlYm91bmNlZENhbGxiYWNrKHZhbHVlc1RvQmVTYXZlZCwgKCkgPT4ge1xuICAgIGlmICh2YWx1ZXNUb0JlU2F2ZWQpIHNhdmVFbnRpdHkoe1xuICAgICAgZW50aXR5SWQ6IGVudGl0eUlkUHJvcCxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBwYXRoLFxuICAgICAgdmFsdWVzOiB2YWx1ZXNUb0JlU2F2ZWRcbiAgICB9KTtcbiAgfSwgZmFsc2UsIDJlMyk7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VEYXRhU291cmNlKCk7XG4gIGNvbnN0IHNuYWNrYmFyQ29udHJvbGxlciA9IHVzZVNuYWNrYmFyQ29udHJvbGxlcigpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBhbmFseXRpY3NDb250cm9sbGVyID0gdXNlQW5hbHl0aWNzQ29udHJvbGxlcigpO1xuICBjb25zdCBbdW5kZXJseWluZ0NoYW5nZXMsIHNldFVuZGVybHlpbmdDaGFuZ2VzXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2N1c3RvbUlkTG9hZGluZywgc2V0Q3VzdG9tSWRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbXVzdFNldEN1c3RvbUlkID0gKHN0YXR1cyA9PT0gXCJuZXdcIiB8fCBzdGF0dXMgPT09IFwiY29weVwiKSAmJiBCb29sZWFuKGNvbGxlY3Rpb24uY3VzdG9tSWQpICYmIGNvbGxlY3Rpb24uY3VzdG9tSWQgIT09IFwib3B0aW9uYWxcIjtcbiAgY29uc3QgaW5pdGlhbEVudGl0eUlkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJuZXdcIiB8fCBzdGF0dXMgPT09IFwiY29weVwiKSB7XG4gICAgICBpZiAobXVzdFNldEN1c3RvbUlkKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS5nZW5lcmF0ZUVudGl0eUlkKHBhdGgsIGNvbGxlY3Rpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW50aXR5SWRQcm9wO1xuICAgIH1cbiAgfSwgW2VudGl0eUlkUHJvcCwgc3RhdHVzXSk7XG4gIGNvbnN0IFtlbnRpdHlJZCwgc2V0RW50aXR5SWRdID0gdXNlU3RhdGUoaW5pdGlhbEVudGl0eUlkKTtcbiAgY29uc3QgW2VudGl0eUlkRXJyb3IsIHNldEVudGl0eUlkRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2aW5nRXJyb3IsIHNldFNhdmluZ0Vycm9yXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IGF1dG9TYXZlID0gY29sbGVjdGlvbi5mb3JtQXV0b1NhdmUgJiYgIWNvbGxlY3Rpb24uY3VzdG9tSWQ7XG4gIGNvbnN0IG9uU3VibWl0ID0gKHZhbHVlcywgZm9ybWV4Q29udHJvbGxlcikgPT4ge1xuICAgIGlmIChtdXN0U2V0Q3VzdG9tSWQgJiYgIWVudGl0eUlkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBjdXN0b20gSWRcIik7XG4gICAgICBzZXRFbnRpdHlJZEVycm9yKHRydWUpO1xuICAgICAgZm9ybWV4Q29udHJvbGxlci5zZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U2F2aW5nRXJyb3Iodm9pZCAwKTtcbiAgICBzZXRFbnRpdHlJZEVycm9yKGZhbHNlKTtcbiAgICBpZiAoc3RhdHVzID09PSBcImV4aXN0aW5nXCIpIHtcbiAgICAgIGlmICghZW50aXR5Py5pZCkgdGhyb3cgRXJyb3IoXCJGb3JtIG1pc2NvbmZpZ3VyYXRpb24gd2hlbiBzYXZpbmcsIG5vIGlkIGZvciBleGlzdGluZyBlbnRpdHlcIik7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24uY3VzdG9tSWQpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uY3VzdG9tSWQgIT09IFwib3B0aW9uYWxcIiAmJiAhZW50aXR5SWQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkZvcm0gbWlzY29uZmlndXJhdGlvbiB3aGVuIHNhdmluZywgZW50aXR5SWQgc2hvdWxkIGJlIHNldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIk5ldyBGb3JtVHlwZSBhZGRlZCwgY2hlY2sgRW50aXR5Rm9ybVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHNhdmUodmFsdWVzKT8udGhlbigoXykgPT4ge1xuICAgICAgZm9ybWV4Q29udHJvbGxlci5yZXNldEZvcm0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHN1Ym1pdENvdW50OiAwLFxuICAgICAgICB0b3VjaGVkOiB7fVxuICAgICAgfSk7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBmb3JtZXhDb250cm9sbGVyLnNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBmb3JtZXggPSBmb3JtZXhQcm9wID8/IHVzZUNyZWF0ZUZvcm1leCh7XG4gICAgaW5pdGlhbFZhbHVlczogaW5pdGlhbERpcnR5VmFsdWVzID8/IGdldEluaXRpYWxFbnRpdHlWYWx1ZXMoY29sbGVjdGlvbiwgcGF0aCwgc3RhdHVzLCBlbnRpdHksIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncyksXG4gICAgaW5pdGlhbERpcnR5OiBCb29sZWFuKGluaXRpYWxEaXJ0eVZhbHVlcyksXG4gICAgb25TdWJtaXQsXG4gICAgb25SZXNldDogKCkgPT4ge1xuICAgICAgY2xlYXJEaXJ0eUNhY2hlKCk7XG4gICAgICBvblZhbHVlc01vZGlmaWVkPy4oZmFsc2UpO1xuICAgIH0sXG4gICAgdmFsaWRhdGlvbjogKHZhbHVlc18wKSA9PiB7XG4gICAgICByZXR1cm4gdmFsaWRhdGlvblNjaGVtYT8udmFsaWRhdGUodmFsdWVzXzAsIHtcbiAgICAgICAgYWJvcnRFYXJseTogZmFsc2VcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICByZXR1cm4geXVwVG9Gb3JtRXJyb3JzKGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGVfMCkgPT4ge1xuICAgICAgY29uc3QgaXNVbmRvID0gKGVfMC5tZXRhS2V5IHx8IGVfMC5jdHJsS2V5KSAmJiAhZV8wLnNoaWZ0S2V5ICYmIGVfMC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJ6XCI7XG4gICAgICBjb25zdCBpc1JlZG8gPSAoZV8wLm1ldGFLZXkgfHwgZV8wLmN0cmxLZXkpICYmIGVfMC5zaGlmdEtleSAmJiBlXzAua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwielwiIHx8IChlXzAubWV0YUtleSB8fCBlXzAuY3RybEtleSkgJiYgIWVfMC5zaGlmdEtleSAmJiBlXzAua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwieVwiO1xuICAgICAgaWYgKGlzVW5kbyAmJiBmb3JtZXguY2FuVW5kbykge1xuICAgICAgICBlXzAucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZm9ybWV4LnVuZG8oKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWRvICYmIGZvcm1leC5jYW5SZWRvKSB7XG4gICAgICAgIGVfMC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmb3JtZXgucmVkbygpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gIH0sIFtmb3JtZXhdKTtcbiAgY29uc3QgcmVzb2x2ZWRDb2xsZWN0aW9uID0gdXNlTWVtbygoKSA9PiByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgY29sbGVjdGlvbixcbiAgICBwYXRoLFxuICAgIGVudGl0eUlkLFxuICAgIHZhbHVlczogZm9ybWV4LnZhbHVlcyxcbiAgICBwcmV2aW91c1ZhbHVlczogZm9ybWV4LmluaXRpYWxWYWx1ZXMsXG4gICAgcHJvcGVydHlDb25maWdzOiBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3NcbiAgfSksIFtjb2xsZWN0aW9uLCBwYXRoLCBlbnRpdHlJZCwgZm9ybWV4LnZhbHVlcywgZm9ybWV4LmluaXRpYWxWYWx1ZXMsIGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlnc10pO1xuICBjb25zdCBvblByZVNhdmVIb29rRXJyb3IgPSB1c2VDYWxsYmFjaygoZV8xKSA9PiB7XG4gICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICBzbmFja2JhckNvbnRyb2xsZXIub3Blbih7XG4gICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlOiBcIkVycm9yIGJlZm9yZSBzYXZpbmc6IFwiICsgZV8xPy5tZXNzYWdlXG4gICAgfSk7XG4gICAgY29uc29sZS5lcnJvcihlXzEpO1xuICB9LCBbc25hY2tiYXJDb250cm9sbGVyXSk7XG4gIGNvbnN0IG9uU2F2ZVN1Y2Nlc3NIb29rRXJyb3IgPSB1c2VDYWxsYmFjaygoZV8yKSA9PiB7XG4gICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICBzbmFja2JhckNvbnRyb2xsZXIub3Blbih7XG4gICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlOiBcIkVycm9yIGFmdGVyIHNhdmluZyAoZW50aXR5IGlzIHNhdmVkKTogXCIgKyBlXzI/Lm1lc3NhZ2VcbiAgICB9KTtcbiAgICBjb25zb2xlLmVycm9yKGVfMik7XG4gIH0sIFtzbmFja2JhckNvbnRyb2xsZXJdKTtcbiAgZnVuY3Rpb24gY2xlYXJEaXJ0eUNhY2hlKCkge1xuICAgIGlmIChzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikge1xuICAgICAgcmVtb3ZlRW50aXR5RnJvbUNhY2hlKHBhdGggKyBcIiNuZXdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUVudGl0eUZyb21DYWNoZShwYXRoICsgXCIvXCIgKyBlbnRpdHlJZCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG9uU2F2ZVN1Y2Nlc3MgPSAodXBkYXRlZEVudGl0eSkgPT4ge1xuICAgIGNsZWFyRGlydHlDYWNoZSgpO1xuICAgIG9uVmFsdWVzTW9kaWZpZWQ/LihmYWxzZSk7XG4gICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICBpZiAoIWF1dG9TYXZlKSBzbmFja2JhckNvbnRyb2xsZXIub3Blbih7XG4gICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgIG1lc3NhZ2U6IGAke2NvbGxlY3Rpb24uc2luZ3VsYXJOYW1lID8/IGNvbGxlY3Rpb24ubmFtZX06IFNhdmVkIGNvcnJlY3RseWBcbiAgICB9KTtcbiAgICBvbkVudGl0eUNoYW5nZT8uKHVwZGF0ZWRFbnRpdHkpO1xuICAgIHVwZGF0ZVN0YXR1cyhcImV4aXN0aW5nXCIpO1xuICAgIHNldEVudGl0eUlkKHVwZGF0ZWRFbnRpdHkuaWQpO1xuICAgIGlmIChvblNhdmVkKSB7XG4gICAgICBvblNhdmVkKHtcbiAgICAgICAgZW50aXR5OiB1cGRhdGVkRW50aXR5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGVudGl0eUlkOiB1cGRhdGVkRW50aXR5LmlkLFxuICAgICAgICBjb2xsZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uU2F2ZUZhaWx1cmUgPSB1c2VDYWxsYmFjaygoZV8zKSA9PiB7XG4gICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICBzbmFja2JhckNvbnRyb2xsZXIub3Blbih7XG4gICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlOiBcIkVycm9yIHNhdmluZzogXCIgKyBlXzM/Lm1lc3NhZ2VcbiAgICB9KTtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGVudGl0eVwiLCBwYXRoLCBlbnRpdHlJZCk7XG4gICAgY29uc29sZS5lcnJvcihlXzMpO1xuICB9LCBbZW50aXR5SWQsIHBhdGgsIHNuYWNrYmFyQ29udHJvbGxlcl0pO1xuICBjb25zdCBzYXZlRW50aXR5ID0gKHtcbiAgICB2YWx1ZXM6IHZhbHVlc18xLFxuICAgIHByZXZpb3VzVmFsdWVzLFxuICAgIGVudGl0eUlkOiBlbnRpdHlJZF8wLFxuICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fMCxcbiAgICBwYXRoOiBwYXRoXzBcbiAgfSkgPT4ge1xuICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICByZXR1cm4gc2F2ZUVudGl0eVdpdGhDYWxsYmFja3Moe1xuICAgICAgcGF0aDogcGF0aF8wLFxuICAgICAgZW50aXR5SWQ6IGVudGl0eUlkXzAsXG4gICAgICB2YWx1ZXM6IHZhbHVlc18xLFxuICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzAsXG4gICAgICBzdGF0dXMsXG4gICAgICBkYXRhU291cmNlLFxuICAgICAgY29udGV4dCxcbiAgICAgIG9uU2F2ZVN1Y2Nlc3M6ICh1cGRhdGVkRW50aXR5XzApID0+IG9uU2F2ZVN1Y2Nlc3ModXBkYXRlZEVudGl0eV8wKSxcbiAgICAgIG9uU2F2ZUZhaWx1cmUsXG4gICAgICBvblByZVNhdmVIb29rRXJyb3IsXG4gICAgICBvblNhdmVTdWNjZXNzSG9va0Vycm9yXG4gICAgfSkudGhlbigpO1xuICB9O1xuICBjb25zdCBvblNhdmVFbnRpdHlSZXF1ZXN0ID0gYXN5bmMgKHtcbiAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzEsXG4gICAgcGF0aDogcGF0aF8xLFxuICAgIGVudGl0eUlkOiBlbnRpdHlJZF8xLFxuICAgIHZhbHVlczogdmFsdWVzXzIsXG4gICAgcHJldmlvdXNWYWx1ZXM6IHByZXZpb3VzVmFsdWVzXzAsXG4gICAgYXV0b1NhdmU6IGF1dG9TYXZlXzBcbiAgfSkgPT4ge1xuICAgIGlmICghc3RhdHVzKSByZXR1cm47XG4gICAgaWYgKGF1dG9TYXZlXzApIHtcbiAgICAgIHNldFZhbHVlc1RvQmVTYXZlZCh2YWx1ZXNfMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzYXZlRW50aXR5KHtcbiAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8xLFxuICAgICAgICBwYXRoOiBwYXRoXzEsXG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHlJZF8xLFxuICAgICAgICB2YWx1ZXM6IHZhbHVlc18yLFxuICAgICAgICBwcmV2aW91c1ZhbHVlczogcHJldmlvdXNWYWx1ZXNfMFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBsYXN0U2F2ZWRWYWx1ZXMgPSB1c2VSZWYoZW50aXR5Py52YWx1ZXMpO1xuICBjb25zdCBzYXZlID0gKHZhbHVlc18zKSA9PiB7XG4gICAgbGFzdFNhdmVkVmFsdWVzLmN1cnJlbnQgPSB2YWx1ZXNfMztcbiAgICByZXR1cm4gb25TYXZlRW50aXR5UmVxdWVzdCh7XG4gICAgICBjb2xsZWN0aW9uOiByZXNvbHZlZENvbGxlY3Rpb24sXG4gICAgICBwYXRoLFxuICAgICAgZW50aXR5SWQsXG4gICAgICB2YWx1ZXM6IHZhbHVlc18zLFxuICAgICAgcHJldmlvdXNWYWx1ZXM6IGVudGl0eT8udmFsdWVzLFxuICAgICAgYXV0b1NhdmU6IGF1dG9TYXZlID8/IGZhbHNlXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBzdGF0dXMgPT09IFwibmV3XCIgPyBcIm5ld19lbnRpdHlfc2F2ZWRcIiA6IHN0YXR1cyA9PT0gXCJjb3B5XCIgPyBcImVudGl0eV9jb3BpZWRcIiA6IHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiID8gXCJlbnRpdHlfZWRpdGVkXCIgOiBcInVubWFwcGVkX2V2ZW50XCI7XG4gICAgICBhbmFseXRpY3NDb250cm9sbGVyLm9uQW5hbHl0aWNzRXZlbnQ/LihldmVudE5hbWUsIHtcbiAgICAgICAgcGF0aFxuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goKGVfNCkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlXzQpO1xuICAgICAgc2V0U2F2aW5nRXJyb3IoZV80KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZm9ybUNvbnRleHQgPSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNldEZpZWxkVmFsdWU6IHVzZUNhbGxiYWNrKGZvcm1leC5zZXRGaWVsZFZhbHVlLCBbXSksXG4gICAgdmFsdWVzOiBmb3JtZXgudmFsdWVzLFxuICAgIGNvbGxlY3Rpb246IHJlc29sdmVkQ29sbGVjdGlvbixcbiAgICBlbnRpdHlJZCxcbiAgICBwYXRoLFxuICAgIHNhdmUsXG4gICAgZm9ybWV4LFxuICAgIGVudGl0eSxcbiAgICBzYXZpbmdFcnJvcixcbiAgICBzdGF0dXMsXG4gICAgb3BlbkVudGl0eU1vZGVcbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkZvcm1Db250ZXh0UmVhZHk/Lihmb3JtQ29udGV4dCk7XG4gIH0sIFtmb3JtZXgudmVyc2lvbiwgcmVzb2x2ZWRDb2xsZWN0aW9uLCBlbnRpdHlJZCwgcGF0aF0pO1xuICBjb25zdCBvbklkVXBkYXRlRXJyb3IgPSB1c2VDYWxsYmFjaygoZXJyb3IpID0+IHtcbiAgICBzbmFja2JhckNvbnRyb2xsZXIub3Blbih7XG4gICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlOiBcIkVycm9yIHVwZGF0aW5nIGlkLCBjaGVjayB0aGUgY29uc29sZVwiXG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcGx1Z2luQWN0aW9ucyA9IFtdO1xuICBjb25zdCBwbHVnaW5zID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgaWYgKHBsdWdpbnMgJiYgY29sbGVjdGlvbikge1xuICAgIGNvbnN0IGFjdGlvblByb3BzID0ge1xuICAgICAgZW50aXR5SWQsXG4gICAgICBwYXRoLFxuICAgICAgc3RhdHVzLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjdXJyZW50RW50aXR5SWQ6IGVudGl0eUlkLFxuICAgICAgZm9ybUNvbnRleHQsXG4gICAgICBvcGVuRW50aXR5TW9kZVxuICAgIH07XG4gICAgcGx1Z2luQWN0aW9ucy5wdXNoKC4uLnBsdWdpbnMubWFwKChwbHVnaW4pID0+IHBsdWdpbi5mb3JtPy5BY3Rpb25zID8gLyogQF9fUFVSRV9fICovIGpzeChwbHVnaW4uZm9ybS5BY3Rpb25zLCB7IC4uLmFjdGlvblByb3BzIH0sIGBhY3Rpb25zXyR7cGx1Z2luLmtleX1gKSA6IG51bGwpLmZpbHRlcihCb29sZWFuKSk7XG4gIH1cbiAgY29uc3QgdGl0bGVQcm9wZXJ0eUtleSA9IGdldEVudGl0eVRpdGxlUHJvcGVydHlLZXkocmVzb2x2ZWRDb2xsZWN0aW9uLCBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wcm9wZXJ0eUNvbmZpZ3MpO1xuICBjb25zdCB0aXRsZSA9IChmb3JtZXgudmFsdWVzICYmIHRpdGxlUHJvcGVydHlLZXkgPyBnZXRWYWx1ZUluUGF0aChmb3JtZXgudmFsdWVzLCB0aXRsZVByb3BlcnR5S2V5KSA6IHZvaWQgMCkgPz8gY29sbGVjdGlvbi5zaW5ndWxhck5hbWUgPz8gY29sbGVjdGlvbi5uYW1lO1xuICBjb25zdCBvbklkVXBkYXRlID0gY29sbGVjdGlvbi5jYWxsYmFja3M/Lm9uSWRVcGRhdGU7XG4gIGNvbnN0IGRvT25JZFVwZGF0ZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAob25JZFVwZGF0ZSAmJiBmb3JtZXgudmFsdWVzICYmIChzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikpIHtcbiAgICAgIHNldEN1c3RvbUlkTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJZCA9IGF3YWl0IG9uSWRVcGRhdGUoe1xuICAgICAgICAgIGNvbGxlY3Rpb246IHJlc29sdmVkQ29sbGVjdGlvbixcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIGVudGl0eUlkLFxuICAgICAgICAgIHZhbHVlczogZm9ybWV4LnZhbHVlcyxcbiAgICAgICAgICBjb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRFbnRpdHlJZCh1cGRhdGVkSWQpO1xuICAgICAgfSBjYXRjaCAoZV81KSB7XG4gICAgICAgIG9uSWRVcGRhdGVFcnJvcj8uKGVfNSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZV81KTtcbiAgICAgIH1cbiAgICAgIHNldEN1c3RvbUlkTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbZW50aXR5SWQsIGZvcm1leC52YWx1ZXMsIHN0YXR1cywgb25JZFVwZGF0ZSwgcmVzb2x2ZWRDb2xsZWN0aW9uLCBwYXRoLCBjb250ZXh0LCBvbklkVXBkYXRlRXJyb3JdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkb09uSWRVcGRhdGUoKTtcbiAgfSwgW2RvT25JZFVwZGF0ZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b1NhdmUpIHtcbiAgICAgIG9uVmFsdWVzTW9kaWZpZWQ/Lihtb2RpZmllZCk7XG4gICAgfVxuICB9LCBbZm9ybWV4LmRpcnR5XSk7XG4gIGNvbnN0IGRlZmVycmVkVmFsdWVzID0gdXNlRGVmZXJyZWRWYWx1ZShmb3JtZXgudmFsdWVzKTtcbiAgY29uc3QgbW9kaWZpZWQgPSBmb3JtZXguZGlydHk7XG4gIGNvbnN0IHVuaXF1ZUZpZWxkVmFsaWRhdG9yID0gdXNlQ2FsbGJhY2soKHtcbiAgICBuYW1lLFxuICAgIHZhbHVlLFxuICAgIHByb3BlcnR5XG4gIH0pID0+IGRhdGFTb3VyY2UuY2hlY2tVbmlxdWVGaWVsZChwYXRoLCBuYW1lLCB2YWx1ZSwgZW50aXR5SWQsIGNvbGxlY3Rpb24pLCBbZGF0YVNvdXJjZSwgcGF0aCwgZW50aXR5SWRdKTtcbiAgY29uc3QgdmFsaWRhdGlvblNjaGVtYSA9IHVzZU1lbW8oKCkgPT4gZW50aXR5SWQgPyBnZXRZdXBFbnRpdHlTY2hlbWEoZW50aXR5SWQsIHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzLCB1bmlxdWVGaWVsZFZhbGlkYXRvcikgOiB2b2lkIDAsIFtlbnRpdHlJZCwgcmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXMsIHVuaXF1ZUZpZWxkVmFsaWRhdG9yXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gc3RhdHVzID09PSBcIm5ld1wiIHx8IHN0YXR1cyA9PT0gXCJjb3B5XCIgPyBwYXRoICsgXCIjbmV3XCIgOiBwYXRoICsgXCIvXCIgKyBlbnRpdHlJZDtcbiAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgIHNhdmVFbnRpdHlUb0NhY2hlKGtleSwgZGVmZXJyZWRWYWx1ZXMpO1xuICAgIH1cbiAgfSwgW2RlZmVycmVkVmFsdWVzLCBtb2RpZmllZCwgcGF0aCwgZW50aXR5SWQsIHN0YXR1c10pO1xuICB1c2VPbkF1dG9TYXZlKGF1dG9TYXZlLCBmb3JtZXgsIGxhc3RTYXZlZFZhbHVlcywgc2F2ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdXRvU2F2ZSAmJiAhZm9ybWV4LmlzU3VibWl0dGluZyAmJiB1bmRlcmx5aW5nQ2hhbmdlcyAmJiBlbnRpdHkpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHVuZGVybHlpbmdDaGFuZ2VzKS5mb3JFYWNoKChba2V5XzAsIHZhbHVlXzBdKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1WYWx1ZSA9IGZvcm1leC52YWx1ZXNba2V5XzBdO1xuICAgICAgICBpZiAoIWVxdWFsKHZhbHVlXzAsIGZvcm1WYWx1ZSkgJiYgIWZvcm1leC50b3VjaGVkW2tleV8wXSkge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJVcGRhdGVkIHZhbHVlIGZyb20gdGhlIGRhdGFzb3VyY2U6XCIsIGtleV8wLCB2YWx1ZV8wKTtcbiAgICAgICAgICBmb3JtZXguc2V0RmllbGRWYWx1ZShrZXlfMCwgdmFsdWVfMCAhPT0gdm9pZCAwID8gdmFsdWVfMCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtmb3JtZXguaXNTdWJtaXR0aW5nLCBhdXRvU2F2ZSwgdW5kZXJseWluZ0NoYW5nZXMsIGVudGl0eSwgZm9ybWV4LnZhbHVlcywgZm9ybWV4LnRvdWNoZWQsIGZvcm1leC5zZXRGaWVsZFZhbHVlXSk7XG4gIGNvbnN0IGZvcm1GaWVsZEtleXMgPSBnZXRGb3JtRmllbGRLZXlzKHJlc29sdmVkQ29sbGVjdGlvbik7XG4gIGNvbnN0IGZvcm1GaWVsZHMgPSAoKSA9PiB7XG4gICAgaWYgKEJ1aWxkZXIpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEJ1aWxkZXIsIHsgY29sbGVjdGlvbiwgZW50aXR5LCBtb2RpZmllZFZhbHVlczogZm9ybWV4LnZhbHVlcywgZm9ybUNvbnRleHQgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1MYXlvdXQsIHsgY2hpbGRyZW46IGZvcm1GaWVsZEtleXMubWFwKChrZXlfMSkgPT4ge1xuICAgICAgY29uc3QgcHJvcGVydHlfMCA9IHJlc29sdmVkQ29sbGVjdGlvbi5wcm9wZXJ0aWVzW2tleV8xXTtcbiAgICAgIGlmIChwcm9wZXJ0eV8wKSB7XG4gICAgICAgIGNvbnN0IHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQgPSAhIXVuZGVybHlpbmdDaGFuZ2VzICYmIE9iamVjdC5rZXlzKHVuZGVybHlpbmdDaGFuZ2VzKS5pbmNsdWRlcyhrZXlfMSkgJiYgZm9ybWV4LnRvdWNoZWRba2V5XzFdO1xuICAgICAgICBjb25zdCBkaXNhYmxlZCA9ICFhdXRvU2F2ZSAmJiBmb3JtZXguaXNTdWJtaXR0aW5nIHx8IGlzUmVhZE9ubHkocHJvcGVydHlfMCkgfHwgQm9vbGVhbihwcm9wZXJ0eV8wLmRpc2FibGVkKTtcbiAgICAgICAgY29uc3QgaGlkZGVuID0gaXNIaWRkZW4ocHJvcGVydHlfMCk7XG4gICAgICAgIGlmIChoaWRkZW4pIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB3aWR0aFBlcmNlbnRhZ2UgPSBwcm9wZXJ0eV8wLndpZHRoUGVyY2VudGFnZSA/PyAxMDA7XG4gICAgICAgIGNvbnN0IGNtc0Zvcm1GaWVsZFByb3BzID0ge1xuICAgICAgICAgIHByb3BlcnR5S2V5OiBrZXlfMSxcbiAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlfMCxcbiAgICAgICAgICBpbmNsdWRlRGVzY3JpcHRpb246IHByb3BlcnR5XzAuZGVzY3JpcHRpb24gfHwgcHJvcGVydHlfMC5sb25nRGVzY3JpcHRpb24sXG4gICAgICAgICAgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDogdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZCAmJiAhYXV0b1NhdmUsXG4gICAgICAgICAgY29udGV4dDogZm9ybUNvbnRleHQsXG4gICAgICAgICAgcGFydE9mQXJyYXk6IGZhbHNlLFxuICAgICAgICAgIG1pbmltYWxpc3RWaWV3OiBmYWxzZSxcbiAgICAgICAgICBhdXRvRm9jdXM6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1FbnRyeSwgeyBwcm9wZXJ0eUtleToga2V5XzEsIHdpZHRoUGVyY2VudGFnZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlGaWVsZEJpbmRpbmcsIHsgLi4uY21zRm9ybUZpZWxkUHJvcHMgfSkgfSwgYGZpZWxkXyR7a2V5XzF9YCk7XG4gICAgICB9XG4gICAgICBjb25zdCBhZGRpdGlvbmFsRmllbGQgPSByZXNvbHZlZENvbGxlY3Rpb24uYWRkaXRpb25hbEZpZWxkcz8uZmluZCgoZikgPT4gZi5rZXkgPT09IGtleV8xKTtcbiAgICAgIGlmIChhZGRpdGlvbmFsRmllbGQgJiYgZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IEJ1aWxkZXJfMCA9IGFkZGl0aW9uYWxGaWVsZC5CdWlsZGVyO1xuICAgICAgICBpZiAoIUJ1aWxkZXJfMCAmJiAhYWRkaXRpb25hbEZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hlbiB1c2luZyBhZGRpdGlvbmFsIGZpZWxkcyB5b3UgbmVlZCB0byBwcm92aWRlIGEgQnVpbGRlciBvciBhIHZhbHVlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkID0gQnVpbGRlcl8wID8gLyogQF9fUFVSRV9fICovIGpzeChCdWlsZGVyXzAsIHsgZW50aXR5LCBjb250ZXh0IH0pIDogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGxcIiwgY2hpbGRyZW46IGFkZGl0aW9uYWxGaWVsZC52YWx1ZT8uKHtcbiAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgY29udGV4dFxuICAgICAgICB9KT8udG9TdHJpbmcoKSB9KTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbFwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goTGFiZWxXaXRoSWNvbkFuZFRvb2x0aXAsIHsgcHJvcGVydHlLZXk6IGtleV8xLCBpY29uOiAvKiBAX19QVVJFX18gKi8ganN4KE5vdGVzSWNvbiwgeyBzaXplOiBcInNtYWxsXCIgfSksIHRpdGxlOiBhZGRpdGlvbmFsRmllbGQubmFtZSwgY2xhc3NOYW1lOiBcInRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmsgbWwtMy41XCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzKHBhcGVyTWl4aW4sIFwidy1mdWxsIG1pbi1oLTE0IHAtNCBtZDpwLTYgb3ZlcmZsb3cteC1zY3JvbGwgbm8tc2Nyb2xsYmFyXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBjaGlsZCB9KSB9KVxuICAgICAgICBdIH0sIGBhZGRpdGlvbmFsXyR7a2V5XzF9YCk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLndhcm4oYFByb3BlcnR5ICR7a2V5XzF9IG5vdCBmb3VuZCBpbiBjb2xsZWN0aW9uICR7cmVzb2x2ZWRDb2xsZWN0aW9uLm5hbWV9IGluIHByb3BlcnRpZXMgb3IgYWRkaXRpb25hbCBmaWVsZHMuIFNraXBwaW5nLmApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pIH0pO1xuICB9O1xuICBjb25zdCBmb3JtUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBmb3JtVmlldyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAhQnVpbGRlciAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGwgcHktMiBmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IG15LTQgbGc6bXktNlwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IGNsYXNzTmFtZTogXCJweS00IGZsZXgtZ3JvdyBsaW5lLWNsYW1wLTEgXCIgKyAoY29sbGVjdGlvbi5oaWRlSWRGcm9tRm9ybSA/IFwibWItMlwiIDogXCJtYi0wXCIpLCB2YXJpYW50OiBcImg0XCIsIGNoaWxkcmVuOiB0aXRsZSA/PyBjb2xsZWN0aW9uLnNpbmd1bGFyTmFtZSA/PyBjb2xsZWN0aW9uLm5hbWUgfSksXG4gICAgICBzaG93RW50aXR5UGF0aCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEFsZXJ0LCB7IGNvbG9yOiBcImJhc2VcIiwgY2xhc3NOYW1lOiBcInctZnVsbFwiLCBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImNvZGVcIiwgeyBjbGFzc05hbWU6IFwidGV4dC14cyBzZWxlY3QtYWxsIHRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmtcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgZW50aXR5Py5wYXRoID8/IHBhdGgsXG4gICAgICAgIFwiL1wiLFxuICAgICAgICBlbnRpdHlJZFxuICAgICAgXSB9KSB9KVxuICAgIF0gfSksXG4gICAgY2hpbGRyZW4sXG4gICAgIUJ1aWxkZXIgJiYgIWNvbGxlY3Rpb24uaGlkZUlkRnJvbUZvcm0gJiYgLyogQF9fUFVSRV9fICovIGpzeChDdXN0b21JZEZpZWxkLCB7IGN1c3RvbUlkOiBjb2xsZWN0aW9uLmN1c3RvbUlkLCBlbnRpdHlJZCwgc3RhdHVzLCBvbkNoYW5nZTogc2V0RW50aXR5SWQsIGVycm9yOiBlbnRpdHlJZEVycm9yLCBsb2FkaW5nOiBjdXN0b21JZExvYWRpbmcsIGVudGl0eSB9KSxcbiAgICBlbnRpdHlJZCAmJiBmb3JtQ29udGV4dCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtdC0xMiBmbGV4IGZsZXgtY29sIGdhcC04XCIsIHJlZjogZm9ybVJlZiwgY2hpbGRyZW46IFtcbiAgICAgIGZvcm1GaWVsZHMoKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JGb2N1cywgeyBjb250YWluZXJSZWY6IGZvcm1SZWYgfSlcbiAgICBdIH0pIH0pLFxuICAgIGZvcmNlQWN0aW9uc0F0VGhlQm90dG9tICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaC0xNlwiIH0pXG4gIF0gfSkgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVudGl0eUlkICYmIG9uSWRDaGFuZ2UpIG9uSWRDaGFuZ2UoZW50aXR5SWQpO1xuICB9LCBbZW50aXR5SWQsIG9uSWRDaGFuZ2VdKTtcbiAgY29uc3QgZGlzYWJsZWRfMCA9IGZvcm1leC5pc1N1Ym1pdHRpbmcgfHwgIWZvcm1leC5kaXJ0eSAmJiBzdGF0dXMgPT09IFwiZXhpc3RpbmdcIjtcbiAgaWYgKCFyZXNvbHZlZENvbGxlY3Rpb24gfHwgIXBhdGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIklOVEVSTkFMOiBDb2xsZWN0aW9uIGFuZCBwYXRoIG11c3QgYmUgZGVmaW5lZCBpbiBmb3JtIGNvbnRleHRcIik7XG4gIH1cbiAgY29uc3QgZGlhbG9nQWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5Rm9ybUFjdGlvbnNDb21wb25lbnQsIHsgY29sbGVjdGlvbjogcmVzb2x2ZWRDb2xsZWN0aW9uLCBwYXRoLCBlbnRpdHksIGxheW91dDogZm9yY2VBY3Rpb25zQXRUaGVCb3R0b20gPyBcImJvdHRvbVwiIDogXCJzaWRlXCIsIHNhdmluZ0Vycm9yLCBmb3JtZXgsIGRpc2FibGVkOiBkaXNhYmxlZF8wLCBzdGF0dXMsIHBsdWdpbkFjdGlvbnMsIG9wZW5FbnRpdHlNb2RlLCBzaG93RGVmYXVsdEFjdGlvbnMgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1leCwgeyB2YWx1ZTogZm9ybUNvbnRleHQuZm9ybWV4LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IGZvcm1Db250ZXh0LmZvcm1leC5oYW5kbGVTdWJtaXQsIG9uUmVzZXQ6ICgpID0+IGZvcm1leC5yZXNldEZvcm0oe1xuICAgIHZhbHVlczogZ2V0SW5pdGlhbEVudGl0eVZhbHVlcyhjb2xsZWN0aW9uLCBwYXRoLCBzdGF0dXMsIGVudGl0eSwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzKVxuICB9KSwgbm9WYWxpZGF0ZTogdHJ1ZSwgY2xhc3NOYW1lOiBjbHMoXCJmbGV4LTEgZmxleCBmbGV4LXJvdyB3LWZ1bGwgb3ZlcmZsb3cteS1hdXRvIGp1c3RpZnktY2VudGVyXCIsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGlkOiBgZm9ybV8ke3BhdGh9YCwgY2xhc3NOYW1lOiBjbHMoXCJyZWxhdGl2ZSBmbGV4IGZsZXgtcm93IG1heC13LTR4bCBsZzptYXgtdy0zeGwgeGw6bWF4LXctNHhsIDJ4bDptYXgtdy02eGwgdy1mdWxsIGgtZml0XCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcImZsZXggZmxleC1jb2wgdy1mdWxsIHB0LTEyIHBiLTE2IHB4LTQgc206cHgtOCBtZDpweC0xMFwiKSwgY2hpbGRyZW46IFtcbiAgICAgIGZvcm1Db250ZXh0LmZvcm1leC5kaXJ0eSA/IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogXCJVbnNhdmVkIGNoYW5nZXNcIiwgY2xhc3NOYW1lOiBcInNlbGYtZW5kIHN0aWNreSB0b3AtNCB6LTEwXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENoaXAsIHsgc2l6ZTogXCJzbWFsbFwiLCBjb2xvclNjaGVtZTogXCJvcmFuZ2VEYXJrZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRWRpdEljb24sIHsgc2l6ZTogXCJzbWFsbGVzdFwiIH0pIH0pIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBcIkluIHN5bmMgd2l0aCB0aGUgZGF0YWJhc2VcIiwgY2xhc3NOYW1lOiBcInNlbGYtZW5kIHN0aWNreSB0b3AtNCB6LTEwXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENoaXAsIHsgc2l6ZTogXCJzbWFsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDaGVja0ljb24sIHsgc2l6ZTogXCJzbWFsbGVzdFwiIH0pIH0pIH0pLFxuICAgICAgZm9ybVZpZXdcbiAgICBdIH0pIH0pLFxuICAgIGRpYWxvZ0FjdGlvbnNcbiAgXSB9KSB9KTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxFbnRpdHlWYWx1ZXMoY29sbGVjdGlvbiwgcGF0aCwgc3RhdHVzLCBlbnRpdHksIHByb3BlcnR5Q29uZmlncykge1xuICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgY29sbGVjdGlvbixcbiAgICBwYXRoLFxuICAgIHZhbHVlczogZW50aXR5Py52YWx1ZXMsXG4gICAgcHJvcGVydHlDb25maWdzXG4gIH0pO1xuICBjb25zdCBwcm9wZXJ0aWVzID0gcmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXM7XG4gIGlmICgoc3RhdHVzID09PSBcImV4aXN0aW5nXCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikgJiYgZW50aXR5KSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uLmFsd2F5c0FwcGx5RGVmYXVsdFZhbHVlcykge1xuICAgICAgcmV0dXJuIGVudGl0eS52YWx1ZXMgPz8gZ2V0RGVmYXVsdFZhbHVlc0Zvcihwcm9wZXJ0aWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlcyA9IGdldERlZmF1bHRWYWx1ZXNGb3IocHJvcGVydGllcyk7XG4gICAgICByZXR1cm4gbWVyZ2VEZWVwKGRlZmF1bHRWYWx1ZXMsIGVudGl0eS52YWx1ZXMgPz8ge30pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IFwibmV3XCIpIHtcbiAgICByZXR1cm4gZ2V0RGVmYXVsdFZhbHVlc0Zvcihwcm9wZXJ0aWVzKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIGVudGl0eVxuICAgIH0pO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm0gaGFzIG5vdCBiZWVuIGluaXRpYWxpc2VkIHdpdGggdGhlIGNvcnJlY3QgcGFyYW1ldGVyc1wiKTtcbiAgfVxufVxuZnVuY3Rpb24geXVwVG9Gb3JtRXJyb3JzKHl1cEVycm9yKSB7XG4gIGxldCBlcnJvcnMgPSB7fTtcbiAgaWYgKHl1cEVycm9yLmlubmVyKSB7XG4gICAgaWYgKHl1cEVycm9yLmlubmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNldEluKGVycm9ycywgeXVwRXJyb3IucGF0aCwgeXVwRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgZXJyIG9mIHl1cEVycm9yLmlubmVyKSB7XG4gICAgICBpZiAoIWdldEluKGVycm9ycywgZXJyLnBhdGgpKSB7XG4gICAgICAgIGVycm9ycyA9IHNldEluKGVycm9ycywgZXJyLnBhdGgsIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIHVzZU9uQXV0b1NhdmUoYXV0b1NhdmUsIGZvcm1leCwgbGFzdFNhdmVkVmFsdWVzLCBzYXZlKSB7XG4gIGlmICghYXV0b1NhdmUpIHJldHVybjtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0b1NhdmUpIHtcbiAgICAgIGlmIChmb3JtZXgudmFsdWVzICYmICFlcXVhbChmb3JtZXgudmFsdWVzLCBsYXN0U2F2ZWRWYWx1ZXMuY3VycmVudCkpIHtcbiAgICAgICAgc2F2ZShmb3JtZXgudmFsdWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtmb3JtZXgudmFsdWVzXSk7XG59XG5mdW5jdGlvbiBGaWVsZEhlbHBlclRleHQodDApIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBjb25zdCB7XG4gICAgZXJyb3IsXG4gICAgc2hvd0Vycm9yLFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvbjogdDEsXG4gICAgZGlzYWJsZWRcbiAgfSA9IHQwO1xuICBjb25zdCBpbmNsdWRlRGVzY3JpcHRpb24gPSB0MSA9PT0gdm9pZCAwID8gdHJ1ZSA6IHQxO1xuICBjb25zdCBoYXNEZXNjcmlwdGlvbiA9IHByb3BlcnR5LmRlc2NyaXB0aW9uIHx8IHByb3BlcnR5LmxvbmdEZXNjcmlwdGlvbjtcbiAgaWYgKCEoc2hvd0Vycm9yICYmIGVycm9yKSAmJiAoIWluY2x1ZGVEZXNjcmlwdGlvbiB8fCAhaGFzRGVzY3JpcHRpb24pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHNob3dFcnJvciAmJiBlcnJvcikge1xuICAgIGxldCB0MjI7XG4gICAgaWYgKCRbMF0gIT09IGVycm9yKSB7XG4gICAgICB0MjIgPSAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNsYXNzTmFtZTogXCJtbC0zLjUgdGV4dC1yZWQtNTAwIGRhcms6dGV4dC1yZWQtNTAwXCIsIGNoaWxkcmVuOiBlcnJvciB9KTtcbiAgICAgICRbMF0gPSBlcnJvcjtcbiAgICAgICRbMV0gPSB0MjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQyMiA9ICRbMV07XG4gICAgfVxuICAgIHJldHVybiB0MjI7XG4gIH1cbiAgY29uc3QgZGlzYWJsZWRUb29sdGlwID0gdHlwZW9mIHByb3BlcnR5LmRpc2FibGVkID09PSBcIm9iamVjdFwiID8gcHJvcGVydHkuZGlzYWJsZWQuZGlzYWJsZWRNZXNzYWdlIDogdm9pZCAwO1xuICBjb25zdCB0MiA9IGRpc2FibGVkID8gXCJkaXNhYmxlZFwiIDogXCJzZWNvbmRhcnlcIjtcbiAgY29uc3QgdDMgPSBkaXNhYmxlZFRvb2x0aXAgfHwgcHJvcGVydHkuZGVzY3JpcHRpb247XG4gIGxldCB0NDtcbiAgaWYgKCRbMl0gIT09IHQyIHx8ICRbM10gIT09IHQzKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNvbG9yOiB0MiwgY2xhc3NOYW1lOiBcImZsZXgtZ3Jvd1wiLCBjaGlsZHJlbjogdDMgfSk7XG4gICAgJFsyXSA9IHQyO1xuICAgICRbM10gPSB0MztcbiAgICAkWzRdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzRdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbNV0gIT09IHByb3BlcnR5LmxvbmdEZXNjcmlwdGlvbikge1xuICAgIHQ1ID0gcHJvcGVydHkubG9uZ0Rlc2NyaXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyB0aXRsZTogcHJvcGVydHkubG9uZ0Rlc2NyaXB0aW9uLCBzaWRlOiBcImJvdHRvbVwiLCBhc0NoaWxkOiB0cnVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IHNpemU6IFwic21hbGxcIiwgY2xhc3NOYW1lOiBcInNlbGYtc3RhcnRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goSW5mb0ljb24sIHsgY29sb3I6IFwiZGlzYWJsZWRcIiwgc2l6ZTogXCJzbWFsbFwiIH0pIH0pIH0pO1xuICAgICRbNV0gPSBwcm9wZXJ0eS5sb25nRGVzY3JpcHRpb247XG4gICAgJFs2XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs2XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzddICE9PSB0NCB8fCAkWzhdICE9PSB0NSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBtbC0zLjUgbXQtMVwiLCBjaGlsZHJlbjogW1xuICAgICAgdDQsXG4gICAgICB0NVxuICAgIF0gfSk7XG4gICAgJFs3XSA9IHQ0O1xuICAgICRbOF0gPSB0NTtcbiAgICAkWzldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzldO1xuICB9XG4gIHJldHVybiB0Njtcbn1cbmNvbnN0IExhYmVsV2l0aEljb24gPSBmb3J3YXJkUmVmKCh0MCwgcmVmKSA9PiB7XG4gIGNvbnN0ICQgPSBjKDExKTtcbiAgY29uc3Qge1xuICAgIGljb24sXG4gICAgdGl0bGUsXG4gICAgc21hbGwsXG4gICAgY2xhc3NOYW1lLFxuICAgIHJlcXVpcmVkXG4gIH0gPSB0MDtcbiAgY29uc3QgdDEgPSBzbWFsbCA/IFwiZ2FwLTFcIiA6IFwiZ2FwLTJcIjtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gY2xhc3NOYW1lIHx8ICRbMV0gIT09IHQxKSB7XG4gICAgdDIgPSBjbHMoXCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgbXktMC41XCIsIHQxLCBjbGFzc05hbWUpO1xuICAgICRbMF0gPSBjbGFzc05hbWU7XG4gICAgJFsxXSA9IHQxO1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgY29uc3QgdDMgPSBgdGV4dC1zdGFydCBmb250LW1lZGl1bSB0ZXh0LSR7c21hbGwgPyBcImJhc2VcIiA6IFwic21cIn0gb3JpZ2luLXRvcC1sZWZ0IHRyYW5zZm9ybSAke3NtYWxsID8gXCJ0cmFuc2xhdGUteC0yIHNjYWxlLTc1XCIgOiBcIlwifWA7XG4gIGNvbnN0IHQ0ID0gKHRpdGxlID8/IFwiXCIpICsgKHJlcXVpcmVkID8gXCIgKlwiIDogXCJcIik7XG4gIGxldCB0NTtcbiAgaWYgKCRbM10gIT09IHQzIHx8ICRbNF0gIT09IHQ0KSB7XG4gICAgdDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogdDMsIGNoaWxkcmVuOiB0NCB9KTtcbiAgICAkWzNdID0gdDM7XG4gICAgJFs0XSA9IHQ0O1xuICAgICRbNV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbNV07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFs2XSAhPT0gaWNvbiB8fCAkWzddICE9PSByZWYgfHwgJFs4XSAhPT0gdDIgfHwgJFs5XSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgcmVmLCBjbGFzc05hbWU6IHQyLCBjaGlsZHJlbjogW1xuICAgICAgaWNvbixcbiAgICAgIHQ1XG4gICAgXSB9KTtcbiAgICAkWzZdID0gaWNvbjtcbiAgICAkWzddID0gcmVmO1xuICAgICRbOF0gPSB0MjtcbiAgICAkWzldID0gdDU7XG4gICAgJFsxMF0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTBdO1xuICB9XG4gIHJldHVybiB0Njtcbn0pO1xuTGFiZWxXaXRoSWNvbi5kaXNwbGF5TmFtZSA9IFwiTGFiZWxXaXRoSWNvblwiO1xuZnVuY3Rpb24gTGFiZWxXaXRoSWNvbkFuZFRvb2x0aXAodDApIHtcbiAgY29uc3QgJCA9IGMoMTApO1xuICBsZXQgY2xhc3NOYW1lO1xuICBsZXQgcHJvcGVydHlLZXk7XG4gIGxldCBwcm9wcztcbiAgaWYgKCRbMF0gIT09IHQwKSB7XG4gICAgKHtcbiAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdDApO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gY2xhc3NOYW1lO1xuICAgICRbMl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzNdID0gcHJvcHM7XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lID0gJFsxXTtcbiAgICBwcm9wZXJ0eUtleSA9ICRbMl07XG4gICAgcHJvcHMgPSAkWzNdO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbNF0gIT09IHByb3BzKSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KExhYmVsV2l0aEljb24sIHsgLi4ucHJvcHMgfSk7XG4gICAgJFs0XSA9IHByb3BzO1xuICAgICRbNV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNV07XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFs2XSAhPT0gY2xhc3NOYW1lIHx8ICRbN10gIT09IHByb3BlcnR5S2V5IHx8ICRbOF0gIT09IHQxKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5SWRDb3B5VG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgY2xhc3NOYW1lLCBjaGlsZHJlbjogdDEgfSk7XG4gICAgJFs2XSA9IGNsYXNzTmFtZTtcbiAgICAkWzddID0gcHJvcGVydHlLZXk7XG4gICAgJFs4XSA9IHQxO1xuICAgICRbOV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbOV07XG4gIH1cbiAgcmV0dXJuIHQyO1xufVxuZnVuY3Rpb24gRm9ybUVudHJ5KHQwKSB7XG4gIGNvbnN0ICQgPSBjKDgpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgd2lkdGhQZXJjZW50YWdlOiB0MSxcbiAgICBjaGlsZHJlblxuICB9ID0gdDA7XG4gIGNvbnN0IHdpZHRoUGVyY2VudGFnZSA9IHQxID09PSB2b2lkIDAgPyAxMDAgOiB0MTtcbiAgY29uc3QgdDIgPSBgZm9ybV9maWVsZF8ke3Byb3BlcnR5S2V5fWA7XG4gIGNvbnN0IHQzID0gd2lkdGhQZXJjZW50YWdlID09PSAxMDAgPyBcIjEwMCVcIiA6IGBjYWxjKCR7d2lkdGhQZXJjZW50YWdlfSUgLSA4cHgpYDtcbiAgbGV0IHQ0O1xuICBpZiAoJFswXSAhPT0gdDMpIHtcbiAgICB0NCA9IHtcbiAgICAgIHdpZHRoOiB0M1xuICAgIH07XG4gICAgJFswXSA9IHQzO1xuICAgICRbMV0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMV07XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFsyXSAhPT0gY2hpbGRyZW4pIHtcbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbiB9KTtcbiAgICAkWzJdID0gY2hpbGRyZW47XG4gICAgJFszXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFszXTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzRdICE9PSB0MiB8fCAkWzVdICE9PSB0NCB8fCAkWzZdICE9PSB0NSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGlkOiB0MiwgY2xhc3NOYW1lOiBcInJlbGF0aXZlXCIsIHN0eWxlOiB0NCwgY2hpbGRyZW46IHQ1IH0pO1xuICAgICRbNF0gPSB0MjtcbiAgICAkWzVdID0gdDQ7XG4gICAgJFs2XSA9IHQ1O1xuICAgICRbN10gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbN107XG4gIH1cbiAgcmV0dXJuIHQ2O1xufVxuZnVuY3Rpb24gRm9ybUxheW91dCh0MCkge1xuICBjb25zdCAkID0gYyg1KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZVxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGNsYXNzTmFtZSkge1xuICAgIHQxID0gY2xzKFwiZmxleCBmbGV4LXdyYXAgZ2FwLXgtNCB3LWZ1bGwgc3BhY2UteS04XCIsIGNsYXNzTmFtZSk7XG4gICAgJFswXSA9IGNsYXNzTmFtZTtcbiAgICAkWzFdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzFdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gIT09IGNoaWxkcmVuIHx8ICRbM10gIT09IHQxKSB7XG4gICAgdDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0MSwgY2hpbGRyZW4gfSk7XG4gICAgJFsyXSA9IGNoaWxkcmVuO1xuICAgICRbM10gPSB0MTtcbiAgICAkWzRdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzRdO1xuICB9XG4gIHJldHVybiB0Mjtcbn1cbmZ1bmN0aW9uIFNlbGVjdEZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYyg0Nik7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBlcnJvcixcbiAgICBzaG93RXJyb3IsXG4gICAgZGlzYWJsZWQsXG4gICAgcHJvcGVydHksXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIHNpemU6IHQxXG4gIH0gPSB0MDtcbiAgY29uc3Qgc2l6ZSA9IHQxID09PSB2b2lkIDAgPyBcImxhcmdlXCIgOiB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gcHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgIHQyID0gcHJvcGVydHkuZW51bVZhbHVlcyA/PyBbXTtcbiAgICAkWzBdID0gcHJvcGVydHkuZW51bVZhbHVlcztcbiAgICAkWzFdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzFdO1xuICB9XG4gIGNvbnN0IGVudW1WYWx1ZXMgPSByZXNvbHZlRW51bVZhbHVlcyh0Mik7XG4gIGxldCB0MztcbiAgaWYgKCRbMl0gIT09IHByb3BlcnR5IHx8ICRbM10gIT09IHNldFZhbHVlIHx8ICRbNF0gIT09IHZhbHVlKSB7XG4gICAgdDMgPSB7XG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIHZhbHVlLFxuICAgICAgc2V0VmFsdWVcbiAgICB9O1xuICAgICRbMl0gPSBwcm9wZXJ0eTtcbiAgICAkWzNdID0gc2V0VmFsdWU7XG4gICAgJFs0XSA9IHZhbHVlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUodDMpO1xuICBsZXQgdDQ7XG4gIGlmICgkWzZdICE9PSBzZXRWYWx1ZSkge1xuICAgIHQ0ID0gKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRWYWx1ZShudWxsKTtcbiAgICB9O1xuICAgICRbNl0gPSBzZXRWYWx1ZTtcbiAgICAkWzddID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzddO1xuICB9XG4gIGNvbnN0IGhhbmRsZUNsZWFyQ2xpY2sgPSB0NDtcbiAgY29uc3QgVDAgPSBTZWxlY3Q7XG4gIGxldCB0NTtcbiAgaWYgKCRbOF0gIT09IHZhbHVlKSB7XG4gICAgdDUgPSB2YWx1ZSAhPT0gdm9pZCAwICYmIHZhbHVlICE9IG51bGwgPyB2YWx1ZS50b1N0cmluZygpIDogXCJcIjtcbiAgICAkWzhdID0gdmFsdWU7XG4gICAgJFs5XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs5XTtcbiAgfVxuICBjb25zdCB0NiA9IHRydWU7XG4gIGNvbnN0IHQ3ID0gXCJpdGVtLWFsaWduZWRcIjtcbiAgbGV0IHQ4O1xuICBpZiAoJFsxMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDggPSBjbHMoXCJ3LWZ1bGxcIik7XG4gICAgJFsxMF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMTBdO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMTFdICE9PSBwcm9wZXJ0eSkge1xuICAgIHQ5ID0gZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpO1xuICAgICRbMTFdID0gcHJvcGVydHk7XG4gICAgJFsxMl0gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMTJdO1xuICB9XG4gIGNvbnN0IHQxMCA9IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkO1xuICBsZXQgdDExO1xuICBpZiAoJFsxM10gIT09IHByb3BlcnR5Lm5hbWUgfHwgJFsxNF0gIT09IHQxMCB8fCAkWzE1XSAhPT0gdDkpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4KExhYmVsV2l0aEljb24sIHsgaWNvbjogdDksIHJlcXVpcmVkOiB0MTAsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwiaC04IHRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmsgbWwtMy41IG15LTBcIiB9KTtcbiAgICAkWzEzXSA9IHByb3BlcnR5Lm5hbWU7XG4gICAgJFsxNF0gPSB0MTA7XG4gICAgJFsxNV0gPSB0OTtcbiAgICAkWzE2XSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzE2XTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFsxN10gIT09IHByb3BlcnR5S2V5IHx8ICRbMThdICE9PSB0MTEpIHtcbiAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5SWRDb3B5VG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgY2hpbGRyZW46IHQxMSB9KTtcbiAgICAkWzE3XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMThdID0gdDExO1xuICAgICRbMTldID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMTldO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzIwXSAhPT0gaGFuZGxlQ2xlYXJDbGljayB8fCAkWzIxXSAhPT0gcHJvcGVydHkuY2xlYXJhYmxlKSB7XG4gICAgdDEzID0gcHJvcGVydHkuY2xlYXJhYmxlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBoYW5kbGVDbGVhckNsaWNrLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDbG9zZUljb24sIHt9KSB9KTtcbiAgICAkWzIwXSA9IGhhbmRsZUNsZWFyQ2xpY2s7XG4gICAgJFsyMV0gPSBwcm9wZXJ0eS5jbGVhcmFibGU7XG4gICAgJFsyMl0gPSB0MTM7XG4gIH0gZWxzZSB7XG4gICAgdDEzID0gJFsyMl07XG4gIH1cbiAgbGV0IHQxNDtcbiAgaWYgKCRbMjNdICE9PSBwcm9wZXJ0eS5kYXRhVHlwZSB8fCAkWzI0XSAhPT0gc2V0VmFsdWUpIHtcbiAgICB0MTQgPSAodXBkYXRlZFZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZWRWYWx1ZSA/IHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm51bWJlclwiID8gcGFyc2VGbG9hdCh1cGRhdGVkVmFsdWUpIDogdXBkYXRlZFZhbHVlIDogbnVsbDtcbiAgICAgIHJldHVybiBzZXRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgfTtcbiAgICAkWzIzXSA9IHByb3BlcnR5LmRhdGFUeXBlO1xuICAgICRbMjRdID0gc2V0VmFsdWU7XG4gICAgJFsyNV0gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFsyNV07XG4gIH1cbiAgY29uc3QgdDE1ID0gKGVudW1LZXkpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goRW51bVZhbHVlc0NoaXAsIHsgZW51bUtleSwgZW51bVZhbHVlcywgc2l6ZSB9KTtcbiAgY29uc3QgdDE2ID0gZW51bVZhbHVlcyAmJiBlbnVtVmFsdWVzLm1hcCgob3B0aW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdEl0ZW0sIHsgdmFsdWU6IFN0cmluZyhvcHRpb24uaWQpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5OiBTdHJpbmcob3B0aW9uLmlkKSwgZW51bVZhbHVlcywgc2l6ZSB9KSB9LCBvcHRpb24uaWQpKTtcbiAgbGV0IHQxNztcbiAgaWYgKCRbMjZdICE9PSBUMCB8fCAkWzI3XSAhPT0gZGlzYWJsZWQgfHwgJFsyOF0gIT09IHNpemUgfHwgJFsyOV0gIT09IHQxMiB8fCAkWzMwXSAhPT0gdDEzIHx8ICRbMzFdICE9PSB0MTQgfHwgJFszMl0gIT09IHQxNSB8fCAkWzMzXSAhPT0gdDE2IHx8ICRbMzRdICE9PSB0NSB8fCAkWzM1XSAhPT0gdDgpIHtcbiAgICB0MTcgPSAvKiBAX19QVVJFX18gKi8ganN4KFQwLCB7IHZhbHVlOiB0NSwgZGlzYWJsZWQsIHNpemUsIGZ1bGxXaWR0aDogdDYsIHBvc2l0aW9uOiB0NywgaW5wdXRDbGFzc05hbWU6IHQ4LCBsYWJlbDogdDEyLCBlbmRBZG9ybm1lbnQ6IHQxMywgb25WYWx1ZUNoYW5nZTogdDE0LCByZW5kZXJWYWx1ZTogdDE1LCBjaGlsZHJlbjogdDE2IH0pO1xuICAgICRbMjZdID0gVDA7XG4gICAgJFsyN10gPSBkaXNhYmxlZDtcbiAgICAkWzI4XSA9IHNpemU7XG4gICAgJFsyOV0gPSB0MTI7XG4gICAgJFszMF0gPSB0MTM7XG4gICAgJFszMV0gPSB0MTQ7XG4gICAgJFszMl0gPSB0MTU7XG4gICAgJFszM10gPSB0MTY7XG4gICAgJFszNF0gPSB0NTtcbiAgICAkWzM1XSA9IHQ4O1xuICAgICRbMzZdID0gdDE3O1xuICB9IGVsc2Uge1xuICAgIHQxNyA9ICRbMzZdO1xuICB9XG4gIGxldCB0MTg7XG4gIGlmICgkWzM3XSAhPT0gZGlzYWJsZWQgfHwgJFszOF0gIT09IGVycm9yIHx8ICRbMzldICE9PSBpbmNsdWRlRGVzY3JpcHRpb24gfHwgJFs0MF0gIT09IHByb3BlcnR5IHx8ICRbNDFdICE9PSBzaG93RXJyb3IpIHtcbiAgICB0MTggPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzM3XSA9IGRpc2FibGVkO1xuICAgICRbMzhdID0gZXJyb3I7XG4gICAgJFszOV0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFs0MF0gPSBwcm9wZXJ0eTtcbiAgICAkWzQxXSA9IHNob3dFcnJvcjtcbiAgICAkWzQyXSA9IHQxODtcbiAgfSBlbHNlIHtcbiAgICB0MTggPSAkWzQyXTtcbiAgfVxuICBsZXQgdDE5O1xuICBpZiAoJFs0M10gIT09IHQxNyB8fCAkWzQ0XSAhPT0gdDE4KSB7XG4gICAgdDE5ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQxNyxcbiAgICAgIHQxOFxuICAgIF0gfSk7XG4gICAgJFs0M10gPSB0MTc7XG4gICAgJFs0NF0gPSB0MTg7XG4gICAgJFs0NV0gPSB0MTk7XG4gIH0gZWxzZSB7XG4gICAgdDE5ID0gJFs0NV07XG4gIH1cbiAgcmV0dXJuIHQxOTtcbn1cbmZ1bmN0aW9uIE11bHRpU2VsZWN0RmllbGRCaW5kaW5nKHtcbiAgcHJvcGVydHlLZXksXG4gIHZhbHVlLFxuICBzZXRWYWx1ZSxcbiAgZXJyb3IsXG4gIHNob3dFcnJvcixcbiAgZGlzYWJsZWQsXG4gIHByb3BlcnR5LFxuICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gIHNpemUgPSBcIm1lZGl1bVwiLFxuICBhdXRvRm9jdXNcbn0pIHtcbiAgY29uc3Qgb2YgPSBwcm9wZXJ0eS5vZjtcbiAgaWYgKCFvZikge1xuICAgIHRocm93IEVycm9yKFwiVXNpbmcgd3JvbmcgY29tcG9uZW50IEFycmF5RW51bVNlbGVjdFwiKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvZikpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVzaW5nIGFycmF5IHByb3BlcnRpZXMgaW5zdGVhZCBvZiBzaW5nbGUgb25lIGluIGBvZmAgaW4gQXJyYXlQcm9wZXJ0eVwiKTtcbiAgfVxuICBpZiAob2YuZGF0YVR5cGUgIT09IFwic3RyaW5nXCIgJiYgb2YuZGF0YVR5cGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aHJvdyBFcnJvcihcIkZpZWxkIG1pc2NvbmZpZ3VyYXRpb246IGFycmF5IGZpZWxkIG9mIHR5cGUgc3RyaW5nIG9yIG51bWJlclwiKTtcbiAgfVxuICBjb25zdCBlbnVtVmFsdWVzID0gZW51bVRvT2JqZWN0RW50cmllcyhvZi5lbnVtVmFsdWVzKTtcbiAgaWYgKCFlbnVtVmFsdWVzKSB7XG4gICAgY29uc29sZS5lcnJvcihwcm9wZXJ0eSk7XG4gICAgdGhyb3cgRXJyb3IoXCJGaWVsZCBtaXNjb25maWd1cmF0aW9uOiBhcnJheSBmaWVsZCBvZiB0eXBlIHN0cmluZyBvciBudW1iZXIgbmVlZHMgdG8gaGF2ZSBlbnVtVmFsdWVzXCIpO1xuICB9XG4gIHVzZUNsZWFyUmVzdG9yZVZhbHVlKHtcbiAgICBwcm9wZXJ0eSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbiAgY29uc3QgdmFsaWRWYWx1ZSA9ICEhdmFsdWUgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIGNvbnN0IHJlbmRlclZhbHVlID0gdXNlQ2FsbGJhY2soKGVudW1LZXksIGxpc3QpID0+IHtcbiAgICBjb25zdCBlbnVtVmFsdWUgPSBlbnVtS2V5ICE9PSB2b2lkIDAgPyBnZXRMYWJlbE9yQ29uZmlnRnJvbShlbnVtVmFsdWVzLCBlbnVtS2V5KSA6IHZvaWQgMDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRW51bVZhbHVlc0NoaXAsIHsgZW51bUtleSwgZW51bVZhbHVlcywgc2l6ZTogXCJtZWRpdW1cIiwgY2hpbGRyZW46IFtcbiAgICAgIGVudW1WYWx1ZT8ubGFiZWwgPz8gZW51bUtleSxcbiAgICAgICFsaXN0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibWwtMSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHJvdW5kZWQtZnVsbCBvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmluZyBmb2N1czpyaW5nLW9mZnNldC0yXCIsIG9uTW91c2VEb3duOiAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9LCBvbkNsaWNrOiAoZV8wKSA9PiB7XG4gICAgICAgIGVfMC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlXzAuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHNldFZhbHVlKHZhbHVlLmZpbHRlcigodikgPT4gdiAhPT0gZW51bUtleSkpO1xuICAgICAgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2xvc2VJY29uLCB7IHNpemU6IFwic21hbGxlc3RcIiB9KSB9KVxuICAgIF0gfSwgZW51bUtleSk7XG4gIH0sIFtlbnVtVmFsdWVzLCBzZXRWYWx1ZSwgdmFsdWVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChNdWx0aVNlbGVjdCwgeyBjbGFzc05hbWU6IFwidy1mdWxsIG10LTJcIiwgc2l6ZTogc2l6ZSA9PT0gXCJtZWRpdW1cIiA/IFwibWVkaXVtXCIgOiBcInNtYWxsXCIsIHZhbHVlOiB2YWxpZFZhbHVlID8gdmFsdWUubWFwKCh2XzApID0+IHZfMC50b1N0cmluZygpKSA6IFtdLCBkaXNhYmxlZCwgbW9kYWxQb3BvdmVyOiB0cnVlLCBsYWJlbDogLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpLCByZXF1aXJlZDogcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwiaC04IHRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmsgbWwtMy41XCIgfSksIG9uVmFsdWVDaGFuZ2U6ICh1cGRhdGVkVmFsdWUpID0+IHtcbiAgICAgIGxldCBuZXdWYWx1ZTtcbiAgICAgIGlmIChvZiAmJiBvZj8uZGF0YVR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB1cGRhdGVkVmFsdWUgPyB1cGRhdGVkVmFsdWUubWFwKChlXzEpID0+IHBhcnNlRmxvYXQoZV8xKSkgOiBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gdXBkYXRlZFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFZhbHVlKG5ld1ZhbHVlKTtcbiAgICB9LCBjaGlsZHJlbjogZW51bVZhbHVlcy5tYXAoKGVudW1WYWx1ZV8wKSA9PiBTdHJpbmcoZW51bVZhbHVlXzAuaWQpKS5tYXAoKGVudW1LZXlfMCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChNdWx0aVNlbGVjdEl0ZW0sIHsgdmFsdWU6IGVudW1LZXlfMCwgY2hpbGRyZW46IHJlbmRlclZhbHVlKGVudW1LZXlfMCwgdHJ1ZSkgfSwgZW51bUtleV8wKSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChGaWVsZEhlbHBlclRleHQsIHsgaW5jbHVkZURlc2NyaXB0aW9uLCBzaG93RXJyb3IsIGVycm9yLCBkaXNhYmxlZCwgcHJvcGVydHkgfSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIEFycmF5T2ZSZWZlcmVuY2VzRmllbGRCaW5kaW5nKHtcbiAgcHJvcGVydHlLZXksXG4gIHZhbHVlLFxuICBlcnJvcixcbiAgc2hvd0Vycm9yLFxuICBkaXNhYmxlZCxcbiAgaXNTdWJtaXR0aW5nLFxuICBtaW5pbWFsaXN0VmlldzogbWluaW1hbGlzdFZpZXdQcm9wLFxuICBwcm9wZXJ0eSxcbiAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICBzZXRWYWx1ZSxcbiAgc2V0RmllbGRWYWx1ZVxufSkge1xuICBjb25zdCBtaW5pbWFsaXN0VmlldyA9IG1pbmltYWxpc3RWaWV3UHJvcCB8fCBwcm9wZXJ0eS5taW5pbWFsaXN0VmlldztcbiAgY29uc3Qgb2ZQcm9wZXJ0eSA9IHByb3BlcnR5Lm9mO1xuICBpZiAob2ZQcm9wZXJ0eS5kYXRhVHlwZSAhPT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHRocm93IEVycm9yKFwiQXJyYXlPZlJlZmVyZW5jZXNGaWVsZCBleHBlY3RlZCBhIHByb3BlcnR5IGNvbnRhaW5pbmcgcmVmZXJlbmNlc1wiKTtcbiAgfVxuICBjb25zdCBleHBhbmRlZCA9IHByb3BlcnR5LmV4cGFuZGVkID09PSB2b2lkIDAgPyB0cnVlIDogcHJvcGVydHkuZXhwYW5kZWQ7XG4gIGNvbnN0IHNlbGVjdGVkRW50aXR5SWRzID0gdmFsdWUgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAoKHJlZikgPT4gcmVmLmlkKSA6IFtdO1xuICB1c2VDbGVhclJlc3RvcmVWYWx1ZSh7XG4gICAgcHJvcGVydHksXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG4gIGNvbnN0IG5hdmlnYXRpb25Db250cm9sbGVyID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgY29sbGVjdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBvZlByb3BlcnR5LnBhdGggPyBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uKG9mUHJvcGVydHkucGF0aCkgOiB2b2lkIDA7XG4gIH0sIFtvZlByb3BlcnR5LnBhdGhdKTtcbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoYENvdWxkbid0IGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgY29sbGVjdGlvbiBmb3IgdGhlIHBhdGg6ICR7b2ZQcm9wZXJ0eS5wYXRofWApO1xuICB9XG4gIGNvbnN0IG9uTXVsdGlwbGVFbnRpdGllc1NlbGVjdGVkID0gdXNlQ2FsbGJhY2soKGVudGl0aWVzKSA9PiB7XG4gICAgc2V0VmFsdWUoZW50aXRpZXMubWFwKChlKSA9PiBnZXRSZWZlcmVuY2VGcm9tKGUpKSk7XG4gIH0sIFtzZXRWYWx1ZV0pO1xuICBjb25zdCByZWZlcmVuY2VEaWFsb2dDb250cm9sbGVyID0gdXNlUmVmZXJlbmNlRGlhbG9nKHtcbiAgICBtdWx0aXNlbGVjdDogdHJ1ZSxcbiAgICBwYXRoOiBvZlByb3BlcnR5LnBhdGgsXG4gICAgY29sbGVjdGlvbixcbiAgICBvbk11bHRpcGxlRW50aXRpZXNTZWxlY3RlZCxcbiAgICBzZWxlY3RlZEVudGl0eUlkcyxcbiAgICBmb3JjZUZpbHRlcjogb2ZQcm9wZXJ0eS5mb3JjZUZpbHRlclxuICB9KTtcbiAgY29uc3Qgb25FbnRyeUNsaWNrID0gKGVfMCkgPT4ge1xuICAgIGVfMC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJlZmVyZW5jZURpYWxvZ0NvbnRyb2xsZXIub3BlbigpO1xuICB9O1xuICBjb25zdCBidWlsZEVudHJ5ID0gdXNlQ2FsbGJhY2soKHtcbiAgICBpbmRleCxcbiAgICBpbnRlcm5hbElkLFxuICAgIHN0b3JlZFByb3BzLFxuICAgIHN0b3JlUHJvcHNcbiAgfSkgPT4ge1xuICAgIGNvbnN0IGVudHJ5VmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiBpbmRleCA/IHZhbHVlW2luZGV4XSA6IHZvaWQgMDtcbiAgICBpZiAoIWVudHJ5VmFsdWUpIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IFwiSW50ZXJuYWwgRVJST1JcIiB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSZWZlcmVuY2VQcmV2aWV3LCB7IGRpc2FibGVkOiAhb2ZQcm9wZXJ0eS5wYXRoLCBwcmV2aWV3UHJvcGVydGllczogb2ZQcm9wZXJ0eS5wcmV2aWV3UHJvcGVydGllcywgc2l6ZTogXCJtZWRpdW1cIiwgb25DbGljazogb25FbnRyeUNsaWNrLCBob3ZlcjogIWRpc2FibGVkLCByZWZlcmVuY2U6IGVudHJ5VmFsdWUsIGluY2x1ZGVJZDogb2ZQcm9wZXJ0eS5pbmNsdWRlSWQsIGluY2x1ZGVFbnRpdHlMaW5rOiBvZlByb3BlcnR5LmluY2x1ZGVFbnRpdHlMaW5rIH0sIGludGVybmFsSWQpO1xuICB9LCBbb2ZQcm9wZXJ0eS5wYXRoLCBvZlByb3BlcnR5LnByZXZpZXdQcm9wZXJ0aWVzLCB2YWx1ZV0pO1xuICBjb25zdCB0aXRsZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpLCByZXF1aXJlZDogcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwiaC04IGZsZXggZmxleC1ncm93IHRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmtcIiB9KSxcbiAgICBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjbGFzc05hbWU6IFwicHgtNFwiLCBjaGlsZHJlbjogW1xuICAgICAgXCIoXCIsXG4gICAgICB2YWx1ZS5sZW5ndGgsXG4gICAgICBcIilcIlxuICAgIF0gfSlcbiAgXSB9KTtcbiAgY29uc3QgYm9keSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgIWNvbGxlY3Rpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgZXJyb3I6IFwiVGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGRvZXMgbm90IGV4aXN0LiBDaGVjayBjb25zb2xlXCIgfSksXG4gICAgY29sbGVjdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cFwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChBcnJheUNvbnRhaW5lciwgeyBkcm9wcGFibGVJZDogcHJvcGVydHlLZXksIHZhbHVlLCBkaXNhYmxlZDogaXNTdWJtaXR0aW5nLCBidWlsZEVudHJ5LCBhZGRMYWJlbDogcHJvcGVydHkubmFtZSA/IFwiQWRkIHJlZmVyZW5jZSB0byBcIiArIHByb3BlcnR5Lm5hbWUgOiBcIkFkZCByZWZlcmVuY2VcIiwgbmV3RGVmYXVsdEVudHJ5OiBwcm9wZXJ0eS5vZi5kZWZhdWx0VmFsdWUsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZV8wKSA9PiBzZXRGaWVsZFZhbHVlKHByb3BlcnR5S2V5LCB2YWx1ZV8wKSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwibXktNCBqdXN0aWZ5LWNlbnRlciB0ZXh0LWxlZnRcIiwgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcInByaW1hcnlcIiwgZGlzYWJsZWQ6IGlzU3VibWl0dGluZywgb25DbGljazogb25FbnRyeUNsaWNrLCBjaGlsZHJlbjogW1xuICAgICAgICBcIkVkaXQgXCIsXG4gICAgICAgIHByb3BlcnR5Lm5hbWVcbiAgICAgIF0gfSlcbiAgICBdIH0pXG4gIF0gfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICFtaW5pbWFsaXN0VmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEV4cGFuZGFibGVQYW5lbCwgeyB0aXRsZUNsYXNzTmFtZTogZmllbGRCYWNrZ3JvdW5kTWl4aW4sIGlubmVyQ2xhc3NOYW1lOiBjbHMoXCJweC0yIG1kOnB4LTQgcGItMiBtZDpwYi00IHB0LTEgbWQ6cHQtMlwiLCBmaWVsZEJhY2tncm91bmRNaXhpbiksIGluaXRpYWxseUV4cGFuZGVkOiBleHBhbmRlZCwgdGl0bGUsIGNoaWxkcmVuOiBib2R5IH0pLFxuICAgIG1pbmltYWxpc3RWaWV3ICYmIGJvZHksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChGaWVsZEhlbHBlclRleHQsIHsgaW5jbHVkZURlc2NyaXB0aW9uLCBzaG93RXJyb3IsIGVycm9yLCBkaXNhYmxlZCwgcHJvcGVydHkgfSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIFN0b3JhZ2VJdGVtUHJldmlldyh0MCkge1xuICBjb25zdCAkID0gYygyMSk7XG4gIGNvbnN0IHtcbiAgICBuYW1lLFxuICAgIHByb3BlcnR5LFxuICAgIHZhbHVlLFxuICAgIG9uUmVtb3ZlLFxuICAgIGRpc2FibGVkLFxuICAgIHNpemUsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgY2xhc3NOYW1lXG4gIH0gPSB0MDtcbiAgY29uc3QgdDEgPSBzaXplID09PSBcImxhcmdlXCIgPyBcIm1pbi13LVsyMjBweF0gbWluLWgtWzIyMHB4XSBtYXgtdy1bMjIwcHhdXCIgOiBcIm1pbi13LVsxMThweF0gbWluLWgtWzExOHB4XSBtYXgtdy1bMTE4cHhdXCI7XG4gIGxldCB0MjtcbiAgaWYgKCRbMF0gIT09IGNsYXNzTmFtZSB8fCAkWzFdICE9PSB0MSkge1xuICAgIHQyID0gY2xzKHBhcGVyTWl4aW4sIFwicmVsYXRpdmUgbS00IGJvcmRlci1ib3ggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiwgdDEsIGNsYXNzTmFtZSk7XG4gICAgJFswXSA9IGNsYXNzTmFtZTtcbiAgICAkWzFdID0gdDE7XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBkaXNhYmxlZCB8fCAkWzRdICE9PSBvblJlbW92ZSB8fCAkWzVdICE9PSBwbGFjZWhvbGRlciB8fCAkWzZdICE9PSB2YWx1ZSkge1xuICAgIHQzID0gIXBsYWNlaG9sZGVyICYmICFkaXNhYmxlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHJvdW5kZWQtZnVsbCAtdG9wLTIgLXJpZ2h0LTIgei0xMCBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTAwXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgYXNDaGlsZDogdHJ1ZSwgdGl0bGU6IFwiUmVtb3ZlXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgb25SZW1vdmUodmFsdWUpO1xuICAgIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFJlbW92ZUljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pIH0pIH0pIH0pO1xuICAgICRbM10gPSBkaXNhYmxlZDtcbiAgICAkWzRdID0gb25SZW1vdmU7XG4gICAgJFs1XSA9IHBsYWNlaG9sZGVyO1xuICAgICRbNl0gPSB2YWx1ZTtcbiAgICAkWzddID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzddO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbOF0gIT09IG5hbWUgfHwgJFs5XSAhPT0gcGxhY2Vob2xkZXIgfHwgJFsxMF0gIT09IHByb3BlcnR5IHx8ICRbMTFdICE9PSBzaXplIHx8ICRbMTJdICE9PSB2YWx1ZSkge1xuICAgIHQ0ID0gIXBsYWNlaG9sZGVyICYmIHZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eVByZXZpZXcsIHsgcHJvcGVydHlLZXk6IG5hbWUsIHZhbHVlLCBwcm9wZXJ0eSwgaW50ZXJhY3RpdmU6IGZhbHNlLCBzaXplIH0pIH0pO1xuICAgICRbOF0gPSBuYW1lO1xuICAgICRbOV0gPSBwbGFjZWhvbGRlcjtcbiAgICAkWzEwXSA9IHByb3BlcnR5O1xuICAgICRbMTFdID0gc2l6ZTtcbiAgICAkWzEyXSA9IHZhbHVlO1xuICAgICRbMTNdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEzXTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzE0XSAhPT0gcGxhY2Vob2xkZXIpIHtcbiAgICB0NSA9IHBsYWNlaG9sZGVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBvbkNsaWNrOiBfdGVtcCQ4LCBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIGgtZnVsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEZXNjcmlwdGlvbkljb24sIHsgY2xhc3NOYW1lOiBcInRleHQtc3VyZmFjZS03MDAgZGFyazp0ZXh0LXN1cmZhY2UtMzAwXCIgfSkgfSk7XG4gICAgJFsxNF0gPSBwbGFjZWhvbGRlcjtcbiAgICAkWzE1XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxNV07XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsxNl0gIT09IHQyIHx8ICRbMTddICE9PSB0MyB8fCAkWzE4XSAhPT0gdDQgfHwgJFsxOV0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogdDIsIGNoaWxkcmVuOiBbXG4gICAgICB0MyxcbiAgICAgIHQ0LFxuICAgICAgdDVcbiAgICBdIH0pO1xuICAgICRbMTZdID0gdDI7XG4gICAgJFsxN10gPSB0MztcbiAgICAkWzE4XSA9IHQ0O1xuICAgICRbMTldID0gdDU7XG4gICAgJFsyMF0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMjBdO1xuICB9XG4gIHJldHVybiB0Njtcbn1cbmZ1bmN0aW9uIF90ZW1wJDgoZSkge1xuICByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKTtcbn1cbmNvbnN0IGRyb3Bab25lQ2xhc3NlcyA9IFwiYm94LWJvcmRlciByZWxhdGl2ZSBwdC1bMnB4XSBpdGVtcy1jZW50ZXIgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBtaW4taC1bMjU0cHhdIG91dGxpbmUtbm9uZSByb3VuZGVkLW1kIGR1cmF0aW9uLTIwMCBlYXNlLVtjdWJpYy1iZXppZXIoMC40LDAsMC4yLDEpXSBmb2N1czpib3JkZXItcHJpbWFyeS1zb2xpZFwiO1xuY29uc3QgZGlzYWJsZWRDbGFzc2VzID0gZmllbGRCYWNrZ3JvdW5kRGlzYWJsZWRNaXhpbjtcbmNvbnN0IG5vbkFjdGl2ZURyb3BDbGFzc2VzID0gZmllbGRCYWNrZ3JvdW5kSG92ZXJNaXhpbjtcbmNvbnN0IGFjdGl2ZURyb3BDbGFzc2VzID0gXCJwdC0wIGJvcmRlci0yIGJvcmRlci1zb2xpZFwiO1xuY29uc3QgYWNjZXB0RHJvcENsYXNzZXMgPSBcInRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBlYXNlLVtjdWJpYy1iZXppZXIoMCwwLDAuMiwxKV0gYm9yZGVyLTIgYm9yZGVyLXNvbGlkIGJvcmRlci1ncmVlbi01MDBcIjtcbmNvbnN0IHJlamVjdERyb3BDbGFzc2VzID0gXCJ0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZWFzZS1bY3ViaWMtYmV6aWVyKDAsMCwwLjIsMSldIGJvcmRlci0yIGJvcmRlci1zb2xpZCBib3JkZXItcmVkLTUwMFwiO1xuZnVuY3Rpb24gU3RvcmFnZVVwbG9hZEZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYyg0Nik7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBlcnJvcixcbiAgICBzaG93RXJyb3IsXG4gICAgYXV0b0ZvY3VzLFxuICAgIG1pbmltYWxpc3RWaWV3LFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvbixcbiAgICBjb250ZXh0LFxuICAgIGlzU3VibWl0dGluZ1xuICB9ID0gdDA7XG4gIGlmICghY29udGV4dC5lbnRpdHlJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN0b3JhZ2VVcGxvYWRGaWVsZEJpbmRpbmc6IEVudGl0eSBpZCBpcyBudWxsXCIpO1xuICB9XG4gIGNvbnN0IHN0b3JhZ2VTb3VyY2UgPSB1c2VTdG9yYWdlU291cmNlKGNvbnRleHQuY29sbGVjdGlvbik7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGlzU3VibWl0dGluZyB8fCAkWzFdICE9PSBwcm9wZXJ0eSkge1xuICAgIHQxID0gaXNSZWFkT25seShwcm9wZXJ0eSkgfHwgISFwcm9wZXJ0eS5kaXNhYmxlZCB8fCBpc1N1Ym1pdHRpbmc7XG4gICAgJFswXSA9IGlzU3VibWl0dGluZztcbiAgICAkWzFdID0gcHJvcGVydHk7XG4gICAgJFsyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsyXTtcbiAgfVxuICBjb25zdCBkaXNhYmxlZCA9IHQxO1xuICBjb25zdCB0MiA9IGRpc2FibGVkID8/IGZhbHNlO1xuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBjb250ZXh0LmVudGl0eUlkIHx8ICRbNF0gIT09IGNvbnRleHQucGF0aCB8fCAkWzVdICE9PSBjb250ZXh0LnZhbHVlcyB8fCAkWzZdICE9PSBwcm9wZXJ0eSB8fCAkWzddICE9PSBwcm9wZXJ0eUtleSB8fCAkWzhdICE9PSBzZXRWYWx1ZSB8fCAkWzldICE9PSBzdG9yYWdlU291cmNlIHx8ICRbMTBdICE9PSB0MiB8fCAkWzExXSAhPT0gdmFsdWUpIHtcbiAgICB0MyA9IHtcbiAgICAgIGVudGl0eVZhbHVlczogY29udGV4dC52YWx1ZXMsXG4gICAgICBlbnRpdHlJZDogY29udGV4dC5lbnRpdHlJZCxcbiAgICAgIHBhdGg6IGNvbnRleHQucGF0aCxcbiAgICAgIHByb3BlcnR5LFxuICAgICAgcHJvcGVydHlLZXksXG4gICAgICB2YWx1ZSxcbiAgICAgIHN0b3JhZ2VTb3VyY2UsXG4gICAgICBkaXNhYmxlZDogdDIsXG4gICAgICBvbkNoYW5nZTogc2V0VmFsdWVcbiAgICB9O1xuICAgICRbM10gPSBjb250ZXh0LmVudGl0eUlkO1xuICAgICRbNF0gPSBjb250ZXh0LnBhdGg7XG4gICAgJFs1XSA9IGNvbnRleHQudmFsdWVzO1xuICAgICRbNl0gPSBwcm9wZXJ0eTtcbiAgICAkWzddID0gcHJvcGVydHlLZXk7XG4gICAgJFs4XSA9IHNldFZhbHVlO1xuICAgICRbOV0gPSBzdG9yYWdlU291cmNlO1xuICAgICRbMTBdID0gdDI7XG4gICAgJFsxMV0gPSB2YWx1ZTtcbiAgICAkWzEyXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxMl07XG4gIH1cbiAgY29uc3Qge1xuICAgIGludGVybmFsVmFsdWUsXG4gICAgc2V0SW50ZXJuYWxWYWx1ZSxcbiAgICBvbkZpbGVzQWRkZWQsXG4gICAgc3RvcmFnZSxcbiAgICBvbkZpbGVVcGxvYWRDb21wbGV0ZSxcbiAgICBzdG9yYWdlUGF0aEJ1aWxkZXIsXG4gICAgbXVsdGlwbGVGaWxlc1N1cHBvcnRlZFxuICB9ID0gdXNlU3RvcmFnZVVwbG9hZENvbnRyb2xsZXIodDMpO1xuICBsZXQgdDQ7XG4gIGlmICgkWzEzXSAhPT0gcHJvcGVydHkgfHwgJFsxNF0gIT09IHNldFZhbHVlIHx8ICRbMTVdICE9PSB2YWx1ZSkge1xuICAgIHQ0ID0ge1xuICAgICAgcHJvcGVydHksXG4gICAgICB2YWx1ZSxcbiAgICAgIHNldFZhbHVlXG4gICAgfTtcbiAgICAkWzEzXSA9IHByb3BlcnR5O1xuICAgICRbMTRdID0gc2V0VmFsdWU7XG4gICAgJFsxNV0gPSB2YWx1ZTtcbiAgICAkWzE2XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFsxNl07XG4gIH1cbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUodDQpO1xuICBjb25zdCB0NSA9IHByb3BlcnR5O1xuICBsZXQgdDY7XG4gIGlmICgkWzE3XSAhPT0gdDUpIHtcbiAgICB0NiA9IHJlc29sdmVQcm9wZXJ0eSh7XG4gICAgICBwcm9wZXJ0eU9yQnVpbGRlcjogdDVcbiAgICB9KTtcbiAgICAkWzE3XSA9IHQ1O1xuICAgICRbMThdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE4XTtcbiAgfVxuICBjb25zdCByZXNvbHZlZFByb3BlcnR5ID0gdDY7XG4gIGxldCB0NztcbiAgaWYgKCRbMTldICE9PSBtaW5pbWFsaXN0VmlldyB8fCAkWzIwXSAhPT0gcHJvcGVydHkgfHwgJFsyMV0gIT09IHByb3BlcnR5S2V5KSB7XG4gICAgdDcgPSAhbWluaW1hbGlzdFZpZXcgJiYgLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpLCByZXF1aXJlZDogcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwiaC04dGV4dC10ZXh0LXNlY29uZGFyeSBkYXJrOnRleHQtdGV4dC1zZWNvbmRhcnktZGFyayBtbC0zLjVcIiB9KTtcbiAgICAkWzE5XSA9IG1pbmltYWxpc3RWaWV3O1xuICAgICRbMjBdID0gcHJvcGVydHk7XG4gICAgJFsyMV0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzIyXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsyMl07XG4gIH1cbiAgY29uc3QgdDggPSBkaXNhYmxlZCA/PyBmYWxzZTtcbiAgY29uc3QgdDkgPSBhdXRvRm9jdXMgPz8gZmFsc2U7XG4gIGxldCB0MTA7XG4gIGlmICgkWzIzXSAhPT0gaW50ZXJuYWxWYWx1ZSB8fCAkWzI0XSAhPT0gbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCB8fCAkWzI1XSAhPT0gb25GaWxlVXBsb2FkQ29tcGxldGUgfHwgJFsyNl0gIT09IG9uRmlsZXNBZGRlZCB8fCAkWzI3XSAhPT0gcHJvcGVydHlLZXkgfHwgJFsyOF0gIT09IHJlc29sdmVkUHJvcGVydHkgfHwgJFsyOV0gIT09IHNldEludGVybmFsVmFsdWUgfHwgJFszMF0gIT09IHNldFZhbHVlIHx8ICRbMzFdICE9PSBzdG9yYWdlIHx8ICRbMzJdICE9PSBzdG9yYWdlUGF0aEJ1aWxkZXIgfHwgJFszM10gIT09IHQ4IHx8ICRbMzRdICE9PSB0OSkge1xuICAgIHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RvcmFnZVVwbG9hZCwgeyB2YWx1ZTogaW50ZXJuYWxWYWx1ZSwgbmFtZTogcHJvcGVydHlLZXksIGRpc2FibGVkOiB0OCwgYXV0b0ZvY3VzOiB0OSwgcHJvcGVydHk6IHJlc29sdmVkUHJvcGVydHksIG9uQ2hhbmdlOiBzZXRWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZSwgb25GaWxlc0FkZGVkLCBvbkZpbGVVcGxvYWRDb21wbGV0ZSwgc3RvcmFnZVBhdGhCdWlsZGVyLCBzdG9yYWdlLCBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkIH0pO1xuICAgICRbMjNdID0gaW50ZXJuYWxWYWx1ZTtcbiAgICAkWzI0XSA9IG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQ7XG4gICAgJFsyNV0gPSBvbkZpbGVVcGxvYWRDb21wbGV0ZTtcbiAgICAkWzI2XSA9IG9uRmlsZXNBZGRlZDtcbiAgICAkWzI3XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMjhdID0gcmVzb2x2ZWRQcm9wZXJ0eTtcbiAgICAkWzI5XSA9IHNldEludGVybmFsVmFsdWU7XG4gICAgJFszMF0gPSBzZXRWYWx1ZTtcbiAgICAkWzMxXSA9IHN0b3JhZ2U7XG4gICAgJFszMl0gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgJFszM10gPSB0ODtcbiAgICAkWzM0XSA9IHQ5O1xuICAgICRbMzVdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMzVdO1xuICB9XG4gIGxldCB0MTE7XG4gIGlmICgkWzM2XSAhPT0gZGlzYWJsZWQgfHwgJFszN10gIT09IGVycm9yIHx8ICRbMzhdICE9PSBpbmNsdWRlRGVzY3JpcHRpb24gfHwgJFszOV0gIT09IHByb3BlcnR5IHx8ICRbNDBdICE9PSBzaG93RXJyb3IpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzM2XSA9IGRpc2FibGVkO1xuICAgICRbMzddID0gZXJyb3I7XG4gICAgJFszOF0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFszOV0gPSBwcm9wZXJ0eTtcbiAgICAkWzQwXSA9IHNob3dFcnJvcjtcbiAgICAkWzQxXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzQxXTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFs0Ml0gIT09IHQxMCB8fCAkWzQzXSAhPT0gdDExIHx8ICRbNDRdICE9PSB0Nykge1xuICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICB0NyxcbiAgICAgIHQxMCxcbiAgICAgIHQxMVxuICAgIF0gfSk7XG4gICAgJFs0Ml0gPSB0MTA7XG4gICAgJFs0M10gPSB0MTE7XG4gICAgJFs0NF0gPSB0NztcbiAgICAkWzQ1XSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzQ1XTtcbiAgfVxuICByZXR1cm4gdDEyO1xufVxuZnVuY3Rpb24gRmlsZURyb3BDb21wb25lbnQodDApIHtcbiAgY29uc3QgJCA9IGMoNjQpO1xuICBjb25zdCB7XG4gICAgc3RvcmFnZSxcbiAgICBkaXNhYmxlZCxcbiAgICBpc0RyYWdnaW5nT3ZlcixcbiAgICBvbkZpbGVzQWRkZWQsXG4gICAgbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCxcbiAgICBkcm9wcGFibGVQcm92aWRlZCxcbiAgICBhdXRvRm9jdXMsXG4gICAgaW50ZXJuYWxWYWx1ZSxcbiAgICBwcm9wZXJ0eSxcbiAgICBvbkNsZWFyLFxuICAgIG1ldGFkYXRhLFxuICAgIHN0b3JhZ2VQYXRoQnVpbGRlcixcbiAgICBvbkZpbGVVcGxvYWRDb21wbGV0ZSxcbiAgICBzaXplLFxuICAgIG5hbWUsXG4gICAgaGVscFRleHRcbiAgfSA9IHQwO1xuICBjb25zdCBzbmFja2JhckNvbnRleHQgPSB1c2VTbmFja2JhckNvbnRyb2xsZXIoKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gc3RvcmFnZS5hY2NlcHRlZEZpbGVzKSB7XG4gICAgdDEgPSBzdG9yYWdlLmFjY2VwdGVkRmlsZXMgPyBzdG9yYWdlLmFjY2VwdGVkRmlsZXMubWFwKF90ZW1wJDcpLnJlZHVjZShfdGVtcDIkNCwge30pIDogdm9pZCAwO1xuICAgICRbMF0gPSBzdG9yYWdlLmFjY2VwdGVkRmlsZXM7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCB0MiA9IGRpc2FibGVkIHx8IGlzRHJhZ2dpbmdPdmVyO1xuICBsZXQgdDM7XG4gIGlmICgkWzJdICE9PSBzbmFja2JhckNvbnRleHQgfHwgJFszXSAhPT0gc3RvcmFnZS5tYXhTaXplKSB7XG4gICAgdDMgPSAoZmlsZVJlamVjdGlvbnMsIGV2ZW50KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGZpbGVSZWplY3Rpb24gb2YgZmlsZVJlamVjdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBlcnJvciBvZiBmaWxlUmVqZWN0aW9uLmVycm9ycykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgZmlsZTogXCIsIGVycm9yKTtcbiAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJmaWxlLXRvby1sYXJnZVwiKSB7XG4gICAgICAgICAgICBzbmFja2JhckNvbnRleHQub3Blbih7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgbWVzc2FnZTogYEVycm9yIHVwbG9hZGluZyBmaWxlOiBGaWxlIGlzIGxhcmdlciB0aGFuICR7c3RvcmFnZS5tYXhTaXplfSBieXRlc2BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJmaWxlLWludmFsaWQtdHlwZVwiKSB7XG4gICAgICAgICAgICAgIHNuYWNrYmFyQ29udGV4dC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFcnJvciB1cGxvYWRpbmcgZmlsZTogRmlsZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWRcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgICRbMl0gPSBzbmFja2JhckNvbnRleHQ7XG4gICAgJFszXSA9IHN0b3JhZ2UubWF4U2l6ZTtcbiAgICAkWzRdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzRdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNV0gIT09IG9uRmlsZXNBZGRlZCB8fCAkWzZdICE9PSBzdG9yYWdlLm1heFNpemUgfHwgJFs3XSAhPT0gdDEgfHwgJFs4XSAhPT0gdDIgfHwgJFs5XSAhPT0gdDMpIHtcbiAgICB0NCA9IHtcbiAgICAgIGFjY2VwdDogdDEsXG4gICAgICBkaXNhYmxlZDogdDIsXG4gICAgICBub0RyYWdFdmVudHNCdWJibGluZzogdHJ1ZSxcbiAgICAgIG1heFNpemU6IHN0b3JhZ2UubWF4U2l6ZSxcbiAgICAgIG9uRHJvcDogb25GaWxlc0FkZGVkLFxuICAgICAgb25Ecm9wUmVqZWN0ZWQ6IHQzXG4gICAgfTtcbiAgICAkWzVdID0gb25GaWxlc0FkZGVkO1xuICAgICRbNl0gPSBzdG9yYWdlLm1heFNpemU7XG4gICAgJFs3XSA9IHQxO1xuICAgICRbOF0gPSB0MjtcbiAgICAkWzldID0gdDM7XG4gICAgJFsxMF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMTBdO1xuICB9XG4gIGNvbnN0IHtcbiAgICBnZXRSb290UHJvcHMsXG4gICAgZ2V0SW5wdXRQcm9wcyxcbiAgICBpc0RyYWdBY3RpdmUsXG4gICAgaXNEcmFnQWNjZXB0LFxuICAgIGlzRHJhZ1JlamVjdFxuICB9ID0gdXNlRHJvcHpvbmUodDQpO1xuICBsZXQgdDU7XG4gIGlmICgkWzExXSAhPT0gZ2V0Um9vdFByb3BzKSB7XG4gICAgdDUgPSBnZXRSb290UHJvcHMoKTtcbiAgICAkWzExXSA9IGdldFJvb3RQcm9wcztcbiAgICAkWzEyXSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsxMl07XG4gIH1cbiAgY29uc3QgdDYgPSBkaXNhYmxlZCA/IGZpZWxkQmFja2dyb3VuZERpc2FibGVkTWl4aW4gOiBmaWVsZEJhY2tncm91bmRIb3Zlck1peGluO1xuICBjb25zdCB0NyA9IGRpc2FibGVkID8gXCJ0ZXh0LXN1cmZhY2UtYWNjZW50LTYwMCBkYXJrOnRleHQtc3VyZmFjZS1hY2NlbnQtNTAwXCIgOiBcIlwiO1xuICBjb25zdCB0OCA9IG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQgJiYgaW50ZXJuYWxWYWx1ZS5sZW5ndGggPyBcIlwiIDogXCJmbGV4XCI7XG4gIGNvbnN0IHQ5ID0gIWlzRHJhZ0FjdGl2ZTtcbiAgbGV0IHQxMDtcbiAgaWYgKCRbMTNdICE9PSBkaXNhYmxlZCB8fCAkWzE0XSAhPT0gaXNEcmFnQWNjZXB0IHx8ICRbMTVdICE9PSBpc0RyYWdBY3RpdmUgfHwgJFsxNl0gIT09IGlzRHJhZ1JlamVjdCB8fCAkWzE3XSAhPT0gdDYgfHwgJFsxOF0gIT09IHQ3IHx8ICRbMTldICE9PSB0OCB8fCAkWzIwXSAhPT0gdDkpIHtcbiAgICB0MTAgPSBjbHMoZmllbGRCYWNrZ3JvdW5kTWl4aW4sIHQ2LCB0NywgZHJvcFpvbmVDbGFzc2VzLCB0OCwge1xuICAgICAgW25vbkFjdGl2ZURyb3BDbGFzc2VzXTogdDksXG4gICAgICBbYWN0aXZlRHJvcENsYXNzZXNdOiBpc0RyYWdBY3RpdmUsXG4gICAgICBbcmVqZWN0RHJvcENsYXNzZXNdOiBpc0RyYWdSZWplY3QsXG4gICAgICBbYWNjZXB0RHJvcENsYXNzZXNdOiBpc0RyYWdBY2NlcHQsXG4gICAgICBbZGlzYWJsZWRDbGFzc2VzXTogZGlzYWJsZWRcbiAgICB9KTtcbiAgICAkWzEzXSA9IGRpc2FibGVkO1xuICAgICRbMTRdID0gaXNEcmFnQWNjZXB0O1xuICAgICRbMTVdID0gaXNEcmFnQWN0aXZlO1xuICAgICRbMTZdID0gaXNEcmFnUmVqZWN0O1xuICAgICRbMTddID0gdDY7XG4gICAgJFsxOF0gPSB0NztcbiAgICAkWzE5XSA9IHQ4O1xuICAgICRbMjBdID0gdDk7XG4gICAgJFsyMV0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsyMV07XG4gIH1cbiAgY29uc3QgdDExID0gZHJvcHBhYmxlUHJvdmlkZWQuZHJvcHBhYmxlUHJvcHM7XG4gIGNvbnN0IHQxMiA9IGRyb3BwYWJsZVByb3ZpZGVkLmlubmVyUmVmO1xuICBjb25zdCB0MTMgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkICYmIGludGVybmFsVmFsdWUubGVuZ3RoID8gXCJvdmVyZmxvdy1hdXRvXCIgOiBcIlwiO1xuICBjb25zdCB0MTQgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkICYmIGludGVybmFsVmFsdWUubGVuZ3RoID8gXCJtaW4taC1bMTgwcHhdXCIgOiBcIm1pbi1oLVsyNTBweF1cIjtcbiAgbGV0IHQxNTtcbiAgaWYgKCRbMjJdICE9PSB0MTMgfHwgJFsyM10gIT09IHQxNCkge1xuICAgIHQxNSA9IGNscyhcImZsZXggaXRlbXMtY2VudGVyIHAtMSBuby1zY3JvbGxiYXJcIiwgdDEzLCB0MTQpO1xuICAgICRbMjJdID0gdDEzO1xuICAgICRbMjNdID0gdDE0O1xuICAgICRbMjRdID0gdDE1O1xuICB9IGVsc2Uge1xuICAgIHQxNSA9ICRbMjRdO1xuICB9XG4gIGxldCB0MTY7XG4gIGlmICgkWzI1XSAhPT0gZ2V0SW5wdXRQcm9wcykge1xuICAgIHQxNiA9IGdldElucHV0UHJvcHMoKTtcbiAgICAkWzI1XSA9IGdldElucHV0UHJvcHM7XG4gICAgJFsyNl0gPSB0MTY7XG4gIH0gZWxzZSB7XG4gICAgdDE2ID0gJFsyNl07XG4gIH1cbiAgbGV0IHQxNztcbiAgaWYgKCRbMjddICE9PSBhdXRvRm9jdXMgfHwgJFsyOF0gIT09IHQxNikge1xuICAgIHQxNyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJpbnB1dFwiLCB7IGF1dG9Gb2N1cywgLi4udDE2IH0pO1xuICAgICRbMjddID0gYXV0b0ZvY3VzO1xuICAgICRbMjhdID0gdDE2O1xuICAgICRbMjldID0gdDE3O1xuICB9IGVsc2Uge1xuICAgIHQxNyA9ICRbMjldO1xuICB9XG4gIGxldCB0MTg7XG4gIGlmICgkWzMwXSAhPT0gZGlzYWJsZWQgfHwgJFszMV0gIT09IGludGVybmFsVmFsdWUgfHwgJFszMl0gIT09IG1ldGFkYXRhIHx8ICRbMzNdICE9PSBuYW1lIHx8ICRbMzRdICE9PSBvbkNsZWFyIHx8ICRbMzVdICE9PSBvbkZpbGVVcGxvYWRDb21wbGV0ZSB8fCAkWzM2XSAhPT0gcHJvcGVydHkgfHwgJFszN10gIT09IHNpemUgfHwgJFszOF0gIT09IHN0b3JhZ2VQYXRoQnVpbGRlcikge1xuICAgIGxldCB0MTkyO1xuICAgIGlmICgkWzQwXSAhPT0gZGlzYWJsZWQgfHwgJFs0MV0gIT09IG1ldGFkYXRhIHx8ICRbNDJdICE9PSBuYW1lIHx8ICRbNDNdICE9PSBvbkNsZWFyIHx8ICRbNDRdICE9PSBvbkZpbGVVcGxvYWRDb21wbGV0ZSB8fCAkWzQ1XSAhPT0gcHJvcGVydHkgfHwgJFs0Nl0gIT09IHNpemUgfHwgJFs0N10gIT09IHN0b3JhZ2VQYXRoQnVpbGRlcikge1xuICAgICAgdDE5MiA9IChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICBpZiAoZW50cnkuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKSB7XG4gICAgICAgICAgY2hpbGQgPSAvKiBAX19QVVJFX18gKi8ganN4KFN0b3JhZ2VJdGVtUHJldmlldywgeyBuYW1lOiBgc3RvcmFnZV9wcmV2aWV3XyR7ZW50cnkuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsfWAsIHByb3BlcnR5LCBkaXNhYmxlZCwgdmFsdWU6IGVudHJ5LnN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCwgb25SZW1vdmU6IG9uQ2xlYXIsIHNpemU6IGVudHJ5LnNpemUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmZpbGUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gLyogQF9fUFVSRV9fICovIGpzeChTdG9yYWdlVXBsb2FkUHJvZ3Jlc3MsIHsgZW50cnksIG1ldGFkYXRhLCBzdG9yYWdlUGF0aDogc3RvcmFnZVBhdGhCdWlsZGVyKGVudHJ5LmZpbGUpLCBvbkZpbGVVcGxvYWRDb21wbGV0ZSwgaW1hZ2VTaXplOiBzaXplID09PSBcImxhcmdlXCIgPyAyMjAgOiAxMTgsIHNpbXBsZTogZmFsc2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERyYWdnYWJsZSwgeyBkcmFnZ2FibGVJZDogYGFycmF5X2ZpZWxkXyR7bmFtZX1fJHtlbnRyeS5pZH1gLCBpbmRleCwgY2hpbGRyZW46IChwcm92aWRlZCwgc25hcHNob3QpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyB0YWJJbmRleDogLTEsIHJlZjogcHJvdmlkZWQuaW5uZXJSZWYsIC4uLnByb3ZpZGVkLmRyYWdnYWJsZVByb3BzLCAuLi5wcm92aWRlZC5kcmFnSGFuZGxlUHJvcHMsIGNsYXNzTmFtZTogY2xzKFwicm91bmRlZC1tZFwiKSwgc3R5bGU6IHtcbiAgICAgICAgICAuLi5wcm92aWRlZC5kcmFnZ2FibGVQcm9wcy5zdHlsZVxuICAgICAgICB9LCBjaGlsZHJlbjogY2hpbGQgfSkgfSwgYGFycmF5X2ZpZWxkXyR7bmFtZX1fJHtlbnRyeS5pZH1gKTtcbiAgICAgIH07XG4gICAgICAkWzQwXSA9IGRpc2FibGVkO1xuICAgICAgJFs0MV0gPSBtZXRhZGF0YTtcbiAgICAgICRbNDJdID0gbmFtZTtcbiAgICAgICRbNDNdID0gb25DbGVhcjtcbiAgICAgICRbNDRdID0gb25GaWxlVXBsb2FkQ29tcGxldGU7XG4gICAgICAkWzQ1XSA9IHByb3BlcnR5O1xuICAgICAgJFs0Nl0gPSBzaXplO1xuICAgICAgJFs0N10gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgICAkWzQ4XSA9IHQxOTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQxOTIgPSAkWzQ4XTtcbiAgICB9XG4gICAgdDE4ID0gaW50ZXJuYWxWYWx1ZS5tYXAodDE5Mik7XG4gICAgJFszMF0gPSBkaXNhYmxlZDtcbiAgICAkWzMxXSA9IGludGVybmFsVmFsdWU7XG4gICAgJFszMl0gPSBtZXRhZGF0YTtcbiAgICAkWzMzXSA9IG5hbWU7XG4gICAgJFszNF0gPSBvbkNsZWFyO1xuICAgICRbMzVdID0gb25GaWxlVXBsb2FkQ29tcGxldGU7XG4gICAgJFszNl0gPSBwcm9wZXJ0eTtcbiAgICAkWzM3XSA9IHNpemU7XG4gICAgJFszOF0gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgJFszOV0gPSB0MTg7XG4gIH0gZWxzZSB7XG4gICAgdDE4ID0gJFszOV07XG4gIH1cbiAgbGV0IHQxOTtcbiAgaWYgKCRbNDldICE9PSBkcm9wcGFibGVQcm92aWRlZC5kcm9wcGFibGVQcm9wcyB8fCAkWzUwXSAhPT0gZHJvcHBhYmxlUHJvdmlkZWQuaW5uZXJSZWYgfHwgJFs1MV0gIT09IGRyb3BwYWJsZVByb3ZpZGVkLnBsYWNlaG9sZGVyIHx8ICRbNTJdICE9PSB0MTUgfHwgJFs1M10gIT09IHQxNyB8fCAkWzU0XSAhPT0gdDE4KSB7XG4gICAgdDE5ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyAuLi50MTEsIHJlZjogdDEyLCBjbGFzc05hbWU6IHQxNSwgY2hpbGRyZW46IFtcbiAgICAgIHQxNyxcbiAgICAgIHQxOCxcbiAgICAgIGRyb3BwYWJsZVByb3ZpZGVkLnBsYWNlaG9sZGVyXG4gICAgXSB9KTtcbiAgICAkWzQ5XSA9IGRyb3BwYWJsZVByb3ZpZGVkLmRyb3BwYWJsZVByb3BzO1xuICAgICRbNTBdID0gZHJvcHBhYmxlUHJvdmlkZWQuaW5uZXJSZWY7XG4gICAgJFs1MV0gPSBkcm9wcGFibGVQcm92aWRlZC5wbGFjZWhvbGRlcjtcbiAgICAkWzUyXSA9IHQxNTtcbiAgICAkWzUzXSA9IHQxNztcbiAgICAkWzU0XSA9IHQxODtcbiAgICAkWzU1XSA9IHQxOTtcbiAgfSBlbHNlIHtcbiAgICB0MTkgPSAkWzU1XTtcbiAgfVxuICBjb25zdCB0MjAgPSBkaXNhYmxlZCA/IFwidGV4dC1zdXJmYWNlLWFjY2VudC02MDAgZGFyazp0ZXh0LXN1cmZhY2UtYWNjZW50LTUwMFwiIDogXCJcIjtcbiAgbGV0IHQyMTtcbiAgaWYgKCRbNTZdICE9PSBoZWxwVGV4dCB8fCAkWzU3XSAhPT0gdDIwKSB7XG4gICAgdDIxID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgbWluLWgtWzM4cHhdIGJveC1ib3JkZXIgbS0yIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgYWxpZ246IFwiY2VudGVyXCIsIHZhcmlhbnQ6IFwibGFiZWxcIiwgY2xhc3NOYW1lOiB0MjAsIGNoaWxkcmVuOiBoZWxwVGV4dCB9KSB9KTtcbiAgICAkWzU2XSA9IGhlbHBUZXh0O1xuICAgICRbNTddID0gdDIwO1xuICAgICRbNThdID0gdDIxO1xuICB9IGVsc2Uge1xuICAgIHQyMSA9ICRbNThdO1xuICB9XG4gIGxldCB0MjI7XG4gIGlmICgkWzU5XSAhPT0gdDEwIHx8ICRbNjBdICE9PSB0MTkgfHwgJFs2MV0gIT09IHQyMSB8fCAkWzYyXSAhPT0gdDUpIHtcbiAgICB0MjIgPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IC4uLnQ1LCBjbGFzc05hbWU6IHQxMCwgY2hpbGRyZW46IFtcbiAgICAgIHQxOSxcbiAgICAgIHQyMVxuICAgIF0gfSk7XG4gICAgJFs1OV0gPSB0MTA7XG4gICAgJFs2MF0gPSB0MTk7XG4gICAgJFs2MV0gPSB0MjE7XG4gICAgJFs2Ml0gPSB0NTtcbiAgICAkWzYzXSA9IHQyMjtcbiAgfSBlbHNlIHtcbiAgICB0MjIgPSAkWzYzXTtcbiAgfVxuICByZXR1cm4gdDIyO1xufVxuZnVuY3Rpb24gX3RlbXAyJDQoYSwgYikge1xuICByZXR1cm4ge1xuICAgIC4uLmEsXG4gICAgLi4uYlxuICB9O1xufVxuZnVuY3Rpb24gX3RlbXAkNyhlKSB7XG4gIHJldHVybiB7XG4gICAgW2VdOiBbXVxuICB9O1xufVxuZnVuY3Rpb24gU3RvcmFnZVVwbG9hZCh7XG4gIHByb3BlcnR5LFxuICBuYW1lLFxuICB2YWx1ZSxcbiAgc2V0SW50ZXJuYWxWYWx1ZSxcbiAgb25DaGFuZ2UsXG4gIG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsXG4gIG9uRmlsZVVwbG9hZENvbXBsZXRlLFxuICBkaXNhYmxlZCxcbiAgb25GaWxlc0FkZGVkLFxuICBhdXRvRm9jdXMsXG4gIHN0b3JhZ2UsXG4gIHN0b3JhZ2VQYXRoQnVpbGRlclxufSkge1xuICBpZiAobXVsdGlwbGVGaWxlc1N1cHBvcnRlZCkge1xuICAgIGNvbnN0IGFycmF5UHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBpZiAoYXJyYXlQcm9wZXJ0eS5vZikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlQcm9wZXJ0eS5vZikpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTdG9yYWdlIGZpZWxkIHVzaW5nIGFycmF5IG11c3QgYmUgb2YgZGF0YSB0eXBlIHN0cmluZ1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcnJheVByb3BlcnR5Lm9mLmRhdGFUeXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiU3RvcmFnZSBmaWVsZCB1c2luZyBhcnJheSBtdXN0IGJlIG9mIGRhdGEgdHlwZSBzdHJpbmdcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiU3RvcmFnZSBmaWVsZCB1c2luZyBhcnJheSBtdXN0IGJlIG9mIGRhdGEgdHlwZSBzdHJpbmdcIik7XG4gICAgfVxuICB9XG4gIGNvbnN0IG1ldGFkYXRhID0gc3RvcmFnZT8ubWV0YWRhdGE7XG4gIGNvbnN0IHNpemUgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkID8gXCJtZWRpdW1cIiA6IFwibGFyZ2VcIjtcbiAgY29uc3QgbW92ZUl0ZW0gPSB1c2VDYWxsYmFjaygoZnJvbUluZGV4LCB0b0luZGV4KSA9PiB7XG4gICAgaWYgKCFtdWx0aXBsZUZpbGVzU3VwcG9ydGVkKSByZXR1cm47XG4gICAgY29uc3QgbmV3VmFsdWUgPSBbLi4udmFsdWVdO1xuICAgIGNvbnN0IGl0ZW0gPSBuZXdWYWx1ZVtmcm9tSW5kZXhdO1xuICAgIG5ld1ZhbHVlLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgIG5ld1ZhbHVlLnNwbGljZSh0b0luZGV4LCAwLCBpdGVtKTtcbiAgICBzZXRJbnRlcm5hbFZhbHVlKG5ld1ZhbHVlKTtcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gbmV3VmFsdWUuZmlsdGVyKChlKSA9PiAhIWUuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKS5tYXAoKGVfMCkgPT4gZV8wLnN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCk7XG4gICAgb25DaGFuZ2UoZmllbGRWYWx1ZSk7XG4gIH0sIFttdWx0aXBsZUZpbGVzU3VwcG9ydGVkLCBvbkNoYW5nZSwgc2V0SW50ZXJuYWxWYWx1ZSwgdmFsdWVdKTtcbiAgY29uc3Qgb25EcmFnRW5kID0gdXNlQ2FsbGJhY2soKHJlc3VsdCkgPT4ge1xuICAgIGlmICghcmVzdWx0LmRlc3RpbmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1vdmVJdGVtKHJlc3VsdC5zb3VyY2UuaW5kZXgsIHJlc3VsdC5kZXN0aW5hdGlvbi5pbmRleCk7XG4gIH0sIFttb3ZlSXRlbV0pO1xuICBjb25zdCBvbkNsZWFyID0gdXNlQ2FsbGJhY2soKGNsZWFyZWRTdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwpID0+IHtcbiAgICBpZiAobXVsdGlwbGVGaWxlc1N1cHBvcnRlZCkge1xuICAgICAgY29uc3QgbmV3VmFsdWVfMCA9IHZhbHVlLmZpbHRlcigodikgPT4gdi5zdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwgIT09IGNsZWFyZWRTdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwpO1xuICAgICAgb25DaGFuZ2UobmV3VmFsdWVfMC5maWx0ZXIoKHZfMCkgPT4gISF2XzAuc3RvcmFnZVBhdGhPckRvd25sb2FkVXJsKS5tYXAoKHZfMSkgPT4gdl8xLnN0b3JhZ2VQYXRoT3JEb3dubG9hZFVybCkpO1xuICAgICAgc2V0SW50ZXJuYWxWYWx1ZShuZXdWYWx1ZV8wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25DaGFuZ2UobnVsbCk7XG4gICAgICBzZXRJbnRlcm5hbFZhbHVlKFtdKTtcbiAgICB9XG4gIH0sIFt2YWx1ZSwgbXVsdGlwbGVGaWxlc1N1cHBvcnRlZCwgb25DaGFuZ2VdKTtcbiAgY29uc3QgaGVscFRleHQgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkID8gXCJEcmFnICduJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzXCIgOiBcIkRyYWcgJ24nIGRyb3AgYSBmaWxlIGhlcmUsIG9yIGNsaWNrIHRvIHNlbGVjdCBvbmVcIjtcbiAgY29uc3QgcmVuZGVyUHJvcGVydHkgPSBtdWx0aXBsZUZpbGVzU3VwcG9ydGVkID8gcHJvcGVydHkub2YgOiBwcm9wZXJ0eTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRHJhZ0Ryb3BDb250ZXh0LCB7IG9uRHJhZ0VuZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRHJvcHBhYmxlLCB7IGRyb3BwYWJsZUlkOiBgZHJvcHBhYmxlXyR7bmFtZX1gLCBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLCByZW5kZXJDbG9uZTogKHByb3ZpZGVkLCBzbmFwc2hvdCwgcnVicmljKSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSB2YWx1ZVtydWJyaWMuc291cmNlLmluZGV4XTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZjogcHJvdmlkZWQuaW5uZXJSZWYsIC4uLnByb3ZpZGVkLmRyYWdnYWJsZVByb3BzLCAuLi5wcm92aWRlZC5kcmFnSGFuZGxlUHJvcHMsIHN0eWxlOiBwcm92aWRlZC5kcmFnZ2FibGVQcm9wcy5zdHlsZSwgY2xhc3NOYW1lOiBcInJvdW5kZWRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RvcmFnZUl0ZW1QcmV2aWV3LCB7IG5hbWU6IGBzdG9yYWdlX3ByZXZpZXdfJHtlbnRyeS5zdG9yYWdlUGF0aE9yRG93bmxvYWRVcmx9YCwgcGxhY2Vob2xkZXI6IHRydWUsIHByb3BlcnR5OiByZW5kZXJQcm9wZXJ0eSwgZGlzYWJsZWQ6IHRydWUsIHZhbHVlOiBlbnRyeS5zdG9yYWdlUGF0aE9yRG93bmxvYWRVcmwsIG9uUmVtb3ZlOiBvbkNsZWFyLCBzaXplOiBlbnRyeS5zaXplIH0pIH0pO1xuICB9LCBjaGlsZHJlbjogKHByb3ZpZGVkXzAsIHNuYXBzaG90XzApID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGaWxlRHJvcENvbXBvbmVudCwgeyBzdG9yYWdlLCBkaXNhYmxlZCwgaXNEcmFnZ2luZ092ZXI6IHNuYXBzaG90XzAuaXNEcmFnZ2luZ092ZXIsIGRyb3BwYWJsZVByb3ZpZGVkOiBwcm92aWRlZF8wLCBvbkZpbGVzQWRkZWQsIG11bHRpcGxlRmlsZXNTdXBwb3J0ZWQsIGF1dG9Gb2N1cywgaW50ZXJuYWxWYWx1ZTogdmFsdWUsIHByb3BlcnR5OiByZW5kZXJQcm9wZXJ0eSwgb25DbGVhciwgbWV0YWRhdGEsIHN0b3JhZ2VQYXRoQnVpbGRlciwgb25GaWxlVXBsb2FkQ29tcGxldGUsIHNpemUsIG5hbWUsIGhlbHBUZXh0IH0pO1xuICB9IH0pIH0pO1xufVxuZnVuY3Rpb24gVGV4dEZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYyg1Mik7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBlcnJvcixcbiAgICBzaG93RXJyb3IsXG4gICAgZGlzYWJsZWQsXG4gICAgYXV0b0ZvY3VzLFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvbixcbiAgICBzaXplOiB0MVxuICB9ID0gdDA7XG4gIGNvbnN0IHNpemUgPSB0MSA9PT0gdm9pZCAwID8gXCJsYXJnZVwiIDogdDE7XG4gIGxldCBtdWx0aWxpbmU7XG4gIGxldCB1cmw7XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIG11bHRpbGluZSA9IHByb3BlcnR5Lm11bHRpbGluZTtcbiAgICB1cmwgPSBwcm9wZXJ0eS51cmw7XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gcHJvcGVydHkgfHwgJFsxXSAhPT0gc2V0VmFsdWUgfHwgJFsyXSAhPT0gdmFsdWUpIHtcbiAgICB0MiA9IHtcbiAgICAgIHByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBzZXRWYWx1ZVxuICAgIH07XG4gICAgJFswXSA9IHByb3BlcnR5O1xuICAgICRbMV0gPSBzZXRWYWx1ZTtcbiAgICAkWzJdID0gdmFsdWU7XG4gICAgJFszXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFszXTtcbiAgfVxuICB1c2VDbGVhclJlc3RvcmVWYWx1ZSh0Mik7XG4gIGxldCB0MztcbiAgaWYgKCRbNF0gIT09IHNldFZhbHVlKSB7XG4gICAgdDMgPSAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldFZhbHVlKG51bGwpO1xuICAgIH07XG4gICAgJFs0XSA9IHNldFZhbHVlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgY29uc3QgaGFuZGxlQ2xlYXJDbGljayA9IHQzO1xuICBsZXQgaW5wdXRUeXBlO1xuICBsZXQgaXNNdWx0aWxpbmU7XG4gIGxldCBvbkNoYW5nZTtcbiAgaWYgKCRbNl0gIT09IG11bHRpbGluZSB8fCAkWzddICE9PSBwcm9wZXJ0eS5kYXRhVHlwZSB8fCAkWzhdICE9PSBzZXRWYWx1ZSkge1xuICAgIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoaW5wdXRUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbnN0IG51bWJlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlID8gcGFyc2VGbG9hdChldmVudC50YXJnZXQudmFsdWUpIDogdm9pZCAwO1xuICAgICAgICBpZiAobnVtYmVyVmFsdWUgJiYgaXNOYU4obnVtYmVyVmFsdWUpKSB7XG4gICAgICAgICAgc2V0VmFsdWUobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG51bWJlclZhbHVlICE9PSB2b2lkIDAgJiYgbnVtYmVyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFZhbHVlKG51bWJlclZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VmFsdWUobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgaXNNdWx0aWxpbmUgPSBCb29sZWFuKG11bHRpbGluZSk7XG4gICAgaW5wdXRUeXBlID0gcHJvcGVydHkuZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgPyBcIm51bWJlclwiIDogdm9pZCAwO1xuICAgICRbNl0gPSBtdWx0aWxpbmU7XG4gICAgJFs3XSA9IHByb3BlcnR5LmRhdGFUeXBlO1xuICAgICRbOF0gPSBzZXRWYWx1ZTtcbiAgICAkWzldID0gaW5wdXRUeXBlO1xuICAgICRbMTBdID0gaXNNdWx0aWxpbmU7XG4gICAgJFsxMV0gPSBvbkNoYW5nZTtcbiAgfSBlbHNlIHtcbiAgICBpbnB1dFR5cGUgPSAkWzldO1xuICAgIGlzTXVsdGlsaW5lID0gJFsxMF07XG4gICAgb25DaGFuZ2UgPSAkWzExXTtcbiAgfVxuICBjb25zdCB0NCA9IHByb3BlcnR5LndpZHRoUGVyY2VudGFnZSAhPT0gdm9pZCAwID8gXCJtdC04XCIgOiB2b2lkIDA7XG4gIGxldCB0NTtcbiAgaWYgKCRbMTJdICE9PSBwcm9wZXJ0eSkge1xuICAgIHQ1ID0gZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpO1xuICAgICRbMTJdID0gcHJvcGVydHk7XG4gICAgJFsxM10gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTNdO1xuICB9XG4gIGNvbnN0IHQ2ID0gcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQ7XG4gIGxldCB0NztcbiAgaWYgKCRbMTRdICE9PSBwcm9wZXJ0eS5uYW1lIHx8ICRbMTVdICE9PSB0NSB8fCAkWzE2XSAhPT0gdDYpIHtcbiAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTGFiZWxXaXRoSWNvbiwgeyBpY29uOiB0NSwgcmVxdWlyZWQ6IHQ2LCB0aXRsZTogcHJvcGVydHkubmFtZSB9KTtcbiAgICAkWzE0XSA9IHByb3BlcnR5Lm5hbWU7XG4gICAgJFsxNV0gPSB0NTtcbiAgICAkWzE2XSA9IHQ2O1xuICAgICRbMTddID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE3XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzE4XSAhPT0gaGFuZGxlQ2xlYXJDbGljayB8fCAkWzE5XSAhPT0gcHJvcGVydHkuY2xlYXJhYmxlKSB7XG4gICAgdDggPSBwcm9wZXJ0eS5jbGVhcmFibGUgJiYgLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZUNsZWFyQ2xpY2ssIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENsb3NlSWNvbiwge30pIH0pO1xuICAgICRbMThdID0gaGFuZGxlQ2xlYXJDbGljaztcbiAgICAkWzE5XSA9IHByb3BlcnR5LmNsZWFyYWJsZTtcbiAgICAkWzIwXSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsyMF07XG4gIH1cbiAgY29uc3QgdDkgPSBzaG93RXJyb3IgPyBlcnJvciA6IHZvaWQgMDtcbiAgY29uc3QgdDEwID0gZXJyb3IgPyBcInRleHQtcmVkLTUwMCBkYXJrOnRleHQtcmVkLTYwMFwiIDogXCJcIjtcbiAgbGV0IHQxMTtcbiAgaWYgKCRbMjFdICE9PSBhdXRvRm9jdXMgfHwgJFsyMl0gIT09IGRpc2FibGVkIHx8ICRbMjNdICE9PSBpbnB1dFR5cGUgfHwgJFsyNF0gIT09IGlzTXVsdGlsaW5lIHx8ICRbMjVdICE9PSBvbkNoYW5nZSB8fCAkWzI2XSAhPT0gc2l6ZSB8fCAkWzI3XSAhPT0gdDEwIHx8ICRbMjhdICE9PSB0NCB8fCAkWzI5XSAhPT0gdDcgfHwgJFszMF0gIT09IHQ4IHx8ICRbMzFdICE9PSB0OSB8fCAkWzMyXSAhPT0gdmFsdWUpIHtcbiAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4KFRleHRGaWVsZCwgeyBzaXplLCB2YWx1ZSwgb25DaGFuZ2UsIGF1dG9Gb2N1cywgY2xhc3NOYW1lOiB0NCwgbGFiZWw6IHQ3LCB0eXBlOiBpbnB1dFR5cGUsIG11bHRpbGluZTogaXNNdWx0aWxpbmUsIGRpc2FibGVkLCBlbmRBZG9ybm1lbnQ6IHQ4LCBlcnJvcjogdDksIGlucHV0Q2xhc3NOYW1lOiB0MTAgfSk7XG4gICAgJFsyMV0gPSBhdXRvRm9jdXM7XG4gICAgJFsyMl0gPSBkaXNhYmxlZDtcbiAgICAkWzIzXSA9IGlucHV0VHlwZTtcbiAgICAkWzI0XSA9IGlzTXVsdGlsaW5lO1xuICAgICRbMjVdID0gb25DaGFuZ2U7XG4gICAgJFsyNl0gPSBzaXplO1xuICAgICRbMjddID0gdDEwO1xuICAgICRbMjhdID0gdDQ7XG4gICAgJFsyOV0gPSB0NztcbiAgICAkWzMwXSA9IHQ4O1xuICAgICRbMzFdID0gdDk7XG4gICAgJFszMl0gPSB2YWx1ZTtcbiAgICAkWzMzXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzMzXTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFszNF0gIT09IHByb3BlcnR5S2V5IHx8ICRbMzVdICE9PSB0MTEpIHtcbiAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5SWRDb3B5VG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgY2hpbGRyZW46IHQxMSB9KTtcbiAgICAkWzM0XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMzVdID0gdDExO1xuICAgICRbMzZdID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMzZdO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzM3XSAhPT0gZGlzYWJsZWQgfHwgJFszOF0gIT09IGVycm9yIHx8ICRbMzldICE9PSBpbmNsdWRlRGVzY3JpcHRpb24gfHwgJFs0MF0gIT09IHByb3BlcnR5IHx8ICRbNDFdICE9PSBzaG93RXJyb3IpIHtcbiAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzM3XSA9IGRpc2FibGVkO1xuICAgICRbMzhdID0gZXJyb3I7XG4gICAgJFszOV0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFs0MF0gPSBwcm9wZXJ0eTtcbiAgICAkWzQxXSA9IHNob3dFcnJvcjtcbiAgICAkWzQyXSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzQyXTtcbiAgfVxuICBsZXQgdDE0O1xuICBpZiAoJFs0M10gIT09IHByb3BlcnR5IHx8ICRbNDRdICE9PSBzaXplIHx8ICRbNDVdICE9PSB1cmwgfHwgJFs0Nl0gIT09IHZhbHVlKSB7XG4gICAgdDE0ID0gdXJsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGFwc2UsIHsgY2xhc3NOYW1lOiBcIm10LTEgbWwtMVwiLCBpbjogQm9vbGVhbih2YWx1ZSksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5UHJldmlldywgeyB2YWx1ZSwgcHJvcGVydHksIHNpemUgfSkgfSk7XG4gICAgJFs0M10gPSBwcm9wZXJ0eTtcbiAgICAkWzQ0XSA9IHNpemU7XG4gICAgJFs0NV0gPSB1cmw7XG4gICAgJFs0Nl0gPSB2YWx1ZTtcbiAgICAkWzQ3XSA9IHQxNDtcbiAgfSBlbHNlIHtcbiAgICB0MTQgPSAkWzQ3XTtcbiAgfVxuICBsZXQgdDE1O1xuICBpZiAoJFs0OF0gIT09IHQxMiB8fCAkWzQ5XSAhPT0gdDEzIHx8ICRbNTBdICE9PSB0MTQpIHtcbiAgICB0MTUgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDEyLFxuICAgICAgdDEzLFxuICAgICAgdDE0XG4gICAgXSB9KTtcbiAgICAkWzQ4XSA9IHQxMjtcbiAgICAkWzQ5XSA9IHQxMztcbiAgICAkWzUwXSA9IHQxNDtcbiAgICAkWzUxXSA9IHQxNTtcbiAgfSBlbHNlIHtcbiAgICB0MTUgPSAkWzUxXTtcbiAgfVxuICByZXR1cm4gdDE1O1xufVxuY29uc3QgU3dpdGNoRmllbGRCaW5kaW5nID0gZnVuY3Rpb24gU3dpdGNoRmllbGRCaW5kaW5nMih0MCkge1xuICBjb25zdCAkID0gYygzMyk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBlcnJvcixcbiAgICBzaG93RXJyb3IsXG4gICAgYXV0b0ZvY3VzLFxuICAgIGRpc2FibGVkLFxuICAgIHNpemU6IHQxLFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvblxuICB9ID0gdDA7XG4gIGNvbnN0IHNpemUgPSB0MSA9PT0gdm9pZCAwID8gXCJsYXJnZVwiIDogdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbMF0gIT09IHByb3BlcnR5IHx8ICRbMV0gIT09IHNldFZhbHVlIHx8ICRbMl0gIT09IHZhbHVlKSB7XG4gICAgdDIgPSB7XG4gICAgICBwcm9wZXJ0eSxcbiAgICAgIHZhbHVlLFxuICAgICAgc2V0VmFsdWVcbiAgICB9O1xuICAgICRbMF0gPSBwcm9wZXJ0eTtcbiAgICAkWzFdID0gc2V0VmFsdWU7XG4gICAgJFsyXSA9IHZhbHVlO1xuICAgICRbM10gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbM107XG4gIH1cbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUodDIpO1xuICBsZXQgdDM7XG4gIGlmICgkWzRdICE9PSBzZXRWYWx1ZSkge1xuICAgIHQzID0gKHYpID0+IHNldFZhbHVlKHYpO1xuICAgICRbNF0gPSBzZXRWYWx1ZTtcbiAgICAkWzVdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzVdO1xuICB9XG4gIGNvbnN0IHQ0ID0gcHJvcGVydHkud2lkdGhQZXJjZW50YWdlICE9PSB2b2lkIDAgPyBcIm10LThcIiA6IHZvaWQgMDtcbiAgbGV0IHQ1O1xuICBpZiAoJFs2XSAhPT0gcHJvcGVydHkpIHtcbiAgICB0NSA9IGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgXCJzbWFsbFwiKTtcbiAgICAkWzZdID0gcHJvcGVydHk7XG4gICAgJFs3XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs3XTtcbiAgfVxuICBjb25zdCB0NiA9IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkO1xuICBsZXQgdDc7XG4gIGlmICgkWzhdICE9PSBwcm9wZXJ0eS5uYW1lIHx8ICRbOV0gIT09IHQ1IHx8ICRbMTBdICE9PSB0Nikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uLCB7IGljb246IHQ1LCByZXF1aXJlZDogdDYsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lIH0pO1xuICAgICRbOF0gPSBwcm9wZXJ0eS5uYW1lO1xuICAgICRbOV0gPSB0NTtcbiAgICAkWzEwXSA9IHQ2O1xuICAgICRbMTFdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzExXTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzEyXSAhPT0gYXV0b0ZvY3VzIHx8ICRbMTNdICE9PSBkaXNhYmxlZCB8fCAkWzE0XSAhPT0gc2hvd0Vycm9yIHx8ICRbMTVdICE9PSBzaXplIHx8ICRbMTZdICE9PSB0MyB8fCAkWzE3XSAhPT0gdDQgfHwgJFsxOF0gIT09IHQ3IHx8ICRbMTldICE9PSB2YWx1ZSkge1xuICAgIHQ4ID0gLyogQF9fUFVSRV9fICovIGpzeChCb29sZWFuU3dpdGNoV2l0aExhYmVsLCB7IHZhbHVlLCBvblZhbHVlQ2hhbmdlOiB0MywgZXJyb3I6IHNob3dFcnJvciwgY2xhc3NOYW1lOiB0NCwgbGFiZWw6IHQ3LCBkaXNhYmxlZCwgYXV0b0ZvY3VzLCBzaXplIH0pO1xuICAgICRbMTJdID0gYXV0b0ZvY3VzO1xuICAgICRbMTNdID0gZGlzYWJsZWQ7XG4gICAgJFsxNF0gPSBzaG93RXJyb3I7XG4gICAgJFsxNV0gPSBzaXplO1xuICAgICRbMTZdID0gdDM7XG4gICAgJFsxN10gPSB0NDtcbiAgICAkWzE4XSA9IHQ3O1xuICAgICRbMTldID0gdmFsdWU7XG4gICAgJFsyMF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMjBdO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMjFdICE9PSBwcm9wZXJ0eUtleSB8fCAkWzIyXSAhPT0gdDgpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlJZENvcHlUb29sdGlwLCB7IHByb3BlcnR5S2V5LCBjaGlsZHJlbjogdDggfSk7XG4gICAgJFsyMV0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzIyXSA9IHQ4O1xuICAgICRbMjNdID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzIzXTtcbiAgfVxuICBsZXQgdDEwO1xuICBpZiAoJFsyNF0gIT09IGRpc2FibGVkIHx8ICRbMjVdICE9PSBlcnJvciB8fCAkWzI2XSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMjddICE9PSBwcm9wZXJ0eSB8fCAkWzI4XSAhPT0gc2hvd0Vycm9yKSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeChGaWVsZEhlbHBlclRleHQsIHsgaW5jbHVkZURlc2NyaXB0aW9uLCBzaG93RXJyb3IsIGVycm9yLCBkaXNhYmxlZCwgcHJvcGVydHkgfSk7XG4gICAgJFsyNF0gPSBkaXNhYmxlZDtcbiAgICAkWzI1XSA9IGVycm9yO1xuICAgICRbMjZdID0gaW5jbHVkZURlc2NyaXB0aW9uO1xuICAgICRbMjddID0gcHJvcGVydHk7XG4gICAgJFsyOF0gPSBzaG93RXJyb3I7XG4gICAgJFsyOV0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsyOV07XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMzBdICE9PSB0MTAgfHwgJFszMV0gIT09IHQ5KSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQ5LFxuICAgICAgdDEwXG4gICAgXSB9KTtcbiAgICAkWzMwXSA9IHQxMDtcbiAgICAkWzMxXSA9IHQ5O1xuICAgICRbMzJdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMzJdO1xuICB9XG4gIHJldHVybiB0MTE7XG59O1xuZnVuY3Rpb24gRGF0ZVRpbWVGaWVsZEJpbmRpbmcodDApIHtcbiAgY29uc3QgJCA9IGMoMzQpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgdmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgZXJyb3IsXG4gICAgc2hvd0Vycm9yLFxuICAgIGRpc2FibGVkLFxuICAgIHByb3BlcnR5LFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvblxuICB9ID0gdDA7XG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGludGVybmFsVmFsdWUgPSB2YWx1ZSB8fCBudWxsO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBwcm9wZXJ0eSB8fCAkWzFdICE9PSBzZXRWYWx1ZSB8fCAkWzJdICE9PSB2YWx1ZSkge1xuICAgIHQxID0ge1xuICAgICAgcHJvcGVydHksXG4gICAgICB2YWx1ZSxcbiAgICAgIHNldFZhbHVlXG4gICAgfTtcbiAgICAkWzBdID0gcHJvcGVydHk7XG4gICAgJFsxXSA9IHNldFZhbHVlO1xuICAgICRbMl0gPSB2YWx1ZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIHVzZUNsZWFyUmVzdG9yZVZhbHVlKHQxKTtcbiAgbGV0IHQyO1xuICBpZiAoJFs0XSAhPT0gc2V0VmFsdWUpIHtcbiAgICB0MiA9IChkYXRlVmFsdWUpID0+IHNldFZhbHVlKGRhdGVWYWx1ZSk7XG4gICAgJFs0XSA9IHNldFZhbHVlO1xuICAgICRbNV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNV07XG4gIH1cbiAgY29uc3QgdDMgPSBwcm9wZXJ0eS5tb2RlO1xuICBjb25zdCB0NCA9IHByb3BlcnR5LmNsZWFyYWJsZTtcbiAgbGV0IHQ1O1xuICBpZiAoJFs2XSAhPT0gcHJvcGVydHkpIHtcbiAgICB0NSA9IGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgXCJzbWFsbFwiKTtcbiAgICAkWzZdID0gcHJvcGVydHk7XG4gICAgJFs3XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs3XTtcbiAgfVxuICBjb25zdCB0NiA9IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkO1xuICBjb25zdCB0NyA9IHNob3dFcnJvciA/IFwidGV4dC1yZWQtNTAwIGRhcms6dGV4dC1yZWQtNTAwXCIgOiBcInRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmtcIjtcbiAgbGV0IHQ4O1xuICBpZiAoJFs4XSAhPT0gcHJvcGVydHkubmFtZSB8fCAkWzldICE9PSB0NSB8fCAkWzEwXSAhPT0gdDYgfHwgJFsxMV0gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KExhYmVsV2l0aEljb24sIHsgaWNvbjogdDUsIHJlcXVpcmVkOiB0NiwgY2xhc3NOYW1lOiB0NywgdGl0bGU6IHByb3BlcnR5Lm5hbWUgfSk7XG4gICAgJFs4XSA9IHByb3BlcnR5Lm5hbWU7XG4gICAgJFs5XSA9IHQ1O1xuICAgICRbMTBdID0gdDY7XG4gICAgJFsxMV0gPSB0NztcbiAgICAkWzEyXSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxMl07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsxM10gIT09IGRpc2FibGVkIHx8ICRbMTRdICE9PSBpbnRlcm5hbFZhbHVlIHx8ICRbMTVdICE9PSBsb2NhbGUgfHwgJFsxNl0gIT09IHByb3BlcnR5LmNsZWFyYWJsZSB8fCAkWzE3XSAhPT0gcHJvcGVydHkubW9kZSB8fCAkWzE4XSAhPT0gc2hvd0Vycm9yIHx8ICRbMTldICE9PSB0MiB8fCAkWzIwXSAhPT0gdDgpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGF0ZVRpbWVGaWVsZCwgeyB2YWx1ZTogaW50ZXJuYWxWYWx1ZSwgb25DaGFuZ2U6IHQyLCBzaXplOiBcImxhcmdlXCIsIG1vZGU6IHQzLCBjbGVhcmFibGU6IHQ0LCBsb2NhbGUsIGVycm9yOiBzaG93RXJyb3IsIGRpc2FibGVkLCBsYWJlbDogdDggfSk7XG4gICAgJFsxM10gPSBkaXNhYmxlZDtcbiAgICAkWzE0XSA9IGludGVybmFsVmFsdWU7XG4gICAgJFsxNV0gPSBsb2NhbGU7XG4gICAgJFsxNl0gPSBwcm9wZXJ0eS5jbGVhcmFibGU7XG4gICAgJFsxN10gPSBwcm9wZXJ0eS5tb2RlO1xuICAgICRbMThdID0gc2hvd0Vycm9yO1xuICAgICRbMTldID0gdDI7XG4gICAgJFsyMF0gPSB0ODtcbiAgICAkWzIxXSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyMV07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMjJdICE9PSBwcm9wZXJ0eUtleSB8fCAkWzIzXSAhPT0gdDkpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5SWRDb3B5VG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgY2hpbGRyZW46IHQ5IH0pO1xuICAgICRbMjJdID0gcHJvcGVydHlLZXk7XG4gICAgJFsyM10gPSB0OTtcbiAgICAkWzI0XSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzI0XTtcbiAgfVxuICBsZXQgdDExO1xuICBpZiAoJFsyNV0gIT09IGRpc2FibGVkIHx8ICRbMjZdICE9PSBlcnJvciB8fCAkWzI3XSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMjhdICE9PSBwcm9wZXJ0eSB8fCAkWzI5XSAhPT0gc2hvd0Vycm9yKSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeChGaWVsZEhlbHBlclRleHQsIHsgaW5jbHVkZURlc2NyaXB0aW9uLCBzaG93RXJyb3IsIGVycm9yLCBkaXNhYmxlZCwgcHJvcGVydHkgfSk7XG4gICAgJFsyNV0gPSBkaXNhYmxlZDtcbiAgICAkWzI2XSA9IGVycm9yO1xuICAgICRbMjddID0gaW5jbHVkZURlc2NyaXB0aW9uO1xuICAgICRbMjhdID0gcHJvcGVydHk7XG4gICAgJFsyOV0gPSBzaG93RXJyb3I7XG4gICAgJFszMF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFszMF07XG4gIH1cbiAgbGV0IHQxMjtcbiAgaWYgKCRbMzFdICE9PSB0MTAgfHwgJFszMl0gIT09IHQxMSkge1xuICAgIHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICB0MTAsXG4gICAgICB0MTFcbiAgICBdIH0pO1xuICAgICRbMzFdID0gdDEwO1xuICAgICRbMzJdID0gdDExO1xuICAgICRbMzNdID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMzNdO1xuICB9XG4gIHJldHVybiB0MTI7XG59XG5mdW5jdGlvbiBSZWFkT25seUZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYygxOCk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBlcnJvcixcbiAgICBzaG93RXJyb3IsXG4gICAgbWluaW1hbGlzdFZpZXcsXG4gICAgcHJvcGVydHksXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIGNvbnRleHRcbiAgfSA9IHQwO1xuICBpZiAoIWNvbnRleHQuZW50aXR5SWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWFkT25seUZpZWxkQmluZGluZzogRW50aXR5IGlkIGlzIG51bGxcIik7XG4gIH1cbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gbWluaW1hbGlzdFZpZXcgfHwgJFsxXSAhPT0gcHJvcGVydHkgfHwgJFsyXSAhPT0gcHJvcGVydHlLZXkpIHtcbiAgICB0MSA9ICFtaW5pbWFsaXN0VmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KExhYmVsV2l0aEljb25BbmRUb29sdGlwLCB7IHByb3BlcnR5S2V5LCBpY29uOiBnZXRJY29uRm9yUHJvcGVydHkocHJvcGVydHksIFwic21hbGxcIiksIHJlcXVpcmVkOiBwcm9wZXJ0eS52YWxpZGF0aW9uPy5yZXF1aXJlZCwgdGl0bGU6IHByb3BlcnR5Lm5hbWUsIGNsYXNzTmFtZTogXCJoLTggdGV4dC10ZXh0LXNlY29uZGFyeSBkYXJrOnRleHQtdGV4dC1zZWNvbmRhcnktZGFyayBtbC0zLjVcIiB9KTtcbiAgICAkWzBdID0gbWluaW1hbGlzdFZpZXc7XG4gICAgJFsxXSA9IHByb3BlcnR5O1xuICAgICRbMl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDIgPSBjbHMocGFwZXJNaXhpbiwgXCJ3LWZ1bGwgbWluLWgtMTQgcC00IG1kOnAtNiBvdmVyZmxvdy14LXNjcm9sbCBuby1zY3JvbGxiYXJcIik7XG4gICAgJFs0XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs0XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzVdICE9PSBwcm9wZXJ0eSB8fCAkWzZdICE9PSBwcm9wZXJ0eUtleSB8fCAkWzddICE9PSB2YWx1ZSkge1xuICAgIHQzID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogdDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlQcmV2aWV3LCB7IHByb3BlcnR5S2V5LCB2YWx1ZSwgcHJvcGVydHksIHNpemU6IFwibWVkaXVtXCIgfSkgfSkgfSk7XG4gICAgJFs1XSA9IHByb3BlcnR5O1xuICAgICRbNl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzddID0gdmFsdWU7XG4gICAgJFs4XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs4XTtcbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzldICE9PSBlcnJvciB8fCAkWzEwXSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMTFdICE9PSBwcm9wZXJ0eSB8fCAkWzEyXSAhPT0gc2hvd0Vycm9yKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIHByb3BlcnR5IH0pO1xuICAgICRbOV0gPSBlcnJvcjtcbiAgICAkWzEwXSA9IGluY2x1ZGVEZXNjcmlwdGlvbjtcbiAgICAkWzExXSA9IHByb3BlcnR5O1xuICAgICRbMTJdID0gc2hvd0Vycm9yO1xuICAgICRbMTNdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEzXTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzE0XSAhPT0gdDEgfHwgJFsxNV0gIT09IHQzIHx8ICRbMTZdICE9PSB0NCkge1xuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQxLFxuICAgICAgdDMsXG4gICAgICB0NFxuICAgIF0gfSk7XG4gICAgJFsxNF0gPSB0MTtcbiAgICAkWzE1XSA9IHQzO1xuICAgICRbMTZdID0gdDQ7XG4gICAgJFsxN10gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTddO1xuICB9XG4gIHJldHVybiB0NTtcbn1cbmZ1bmN0aW9uIFJlZmVyZW5jZUZpZWxkQmluZGluZyhwcm9wcykge1xuICBjb25zdCAkID0gYyg0KTtcbiAgaWYgKHR5cGVvZiBwcm9wcy5wcm9wZXJ0eS5wYXRoICE9PSBcInN0cmluZ1wiKSB7XG4gICAgbGV0IHQwMjtcbiAgICBpZiAoJFswXSAhPT0gcHJvcHMpIHtcbiAgICAgIHQwMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVhZE9ubHlGaWVsZEJpbmRpbmcsIHsgLi4ucHJvcHMgfSk7XG4gICAgICAkWzBdID0gcHJvcHM7XG4gICAgICAkWzFdID0gdDAyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MDIgPSAkWzFdO1xuICAgIH1cbiAgICByZXR1cm4gdDAyO1xuICB9XG4gIGxldCB0MDtcbiAgaWYgKCRbMl0gIT09IHByb3BzKSB7XG4gICAgdDAgPSAvKiBAX19QVVJFX18gKi8ganN4KFJlZmVyZW5jZUZpZWxkQmluZGluZ0ludGVybmFsLCB7IC4uLnByb3BzIH0pO1xuICAgICRbMl0gPSBwcm9wcztcbiAgICAkWzNdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzNdO1xuICB9XG4gIHJldHVybiB0MDtcbn1cbmZ1bmN0aW9uIFJlZmVyZW5jZUZpZWxkQmluZGluZ0ludGVybmFsKHtcbiAgcHJvcGVydHlLZXksXG4gIHZhbHVlLFxuICBzZXRWYWx1ZSxcbiAgZXJyb3IsXG4gIHNob3dFcnJvcixcbiAgaXNTdWJtaXR0aW5nLFxuICBkaXNhYmxlZCxcbiAgbWluaW1hbGlzdFZpZXcsXG4gIHRvdWNoZWQsXG4gIGF1dG9Gb2N1cyxcbiAgcHJvcGVydHksXG4gIGluY2x1ZGVEZXNjcmlwdGlvbixcbiAgc2l6ZSA9IFwibWVkaXVtXCJcbn0pIHtcbiAgaWYgKCFwcm9wZXJ0eS5wYXRoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgcGF0aCBpcyByZXF1aXJlZCBmb3IgUmVmZXJlbmNlRmllbGRCaW5kaW5nXCIpO1xuICB9XG4gIHVzZUNsZWFyUmVzdG9yZVZhbHVlKHtcbiAgICBwcm9wZXJ0eSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbiAgY29uc3QgdmFsaWRWYWx1ZSA9IHZhbHVlICYmIHZhbHVlLmlzRW50aXR5UmVmZXJlbmNlICYmIHZhbHVlLmlzRW50aXR5UmVmZXJlbmNlKCk7XG4gIGNvbnN0IG5hdmlnYXRpb25Db250cm9sbGVyID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgY29sbGVjdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBwcm9wZXJ0eS5wYXRoID8gbmF2aWdhdGlvbkNvbnRyb2xsZXIuZ2V0Q29sbGVjdGlvbihwcm9wZXJ0eS5wYXRoKSA6IHZvaWQgMDtcbiAgfSwgW3Byb3BlcnR5LnBhdGhdKTtcbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoYENvdWxkbid0IGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgY29sbGVjdGlvbiBmb3IgdGhlIHBhdGg6ICR7cHJvcGVydHkucGF0aH1gKTtcbiAgfVxuICBjb25zdCBvblNpbmdsZUVudGl0eVNlbGVjdGVkID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBzZXRWYWx1ZShlID8gZ2V0UmVmZXJlbmNlRnJvbShlKSA6IG51bGwpO1xuICB9LCBbc2V0VmFsdWVdKTtcbiAgY29uc3QgcmVmZXJlbmNlRGlhbG9nQ29udHJvbGxlciA9IHVzZVJlZmVyZW5jZURpYWxvZyh7XG4gICAgbXVsdGlzZWxlY3Q6IGZhbHNlLFxuICAgIHBhdGg6IHByb3BlcnR5LnBhdGgsXG4gICAgY29sbGVjdGlvbixcbiAgICBvblNpbmdsZUVudGl0eVNlbGVjdGVkLFxuICAgIHNlbGVjdGVkRW50aXR5SWRzOiB2YWxpZFZhbHVlID8gW3ZhbHVlLmlkXSA6IHZvaWQgMCxcbiAgICBmb3JjZUZpbHRlcjogcHJvcGVydHkuZm9yY2VGaWx0ZXJcbiAgfSk7XG4gIGNvbnN0IG9uRW50cnlDbGljayA9IChlXzApID0+IHtcbiAgICBlXzAucHJldmVudERlZmF1bHQoKTtcbiAgICByZWZlcmVuY2VEaWFsb2dDb250cm9sbGVyLm9wZW4oKTtcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgIW1pbmltYWxpc3RWaWV3ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goTGFiZWxXaXRoSWNvbkFuZFRvb2x0aXAsIHsgcHJvcGVydHlLZXksIGljb246IGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgXCJzbWFsbFwiKSwgcmVxdWlyZWQ6IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkLCB0aXRsZTogcHJvcGVydHkubmFtZSwgY2xhc3NOYW1lOiBcImgtOCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrIG1sLTMuNVwiIH0pLFxuICAgICFjb2xsZWN0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JWaWV3LCB7IGVycm9yOiBcIlRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBkb2VzIG5vdCBleGlzdC4gQ2hlY2sgY29uc29sZVwiIH0pLFxuICAgIGNvbGxlY3Rpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVmZXJlbmNlUHJldmlldywgeyBkaXNhYmxlZDogIXByb3BlcnR5LnBhdGgsIHByZXZpZXdQcm9wZXJ0aWVzOiBwcm9wZXJ0eS5wcmV2aWV3UHJvcGVydGllcywgaG92ZXI6ICFkaXNhYmxlZCwgc2l6ZSwgb25DbGljazogZGlzYWJsZWQgfHwgaXNTdWJtaXR0aW5nID8gdm9pZCAwIDogb25FbnRyeUNsaWNrLCByZWZlcmVuY2U6IHZhbHVlLCBpbmNsdWRlRW50aXR5TGluazogcHJvcGVydHkuaW5jbHVkZUVudGl0eUxpbmssIGluY2x1ZGVJZDogcHJvcGVydHkuaW5jbHVkZUlkIH0pLFxuICAgICAgIXZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwianVzdGlmeS1jZW50ZXIgdGV4dC1sZWZ0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhFbnRpdHlQcmV2aWV3Q29udGFpbmVyLCB7IGNsYXNzTmFtZTogY2xzKFwicHgtNiBoLTE2IHRleHQtc20gZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTZcIiwgZGlzYWJsZWQgfHwgaXNTdWJtaXR0aW5nID8gXCJ0ZXh0LXN1cmZhY2UtYWNjZW50LTUwMFwiIDogXCJjdXJzb3ItcG9pbnRlciB0ZXh0LXN1cmZhY2UtYWNjZW50LTcwMCBkYXJrOnRleHQtc3VyZmFjZS1hY2NlbnQtMzAwIGhvdmVyOmJnLXN1cmZhY2UtYWNjZW50LTUwIGRhcms6aG92ZXI6Ymctc3VyZmFjZS04MDAgZ3JvdXAtaG92ZXI6Ymctc3VyZmFjZS1hY2NlbnQtNTAgZGFyazpncm91cC1ob3ZlcjpiZy1zdXJmYWNlLTgwMFwiKSwgb25DbGljazogb25FbnRyeUNsaWNrLCBzaXplOiBcIm1lZGl1bVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEljb25Gb3JWaWV3LCB7IGNvbGxlY3Rpb25PclZpZXc6IGNvbGxlY3Rpb24sIGNsYXNzTmFtZTogXCJ0ZXh0LXN1cmZhY2UtMzAwIGRhcms6dGV4dC1zdXJmYWNlLTYwMFwiIH0pLFxuICAgICAgICBgRWRpdCAke3Byb3BlcnR5Lm5hbWV9YC50b1VwcGVyQ2FzZSgpXG4gICAgICBdIH0pIH0pXG4gICAgXSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KVxuICBdIH0pO1xufVxuY29uc3QgUHJvcGVydHlGaWVsZEJpbmRpbmcgPSBSZWFjdF9fZGVmYXVsdC5tZW1vKFByb3BlcnR5RmllbGRCaW5kaW5nSW50ZXJuYWwsIChhLCBiKSA9PiB7XG4gIGlmIChhLnByb3BlcnR5S2V5ICE9PSBiLnByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhLmluZGV4ICE9PSBiLmluZGV4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBhSXNCdWlsZGVyID0gaXNQcm9wZXJ0eUJ1aWxkZXIoYS5wcm9wZXJ0eSkgfHwgYS5wcm9wZXJ0eS5mcm9tQnVpbGRlcjtcbiAgY29uc3QgYklzQnVpbGRlciA9IGlzUHJvcGVydHlCdWlsZGVyKGIucHJvcGVydHkpIHx8IGIucHJvcGVydHkuZnJvbUJ1aWxkZXI7XG4gIGNvbnN0IGJhc2VDaGVjayA9IChhSXNCdWlsZGVyID09PSBiSXNCdWlsZGVyIHx8IGVxdWFsKGEucHJvcGVydHksIGIucHJvcGVydHkpKSAmJiBhLmRpc2FibGVkID09PSBiLmRpc2FibGVkO1xuICBpZiAoIWJhc2VDaGVjaykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2hvdWxkUHJvcGVydHlSZVJlbmRlcihiLnByb3BlcnR5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcbmZ1bmN0aW9uIFByb3BlcnR5RmllbGRCaW5kaW5nSW50ZXJuYWwodDApIHtcbiAgY29uc3QgJCA9IGMoMTcpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgcHJvcGVydHksXG4gICAgY29udGV4dCxcbiAgICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gICAgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRQcm9wLFxuICAgIHBhcnRPZkFycmF5LFxuICAgIG1pbmltYWxpc3RWaWV3LFxuICAgIGF1dG9Gb2N1cyxcbiAgICBpbmRleCxcbiAgICBzaXplLFxuICAgIG9uUHJvcGVydHlDaGFuZ2VcbiAgfSA9IHQwO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGF1dG9Gb2N1cyB8fCAkWzFdICE9PSBjb250ZXh0IHx8ICRbMl0gIT09IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncyB8fCAkWzNdICE9PSBkaXNhYmxlZFByb3AgfHwgJFs0XSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbNV0gIT09IGluZGV4IHx8ICRbNl0gIT09IG1pbmltYWxpc3RWaWV3IHx8ICRbN10gIT09IG9uUHJvcGVydHlDaGFuZ2UgfHwgJFs4XSAhPT0gcGFydE9mQXJyYXkgfHwgJFs5XSAhPT0gcHJvcGVydHkgfHwgJFsxMF0gIT09IHByb3BlcnR5S2V5IHx8ICRbMTFdICE9PSBzaXplIHx8ICRbMTJdICE9PSB1bmRlcmx5aW5nVmFsdWVIYXNDaGFuZ2VkKSB7XG4gICAgdDEgPSAoZmllbGRQcm9wcykgPT4ge1xuICAgICAgbGV0IENvbXBvbmVudDtcbiAgICAgIGNvbnN0IHJlc29sdmVkUHJvcGVydHkgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgcHJvcGVydHlPckJ1aWxkZXI6IHByb3BlcnR5LFxuICAgICAgICB2YWx1ZXM6IGZpZWxkUHJvcHMuZm9ybS52YWx1ZXMsXG4gICAgICAgIHBhdGg6IGNvbnRleHQucGF0aCxcbiAgICAgICAgZW50aXR5SWQ6IGNvbnRleHQuZW50aXR5SWQsXG4gICAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzLFxuICAgICAgICBpbmRleFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9IGRpc2FibGVkUHJvcCB8fCBpc1JlYWRPbmx5KHJlc29sdmVkUHJvcGVydHkpIHx8IEJvb2xlYW4ocmVzb2x2ZWRQcm9wZXJ0eT8uZGlzYWJsZWQpO1xuICAgICAgaWYgKHJlc29sdmVkUHJvcGVydHkgPT09IG51bGwgfHwgaXNIaWRkZW4ocmVzb2x2ZWRQcm9wZXJ0eSkpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1JlYWRPbmx5KHJlc29sdmVkUHJvcGVydHkpKSB7XG4gICAgICAgICAgQ29tcG9uZW50ID0gUmVhZE9ubHlGaWVsZEJpbmRpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJlc29sdmVkUHJvcGVydHkuRmllbGQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZWRQcm9wZXJ0eS5GaWVsZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIENvbXBvbmVudCA9IHJlc29sdmVkUHJvcGVydHkuRmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5Q29uZmlnID0gZ2V0RmllbGRDb25maWcocmVzb2x2ZWRQcm9wZXJ0eSwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzKTtcbiAgICAgICAgICAgIGlmICghcHJvcGVydHlDb25maWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJTlRFUk5BTDogQ291bGQgbm90IGZpbmQgZmllbGQgY29uZmlnIGZvciBwcm9wZXJ0eVwiLCB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXksXG4gICAgICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUNvbmZpZ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJTlRFUk5BTDogQ291bGQgbm90IGZpbmQgZmllbGQgY29uZmlnIGZvciBwcm9wZXJ0eSAke3Byb3BlcnR5S2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29uZmlnUHJvcGVydHkgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgcHJvcGVydHlPckJ1aWxkZXI6IHByb3BlcnR5Q29uZmlnLnByb3BlcnR5LFxuICAgICAgICAgICAgICB2YWx1ZXM6IGZpZWxkUHJvcHMuZm9ybS52YWx1ZXMsXG4gICAgICAgICAgICAgIHBhdGg6IGNvbnRleHQucGF0aCxcbiAgICAgICAgICAgICAgZW50aXR5SWQ6IGNvbnRleHQuZW50aXR5SWQsXG4gICAgICAgICAgICAgIHByb3BlcnR5Q29uZmlnczogY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucHJvcGVydHlDb25maWdzLFxuICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDb21wb25lbnQgPSBjb25maWdQcm9wZXJ0eS5GaWVsZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghQ29tcG9uZW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgTm8gZmllbGQgY29tcG9uZW50IGZvdW5kIGZvciBwcm9wZXJ0eSAke3Byb3BlcnR5S2V5fWApO1xuICAgICAgICBjb25zb2xlLndhcm4oXCJQcm9wZXJ0eTpcIiwgcHJvcGVydHkpO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGxcIiwgY2hpbGRyZW46IGBDdXJyZW50bHkgdGhlIGZpZWxkICR7cmVzb2x2ZWRQcm9wZXJ0eS5kYXRhVHlwZX0gaXMgbm90IHN1cHBvcnRlZGAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgcHJvcGVydHlLZXksXG4gICAgICAgIHByb3BlcnR5OiByZXNvbHZlZFByb3BlcnR5LFxuICAgICAgICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gICAgICAgIHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBwYXJ0T2ZBcnJheSxcbiAgICAgICAgbWluaW1hbGlzdFZpZXcsXG4gICAgICAgIGF1dG9Gb2N1cyxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgb25Qcm9wZXJ0eUNoYW5nZVxuICAgICAgfTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSW50ZXJuYWwsIHsgQ29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgZm9ybWV4RmllbGRQcm9wczogZmllbGRQcm9wcyB9KTtcbiAgICB9O1xuICAgICRbMF0gPSBhdXRvRm9jdXM7XG4gICAgJFsxXSA9IGNvbnRleHQ7XG4gICAgJFsyXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnByb3BlcnR5Q29uZmlncztcbiAgICAkWzNdID0gZGlzYWJsZWRQcm9wO1xuICAgICRbNF0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFs1XSA9IGluZGV4O1xuICAgICRbNl0gPSBtaW5pbWFsaXN0VmlldztcbiAgICAkWzddID0gb25Qcm9wZXJ0eUNoYW5nZTtcbiAgICAkWzhdID0gcGFydE9mQXJyYXk7XG4gICAgJFs5XSA9IHByb3BlcnR5O1xuICAgICRbMTBdID0gcHJvcGVydHlLZXk7XG4gICAgJFsxMV0gPSBzaXplO1xuICAgICRbMTJdID0gdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDtcbiAgICAkWzEzXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxM107XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFsxNF0gIT09IHByb3BlcnR5S2V5IHx8ICRbMTVdICE9PSB0MSkge1xuICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChGaWVsZCwgeyBuYW1lOiBwcm9wZXJ0eUtleSwgY2hpbGRyZW46IHQxIH0sIHByb3BlcnR5S2V5KTtcbiAgICAkWzE0XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMTVdID0gdDE7XG4gICAgJFsxNl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMTZdO1xuICB9XG4gIHJldHVybiB0Mjtcbn1cbmZ1bmN0aW9uIEZpZWxkSW50ZXJuYWwoe1xuICBDb21wb25lbnQsXG4gIGNvbXBvbmVudFByb3BzOiB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgcHJvcGVydHksXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQsXG4gICAgcGFydE9mQXJyYXksXG4gICAgbWluaW1hbGlzdFZpZXcsXG4gICAgYXV0b0ZvY3VzLFxuICAgIGNvbnRleHQsXG4gICAgZGlzYWJsZWQsXG4gICAgc2l6ZSxcbiAgICBvblByb3BlcnR5Q2hhbmdlXG4gIH0sXG4gIGZvcm1leEZpZWxkUHJvcHNcbn0pIHtcbiAgY29uc3Qge1xuICAgIHBsdWdpbnNcbiAgfSA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IGN1c3RvbUZpZWxkUHJvcHMgPSBwcm9wZXJ0eS5jdXN0b21Qcm9wcztcbiAgY29uc3QgdmFsdWUgPSBmb3JtZXhGaWVsZFByb3BzLmZpZWxkLnZhbHVlO1xuICBjb25zdCBlcnJvciA9IGdldEluKGZvcm1leEZpZWxkUHJvcHMuZm9ybS5lcnJvcnMsIHByb3BlcnR5S2V5KTtcbiAgY29uc3QgdG91Y2hlZCA9IGdldEluKGZvcm1leEZpZWxkUHJvcHMuZm9ybS50b3VjaGVkLCBwcm9wZXJ0eUtleSk7XG4gIGNvbnN0IHNob3dFcnJvciA9IGVycm9yICYmIChmb3JtZXhGaWVsZFByb3BzLmZvcm0uc3VibWl0Q291bnQgPiAwIHx8IHByb3BlcnR5LnZhbGlkYXRpb24/LnVuaXF1ZSkgJiYgKCFBcnJheS5pc0FycmF5KGVycm9yKSB8fCAhIWVycm9yLmZpbHRlcigoZSkgPT4gISFlKS5sZW5ndGgpO1xuICBjb25zdCBXcmFwcGVkQ29tcG9uZW50ID0gdXNlV3JhcHBlZENvbXBvbmVudCh7XG4gICAgcGF0aDogY29udGV4dC5wYXRoLFxuICAgIGNvbGxlY3Rpb246IGNvbnRleHQuY29sbGVjdGlvbixcbiAgICBwcm9wZXJ0eUtleSxcbiAgICBwcm9wZXJ0eSxcbiAgICBDb21wb25lbnQsXG4gICAgcGx1Z2luc1xuICB9KTtcbiAgY29uc3QgVXNlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQgPz8gQ29tcG9uZW50O1xuICBjb25zdCBpc1N1Ym1pdHRpbmcgPSBmb3JtZXhGaWVsZFByb3BzLmZvcm0uaXNTdWJtaXR0aW5nO1xuICBjb25zdCBzZXRWYWx1ZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZV8wLCBzaG91bGRWYWxpZGF0ZSkgPT4ge1xuICAgIGZvcm1leEZpZWxkUHJvcHMuZm9ybS5zZXRGaWVsZFRvdWNoZWQocHJvcGVydHlLZXksIHRydWUsIGZhbHNlKTtcbiAgICBmb3JtZXhGaWVsZFByb3BzLmZvcm0uc2V0RmllbGRWYWx1ZShwcm9wZXJ0eUtleSwgdmFsdWVfMCwgc2hvdWxkVmFsaWRhdGUpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNldEZpZWxkVmFsdWUgPSB1c2VDYWxsYmFjaygob3RoZXJQcm9wZXJ0eUtleSwgdmFsdWVfMSwgc2hvdWxkVmFsaWRhdGVfMCkgPT4ge1xuICAgIGZvcm1leEZpZWxkUHJvcHMuZm9ybS5zZXRGaWVsZFRvdWNoZWQocHJvcGVydHlLZXksIHRydWUsIGZhbHNlKTtcbiAgICBmb3JtZXhGaWVsZFByb3BzLmZvcm0uc2V0RmllbGRWYWx1ZShvdGhlclByb3BlcnR5S2V5LCB2YWx1ZV8xLCBzaG91bGRWYWxpZGF0ZV8wKTtcbiAgfSwgW10pO1xuICBjb25zdCBjbXNGaWVsZFByb3BzID0ge1xuICAgIHByb3BlcnR5S2V5LFxuICAgIHZhbHVlLFxuICAgIHNldFZhbHVlLFxuICAgIHNldEZpZWxkVmFsdWUsXG4gICAgZXJyb3IsXG4gICAgdG91Y2hlZCxcbiAgICBzaG93RXJyb3IsXG4gICAgaXNTdWJtaXR0aW5nLFxuICAgIGluY2x1ZGVEZXNjcmlwdGlvbjogaW5jbHVkZURlc2NyaXB0aW9uID8/IHRydWUsXG4gICAgcHJvcGVydHksXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkID8/IGZhbHNlLFxuICAgIHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQ6IHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQgPz8gZmFsc2UsXG4gICAgcGFydE9mQXJyYXk6IHBhcnRPZkFycmF5ID8/IGZhbHNlLFxuICAgIG1pbmltYWxpc3RWaWV3OiBtaW5pbWFsaXN0VmlldyA/PyBmYWxzZSxcbiAgICBhdXRvRm9jdXM6IGF1dG9Gb2N1cyA/PyBmYWxzZSxcbiAgICBjdXN0b21Qcm9wczogY3VzdG9tRmllbGRQcm9wcyxcbiAgICBjb250ZXh0LFxuICAgIHNpemUsXG4gICAgb25Qcm9wZXJ0eUNoYW5nZVxuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVXNlZENvbXBvbmVudCwgeyAuLi5jbXNGaWVsZFByb3BzIH0pLFxuICAgIHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQgJiYgIWlzU3VibWl0dGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNsYXNzTmFtZTogXCJtbC0zLjVcIiwgY2hpbGRyZW46IFwiVGhpcyB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkIGVsc2V3aGVyZVwiIH0pXG4gIF0gfSk7XG59XG5jb25zdCBzaG91bGRQcm9wZXJ0eVJlUmVuZGVyID0gKHByb3BlcnR5LCBwbHVnaW5zKSA9PiB7XG4gIGlmIChpc1Byb3BlcnR5QnVpbGRlcihwcm9wZXJ0eSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBkZWZBUHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgY29uc3QgcmVyZW5kZXJUaGlzUHJvcGVydHkgPSBCb29sZWFuKGRlZkFQcm9wZXJ0eS5GaWVsZCkgfHwgXCJmcm9tQnVpbGRlclwiIGluIGRlZkFQcm9wZXJ0eSAmJiBkZWZBUHJvcGVydHkuZnJvbUJ1aWxkZXI7XG4gIGlmIChkZWZBUHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIgJiYgZGVmQVByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gcmVyZW5kZXJUaGlzUHJvcGVydHkgfHwgT2JqZWN0LnZhbHVlcyhkZWZBUHJvcGVydHkucHJvcGVydGllcykuc29tZSgoY2hpbGRQcm9wZXJ0eSkgPT4gc2hvdWxkUHJvcGVydHlSZVJlbmRlcihjaGlsZFByb3BlcnR5KSk7XG4gIH0gZWxzZSBpZiAoZGVmQVByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIgJiYgXCJyZXNvbHZlZFByb3BlcnRpZXNcIiBpbiBkZWZBUHJvcGVydHkpIHtcbiAgICByZXR1cm4gcmVyZW5kZXJUaGlzUHJvcGVydHkgfHwgZGVmQVByb3BlcnR5LnJlc29sdmVkUHJvcGVydGllcz8uc29tZSgoY2hpbGRQcm9wZXJ0eSkgPT4gY2hpbGRQcm9wZXJ0eSAmJiBzaG91bGRQcm9wZXJ0eVJlUmVuZGVyKGNoaWxkUHJvcGVydHkpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVyZW5kZXJUaGlzUHJvcGVydHk7XG4gIH1cbn07XG5mdW5jdGlvbiB1c2VXcmFwcGVkQ29tcG9uZW50KHtcbiAgcGF0aCxcbiAgY29sbGVjdGlvbixcbiAgcHJvcGVydHlLZXksXG4gIHByb3BlcnR5LFxuICBDb21wb25lbnQsXG4gIHBsdWdpbnNcbn0pIHtcbiAgY29uc3Qgd3JhcHBlclJlZiA9IHVzZVJlZigoKCkgPT4ge1xuICAgIGxldCBXcmFwcGVyID0gbnVsbDtcbiAgICBpZiAocGx1Z2lucykge1xuICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgICAgY29uc3QgZmllbGRJZCA9IGdldEZpZWxkSWQocHJvcGVydHkpO1xuICAgICAgICBpZiAoZmllbGRJZCAmJiBwbHVnaW4uZm9ybT8uZmllbGRCdWlsZGVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgZmllbGRDb25maWdJZDogZmllbGRJZCxcbiAgICAgICAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICBGaWVsZDogQ29tcG9uZW50LFxuICAgICAgICAgICAgcGx1Z2luLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGVuYWJsZWQgPSBwbHVnaW4uZm9ybT8uZmllbGRCdWlsZGVyRW5hYmxlZD8uKHBhcmFtcyk7XG4gICAgICAgICAgaWYgKGVuYWJsZWQgPT09IHZvaWQgMCB8fCBlbmFibGVkKSBXcmFwcGVyID0gcGx1Z2luLmZvcm0uZmllbGRCdWlsZGVyKHBhcmFtcykgfHwgV3JhcHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZpZWxkSWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJJTlRFUk5BTDogRmllbGQgaWQgbm90IGZvdW5kIGZvciBwcm9wZXJ0eVwiLCBwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gV3JhcHBlcjtcbiAgfSkoKSk7XG4gIHJldHVybiB3cmFwcGVyUmVmLmN1cnJlbnQ7XG59XG5mdW5jdGlvbiBNYXBGaWVsZEJpbmRpbmcodDApIHtcbiAgY29uc3QgJCA9IGMoNDEpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgdmFsdWUsXG4gICAgc2hvd0Vycm9yLFxuICAgIGVycm9yLFxuICAgIGRpc2FibGVkLFxuICAgIHByb3BlcnR5LFxuICAgIG1pbmltYWxpc3RWaWV3OiBtaW5pbWFsaXN0Vmlld1Byb3AsXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIGF1dG9Gb2N1cyxcbiAgICBjb250ZXh0LFxuICAgIG9uUHJvcGVydHlDaGFuZ2VcbiAgfSA9IHQwO1xuICBjb25zdCBwaWNrT25seVNvbWVLZXlzID0gcHJvcGVydHkucGlja09ubHlTb21lS2V5cyB8fCBmYWxzZTtcbiAgY29uc3QgZXhwYW5kZWQgPSBwcm9wZXJ0eS5leHBhbmRlZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IHByb3BlcnR5LmV4cGFuZGVkO1xuICBjb25zdCBtaW5pbWFsaXN0VmlldyA9IG1pbmltYWxpc3RWaWV3UHJvcCB8fCBwcm9wZXJ0eS5taW5pbWFsaXN0VmlldztcbiAgaWYgKCFwcm9wZXJ0eS5wcm9wZXJ0aWVzKSB7XG4gICAgdGhyb3cgRXJyb3IoYFlvdSBuZWVkIHRvIHNwZWNpZnkgYSAncHJvcGVydGllcycgcHJvcCAob3Igc3BlY2lmeSBhIGN1c3RvbSBmaWVsZCkgaW4geW91ciBtYXAgcHJvcGVydHkgJHtwcm9wZXJ0eUtleX1gKTtcbiAgfVxuICBsZXQgbWFwUHJvcGVydGllcztcbiAgaWYgKHBpY2tPbmx5U29tZUtleXMpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGxldCB0MTI7XG4gICAgICBpZiAoJFswXSAhPT0gcHJvcGVydHkucHJvcGVydGllcyB8fCAkWzFdICE9PSB2YWx1ZSkge1xuICAgICAgICB0MTIgPSBwaWNrKHByb3BlcnR5LnByb3BlcnRpZXMsIC4uLk9iamVjdC5rZXlzKHZhbHVlKS5maWx0ZXIoKGtleSkgPT4ga2V5IGluIHByb3BlcnR5LnByb3BlcnRpZXMpKTtcbiAgICAgICAgJFswXSA9IHByb3BlcnR5LnByb3BlcnRpZXM7XG4gICAgICAgICRbMV0gPSB2YWx1ZTtcbiAgICAgICAgJFsyXSA9IHQxMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQxMiA9ICRbMl07XG4gICAgICB9XG4gICAgICBtYXBQcm9wZXJ0aWVzID0gdDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdDEyO1xuICAgICAgaWYgKCRbM10gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgIHQxMiA9IHt9O1xuICAgICAgICAkWzNdID0gdDEyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDEyID0gJFszXTtcbiAgICAgIH1cbiAgICAgIG1hcFByb3BlcnRpZXMgPSB0MTI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG1hcFByb3BlcnRpZXMgPSBwcm9wZXJ0eS5wcm9wZXJ0aWVzO1xuICB9XG4gIGNvbnN0IHQxID0gbWluaW1hbGlzdFZpZXcgJiYgcHJvcGVydHkud2lkdGhQZXJjZW50YWdlICE9PSB2b2lkIDAgPyBcIm10LThcIiA6IHZvaWQgMDtcbiAgbGV0IHQyO1xuICBpZiAoJFs0XSAhPT0gdDEpIHtcbiAgICB0MiA9IGNscyhcInB5LTEgZmxleCBmbGV4LWNvbCBzcGFjZS15LTJcIiwgdDEpO1xuICAgICRbNF0gPSB0MTtcbiAgICAkWzVdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzVdO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbNl0gIT09IGF1dG9Gb2N1cyB8fCAkWzddICE9PSBjb250ZXh0IHx8ICRbOF0gIT09IGRpc2FibGVkIHx8ICRbOV0gIT09IGluY2x1ZGVEZXNjcmlwdGlvbiB8fCAkWzEwXSAhPT0gbWFwUHJvcGVydGllcyB8fCAkWzExXSAhPT0gb25Qcm9wZXJ0eUNoYW5nZSB8fCAkWzEyXSAhPT0gcHJvcGVydHlLZXkpIHtcbiAgICBsZXQgdDQyO1xuICAgIGlmICgkWzE0XSAhPT0gYXV0b0ZvY3VzIHx8ICRbMTVdICE9PSBjb250ZXh0IHx8ICRbMTZdICE9PSBkaXNhYmxlZCB8fCAkWzE3XSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMThdICE9PSBvblByb3BlcnR5Q2hhbmdlIHx8ICRbMTldICE9PSBwcm9wZXJ0eUtleSkge1xuICAgICAgdDQyID0gKHQ1MiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgW2VudHJ5S2V5LCBjaGlsZFByb3BlcnR5XSA9IHQ1MjtcbiAgICAgICAgY29uc3QgdGhpc0Rpc2FibGVkID0gaXNSZWFkT25seShjaGlsZFByb3BlcnR5KSB8fCBCb29sZWFuKGNoaWxkUHJvcGVydHkuZGlzYWJsZWQpO1xuICAgICAgICBjb25zdCBmaWVsZEJpbmRpbmdQcm9wcyA9IHtcbiAgICAgICAgICBwcm9wZXJ0eUtleTogYCR7cHJvcGVydHlLZXl9LiR7ZW50cnlLZXl9YCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgdGhpc0Rpc2FibGVkLFxuICAgICAgICAgIHByb3BlcnR5OiBjaGlsZFByb3BlcnR5LFxuICAgICAgICAgIGluY2x1ZGVEZXNjcmlwdGlvbixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHBhcnRPZkFycmF5OiBmYWxzZSxcbiAgICAgICAgICBtaW5pbWFsaXN0VmlldzogZmFsc2UsXG4gICAgICAgICAgYXV0b0ZvY3VzOiBhdXRvRm9jdXMgJiYgaW5kZXggPT09IDAsXG4gICAgICAgICAgb25Qcm9wZXJ0eUNoYW5nZTogZnVuY3Rpb24odXBkYXRlZFByb3BlcnR5KSB7XG4gICAgICAgICAgICBvblByb3BlcnR5Q2hhbmdlPy4oe1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgW2VudHJ5S2V5XTogdXBkYXRlZFByb3BlcnR5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVsYXRpdmVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcm9wZXJ0eUZpZWxkQmluZGluZywgeyAuLi5maWVsZEJpbmRpbmdQcm9wcyB9KSB9KSB9LCBgbWFwLSR7cHJvcGVydHlLZXl9LSR7aW5kZXh9YCk7XG4gICAgICB9O1xuICAgICAgJFsxNF0gPSBhdXRvRm9jdXM7XG4gICAgICAkWzE1XSA9IGNvbnRleHQ7XG4gICAgICAkWzE2XSA9IGRpc2FibGVkO1xuICAgICAgJFsxN10gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgICAkWzE4XSA9IG9uUHJvcGVydHlDaGFuZ2U7XG4gICAgICAkWzE5XSA9IHByb3BlcnR5S2V5O1xuICAgICAgJFsyMF0gPSB0NDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ0MiA9ICRbMjBdO1xuICAgIH1cbiAgICB0MyA9IE9iamVjdC5lbnRyaWVzKG1hcFByb3BlcnRpZXMpLmZpbHRlcihfdGVtcCQ2KS5tYXAodDQyKTtcbiAgICAkWzZdID0gYXV0b0ZvY3VzO1xuICAgICRbN10gPSBjb250ZXh0O1xuICAgICRbOF0gPSBkaXNhYmxlZDtcbiAgICAkWzldID0gaW5jbHVkZURlc2NyaXB0aW9uO1xuICAgICRbMTBdID0gbWFwUHJvcGVydGllcztcbiAgICAkWzExXSA9IG9uUHJvcGVydHlDaGFuZ2U7XG4gICAgJFsxMl0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzEzXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFsxM107XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFsyMV0gIT09IHQyIHx8ICRbMjJdICE9PSB0Mykge1xuICAgIHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogdDIsIGNoaWxkcmVuOiB0MyB9KSB9KTtcbiAgICAkWzIxXSA9IHQyO1xuICAgICRbMjJdID0gdDM7XG4gICAgJFsyM10gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbMjNdO1xuICB9XG4gIGNvbnN0IG1hcEZvcm1WaWV3ID0gdDQ7XG4gIGxldCB0NTtcbiAgaWYgKCRbMjRdICE9PSBleHBhbmRlZCB8fCAkWzI1XSAhPT0gbWFwRm9ybVZpZXcgfHwgJFsyNl0gIT09IG1pbmltYWxpc3RWaWV3IHx8ICRbMjddICE9PSBvblByb3BlcnR5Q2hhbmdlIHx8ICRbMjhdICE9PSBwcm9wZXJ0eSB8fCAkWzI5XSAhPT0gcHJvcGVydHlLZXkpIHtcbiAgICB0NSA9ICFtaW5pbWFsaXN0VmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEV4cGFuZGFibGVQYW5lbCwgeyBpbml0aWFsbHlFeHBhbmRlZDogZXhwYW5kZWQsIG9uRXhwYW5kZWRDaGFuZ2U6IChleHBhbmRlZF8wKSA9PiB7XG4gICAgICBvblByb3BlcnR5Q2hhbmdlPy4oe1xuICAgICAgICBleHBhbmRlZDogZXhwYW5kZWRfMFxuICAgICAgfSk7XG4gICAgfSwgY2xhc3NOYW1lOiBwcm9wZXJ0eS53aWR0aFBlcmNlbnRhZ2UgIT09IHZvaWQgMCA/IFwibXQtOFwiIDogdm9pZCAwLCBpbm5lckNsYXNzTmFtZTogXCJweC0yIG1kOnB4LTQgcGItMiBtZDpwYi00IHB0LTEgbWQ6cHQtMiBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTAwXCIsIHRpdGxlOiAvKiBAX19QVVJFX18gKi8ganN4KExhYmVsV2l0aEljb25BbmRUb29sdGlwLCB7IHByb3BlcnR5S2V5LCBpY29uOiBnZXRJY29uRm9yUHJvcGVydHkocHJvcGVydHksIFwic21hbGxcIiksIHJlcXVpcmVkOiBwcm9wZXJ0eS52YWxpZGF0aW9uPy5yZXF1aXJlZCwgdGl0bGU6IHByb3BlcnR5Lm5hbWUsIGNsYXNzTmFtZTogXCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrXCIgfSksIGNoaWxkcmVuOiBtYXBGb3JtVmlldyB9KTtcbiAgICAkWzI0XSA9IGV4cGFuZGVkO1xuICAgICRbMjVdID0gbWFwRm9ybVZpZXc7XG4gICAgJFsyNl0gPSBtaW5pbWFsaXN0VmlldztcbiAgICAkWzI3XSA9IG9uUHJvcGVydHlDaGFuZ2U7XG4gICAgJFsyOF0gPSBwcm9wZXJ0eTtcbiAgICAkWzI5XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMzBdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzMwXTtcbiAgfVxuICBjb25zdCB0NiA9IG1pbmltYWxpc3RWaWV3ICYmIG1hcEZvcm1WaWV3O1xuICBjb25zdCB0NyA9IHNob3dFcnJvciA/PyBmYWxzZTtcbiAgY29uc3QgdDggPSBlcnJvciA/IHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIiA/IGVycm9yIDogXCJBIHByb3BlcnR5IG9mIHRoaXMgbWFwIGhhcyBhbiBlcnJvclwiIDogdm9pZCAwO1xuICBsZXQgdDk7XG4gIGlmICgkWzMxXSAhPT0gZGlzYWJsZWQgfHwgJFszMl0gIT09IGluY2x1ZGVEZXNjcmlwdGlvbiB8fCAkWzMzXSAhPT0gcHJvcGVydHkgfHwgJFszNF0gIT09IHQ3IHx8ICRbMzVdICE9PSB0OCkge1xuICAgIHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChGaWVsZEhlbHBlclRleHQsIHsgaW5jbHVkZURlc2NyaXB0aW9uLCBzaG93RXJyb3I6IHQ3LCBlcnJvcjogdDgsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzMxXSA9IGRpc2FibGVkO1xuICAgICRbMzJdID0gaW5jbHVkZURlc2NyaXB0aW9uO1xuICAgICRbMzNdID0gcHJvcGVydHk7XG4gICAgJFszNF0gPSB0NztcbiAgICAkWzM1XSA9IHQ4O1xuICAgICRbMzZdID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzM2XTtcbiAgfVxuICBsZXQgdDEwO1xuICBpZiAoJFszN10gIT09IHQ1IHx8ICRbMzhdICE9PSB0NiB8fCAkWzM5XSAhPT0gdDkpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4cyhFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBbXG4gICAgICB0NSxcbiAgICAgIHQ2LFxuICAgICAgdDlcbiAgICBdIH0pO1xuICAgICRbMzddID0gdDU7XG4gICAgJFszOF0gPSB0NjtcbiAgICAkWzM5XSA9IHQ5O1xuICAgICRbNDBdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbNDBdO1xuICB9XG4gIHJldHVybiB0MTA7XG59XG5mdW5jdGlvbiBfdGVtcCQ2KHQwKSB7XG4gIGNvbnN0IFssIHByb3BlcnR5XzBdID0gdDA7XG4gIHJldHVybiAhaXNIaWRkZW4ocHJvcGVydHlfMCk7XG59XG5mdW5jdGlvbiBLZXlWYWx1ZUZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYygzMSk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzaG93RXJyb3IsXG4gICAgZXJyb3IsXG4gICAgZGlzYWJsZWQsXG4gICAgcHJvcGVydHksXG4gICAgc2V0VmFsdWUsXG4gICAgbWluaW1hbGlzdFZpZXcsXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIGF1dG9Gb2N1cyxcbiAgICBjb250ZXh0XG4gIH0gPSB0MDtcbiAgY29uc3QgZXhwYW5kZWQgPSAocHJvcGVydHkuZXhwYW5kZWQgPT09IHZvaWQgMCA/IHRydWUgOiBwcm9wZXJ0eS5leHBhbmRlZCkgfHwgYXV0b0ZvY3VzO1xuICBpZiAoIXByb3BlcnR5LmtleVZhbHVlKSB7XG4gICAgdGhyb3cgRXJyb3IoYFlvdXIgcHJvcGVydHkgJHtwcm9wZXJ0eUtleX0gbmVlZHMgdG8gaGF2ZSB0aGUgJ2tleVZhbHVlJyBwcm9wIGluIG9yZGVyIHRvIHVzZSB0aGlzIGZpZWxkIGJpbmRpbmdgKTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjb250ZXh0LmZvcm1leC5pbml0aWFsVmFsdWVzIHx8ICRbMV0gIT09IHByb3BlcnR5S2V5KSB7XG4gICAgdDEgPSBnZXRJbihjb250ZXh0LmZvcm1leC5pbml0aWFsVmFsdWVzLCBwcm9wZXJ0eUtleSk7XG4gICAgJFswXSA9IGNvbnRleHQuZm9ybWV4LmluaXRpYWxWYWx1ZXM7XG4gICAgJFsxXSA9IHByb3BlcnR5S2V5O1xuICAgICRbMl0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMl07XG4gIH1cbiAgY29uc3QgaW5pdGlhbFZhbHVlcyA9IHQxO1xuICBjb25zdCB0MiA9IHByb3BlcnR5Lm5hbWUgPz8gcHJvcGVydHlLZXk7XG4gIGxldCB0MztcbiAgaWYgKCRbM10gIT09IGRpc2FibGVkIHx8ICRbNF0gIT09IGluaXRpYWxWYWx1ZXMgfHwgJFs1XSAhPT0gc2V0VmFsdWUgfHwgJFs2XSAhPT0gdDIgfHwgJFs3XSAhPT0gdmFsdWUpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTWFwRWRpdFZpZXcsIHsgdmFsdWUsIHNldFZhbHVlLCBkaXNhYmxlZCwgaW5pdGlhbFZhbHVlOiBpbml0aWFsVmFsdWVzLCBmaWVsZE5hbWU6IHQyIH0pO1xuICAgICRbM10gPSBkaXNhYmxlZDtcbiAgICAkWzRdID0gaW5pdGlhbFZhbHVlcztcbiAgICAkWzVdID0gc2V0VmFsdWU7XG4gICAgJFs2XSA9IHQyO1xuICAgICRbN10gPSB2YWx1ZTtcbiAgICAkWzhdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzhdO1xuICB9XG4gIGNvbnN0IG1hcEZvcm1WaWV3ID0gdDM7XG4gIGxldCB0NDtcbiAgaWYgKCRbOV0gIT09IHByb3BlcnR5KSB7XG4gICAgdDQgPSBnZXRJY29uRm9yUHJvcGVydHkocHJvcGVydHksIFwic21hbGxcIik7XG4gICAgJFs5XSA9IHByb3BlcnR5O1xuICAgICRbMTBdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzEwXTtcbiAgfVxuICBjb25zdCB0NSA9IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkO1xuICBsZXQgdDY7XG4gIGlmICgkWzExXSAhPT0gcHJvcGVydHkubmFtZSB8fCAkWzEyXSAhPT0gcHJvcGVydHlLZXkgfHwgJFsxM10gIT09IHQ0IHx8ICRbMTRdICE9PSB0NSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogdDQsIHJlcXVpcmVkOiB0NSwgdGl0bGU6IHByb3BlcnR5Lm5hbWUsIGNsYXNzTmFtZTogXCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrXCIgfSk7XG4gICAgJFsxMV0gPSBwcm9wZXJ0eS5uYW1lO1xuICAgICRbMTJdID0gcHJvcGVydHlLZXk7XG4gICAgJFsxM10gPSB0NDtcbiAgICAkWzE0XSA9IHQ1O1xuICAgICRbMTVdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE1XTtcbiAgfVxuICBjb25zdCB0aXRsZSA9IHQ2O1xuICBsZXQgdDc7XG4gIGlmICgkWzE2XSAhPT0gZXhwYW5kZWQgfHwgJFsxN10gIT09IG1hcEZvcm1WaWV3IHx8ICRbMThdICE9PSBtaW5pbWFsaXN0VmlldyB8fCAkWzE5XSAhPT0gdGl0bGUpIHtcbiAgICB0NyA9ICFtaW5pbWFsaXN0VmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEV4cGFuZGFibGVQYW5lbCwgeyBpbml0aWFsbHlFeHBhbmRlZDogZXhwYW5kZWQsIHRpdGxlLCBpbm5lckNsYXNzTmFtZTogXCJweC0yIG1kOnB4LTQgcGItMiBtZDpwYi00IHB0LTEgbWQ6cHQtMlwiLCBjaGlsZHJlbjogbWFwRm9ybVZpZXcgfSk7XG4gICAgJFsxNl0gPSBleHBhbmRlZDtcbiAgICAkWzE3XSA9IG1hcEZvcm1WaWV3O1xuICAgICRbMThdID0gbWluaW1hbGlzdFZpZXc7XG4gICAgJFsxOV0gPSB0aXRsZTtcbiAgICAkWzIwXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsyMF07XG4gIH1cbiAgY29uc3QgdDggPSBtaW5pbWFsaXN0VmlldyAmJiBtYXBGb3JtVmlldztcbiAgbGV0IHQ5O1xuICBpZiAoJFsyMV0gIT09IGRpc2FibGVkIHx8ICRbMjJdICE9PSBlcnJvciB8fCAkWzIzXSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMjRdICE9PSBwcm9wZXJ0eSB8fCAkWzI1XSAhPT0gc2hvd0Vycm9yKSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzIxXSA9IGRpc2FibGVkO1xuICAgICRbMjJdID0gZXJyb3I7XG4gICAgJFsyM10gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFsyNF0gPSBwcm9wZXJ0eTtcbiAgICAkWzI1XSA9IHNob3dFcnJvcjtcbiAgICAkWzI2XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyNl07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMjddICE9PSB0NyB8fCAkWzI4XSAhPT0gdDggfHwgJFsyOV0gIT09IHQ5KSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQ3LFxuICAgICAgdDgsXG4gICAgICB0OVxuICAgIF0gfSk7XG4gICAgJFsyN10gPSB0NztcbiAgICAkWzI4XSA9IHQ4O1xuICAgICRbMjldID0gdDk7XG4gICAgJFszMF0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFszMF07XG4gIH1cbiAgcmV0dXJuIHQxMDtcbn1cbmZ1bmN0aW9uIE1hcEVkaXRWaWV3KHtcbiAgdmFsdWUsXG4gIGluaXRpYWxWYWx1ZSxcbiAgc2V0VmFsdWUsXG4gIGZpZWxkTmFtZSxcbiAgZGlzYWJsZWRcbn0pIHtcbiAgY29uc3QgW2ludGVybmFsU3RhdGUsIHNldEludGVybmFsU3RhdGVdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoT2JqZWN0LmtleXMoaW5pdGlhbFZhbHVlID8/IHt9KS5tYXAoKGtleSkgPT4gW2dldFJhbmRvbUlkKCksIHtcbiAgICBrZXksXG4gICAgZGF0YVR5cGU6IGdldERhdGFUeXBlKGluaXRpYWxWYWx1ZT8uW2tleV0pID8/IFwic3RyaW5nXCJcbiAgfV0pKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50S2V5cyA9IGludGVybmFsU3RhdGUubWFwKChbaWQsIHtcbiAgICAgIGtleToga2V5XzBcbiAgICB9XSkgPT4ga2V5XzApO1xuICAgIGNvbnN0IG5ld0tleXMgPSBPYmplY3QuZW50cmllcyh2YWx1ZSA/PyB7fSkuZmlsdGVyKChba2V5XzEsIHZdKSA9PiB2ICE9PSB2b2lkIDApLm1hcCgoW2tleV8yXSkgPT4ga2V5XzIpO1xuICAgIGNvbnN0IGtleXNUb0FkZCA9IG5ld0tleXMuZmlsdGVyKChrZXlfMykgPT4gIWN1cnJlbnRLZXlzLmluY2x1ZGVzKGtleV8zKSk7XG4gICAgY29uc3Qga2V5c1RvUmVtb3ZlID0gY3VycmVudEtleXMuZmlsdGVyKChrZXlfNCkgPT4gIW5ld0tleXMuaW5jbHVkZXMoa2V5XzQpKTtcbiAgICBjb25zdCBuZXdSb3dJZHMgPSBbLi4uaW50ZXJuYWxTdGF0ZV07XG4gICAga2V5c1RvQWRkLmZvckVhY2goKGtleV81KSA9PiB7XG4gICAgICBuZXdSb3dJZHMucHVzaChbZ2V0UmFuZG9tSWQoKSwge1xuICAgICAgICBrZXk6IGtleV81LFxuICAgICAgICBkYXRhVHlwZTogZ2V0RGF0YVR5cGUodmFsdWU/LltrZXlfNV0pID8/IFwic3RyaW5nXCJcbiAgICAgIH1dKTtcbiAgICB9KTtcbiAgICBrZXlzVG9SZW1vdmUuZm9yRWFjaCgoa2V5XzYpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbmV3Um93SWRzLmZpbmRJbmRleCgoW2lkXzAsIHtcbiAgICAgICAga2V5OiBrXG4gICAgICB9XSkgPT4gayA9PT0ga2V5XzYpO1xuICAgICAgbmV3Um93SWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSk7XG4gICAgc2V0SW50ZXJuYWxTdGF0ZShuZXdSb3dJZHMpO1xuICB9LCBbdmFsdWVdKTtcbiAgY29uc3QgdXBkYXRlRGF0YVR5cGUgPSAocm93SWQsIGRhdGFUeXBlKSA9PiB7XG4gICAgaWYgKCFyb3dJZCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTm8ga2V5IHNlbGVjdGVkIGZvciBkYXRhIHR5cGUgdXBkYXRlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJbnRlcm5hbFN0YXRlKGludGVybmFsU3RhdGUubWFwKChyb3cpID0+IHtcbiAgICAgIGlmIChyb3dbMF0gPT09IHJvd0lkKSB7XG4gICAgICAgIHJldHVybiBbcm93WzBdLCB7XG4gICAgICAgICAga2V5OiByb3dbMV0ua2V5LFxuICAgICAgICAgIGRhdGFUeXBlXG4gICAgICAgIH1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvdztcbiAgICB9KSk7XG4gICAgc2V0VmFsdWUoe1xuICAgICAgLi4udmFsdWUgPz8ge30sXG4gICAgICBbaW50ZXJuYWxTdGF0ZS5maW5kKChyb3cpID0+IHJvd1swXSA9PT0gcm93SWQpPy5bMV0ua2V5ID8/IFwiXCJdOiBnZXREZWZhdWx0VmFsdWVGb3JEYXRhVHlwZShkYXRhVHlwZSlcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInB5LTEgZmxleCBmbGV4LWNvbCBnYXAtMVwiLCBjaGlsZHJlbjogW1xuICAgIGludGVybmFsU3RhdGUubWFwKChbcm93SWRfMCwge1xuICAgICAga2V5OiBmaWVsZEtleSxcbiAgICAgIGRhdGFUeXBlOiBkYXRhVHlwZV8wXG4gICAgfV0sIGluZGV4XzApID0+IHtcbiAgICAgIGNvbnN0IGVudHJ5VmFsdWUgPSBmaWVsZEtleSA/IHZhbHVlPy5bZmllbGRLZXldIDogXCJcIjtcbiAgICAgIGNvbnN0IG9uRmllbGRLZXlDaGFuZ2UgPSAobmV3S2V5KSA9PiB7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUoaW50ZXJuYWxTdGF0ZS5tYXAoKGN1cnJlbnRSb3dJZCkgPT4ge1xuICAgICAgICAgIGlmIChjdXJyZW50Um93SWRbMF0gPT09IHJvd0lkXzApIHtcbiAgICAgICAgICAgIHJldHVybiBbcm93SWRfMCwge1xuICAgICAgICAgICAgICBrZXk6IG5ld0tleSA/PyBcIlwiLFxuICAgICAgICAgICAgICBkYXRhVHlwZTogY3VycmVudFJvd0lkWzFdLmRhdGFUeXBlXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRSb3dJZDtcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIG5ld0tleSBpbiB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHtcbiAgICAgICAgICAuLi52YWx1ZSA/PyB7fVxuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBmaWVsZEtleSBpbiBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgICBuZXdWYWx1ZVtmaWVsZEtleV0gPSB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIG5ld1ZhbHVlW2ZpZWxkS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgLi4ubmV3VmFsdWUsXG4gICAgICAgICAgW25ld0tleSA/PyBcIlwiXTogZW50cnlWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNYXBLZXlWYWx1ZVJvdywgeyByb3dJZDogcm93SWRfMCwgZmllbGRLZXksIHZhbHVlOiB2YWx1ZSA/PyB7fSwgb25EZWxldGVDbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdWYWx1ZV8wID0ge1xuICAgICAgICAgIC4uLnZhbHVlID8/IHt9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbml0aWFsVmFsdWUgJiYgZmllbGRLZXkgaW4gaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgICAgbmV3VmFsdWVfMFtmaWVsZEtleV0gPSB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIG5ld1ZhbHVlXzBbZmllbGRLZXldO1xuICAgICAgICB9XG4gICAgICAgIHNldEludGVybmFsU3RhdGUoaW50ZXJuYWxTdGF0ZS5maWx0ZXIoKGN1cnJlbnRSb3dJZF8wKSA9PiBjdXJyZW50Um93SWRfMFswXSAhPT0gcm93SWRfMCkpO1xuICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgLi4ubmV3VmFsdWVfMFxuICAgICAgICB9KTtcbiAgICAgIH0sIG9uRmllbGRLZXlDaGFuZ2UsIHNldFZhbHVlLCBlbnRyeVZhbHVlLCBkYXRhVHlwZTogZGF0YVR5cGVfMCwgZGlzYWJsZWQsIHVwZGF0ZURhdGFUeXBlIH0sIHJvd0lkXzApO1xuICAgIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwidGV4dFwiLCBzaXplOiBcInNtYWxsXCIsIGNvbG9yOiBcInByaW1hcnlcIiwgY2xhc3NOYW1lOiBcInctZnVsbFwiLCBkaXNhYmxlZCwgc3RhcnRJY29uOiAvKiBAX19QVVJFX18gKi8ganN4KEFkZEljb24sIHt9KSwgb25DbGljazogKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldFZhbHVlKHtcbiAgICAgICAgLi4udmFsdWUgPz8ge30sXG4gICAgICAgIFwiXCI6IG51bGxcbiAgICAgIH0pO1xuICAgICAgc2V0SW50ZXJuYWxTdGF0ZShbLi4uaW50ZXJuYWxTdGF0ZSwgW2dldFJhbmRvbUlkKCksIHtcbiAgICAgICAga2V5OiBcIlwiLFxuICAgICAgICBkYXRhVHlwZTogXCJzdHJpbmdcIlxuICAgICAgfV1dKTtcbiAgICB9LCBjaGlsZHJlbjogZmllbGROYW1lID8gYEFkZCB0byAke2ZpZWxkTmFtZX1gIDogXCJBZGRcIiB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gTWFwS2V5VmFsdWVSb3codDApIHtcbiAgY29uc3QgJCA9IGMoNjMpO1xuICBjb25zdCB7XG4gICAgcm93SWQsXG4gICAgZmllbGRLZXksXG4gICAgdmFsdWUsXG4gICAgb25GaWVsZEtleUNoYW5nZSxcbiAgICBvbkRlbGV0ZUNsaWNrLFxuICAgIHNldFZhbHVlLFxuICAgIGVudHJ5VmFsdWUsXG4gICAgZGF0YVR5cGUsXG4gICAgdXBkYXRlRGF0YVR5cGUsXG4gICAgZGlzYWJsZWRcbiAgfSA9IHQwO1xuICBjb25zdCB7XG4gICAgbG9jYWxlXG4gIH0gPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBkaXNhYmxlZCB8fCAkWzFdICE9PSBsb2NhbGUgfHwgJFsyXSAhPT0gcm93SWQgfHwgJFszXSAhPT0gc2V0VmFsdWUgfHwgJFs0XSAhPT0gdmFsdWUpIHtcbiAgICB0MSA9IGZ1bmN0aW9uIGJ1aWxkSW5wdXQyKGVudHJ5VmFsdWVfMCwgZmllbGRLZXlfMCwgZGF0YVR5cGVfMCkge1xuICAgICAgaWYgKGRhdGFUeXBlXzAgPT09IFwic3RyaW5nXCIgfHwgZGF0YVR5cGVfMCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChUZXh0RmllbGQsIHsgcGxhY2Vob2xkZXI6IFwidmFsdWVcIiwgdmFsdWU6IGVudHJ5VmFsdWVfMCwgdHlwZTogZGF0YVR5cGVfMCA9PT0gXCJudW1iZXJcIiA/IFwibnVtYmVyXCIgOiBcInRleHRcIiwgc2l6ZTogXCJtZWRpdW1cIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFmaWVsZEtleV8wLCBvbkNoYW5nZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGFUeXBlXzAgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlID8gcGFyc2VGbG9hdChldmVudC50YXJnZXQudmFsdWUpIDogdm9pZCAwO1xuICAgICAgICAgICAgaWYgKG51bWJlclZhbHVlICYmIGlzTmFOKG51bWJlclZhbHVlKSkge1xuICAgICAgICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgW2ZpZWxkS2V5XzBdOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKG51bWJlclZhbHVlICE9PSB2b2lkIDAgJiYgbnVtYmVyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogbnVtYmVyVmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFZhbHVlKHtcbiAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gfSwgZGF0YVR5cGVfMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGF0YVR5cGVfMCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChEYXRlVGltZUZpZWxkLCB7IHZhbHVlOiBlbnRyeVZhbHVlXzAsIHNpemU6IFwibWVkaXVtXCIsIGxvY2FsZSwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFmaWVsZEtleV8wLCBvbkNoYW5nZTogKGRhdGUpID0+IHtcbiAgICAgICAgICAgIHNldFZhbHVlKHtcbiAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogZGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZGF0YVR5cGVfMCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEJvb2xlYW5Td2l0Y2hXaXRoTGFiZWwsIHsgdmFsdWU6IGVudHJ5VmFsdWVfMCwgc2l6ZTogXCJtZWRpdW1cIiwgcG9zaXRpb246IFwic3RhcnRcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFmaWVsZEtleV8wLCBvblZhbHVlQ2hhbmdlOiAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgc2V0VmFsdWUoe1xuICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogbmV3VmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZGF0YVR5cGVfMCA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZGVmYXVsdEJvcmRlck1peGluLCBcIm1sLTIgcGwtMiBib3JkZXItbCBib3JkZXItc29saWRcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5Q29udGFpbmVyLCB7IHZhbHVlOiBlbnRyeVZhbHVlXzAsIG5ld0RlZmF1bHRFbnRyeTogXCJcIiwgZHJvcHBhYmxlSWQ6IHJvd0lkLnRvU3RyaW5nKCksIGFkZExhYmVsOiBmaWVsZEtleV8wID8gYEFkZCB0byAke2ZpZWxkS2V5XzB9YCA6IFwiQWRkXCIsIHNpemU6IFwic21hbGxcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFmaWVsZEtleV8wLCBpbmNsdWRlQWRkQnV0dG9uOiB0cnVlLCBvblZhbHVlQ2hhbmdlOiAobmV3VmFsdWVfMCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgW2ZpZWxkS2V5XzBdOiBuZXdWYWx1ZV8wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIGJ1aWxkRW50cnk6ICh0MjMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgIGludGVybmFsSWRcbiAgICAgICAgICAgICAgICB9ID0gdDIzO1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5S2V5VmFsdWVSb3csIHsgaW5kZXgsIGlkOiBpbnRlcm5hbElkLCB2YWx1ZTogZW50cnlWYWx1ZV8wW2luZGV4XSwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8ICFmaWVsZEtleV8wLCBzZXRWYWx1ZTogKG5ld1ZhbHVlXzEpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FycmF5VmFsdWUgPSBbLi4uZW50cnlWYWx1ZV8wXTtcbiAgICAgICAgICAgICAgICAgIG5ld0FycmF5VmFsdWVbaW5kZXhdID0gbmV3VmFsdWVfMTtcbiAgICAgICAgICAgICAgICAgIHNldFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFtmaWVsZEtleV8wXTogbmV3QXJyYXlWYWx1ZVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgfSB9KSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcIm1hcFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwibWwtMiBwbC0yIGJvcmRlci1sIGJvcmRlci1zb2xpZFwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goTWFwRWRpdFZpZXcsIHsgdmFsdWU6IGVudHJ5VmFsdWVfMCwgZmllbGROYW1lOiBmaWVsZEtleV8wLCBzZXRWYWx1ZTogKHVwZGF0ZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgW2ZpZWxkS2V5XzBdOiB1cGRhdGVkVmFsdWVcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gfSkgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY2hpbGRyZW46IGBEYXRhIHR5cGUgJHtkYXRhVHlwZV8wfSBub3Qgc3VwcG9ydGVkIHlldGAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgICRbMF0gPSBkaXNhYmxlZDtcbiAgICAkWzFdID0gbG9jYWxlO1xuICAgICRbMl0gPSByb3dJZDtcbiAgICAkWzNdID0gc2V0VmFsdWU7XG4gICAgJFs0XSA9IHZhbHVlO1xuICAgICRbNV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNV07XG4gIH1cbiAgY29uc3QgYnVpbGRJbnB1dCA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzZdICE9PSByb3dJZCB8fCAkWzddICE9PSB1cGRhdGVEYXRhVHlwZSkge1xuICAgIHQyID0gZnVuY3Rpb24gZG9VcGRhdGVEYXRhVHlwZTIoZGF0YVR5cGVfMSkge1xuICAgICAgdXBkYXRlRGF0YVR5cGUocm93SWQsIGRhdGFUeXBlXzEpO1xuICAgIH07XG4gICAgJFs2XSA9IHJvd0lkO1xuICAgICRbN10gPSB1cGRhdGVEYXRhVHlwZTtcbiAgICAkWzhdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzhdO1xuICB9XG4gIGNvbnN0IGRvVXBkYXRlRGF0YVR5cGUgPSB0MjtcbiAgbGV0IHQzO1xuICBpZiAoJFs5XSAhPT0gcm93SWQpIHtcbiAgICB0MyA9IHJvd0lkLnRvU3RyaW5nKCk7XG4gICAgJFs5XSA9IHJvd0lkO1xuICAgICRbMTBdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzEwXTtcbiAgfVxuICBjb25zdCB0NCA9IGRpc2FibGVkIHx8IGVudHJ5VmFsdWUgIT09IHZvaWQgMCAmJiBlbnRyeVZhbHVlICE9PSBudWxsICYmIGVudHJ5VmFsdWUgIT09IFwiXCI7XG4gIGxldCB0NTtcbiAgaWYgKCRbMTFdICE9PSBvbkZpZWxkS2V5Q2hhbmdlKSB7XG4gICAgdDUgPSAoZXZlbnRfMCkgPT4ge1xuICAgICAgb25GaWVsZEtleUNoYW5nZShldmVudF8wLnRhcmdldC52YWx1ZSk7XG4gICAgfTtcbiAgICAkWzExXSA9IG9uRmllbGRLZXlDaGFuZ2U7XG4gICAgJFsxMl0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTJdO1xuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbMTNdICE9PSBmaWVsZEtleSB8fCAkWzE0XSAhPT0gdDQgfHwgJFsxNV0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctWzMwMHB4XSBtYXgtdy1bMzAlXVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0RmllbGQsIHsgdmFsdWU6IGZpZWxkS2V5LCBwbGFjZWhvbGRlcjogXCJrZXlcIiwgZGlzYWJsZWQ6IHQ0LCBzaXplOiBcIm1lZGl1bVwiLCBvbkNoYW5nZTogdDUgfSkgfSk7XG4gICAgJFsxM10gPSBmaWVsZEtleTtcbiAgICAkWzE0XSA9IHQ0O1xuICAgICRbMTVdID0gdDU7XG4gICAgJFsxNl0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTZdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTddICE9PSBidWlsZElucHV0IHx8ICRbMThdICE9PSBkYXRhVHlwZSB8fCAkWzE5XSAhPT0gZW50cnlWYWx1ZSB8fCAkWzIwXSAhPT0gZmllbGRLZXkpIHtcbiAgICB0NyA9IGRhdGFUeXBlICE9PSBcIm1hcFwiICYmIGRhdGFUeXBlICE9PSBcImFycmF5XCIgJiYgYnVpbGRJbnB1dChlbnRyeVZhbHVlLCBmaWVsZEtleSwgZGF0YVR5cGUpO1xuICAgICRbMTddID0gYnVpbGRJbnB1dDtcbiAgICAkWzE4XSA9IGRhdGFUeXBlO1xuICAgICRbMTldID0gZW50cnlWYWx1ZTtcbiAgICAkWzIwXSA9IGZpZWxkS2V5O1xuICAgICRbMjFdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzIxXTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzIyXSAhPT0gdDcpIHtcbiAgICB0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93XCIsIGNoaWxkcmVuOiB0NyB9KTtcbiAgICAkWzIyXSA9IHQ3O1xuICAgICRbMjNdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzIzXTtcbiAgfVxuICBsZXQgdDk7XG4gIGlmICgkWzI0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBzaXplOiBcInNtYWxsZXN0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEFycm93RHJvcERvd25JY29uLCB7IHNpemU6IFwic21hbGxcIiB9KSB9KTtcbiAgICAkWzI0XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsyNF07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMjVdICE9PSBkb1VwZGF0ZURhdGFUeXBlKSB7XG4gICAgdDEwID0gLyogQF9fUFVSRV9fICovIGpzeChNZW51SXRlbSwgeyBkZW5zZTogdHJ1ZSwgb25DbGljazogKCkgPT4gZG9VcGRhdGVEYXRhVHlwZShcInN0cmluZ1wiKSwgY2hpbGRyZW46IFwic3RyaW5nXCIgfSk7XG4gICAgJFsyNV0gPSBkb1VwZGF0ZURhdGFUeXBlO1xuICAgICRbMjZdID0gdDEwO1xuICB9IGVsc2Uge1xuICAgIHQxMCA9ICRbMjZdO1xuICB9XG4gIGxldCB0MTE7XG4gIGlmICgkWzI3XSAhPT0gZG9VcGRhdGVEYXRhVHlwZSkge1xuICAgIHQxMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUl0ZW0sIHsgZGVuc2U6IHRydWUsIG9uQ2xpY2s6ICgpID0+IGRvVXBkYXRlRGF0YVR5cGUoXCJudW1iZXJcIiksIGNoaWxkcmVuOiBcIm51bWJlclwiIH0pO1xuICAgICRbMjddID0gZG9VcGRhdGVEYXRhVHlwZTtcbiAgICAkWzI4XSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzI4XTtcbiAgfVxuICBsZXQgdDEyO1xuICBpZiAoJFsyOV0gIT09IGRvVXBkYXRlRGF0YVR5cGUpIHtcbiAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiBkb1VwZGF0ZURhdGFUeXBlKFwiYm9vbGVhblwiKSwgY2hpbGRyZW46IFwiYm9vbGVhblwiIH0pO1xuICAgICRbMjldID0gZG9VcGRhdGVEYXRhVHlwZTtcbiAgICAkWzMwXSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzMwXTtcbiAgfVxuICBsZXQgdDEzO1xuICBpZiAoJFszMV0gIT09IGRvVXBkYXRlRGF0YVR5cGUpIHtcbiAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiBkb1VwZGF0ZURhdGFUeXBlKFwiZGF0ZVwiKSwgY2hpbGRyZW46IFwiZGF0ZVwiIH0pO1xuICAgICRbMzFdID0gZG9VcGRhdGVEYXRhVHlwZTtcbiAgICAkWzMyXSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzMyXTtcbiAgfVxuICBsZXQgdDE0O1xuICBpZiAoJFszM10gIT09IGRvVXBkYXRlRGF0YVR5cGUpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiBkb1VwZGF0ZURhdGFUeXBlKFwibWFwXCIpLCBjaGlsZHJlbjogXCJtYXBcIiB9KTtcbiAgICAkWzMzXSA9IGRvVXBkYXRlRGF0YVR5cGU7XG4gICAgJFszNF0gPSB0MTQ7XG4gIH0gZWxzZSB7XG4gICAgdDE0ID0gJFszNF07XG4gIH1cbiAgbGV0IHQxNTtcbiAgaWYgKCRbMzVdICE9PSBkb1VwZGF0ZURhdGFUeXBlKSB7XG4gICAgdDE1ID0gLyogQF9fUFVSRV9fICovIGpzeChNZW51SXRlbSwgeyBkZW5zZTogdHJ1ZSwgb25DbGljazogKCkgPT4gZG9VcGRhdGVEYXRhVHlwZShcImFycmF5XCIpLCBjaGlsZHJlbjogXCJhcnJheVwiIH0pO1xuICAgICRbMzVdID0gZG9VcGRhdGVEYXRhVHlwZTtcbiAgICAkWzM2XSA9IHQxNTtcbiAgfSBlbHNlIHtcbiAgICB0MTUgPSAkWzM2XTtcbiAgfVxuICBsZXQgdDE2O1xuICBpZiAoJFszN10gIT09IHQxMCB8fCAkWzM4XSAhPT0gdDExIHx8ICRbMzldICE9PSB0MTIgfHwgJFs0MF0gIT09IHQxMyB8fCAkWzQxXSAhPT0gdDE0IHx8ICRbNDJdICE9PSB0MTUpIHtcbiAgICB0MTYgPSAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51LCB7IHRyaWdnZXI6IHQ5LCBjaGlsZHJlbjogW1xuICAgICAgdDEwLFxuICAgICAgdDExLFxuICAgICAgdDEyLFxuICAgICAgdDEzLFxuICAgICAgdDE0LFxuICAgICAgdDE1XG4gICAgXSB9KTtcbiAgICAkWzM3XSA9IHQxMDtcbiAgICAkWzM4XSA9IHQxMTtcbiAgICAkWzM5XSA9IHQxMjtcbiAgICAkWzQwXSA9IHQxMztcbiAgICAkWzQxXSA9IHQxNDtcbiAgICAkWzQyXSA9IHQxNTtcbiAgICAkWzQzXSA9IHQxNjtcbiAgfSBlbHNlIHtcbiAgICB0MTYgPSAkWzQzXTtcbiAgfVxuICBsZXQgdDE3O1xuICBpZiAoJFs0NF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDE3ID0gLyogQF9fUFVSRV9fICovIGpzeChSZW1vdmVJY29uLCB7IHNpemU6IFwic21hbGxlc3RcIiB9KTtcbiAgICAkWzQ0XSA9IHQxNztcbiAgfSBlbHNlIHtcbiAgICB0MTcgPSAkWzQ0XTtcbiAgfVxuICBsZXQgdDE4O1xuICBpZiAoJFs0NV0gIT09IG9uRGVsZXRlQ2xpY2spIHtcbiAgICB0MTggPSAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IFwiZGVsZXRlXCIsIHNpemU6IFwic21hbGxlc3RcIiwgb25DbGljazogb25EZWxldGVDbGljaywgY2hpbGRyZW46IHQxNyB9KTtcbiAgICAkWzQ1XSA9IG9uRGVsZXRlQ2xpY2s7XG4gICAgJFs0Nl0gPSB0MTg7XG4gIH0gZWxzZSB7XG4gICAgdDE4ID0gJFs0Nl07XG4gIH1cbiAgbGV0IHQxOTtcbiAgaWYgKCRbNDddICE9PSB0MTYgfHwgJFs0OF0gIT09IHQxOCkge1xuICAgIHQxOSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2xcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxNixcbiAgICAgIHQxOFxuICAgIF0gfSk7XG4gICAgJFs0N10gPSB0MTY7XG4gICAgJFs0OF0gPSB0MTg7XG4gICAgJFs0OV0gPSB0MTk7XG4gIH0gZWxzZSB7XG4gICAgdDE5ID0gJFs0OV07XG4gIH1cbiAgbGV0IHQyMDtcbiAgaWYgKCRbNTBdICE9PSB0MTkgfHwgJFs1MV0gIT09IHQzIHx8ICRbNTJdICE9PSB0NiB8fCAkWzUzXSAhPT0gdDgpIHtcbiAgICB0MjAgPSAvKiBAX19QVVJFX18gKi8ganN4cyhUeXBvZ3JhcGh5LCB7IGNvbXBvbmVudDogXCJkaXZcIiwgY2xhc3NOYW1lOiBcImZvbnQtbW9ubyBmbGV4IGZsZXgtcm93IGdhcC0xXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0NixcbiAgICAgIHQ4LFxuICAgICAgdDE5XG4gICAgXSB9LCB0Myk7XG4gICAgJFs1MF0gPSB0MTk7XG4gICAgJFs1MV0gPSB0MztcbiAgICAkWzUyXSA9IHQ2O1xuICAgICRbNTNdID0gdDg7XG4gICAgJFs1NF0gPSB0MjA7XG4gIH0gZWxzZSB7XG4gICAgdDIwID0gJFs1NF07XG4gIH1cbiAgbGV0IHQyMTtcbiAgaWYgKCRbNTVdICE9PSBidWlsZElucHV0IHx8ICRbNTZdICE9PSBkYXRhVHlwZSB8fCAkWzU3XSAhPT0gZW50cnlWYWx1ZSB8fCAkWzU4XSAhPT0gZmllbGRLZXkpIHtcbiAgICB0MjEgPSAoZGF0YVR5cGUgPT09IFwibWFwXCIgfHwgZGF0YVR5cGUgPT09IFwiYXJyYXlcIikgJiYgYnVpbGRJbnB1dChlbnRyeVZhbHVlLCBmaWVsZEtleSwgZGF0YVR5cGUpO1xuICAgICRbNTVdID0gYnVpbGRJbnB1dDtcbiAgICAkWzU2XSA9IGRhdGFUeXBlO1xuICAgICRbNTddID0gZW50cnlWYWx1ZTtcbiAgICAkWzU4XSA9IGZpZWxkS2V5O1xuICAgICRbNTldID0gdDIxO1xuICB9IGVsc2Uge1xuICAgIHQyMSA9ICRbNTldO1xuICB9XG4gIGxldCB0MjI7XG4gIGlmICgkWzYwXSAhPT0gdDIwIHx8ICRbNjFdICE9PSB0MjEpIHtcbiAgICB0MjIgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDIwLFxuICAgICAgdDIxXG4gICAgXSB9KTtcbiAgICAkWzYwXSA9IHQyMDtcbiAgICAkWzYxXSA9IHQyMTtcbiAgICAkWzYyXSA9IHQyMjtcbiAgfSBlbHNlIHtcbiAgICB0MjIgPSAkWzYyXTtcbiAgfVxuICByZXR1cm4gdDIyO1xufVxuZnVuY3Rpb24gQXJyYXlLZXlWYWx1ZVJvdyh0MCkge1xuICBjb25zdCAkID0gYygzMCk7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZVxuICB9ID0gdDA7XG4gIGNvbnN0IHtcbiAgICBsb2NhbGVcbiAgfSA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IHZhbHVlKSB7XG4gICAgdDEgPSBnZXREYXRhVHlwZSh2YWx1ZSkgPz8gXCJzdHJpbmdcIjtcbiAgICAkWzBdID0gdmFsdWU7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBbc2VsZWN0ZWREYXRhVHlwZSwgc2V0U2VsZWN0ZWREYXRhVHlwZV0gPSB1c2VTdGF0ZSh0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDIgPSBmdW5jdGlvbiBkb1VwZGF0ZURhdGFUeXBlMihkYXRhVHlwZSkge1xuICAgICAgc2V0U2VsZWN0ZWREYXRhVHlwZShkYXRhVHlwZSk7XG4gICAgfTtcbiAgICAkWzJdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzJdO1xuICB9XG4gIGNvbnN0IGRvVXBkYXRlRGF0YVR5cGUgPSB0MjtcbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gbG9jYWxlIHx8ICRbNF0gIT09IHNldFZhbHVlKSB7XG4gICAgdDMgPSBmdW5jdGlvbiBidWlsZElucHV0MihlbnRyeVZhbHVlLCBkYXRhVHlwZV8wKSB7XG4gICAgICBpZiAoZGF0YVR5cGVfMCA9PT0gXCJzdHJpbmdcIiB8fCBkYXRhVHlwZV8wID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFRleHRGaWVsZCwgeyB2YWx1ZTogZW50cnlWYWx1ZSwgdHlwZTogZGF0YVR5cGVfMCA9PT0gXCJudW1iZXJcIiA/IFwibnVtYmVyXCIgOiBcInRleHRcIiwgc2l6ZTogXCJtZWRpdW1cIiwgb25DaGFuZ2U6IChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjb25zdCBudW1iZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZSA/IHBhcnNlRmxvYXQoZXZlbnQudGFyZ2V0LnZhbHVlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChudW1iZXJWYWx1ZSAmJiBpc05hTihudW1iZXJWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgc2V0VmFsdWUobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAobnVtYmVyVmFsdWUgIT09IHZvaWQgMCAmJiBudW1iZXJWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldFZhbHVlKG51bWJlclZhbHVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcImRhdGVcIikge1xuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERhdGVUaW1lRmllbGQsIHsgdmFsdWU6IGVudHJ5VmFsdWUsIHNpemU6IFwibWVkaXVtXCIsIGxvY2FsZSwgb25DaGFuZ2U6IChkYXRlKSA9PiB7XG4gICAgICAgICAgICBzZXRWYWx1ZShkYXRlKTtcbiAgICAgICAgICB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQm9vbGVhblN3aXRjaFdpdGhMYWJlbCwgeyB2YWx1ZTogZW50cnlWYWx1ZSwgc2l6ZTogXCJzbWFsbFwiLCBwb3NpdGlvbjogXCJzdGFydFwiLCBvblZhbHVlQ2hhbmdlOiAodikgPT4ge1xuICAgICAgICAgICAgICBzZXRWYWx1ZSh2KTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY2hpbGRyZW46IFwiQXJyYXlzIG9mIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZC5cIiB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhVHlwZV8wID09PSBcIm1hcFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwibWwtMiBwbC0yIGJvcmRlci1sIGJvcmRlci1zb2xpZFwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goTWFwRWRpdFZpZXcsIHsgdmFsdWU6IGVudHJ5VmFsdWUsIHNldFZhbHVlOiAodXBkYXRlZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh1cGRhdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gfSkgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY2hpbGRyZW46IGBEYXRhIHR5cGUgJHtkYXRhVHlwZV8wfSBub3Qgc3VwcG9ydGVkIHlldGAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgICRbM10gPSBsb2NhbGU7XG4gICAgJFs0XSA9IHNldFZhbHVlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgY29uc3QgYnVpbGRJbnB1dCA9IHQzO1xuICBsZXQgdDQ7XG4gIGlmICgkWzZdICE9PSBpZCkge1xuICAgIHQ0ID0gaWQudG9TdHJpbmcoKTtcbiAgICAkWzZdID0gaWQ7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzhdICE9PSBidWlsZElucHV0IHx8ICRbOV0gIT09IHNlbGVjdGVkRGF0YVR5cGUgfHwgJFsxMF0gIT09IHZhbHVlKSB7XG4gICAgdDUgPSBzZWxlY3RlZERhdGFUeXBlICE9PSBcIm1hcFwiICYmIGJ1aWxkSW5wdXQodmFsdWUsIHNlbGVjdGVkRGF0YVR5cGUpO1xuICAgICRbOF0gPSBidWlsZElucHV0O1xuICAgICRbOV0gPSBzZWxlY3RlZERhdGFUeXBlO1xuICAgICRbMTBdID0gdmFsdWU7XG4gICAgJFsxMV0gPSB0NTtcbiAgfSBlbHNlIHtcbiAgICB0NSA9ICRbMTFdO1xuICB9XG4gIGxldCB0NjtcbiAgaWYgKCRbMTJdICE9PSB0NSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3dcIiwgY2hpbGRyZW46IHQ1IH0pO1xuICAgICRbMTJdID0gdDU7XG4gICAgJFsxM10gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTNdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTRdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IHNpemU6IFwic21hbGxcIiwgY2xhc3NOYW1lOiBcImgtNyB3LTdcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQXJyb3dEcm9wRG93bkljb24sIHt9KSB9KTtcbiAgICAkWzE0XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxNF07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxNV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiBkb1VwZGF0ZURhdGFUeXBlKFwic3RyaW5nXCIpLCBjaGlsZHJlbjogXCJzdHJpbmdcIiB9KTtcbiAgICAkWzE1XSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxNV07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsxNl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IGRlbnNlOiB0cnVlLCBvbkNsaWNrOiAoKSA9PiBkb1VwZGF0ZURhdGFUeXBlKFwibnVtYmVyXCIpLCBjaGlsZHJlbjogXCJudW1iZXJcIiB9KTtcbiAgICAkWzE2XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsxNl07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMTddID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUl0ZW0sIHsgZGVuc2U6IHRydWUsIG9uQ2xpY2s6ICgpID0+IGRvVXBkYXRlRGF0YVR5cGUoXCJib29sZWFuXCIpLCBjaGlsZHJlbjogXCJib29sZWFuXCIgfSk7XG4gICAgJFsxN10gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsxN107XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMThdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQxMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUl0ZW0sIHsgZGVuc2U6IHRydWUsIG9uQ2xpY2s6ICgpID0+IGRvVXBkYXRlRGF0YVR5cGUoXCJtYXBcIiksIGNoaWxkcmVuOiBcIm1hcFwiIH0pO1xuICAgICRbMThdID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMThdO1xuICB9XG4gIGxldCB0MTI7XG4gIGlmICgkWzE5XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4cyhNZW51LCB7IHRyaWdnZXI6IHQ3LCBjaGlsZHJlbjogW1xuICAgICAgdDgsXG4gICAgICB0OSxcbiAgICAgIHQxMCxcbiAgICAgIHQxMSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUl0ZW0sIHsgZGVuc2U6IHRydWUsIG9uQ2xpY2s6ICgpID0+IGRvVXBkYXRlRGF0YVR5cGUoXCJkYXRlXCIpLCBjaGlsZHJlbjogXCJkYXRlXCIgfSlcbiAgICBdIH0pO1xuICAgICRbMTldID0gdDEyO1xuICB9IGVsc2Uge1xuICAgIHQxMiA9ICRbMTldO1xuICB9XG4gIGxldCB0MTM7XG4gIGlmICgkWzIwXSAhPT0gdDQgfHwgJFsyMV0gIT09IHQ2KSB7XG4gICAgdDEzID0gLyogQF9fUFVSRV9fICovIGpzeHMoVHlwb2dyYXBoeSwgeyBjb21wb25lbnQ6IFwiZGl2XCIsIGNsYXNzTmFtZTogXCJmb250LW1vbm8gZmxleCBtaW4taC0xMiBmbGV4LXJvdyBnYXAtMSBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHQ2LFxuICAgICAgdDEyXG4gICAgXSB9LCB0NCk7XG4gICAgJFsyMF0gPSB0NDtcbiAgICAkWzIxXSA9IHQ2O1xuICAgICRbMjJdID0gdDEzO1xuICB9IGVsc2Uge1xuICAgIHQxMyA9ICRbMjJdO1xuICB9XG4gIGxldCB0MTQ7XG4gIGlmICgkWzIzXSAhPT0gYnVpbGRJbnB1dCB8fCAkWzI0XSAhPT0gc2VsZWN0ZWREYXRhVHlwZSB8fCAkWzI1XSAhPT0gdmFsdWUpIHtcbiAgICB0MTQgPSBzZWxlY3RlZERhdGFUeXBlID09PSBcIm1hcFwiICYmIGJ1aWxkSW5wdXQodmFsdWUsIHNlbGVjdGVkRGF0YVR5cGUpO1xuICAgICRbMjNdID0gYnVpbGRJbnB1dDtcbiAgICAkWzI0XSA9IHNlbGVjdGVkRGF0YVR5cGU7XG4gICAgJFsyNV0gPSB2YWx1ZTtcbiAgICAkWzI2XSA9IHQxNDtcbiAgfSBlbHNlIHtcbiAgICB0MTQgPSAkWzI2XTtcbiAgfVxuICBsZXQgdDE1O1xuICBpZiAoJFsyN10gIT09IHQxMyB8fCAkWzI4XSAhPT0gdDE0KSB7XG4gICAgdDE1ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQxMyxcbiAgICAgIHQxNFxuICAgIF0gfSk7XG4gICAgJFsyN10gPSB0MTM7XG4gICAgJFsyOF0gPSB0MTQ7XG4gICAgJFsyOV0gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFsyOV07XG4gIH1cbiAgcmV0dXJuIHQxNTtcbn1cbmZ1bmN0aW9uIGdldFJhbmRvbUlkKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpO1xufVxuZnVuY3Rpb24gZ2V0RGF0YVR5cGUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcInN0cmluZ1wiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBcIm51bWJlclwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gXCJhcnJheVwiO1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBcImRhdGVcIjtcbiAgfSBlbHNlIGlmICh2YWx1ZT8uaXNFbnRpdHlSZWZlcmVuY2UgJiYgdmFsdWU/LmlzRW50aXR5UmVmZXJlbmNlKCkpIHtcbiAgICByZXR1cm4gXCJyZWZlcmVuY2VcIjtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEdlb1BvaW50KSB7XG4gICAgcmV0dXJuIFwiZ2VvcG9pbnRcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gXCJtYXBcIjtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gUmVwZWF0RmllbGRCaW5kaW5nKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDcwKTtcbiAgbGV0IGNvbnRleHQ7XG4gIGxldCBkaXNhYmxlZDtcbiAgbGV0IGVycm9yO1xuICBsZXQgaW5jbHVkZURlc2NyaXB0aW9uO1xuICBsZXQgaXNTdWJtaXR0aW5nO1xuICBsZXQgbWluaW1hbGlzdFZpZXc7XG4gIGxldCBwcm9wZXJ0eTtcbiAgbGV0IHByb3BlcnR5S2V5O1xuICBsZXQgcmVzb2x2ZWRQcm9wZXJ0aWVzO1xuICBsZXQgc2V0RmllbGRWYWx1ZTtcbiAgbGV0IHNldFZhbHVlO1xuICBsZXQgc2hvd0Vycm9yO1xuICBsZXQgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDtcbiAgbGV0IHZhbHVlO1xuICBpZiAoJFswXSAhPT0gdDApIHtcbiAgICBjb25zdCB7XG4gICAgICBwcm9wZXJ0eUtleTogdDExMCxcbiAgICAgIHZhbHVlOiB0MjIsXG4gICAgICBlcnJvcjogdDMyLFxuICAgICAgc2hvd0Vycm9yOiB0NDIsXG4gICAgICBpc1N1Ym1pdHRpbmc6IHQ1MixcbiAgICAgIHNldFZhbHVlOiB0NjIsXG4gICAgICBzZXRGaWVsZFZhbHVlOiB0NzIsXG4gICAgICBtaW5pbWFsaXN0VmlldzogbWluaW1hbGlzdFZpZXdQcm9wLFxuICAgICAgcHJvcGVydHk6IHQ4MixcbiAgICAgIGluY2x1ZGVEZXNjcmlwdGlvbjogdDkyLFxuICAgICAgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDogdDEwMixcbiAgICAgIGNvbnRleHQ6IHQxMTIsXG4gICAgICBkaXNhYmxlZDogdDEyMlxuICAgIH0gPSB0MDtcbiAgICBwcm9wZXJ0eUtleSA9IHQxMTA7XG4gICAgdmFsdWUgPSB0MjI7XG4gICAgZXJyb3IgPSB0MzI7XG4gICAgc2hvd0Vycm9yID0gdDQyO1xuICAgIGlzU3VibWl0dGluZyA9IHQ1MjtcbiAgICBzZXRWYWx1ZSA9IHQ2MjtcbiAgICBzZXRGaWVsZFZhbHVlID0gdDcyO1xuICAgIHByb3BlcnR5ID0gdDgyO1xuICAgIGluY2x1ZGVEZXNjcmlwdGlvbiA9IHQ5MjtcbiAgICB1bmRlcmx5aW5nVmFsdWVIYXNDaGFuZ2VkID0gdDEwMjtcbiAgICBjb250ZXh0ID0gdDExMjtcbiAgICBkaXNhYmxlZCA9IHQxMjI7XG4gICAgbWluaW1hbGlzdFZpZXcgPSBtaW5pbWFsaXN0Vmlld1Byb3AgfHwgcHJvcGVydHkubWluaW1hbGlzdFZpZXc7XG4gICAgaWYgKCFwcm9wZXJ0eS5vZikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJSZXBlYXRGaWVsZEJpbmRpbmcgbWlzY29uZmlndXJhdGlvbi4gUHJvcGVydHkgYG9mYCBub3Qgc2V0XCIpO1xuICAgIH1cbiAgICByZXNvbHZlZFByb3BlcnRpZXMgPSBcInJlc29sdmVkUHJvcGVydGllc1wiIGluIHByb3BlcnR5ID8gcHJvcGVydHkucmVzb2x2ZWRQcm9wZXJ0aWVzIDogdm9pZCAwO1xuICAgIGlmICghcmVzb2x2ZWRQcm9wZXJ0aWVzKSB7XG4gICAgICByZXNvbHZlZFByb3BlcnRpZXMgPSBnZXRBcnJheVJlc29sdmVkUHJvcGVydGllcyh7XG4gICAgICAgIHByb3BlcnR5VmFsdWU6IHZhbHVlLFxuICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgJFswXSA9IHQwO1xuICAgICRbMV0gPSBjb250ZXh0O1xuICAgICRbMl0gPSBkaXNhYmxlZDtcbiAgICAkWzNdID0gZXJyb3I7XG4gICAgJFs0XSA9IGluY2x1ZGVEZXNjcmlwdGlvbjtcbiAgICAkWzVdID0gaXNTdWJtaXR0aW5nO1xuICAgICRbNl0gPSBtaW5pbWFsaXN0VmlldztcbiAgICAkWzddID0gcHJvcGVydHk7XG4gICAgJFs4XSA9IHByb3BlcnR5S2V5O1xuICAgICRbOV0gPSByZXNvbHZlZFByb3BlcnRpZXM7XG4gICAgJFsxMF0gPSBzZXRGaWVsZFZhbHVlO1xuICAgICRbMTFdID0gc2V0VmFsdWU7XG4gICAgJFsxMl0gPSBzaG93RXJyb3I7XG4gICAgJFsxM10gPSB1bmRlcmx5aW5nVmFsdWVIYXNDaGFuZ2VkO1xuICAgICRbMTRdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dCA9ICRbMV07XG4gICAgZGlzYWJsZWQgPSAkWzJdO1xuICAgIGVycm9yID0gJFszXTtcbiAgICBpbmNsdWRlRGVzY3JpcHRpb24gPSAkWzRdO1xuICAgIGlzU3VibWl0dGluZyA9ICRbNV07XG4gICAgbWluaW1hbGlzdFZpZXcgPSAkWzZdO1xuICAgIHByb3BlcnR5ID0gJFs3XTtcbiAgICBwcm9wZXJ0eUtleSA9ICRbOF07XG4gICAgcmVzb2x2ZWRQcm9wZXJ0aWVzID0gJFs5XTtcbiAgICBzZXRGaWVsZFZhbHVlID0gJFsxMF07XG4gICAgc2V0VmFsdWUgPSAkWzExXTtcbiAgICBzaG93RXJyb3IgPSAkWzEyXTtcbiAgICB1bmRlcmx5aW5nVmFsdWVIYXNDaGFuZ2VkID0gJFsxM107XG4gICAgdmFsdWUgPSAkWzE0XTtcbiAgfVxuICBjb25zdCBleHBhbmRlZCA9IHByb3BlcnR5LmV4cGFuZGVkID09PSB2b2lkIDAgPyB0cnVlIDogcHJvcGVydHkuZXhwYW5kZWQ7XG4gIGNvbnN0IG9mUHJvcGVydHkgPSBwcm9wZXJ0eS5vZjtcbiAgY29uc3QgW2xhc3RBZGRlZElkLCBzZXRMYXN0QWRkZWRJZF0gPSB1c2VTdGF0ZSgpO1xuICBsZXQgdDE7XG4gIGlmICgkWzE1XSAhPT0gcHJvcGVydHkgfHwgJFsxNl0gIT09IHNldFZhbHVlIHx8ICRbMTddICE9PSB2YWx1ZSkge1xuICAgIHQxID0ge1xuICAgICAgcHJvcGVydHksXG4gICAgICB2YWx1ZSxcbiAgICAgIHNldFZhbHVlXG4gICAgfTtcbiAgICAkWzE1XSA9IHByb3BlcnR5O1xuICAgICRbMTZdID0gc2V0VmFsdWU7XG4gICAgJFsxN10gPSB2YWx1ZTtcbiAgICAkWzE4XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxOF07XG4gIH1cbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUodDEpO1xuICBsZXQgdDI7XG4gIGlmICgkWzE5XSAhPT0gY29udGV4dCB8fCAkWzIwXSAhPT0gZGlzYWJsZWQgfHwgJFsyMV0gIT09IGluY2x1ZGVEZXNjcmlwdGlvbiB8fCAkWzIyXSAhPT0gbGFzdEFkZGVkSWQgfHwgJFsyM10gIT09IG9mUHJvcGVydHkgfHwgJFsyNF0gIT09IHByb3BlcnR5S2V5IHx8ICRbMjVdICE9PSByZXNvbHZlZFByb3BlcnRpZXMgfHwgJFsyNl0gIT09IHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQpIHtcbiAgICB0MiA9ICh0MzIpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGludGVybmFsSWQsXG4gICAgICAgIHN0b3JlZFByb3BzLFxuICAgICAgICBzdG9yZVByb3BzXG4gICAgICB9ID0gdDMyO1xuICAgICAgY29uc3QgY2hpbGRQcm9wZXJ0eSA9IHJlc29sdmVkUHJvcGVydGllc1tpbmRleF0gPz8gb2ZQcm9wZXJ0eTtcbiAgICAgIGNvbnN0IGZpZWxkUHJvcHMgPSB7XG4gICAgICAgIHByb3BlcnR5S2V5OiBgJHtwcm9wZXJ0eUtleX0uJHtpbmRleH1gLFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgcHJvcGVydHk6IHN0b3JlZFByb3BzID8gbWVyZ2VEZWVwKGNoaWxkUHJvcGVydHksIHN0b3JlZFByb3BzKSA6IGNoaWxkUHJvcGVydHksXG4gICAgICAgIG9uUHJvcGVydHlDaGFuZ2U6IHN0b3JlUHJvcHMsXG4gICAgICAgIGluY2x1ZGVEZXNjcmlwdGlvbixcbiAgICAgICAgdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZCxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcGFydE9mQXJyYXk6IHRydWUsXG4gICAgICAgIG1pbmltYWxpc3RWaWV3OiBmYWxzZSxcbiAgICAgICAgYXV0b0ZvY3VzOiBpbnRlcm5hbElkID09PSBsYXN0QWRkZWRJZFxuICAgICAgfTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJvcGVydHlGaWVsZEJpbmRpbmcsIHsgLi4uZmllbGRQcm9wcywgaW5kZXggfSkgfSk7XG4gICAgfTtcbiAgICAkWzE5XSA9IGNvbnRleHQ7XG4gICAgJFsyMF0gPSBkaXNhYmxlZDtcbiAgICAkWzIxXSA9IGluY2x1ZGVEZXNjcmlwdGlvbjtcbiAgICAkWzIyXSA9IGxhc3RBZGRlZElkO1xuICAgICRbMjNdID0gb2ZQcm9wZXJ0eTtcbiAgICAkWzI0XSA9IHByb3BlcnR5S2V5O1xuICAgICRbMjVdID0gcmVzb2x2ZWRQcm9wZXJ0aWVzO1xuICAgICRbMjZdID0gdW5kZXJseWluZ1ZhbHVlSGFzQ2hhbmdlZDtcbiAgICAkWzI3XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyN107XG4gIH1cbiAgY29uc3QgYnVpbGRFbnRyeSA9IHQyO1xuICBjb25zdCB0MyA9IHByb3BlcnR5Lm5hbWUgPyBcIkFkZCBlbnRyeSB0byBcIiArIHByb3BlcnR5Lm5hbWUgOiBcIkFkZCBlbnRyeVwiO1xuICBjb25zdCB0NCA9IGlzU3VibWl0dGluZyB8fCBCb29sZWFuKHByb3BlcnR5LmRpc2FibGVkKTtcbiAgY29uc3QgdDUgPSAhcHJvcGVydHkuZGlzYWJsZWQ7XG4gIGxldCB0NjtcbiAgaWYgKCRbMjhdICE9PSBwcm9wZXJ0eS5vZikge1xuICAgIHQ2ID0gZ2V0RGVmYXVsdFZhbHVlRm9yKHByb3BlcnR5Lm9mKTtcbiAgICAkWzI4XSA9IHByb3BlcnR5Lm9mO1xuICAgICRbMjldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzI5XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzMwXSAhPT0gcHJvcGVydHlLZXkgfHwgJFszMV0gIT09IHNldEZpZWxkVmFsdWUpIHtcbiAgICB0NyA9ICh2YWx1ZV8wKSA9PiBzZXRGaWVsZFZhbHVlKHByb3BlcnR5S2V5LCB2YWx1ZV8wKTtcbiAgICAkWzMwXSA9IHByb3BlcnR5S2V5O1xuICAgICRbMzFdID0gc2V0RmllbGRWYWx1ZTtcbiAgICAkWzMyXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFszMl07XG4gIH1cbiAgY29uc3QgdDggPSBwcm9wZXJ0eS53aWR0aFBlcmNlbnRhZ2UgIT09IHZvaWQgMCA/IFwibXQtOFwiIDogdm9pZCAwO1xuICBsZXQgdDk7XG4gIGlmICgkWzMzXSAhPT0gYnVpbGRFbnRyeSB8fCAkWzM0XSAhPT0gcHJvcGVydHlLZXkgfHwgJFszNV0gIT09IHQzIHx8ICRbMzZdICE9PSB0NCB8fCAkWzM3XSAhPT0gdDUgfHwgJFszOF0gIT09IHQ2IHx8ICRbMzldICE9PSB0NyB8fCAkWzQwXSAhPT0gdDggfHwgJFs0MV0gIT09IHZhbHVlKSB7XG4gICAgdDkgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5Q29udGFpbmVyLCB7IGRyb3BwYWJsZUlkOiBwcm9wZXJ0eUtleSwgYWRkTGFiZWw6IHQzLCB2YWx1ZSwgYnVpbGRFbnRyeSwgb25JbnRlcm5hbElkQWRkZWQ6IHNldExhc3RBZGRlZElkLCBkaXNhYmxlZDogdDQsIGluY2x1ZGVBZGRCdXR0b246IHQ1LCBuZXdEZWZhdWx0RW50cnk6IHQ2LCBvblZhbHVlQ2hhbmdlOiB0NywgY2xhc3NOYW1lOiB0OCB9KTtcbiAgICAkWzMzXSA9IGJ1aWxkRW50cnk7XG4gICAgJFszNF0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzM1XSA9IHQzO1xuICAgICRbMzZdID0gdDQ7XG4gICAgJFszN10gPSB0NTtcbiAgICAkWzM4XSA9IHQ2O1xuICAgICRbMzldID0gdDc7XG4gICAgJFs0MF0gPSB0ODtcbiAgICAkWzQxXSA9IHZhbHVlO1xuICAgICRbNDJdID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzQyXTtcbiAgfVxuICBjb25zdCBhcnJheUNvbnRhaW5lciA9IHQ5O1xuICBsZXQgdDEwO1xuICBpZiAoJFs0M10gIT09IHByb3BlcnR5KSB7XG4gICAgdDEwID0gZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpO1xuICAgICRbNDNdID0gcHJvcGVydHk7XG4gICAgJFs0NF0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFs0NF07XG4gIH1cbiAgY29uc3QgdDExID0gcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQ7XG4gIGxldCB0MTI7XG4gIGlmICgkWzQ1XSAhPT0gcHJvcGVydHkubmFtZSB8fCAkWzQ2XSAhPT0gcHJvcGVydHlLZXkgfHwgJFs0N10gIT09IHQxMCB8fCAkWzQ4XSAhPT0gdDExKSB7XG4gICAgdDEyID0gLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogdDEwLCByZXF1aXJlZDogdDExLCB0aXRsZTogcHJvcGVydHkubmFtZSwgY2xhc3NOYW1lOiBcImgtOCBmbGV4IGZsZXgtZ3JvdyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrXCIgfSk7XG4gICAgJFs0NV0gPSBwcm9wZXJ0eS5uYW1lO1xuICAgICRbNDZdID0gcHJvcGVydHlLZXk7XG4gICAgJFs0N10gPSB0MTA7XG4gICAgJFs0OF0gPSB0MTE7XG4gICAgJFs0OV0gPSB0MTI7XG4gIH0gZWxzZSB7XG4gICAgdDEyID0gJFs0OV07XG4gIH1cbiAgbGV0IHQxMztcbiAgaWYgKCRbNTBdICE9PSB2YWx1ZSkge1xuICAgIHQxMyA9IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNsYXNzTmFtZTogXCJweC00XCIsIGNoaWxkcmVuOiBbXG4gICAgICBcIihcIixcbiAgICAgIHZhbHVlLmxlbmd0aCxcbiAgICAgIFwiKVwiXG4gICAgXSB9KTtcbiAgICAkWzUwXSA9IHZhbHVlO1xuICAgICRbNTFdID0gdDEzO1xuICB9IGVsc2Uge1xuICAgIHQxMyA9ICRbNTFdO1xuICB9XG4gIGxldCB0MTQ7XG4gIGlmICgkWzUyXSAhPT0gdDEyIHx8ICRbNTNdICE9PSB0MTMpIHtcbiAgICB0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDEyLFxuICAgICAgdDEzXG4gICAgXSB9KTtcbiAgICAkWzUyXSA9IHQxMjtcbiAgICAkWzUzXSA9IHQxMztcbiAgICAkWzU0XSA9IHQxNDtcbiAgfSBlbHNlIHtcbiAgICB0MTQgPSAkWzU0XTtcbiAgfVxuICBjb25zdCB0aXRsZSA9IHQxNDtcbiAgbGV0IHQxNTtcbiAgaWYgKCRbNTVdICE9PSBhcnJheUNvbnRhaW5lciB8fCAkWzU2XSAhPT0gZXhwYW5kZWQgfHwgJFs1N10gIT09IG1pbmltYWxpc3RWaWV3IHx8ICRbNThdICE9PSB0aXRsZSkge1xuICAgIHQxNSA9ICFtaW5pbWFsaXN0VmlldyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEV4cGFuZGFibGVQYW5lbCwgeyBpbml0aWFsbHlFeHBhbmRlZDogZXhwYW5kZWQsIGlubmVyQ2xhc3NOYW1lOiBcInB4LTIgbWQ6cHgtNCBwYi0yIG1kOnBiLTQgcHQtMSBtZDpwdC0yXCIsIHRpdGxlLCBjaGlsZHJlbjogYXJyYXlDb250YWluZXIgfSk7XG4gICAgJFs1NV0gPSBhcnJheUNvbnRhaW5lcjtcbiAgICAkWzU2XSA9IGV4cGFuZGVkO1xuICAgICRbNTddID0gbWluaW1hbGlzdFZpZXc7XG4gICAgJFs1OF0gPSB0aXRsZTtcbiAgICAkWzU5XSA9IHQxNTtcbiAgfSBlbHNlIHtcbiAgICB0MTUgPSAkWzU5XTtcbiAgfVxuICBjb25zdCB0MTYgPSBtaW5pbWFsaXN0VmlldyAmJiBhcnJheUNvbnRhaW5lcjtcbiAgY29uc3QgdDE3ID0gZXJyb3IgPyB0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIgPyBlcnJvciA6IFwiQSBwcm9wZXJ0eSBvZiB0aGlzIGFycmF5L3JlcGVhdCBoYXMgYW4gZXJyb3JcIiA6IHZvaWQgMDtcbiAgbGV0IHQxODtcbiAgaWYgKCRbNjBdICE9PSBkaXNhYmxlZCB8fCAkWzYxXSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbNjJdICE9PSBwcm9wZXJ0eSB8fCAkWzYzXSAhPT0gc2hvd0Vycm9yIHx8ICRbNjRdICE9PSB0MTcpIHtcbiAgICB0MTggPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3I6IHQxNywgZGlzYWJsZWQsIHByb3BlcnR5IH0pO1xuICAgICRbNjBdID0gZGlzYWJsZWQ7XG4gICAgJFs2MV0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFs2Ml0gPSBwcm9wZXJ0eTtcbiAgICAkWzYzXSA9IHNob3dFcnJvcjtcbiAgICAkWzY0XSA9IHQxNztcbiAgICAkWzY1XSA9IHQxODtcbiAgfSBlbHNlIHtcbiAgICB0MTggPSAkWzY1XTtcbiAgfVxuICBsZXQgdDE5O1xuICBpZiAoJFs2Nl0gIT09IHQxNSB8fCAkWzY3XSAhPT0gdDE2IHx8ICRbNjhdICE9PSB0MTgpIHtcbiAgICB0MTkgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDE1LFxuICAgICAgdDE2LFxuICAgICAgdDE4XG4gICAgXSB9KTtcbiAgICAkWzY2XSA9IHQxNTtcbiAgICAkWzY3XSA9IHQxNjtcbiAgICAkWzY4XSA9IHQxODtcbiAgICAkWzY5XSA9IHQxOTtcbiAgfSBlbHNlIHtcbiAgICB0MTkgPSAkWzY5XTtcbiAgfVxuICByZXR1cm4gdDE5O1xufVxuZnVuY3Rpb24gQmxvY2tGaWVsZEJpbmRpbmcoe1xuICBwcm9wZXJ0eUtleSxcbiAgdmFsdWUsXG4gIGVycm9yLFxuICBzaG93RXJyb3IsXG4gIGlzU3VibWl0dGluZyxcbiAgc2V0VmFsdWUsXG4gIHNldEZpZWxkVmFsdWUsXG4gIG1pbmltYWxpc3RWaWV3OiBtaW5pbWFsaXN0Vmlld1Byb3AsXG4gIHByb3BlcnR5LFxuICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gIHVuZGVybHlpbmdWYWx1ZUhhc0NoYW5nZWQsXG4gIGNvbnRleHQsXG4gIGRpc2FibGVkXG59KSB7XG4gIGNvbnN0IG1pbmltYWxpc3RWaWV3ID0gbWluaW1hbGlzdFZpZXdQcm9wIHx8IHByb3BlcnR5Lm1pbmltYWxpc3RWaWV3O1xuICBpZiAoIXByb3BlcnR5Lm9uZU9mKSB0aHJvdyBFcnJvcihcIkFycmF5T25lT2ZGaWVsZCBtaXNjb25maWd1cmF0aW9uLiBQcm9wZXJ0eSBgb25lT2ZgIG5vdCBzZXRcIik7XG4gIGNvbnN0IGV4cGFuZGVkID0gcHJvcGVydHkuZXhwYW5kZWQgPT09IHZvaWQgMCA/IHRydWUgOiBwcm9wZXJ0eS5leHBhbmRlZDtcbiAgdXNlQ2xlYXJSZXN0b3JlVmFsdWUoe1xuICAgIHByb3BlcnR5LFxuICAgIHZhbHVlLFxuICAgIHNldFZhbHVlXG4gIH0pO1xuICBjb25zdCBbbGFzdEFkZGVkSWQsIHNldExhc3RBZGRlZElkXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IGJ1aWxkRW50cnkgPSAoe1xuICAgIGluZGV4LFxuICAgIGludGVybmFsSWQsXG4gICAgc3RvcmVkUHJvcHMsXG4gICAgc3RvcmVQcm9wc1xuICB9KSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQmxvY2tFbnRyeSwgeyBuYW1lOiBgJHtwcm9wZXJ0eUtleX0uJHtpbmRleH1gLCBpbmRleCwgdmFsdWU6IHZhbHVlW2luZGV4XSwgdHlwZUZpZWxkOiBwcm9wZXJ0eS5vbmVPZi50eXBlRmllbGQgPz8gREVGQVVMVF9PTkVfT0ZfVFlQRSwgdmFsdWVGaWVsZDogcHJvcGVydHkub25lT2YudmFsdWVGaWVsZCA/PyBERUZBVUxUX09ORV9PRl9WQUxVRSwgcHJvcGVydGllczogcHJvcGVydHkub25lT2YucHJvcGVydGllcywgYXV0b0ZvY3VzOiBpbnRlcm5hbElkID09PSBsYXN0QWRkZWRJZCwgY29udGV4dCwgc3RvcmVQcm9wcywgc3RvcmVkUHJvcHMgfSwgYGFycmF5X29uZV9vZl8ke2ludGVybmFsSWR9YCk7XG4gIH07XG4gIGNvbnN0IHRpdGxlID0gLyogQF9fUFVSRV9fICovIGpzeChMYWJlbFdpdGhJY29uQW5kVG9vbHRpcCwgeyBwcm9wZXJ0eUtleSwgaWNvbjogZ2V0SWNvbkZvclByb3BlcnR5KHByb3BlcnR5LCBcInNtYWxsXCIpLCByZXF1aXJlZDogcHJvcGVydHkudmFsaWRhdGlvbj8ucmVxdWlyZWQsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwidGV4dC10ZXh0LXNlY29uZGFyeSBkYXJrOnRleHQtdGV4dC1zZWNvbmRhcnktZGFya1wiIH0pO1xuICBjb25zdCBmaXJzdE9uZU9mS2V5ID0gT2JqZWN0LmtleXMocHJvcGVydHkub25lT2YucHJvcGVydGllcylbMF07XG4gIGNvbnN0IGJvZHkgPSAvKiBAX19QVVJFX18gKi8ganN4KEFycmF5Q29udGFpbmVyLCB7IHZhbHVlLCBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtM1wiLCBkcm9wcGFibGVJZDogcHJvcGVydHlLZXksIGFkZExhYmVsOiBwcm9wZXJ0eS5uYW1lID8gXCJBZGQgZW50cnkgdG8gXCIgKyBwcm9wZXJ0eS5uYW1lIDogXCJBZGQgZW50cnlcIiwgYnVpbGRFbnRyeSwgb25JbnRlcm5hbElkQWRkZWQ6IHNldExhc3RBZGRlZElkLCBkaXNhYmxlZDogaXNTdWJtaXR0aW5nIHx8IEJvb2xlYW4ocHJvcGVydHkuZGlzYWJsZWQpLCBpbmNsdWRlQWRkQnV0dG9uOiAhcHJvcGVydHkuZGlzYWJsZWQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZV8wKSA9PiBzZXRGaWVsZFZhbHVlKHByb3BlcnR5S2V5LCB2YWx1ZV8wKSwgbmV3RGVmYXVsdEVudHJ5OiB7XG4gICAgW3Byb3BlcnR5Lm9uZU9mLnR5cGVGaWVsZCA/PyBERUZBVUxUX09ORV9PRl9UWVBFXTogZmlyc3RPbmVPZktleSxcbiAgICBbcHJvcGVydHkub25lT2YudmFsdWVGaWVsZCA/PyBERUZBVUxUX09ORV9PRl9WQUxVRV06IGdldERlZmF1bHRWYWx1ZUZvcihwcm9wZXJ0eS5vbmVPZi5wcm9wZXJ0aWVzW2ZpcnN0T25lT2ZLZXldKVxuICB9IH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAhbWluaW1hbGlzdFZpZXcgJiYgLyogQF9fUFVSRV9fICovIGpzeChFeHBhbmRhYmxlUGFuZWwsIHsgaW5uZXJDbGFzc05hbWU6IFwicHgtMiBtZDpweC00IHBiLTIgbWQ6cGItNCBwdC0xIG1kOnB0LTJcIiwgaW5pdGlhbGx5RXhwYW5kZWQ6IGV4cGFuZGVkLCB0aXRsZSwgY2hpbGRyZW46IGJvZHkgfSksXG4gICAgbWluaW1hbGlzdFZpZXcgJiYgYm9keSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gQmxvY2tFbnRyeSh0MCkge1xuICBjb25zdCAkID0gYygzMSk7XG4gIGNvbnN0IHtcbiAgICBuYW1lLFxuICAgIHZhbHVlLFxuICAgIHR5cGVGaWVsZCxcbiAgICB2YWx1ZUZpZWxkLFxuICAgIHByb3BlcnRpZXMsXG4gICAgYXV0b0ZvY3VzLFxuICAgIGNvbnRleHQsXG4gICAgc3RvcmVkUHJvcHMsXG4gICAgc3RvcmVQcm9wc1xuICB9ID0gdDA7XG4gIGNvbnN0IHR5cGUgPSB2YWx1ZSAmJiB2YWx1ZVt0eXBlRmllbGRdO1xuICBjb25zdCBbdHlwZUludGVybmFsLCBzZXRUeXBlSW50ZXJuYWxdID0gdXNlU3RhdGUodHlwZSA/PyB2b2lkIDApO1xuICBjb25zdCBmb3JtZXggPSB1c2VGb3JtZXgoKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MSA9IFtdO1xuICAgICRbMF0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMF07XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHVwZGF0ZVR5cGUoT2JqZWN0LmtleXMocHJvcGVydGllcylbMF0pO1xuICAgIH1cbiAgfSwgdDEpO1xuICBsZXQgdDI7XG4gIGlmICgkWzFdICE9PSB0eXBlIHx8ICRbMl0gIT09IHR5cGVJbnRlcm5hbCkge1xuICAgIHQyID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGUgIT09IHR5cGVJbnRlcm5hbCkge1xuICAgICAgICBzZXRUeXBlSW50ZXJuYWwodHlwZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzFdID0gdHlwZTtcbiAgICAkWzJdID0gdHlwZUludGVybmFsO1xuICAgICRbM10gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbM107XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs0XSAhPT0gdHlwZSkge1xuICAgIHQzID0gW3R5cGVdO1xuICAgICRbNF0gPSB0eXBlO1xuICAgICRbNV0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNV07XG4gIH1cbiAgdXNlRWZmZWN0KHQyLCB0Myk7XG4gIGNvbnN0IHByb3BlcnR5SW50ZXJuYWwgPSB0eXBlSW50ZXJuYWwgPyBwcm9wZXJ0aWVzW3R5cGVJbnRlcm5hbF0gOiB2b2lkIDA7XG4gIGxldCB0NDtcbiAgaWYgKCRbNl0gIT09IHByb3BlcnR5SW50ZXJuYWwgfHwgJFs3XSAhPT0gc3RvcmVkUHJvcHMpIHtcbiAgICB0NCA9IHN0b3JlZFByb3BzICYmIHR5cGVvZiBwcm9wZXJ0eUludGVybmFsID09PSBcIm9iamVjdFwiID8gbWVyZ2VEZWVwKHByb3BlcnR5SW50ZXJuYWwsIHN0b3JlZFByb3BzKSA6IHByb3BlcnR5SW50ZXJuYWw7XG4gICAgJFs2XSA9IHByb3BlcnR5SW50ZXJuYWw7XG4gICAgJFs3XSA9IHN0b3JlZFByb3BzO1xuICAgICRbOF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbOF07XG4gIH1cbiAgY29uc3QgcHJvcGVydHkgPSB0NDtcbiAgbGV0IHQ1O1xuICBpZiAoJFs5XSAhPT0gcHJvcGVydGllcykge1xuICAgIHQ1ID0gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykubWFwKF90ZW1wJDUpO1xuICAgICRbOV0gPSBwcm9wZXJ0aWVzO1xuICAgICRbMTBdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzEwXTtcbiAgfVxuICBjb25zdCBlbnVtVmFsdWVzQ29uZmlncyA9IHQ1O1xuICBjb25zdCB0eXBlRmllbGROYW1lID0gYCR7bmFtZX0uJHt0eXBlRmllbGR9YDtcbiAgY29uc3QgdmFsdWVGaWVsZE5hbWUgPSBgJHtuYW1lfS4ke3ZhbHVlRmllbGR9YDtcbiAgbGV0IHQ2O1xuICBpZiAoJFsxMV0gIT09IGF1dG9Gb2N1cyB8fCAkWzEyXSAhPT0gY29udGV4dCB8fCAkWzEzXSAhPT0gcHJvcGVydHkgfHwgJFsxNF0gIT09IHN0b3JlUHJvcHMgfHwgJFsxNV0gIT09IHZhbHVlRmllbGROYW1lKSB7XG4gICAgdDYgPSBwcm9wZXJ0eSA/IHtcbiAgICAgIHByb3BlcnR5S2V5OiB2YWx1ZUZpZWxkTmFtZSxcbiAgICAgIHByb3BlcnR5LFxuICAgICAgY29udGV4dCxcbiAgICAgIGF1dG9Gb2N1cyxcbiAgICAgIHBhcnRPZkFycmF5OiBmYWxzZSxcbiAgICAgIG1pbmltYWxpc3RWaWV3OiB0cnVlLFxuICAgICAgb25Qcm9wZXJ0eUNoYW5nZTogc3RvcmVQcm9wc1xuICAgIH0gOiB2b2lkIDA7XG4gICAgJFsxMV0gPSBhdXRvRm9jdXM7XG4gICAgJFsxMl0gPSBjb250ZXh0O1xuICAgICRbMTNdID0gcHJvcGVydHk7XG4gICAgJFsxNF0gPSBzdG9yZVByb3BzO1xuICAgICRbMTVdID0gdmFsdWVGaWVsZE5hbWU7XG4gICAgJFsxNl0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTZdO1xuICB9XG4gIGNvbnN0IGZpZWxkUHJvcHMgPSB0NjtcbiAgY29uc3QgdXBkYXRlVHlwZSA9IChuZXdUeXBlKSA9PiB7XG4gICAgY29uc3QgbmV3U2VsZWN0ZWRQcm9wZXJ0eSA9IG5ld1R5cGUgPyBwcm9wZXJ0aWVzW25ld1R5cGVdIDogdm9pZCAwO1xuICAgIHNldFR5cGVJbnRlcm5hbChuZXdUeXBlKTtcbiAgICBmb3JtZXguc2V0RmllbGRUb3VjaGVkKHR5cGVGaWVsZE5hbWUsIHRydWUpO1xuICAgIGZvcm1leC5zZXRGaWVsZFZhbHVlKHR5cGVGaWVsZE5hbWUsIG5ld1R5cGUpO1xuICAgIGZvcm1leC5zZXRGaWVsZFZhbHVlKHZhbHVlRmllbGROYW1lLCBuZXdTZWxlY3RlZFByb3BlcnR5ID8gZ2V0RGVmYXVsdFZhbHVlRm9yKG5ld1NlbGVjdGVkUHJvcGVydHkpIDogbnVsbCk7XG4gIH07XG4gIGxldCB0NztcbiAgaWYgKCRbMTddID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ3ID0gY2xzKHBhcGVyTWl4aW4sIFwiYmctdHJhbnNwYXJlbnQgcC0yXCIpO1xuICAgICRbMTddID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE3XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzE4XSAhPT0gZW51bVZhbHVlc0NvbmZpZ3MgfHwgJFsxOV0gIT09IHVwZGF0ZVR5cGUpIHtcbiAgICB0OCA9IChmaWVsZFByb3BzXzApID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlMSA9IGZpZWxkUHJvcHNfMC5maWVsZC52YWx1ZSAhPT0gdm9pZCAwICYmIGZpZWxkUHJvcHNfMC5maWVsZC52YWx1ZSAhPT0gbnVsbCA/IGZpZWxkUHJvcHNfMC5maWVsZC52YWx1ZSA6IFwiXCI7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgY2xhc3NOYW1lOiBcIm1iLTJcIiwgcGxhY2Vob2xkZXI6IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImNhcHRpb25cIiwgY2xhc3NOYW1lOiBcInB4LTQgcHktMiBmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogXCJUeXBlXCIgfSksIHNpemU6IFwibWVkaXVtXCIsIGZ1bGxXaWR0aDogdHJ1ZSwgcG9zaXRpb246IFwiaXRlbS1hbGlnbmVkXCIsIHZhbHVlOiB2YWx1ZTEsIHJlbmRlclZhbHVlOiAoZW51bUtleSkgPT4gLyogQF9fUFVSRV9fICovIGpzeChFbnVtVmFsdWVzQ2hpcCwgeyBlbnVtS2V5LCBlbnVtVmFsdWVzOiBlbnVtVmFsdWVzQ29uZmlncywgc2l6ZTogXCJzbWFsbFwiIH0pLCBvblZhbHVlQ2hhbmdlOiAodmFsdWVfMCkgPT4ge1xuICAgICAgICB1cGRhdGVUeXBlKHZhbHVlXzApO1xuICAgICAgfSwgY2hpbGRyZW46IGVudW1WYWx1ZXNDb25maWdzLm1hcCgoZW51bUNvbmZpZykgPT4gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RJdGVtLCB7IHZhbHVlOiBTdHJpbmcoZW51bUNvbmZpZy5pZCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVudW1WYWx1ZXNDaGlwLCB7IGVudW1LZXk6IGVudW1Db25maWcuaWQsIGVudW1WYWx1ZXM6IGVudW1WYWx1ZXNDb25maWdzLCBzaXplOiBcInNtYWxsXCIgfSkgfSwgZW51bUNvbmZpZy5pZCkpIH0pIH0pO1xuICAgIH07XG4gICAgJFsxOF0gPSBlbnVtVmFsdWVzQ29uZmlncztcbiAgICAkWzE5XSA9IHVwZGF0ZVR5cGU7XG4gICAgJFsyMF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMjBdO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMjFdICE9PSB0OCB8fCAkWzIyXSAhPT0gdHlwZUZpZWxkTmFtZSkge1xuICAgIHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChGaWVsZCwgeyBuYW1lOiB0eXBlRmllbGROYW1lLCBjaGlsZHJlbjogdDggfSk7XG4gICAgJFsyMV0gPSB0ODtcbiAgICAkWzIyXSA9IHR5cGVGaWVsZE5hbWU7XG4gICAgJFsyM10gPSB0OTtcbiAgfSBlbHNlIHtcbiAgICB0OSA9ICRbMjNdO1xuICB9XG4gIGxldCB0MTA7XG4gIGlmICgkWzI0XSAhPT0gZmllbGRQcm9wcyB8fCAkWzI1XSAhPT0gbmFtZSB8fCAkWzI2XSAhPT0gdHlwZUludGVybmFsKSB7XG4gICAgdDEwID0gZmllbGRQcm9wcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5RmllbGRCaW5kaW5nLCB7IC4uLmZpZWxkUHJvcHMgfSwgYGZvcm1fY29udHJvbF8ke25hbWV9XyR7dHlwZUludGVybmFsfWApO1xuICAgICRbMjRdID0gZmllbGRQcm9wcztcbiAgICAkWzI1XSA9IG5hbWU7XG4gICAgJFsyNl0gPSB0eXBlSW50ZXJuYWw7XG4gICAgJFsyN10gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFsyN107XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMjhdICE9PSB0MTAgfHwgJFsyOV0gIT09IHQ5KSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQ3LCBjaGlsZHJlbjogW1xuICAgICAgdDksXG4gICAgICB0MTBcbiAgICBdIH0pO1xuICAgICRbMjhdID0gdDEwO1xuICAgICRbMjldID0gdDk7XG4gICAgJFszMF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFszMF07XG4gIH1cbiAgcmV0dXJuIHQxMTtcbn1cbmZ1bmN0aW9uIF90ZW1wJDUodDApIHtcbiAgY29uc3QgW2tleSwgcHJvcGVydHlfMF0gPSB0MDtcbiAgcmV0dXJuIHtcbiAgICBpZDoga2V5LFxuICAgIGxhYmVsOiBwcm9wZXJ0eV8wLm5hbWUgPz8ga2V5XG4gIH07XG59XG5mdW5jdGlvbiBNYXJrZG93bkVkaXRvckZpZWxkQmluZGluZyh0MCkge1xuICBjb25zdCAkID0gYyg1Nyk7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0eSxcbiAgICBwcm9wZXJ0eUtleSxcbiAgICB2YWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gICAgc2hvd0Vycm9yLFxuICAgIGVycm9yLFxuICAgIG1pbmltYWxpc3RWaWV3LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZFByb3AsXG4gICAgaXNTdWJtaXR0aW5nLFxuICAgIGNvbnRleHQsXG4gICAgY3VzdG9tUHJvcHNcbiAgfSA9IHQwO1xuICBjb25zdCBkaXNhYmxlZCA9IGRpc2FibGVkUHJvcCB8fCBpc1N1Ym1pdHRpbmc7XG4gIGNvbnN0IGhpZ2hsaWdodCA9IGN1c3RvbVByb3BzPy5oaWdobGlnaHQ7XG4gIGNvbnN0IGVkaXRvclByb3BzID0gY3VzdG9tUHJvcHM/LmVkaXRvclByb3BzO1xuICBjb25zdCBzdG9yYWdlU291cmNlID0gdXNlU3RvcmFnZVNvdXJjZSgpO1xuICBjb25zdCBzdG9yYWdlID0gcHJvcGVydHkuc3RvcmFnZTtcbiAgY29uc3QgZW50aXR5VmFsdWVzID0gY29udGV4dC52YWx1ZXM7XG4gIGNvbnN0IGVudGl0eUlkID0gY29udGV4dC5lbnRpdHlJZDtcbiAgY29uc3QgcGF0aCA9IGNvbnRleHQucGF0aDtcbiAgY29uc3QgW2ZpZWxkVmVyc2lvbiwgc2V0RmllbGRWZXJzaW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBpbnRlcm5hbFZhbHVlID0gdXNlUmVmKHZhbHVlKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gc2V0VmFsdWUpIHtcbiAgICB0MSA9IChjb250ZW50KSA9PiB7XG4gICAgICBpbnRlcm5hbFZhbHVlLmN1cnJlbnQgPSBjb250ZW50O1xuICAgICAgc2V0VmFsdWUoY29udGVudCk7XG4gICAgfTtcbiAgICAkWzBdID0gc2V0VmFsdWU7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBvbkNvbnRlbnRDaGFuZ2UgPSB0MTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gZmllbGRWZXJzaW9uIHx8ICRbM10gIT09IHZhbHVlKSB7XG4gICAgdDIgPSAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJuYWxWYWx1ZS5jdXJyZW50ICE9PSB2YWx1ZSkge1xuICAgICAgICBpbnRlcm5hbFZhbHVlLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgc2V0RmllbGRWZXJzaW9uKGZpZWxkVmVyc2lvbiArIDEpO1xuICAgICAgfVxuICAgIH07XG4gICAgJFsyXSA9IGZpZWxkVmVyc2lvbjtcbiAgICAkWzNdID0gdmFsdWU7XG4gICAgJFs0XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs0XTtcbiAgfVxuICBsZXQgdDM7XG4gIGlmICgkWzVdICE9PSB2YWx1ZSkge1xuICAgIHQzID0gW3ZhbHVlXTtcbiAgICAkWzVdID0gdmFsdWU7XG4gICAgJFs2XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs2XTtcbiAgfVxuICB1c2VFZmZlY3QodDIsIHQzKTtcbiAgY29uc3QgdDQgPSBwcm9wZXJ0eTtcbiAgbGV0IHQ1O1xuICBpZiAoJFs3XSAhPT0gZW50aXR5VmFsdWVzIHx8ICRbOF0gIT09IHQ0KSB7XG4gICAgdDUgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlPckJ1aWxkZXI6IHQ0LFxuICAgICAgdmFsdWVzOiBlbnRpdHlWYWx1ZXNcbiAgICB9KTtcbiAgICAkWzddID0gZW50aXR5VmFsdWVzO1xuICAgICRbOF0gPSB0NDtcbiAgICAkWzldID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzldO1xuICB9XG4gIGNvbnN0IHJlc29sdmVkUHJvcGVydHkgPSB0NTtcbiAgbGV0IHQ2O1xuICBpZiAoJFsxMF0gIT09IGVudGl0eUlkIHx8ICRbMTFdICE9PSBlbnRpdHlWYWx1ZXMgfHwgJFsxMl0gIT09IHBhdGggfHwgJFsxM10gIT09IHByb3BlcnR5S2V5IHx8ICRbMTRdICE9PSByZXNvbHZlZFByb3BlcnR5IHx8ICRbMTVdICE9PSBzdG9yYWdlKSB7XG4gICAgdDYgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgaWYgKHN0b3JhZ2U/LmZpbGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYXdhaXQgcmVzb2x2ZVN0b3JhZ2VGaWxlbmFtZVN0cmluZyh7XG4gICAgICAgICAgaW5wdXQ6IHN0b3JhZ2UuZmlsZU5hbWUsXG4gICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICB2YWx1ZXM6IGVudGl0eVZhbHVlcyxcbiAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHByb3BlcnR5OiByZXNvbHZlZFByb3BlcnR5LFxuICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgcHJvcGVydHlLZXlcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZmlsZU5hbWUgfHwgZmlsZU5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJZb3UgbmVlZCB0byByZXR1cm4gYSB2YWxpZCBmaWxlbmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZU5hbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmFuZG9tU3RyaW5nKCkgKyBcIl9cIiArIGZpbGUubmFtZTtcbiAgICB9O1xuICAgICRbMTBdID0gZW50aXR5SWQ7XG4gICAgJFsxMV0gPSBlbnRpdHlWYWx1ZXM7XG4gICAgJFsxMl0gPSBwYXRoO1xuICAgICRbMTNdID0gcHJvcGVydHlLZXk7XG4gICAgJFsxNF0gPSByZXNvbHZlZFByb3BlcnR5O1xuICAgICRbMTVdID0gc3RvcmFnZTtcbiAgICAkWzE2XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxNl07XG4gIH1cbiAgY29uc3QgZmlsZU5hbWVCdWlsZGVyID0gdDY7XG4gIGxldCB0NztcbiAgaWYgKCRbMTddICE9PSBlbnRpdHlJZCB8fCAkWzE4XSAhPT0gZW50aXR5VmFsdWVzIHx8ICRbMTldICE9PSBwYXRoIHx8ICRbMjBdICE9PSBwcm9wZXJ0eSB8fCAkWzIxXSAhPT0gcHJvcGVydHlLZXkgfHwgJFsyMl0gIT09IHN0b3JhZ2UpIHtcbiAgICB0NyA9IChmaWxlXzApID0+IHtcbiAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gXCIvXCI7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNvbHZlZFByb3BlcnR5XzAgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgICBwcm9wZXJ0eU9yQnVpbGRlcjogcHJvcGVydHksXG4gICAgICAgIHZhbHVlczogZW50aXR5VmFsdWVzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNvbHZlU3RvcmFnZVBhdGhTdHJpbmcoe1xuICAgICAgICBpbnB1dDogc3RvcmFnZS5zdG9yYWdlUGF0aCxcbiAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgdmFsdWVzOiBlbnRpdHlWYWx1ZXMsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBwYXRoLFxuICAgICAgICBwcm9wZXJ0eTogcmVzb2x2ZWRQcm9wZXJ0eV8wLFxuICAgICAgICBmaWxlOiBmaWxlXzAsXG4gICAgICAgIHByb3BlcnR5S2V5XG4gICAgICB9KSA/PyBcIi9cIjtcbiAgICB9O1xuICAgICRbMTddID0gZW50aXR5SWQ7XG4gICAgJFsxOF0gPSBlbnRpdHlWYWx1ZXM7XG4gICAgJFsxOV0gPSBwYXRoO1xuICAgICRbMjBdID0gcHJvcGVydHk7XG4gICAgJFsyMV0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzIyXSA9IHN0b3JhZ2U7XG4gICAgJFsyM10gPSB0NztcbiAgfSBlbHNlIHtcbiAgICB0NyA9ICRbMjNdO1xuICB9XG4gIGNvbnN0IHN0b3JhZ2VQYXRoQnVpbGRlciA9IHQ3O1xuICBjb25zdCB0OCA9IGNvbnRleHQuZm9ybWV4LnZlcnNpb24gKyBmaWVsZFZlcnNpb247XG4gIGxldCB0OTtcbiAgaWYgKCRbMjRdICE9PSBmaWxlTmFtZUJ1aWxkZXIgfHwgJFsyNV0gIT09IHN0b3JhZ2VQYXRoQnVpbGRlciB8fCAkWzI2XSAhPT0gc3RvcmFnZVNvdXJjZSkge1xuICAgIHQ5ID0gYXN5bmMgKGZpbGVfMSkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmFnZVBhdGggPSBzdG9yYWdlUGF0aEJ1aWxkZXIoZmlsZV8xKTtcbiAgICAgIGNvbnN0IGZpbGVOYW1lXzAgPSBhd2FpdCBmaWxlTmFtZUJ1aWxkZXIoZmlsZV8xKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JhZ2VTb3VyY2UudXBsb2FkRmlsZSh7XG4gICAgICAgIGZpbGU6IGZpbGVfMSxcbiAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lXzAsXG4gICAgICAgIHBhdGg6IHN0b3JhZ2VQYXRoXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRvd25sb2FkQ29uZmlnID0gYXdhaXQgc3RvcmFnZVNvdXJjZS5nZXREb3dubG9hZFVSTChyZXN1bHQucGF0aCk7XG4gICAgICBjb25zdCB1cmwgPSBkb3dubG9hZENvbmZpZy51cmw7XG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgaW1hZ2VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG4gICAgJFsyNF0gPSBmaWxlTmFtZUJ1aWxkZXI7XG4gICAgJFsyNV0gPSBzdG9yYWdlUGF0aEJ1aWxkZXI7XG4gICAgJFsyNl0gPSBzdG9yYWdlU291cmNlO1xuICAgICRbMjddID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzI3XTtcbiAgfVxuICBsZXQgdDEwO1xuICBpZiAoJFsyOF0gIT09IGRpc2FibGVkIHx8ICRbMjldICE9PSBlZGl0b3JQcm9wcyB8fCAkWzMwXSAhPT0gaGlnaGxpZ2h0IHx8ICRbMzFdICE9PSBvbkNvbnRlbnRDaGFuZ2UgfHwgJFszMl0gIT09IHQ4IHx8ICRbMzNdICE9PSB0OSB8fCAkWzM0XSAhPT0gdmFsdWUpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpcmVDTVNFZGl0b3IsIHsgY29udGVudDogdmFsdWUsIG9uTWFya2Rvd25Db250ZW50Q2hhbmdlOiBvbkNvbnRlbnRDaGFuZ2UsIHZlcnNpb246IHQ4LCBoaWdobGlnaHQsIGRpc2FibGVkLCBoYW5kbGVJbWFnZVVwbG9hZDogdDksIC4uLmVkaXRvclByb3BzIH0pO1xuICAgICRbMjhdID0gZGlzYWJsZWQ7XG4gICAgJFsyOV0gPSBlZGl0b3JQcm9wcztcbiAgICAkWzMwXSA9IGhpZ2hsaWdodDtcbiAgICAkWzMxXSA9IG9uQ29udGVudENoYW5nZTtcbiAgICAkWzMyXSA9IHQ4O1xuICAgICRbMzNdID0gdDk7XG4gICAgJFszNF0gPSB2YWx1ZTtcbiAgICAkWzM1XSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzM1XTtcbiAgfVxuICBjb25zdCBlZGl0b3IgPSB0MTA7XG4gIGlmIChtaW5pbWFsaXN0Vmlldykge1xuICAgIHJldHVybiBlZGl0b3I7XG4gIH1cbiAgbGV0IHQxMTtcbiAgaWYgKCRbMzZdICE9PSBwcm9wZXJ0eSkge1xuICAgIHQxMSA9IGdldEljb25Gb3JQcm9wZXJ0eShwcm9wZXJ0eSwgXCJzbWFsbFwiKTtcbiAgICAkWzM2XSA9IHByb3BlcnR5O1xuICAgICRbMzddID0gdDExO1xuICB9IGVsc2Uge1xuICAgIHQxMSA9ICRbMzddO1xuICB9XG4gIGNvbnN0IHQxMiA9IHByb3BlcnR5LnZhbGlkYXRpb24/LnJlcXVpcmVkO1xuICBsZXQgdDEzO1xuICBpZiAoJFszOF0gIT09IHByb3BlcnR5Lm5hbWUgfHwgJFszOV0gIT09IHByb3BlcnR5S2V5IHx8ICRbNDBdICE9PSB0MTEgfHwgJFs0MV0gIT09IHQxMikge1xuICAgIHQxMyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTGFiZWxXaXRoSWNvbkFuZFRvb2x0aXAsIHsgcHJvcGVydHlLZXksIGljb246IHQxMSwgcmVxdWlyZWQ6IHQxMiwgdGl0bGU6IHByb3BlcnR5Lm5hbWUsIGNsYXNzTmFtZTogXCJoLTggdGV4dC10ZXh0LXNlY29uZGFyeSBkYXJrOnRleHQtdGV4dC1zZWNvbmRhcnktZGFyayBtbC0zLjVcIiB9KTtcbiAgICAkWzM4XSA9IHByb3BlcnR5Lm5hbWU7XG4gICAgJFszOV0gPSBwcm9wZXJ0eUtleTtcbiAgICAkWzQwXSA9IHQxMTtcbiAgICAkWzQxXSA9IHQxMjtcbiAgICAkWzQyXSA9IHQxMztcbiAgfSBlbHNlIHtcbiAgICB0MTMgPSAkWzQyXTtcbiAgfVxuICBjb25zdCB0MTQgPSBkaXNhYmxlZCA/IGZpZWxkQmFja2dyb3VuZERpc2FibGVkTWl4aW4gOiBmaWVsZEJhY2tncm91bmRIb3Zlck1peGluO1xuICBsZXQgdDE1O1xuICBpZiAoJFs0M10gIT09IHQxNCkge1xuICAgIHQxNSA9IGNscyhcInJvdW5kZWQtbWRcIiwgZmllbGRCYWNrZ3JvdW5kTWl4aW4sIHQxNCk7XG4gICAgJFs0M10gPSB0MTQ7XG4gICAgJFs0NF0gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFs0NF07XG4gIH1cbiAgbGV0IHQxNjtcbiAgaWYgKCRbNDVdICE9PSBlZGl0b3IgfHwgJFs0Nl0gIT09IHQxNSkge1xuICAgIHQxNiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQxNSwgY2hpbGRyZW46IGVkaXRvciB9KTtcbiAgICAkWzQ1XSA9IGVkaXRvcjtcbiAgICAkWzQ2XSA9IHQxNTtcbiAgICAkWzQ3XSA9IHQxNjtcbiAgfSBlbHNlIHtcbiAgICB0MTYgPSAkWzQ3XTtcbiAgfVxuICBsZXQgdDE3O1xuICBpZiAoJFs0OF0gIT09IGVycm9yIHx8ICRbNDldICE9PSBpbmNsdWRlRGVzY3JpcHRpb24gfHwgJFs1MF0gIT09IHByb3BlcnR5IHx8ICRbNTFdICE9PSBzaG93RXJyb3IpIHtcbiAgICB0MTcgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIHByb3BlcnR5IH0pO1xuICAgICRbNDhdID0gZXJyb3I7XG4gICAgJFs0OV0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFs1MF0gPSBwcm9wZXJ0eTtcbiAgICAkWzUxXSA9IHNob3dFcnJvcjtcbiAgICAkWzUyXSA9IHQxNztcbiAgfSBlbHNlIHtcbiAgICB0MTcgPSAkWzUyXTtcbiAgfVxuICBsZXQgdDE4O1xuICBpZiAoJFs1M10gIT09IHQxMyB8fCAkWzU0XSAhPT0gdDE2IHx8ICRbNTVdICE9PSB0MTcpIHtcbiAgICB0MTggPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDEzLFxuICAgICAgdDE2LFxuICAgICAgdDE3XG4gICAgXSB9KTtcbiAgICAkWzUzXSA9IHQxMztcbiAgICAkWzU0XSA9IHQxNjtcbiAgICAkWzU1XSA9IHQxNztcbiAgICAkWzU2XSA9IHQxODtcbiAgfSBlbHNlIHtcbiAgICB0MTggPSAkWzU2XTtcbiAgfVxuICByZXR1cm4gdDE4O1xufVxuZnVuY3Rpb24gQXJyYXlDdXN0b21TaGFwZWRGaWVsZEJpbmRpbmcodDApIHtcbiAgY29uc3QgJCA9IGMoNDYpO1xuICBjb25zdCB7XG4gICAgcHJvcGVydHlLZXksXG4gICAgdmFsdWUsXG4gICAgZXJyb3IsXG4gICAgc2hvd0Vycm9yLFxuICAgIHNldFZhbHVlLFxuICAgIG1pbmltYWxpc3RWaWV3OiBtaW5pbWFsaXN0Vmlld1Byb3AsXG4gICAgcHJvcGVydHksXG4gICAgaW5jbHVkZURlc2NyaXB0aW9uLFxuICAgIGNvbnRleHQsXG4gICAgZGlzYWJsZWRcbiAgfSA9IHQwO1xuICBjb25zdCBtaW5pbWFsaXN0VmlldyA9IG1pbmltYWxpc3RWaWV3UHJvcCB8fCBwcm9wZXJ0eS5taW5pbWFsaXN0VmlldztcbiAgbGV0IHJlc29sdmVkUHJvcGVydGllcyA9IFwicmVzb2x2ZWRQcm9wZXJ0aWVzXCIgaW4gcHJvcGVydHkgPyBwcm9wZXJ0eS5yZXNvbHZlZFByb3BlcnRpZXMgOiB2b2lkIDA7XG4gIGlmICghcmVzb2x2ZWRQcm9wZXJ0aWVzKSB7XG4gICAgbGV0IHQxMjtcbiAgICBpZiAoJFswXSAhPT0gcHJvcGVydHkgfHwgJFsxXSAhPT0gcHJvcGVydHlLZXkgfHwgJFsyXSAhPT0gdmFsdWUpIHtcbiAgICAgIHQxMiA9IGdldEFycmF5UmVzb2x2ZWRQcm9wZXJ0aWVzKHtcbiAgICAgICAgcHJvcGVydHlWYWx1ZTogdmFsdWUsXG4gICAgICAgIHByb3BlcnR5S2V5LFxuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgaWdub3JlTWlzc2luZ0ZpZWxkczogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgJFswXSA9IHByb3BlcnR5O1xuICAgICAgJFsxXSA9IHByb3BlcnR5S2V5O1xuICAgICAgJFsyXSA9IHZhbHVlO1xuICAgICAgJFszXSA9IHQxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDEyID0gJFszXTtcbiAgICB9XG4gICAgcmVzb2x2ZWRQcm9wZXJ0aWVzID0gdDEyO1xuICB9XG4gIGNvbnN0IGV4cGFuZGVkID0gcHJvcGVydHkuZXhwYW5kZWQgPT09IHZvaWQgMCA/IHRydWUgOiBwcm9wZXJ0eS5leHBhbmRlZDtcbiAgbGV0IHQxO1xuICBpZiAoJFs0XSAhPT0gcHJvcGVydHkgfHwgJFs1XSAhPT0gc2V0VmFsdWUgfHwgJFs2XSAhPT0gdmFsdWUpIHtcbiAgICB0MSA9IHtcbiAgICAgIHByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBzZXRWYWx1ZVxuICAgIH07XG4gICAgJFs0XSA9IHByb3BlcnR5O1xuICAgICRbNV0gPSBzZXRWYWx1ZTtcbiAgICAkWzZdID0gdmFsdWU7XG4gICAgJFs3XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs3XTtcbiAgfVxuICB1c2VDbGVhclJlc3RvcmVWYWx1ZSh0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbOF0gIT09IHByb3BlcnR5KSB7XG4gICAgdDIgPSBnZXRJY29uRm9yUHJvcGVydHkocHJvcGVydHksIFwic21hbGxcIik7XG4gICAgJFs4XSA9IHByb3BlcnR5O1xuICAgICRbOV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbOV07XG4gIH1cbiAgY29uc3QgdDMgPSBwcm9wZXJ0eS52YWxpZGF0aW9uPy5yZXF1aXJlZDtcbiAgbGV0IHQ0O1xuICBpZiAoJFsxMF0gIT09IHByb3BlcnR5Lm5hbWUgfHwgJFsxMV0gIT09IHByb3BlcnR5S2V5IHx8ICRbMTJdICE9PSB0MiB8fCAkWzEzXSAhPT0gdDMpIHtcbiAgICB0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTGFiZWxXaXRoSWNvbkFuZFRvb2x0aXAsIHsgcHJvcGVydHlLZXksIGljb246IHQyLCByZXF1aXJlZDogdDMsIHRpdGxlOiBwcm9wZXJ0eS5uYW1lLCBjbGFzc05hbWU6IFwiaC04IGZsZXgtZ3JvdyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC10ZXh0LXNlY29uZGFyeS1kYXJrXCIgfSk7XG4gICAgJFsxMF0gPSBwcm9wZXJ0eS5uYW1lO1xuICAgICRbMTFdID0gcHJvcGVydHlLZXk7XG4gICAgJFsxMl0gPSB0MjtcbiAgICAkWzEzXSA9IHQzO1xuICAgICRbMTRdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzE0XTtcbiAgfVxuICBsZXQgdDU7XG4gIGlmICgkWzE1XSAhPT0gdmFsdWUpIHtcbiAgICB0NSA9IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIsIGNsYXNzTmFtZTogXCJweC00XCIsIGNoaWxkcmVuOiBbXG4gICAgICBcIihcIixcbiAgICAgIHZhbHVlLmxlbmd0aCxcbiAgICAgIFwiKVwiXG4gICAgXSB9KTtcbiAgICAkWzE1XSA9IHZhbHVlO1xuICAgICRbMTZdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzE2XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzE3XSAhPT0gdDQgfHwgJFsxOF0gIT09IHQ1KSB7XG4gICAgdDYgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgdDQsXG4gICAgICB0NVxuICAgIF0gfSk7XG4gICAgJFsxN10gPSB0NDtcbiAgICAkWzE4XSA9IHQ1O1xuICAgICRbMTldID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE5XTtcbiAgfVxuICBjb25zdCB0aXRsZSA9IHQ2O1xuICBsZXQgdDc7XG4gIGlmICgkWzIwXSAhPT0gY29udGV4dCB8fCAkWzIxXSAhPT0gZGlzYWJsZWQgfHwgJFsyMl0gIT09IGluY2x1ZGVEZXNjcmlwdGlvbiB8fCAkWzIzXSAhPT0gcHJvcGVydHlLZXkgfHwgJFsyNF0gIT09IHJlc29sdmVkUHJvcGVydGllcykge1xuICAgIGxldCB0ODI7XG4gICAgaWYgKCRbMjZdICE9PSBjb250ZXh0IHx8ICRbMjddICE9PSBkaXNhYmxlZCB8fCAkWzI4XSAhPT0gaW5jbHVkZURlc2NyaXB0aW9uIHx8ICRbMjldICE9PSBwcm9wZXJ0eUtleSkge1xuICAgICAgdDgyID0gKGNoaWxkUHJvcGVydHksIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRoaXNEaXNhYmxlZCA9IGlzUmVhZE9ubHkoY2hpbGRQcm9wZXJ0eSkgfHwgQm9vbGVhbihjaGlsZFByb3BlcnR5LmRpc2FibGVkKTtcbiAgICAgICAgY29uc3QgZmllbGRQcm9wcyA9IHtcbiAgICAgICAgICBwcm9wZXJ0eUtleTogYCR7cHJvcGVydHlLZXl9WyR7aW5kZXh9XWAsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHRoaXNEaXNhYmxlZCxcbiAgICAgICAgICBwcm9wZXJ0eTogY2hpbGRQcm9wZXJ0eSxcbiAgICAgICAgICBpbmNsdWRlRGVzY3JpcHRpb24sXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBwYXJ0T2ZBcnJheTogdHJ1ZSxcbiAgICAgICAgICBtaW5pbWFsaXN0VmlldzogZmFsc2UsXG4gICAgICAgICAgYXV0b0ZvY3VzOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwYi00XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFByb3BlcnR5RmllbGRCaW5kaW5nLCB7IC4uLmZpZWxkUHJvcHMgfSkgfSwgYGN1c3RvbV9zaGFwZWRfYXJyYXlfJHtpbmRleH1gKTtcbiAgICAgIH07XG4gICAgICAkWzI2XSA9IGNvbnRleHQ7XG4gICAgICAkWzI3XSA9IGRpc2FibGVkO1xuICAgICAgJFsyOF0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgICAkWzI5XSA9IHByb3BlcnR5S2V5O1xuICAgICAgJFszMF0gPSB0ODI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ4MiA9ICRbMzBdO1xuICAgIH1cbiAgICB0NyA9IHJlc29sdmVkUHJvcGVydGllcy5tYXAodDgyKTtcbiAgICAkWzIwXSA9IGNvbnRleHQ7XG4gICAgJFsyMV0gPSBkaXNhYmxlZDtcbiAgICAkWzIyXSA9IGluY2x1ZGVEZXNjcmlwdGlvbjtcbiAgICAkWzIzXSA9IHByb3BlcnR5S2V5O1xuICAgICRbMjRdID0gcmVzb2x2ZWRQcm9wZXJ0aWVzO1xuICAgICRbMjVdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzI1XTtcbiAgfVxuICBjb25zdCBib2R5ID0gdDc7XG4gIGxldCB0ODtcbiAgaWYgKCRbMzFdICE9PSBib2R5IHx8ICRbMzJdICE9PSBleHBhbmRlZCB8fCAkWzMzXSAhPT0gbWluaW1hbGlzdFZpZXcgfHwgJFszNF0gIT09IHRpdGxlKSB7XG4gICAgdDggPSAhbWluaW1hbGlzdFZpZXcgJiYgLyogQF9fUFVSRV9fICovIGpzeChFeHBhbmRhYmxlUGFuZWwsIHsgaW5pdGlhbGx5RXhwYW5kZWQ6IGV4cGFuZGVkLCB0aXRsZSwgaW5uZXJDbGFzc05hbWU6IFwicHgtMiBtZDpweC00IHBiLTIgbWQ6cGItNCBwdC0xIG1kOnB0LTJcIiwgY2hpbGRyZW46IGJvZHkgfSk7XG4gICAgJFszMV0gPSBib2R5O1xuICAgICRbMzJdID0gZXhwYW5kZWQ7XG4gICAgJFszM10gPSBtaW5pbWFsaXN0VmlldztcbiAgICAkWzM0XSA9IHRpdGxlO1xuICAgICRbMzVdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzM1XTtcbiAgfVxuICBjb25zdCB0OSA9IG1pbmltYWxpc3RWaWV3ICYmIGJvZHk7XG4gIGxldCB0MTA7XG4gIGlmICgkWzM2XSAhPT0gZGlzYWJsZWQgfHwgJFszN10gIT09IGVycm9yIHx8ICRbMzhdICE9PSBpbmNsdWRlRGVzY3JpcHRpb24gfHwgJFszOV0gIT09IHByb3BlcnR5IHx8ICRbNDBdICE9PSBzaG93RXJyb3IpIHtcbiAgICB0MTAgPSAvKiBAX19QVVJFX18gKi8ganN4KEZpZWxkSGVscGVyVGV4dCwgeyBpbmNsdWRlRGVzY3JpcHRpb24sIHNob3dFcnJvciwgZXJyb3IsIGRpc2FibGVkLCBwcm9wZXJ0eSB9KTtcbiAgICAkWzM2XSA9IGRpc2FibGVkO1xuICAgICRbMzddID0gZXJyb3I7XG4gICAgJFszOF0gPSBpbmNsdWRlRGVzY3JpcHRpb247XG4gICAgJFszOV0gPSBwcm9wZXJ0eTtcbiAgICAkWzQwXSA9IHNob3dFcnJvcjtcbiAgICAkWzQxXSA9IHQxMDtcbiAgfSBlbHNlIHtcbiAgICB0MTAgPSAkWzQxXTtcbiAgfVxuICBsZXQgdDExO1xuICBpZiAoJFs0Ml0gIT09IHQxMCB8fCAkWzQzXSAhPT0gdDggfHwgJFs0NF0gIT09IHQ5KSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQ4LFxuICAgICAgdDksXG4gICAgICB0MTBcbiAgICBdIH0pO1xuICAgICRbNDJdID0gdDEwO1xuICAgICRbNDNdID0gdDg7XG4gICAgJFs0NF0gPSB0OTtcbiAgICAkWzQ1XSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzQ1XTtcbiAgfVxuICByZXR1cm4gdDExO1xufVxuZnVuY3Rpb24gaXNEZWZhdWx0RmllbGRDb25maWdJZChpZCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoREVGQVVMVF9GSUVMRF9DT05GSUdTKS5pbmNsdWRlcyhpZCk7XG59XG5jb25zdCBERUZBVUxUX0ZJRUxEX0NPTkZJR1MgPSB7XG4gIHRleHRfZmllbGQ6IHtcbiAgICBrZXk6IFwidGV4dF9maWVsZFwiLFxuICAgIG5hbWU6IFwiVGV4dCBmaWVsZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNpbXBsZSBzaG9ydCB0ZXh0XCIsXG4gICAgSWNvbjogU2hvcnRUZXh0SWNvbixcbiAgICBjb2xvcjogXCIjMmQ3ZmY5XCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgRmllbGQ6IFRleHRGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIG11bHRpbGluZToge1xuICAgIGtleTogXCJtdWx0aWxpbmVcIixcbiAgICBuYW1lOiBcIk11bHRpbGluZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRleHQgd2l0aCBtdWx0aXBsZSBsaW5lc1wiLFxuICAgIEljb246IFN1YmplY3RJY29uLFxuICAgIGNvbG9yOiBcIiMyZDdmZjlcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwic3RyaW5nXCIsXG4gICAgICBtdWx0aWxpbmU6IHRydWUsXG4gICAgICBGaWVsZDogVGV4dEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgbWFya2Rvd246IHtcbiAgICBrZXk6IFwibWFya2Rvd25cIixcbiAgICBuYW1lOiBcIk1hcmtkb3duXCIsXG4gICAgZGVzY3JpcHRpb246IFwiVGV4dCB3aXRoIGFkdmFuY2VkIG1hcmtkb3duIHN5bnRheFwiLFxuICAgIEljb246IEZvcm1hdFF1b3RlSWNvbixcbiAgICBjb2xvcjogXCIjMmQ3ZmY5XCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgbWFya2Rvd246IHRydWUsXG4gICAgICBGaWVsZDogTWFya2Rvd25FZGl0b3JGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIHVybDoge1xuICAgIGtleTogXCJ1cmxcIixcbiAgICBuYW1lOiBcIlVybFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRleHQgd2l0aCBVUkwgdmFsaWRhdGlvblwiLFxuICAgIEljb246IEh0dHBJY29uLFxuICAgIGNvbG9yOiBcIiMxNTRmYjNcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwic3RyaW5nXCIsXG4gICAgICB1cmw6IHRydWUsXG4gICAgICBGaWVsZDogVGV4dEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgZW1haWw6IHtcbiAgICBrZXk6IFwiZW1haWxcIixcbiAgICBuYW1lOiBcIkVtYWlsXCIsXG4gICAgZGVzY3JpcHRpb246IFwiVGV4dCB3aXRoIGVtYWlsIHZhbGlkYXRpb25cIixcbiAgICBJY29uOiBNYWlsSWNvbixcbiAgICBjb2xvcjogXCIjMTU0ZmIzXCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgZW1haWw6IHRydWUsXG4gICAgICBGaWVsZDogVGV4dEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgc3dpdGNoOiB7XG4gICAga2V5OiBcInN3aXRjaFwiLFxuICAgIG5hbWU6IFwiU3dpdGNoXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQm9vbGVhbiB0cnVlIG9yIGZhbHNlIGZpZWxkIChvciB5ZXMgb3Igbm8sIDAgb3IgMS4uLilcIixcbiAgICBJY29uOiBGbGFnSWNvbixcbiAgICBjb2xvcjogXCIjMjBkOWQyXCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcImJvb2xlYW5cIixcbiAgICAgIEZpZWxkOiBTd2l0Y2hGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIHNlbGVjdDoge1xuICAgIGtleTogXCJzZWxlY3RcIixcbiAgICBuYW1lOiBcIlNlbGVjdC9lbnVtXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IG9uZSB0ZXh0IHZhbHVlIGZyb20gd2l0aGluIGFuIGVudW1lcmF0aW9uXCIsXG4gICAgSWNvbjogTGlzdEljb24sXG4gICAgY29sb3I6IFwiIzQyMjNjOVwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJzdHJpbmdcIixcbiAgICAgIGVudW1WYWx1ZXM6IFtdLFxuICAgICAgRmllbGQ6IFNlbGVjdEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgbXVsdGlfc2VsZWN0OiB7XG4gICAga2V5OiBcIm11bHRpX3NlbGVjdFwiLFxuICAgIG5hbWU6IFwiTXVsdGkgc2VsZWN0IChlbnVtKVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBtdWx0aXBsZSB0ZXh0IHZhbHVlcyBmcm9tIHdpdGhpbiBhbiBlbnVtZXJhdGlvblwiLFxuICAgIEljb246IExpc3RBbHRJY29uLFxuICAgIGNvbG9yOiBcIiM0MjIzYzlcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG9mOiB7XG4gICAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBlbnVtVmFsdWVzOiBbXVxuICAgICAgfSxcbiAgICAgIEZpZWxkOiBNdWx0aVNlbGVjdEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgbnVtYmVyX2lucHV0OiB7XG4gICAga2V5OiBcIm51bWJlcl9pbnB1dFwiLFxuICAgIG5hbWU6IFwiTnVtYmVyIGlucHV0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2ltcGxlIG51bWJlciBmaWVsZCB3aXRoIHZhbGlkYXRpb25cIixcbiAgICBJY29uOiBOdW1iZXJzSWNvbixcbiAgICBjb2xvcjogXCIjYmVjOTIwXCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcIm51bWJlclwiLFxuICAgICAgRmllbGQ6IFRleHRGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIG51bWJlcl9zZWxlY3Q6IHtcbiAgICBrZXk6IFwibnVtYmVyX3NlbGVjdFwiLFxuICAgIG5hbWU6IFwiTnVtYmVyIHNlbGVjdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBhIG51bWJlciB2YWx1ZSBmcm9tIHdpdGhpbiBhbiBlbnVtZXJhdGlvblwiLFxuICAgIEljb246IEZvcm1hdExpc3ROdW1iZXJlZEljb24sXG4gICAgY29sb3I6IFwiI2JlYzkyMFwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJudW1iZXJcIixcbiAgICAgIGVudW1WYWx1ZXM6IFtdLFxuICAgICAgRmllbGQ6IFNlbGVjdEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgbXVsdGlfbnVtYmVyX3NlbGVjdDoge1xuICAgIGtleTogXCJtdWx0aV9udW1iZXJfc2VsZWN0XCIsXG4gICAgbmFtZTogXCJNdWx0aXBsZSBudW1iZXIgc2VsZWN0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IG11bHRpcGxlIG51bWJlciB2YWx1ZXMgZnJvbSB3aXRoaW4gYW4gZW51bWVyYXRpb25cIixcbiAgICBJY29uOiBGb3JtYXRMaXN0TnVtYmVyZWRJY29uLFxuICAgIGNvbG9yOiBcIiNiZWM5MjBcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG9mOiB7XG4gICAgICAgIGRhdGFUeXBlOiBcIm51bWJlclwiLFxuICAgICAgICBlbnVtVmFsdWVzOiBbXVxuICAgICAgfSxcbiAgICAgIEZpZWxkOiBNdWx0aVNlbGVjdEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgZmlsZV91cGxvYWQ6IHtcbiAgICBrZXk6IFwiZmlsZV91cGxvYWRcIixcbiAgICBuYW1lOiBcIkZpbGUgdXBsb2FkXCIsXG4gICAgZGVzY3JpcHRpb246IFwiSW5wdXQgZm9yIHVwbG9hZGluZyBzaW5nbGUgZmlsZXNcIixcbiAgICBJY29uOiBVcGxvYWRGaWxlSWNvbixcbiAgICBjb2xvcjogXCIjZjkyZDlhXCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgc3RvcmFnZToge1xuICAgICAgICBzdG9yYWdlUGF0aDogXCJ7cGF0aH1cIlxuICAgICAgfSxcbiAgICAgIEZpZWxkOiBTdG9yYWdlVXBsb2FkRmllbGRCaW5kaW5nXG4gICAgfVxuICB9LFxuICBtdWx0aV9maWxlX3VwbG9hZDoge1xuICAgIGtleTogXCJtdWx0aV9maWxlX3VwbG9hZFwiLFxuICAgIG5hbWU6IFwiTXVsdGlwbGUgZmlsZSB1cGxvYWRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJJbnB1dCBmb3IgdXBsb2FkaW5nIG11bHRpcGxlIGZpbGVzXCIsXG4gICAgSWNvbjogRHJpdmVGb2xkZXJVcGxvYWRJY29uLFxuICAgIGNvbG9yOiBcIiNmOTJkOWFcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG9mOiB7XG4gICAgICAgIGRhdGFUeXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBzdG9yYWdlOiB7XG4gICAgICAgICAgc3RvcmFnZVBhdGg6IFwie3BhdGh9XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIEZpZWxkOiBTdG9yYWdlVXBsb2FkRmllbGRCaW5kaW5nXG4gICAgfVxuICB9LFxuICByZWZlcmVuY2U6IHtcbiAgICBrZXk6IFwicmVmZXJlbmNlXCIsXG4gICAgbmFtZTogXCJSZWZlcmVuY2VcIixcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgdmFsdWUgcmVmZXJzIHRvIGEgZGlmZmVyZW50IGNvbGxlY3Rpb25cIixcbiAgICBJY29uOiBMaW5rSWNvbixcbiAgICBjb2xvcjogXCIjZmYwMDQyXCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcInJlZmVyZW5jZVwiLFxuICAgICAgRmllbGQ6IFJlZmVyZW5jZUZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAgbXVsdGlfcmVmZXJlbmNlczoge1xuICAgIGtleTogXCJtdWx0aV9yZWZlcmVuY2VzXCIsXG4gICAgbmFtZTogXCJNdWx0aXBsZSByZWZlcmVuY2VzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiTXVsdGlwbGUgdmFsdWVzIHRoYXQgcmVmZXIgdG8gYSBkaWZmZXJlbnQgY29sbGVjdGlvblwiLFxuICAgIEljb246IEFkZExpbmtJY29uLFxuICAgIGNvbG9yOiBcIiNmZjAwNDJcIixcbiAgICBwcm9wZXJ0eToge1xuICAgICAgZGF0YVR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG9mOiB7XG4gICAgICAgIGRhdGFUeXBlOiBcInJlZmVyZW5jZVwiXG4gICAgICB9LFxuICAgICAgRmllbGQ6IEFycmF5T2ZSZWZlcmVuY2VzRmllbGRCaW5kaW5nXG4gICAgfVxuICB9LFxuICBkYXRlX3RpbWU6IHtcbiAgICBrZXk6IFwiZGF0ZV90aW1lXCIsXG4gICAgbmFtZTogXCJEYXRlL3RpbWVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBIGRhdGUgdGltZSBzZWxlY3QgZmllbGRcIixcbiAgICBJY29uOiBTY2hlZHVsZUljb24sXG4gICAgY29sb3I6IFwiIzhiNDZmZlwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJkYXRlXCIsXG4gICAgICBGaWVsZDogRGF0ZVRpbWVGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIGdyb3VwOiB7XG4gICAga2V5OiBcImdyb3VwXCIsXG4gICAgbmFtZTogXCJHcm91cFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdyb3VwIG9mIG11bHRpcGxlIGZpZWxkc1wiLFxuICAgIEljb246IEJhbGxvdEljb24sXG4gICAgY29sb3I6IFwiI2ZmOTQwOFwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJtYXBcIixcbiAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgRmllbGQ6IE1hcEZpZWxkQmluZGluZ1xuICAgIH1cbiAgfSxcbiAga2V5X3ZhbHVlOiB7XG4gICAga2V5OiBcImtleV92YWx1ZVwiLFxuICAgIG5hbWU6IFwiS2V5LXZhbHVlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRmxleGlibGUgZmllbGQgdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gYWRkIG11bHRpcGxlIGtleS12YWx1ZSBwYWlyc1wiLFxuICAgIEljb246IEJhbGxvdEljb24sXG4gICAgY29sb3I6IFwiI2ZmOTQwOFwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJtYXBcIixcbiAgICAgIGtleVZhbHVlOiB0cnVlLFxuICAgICAgRmllbGQ6IEtleVZhbHVlRmllbGRCaW5kaW5nXG4gICAgfVxuICB9LFxuICByZXBlYXQ6IHtcbiAgICBrZXk6IFwicmVwZWF0XCIsXG4gICAgbmFtZTogXCJSZXBlYXQvbGlzdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkEgZmllbGQgdGhhdCBnZXRzIHJlcGVhdGVkIG11bHRpcGxlIHRpbWVzIChlLmcuIG11bHRpcGxlIHRleHQgZmllbGRzKVwiLFxuICAgIEljb246IFJlcGVhdEljb24sXG4gICAgY29sb3I6IFwiI2ZmOTQwOFwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJhcnJheVwiLFxuICAgICAgb2Y6IHtcbiAgICAgICAgZGF0YVR5cGU6IFwic3RyaW5nXCJcbiAgICAgIH0sXG4gICAgICBGaWVsZDogUmVwZWF0RmllbGRCaW5kaW5nXG4gICAgfVxuICB9LFxuICBjdXN0b21fYXJyYXk6IHtcbiAgICBrZXk6IFwiY3VzdG9tX2FycmF5XCIsXG4gICAgbmFtZTogXCJDdXN0b20gYXJyYXlcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBIGZpZWxkIHRoYXQgc2F2ZWQgaXRzIHZhbHVlIGFzIGFuIGFycmF5IG9mIGN1c3RvbSBvYmplY3RzXCIsXG4gICAgSWNvbjogUmVwZWF0SWNvbixcbiAgICBjb2xvcjogXCIjZmY5NDA4XCIsXG4gICAgcHJvcGVydHk6IHtcbiAgICAgIGRhdGFUeXBlOiBcImFycmF5XCIsXG4gICAgICBvZjogW10sXG4gICAgICBGaWVsZDogQXJyYXlDdXN0b21TaGFwZWRGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH0sXG4gIGJsb2NrOiB7XG4gICAga2V5OiBcImJsb2NrXCIsXG4gICAgbmFtZTogXCJCbG9ja1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkEgY29tcGxleCBmaWVsZCB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBjb21wb3NlIGRpZmZlcmVudCBmaWVsZHMgdG9nZXRoZXIsIHdpdGggYSBrZXkvdmFsdWUgZm9ybWF0XCIsXG4gICAgSWNvbjogVmlld1N0cmVhbUljb24sXG4gICAgY29sb3I6IFwiI2ZmOTQwOFwiLFxuICAgIHByb3BlcnR5OiB7XG4gICAgICBkYXRhVHlwZTogXCJhcnJheVwiLFxuICAgICAgb25lT2Y6IHtcbiAgICAgICAgcHJvcGVydGllczoge31cbiAgICAgIH0sXG4gICAgICBGaWVsZDogQmxvY2tGaWVsZEJpbmRpbmdcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBnZXREZWZhdWx0RmllbGRDb25maWcocHJvcGVydHkpIHtcbiAgY29uc3QgZmllbGRJZCA9IGdldERlZmF1bHRGaWVsZElkKHByb3BlcnR5KTtcbiAgaWYgKCFmaWVsZElkKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk5vIGZpZWxkIGlkIGZvdW5kIGZvciBwcm9wZXJ0eVwiLCBwcm9wZXJ0eSk7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gREVGQVVMVF9GSUVMRF9DT05GSUdTW2ZpZWxkSWRdO1xufVxuZnVuY3Rpb24gZ2V0RmllbGRDb25maWcocHJvcGVydHksIHByb3BlcnR5Q29uZmlncykge1xuICBjb25zdCBmaWVsZElkID0gZ2V0RmllbGRJZChwcm9wZXJ0eSk7XG4gIGNvbnN0IGRlZmF1bHRGaWVsZElkID0gZ2V0RGVmYXVsdEZpZWxkSWQocHJvcGVydHkpO1xuICBpZiAoIWRlZmF1bHRGaWVsZElkKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk5vIGZpZWxkIGlkIGZvdW5kIGZvciBwcm9wZXJ0eVwiLCBwcm9wZXJ0eSk7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBkZWZhdWx0RmllbGRDb25maWcgPSBERUZBVUxUX0ZJRUxEX0NPTkZJR1NbZGVmYXVsdEZpZWxkSWRdO1xuICBjb25zdCBjdXN0b21GaWVsZCA9IGZpZWxkSWQgPyBwcm9wZXJ0eUNvbmZpZ3NbZmllbGRJZF0gOiB2b2lkIDA7XG4gIHJldHVybiBtZXJnZURlZXAoZGVmYXVsdEZpZWxkQ29uZmlnID8/IHt9LCBjdXN0b21GaWVsZCA/PyB7fSk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0RmllbGRJZChwcm9wZXJ0eSkge1xuICBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAocHJvcGVydHkubXVsdGlsaW5lKSB7XG4gICAgICByZXR1cm4gXCJtdWx0aWxpbmVcIjtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5Lm1hcmtkb3duKSB7XG4gICAgICByZXR1cm4gXCJtYXJrZG93blwiO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkuc3RvcmFnZSkge1xuICAgICAgcmV0dXJuIFwiZmlsZV91cGxvYWRcIjtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5LnVybCkge1xuICAgICAgcmV0dXJuIFwidXJsXCI7XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5lbWFpbCkge1xuICAgICAgcmV0dXJuIFwiZW1haWxcIjtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5LmVudW1WYWx1ZXMpIHtcbiAgICAgIHJldHVybiBcInNlbGVjdFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJ0ZXh0X2ZpZWxkXCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKHByb3BlcnR5LmVudW1WYWx1ZXMpIHtcbiAgICAgIHJldHVybiBcIm51bWJlcl9zZWxlY3RcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwibnVtYmVyX2lucHV0XCI7XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwibWFwXCIpIHtcbiAgICBpZiAocHJvcGVydHkua2V5VmFsdWUpIHJldHVybiBcImtleV92YWx1ZVwiO1xuICAgIHJldHVybiBcImdyb3VwXCI7XG4gIH0gZWxzZSBpZiAocHJvcGVydHkuZGF0YVR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgIGNvbnN0IG9mID0gcHJvcGVydHkub2Y7XG4gICAgY29uc3Qgb25lT2YgPSBwcm9wZXJ0eS5vbmVPZjtcbiAgICBpZiAob25lT2YpIHtcbiAgICAgIHJldHVybiBcImJsb2NrXCI7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9mKSkge1xuICAgICAgcmV0dXJuIFwiY3VzdG9tX2FycmF5XCI7XG4gICAgfSBlbHNlIGlmIChpc1Byb3BlcnR5QnVpbGRlcihvZikpIHtcbiAgICAgIHJldHVybiBcInJlcGVhdFwiO1xuICAgIH0gZWxzZSBpZiAob2Y/LmRhdGFUeXBlID09PSBcInN0cmluZ1wiICYmIG9mLmVudW1WYWx1ZXMpIHtcbiAgICAgIHJldHVybiBcIm11bHRpX3NlbGVjdFwiO1xuICAgIH0gZWxzZSBpZiAob2Y/LmRhdGFUeXBlID09PSBcIm51bWJlclwiICYmIG9mLmVudW1WYWx1ZXMpIHtcbiAgICAgIHJldHVybiBcIm11bHRpX251bWJlcl9zZWxlY3RcIjtcbiAgICB9IGVsc2UgaWYgKG9mPy5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBvZi5zdG9yYWdlKSB7XG4gICAgICByZXR1cm4gXCJtdWx0aV9maWxlX3VwbG9hZFwiO1xuICAgIH0gZWxzZSBpZiAob2Y/LmRhdGFUeXBlID09PSBcInJlZmVyZW5jZVwiKSB7XG4gICAgICByZXR1cm4gXCJtdWx0aV9yZWZlcmVuY2VzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcInJlcGVhdFwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gXCJzd2l0Y2hcIjtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJkYXRlXCIpIHtcbiAgICByZXR1cm4gXCJkYXRlX3RpbWVcIjtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJyZWZlcmVuY2VcIikge1xuICAgIHJldHVybiBcInJlZmVyZW5jZVwiO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJVbnN1cHBvcnRlZCBmaWVsZCBjb25maWcgbWFwcGluZ1wiLCBwcm9wZXJ0eSk7XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBnZXRGaWVsZElkKHByb3BlcnR5KSB7XG4gIGlmIChwcm9wZXJ0eS5wcm9wZXJ0eUNvbmZpZykgcmV0dXJuIHByb3BlcnR5LnByb3BlcnR5Q29uZmlnO1xuICByZXR1cm4gZ2V0RGVmYXVsdEZpZWxkSWQocHJvcGVydHkpO1xufVxuY29uc3QgcmVzb2x2ZUNvbGxlY3Rpb24gPSAoe1xuICBjb2xsZWN0aW9uLFxuICBwYXRoLFxuICBlbnRpdHlJZCxcbiAgdmFsdWVzLFxuICBwcmV2aW91c1ZhbHVlcyxcbiAgdXNlckNvbmZpZ1BlcnNpc3RlbmNlLFxuICBwcm9wZXJ0eUNvbmZpZ3MsXG4gIGlnbm9yZU1pc3NpbmdGaWVsZHMgPSBmYWxzZVxufSkgPT4ge1xuICBjb25zdCBjb2xsZWN0aW9uT3ZlcnJpZGUgPSB1c2VyQ29uZmlnUGVyc2lzdGVuY2U/LmdldENvbGxlY3Rpb25Db25maWcocGF0aCk7XG4gIGNvbnN0IHN0b3JlZFByb3BlcnRpZXMgPSBnZXRWYWx1ZUluUGF0aChjb2xsZWN0aW9uT3ZlcnJpZGUsIFwicHJvcGVydGllc1wiKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlcyA9IGdldERlZmF1bHRWYWx1ZXNGb3IoY29sbGVjdGlvbi5wcm9wZXJ0aWVzKTtcbiAgY29uc3QgdXNlZFZhbHVlcyA9IHZhbHVlcyA/PyBkZWZhdWx0VmFsdWVzO1xuICBjb25zdCB1c2VkUHJldmlvdXNWYWx1ZXMgPSBwcmV2aW91c1ZhbHVlcyA/PyB2YWx1ZXMgPz8gZGVmYXVsdFZhbHVlcztcbiAgY29uc3QgcmVzb2x2ZWRQcm9wZXJ0aWVzID0gT2JqZWN0LmVudHJpZXMoY29sbGVjdGlvbi5wcm9wZXJ0aWVzKS5tYXAoKFtrZXksIHByb3BlcnR5T3JCdWlsZGVyXSkgPT4ge1xuICAgIGNvbnN0IGNoaWxkUmVzb2x2ZWRQcm9wZXJ0eSA9IHJlc29sdmVQcm9wZXJ0eSh7XG4gICAgICBwcm9wZXJ0eUtleToga2V5LFxuICAgICAgcHJvcGVydHlPckJ1aWxkZXIsXG4gICAgICB2YWx1ZXM6IHVzZWRWYWx1ZXMsXG4gICAgICBwcmV2aW91c1ZhbHVlczogdXNlZFByZXZpb3VzVmFsdWVzLFxuICAgICAgcGF0aCxcbiAgICAgIGVudGl0eUlkLFxuICAgICAgcHJvcGVydHlDb25maWdzLFxuICAgICAgaWdub3JlTWlzc2luZ0ZpZWxkc1xuICAgIH0pO1xuICAgIGlmICghY2hpbGRSZXNvbHZlZFByb3BlcnR5KSByZXR1cm4ge307XG4gICAgcmV0dXJuIHtcbiAgICAgIFtrZXldOiBjaGlsZFJlc29sdmVkUHJvcGVydHlcbiAgICB9O1xuICB9KS5maWx0ZXIoKGEpID0+IGEgIT09IG51bGwpLnJlZHVjZSgoYSwgYikgPT4gKHtcbiAgICAuLi5hLFxuICAgIC4uLmJcbiAgfSksIHt9KTtcbiAgY29uc3QgcHJvcGVydGllcyA9IG1lcmdlRGVlcChyZXNvbHZlZFByb3BlcnRpZXMsIHN0b3JlZFByb3BlcnRpZXMpO1xuICBjb25zdCBjbGVhbmVkUHJvcGVydGllcyA9IE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLmZpbHRlcigoW18sIHByb3BlcnR5XSkgPT4gQm9vbGVhbihwcm9wZXJ0eT8uZGF0YVR5cGUpKS5tYXAoKFtpZCwgcHJvcGVydHldKSA9PiAoe1xuICAgIFtpZF06IHByb3BlcnR5XG4gIH0pKS5yZWR1Y2UoKGEsIGIpID0+ICh7XG4gICAgLi4uYSxcbiAgICAuLi5iXG4gIH0pLCB7fSk7XG4gIHJldHVybiB7XG4gICAgLi4uY29sbGVjdGlvbixcbiAgICBwcm9wZXJ0aWVzOiBjbGVhbmVkUHJvcGVydGllcyxcbiAgICBvcmlnaW5hbENvbGxlY3Rpb246IGNvbGxlY3Rpb25cbiAgfTtcbn07XG5mdW5jdGlvbiByZXNvbHZlUHJvcGVydHkoe1xuICBwcm9wZXJ0eU9yQnVpbGRlcixcbiAgZnJvbUJ1aWxkZXIgPSBmYWxzZSxcbiAgaWdub3JlTWlzc2luZ0ZpZWxkcyA9IGZhbHNlLFxuICAuLi5wcm9wc1xufSkge1xuICBpZiAodHlwZW9mIHByb3BlcnR5T3JCdWlsZGVyID09PSBcIm9iamVjdFwiICYmIFwicmVzb2x2ZWRcIiBpbiBwcm9wZXJ0eU9yQnVpbGRlcikge1xuICAgIHJldHVybiBwcm9wZXJ0eU9yQnVpbGRlcjtcbiAgfVxuICBsZXQgcmVzb2x2ZWRQcm9wZXJ0eSA9IG51bGw7XG4gIGlmICghcHJvcGVydHlPckJ1aWxkZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChpc1Byb3BlcnR5QnVpbGRlcihwcm9wZXJ0eU9yQnVpbGRlcikpIHtcbiAgICBjb25zdCBwYXRoID0gcHJvcHMucGF0aDtcbiAgICBpZiAoIXBhdGgpIHRocm93IEVycm9yKFwiVHJ5aW5nIHRvIHJlc29sdmUgYSBwcm9wZXJ0eSBidWlsZGVyIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgZW50aXR5IHBhdGhcIik7XG4gICAgY29uc3QgdXNlZFByb3BlcnR5VmFsdWUgPSBwcm9wcy5wcm9wZXJ0eUtleSA/IGdldEluKHByb3BzLnZhbHVlcywgcHJvcHMucHJvcGVydHlLZXkpIDogdm9pZCAwO1xuICAgIGNvbnN0IHJlc3VsdCA9IHByb3BlcnR5T3JCdWlsZGVyKHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcGF0aCxcbiAgICAgIHByb3BlcnR5VmFsdWU6IHVzZWRQcm9wZXJ0eVZhbHVlLFxuICAgICAgdmFsdWVzOiBwcm9wcy52YWx1ZXMgPz8ge30sXG4gICAgICBwcmV2aW91c1ZhbHVlczogcHJvcHMucHJldmlvdXNWYWx1ZXMgPz8gcHJvcHMudmFsdWVzID8/IHt9XG4gICAgfSk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXNvbHZlZFByb3BlcnR5ID0gcmVzb2x2ZVByb3BlcnR5KHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcHJvcGVydHlPckJ1aWxkZXI6IHJlc3VsdCxcbiAgICAgIGZyb21CdWlsZGVyOiB0cnVlLFxuICAgICAgaWdub3JlTWlzc2luZ0ZpZWxkc1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydHlPckJ1aWxkZXI7XG4gICAgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcIm1hcFwiICYmIHByb3BlcnR5LnByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSByZXNvbHZlUHJvcGVydGllcyh7XG4gICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHMsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0eS5wcm9wZXJ0aWVzXG4gICAgICB9KTtcbiAgICAgIHJlc29sdmVkUHJvcGVydHkgPSB7XG4gICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICByZXNvbHZlZDogdHJ1ZSxcbiAgICAgICAgZnJvbUJ1aWxkZXIsXG4gICAgICAgIHByb3BlcnRpZXNcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICByZXNvbHZlZFByb3BlcnR5ID0gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgZnJvbUJ1aWxkZXIsXG4gICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHMsXG4gICAgICAgIC4uLnByb3BzXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJudW1iZXJcIikgJiYgcHJvcGVydHkuZW51bVZhbHVlcykge1xuICAgICAgcmVzb2x2ZWRQcm9wZXJ0eSA9IHJlc29sdmVQcm9wZXJ0eUVudW0ocHJvcGVydHksIGZyb21CdWlsZGVyKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyZXNvbHZlZFByb3BlcnR5KSB7XG4gICAgcmVzb2x2ZWRQcm9wZXJ0eSA9IHtcbiAgICAgIC4uLnByb3BlcnR5T3JCdWlsZGVyLFxuICAgICAgcmVzb2x2ZWQ6IHRydWUsXG4gICAgICBmcm9tQnVpbGRlclxuICAgIH07XG4gIH1cbiAgaWYgKHJlc29sdmVkUHJvcGVydHkucHJvcGVydHlDb25maWcgJiYgIWlzRGVmYXVsdEZpZWxkQ29uZmlnSWQocmVzb2x2ZWRQcm9wZXJ0eS5wcm9wZXJ0eUNvbmZpZykpIHtcbiAgICBjb25zdCBjbXNGaWVsZHMgPSBwcm9wcy5wcm9wZXJ0eUNvbmZpZ3M7XG4gICAgaWYgKCFjbXNGaWVsZHMgJiYgIWlnbm9yZU1pc3NpbmdGaWVsZHMpIHtcbiAgICAgIHRocm93IEVycm9yKGBUcnlpbmcgdG8gcmVzb2x2ZSBhIHByb3BlcnR5IHdpdGgga2V5ICcke3Jlc29sdmVkUHJvcGVydHkucHJvcGVydHlDb25maWd9JyB0aGF0IGluaGVyaXRzIGZyb20gYSBjdXN0b20gcHJvcGVydHkgY29uZmlnIGJ1dCBubyBjdXN0b20gcHJvcGVydHkgY29uZmlncyB3ZXJlIHByb3ZpZGVkLiBVc2UgdGhlIHByb3BlcnR5ICdwcm9wZXJ0eUNvbmZpZ3MnIGluIHlvdXIgYXBwIGNvbmZpZyB0byBwcm92aWRlIHRoZW1gKTtcbiAgICB9XG4gICAgY29uc3QgY3VzdG9tRmllbGQgPSBjbXNGaWVsZHM/LltyZXNvbHZlZFByb3BlcnR5LnByb3BlcnR5Q29uZmlnXTtcbiAgICBpZiAoIWN1c3RvbUZpZWxkKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFRyeWluZyB0byByZXNvbHZlIGEgcHJvcGVydHkgd2l0aCBrZXkgJyR7cmVzb2x2ZWRQcm9wZXJ0eS5wcm9wZXJ0eUNvbmZpZ30nIHRoYXQgaW5oZXJpdHMgZnJvbSBhIGN1c3RvbSBwcm9wZXJ0eSBjb25maWcgYnV0IG5vIGN1c3RvbSBwcm9wZXJ0eSBjb25maWcgd2l0aCB0aGF0IGtleSB3YXMgZm91bmQuIENoZWNrIHRoZSAncHJvcGVydHlDb25maWdzJyBpbiB5b3VyIGFwcCBjb25maWdgKTtcbiAgICAgIGNvbnNvbGUud2FybihcIkF2YWlsYWJsZSBwcm9wZXJ0eSBjb25maWdzXCIsIGNtc0ZpZWxkcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1c3RvbUZpZWxkLnByb3BlcnR5KSB7XG4gICAgICBjb25zdCBjb25maWdQcm9wZXJ0eU9yQnVpbGRlciA9IGN1c3RvbUZpZWxkLnByb3BlcnR5O1xuICAgICAgaWYgKFwicHJvcGVydHlDb25maWdcIiBpbiBjb25maWdQcm9wZXJ0eU9yQnVpbGRlcikge1xuICAgICAgICBkZWxldGUgY29uZmlnUHJvcGVydHlPckJ1aWxkZXIucHJvcGVydHlDb25maWc7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXN0b21GaWVsZFByb3BlcnR5ID0gcmVzb2x2ZVByb3BlcnR5KHtcbiAgICAgICAgcHJvcGVydHlPckJ1aWxkZXI6IGNvbmZpZ1Byb3BlcnR5T3JCdWlsZGVyLFxuICAgICAgICBpZ25vcmVNaXNzaW5nRmllbGRzLFxuICAgICAgICAuLi5wcm9wc1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VzdG9tRmllbGRQcm9wZXJ0eSkge1xuICAgICAgICByZXNvbHZlZFByb3BlcnR5ID0gbWVyZ2VEZWVwKGN1c3RvbUZpZWxkUHJvcGVydHksIHJlc29sdmVkUHJvcGVydHkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzb2x2ZWRQcm9wZXJ0eSA/IHtcbiAgICAuLi5yZXNvbHZlZFByb3BlcnR5LFxuICAgIHJlc29sdmVkOiB0cnVlXG4gIH0gOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0QXJyYXlSZXNvbHZlZFByb3BlcnRpZXMoe1xuICBwcm9wZXJ0eUtleSxcbiAgcHJvcGVydHlWYWx1ZSxcbiAgcHJvcGVydHksXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IG9mID0gcHJvcGVydHkub2Y7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHByb3BlcnR5VmFsdWUpID8gcHJvcGVydHlWYWx1ZS5tYXAoKHYsIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVQcm9wZXJ0eSh7XG4gICAgICBwcm9wZXJ0eUtleTogYCR7cHJvcGVydHlLZXl9LiR7aW5kZXh9YCxcbiAgICAgIHByb3BlcnR5T3JCdWlsZGVyOiBvZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgaW5kZXhcbiAgICB9KTtcbiAgfSkuZmlsdGVyKChlKSA9PiBCb29sZWFuKGUpKSA6IFtdO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUFycmF5UHJvcGVydHkoe1xuICBwcm9wZXJ0eUtleSxcbiAgcHJvcGVydHksXG4gIGlnbm9yZU1pc3NpbmdGaWVsZHMgPSBmYWxzZSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHByb3BlcnR5S2V5ID8gZ2V0SW4ocHJvcHMudmFsdWVzLCBwcm9wZXJ0eUtleSkgOiB2b2lkIDA7XG4gIGlmIChwcm9wZXJ0eS5vZikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5Lm9mKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgIHJlc29sdmVkOiB0cnVlLFxuICAgICAgICBmcm9tQnVpbGRlcjogcHJvcHMuZnJvbUJ1aWxkZXIsXG4gICAgICAgIHJlc29sdmVkUHJvcGVydGllczogcHJvcGVydHkub2YubWFwKChwLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgICAgICAgcHJvcGVydHlLZXk6IGAke3Byb3BlcnR5S2V5fS4ke2luZGV4fWAsXG4gICAgICAgICAgICBwcm9wZXJ0eU9yQnVpbGRlcjogcCxcbiAgICAgICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHMsXG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvZiA9IHByb3BlcnR5Lm9mO1xuICAgICAgY29uc3QgcmVzb2x2ZWRQcm9wZXJ0aWVzID0gZ2V0QXJyYXlSZXNvbHZlZFByb3BlcnRpZXMoe1xuICAgICAgICBwcm9wZXJ0eVZhbHVlLFxuICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHMsXG4gICAgICAgIC4uLnByb3BzXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG9mUHJvcGVydHkgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgICBwcm9wZXJ0eU9yQnVpbGRlcjogb2YsXG4gICAgICAgIGlnbm9yZU1pc3NpbmdGaWVsZHMsXG4gICAgICAgIC4uLnByb3BzXG4gICAgICB9KTtcbiAgICAgIGlmICghb2ZQcm9wZXJ0eSAmJiAhaWdub3JlTWlzc2luZ0ZpZWxkcykgdGhyb3cgRXJyb3IoXCJXaGVuIHVzaW5nIGEgcHJvcGVydHkgYnVpbGRlciBhcyB0aGUgJ29mJyBwcm9wIG9mIGFuIEFycmF5UHJvcGVydHksIHlvdSBtdXN0IHJldHVybiBhIHZhbGlkIGNoaWxkIHByb3BlcnR5XCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgIHJlc29sdmVkOiB0cnVlLFxuICAgICAgICBmcm9tQnVpbGRlcjogcHJvcHMuZnJvbUJ1aWxkZXIsXG4gICAgICAgIG9mOiBvZlByb3BlcnR5LFxuICAgICAgICByZXNvbHZlZFByb3BlcnRpZXNcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BlcnR5Lm9uZU9mKSB7XG4gICAgY29uc3QgdHlwZUZpZWxkID0gcHJvcGVydHkub25lT2Y/LnR5cGVGaWVsZCA/PyBERUZBVUxUX09ORV9PRl9UWVBFO1xuICAgIGNvbnN0IHJlc29sdmVkUHJvcGVydGllcyA9IEFycmF5LmlzQXJyYXkocHJvcGVydHlWYWx1ZSkgPyBwcm9wZXJ0eVZhbHVlLm1hcCgodiwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB2ICYmIHZbdHlwZUZpZWxkXTtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcGVydHkgPSBwcm9wZXJ0eS5vbmVPZj8ucHJvcGVydGllc1t0eXBlXTtcbiAgICAgIGlmICghdHlwZSB8fCAhY2hpbGRQcm9wZXJ0eSkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gcmVzb2x2ZVByb3BlcnR5KHtcbiAgICAgICAgcHJvcGVydHlLZXk6IGAke3Byb3BlcnR5S2V5fS4ke2luZGV4fWAsXG4gICAgICAgIHByb3BlcnR5T3JCdWlsZGVyOiBjaGlsZFByb3BlcnR5LFxuICAgICAgICBpZ25vcmVNaXNzaW5nRmllbGRzLFxuICAgICAgICAuLi5wcm9wc1xuICAgICAgfSk7XG4gICAgfSkuZmlsdGVyKChlKSA9PiBCb29sZWFuKGUpKSA6IFtdO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSByZXNvbHZlUHJvcGVydGllcyh7XG4gICAgICBwcm9wZXJ0eUtleSxcbiAgICAgIHByb3BlcnRpZXM6IHByb3BlcnR5Lm9uZU9mLnByb3BlcnRpZXMsXG4gICAgICBpZ25vcmVNaXNzaW5nRmllbGRzLFxuICAgICAgLi4ucHJvcHNcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvcGVydHksXG4gICAgICByZXNvbHZlZDogdHJ1ZSxcbiAgICAgIG9uZU9mOiB7XG4gICAgICAgIC4uLnByb3BlcnR5Lm9uZU9mLFxuICAgICAgICBwcm9wZXJ0aWVzXG4gICAgICB9LFxuICAgICAgZnJvbUJ1aWxkZXI6IHByb3BzLmZyb21CdWlsZGVyLFxuICAgICAgcmVzb2x2ZWRQcm9wZXJ0aWVzXG4gICAgfTtcbiAgfSBlbHNlIGlmICghcHJvcGVydHkuRmllbGQpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBhcnJheSBwcm9wZXJ0eSBuZWVkcyB0byBkZWNsYXJlIGFuICdvZicgb3IgYSAnb25lT2YnIHByb3BlcnR5LCBvciBwcm92aWRlIGEgY3VzdG9tIGBGaWVsZGBcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgcmVzb2x2ZWQ6IHRydWUsXG4gICAgICBmcm9tQnVpbGRlcjogcHJvcHMuZnJvbUJ1aWxkZXJcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcGVydGllcyh7XG4gIHByb3BlcnR5S2V5LFxuICBwcm9wZXJ0aWVzLFxuICBpZ25vcmVNaXNzaW5nRmllbGRzLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykubWFwKChba2V5LCBwcm9wZXJ0eV0pID0+IHtcbiAgICBjb25zdCBjaGlsZFJlc29sdmVkUHJvcGVydHkgPSByZXNvbHZlUHJvcGVydHkoe1xuICAgICAgcHJvcGVydHlLZXk6IHByb3BlcnR5S2V5ID8gYCR7cHJvcGVydHlLZXl9LiR7a2V5fWAgOiB2b2lkIDAsXG4gICAgICBwcm9wZXJ0eU9yQnVpbGRlcjogcHJvcGVydHksXG4gICAgICBpZ25vcmVNaXNzaW5nRmllbGRzLFxuICAgICAgLi4ucHJvcHNcbiAgICB9KTtcbiAgICBpZiAoIWNoaWxkUmVzb2x2ZWRQcm9wZXJ0eSkgcmV0dXJuIHt9O1xuICAgIHJldHVybiB7XG4gICAgICBba2V5XTogY2hpbGRSZXNvbHZlZFByb3BlcnR5XG4gICAgfTtcbiAgfSkuZmlsdGVyKChhKSA9PiBhICE9PSBudWxsKS5yZWR1Y2UoKGEsIGIpID0+ICh7XG4gICAgLi4uYSxcbiAgICAuLi5iXG4gIH0pLCB7fSk7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcGVydHlFbnVtKHByb3BlcnR5LCBmcm9tQnVpbGRlcikge1xuICBpZiAodHlwZW9mIHByb3BlcnR5LmVudW1WYWx1ZXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvcGVydHksXG4gICAgICByZXNvbHZlZDogdHJ1ZSxcbiAgICAgIGVudW1WYWx1ZXM6IGVudW1Ub09iamVjdEVudHJpZXMocHJvcGVydHkuZW51bVZhbHVlcyk/LmZpbHRlcigodmFsdWUpID0+IHZhbHVlICYmICh2YWx1ZS5pZCB8fCB2YWx1ZS5pZCA9PT0gMCkgJiYgdmFsdWUubGFiZWwpID8/IFtdLFxuICAgICAgZnJvbUJ1aWxkZXI6IGZyb21CdWlsZGVyID8/IGZhbHNlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcHJvcGVydHk7XG59XG5mdW5jdGlvbiByZXNvbHZlRW51bVZhbHVlcyhpbnB1dCkge1xuICBpZiAodHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGlucHV0KS5tYXAoKFtpZCwgdmFsdWVdKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB7XG4gICAgICBpZCxcbiAgICAgIGxhYmVsOiB2YWx1ZVxuICAgIH0gOiB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZUVudGl0eVZpZXcoZW50aXR5VmlldywgY29udGV4dEVudGl0eVZpZXdzKSB7XG4gIGlmICh0eXBlb2YgZW50aXR5VmlldyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBjb250ZXh0RW50aXR5Vmlld3M/LmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5rZXkgPT09IGVudGl0eVZpZXcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbnRpdHlWaWV3O1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlZFNlbGVjdGVkRW50aXR5VmlldyhjdXN0b21WaWV3cywgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIsIHNlbGVjdGVkVGFiKSB7XG4gIGNvbnN0IHJlc29sdmVkRW50aXR5Vmlld3MgPSBjdXN0b21WaWV3cyA/IGN1c3RvbVZpZXdzLm1hcCgoZSkgPT4gcmVzb2x2ZUVudGl0eVZpZXcoZSwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIuZW50aXR5Vmlld3MpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgY29uc3Qgc2VsZWN0ZWRFbnRpdHlWaWV3ID0gcmVzb2x2ZWRFbnRpdHlWaWV3cy5maW5kKChlKSA9PiBlLmtleSA9PT0gc2VsZWN0ZWRUYWIpO1xuICBjb25zdCBzZWxlY3RlZFNlY29uZGFyeUZvcm0gPSBjdXN0b21WaWV3cyAmJiByZXNvbHZlZEVudGl0eVZpZXdzLmZpbHRlcigoZSkgPT4gZS5pbmNsdWRlQWN0aW9ucykuZmluZCgoZSkgPT4gZS5rZXkgPT09IHNlbGVjdGVkVGFiKTtcbiAgcmV0dXJuIHtcbiAgICByZXNvbHZlZEVudGl0eVZpZXdzLFxuICAgIHNlbGVjdGVkRW50aXR5VmlldyxcbiAgICBzZWxlY3RlZFNlY29uZGFyeUZvcm1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldE5hdmlnYXRpb25FbnRyaWVzRnJvbVBhdGgocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHBhdGgsXG4gICAgY29sbGVjdGlvbnMgPSBbXSxcbiAgICBjdXJyZW50RnVsbFBhdGhcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzdWJwYXRocyA9IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocGF0aCkuc3BsaXQoXCIvXCIpO1xuICBjb25zdCBzdWJwYXRoQ29tYmluYXRpb25zID0gZ2V0Q29sbGVjdGlvblBhdGhzQ29tYmluYXRpb25zKHN1YnBhdGhzKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3VicGF0aENvbWJpbmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN1YnBhdGhDb21iaW5hdGlvbiA9IHN1YnBhdGhDb21iaW5hdGlvbnNbaV07XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zICYmIGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc3VicGF0aENvbWJpbmF0aW9uIHx8IGVudHJ5LnBhdGggPT09IHN1YnBhdGhDb21iaW5hdGlvbik7XG4gICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHBhdGhPckFsaWFzID0gY29sbGVjdGlvbi5pZCA/PyBjb2xsZWN0aW9uLnBhdGg7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uUGF0aCA9IGN1cnJlbnRGdWxsUGF0aCAmJiBjdXJyZW50RnVsbFBhdGgubGVuZ3RoID4gMCA/IGN1cnJlbnRGdWxsUGF0aCArIFwiL1wiICsgcGF0aE9yQWxpYXMgOiBwYXRoT3JBbGlhcztcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJjb2xsZWN0aW9uXCIsXG4gICAgICAgIGlkOiBjb2xsZWN0aW9uLmlkLFxuICAgICAgICBwYXRoOiBjb2xsZWN0aW9uUGF0aCxcbiAgICAgICAgZnVsbFBhdGg6IGNvbGxlY3Rpb25QYXRoLFxuICAgICAgICBjb2xsZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3RPZlRoZVBhdGggPSByZW1vdmVJbml0aWFsQW5kVHJhaWxpbmdTbGFzaGVzKHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocGF0aCkucmVwbGFjZShzdWJwYXRoQ29tYmluYXRpb24sIFwiXCIpKTtcbiAgICAgIGNvbnN0IG5leHRTZWdtZW50cyA9IHJlc3RPZlRoZVBhdGgubGVuZ3RoID4gMCA/IHJlc3RPZlRoZVBhdGguc3BsaXQoXCIvXCIpIDogW107XG4gICAgICBpZiAobmV4dFNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZW50aXR5SWQgPSBuZXh0U2VnbWVudHNbMF07XG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gY29sbGVjdGlvblBhdGggKyBcIi9cIiArIGVudGl0eUlkO1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICBwYXRoOiBjb2xsZWN0aW9uUGF0aCxcbiAgICAgICAgICBmdWxsUGF0aCxcbiAgICAgICAgICBwYXJlbnRDb2xsZWN0aW9uOiBjb2xsZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV4dFNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb25zdCBuZXdQYXRoID0gbmV4dFNlZ21lbnRzLnNsaWNlKDEpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJjb2xsZWN0aW9uIG5vdCBmb3VuZCByZXNvbHZpbmcgcGF0aDogXCIgKyBjb2xsZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZW50aXR5Vmlld3MgPSBjb2xsZWN0aW9uLmVudGl0eVZpZXdzO1xuICAgICAgICAgIGNvbnN0IGN1c3RvbVZpZXcgPSBlbnRpdHlWaWV3cyAmJiBlbnRpdHlWaWV3cy5tYXAoKGVudHJ5KSA9PiByZXNvbHZlRW50aXR5VmlldyhlbnRyeSwgcHJvcHMuY29udGV4dEVudGl0eVZpZXdzKSkuZmlsdGVyKEJvb2xlYW4pLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5rZXkgPT09IG5ld1BhdGgpO1xuICAgICAgICAgIGlmIChjdXN0b21WaWV3KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiY3VzdG9tX3ZpZXdcIixcbiAgICAgICAgICAgICAgcGF0aDogY29sbGVjdGlvblBhdGgsXG4gICAgICAgICAgICAgIGVudGl0eUlkLFxuICAgICAgICAgICAgICBmdWxsUGF0aDogZnVsbFBhdGggKyBcIi9cIiArIGN1c3RvbVZpZXcua2V5LFxuICAgICAgICAgICAgICB2aWV3OiBjdXN0b21WaWV3XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLmdldE5hdmlnYXRpb25FbnRyaWVzRnJvbVBhdGgoe1xuICAgICAgICAgICAgICBwYXRoOiBuZXdQYXRoLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uczogY29sbGVjdGlvbi5zdWJjb2xsZWN0aW9ucyxcbiAgICAgICAgICAgICAgY3VycmVudEZ1bGxQYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgY29udGV4dEVudGl0eVZpZXdzOiBwcm9wcy5jb250ZXh0RW50aXR5Vmlld3NcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgQ09OVEFJTkVSX0ZVTExfV0lEVEggPSBcIjEwMHZ3XCI7XG5jb25zdCBBRERJVElPTkFMX1RBQl9XSURUSCA9IFwiNTV2d1wiO1xuY29uc3QgRk9STV9DT05UQUlORVJfV0lEVEggPSBcIjc2OHB4XCI7XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uVW5zYXZlZENoYW5nZXNEaWFsb2cod2hlbiwgb25TdWNjZXNzKSB7XG4gIGNvbnN0IFtpc0RpYWxvZ09wZW4sIHNldElzRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwZW5kaW5nTmF2aWdhdGlvbiwgc2V0UGVuZGluZ05hdmlnYXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0RpYWxvZ09wZW4oZmFsc2UpO1xuICAgIHNldFBlbmRpbmdOYXZpZ2F0aW9uKG51bGwpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZU9rID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uKSB7XG4gICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbi50eXBlID09PSBcInBvcHN0YXRlXCIpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkuZ28ocGVuZGluZ05hdmlnYXRpb24uZGVsdGEpO1xuICAgICAgfSBlbHNlIGlmIChwZW5kaW5nTmF2aWdhdGlvbi50eXBlID09PSBcImxpbmtcIikge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBlbmRpbmdOYXZpZ2F0aW9uLmhyZWY7XG4gICAgICB9XG4gICAgICBzZXRQZW5kaW5nTmF2aWdhdGlvbihudWxsKTtcbiAgICB9XG4gIH0sIFtvblN1Y2Nlc3MsIHBlbmRpbmdOYXZpZ2F0aW9uXSk7XG4gIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKHdoZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUucmV0dXJuVmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgfSwgW3doZW5dKTtcbiAgY29uc3QgaGFuZGxlUG9wU3RhdGUgPSB1c2VDYWxsYmFjaygoZV8wKSA9PiB7XG4gICAgaWYgKHdoZW4pIHtcbiAgICAgIGVfMC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2V0UGVuZGluZ05hdmlnYXRpb24oe1xuICAgICAgICB0eXBlOiBcInBvcHN0YXRlXCIsXG4gICAgICAgIGRlbHRhOiAtMVxuICAgICAgfSk7XG4gICAgICBzZXRJc0RpYWxvZ09wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCBbd2hlbl0pO1xuICBjb25zdCBoYW5kbGVMaW5rQ2xpY2sgPSB1c2VDYWxsYmFjaygoZV8xKSA9PiB7XG4gICAgaWYgKCF3aGVuKSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0ID0gZV8xLnRhcmdldDtcbiAgICBjb25zdCBhbmNob3IgPSB0YXJnZXQuY2xvc2VzdChcImFbaHJlZl1cIik7XG4gICAgaWYgKGFuY2hvciAmJiBhbmNob3IuaG9zdCA9PT0gd2luZG93LmxvY2F0aW9uLmhvc3QpIHtcbiAgICAgIGVfMS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaHJlZiA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgc2V0UGVuZGluZ05hdmlnYXRpb24oe1xuICAgICAgICAgIHR5cGU6IFwibGlua1wiLFxuICAgICAgICAgIGhyZWZcbiAgICAgICAgfSk7XG4gICAgICAgIHNldElzRGlhbG9nT3Blbih0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt3aGVuXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdoZW4pIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVMaW5rQ2xpY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBoYW5kbGVQb3BTdGF0ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTGlua0NsaWNrKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVMaW5rQ2xpY2spO1xuICAgIH07XG4gIH0sIFt3aGVuLCBoYW5kbGVCZWZvcmVVbmxvYWQsIGhhbmRsZVBvcFN0YXRlLCBoYW5kbGVMaW5rQ2xpY2tdKTtcbiAgcmV0dXJuIHtcbiAgICBuYXZpZ2F0aW9uV2FzQmxvY2tlZDogaXNEaWFsb2dPcGVuLFxuICAgIGhhbmRsZUNhbmNlbCxcbiAgICBoYW5kbGVPa1xuICB9O1xufVxuZnVuY3Rpb24gVW5zYXZlZENoYW5nZXNEaWFsb2codDApIHtcbiAgY29uc3QgJCA9IGMoMjApO1xuICBjb25zdCB7XG4gICAgb3BlbixcbiAgICBoYW5kbGVPayxcbiAgICBoYW5kbGVDYW5jZWwsXG4gICAgYm9keSxcbiAgICB0aXRsZVxuICB9ID0gdDA7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGhhbmRsZUNhbmNlbCkge1xuICAgIHQxID0gKCkgPT4ge1xuICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgfTtcbiAgICAkWzBdID0gaGFuZGxlQ2FuY2VsO1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgbGV0IHQyO1xuICBpZiAoJFsyXSAhPT0gdGl0bGUpIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGlhbG9nVGl0bGUsIHsgdmFyaWFudDogXCJoNlwiLCBjaGlsZHJlbjogdGl0bGUgfSk7XG4gICAgJFsyXSA9IHRpdGxlO1xuICAgICRbM10gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbM107XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFs0XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjaGlsZHJlbjogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyBwYWdlP1wiIH0pO1xuICAgICRbNF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbNF07XG4gIH1cbiAgbGV0IHQ0O1xuICBpZiAoJFs1XSAhPT0gYm9keSkge1xuICAgIHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRGlhbG9nQ29udGVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgYm9keSxcbiAgICAgIHQzXG4gICAgXSB9KTtcbiAgICAkWzVdID0gYm9keTtcbiAgICAkWzZdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzZdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbN10gIT09IGhhbmRsZUNhbmNlbCkge1xuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgdmFyaWFudDogXCJ0ZXh0XCIsIG9uQ2xpY2s6IGhhbmRsZUNhbmNlbCwgYXV0b0ZvY3VzOiB0cnVlLCBjaGlsZHJlbjogXCIgQ2FuY2VsIFwiIH0pO1xuICAgICRbN10gPSBoYW5kbGVDYW5jZWw7XG4gICAgJFs4XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs4XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzldICE9PSBoYW5kbGVPaykge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgb25DbGljazogaGFuZGxlT2ssIGNoaWxkcmVuOiBcIiBPayBcIiB9KTtcbiAgICAkWzldID0gaGFuZGxlT2s7XG4gICAgJFsxMF0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTBdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTFdICE9PSB0NSB8fCAkWzEyXSAhPT0gdDYpIHtcbiAgICB0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKERpYWxvZ0FjdGlvbnMsIHsgY2hpbGRyZW46IFtcbiAgICAgIHQ1LFxuICAgICAgdDZcbiAgICBdIH0pO1xuICAgICRbMTFdID0gdDU7XG4gICAgJFsxMl0gPSB0NjtcbiAgICAkWzEzXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxM107XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxNF0gIT09IG9wZW4gfHwgJFsxNV0gIT09IHQxIHx8ICRbMTZdICE9PSB0MiB8fCAkWzE3XSAhPT0gdDQgfHwgJFsxOF0gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2csIHsgb25Fc2NhcGVLZXlEb3duOiB0MSwgb3BlbiwgY2hpbGRyZW46IFtcbiAgICAgIHQyLFxuICAgICAgdDQsXG4gICAgICB0N1xuICAgIF0gfSk7XG4gICAgJFsxNF0gPSBvcGVuO1xuICAgICRbMTVdID0gdDE7XG4gICAgJFsxNl0gPSB0MjtcbiAgICAkWzE3XSA9IHQ0O1xuICAgICRbMThdID0gdDc7XG4gICAgJFsxOV0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMTldO1xuICB9XG4gIHJldHVybiB0ODtcbn1cbmNvbnN0IFNpZGVEaWFsb2dDb250ZXh0ID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7XG4gIHdpZHRoOiBcIlwiLFxuICBibG9ja2VkOiBmYWxzZSxcbiAgc2V0QmxvY2tlZDogKGJsb2NrZWQpID0+IHtcbiAgfSxcbiAgc2V0QmxvY2tlZE5hdmlnYXRpb25NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICB9LFxuICBjbG9zZTogKCkgPT4ge1xuICB9LFxuICBwZW5kaW5nQ2xvc2U6IGZhbHNlLFxuICBzZXRQZW5kaW5nQ2xvc2U6ICgpID0+IHtcbiAgfVxufSk7XG5jb25zdCB1c2VTaWRlRGlhbG9nQ29udGV4dCA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoU2lkZURpYWxvZ0NvbnRleHQpO1xufTtcbmZ1bmN0aW9uIFNpZGVEaWFsb2dzKCkge1xuICBjb25zdCAkID0gYyg1KTtcbiAgY29uc3Qgc2lkZURpYWxvZ3NDb250cm9sbGVyID0gdXNlU2lkZURpYWxvZ3NDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZGVQYW5lbHMgPSBzaWRlRGlhbG9nc0NvbnRyb2xsZXIuc2lkZVBhbmVscztcbiAgbGV0IHBhbmVscztcbiAgaWYgKCRbMF0gIT09IHNpZGVQYW5lbHMpIHtcbiAgICBwYW5lbHMgPSBbLi4uc2lkZVBhbmVsc107XG4gICAgcGFuZWxzLnB1c2godm9pZCAwKTtcbiAgICAkWzBdID0gc2lkZVBhbmVscztcbiAgICAkWzFdID0gcGFuZWxzO1xuICB9IGVsc2Uge1xuICAgIHBhbmVscyA9ICRbMV07XG4gIH1cbiAgbGV0IHQwO1xuICBpZiAoJFsyXSAhPT0gcGFuZWxzIHx8ICRbM10gIT09IHNpZGVQYW5lbHMubGVuZ3RoKSB7XG4gICAgdDAgPSAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBwYW5lbHMubWFwKChwYW5lbCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goU2lkZURpYWxvZ1ZpZXcsIHsgcGFuZWwsIG9mZnNldFBvc2l0aW9uOiBzaWRlUGFuZWxzLmxlbmd0aCAtIGluZGV4IC0gMSB9LCBgc2lkZV9kaWFsb2dfJHtpbmRleH1gKSkgfSk7XG4gICAgJFsyXSA9IHBhbmVscztcbiAgICAkWzNdID0gc2lkZVBhbmVscy5sZW5ndGg7XG4gICAgJFs0XSA9IHQwO1xuICB9IGVsc2Uge1xuICAgIHQwID0gJFs0XTtcbiAgfVxuICByZXR1cm4gdDA7XG59XG5mdW5jdGlvbiBTaWRlRGlhbG9nVmlldyh7XG4gIG9mZnNldFBvc2l0aW9uLFxuICBwYW5lbFxufSkge1xuICBjb25zdCBbZHJhd2VyQ2xvc2VSZXF1ZXN0ZWQsIHNldERyYXdlckNsb3NlUmVxdWVzdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Jsb2NrZWQsIHNldEJsb2NrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYmxvY2tlZE5hdmlnYXRpb25NZXNzYWdlLCBzZXRCbG9ja2VkTmF2aWdhdGlvbk1lc3NhZ2VdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW3BlbmRpbmdDbG9zZSwgc2V0UGVuZGluZ0Nsb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgd2lkdGhSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYocGFuZWw/LndpZHRoKTtcbiAgY29uc3Qgd2lkdGggPSB3aWR0aFJlZi5jdXJyZW50O1xuICBjb25zdCBzaWRlRGlhbG9nc0NvbnRyb2xsZXIgPSB1c2VTaWRlRGlhbG9nc0NvbnRyb2xsZXIoKTtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRpb25XYXNCbG9ja2VkLFxuICAgIGhhbmRsZU9rOiBoYW5kbGVOYXZpZ2F0aW9uT2ssXG4gICAgaGFuZGxlQ2FuY2VsOiBoYW5kbGVOYXZpZ2F0aW9uQ2FuY2VsXG4gIH0gPSB1c2VOYXZpZ2F0aW9uVW5zYXZlZENoYW5nZXNEaWFsb2coYmxvY2tlZCAmJiAhZHJhd2VyQ2xvc2VSZXF1ZXN0ZWQsICgpID0+IHNldEJsb2NrZWQoZmFsc2UpKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocGFuZWwpIHdpZHRoUmVmLmN1cnJlbnQgPSBwYW5lbC53aWR0aDtcbiAgfSwgW3BhbmVsXSk7XG4gIGNvbnN0IGhhbmRsZURyYXdlckNsb3NlT2sgPSAoKSA9PiB7XG4gICAgc2V0QmxvY2tlZChmYWxzZSk7XG4gICAgc2V0RHJhd2VyQ2xvc2VSZXF1ZXN0ZWQoZmFsc2UpO1xuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5jbG9zZSgpO1xuICAgIHBhbmVsPy5vbkNsb3NlPy4oKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRHJhd2VyQ2xvc2VDYW5jZWwgPSAoKSA9PiB7XG4gICAgc2V0RHJhd2VyQ2xvc2VSZXF1ZXN0ZWQoZmFsc2UpO1xuICB9O1xuICBjb25zdCBvbkNsb3NlUmVxdWVzdCA9IChmb3JjZSkgPT4ge1xuICAgIGlmIChibG9ja2VkICYmICFmb3JjZSkge1xuICAgICAgc2V0RHJhd2VyQ2xvc2VSZXF1ZXN0ZWQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgcGFuZWw/Lm9uQ2xvc2U/LigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFNpZGVEaWFsb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XG4gICAgYmxvY2tlZCxcbiAgICBzZXRCbG9ja2VkLFxuICAgIHNldEJsb2NrZWROYXZpZ2F0aW9uTWVzc2FnZSxcbiAgICB3aWR0aCxcbiAgICBjbG9zZTogb25DbG9zZVJlcXVlc3QsXG4gICAgcGVuZGluZ0Nsb3NlLFxuICAgIHNldFBlbmRpbmdDbG9zZVxuICB9LCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFNoZWV0LCB7IG9wZW46IEJvb2xlYW4ocGFuZWwpLCBvbk9wZW5DaGFuZ2U6IChvcGVuKSA9PiAhb3BlbiAmJiBvbkNsb3NlUmVxdWVzdCgpLCB0aXRsZTogXCJTaWRlIGRpYWxvZyBcIiArIHBhbmVsPy5rZXksIGNoaWxkcmVuOiBbXG4gICAgICBwYW5lbCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRyYW5zZm9ybSBtYXgtdy1bMTAwdnddIGxnOm1heC13LVs5NXZ3XSBmbGV4IGZsZXgtY29sIGgtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yNTAgZWFzZS1pbi1vdXQgYmctd2hpdGUgZGFyazpiZy1zdXJmYWNlLTkwMCBcIiwgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IHBhbmVsLndpZHRoLFxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKC0ke29mZnNldFBvc2l0aW9uICogMjAwfXB4KWBcbiAgICAgIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IHBhbmVsLmNvbXBvbmVudCB9KSB9KSxcbiAgICAgICFwYW5lbCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgd2lkdGhcbiAgICAgIH0gfSlcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVW5zYXZlZENoYW5nZXNEaWFsb2csIHsgb3BlbjogZHJhd2VyQ2xvc2VSZXF1ZXN0ZWQsIGhhbmRsZU9rOiBkcmF3ZXJDbG9zZVJlcXVlc3RlZCA/IGhhbmRsZURyYXdlckNsb3NlT2sgOiBoYW5kbGVOYXZpZ2F0aW9uT2ssIGhhbmRsZUNhbmNlbDogZHJhd2VyQ2xvc2VSZXF1ZXN0ZWQgPyBoYW5kbGVEcmF3ZXJDbG9zZUNhbmNlbCA6IGhhbmRsZU5hdmlnYXRpb25DYW5jZWwsIGJvZHk6IGJsb2NrZWROYXZpZ2F0aW9uTWVzc2FnZSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gRW50aXR5RWRpdFZpZXdGb3JtQWN0aW9ucyh7XG4gIGNvbGxlY3Rpb24sXG4gIHBhdGgsXG4gIGVudGl0eSxcbiAgbGF5b3V0LFxuICBzYXZpbmdFcnJvcixcbiAgZm9ybWV4LFxuICBkaXNhYmxlZCxcbiAgc3RhdHVzLFxuICBwbHVnaW5BY3Rpb25zLFxuICBvcGVuRW50aXR5TW9kZSxcbiAgc2hvd0RlZmF1bHRBY3Rpb25zID0gdHJ1ZVxufSkge1xuICBjb25zdCBhdXRoQ29udHJvbGxlciA9IHVzZUF1dGhDb250cm9sbGVyKCk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZVNpZGVFbnRpdHlDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZGVEaWFsb2dDb250ZXh0ID0gdXNlU2lkZURpYWxvZ0NvbnRleHQoKTtcbiAgY29uc3QgZW50aXR5QWN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGN1c3RvbUVudGl0eUFjdGlvbnMgPSBjb2xsZWN0aW9uLmVudGl0eUFjdGlvbnM7XG4gICAgY29uc3QgY3JlYXRlRW5hYmxlZCA9IGNhbkNyZWF0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgcGF0aCwgbnVsbCk7XG4gICAgY29uc3QgZGVsZXRlRW5hYmxlZCA9IGVudGl0eSA/IGNhbkRlbGV0ZUVudGl0eShjb2xsZWN0aW9uLCBhdXRoQ29udHJvbGxlciwgcGF0aCwgZW50aXR5KSA6IGZhbHNlO1xuICAgIGNvbnN0IGFjdGlvbnMgPSBbXTtcbiAgICBpZiAoY3JlYXRlRW5hYmxlZCkgYWN0aW9ucy5wdXNoKGNvcHlFbnRpdHlBY3Rpb24pO1xuICAgIGlmIChkZWxldGVFbmFibGVkKSBhY3Rpb25zLnB1c2goZGVsZXRlRW50aXR5QWN0aW9uKTtcbiAgICBpZiAoY3VzdG9tRW50aXR5QWN0aW9ucykgcmV0dXJuIG1lcmdlRW50aXR5QWN0aW9ucyhhY3Rpb25zLCBjdXN0b21FbnRpdHlBY3Rpb25zKTtcbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfSwgW2F1dGhDb250cm9sbGVyLCBjb2xsZWN0aW9uLCBwYXRoXSk7XG4gIGNvbnN0IGZvcm1BY3Rpb25zID0gc2hvd0RlZmF1bHRBY3Rpb25zID8gZW50aXR5QWN0aW9ucy5maWx0ZXIoKGEpID0+IGEuaW5jbHVkZUluRm9ybSA9PT0gdm9pZCAwIHx8IGEuaW5jbHVkZUluRm9ybSkgOiBbXTtcbiAgcmV0dXJuIGxheW91dCA9PT0gXCJib3R0b21cIiA/IGJ1aWxkQm90dG9tQWN0aW9ucyh7XG4gICAgc2F2aW5nRXJyb3IsXG4gICAgZW50aXR5LFxuICAgIGZvcm1BY3Rpb25zLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgY29udGV4dCxcbiAgICBzaWRlRW50aXR5Q29udHJvbGxlcixcbiAgICBpc1N1Ym1pdHRpbmc6IGZvcm1leC5pc1N1Ym1pdHRpbmcsXG4gICAgZGlzYWJsZWQsXG4gICAgc3RhdHVzLFxuICAgIHNpZGVEaWFsb2dDb250ZXh0LFxuICAgIHBsdWdpbkFjdGlvbnMsXG4gICAgb3BlbkVudGl0eU1vZGVcbiAgfSkgOiBidWlsZFNpZGVBY3Rpb25zKHtcbiAgICBzYXZpbmdFcnJvcixcbiAgICBlbnRpdHksXG4gICAgZm9ybUFjdGlvbnMsXG4gICAgY29sbGVjdGlvbixcbiAgICBjb250ZXh0LFxuICAgIHNpZGVFbnRpdHlDb250cm9sbGVyLFxuICAgIGlzU3VibWl0dGluZzogZm9ybWV4LmlzU3VibWl0dGluZyxcbiAgICBzaWRlRGlhbG9nQ29udGV4dCxcbiAgICBkaXNhYmxlZCxcbiAgICBzdGF0dXMsXG4gICAgcGx1Z2luQWN0aW9ucyxcbiAgICBvcGVuRW50aXR5TW9kZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQm90dG9tQWN0aW9ucyh7XG4gIHNhdmluZ0Vycm9yLFxuICBlbnRpdHksXG4gIGZvcm1BY3Rpb25zLFxuICBjb2xsZWN0aW9uLFxuICBjb250ZXh0LFxuICBzaWRlRW50aXR5Q29udHJvbGxlcixcbiAgaXNTdWJtaXR0aW5nLFxuICBkaXNhYmxlZCxcbiAgc3RhdHVzLFxuICBzaWRlRGlhbG9nQ29udGV4dCxcbiAgcGx1Z2luQWN0aW9ucyxcbiAgb3BlbkVudGl0eU1vZGVcbn0pIHtcbiAgY29uc3QgY2FuQ2xvc2UgPSBvcGVuRW50aXR5TW9kZSA9PT0gXCJzaWRlX3BhbmVsXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhEaWFsb2dBY3Rpb25zLCB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGNoaWxkcmVuOiBbXG4gICAgc2F2aW5nRXJyb3IgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXJpZ2h0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgY29sb3I6IFwiZXJyb3JcIiwgY2hpbGRyZW46IHNhdmluZ0Vycm9yLm1lc3NhZ2UgfSkgfSksXG4gICAgZW50aXR5ICYmIGZvcm1BY3Rpb25zLmxlbmd0aCA+IDAgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4LWdyb3cgZmxleCBvdmVyZmxvdy1hdXRvIG5vLXNjcm9sbGJhclwiLCBjaGlsZHJlbjogZm9ybUFjdGlvbnMubWFwKChhY3Rpb24pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBjb2xvcjogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoZW50aXR5KSBhY3Rpb24ub25DbGljayh7XG4gICAgICAgIGVudGl0eSxcbiAgICAgICAgZnVsbFBhdGg6IGNvbGxlY3Rpb24ucGF0aCxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgc2lkZUVudGl0eUNvbnRyb2xsZXIsXG4gICAgICAgIG9wZW5FbnRpdHlNb2RlXG4gICAgICB9KTtcbiAgICB9LCBjaGlsZHJlbjogYWN0aW9uLmljb24gfSwgYWN0aW9uLm5hbWUpKSB9KSxcbiAgICBwbHVnaW5BY3Rpb25zLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IHZhcmlhbnQ6IFwidGV4dFwiLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgaXNTdWJtaXR0aW5nLCB0eXBlOiBcInJlc2V0XCIsIGNoaWxkcmVuOiBzdGF0dXMgPT09IFwiZXhpc3RpbmdcIiA/IFwiRGlzY2FyZFwiIDogXCJDbGVhclwiIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJ1dHRvbiwgeyB2YXJpYW50OiBjYW5DbG9zZSA/IFwidGV4dFwiIDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCB0eXBlOiBcInN1Ym1pdFwiLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgaXNTdWJtaXR0aW5nLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICBzaWRlRGlhbG9nQ29udGV4dC5zZXRQZW5kaW5nQ2xvc2UoZmFsc2UpO1xuICAgIH0sIGNoaWxkcmVuOiBbXG4gICAgICBzdGF0dXMgPT09IFwiZXhpc3RpbmdcIiAmJiBcIlNhdmVcIixcbiAgICAgIHN0YXR1cyA9PT0gXCJjb3B5XCIgJiYgXCJDcmVhdGUgY29weVwiLFxuICAgICAgc3RhdHVzID09PSBcIm5ld1wiICYmIFwiQ3JlYXRlXCJcbiAgICBdIH0pLFxuICAgIGNhbkNsb3NlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKExvYWRpbmdCdXR0b24sIHsgdmFyaWFudDogXCJmaWxsZWRcIiwgY29sb3I6IFwicHJpbWFyeVwiLCB0eXBlOiBcInN1Ym1pdFwiLCBsb2FkaW5nOiBpc1N1Ym1pdHRpbmcsIGRpc2FibGVkLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICBzaWRlRGlhbG9nQ29udGV4dC5zZXRQZW5kaW5nQ2xvc2U/Lih0cnVlKTtcbiAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgc3RhdHVzID09PSBcImV4aXN0aW5nXCIgJiYgXCJTYXZlIGFuZCBjbG9zZVwiLFxuICAgICAgc3RhdHVzID09PSBcImNvcHlcIiAmJiBcIkNyZWF0ZSBjb3B5IGFuZCBjbG9zZVwiLFxuICAgICAgc3RhdHVzID09PSBcIm5ld1wiICYmIFwiQ3JlYXRlIGFuZCBjbG9zZVwiXG4gICAgXSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gYnVpbGRTaWRlQWN0aW9ucyh7XG4gIHNhdmluZ0Vycm9yLFxuICBlbnRpdHksXG4gIGZvcm1BY3Rpb25zLFxuICBjb2xsZWN0aW9uLFxuICBjb250ZXh0LFxuICBzaWRlRW50aXR5Q29udHJvbGxlcixcbiAgaXNTdWJtaXR0aW5nLFxuICBkaXNhYmxlZCxcbiAgc3RhdHVzLFxuICBzaWRlRGlhbG9nQ29udGV4dCxcbiAgcGx1Z2luQWN0aW9uc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNscyhcIm92ZXJmbG93LWF1dG8gaC1mdWxsIGZsZXggZmxleC1jb2wgZ2FwLTIgdy04MCAyeGw6dy05NiBweC00IHB5LTE2IHN0aWNreSB0b3AtMCBib3JkZXItbFwiLCBkZWZhdWx0Qm9yZGVyTWl4aW4pLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKExvYWRpbmdCdXR0b24sIHsgZnVsbFdpZHRoOiB0cnVlLCB2YXJpYW50OiBcImZpbGxlZFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIHR5cGU6IFwic3VibWl0XCIsIHNpemU6IFwibGFyZ2VcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IGlzU3VibWl0dGluZywgb25DbGljazogKCkgPT4ge1xuICAgICAgc2lkZURpYWxvZ0NvbnRleHQuc2V0UGVuZGluZ0Nsb3NlPy4oZmFsc2UpO1xuICAgIH0sIGNoaWxkcmVuOiBbXG4gICAgICBzdGF0dXMgPT09IFwiZXhpc3RpbmdcIiAmJiBcIlNhdmVcIixcbiAgICAgIHN0YXR1cyA9PT0gXCJjb3B5XCIgJiYgXCJDcmVhdGUgY29weVwiLFxuICAgICAgc3RhdHVzID09PSBcIm5ld1wiICYmIFwiQ3JlYXRlXCJcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IGZ1bGxXaWR0aDogdHJ1ZSwgdmFyaWFudDogXCJ0ZXh0XCIsIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpc1N1Ym1pdHRpbmcsIHR5cGU6IFwicmVzZXRcIiwgY2hpbGRyZW46IHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiID8gXCJEaXNjYXJkXCIgOiBcIkNsZWFyXCIgfSksXG4gICAgcGx1Z2luQWN0aW9ucyxcbiAgICBzYXZpbmdFcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHQtcmlnaHRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyBjb2xvcjogXCJlcnJvclwiLCBjaGlsZHJlbjogc2F2aW5nRXJyb3IubWVzc2FnZSB9KSB9KVxuICBdIH0pO1xufVxuY29uc3QgTUFJTl9UQUJfVkFMVUUgPSBcIm1haW5fIyNRJFNDXiNTNlwiO1xuZnVuY3Rpb24gRW50aXR5RWRpdFZpZXcodDApIHtcbiAgY29uc3QgJCA9IGMoMjgpO1xuICBsZXQgZW50aXR5SWQ7XG4gIGxldCBwcm9wcztcbiAgaWYgKCRbMF0gIT09IHQwKSB7XG4gICAgKHtcbiAgICAgIGVudGl0eUlkLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdDApO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gZW50aXR5SWQ7XG4gICAgJFsyXSA9IHByb3BzO1xuICB9IGVsc2Uge1xuICAgIGVudGl0eUlkID0gJFsxXTtcbiAgICBwcm9wcyA9ICRbMl07XG4gIH1cbiAgbGV0IHQxO1xuICBpZiAoJFszXSAhPT0gZW50aXR5SWQgfHwgJFs0XSAhPT0gcHJvcHMuY29sbGVjdGlvbiB8fCAkWzVdICE9PSBwcm9wcy5kYXRhYmFzZUlkIHx8ICRbNl0gIT09IHByb3BzLnBhdGgpIHtcbiAgICB0MSA9IHtcbiAgICAgIHBhdGg6IHByb3BzLnBhdGgsXG4gICAgICBlbnRpdHlJZCxcbiAgICAgIGNvbGxlY3Rpb246IHByb3BzLmNvbGxlY3Rpb24sXG4gICAgICBkYXRhYmFzZUlkOiBwcm9wcy5kYXRhYmFzZUlkLFxuICAgICAgdXNlQ2FjaGU6IGZhbHNlXG4gICAgfTtcbiAgICAkWzNdID0gZW50aXR5SWQ7XG4gICAgJFs0XSA9IHByb3BzLmNvbGxlY3Rpb247XG4gICAgJFs1XSA9IHByb3BzLmRhdGFiYXNlSWQ7XG4gICAgJFs2XSA9IHByb3BzLnBhdGg7XG4gICAgJFs3XSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFs3XTtcbiAgfVxuICBjb25zdCB7XG4gICAgZW50aXR5LFxuICAgIGRhdGFMb2FkaW5nXG4gIH0gPSB1c2VFbnRpdHlGZXRjaCh0MSk7XG4gIGxldCB0MjtcbiAgaWYgKCRbOF0gIT09IGVudGl0eUlkIHx8ICRbOV0gIT09IHByb3BzLnBhdGgpIHtcbiAgICB0MiA9IGVudGl0eUlkID8gZ2V0RW50aXR5RnJvbUNhY2hlKHByb3BzLnBhdGggKyBcIi9cIiArIGVudGl0eUlkKSA6IGdldEVudGl0eUZyb21DYWNoZShwcm9wcy5wYXRoICsgXCIjbmV3XCIpO1xuICAgICRbOF0gPSBlbnRpdHlJZDtcbiAgICAkWzldID0gcHJvcHMucGF0aDtcbiAgICAkWzEwXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsxMF07XG4gIH1cbiAgY29uc3QgY2FjaGVkVmFsdWVzID0gdDI7XG4gIGNvbnN0IGF1dGhDb250cm9sbGVyID0gdXNlQXV0aENvbnRyb2xsZXIoKTtcbiAgY29uc3QgaW5pdGlhbFN0YXR1cyA9IHByb3BzLmNvcHkgPyBcImNvcHlcIiA6IGVudGl0eUlkID8gXCJleGlzdGluZ1wiIDogXCJuZXdcIjtcbiAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKGluaXRpYWxTdGF0dXMpO1xuICBsZXQgdDM7XG4gIGlmIChzdGF0dXMgPT09IFwibmV3XCIgfHwgc3RhdHVzID09PSBcImNvcHlcIikge1xuICAgIHQzID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0MyA9IGVudGl0eSA/IGNhbkVkaXRFbnRpdHkocHJvcHMuY29sbGVjdGlvbiwgYXV0aENvbnRyb2xsZXIsIHByb3BzLnBhdGgsIGVudGl0eSA/PyBudWxsKSA6IHZvaWQgMDtcbiAgfVxuICBjb25zdCBjYW5FZGl0ID0gdDM7XG4gIGlmIChkYXRhTG9hZGluZyAmJiAhY2FjaGVkVmFsdWVzIHx8ICghZW50aXR5IHx8IGNhbkVkaXQgPT09IHZvaWQgMCkgJiYgKHN0YXR1cyA9PT0gXCJleGlzdGluZ1wiIHx8IHN0YXR1cyA9PT0gXCJjb3B5XCIpKSB7XG4gICAgbGV0IHQ0MjtcbiAgICBpZiAoJFsxMV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICB0NDIgPSAvKiBAX19QVVJFX18gKi8ganN4KENpcmN1bGFyUHJvZ3Jlc3NDZW50ZXIsIHt9KTtcbiAgICAgICRbMTFdID0gdDQyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NDIgPSAkWzExXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ0MjtcbiAgfVxuICBpZiAoZW50aXR5SWQgJiYgIWVudGl0eSAmJiAhY2FjaGVkVmFsdWVzKSB7XG4gICAgY29uc29sZS5lcnJvcihgRW50aXR5IHdpdGggaWQgJHtlbnRpdHlJZH0gbm90IGZvdW5kIGluIGNvbGxlY3Rpb24gJHtwcm9wcy5wYXRofWApO1xuICB9XG4gIGlmICghY2FuRWRpdCkge1xuICAgIGNvbnN0IHQ0MiA9IHByb3BzLmNvbGxlY3Rpb24uc2luZ3VsYXJOYW1lID8/IHByb3BzLmNvbGxlY3Rpb24ubmFtZTtcbiAgICBsZXQgdDUyO1xuICAgIGlmICgkWzEyXSAhPT0gdDQyKSB7XG4gICAgICB0NTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFR5cG9ncmFwaHksIHsgY2xhc3NOYW1lOiBcIm10LTE2IG1iLTggbXgtOFwiLCB2YXJpYW50OiBcImg0XCIsIGNoaWxkcmVuOiB0NDIgfSk7XG4gICAgICAkWzEyXSA9IHQ0MjtcbiAgICAgICRbMTNdID0gdDUyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NTIgPSAkWzEzXTtcbiAgICB9XG4gICAgY29uc3QgdDYgPSBlbnRpdHk7XG4gICAgbGV0IHQ3O1xuICAgIGlmICgkWzE0XSAhPT0gcHJvcHMuY29sbGVjdGlvbiB8fCAkWzE1XSAhPT0gcHJvcHMucGF0aCB8fCAkWzE2XSAhPT0gdDYpIHtcbiAgICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlWaWV3LCB7IGNsYXNzTmFtZTogXCJweC04XCIsIGVudGl0eTogdDYsIHBhdGg6IHByb3BzLnBhdGgsIGNvbGxlY3Rpb246IHByb3BzLmNvbGxlY3Rpb24gfSk7XG4gICAgICAkWzE0XSA9IHByb3BzLmNvbGxlY3Rpb247XG4gICAgICAkWzE1XSA9IHByb3BzLnBhdGg7XG4gICAgICAkWzE2XSA9IHQ2O1xuICAgICAgJFsxN10gPSB0NztcbiAgICB9IGVsc2Uge1xuICAgICAgdDcgPSAkWzE3XTtcbiAgICB9XG4gICAgbGV0IHQ4O1xuICAgIGlmICgkWzE4XSAhPT0gdDUyIHx8ICRbMTldICE9PSB0Nykge1xuICAgICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHQ1MixcbiAgICAgICAgdDdcbiAgICAgIF0gfSk7XG4gICAgICAkWzE4XSA9IHQ1MjtcbiAgICAgICRbMTldID0gdDc7XG4gICAgICAkWzIwXSA9IHQ4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0OCA9ICRbMjBdO1xuICAgIH1cbiAgICByZXR1cm4gdDg7XG4gIH1cbiAgY29uc3QgdDQgPSBjYWNoZWRWYWx1ZXM7XG4gIGxldCB0NTtcbiAgaWYgKCRbMjFdICE9PSBkYXRhTG9hZGluZyB8fCAkWzIyXSAhPT0gZW50aXR5IHx8ICRbMjNdICE9PSBlbnRpdHlJZCB8fCAkWzI0XSAhPT0gcHJvcHMgfHwgJFsyNV0gIT09IHN0YXR1cyB8fCAkWzI2XSAhPT0gdDQpIHtcbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5RWRpdFZpZXdJbm5lciwgeyAuLi5wcm9wcywgZW50aXR5SWQsIGVudGl0eSwgY2FjaGVkRGlydHlWYWx1ZXM6IHQ0LCBkYXRhTG9hZGluZywgc3RhdHVzLCBzZXRTdGF0dXMgfSk7XG4gICAgJFsyMV0gPSBkYXRhTG9hZGluZztcbiAgICAkWzIyXSA9IGVudGl0eTtcbiAgICAkWzIzXSA9IGVudGl0eUlkO1xuICAgICRbMjRdID0gcHJvcHM7XG4gICAgJFsyNV0gPSBzdGF0dXM7XG4gICAgJFsyNl0gPSB0NDtcbiAgICAkWzI3XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFsyN107XG4gIH1cbiAgcmV0dXJuIHQ1O1xufVxuZnVuY3Rpb24gRW50aXR5RWRpdFZpZXdJbm5lcih7XG4gIHBhdGgsXG4gIGVudGl0eUlkLFxuICBzZWxlY3RlZFRhYjogc2VsZWN0ZWRUYWJQcm9wLFxuICBjb2xsZWN0aW9uLFxuICBwYXJlbnRDb2xsZWN0aW9uSWRzLFxuICBvblZhbHVlc01vZGlmaWVkLFxuICBvblNhdmVkLFxuICBvblRhYkNoYW5nZSxcbiAgZW50aXR5LFxuICBjYWNoZWREaXJ0eVZhbHVlcyxcbiAgZGF0YUxvYWRpbmcsXG4gIGxheW91dCA9IFwic2lkZV9wYW5lbFwiLFxuICBiYXJBY3Rpb25zLFxuICBzdGF0dXMsXG4gIHNldFN0YXR1cyxcbiAgZm9ybVByb3BzXG59KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBbdXNlZEVudGl0eSwgc2V0VXNlZEVudGl0eV0gPSB1c2VTdGF0ZShlbnRpdHkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbnRpdHkpIHNldFVzZWRFbnRpdHkoZW50aXR5KTtcbiAgfSwgW2VudGl0eV0pO1xuICBjb25zdCBbZm9ybUNvbnRleHQsIHNldEZvcm1Db250ZXh0XSA9IHVzZVN0YXRlKHZvaWQgMCk7XG4gIGNvbnN0IGxhcmdlTGF5b3V0ID0gdXNlTGFyZ2VMYXlvdXQoKTtcbiAgY29uc3QgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIgPSB1c2VDdXN0b21pemF0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCBkZWZhdWx0U2VsZWN0ZWRWaWV3ID0gdXNlTWVtbygoKSA9PiByZXNvbHZlRGVmYXVsdFNlbGVjdGVkVmlldyhjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5kZWZhdWx0U2VsZWN0ZWRWaWV3IDogdm9pZCAwLCB7XG4gICAgc3RhdHVzLFxuICAgIGVudGl0eUlkXG4gIH0pLCBbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZFRhYiwgc2V0U2VsZWN0ZWRUYWJdID0gdXNlU3RhdGUoc2VsZWN0ZWRUYWJQcm9wID8/IGRlZmF1bHRTZWxlY3RlZFZpZXcgPz8gTUFJTl9UQUJfVkFMVUUpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICgoc2VsZWN0ZWRUYWJQcm9wID8/IE1BSU5fVEFCX1ZBTFVFKSAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgIHNldFNlbGVjdGVkVGFiKHNlbGVjdGVkVGFiUHJvcCA/PyBNQUlOX1RBQl9WQUxVRSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRUYWJQcm9wXSk7XG4gIGNvbnN0IHN1YmNvbGxlY3Rpb25zID0gKGNvbGxlY3Rpb24uc3ViY29sbGVjdGlvbnMgPz8gW10pLmZpbHRlcigoYzIpID0+ICFjMi5oaWRlRnJvbU5hdmlnYXRpb24pO1xuICBjb25zdCBzdWJjb2xsZWN0aW9uc0NvdW50ID0gc3ViY29sbGVjdGlvbnM/Lmxlbmd0aCA/PyAwO1xuICBjb25zdCBjdXN0b21WaWV3cyA9IGNvbGxlY3Rpb24uZW50aXR5Vmlld3M7XG4gIGNvbnN0IGN1c3RvbVZpZXdzQ291bnQgPSBjdXN0b21WaWV3cz8ubGVuZ3RoID8/IDA7XG4gIGNvbnN0IGhhc0FkZGl0aW9uYWxWaWV3cyA9IGN1c3RvbVZpZXdzQ291bnQgPiAwIHx8IHN1YmNvbGxlY3Rpb25zQ291bnQgPiAwO1xuICBjb25zdCB7XG4gICAgcmVzb2x2ZWRFbnRpdHlWaWV3cyxcbiAgICBzZWxlY3RlZEVudGl0eVZpZXcsXG4gICAgc2VsZWN0ZWRTZWNvbmRhcnlGb3JtXG4gIH0gPSByZXNvbHZlZFNlbGVjdGVkRW50aXR5VmlldyhjdXN0b21WaWV3cywgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIsIHNlbGVjdGVkVGFiKTtcbiAgY29uc3QgYWN0aW9uc0F0VGhlQm90dG9tID0gIWxhcmdlTGF5b3V0IHx8IGxheW91dCA9PT0gXCJzaWRlX3BhbmVsXCIgfHwgc2VsZWN0ZWRFbnRpdHlWaWV3Py5pbmNsdWRlQWN0aW9ucyA9PT0gXCJib3R0b21cIjtcbiAgY29uc3QgbWFpblZpZXdWaXNpYmxlID0gc2VsZWN0ZWRUYWIgPT09IE1BSU5fVEFCX1ZBTFVFIHx8IEJvb2xlYW4oc2VsZWN0ZWRTZWNvbmRhcnlGb3JtKTtcbiAgY29uc3QgY3VzdG9tVmlld3NWaWV3ID0gY3VzdG9tVmlld3MgJiYgcmVzb2x2ZWRFbnRpdHlWaWV3cy5maWx0ZXIoKGUpID0+ICFlLmluY2x1ZGVBY3Rpb25zKS5tYXAoKGN1c3RvbVZpZXcpID0+IHtcbiAgICBpZiAoIWN1c3RvbVZpZXcpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IEJ1aWxkZXIgPSBjdXN0b21WaWV3LkJ1aWxkZXI7XG4gICAgaWYgKCFCdWlsZGVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiY3VzdG9tVmlldy5CdWlsZGVyIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZGVmYXVsdEJvcmRlck1peGluLCBcInJlbGF0aXZlIGZsZXgtMSB3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWF1dG9cIiwge1xuICAgICAgXCJoaWRkZW5cIjogc2VsZWN0ZWRUYWIgIT09IGN1c3RvbVZpZXcua2V5XG4gICAgfSksIHJvbGU6IFwidGFicGFuZWxcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogZm9ybUNvbnRleHQgJiYgLyogQF9fUFVSRV9fICovIGpzeChCdWlsZGVyLCB7IGNvbGxlY3Rpb24sIGVudGl0eTogdXNlZEVudGl0eSwgbW9kaWZpZWRWYWx1ZXM6IGZvcm1Db250ZXh0LmZvcm1leC52YWx1ZXMgPz8gdXNlZEVudGl0eT8udmFsdWVzLCBmb3JtQ29udGV4dCB9KSB9KSB9LCBgY3VzdG9tX3ZpZXdfJHtjdXN0b21WaWV3LmtleX1gKTtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBnbG9iYWxMb2FkaW5nID0gZGF0YUxvYWRpbmcgJiYgIXVzZWRFbnRpdHk7XG4gIGNvbnN0IHN1YkNvbGxlY3Rpb25zVmlld3MgPSBzdWJjb2xsZWN0aW9ucyAmJiBzdWJjb2xsZWN0aW9ucy5tYXAoKHN1YmNvbGxlY3Rpb24pID0+IHtcbiAgICBjb25zdCBzdWJjb2xsZWN0aW9uSWQgPSBzdWJjb2xsZWN0aW9uLmlkID8/IHN1YmNvbGxlY3Rpb24ucGF0aDtcbiAgICBjb25zdCBmdWxsUGF0aCA9IHVzZWRFbnRpdHkgPyBgJHtwYXRofS8ke3VzZWRFbnRpdHk/LmlkfS8ke3JlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMoc3ViY29sbGVjdGlvbklkKX1gIDogdm9pZCAwO1xuICAgIGlmIChzZWxlY3RlZFRhYiAhPT0gc3ViY29sbGVjdGlvbklkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVsYXRpdmUgZmxleC0xIGgtZnVsbCBvdmVyZmxvdy1hdXRvIHctZnVsbFwiLCByb2xlOiBcInRhYnBhbmVsXCIsIGNoaWxkcmVuOiBbXG4gICAgICBnbG9iYWxMb2FkaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY3VsYXJQcm9ncmVzc0NlbnRlciwge30pLFxuICAgICAgIWdsb2JhbExvYWRpbmcgJiYgKHVzZWRFbnRpdHkgJiYgZnVsbFBhdGggPyAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUNvbGxlY3Rpb25WaWV3LCB7IGZ1bGxQYXRoLCBwYXJlbnRDb2xsZWN0aW9uSWRzOiBbLi4ucGFyZW50Q29sbGVjdGlvbklkcywgY29sbGVjdGlvbi5pZF0sIGlzU3ViQ29sbGVjdGlvbjogdHJ1ZSwgdXBkYXRlVXJsOiBmYWxzZSwgLi4uc3ViY29sbGVjdGlvbiwgb3BlbkVudGl0eU1vZGU6IGxheW91dCB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIGgtZnVsbCBwLTNcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImxhYmVsXCIsIGNoaWxkcmVuOiBcIllvdSBuZWVkIHRvIHNhdmUgeW91ciBlbnRpdHkgYmVmb3JlIGFkZGluZyBhZGRpdGlvbmFsIGNvbGxlY3Rpb25zXCIgfSkgfSkpXG4gICAgXSB9LCBgc3ViY29sXyR7c3ViY29sbGVjdGlvbklkfWApO1xuICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IG9uU2lkZVRhYkNsaWNrID0gKHZhbHVlKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRUYWIodmFsdWUpO1xuICAgIGlmIChzdGF0dXMgPT09IFwiZXhpc3RpbmdcIikge1xuICAgICAgb25UYWJDaGFuZ2U/Lih7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBzZWxlY3RlZFRhYjogdmFsdWUgPT09IE1BSU5fVEFCX1ZBTFVFID8gdm9pZCAwIDogdmFsdWUsXG4gICAgICAgIGNvbGxlY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZW50aXR5VmlldyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5Rm9ybSwgeyBjb2xsZWN0aW9uLCBwYXRoLCBlbnRpdHlJZDogZW50aXR5SWQgPz8gdXNlZEVudGl0eT8uaWQsIG9uVmFsdWVzTW9kaWZpZWQsIGVudGl0eSwgaW5pdGlhbERpcnR5VmFsdWVzOiBjYWNoZWREaXJ0eVZhbHVlcywgb3BlbkVudGl0eU1vZGU6IGxheW91dCwgZm9yY2VBY3Rpb25zQXRUaGVCb3R0b206IGFjdGlvbnNBdFRoZUJvdHRvbSwgaW5pdGlhbFN0YXR1czogc3RhdHVzLCBjbGFzc05hbWU6IGNscyghbWFpblZpZXdWaXNpYmxlID8gXCJoaWRkZW5cIiA6IFwiXCIsIGZvcm1Qcm9wcz8uY2xhc3NOYW1lKSwgRW50aXR5Rm9ybUFjdGlvbnNDb21wb25lbnQ6IEVudGl0eUVkaXRWaWV3Rm9ybUFjdGlvbnMsIC4uLmZvcm1Qcm9wcywgb25FbnRpdHlDaGFuZ2U6IChlbnRpdHlfMCkgPT4ge1xuICAgIHNldFVzZWRFbnRpdHkoZW50aXR5XzApO1xuICAgIGZvcm1Qcm9wcz8ub25FbnRpdHlDaGFuZ2U/LihlbnRpdHlfMCk7XG4gIH0sIG9uU3RhdHVzQ2hhbmdlOiAoc3RhdHVzXzApID0+IHtcbiAgICBzZXRTdGF0dXMoc3RhdHVzXzApO1xuICAgIGZvcm1Qcm9wcz8ub25TdGF0dXNDaGFuZ2U/LihzdGF0dXNfMCk7XG4gIH0sIG9uRm9ybUNvbnRleHRSZWFkeTogKGZvcm1Db250ZXh0XzApID0+IHtcbiAgICBzZXRGb3JtQ29udGV4dChmb3JtQ29udGV4dF8wKTtcbiAgICBmb3JtUHJvcHM/Lm9uRm9ybUNvbnRleHRSZWFkeT8uKGZvcm1Db250ZXh0XzApO1xuICB9LCBvblNhdmVkOiAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgc2VsZWN0ZWRUYWI6IE1BSU5fVEFCX1ZBTFVFID09PSBzZWxlY3RlZFRhYiA/IHZvaWQgMCA6IHNlbGVjdGVkVGFiXG4gICAgfTtcbiAgICBvblNhdmVkPy4ocmVzKTtcbiAgICBmb3JtUHJvcHM/Lm9uU2F2ZWQ/LihyZXMpO1xuICB9LCBCdWlsZGVyOiBzZWxlY3RlZFNlY29uZGFyeUZvcm0/LkJ1aWxkZXIgfSk7XG4gIGNvbnN0IHN1YmNvbGxlY3Rpb25UYWJzID0gc3ViY29sbGVjdGlvbnMgJiYgc3ViY29sbGVjdGlvbnMubWFwKChzdWJjb2xsZWN0aW9uXzApID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goVGFiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIG1pbi13LVsxMjBweF1cIiwgdmFsdWU6IHN1YmNvbGxlY3Rpb25fMC5pZCwgY2hpbGRyZW46IHN1YmNvbGxlY3Rpb25fMC5uYW1lIH0sIGBlbnRpdHlfZGV0YWlsX2NvbGxlY3Rpb25fdGFiXyR7c3ViY29sbGVjdGlvbl8wLm5hbWV9YCkpO1xuICBjb25zdCBjdXN0b21WaWV3VGFicyA9IHJlc29sdmVkRW50aXR5Vmlld3MubWFwKCh2aWV3KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFRhYiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSBtaW4tdy1bMTIwcHhdXCIsIHZhbHVlOiB2aWV3LmtleSwgY2hpbGRyZW46IHZpZXcubmFtZSB9LCBgZW50aXR5X2RldGFpbF9jb2xsZWN0aW9uX3RhYl8ke3ZpZXcubmFtZX1gKSk7XG4gIGNvbnN0IHNob3VsZFNob3dUb3BCYXIgPSBCb29sZWFuKGJhckFjdGlvbnMpIHx8IGhhc0FkZGl0aW9uYWxWaWV3cztcbiAgbGV0IHJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlbGF0aXZlIGZsZXggZmxleC1jb2wgaC1mdWxsIHctZnVsbCBiZy13aGl0ZSBkYXJrOmJnLXN1cmZhY2UtOTAwXCIsIGNoaWxkcmVuOiBbXG4gICAgc2hvdWxkU2hvd1RvcEJhciAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzKFwiaC0xNCBmbGV4IG92ZXJmbG93LXZpc2libGUgb3ZlcmZsb3cteC1zY3JvbGwgdy1mdWxsIG5vLXNjcm9sbGJhciBoLTE0IGJvcmRlci1iIHBsLTIgcHItMiBwdC0xIGZsZXggaXRlbXMtZW5kIGJnLXN1cmZhY2UtNTAgZGFyazpiZy1zdXJmYWNlLTkwMFwiLCBkZWZhdWx0Qm9yZGVyTWl4aW4pLCBjaGlsZHJlbjogW1xuICAgICAgYmFyQWN0aW9ucyxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleC1ncm93XCIgfSksXG4gICAgICBnbG9iYWxMb2FkaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic2VsZi1jZW50ZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY3VsYXJQcm9ncmVzcywgeyBzaXplOiBcInNtYWxsXCIgfSkgfSksXG4gICAgICBoYXNBZGRpdGlvbmFsVmlld3MgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoVGFicywgeyB2YWx1ZTogc2VsZWN0ZWRUYWIsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZV8wKSA9PiB7XG4gICAgICAgIG9uU2lkZVRhYkNsaWNrKHZhbHVlXzApO1xuICAgICAgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUYWIsIHsgZGlzYWJsZWQ6ICFoYXNBZGRpdGlvbmFsVmlld3MsIHZhbHVlOiBNQUlOX1RBQl9WQUxVRSwgY2xhc3NOYW1lOiBcInRleHQtc20gbWluLXctWzEyMHB4XVwiLCBjaGlsZHJlbjogY29sbGVjdGlvbi5zaW5ndWxhck5hbWUgPz8gY29sbGVjdGlvbi5uYW1lIH0pLFxuICAgICAgICBjdXN0b21WaWV3VGFicyxcbiAgICAgICAgc3ViY29sbGVjdGlvblRhYnNcbiAgICAgIF0gfSlcbiAgICBdIH0pLFxuICAgIGdsb2JhbExvYWRpbmcgPyAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbCBwdC0xMiBwYi0xNiBweC00IHNtOnB4LTggbWQ6cHgtMTBcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2lyY3VsYXJQcm9ncmVzc0NlbnRlciwge30pIH0pIDogZW50aXR5VmlldyxcbiAgICBjdXN0b21WaWV3c1ZpZXcsXG4gICAgc3ViQ29sbGVjdGlvbnNWaWV3c1xuICBdIH0pO1xuICBjb25zdCBwbHVnaW5zID0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucztcbiAgaWYgKHBsdWdpbnMpIHtcbiAgICBwbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgICAgaWYgKHBsdWdpbi5mb3JtPy5wcm92aWRlcikge1xuICAgICAgICByZXN1bHQgPSAvKiBAX19QVVJFX18gKi8ganN4KHBsdWdpbi5mb3JtLnByb3ZpZGVyLkNvbXBvbmVudCwgeyBzdGF0dXMsIHBhdGgsIGNvbGxlY3Rpb24sIGVudGl0eTogdXNlZEVudGl0eSwgY29udGV4dCwgZm9ybUNvbnRleHQsIC4uLnBsdWdpbi5mb3JtLnByb3ZpZGVyLnByb3BzLCBjaGlsZHJlbjogcmVzdWx0IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBFbnRpdHlTaWRlUGFuZWwocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGJsb2NrZWQsXG4gICAgc2V0QmxvY2tlZCxcbiAgICBzZXRCbG9ja2VkTmF2aWdhdGlvbk1lc3NhZ2UsXG4gICAgY2xvc2VcbiAgfSA9IHVzZVNpZGVEaWFsb2dDb250ZXh0KCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZVNpZGVFbnRpdHlDb250cm9sbGVyKCk7XG4gIGNvbnN0IG5hdmlnYXRpb25Db250cm9sbGVyID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3Qgc2lkZURpYWxvZ3NDb250cm9sbGVyID0gdXNlU2lkZURpYWxvZ0NvbnRleHQoKTtcbiAgY29uc3Qgb25DbG9zZSA9ICgpID0+IHtcbiAgICBpZiAocHJvcHMub25DbG9zZSkge1xuICAgICAgcHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgICBzZXRCbG9ja2VkKGZhbHNlKTtcbiAgICBjbG9zZSh0cnVlKTtcbiAgfTtcbiAgY29uc3Qgb25VcGRhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgaWYgKHByb3BzLm9uVXBkYXRlKSB7XG4gICAgICBwcm9wcy5vblVwZGF0ZShwYXJhbXMpO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLnN0YXR1cyAhPT0gXCJleGlzdGluZ1wiKSB7XG4gICAgICBzaWRlRW50aXR5Q29udHJvbGxlci5yZXBsYWNlKHtcbiAgICAgICAgcGF0aDogcGFyYW1zLnBhdGgsXG4gICAgICAgIGVudGl0eUlkOiBwYXJhbXMuZW50aXR5SWQsXG4gICAgICAgIHNlbGVjdGVkVGFiOiBwYXJhbXMuc2VsZWN0ZWRUYWIsXG4gICAgICAgIHVwZGF0ZVVybDogdHJ1ZSxcbiAgICAgICAgY29sbGVjdGlvbjogcGFyYW1zLmNvbGxlY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2lkZURpYWxvZ3NDb250cm9sbGVyLnBlbmRpbmdDbG9zZSkge1xuICAgICAgc2lkZURpYWxvZ3NDb250cm9sbGVyLnNldFBlbmRpbmdDbG9zZShmYWxzZSk7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXJlbnRDb2xsZWN0aW9uSWRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG5hdmlnYXRpb25Db250cm9sbGVyLmdldFBhcmVudENvbGxlY3Rpb25JZHMocHJvcHMucGF0aCk7XG4gIH0sIFtuYXZpZ2F0aW9uQ29udHJvbGxlciwgcHJvcHMucGF0aF0pO1xuICBjb25zdCBjb2xsZWN0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHByb3BzLmNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBwcm9wcy5jb2xsZWN0aW9uO1xuICAgIH1cbiAgICBjb25zdCByZWdpc3RyeUNvbGxlY3Rpb24gPSBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uKHByb3BzLnBhdGgpO1xuICAgIGlmIChyZWdpc3RyeUNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZWdpc3RyeUNvbGxlY3Rpb247XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUjogTm8gY29sbGVjdGlvbiBmb3VuZCBpbiBwYXRoIGBcIiwgcHJvcHMucGF0aCwgXCJgLiBFbnRpdHkgaWQ6IFwiLCBwcm9wcy5lbnRpdHlJZCk7XG4gICAgdGhyb3cgRXJyb3IoXCJFUlJPUjogTm8gY29sbGVjdGlvbiBmb3VuZCBpbiBwYXRoIGBcIiArIHByb3BzLnBhdGggKyBcImAuIE1ha2Ugc3VyZSB5b3UgaGF2ZSBkZWZpbmVkIGEgY29sbGVjdGlvbiBmb3IgdGhpcyBwYXRoIGluIHRoZSByb290IG5hdmlnYXRpb24uXCIpO1xuICB9LCBbbmF2aWdhdGlvbkNvbnRyb2xsZXIsIHByb3BzLmNvbGxlY3Rpb25dKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBiZWZvcmV1bmxvYWQoZSkge1xuICAgICAgaWYgKGJsb2NrZWQgJiYgY29sbGVjdGlvbikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBgWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgJHtjb2xsZWN0aW9uLm5hbWV9LiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyBwYWdlP2A7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBiZWZvcmV1bmxvYWQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgYmVmb3JldW5sb2FkKTtcbiAgICB9O1xuICB9LCBbYmxvY2tlZCwgY29sbGVjdGlvbl0pO1xuICBjb25zdCBvblZhbHVlc01vZGlmaWVkID0gdXNlQ2FsbGJhY2soKG1vZGlmaWVkKSA9PiB7XG4gICAgc2V0QmxvY2tlZE5hdmlnYXRpb25NZXNzYWdlKG1vZGlmaWVkID8gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIFwiIFlvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFwiLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImJcIiwgeyBjaGlsZHJlbjogY29sbGVjdGlvbj8uc2luZ3VsYXJOYW1lID8/IGNvbGxlY3Rpb24/Lm5hbWUgfSksXG4gICAgICBcIi5cIlxuICAgIF0gfSkgOiB2b2lkIDApO1xuICAgIHNldEJsb2NrZWQobW9kaWZpZWQpO1xuICB9LCBbY29sbGVjdGlvbj8ubmFtZSwgc2V0QmxvY2tlZCwgc2V0QmxvY2tlZE5hdmlnYXRpb25NZXNzYWdlXSk7XG4gIGlmICghcHJvcHMgfHwgIWNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGxcIiB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUVkaXRWaWV3LCB7IC4uLnByb3BzLCBsYXlvdXQ6IFwic2lkZV9wYW5lbFwiLCBjb2xsZWN0aW9uLCBwYXJlbnRDb2xsZWN0aW9uSWRzLCBvblZhbHVlc01vZGlmaWVkLCBvblNhdmVkOiBvblVwZGF0ZSwgYmFyQWN0aW9uczogLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgY2xhc3NOYW1lOiBcInNlbGYtY2VudGVyXCIsIG9uQ2xpY2s6IG9uQ2xvc2UsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENsb3NlSWNvbiwgeyBzaXplOiBcInNtYWxsXCIgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzZWxmLWNlbnRlclwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICBpZiAocHJvcHMuZW50aXR5SWQpIG5hdmlnYXRlKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIGVsc2UgbmF2aWdhdGUobG9jYXRpb24ucGF0aG5hbWUgKyBcIiNuZXdcIik7XG4gICAgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goT3BlbkluRnVsbEljb24sIHsgc2l6ZTogXCJzbWFsbFwiIH0pIH0pXG4gIF0gfSksIG9uVGFiQ2hhbmdlOiAoe1xuICAgIHBhdGgsXG4gICAgZW50aXR5SWQsXG4gICAgc2VsZWN0ZWRUYWIsXG4gICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8wXG4gIH0pID0+IHtcbiAgICBzaWRlRW50aXR5Q29udHJvbGxlci5yZXBsYWNlKHtcbiAgICAgIHBhdGgsXG4gICAgICBlbnRpdHlJZCxcbiAgICAgIHNlbGVjdGVkVGFiLFxuICAgICAgdXBkYXRlVXJsOiB0cnVlLFxuICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8wXG4gICAgfSk7XG4gIH0sIGZvcm1Qcm9wczogcHJvcHMuZm9ybVByb3BzIH0pIH0pIH0pO1xufVxuY29uc3QgTkVXX1VSTF9IQVNIID0gXCJuZXdfc2lkZVwiO1xuY29uc3QgU0lERV9VUkxfSEFTSCA9IFwic2lkZVwiO1xuZnVuY3Rpb24gZ2V0RW50aXR5Vmlld1dpZHRoKHByb3BzLCBzbWFsbCwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIpIHtcbiAgaWYgKHNtYWxsKSByZXR1cm4gQ09OVEFJTkVSX0ZVTExfV0lEVEg7XG4gIGNvbnN0IHtcbiAgICBzZWxlY3RlZFNlY29uZGFyeUZvcm1cbiAgfSA9IHJlc29sdmVkU2VsZWN0ZWRFbnRpdHlWaWV3KHByb3BzLmNvbGxlY3Rpb24/LmVudGl0eVZpZXdzLCBjdXN0b21pemF0aW9uQ29udHJvbGxlciwgcHJvcHMuc2VsZWN0ZWRUYWIpO1xuICBjb25zdCBzaG91bGRVc2VTbWFsbExheW91dCA9ICFwcm9wcy5zZWxlY3RlZFRhYiB8fCBCb29sZWFuKHNlbGVjdGVkU2Vjb25kYXJ5Rm9ybSk7XG4gIGxldCByZXNvbHZlZFdpZHRoO1xuICBpZiAocHJvcHMud2lkdGgpIHtcbiAgICByZXNvbHZlZFdpZHRoID0gdHlwZW9mIHByb3BzLndpZHRoID09PSBcIm51bWJlclwiID8gYCR7cHJvcHMud2lkdGh9cHhgIDogcHJvcHMud2lkdGg7XG4gIH0gZWxzZSBpZiAocHJvcHMuY29sbGVjdGlvbj8uc2lkZURpYWxvZ1dpZHRoKSB7XG4gICAgcmVzb2x2ZWRXaWR0aCA9IHR5cGVvZiBwcm9wcy5jb2xsZWN0aW9uLnNpZGVEaWFsb2dXaWR0aCA9PT0gXCJudW1iZXJcIiA/IGAke3Byb3BzLmNvbGxlY3Rpb24uc2lkZURpYWxvZ1dpZHRofXB4YCA6IHByb3BzLmNvbGxlY3Rpb24uc2lkZURpYWxvZ1dpZHRoO1xuICB9XG4gIGlmICghc2hvdWxkVXNlU21hbGxMYXlvdXQpIHtcbiAgICByZXR1cm4gYGNhbGMoJHtBRERJVElPTkFMX1RBQl9XSURUSH0gKyAke3Jlc29sdmVkV2lkdGggPz8gRk9STV9DT05UQUlORVJfV0lEVEh9KWA7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHJlc29sdmVkV2lkdGgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZFdpZHRoO1xuICAgIH0gZWxzZSBpZiAoIXByb3BzLmNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBGT1JNX0NPTlRBSU5FUl9XSURUSDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZUNvbGxlY3Rpb25EZXNpcmVkV2lkdGgocHJvcHMuY29sbGVjdGlvbik7XG4gICAgfVxuICB9XG59XG5jb25zdCBjb2xsZWN0aW9uVmlld1dpZHRoQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZUNvbGxlY3Rpb25EZXNpcmVkV2lkdGgoY29sbGVjdGlvbikge1xuICBpZiAoY29sbGVjdGlvblZpZXdXaWR0aENhY2hlW2NvbGxlY3Rpb24uaWRdKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25WaWV3V2lkdGhDYWNoZVtjb2xsZWN0aW9uLmlkXTtcbiAgfVxuICBjb25zdCByZXNvbHZlZENvbGxlY3Rpb24gPSByZXNvbHZlQ29sbGVjdGlvbih7XG4gICAgY29sbGVjdGlvbixcbiAgICBwYXRoOiBcIl9faWdub3JlZFwiLFxuICAgIGlnbm9yZU1pc3NpbmdGaWVsZHM6IHRydWVcbiAgfSk7XG4gIGxldCByZXN1bHQgPSBGT1JNX0NPTlRBSU5FUl9XSURUSDtcbiAgaWYgKHJlc29sdmVkQ29sbGVjdGlvbj8ucHJvcGVydGllcykge1xuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMocmVzb2x2ZWRDb2xsZWN0aW9uLnByb3BlcnRpZXMpLm1hcCgocCkgPT4gZ2V0TmVzdGVkUHJvcGVydGllc0RlcHRoKHApKTtcbiAgICBjb25zdCBtYXhEZXB0aCA9IE1hdGgubWF4KC4uLnZhbHVlcyk7XG4gICAgaWYgKG1heERlcHRoIDwgMykge1xuICAgICAgcmVzdWx0ID0gRk9STV9DT05UQUlORVJfV0lEVEg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IDc2OCArIDMyICogKG1heERlcHRoIC0gMikgKyBcInB4XCI7XG4gICAgfVxuICB9XG4gIGNvbGxlY3Rpb25WaWV3V2lkdGhDYWNoZVtjb2xsZWN0aW9uLmlkXSA9IHJlc3VsdDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5lc3RlZFByb3BlcnRpZXNEZXB0aChwcm9wZXJ0eSwgYWNjdW11bGF0b3IgPSAwKSB7XG4gIGlmIChwcm9wZXJ0eS5kYXRhVHlwZSA9PT0gXCJtYXBcIiAmJiBwcm9wZXJ0eS5wcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhwcm9wZXJ0eS5wcm9wZXJ0aWVzKS5mbGF0TWFwKChwcm9wZXJ0eTIpID0+IGdldE5lc3RlZFByb3BlcnRpZXNEZXB0aChwcm9wZXJ0eTIsIGFjY3VtdWxhdG9yICsgMSkpO1xuICAgIHJldHVybiBNYXRoLm1heCguLi52YWx1ZXMpO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIgJiYgcHJvcGVydHkub25lT2YpIHtcbiAgICByZXR1cm4gYWNjdW11bGF0b3IgKyAzO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5LmRhdGFUeXBlID09PSBcImFycmF5XCIgJiYgcHJvcGVydHkub2YpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5vZikpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCguLi5wcm9wZXJ0eS5vZi5tYXAoKHApID0+IGdldE5lc3RlZFByb3BlcnRpZXNEZXB0aChwLCBhY2N1bXVsYXRvciArIDEpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXROZXN0ZWRQcm9wZXJ0aWVzRGVwdGgocHJvcGVydHkub2YsIGFjY3VtdWxhdG9yICsgMSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhY2N1bXVsYXRvciArIDE7XG4gIH1cbn1cbmNvbnN0IHVzZUJ1aWxkU2lkZUVudGl0eUNvbnRyb2xsZXIgPSAobmF2aWdhdGlvbiwgc2lkZURpYWxvZ3NDb250cm9sbGVyKSA9PiB7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgY29uc3QgaW5pdGlhbGlzZWQgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IHNtYWxsTGF5b3V0ID0gIXVzZUxhcmdlTGF5b3V0KCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3RmxhZyA9IGxvY2F0aW9uLmhhc2ggPT09IGAjJHtORVdfVVJMX0hBU0h9YDtcbiAgICBjb25zdCBzaWRlRmxhZyA9IGxvY2F0aW9uLmhhc2ggPT09IGAjJHtTSURFX1VSTF9IQVNIfWA7XG4gICAgaWYgKCFuYXZpZ2F0aW9uLmxvYWRpbmcpIHtcbiAgICAgIGlmICgobmV3RmxhZyB8fCBzaWRlRmxhZykgJiYgbmF2aWdhdGlvbi5pc1VybENvbGxlY3Rpb25QYXRoKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICBjb25zdCBlbnRpdHlPckNvbGxlY3Rpb25QYXRoID0gbmF2aWdhdGlvbi51cmxQYXRoVG9EYXRhUGF0aChsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICAgIGNvbnN0IHBhbmVsc0Zyb21VcmwgPSBidWlsZFNpZGVQYW5lbHNGcm9tVXJsKGVudGl0eU9yQ29sbGVjdGlvblBhdGgsIG5hdmlnYXRpb24uY29sbGVjdGlvbnMgPz8gW10sIG5ld0ZsYWcpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVsc0Zyb21VcmwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBwcm9wcyA9IHBhbmVsc0Zyb21VcmxbaV07XG4gICAgICAgICAgaWYgKGkgPT09IDApIHNpZGVEaWFsb2dzQ29udHJvbGxlci5yZXBsYWNlKHByb3BzVG9TaWRlUGFuZWwocHJvcHMsIG5hdmlnYXRpb24uYnVpbGRVcmxDb2xsZWN0aW9uUGF0aCwgbmF2aWdhdGlvbi5yZXNvbHZlSWRzRnJvbSwgc21hbGxMYXlvdXQsIGN1c3RvbWl6YXRpb25Db250cm9sbGVyKSk7XG4gICAgICAgICAgZWxzZSBzaWRlRGlhbG9nc0NvbnRyb2xsZXIub3Blbihwcm9wc1RvU2lkZVBhbmVsKHByb3BzLCBuYXZpZ2F0aW9uLmJ1aWxkVXJsQ29sbGVjdGlvblBhdGgsIG5hdmlnYXRpb24ucmVzb2x2ZUlkc0Zyb20sIHNtYWxsTGF5b3V0LCBjdXN0b21pemF0aW9uQ29udHJvbGxlcikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpbml0aWFsaXNlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtuYXZpZ2F0aW9uLmxvYWRpbmddKTtcbiAgY29uc3QgY3VycmVudFBhbmVsS2V5cyA9IHNpZGVEaWFsb2dzQ29udHJvbGxlci5zaWRlUGFuZWxzLm1hcCgocCkgPT4gcC5rZXkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXNlZC5jdXJyZW50KSB7XG4gICAgICBjb25zdCBzaWRlRmxhZ18wID0gbG9jYXRpb24uaGFzaCA9PT0gYCMke1NJREVfVVJMX0hBU0h9YDtcbiAgICAgIGlmIChzaWRlRmxhZ18wKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eU9yQ29sbGVjdGlvblBhdGhfMCA9IG5hdmlnYXRpb24udXJsUGF0aFRvRGF0YVBhdGgobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgICBjb25zdCBwYW5lbHNGcm9tVXJsXzAgPSBidWlsZFNpZGVQYW5lbHNGcm9tVXJsKGVudGl0eU9yQ29sbGVjdGlvblBhdGhfMCwgbmF2aWdhdGlvbi5jb2xsZWN0aW9ucyA/PyBbXSwgZmFsc2UpO1xuICAgICAgICBpZiAocGFuZWxzRnJvbVVybF8wLmxlbmd0aCA8PSBjdXJyZW50UGFuZWxLZXlzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXN0UGFuZWwgPSBwYW5lbHNGcm9tVXJsXzBbcGFuZWxzRnJvbVVybF8wLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBwYW5lbFByb3BzID0gcHJvcHNUb1NpZGVQYW5lbChsYXN0UGFuZWwsIG5hdmlnYXRpb24uYnVpbGRVcmxDb2xsZWN0aW9uUGF0aCwgbmF2aWdhdGlvbi5yZXNvbHZlSWRzRnJvbSwgc21hbGxMYXlvdXQsIGN1c3RvbWl6YXRpb25Db250cm9sbGVyKTtcbiAgICAgICAgY29uc3QgbGFzdEN1cnJlbnRQYW5lbCA9IGN1cnJlbnRQYW5lbEtleXMubGVuZ3RoID4gMCA/IGN1cnJlbnRQYW5lbEtleXNbY3VycmVudFBhbmVsS2V5cy5sZW5ndGggLSAxXSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKCFsYXN0Q3VycmVudFBhbmVsIHx8IGxhc3RDdXJyZW50UGFuZWwgIT09IHBhbmVsUHJvcHMua2V5KSB7XG4gICAgICAgICAgc2lkZURpYWxvZ3NDb250cm9sbGVyLnJlcGxhY2UocGFuZWxQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtsb2NhdGlvbi5wYXRobmFtZSwgbG9jYXRpb24uaGFzaCwgY3VycmVudFBhbmVsS2V5c10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRTaWRlUGFuZWxzID0gc2lkZURpYWxvZ3NDb250cm9sbGVyLnNpZGVQYW5lbHMubWFwKChzaWRlUGFuZWxQcm9wcykgPT4ge1xuICAgICAgaWYgKHNpZGVQYW5lbFByb3BzLmFkZGl0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzVG9TaWRlUGFuZWwoc2lkZVBhbmVsUHJvcHMuYWRkaXRpb25hbCwgbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tLCBzbWFsbExheW91dCwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpZGVQYW5lbFByb3BzO1xuICAgIH0pO1xuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5zZXRTaWRlUGFuZWxzKHVwZGF0ZWRTaWRlUGFuZWxzKTtcbiAgfSwgW3NtYWxsTGF5b3V0XSk7XG4gIGNvbnN0IGNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5jbG9zZSgpO1xuICB9LCBbc2lkZURpYWxvZ3NDb250cm9sbGVyXSk7XG4gIGNvbnN0IG9wZW4gPSB1c2VDYWxsYmFjaygocHJvcHNfMCkgPT4ge1xuICAgIGlmIChwcm9wc18wLmNvcHkgJiYgIXByb3BzXzAuZW50aXR5SWQpIHtcbiAgICAgIHRocm93IEVycm9yKFwiSWYgeW91IHdhbnQgdG8gY29weSBhbiBlbnRpdHkgeW91IG5lZWQgdG8gcHJvdmlkZSBhbiBlbnRpdHlJZFwiKTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdFNlbGVjdGVkVmlldyA9IHJlc29sdmVEZWZhdWx0U2VsZWN0ZWRWaWV3KHByb3BzXzAuY29sbGVjdGlvbiA/IHByb3BzXzAuY29sbGVjdGlvbi5kZWZhdWx0U2VsZWN0ZWRWaWV3IDogdm9pZCAwLCB7XG4gICAgICBzdGF0dXM6IHByb3BzXzAuY29weSA/IFwiY29weVwiIDogcHJvcHNfMC5lbnRpdHlJZCA/IFwiZXhpc3RpbmdcIiA6IFwibmV3XCIsXG4gICAgICBlbnRpdHlJZDogcHJvcHNfMC5lbnRpdHlJZFxuICAgIH0pO1xuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5vcGVuKHByb3BzVG9TaWRlUGFuZWwoe1xuICAgICAgc2VsZWN0ZWRUYWI6IGRlZmF1bHRTZWxlY3RlZFZpZXcsXG4gICAgICAuLi5wcm9wc18wXG4gICAgfSwgbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tLCBzbWFsbExheW91dCwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIpKTtcbiAgfSwgW3NpZGVEaWFsb2dzQ29udHJvbGxlciwgbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tLCBzbWFsbExheW91dF0pO1xuICBjb25zdCByZXBsYWNlID0gdXNlQ2FsbGJhY2soKHByb3BzXzEpID0+IHtcbiAgICBpZiAocHJvcHNfMS5jb3B5ICYmICFwcm9wc18xLmVudGl0eUlkKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIklmIHlvdSB3YW50IHRvIGNvcHkgYW4gZW50aXR5IHlvdSBuZWVkIHRvIHByb3ZpZGUgYW4gZW50aXR5SWRcIik7XG4gICAgfVxuICAgIHNpZGVEaWFsb2dzQ29udHJvbGxlci5yZXBsYWNlKHByb3BzVG9TaWRlUGFuZWwocHJvcHNfMSwgbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoLCBuYXZpZ2F0aW9uLnJlc29sdmVJZHNGcm9tLCBzbWFsbExheW91dCwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIpKTtcbiAgfSwgW25hdmlnYXRpb24uYnVpbGRVcmxDb2xsZWN0aW9uUGF0aCwgbmF2aWdhdGlvbi5yZXNvbHZlSWRzRnJvbSwgc2lkZURpYWxvZ3NDb250cm9sbGVyLCBzbWFsbExheW91dF0pO1xuICByZXR1cm4ge1xuICAgIGNsb3NlLFxuICAgIG9wZW4sXG4gICAgcmVwbGFjZVxuICB9O1xufTtcbmZ1bmN0aW9uIGJ1aWxkU2lkZVBhbmVsc0Zyb21VcmwocGF0aCwgY29sbGVjdGlvbnMsIG5ld0ZsYWcpIHtcbiAgY29uc3QgbmF2aWdhdGlvblZpZXdzRm9yUGF0aCA9IGdldE5hdmlnYXRpb25FbnRyaWVzRnJvbVBhdGgoe1xuICAgIHBhdGgsXG4gICAgY29sbGVjdGlvbnNcbiAgfSk7XG4gIGxldCBzaWRlUGFuZWwgPSB2b2lkIDA7XG4gIGxldCBsYXN0Q29sbGVjdGlvblBhdGggPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5hdmlnYXRpb25WaWV3c0ZvclBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSBuYXZpZ2F0aW9uVmlld3NGb3JQYXRoW2ldO1xuICAgIGlmIChuYXZpZ2F0aW9uRW50cnkudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICAgIGxhc3RDb2xsZWN0aW9uUGF0aCA9IG5hdmlnYXRpb25FbnRyeS5wYXRoO1xuICAgIH1cbiAgICBjb25zdCBwcmV2aW91c0VudHJ5ID0gbmF2aWdhdGlvblZpZXdzRm9yUGF0aFtpIC0gMV07XG4gICAgaWYgKG5hdmlnYXRpb25FbnRyeS50eXBlID09PSBcImVudGl0eVwiKSB7XG4gICAgICBzaWRlUGFuZWwgPSB7XG4gICAgICAgIHBhdGg6IG5hdmlnYXRpb25FbnRyeS5wYXRoLFxuICAgICAgICBlbnRpdHlJZDogbmF2aWdhdGlvbkVudHJ5LmVudGl0eUlkLFxuICAgICAgICBjb3B5OiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IG5hdmlnYXRpb25FbnRyeS5wYXJlbnRDb2xsZWN0aW9uPy5zaWRlRGlhbG9nV2lkdGhcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0aW9uRW50cnkudHlwZSA9PT0gXCJjdXN0b21fdmlld1wiKSB7XG4gICAgICBpZiAocHJldmlvdXNFbnRyeT8udHlwZSA9PT0gXCJlbnRpdHlcIikge1xuICAgICAgICBpZiAoc2lkZVBhbmVsKSBzaWRlUGFuZWwuc2VsZWN0ZWRUYWIgPSBuYXZpZ2F0aW9uRW50cnkudmlldy5rZXk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0aW9uRW50cnkudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICAgIGlmIChwcmV2aW91c0VudHJ5Py50eXBlID09PSBcImVudGl0eVwiKSB7XG4gICAgICAgIGlmIChzaWRlUGFuZWwpIHNpZGVQYW5lbC5zZWxlY3RlZFRhYiA9IG5hdmlnYXRpb25FbnRyeS5jb2xsZWN0aW9uLmlkID8/IG5hdmlnYXRpb25FbnRyeS5jb2xsZWN0aW9uLnBhdGg7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChuZXdGbGFnKSB7XG4gICAgc2lkZVBhbmVsID0ge1xuICAgICAgcGF0aDogbGFzdENvbGxlY3Rpb25QYXRoLFxuICAgICAgY29weTogZmFsc2VcbiAgICB9O1xuICB9XG4gIHJldHVybiBzaWRlUGFuZWwgPyBbc2lkZVBhbmVsXSA6IFtdO1xufVxuY29uc3QgcHJvcHNUb1NpZGVQYW5lbCA9IChwcm9wcywgYnVpbGRVcmxDb2xsZWN0aW9uUGF0aCwgcmVzb2x2ZUlkc0Zyb20sIHNtYWxsTGF5b3V0LCBjdXN0b21pemF0aW9uQ29udHJvbGxlcikgPT4ge1xuICBjb25zdCBjb2xsZWN0aW9uUGF0aCA9IHJlbW92ZUluaXRpYWxBbmRUcmFpbGluZ1NsYXNoZXMocHJvcHMucGF0aCk7XG4gIGNvbnN0IG5ld1BhdGggPSBwcm9wcy5lbnRpdHlJZCA/IGJ1aWxkVXJsQ29sbGVjdGlvblBhdGgoYCR7Y29sbGVjdGlvblBhdGh9LyR7cHJvcHMuZW50aXR5SWR9JHtwcm9wcy5zZWxlY3RlZFRhYiA/IFwiL1wiICsgcHJvcHMuc2VsZWN0ZWRUYWIgOiBcIlwifSMke1NJREVfVVJMX0hBU0h9YCkgOiBidWlsZFVybENvbGxlY3Rpb25QYXRoKGAke2NvbGxlY3Rpb25QYXRofSMke05FV19VUkxfSEFTSH1gKTtcbiAgY29uc3QgcmVzb2x2ZWRQYXRoID0gcmVzb2x2ZUlkc0Zyb20ocHJvcHMucGF0aCk7XG4gIGNvbnN0IHJlc29sdmVkUGFuZWxQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgZm9ybVByb3BzOiBwcm9wcy5mb3JtUHJvcHNcbiAgfTtcbiAgY29uc3QgZW50aXR5Vmlld1dpZHRoID0gZ2V0RW50aXR5Vmlld1dpZHRoKHByb3BzLCBzbWFsbExheW91dCwgY3VzdG9taXphdGlvbkNvbnRyb2xsZXIpO1xuICByZXR1cm4ge1xuICAgIGtleTogYCR7cHJvcHMucGF0aH0vJHtwcm9wcy5lbnRpdHlJZH1gLFxuICAgIGNvbXBvbmVudDogLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlTaWRlUGFuZWwsIHsgLi4ucmVzb2x2ZWRQYW5lbFByb3BzIH0pLFxuICAgIHVybFBhdGg6IG5ld1BhdGgsXG4gICAgcGFyZW50VXJsUGF0aDogYnVpbGRVcmxDb2xsZWN0aW9uUGF0aChjb2xsZWN0aW9uUGF0aCksXG4gICAgd2lkdGg6IGVudGl0eVZpZXdXaWR0aCxcbiAgICBvbkNsb3NlOiBwcm9wcy5vbkNsb3NlLFxuICAgIGFkZGl0aW9uYWw6IHByb3BzXG4gIH07XG59O1xuZnVuY3Rpb24gdXNlQnVpbGRTaWRlRGlhbG9nc0NvbnRyb2xsZXIoKSB7XG4gIGNvbnN0ICQgPSBjKDI0KTtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDAgPSBbXTtcbiAgICAkWzBdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzBdO1xuICB9XG4gIGNvbnN0IFtzaWRlUGFuZWxzLCBzZXRTaWRlUGFuZWxzXSA9IHVzZVN0YXRlKHQwKTtcbiAgY29uc3Qgc2lkZVBhbmVsc1JlZiA9IHVzZVJlZihzaWRlUGFuZWxzKTtcbiAgbGV0IHQxO1xuICBpZiAoJFsxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MSA9IHt9O1xuICAgICRbMV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbMV07XG4gIH1cbiAgY29uc3Qgcm91dGVzU3RvcmUgPSB1c2VSZWYodDEpO1xuICBjb25zdCByb3V0ZXNDb3VudCA9IHVzZVJlZigwKTtcbiAgbGV0IHQyO1xuICBpZiAoJFsyXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MiA9IChuZXdQYW5lbHMpID0+IHtcbiAgICAgIHNpZGVQYW5lbHNSZWYuY3VycmVudCA9IG5ld1BhbmVscztcbiAgICAgIHNldFNpZGVQYW5lbHMobmV3UGFuZWxzKTtcbiAgICB9O1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgY29uc3QgdXBkYXRlU2lkZVBhbmVscyA9IHQyO1xuICBsZXQgdDM7XG4gIGlmICgkWzNdICE9PSBsb2NhdGlvbi5zdGF0ZSkge1xuICAgIHQzID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICAgIGNvbnN0IHBhbmVsS2V5cyA9IHN0YXRlPy5wYW5lbHMgPz8gW107XG4gICAgICBjb25zdCBuZXdQYW5lbHNfMCA9IHBhbmVsS2V5cy5tYXAoKGtleSkgPT4gcm91dGVzU3RvcmUuY3VycmVudFtrZXldKS5maWx0ZXIoX3RlbXAkNCk7XG4gICAgICBpZiAoIWVxdWFsKHNpZGVQYW5lbHNSZWYuY3VycmVudC5tYXAoX3RlbXAyJDMpLCBuZXdQYW5lbHNfMC5tYXAoX3RlbXAzJDEpKSkge1xuICAgICAgICB1cGRhdGVTaWRlUGFuZWxzKG5ld1BhbmVsc18wKTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRbM10gPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICAkWzRdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzRdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNV0gIT09IGxvY2F0aW9uKSB7XG4gICAgdDQgPSBbbG9jYXRpb25dO1xuICAgICRbNV0gPSBsb2NhdGlvbjtcbiAgICAkWzZdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzZdO1xuICB9XG4gIHVzZUVmZmVjdCh0MywgdDQpO1xuICBsZXQgdDU7XG4gIGlmICgkWzddICE9PSBsb2NhdGlvbiB8fCAkWzhdICE9PSBuYXZpZ2F0ZSB8fCAkWzldICE9PSBzaWRlUGFuZWxzKSB7XG4gICAgdDUgPSAoKSA9PiB7XG4gICAgICBpZiAoc2lkZVBhbmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbGFzdFNpZGVQYW5lbCA9IHNpZGVQYW5lbHNbc2lkZVBhbmVscy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYW5lbHMgPSBbLi4uc2lkZVBhbmVscy5zbGljZSgwLCAtMSldO1xuICAgICAgdXBkYXRlU2lkZVBhbmVscyh1cGRhdGVkUGFuZWxzKTtcbiAgICAgIGlmIChyb3V0ZXNDb3VudC5jdXJyZW50ID4gMCkge1xuICAgICAgICBpZiAobGFzdFNpZGVQYW5lbC51cmxQYXRoKSB7XG4gICAgICAgICAgbmF2aWdhdGUoLTEpO1xuICAgICAgICB9XG4gICAgICAgIHJvdXRlc0NvdW50LmN1cnJlbnQgPSByb3V0ZXNDb3VudC5jdXJyZW50IC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsYXN0U2lkZVBhbmVsLnBhcmVudFVybFBhdGgpIHtcbiAgICAgICAgICBjb25zdCBiYXNlTG9jYXRpb24gPSBsb2NhdGlvbi5zdGF0ZT8uYmFzZV9sb2NhdGlvbiA/PyBsb2NhdGlvbjtcbiAgICAgICAgICBuYXZpZ2F0ZShsYXN0U2lkZVBhbmVsLnBhcmVudFVybFBhdGgsIHtcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICBiYXNlX2xvY2F0aW9uOiBiYXNlTG9jYXRpb24sXG4gICAgICAgICAgICAgIHBhbmVsczogdXBkYXRlZFBhbmVscy5tYXAoX3RlbXA0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzddID0gbG9jYXRpb247XG4gICAgJFs4XSA9IG5hdmlnYXRlO1xuICAgICRbOV0gPSBzaWRlUGFuZWxzO1xuICAgICRbMTBdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzEwXTtcbiAgfVxuICBjb25zdCBjbG9zZSA9IHQ1O1xuICBsZXQgdDY7XG4gIGlmICgkWzExXSAhPT0gbG9jYXRpb24gfHwgJFsxMl0gIT09IG5hdmlnYXRlIHx8ICRbMTNdICE9PSBzaWRlUGFuZWxzKSB7XG4gICAgdDYgPSAocGFuZWxQcm9wcykgPT4ge1xuICAgICAgY29uc3QgbmV3UGFuZWxzXzEgPSBBcnJheS5pc0FycmF5KHBhbmVsUHJvcHMpID8gcGFuZWxQcm9wcyA6IFtwYW5lbFByb3BzXTtcbiAgICAgIG5ld1BhbmVsc18xLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHJvdXRlc1N0b3JlLmN1cnJlbnRbcGFuZWwua2V5XSA9IHBhbmVsO1xuICAgICAgfSk7XG4gICAgICByb3V0ZXNDb3VudC5jdXJyZW50ID0gcm91dGVzQ291bnQuY3VycmVudCArIG5ld1BhbmVsc18xLmxlbmd0aDtcbiAgICAgIGNvbnN0IGJhc2VMb2NhdGlvbl8wID0gbG9jYXRpb24uc3RhdGU/LmJhc2VfbG9jYXRpb24gPz8gbG9jYXRpb247XG4gICAgICBjb25zdCB1cGRhdGVkUGFuZWxzXzAgPSBbLi4uc2lkZVBhbmVscywgLi4ubmV3UGFuZWxzXzFdO1xuICAgICAgdXBkYXRlU2lkZVBhbmVscyh1cGRhdGVkUGFuZWxzXzApO1xuICAgICAgbmV3UGFuZWxzXzEuZm9yRWFjaCgocGFuZWxfMCkgPT4ge1xuICAgICAgICBpZiAocGFuZWxfMC51cmxQYXRoKSB7XG4gICAgICAgICAgbmF2aWdhdGUocGFuZWxfMC51cmxQYXRoLCB7XG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICBiYXNlX2xvY2F0aW9uOiBiYXNlTG9jYXRpb25fMCxcbiAgICAgICAgICAgICAgcGFuZWxzOiB1cGRhdGVkUGFuZWxzXzAubWFwKF90ZW1wNSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICAkWzExXSA9IGxvY2F0aW9uO1xuICAgICRbMTJdID0gbmF2aWdhdGU7XG4gICAgJFsxM10gPSBzaWRlUGFuZWxzO1xuICAgICRbMTRdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzE0XTtcbiAgfVxuICBjb25zdCBvcGVuID0gdDY7XG4gIGxldCB0NztcbiAgaWYgKCRbMTVdICE9PSBsb2NhdGlvbiB8fCAkWzE2XSAhPT0gbmF2aWdhdGUgfHwgJFsxN10gIT09IHNpZGVQYW5lbHMpIHtcbiAgICB0NyA9IChwYW5lbFByb3BzXzApID0+IHtcbiAgICAgIGNvbnN0IG5ld1BhbmVsc18yID0gQXJyYXkuaXNBcnJheShwYW5lbFByb3BzXzApID8gcGFuZWxQcm9wc18wIDogW3BhbmVsUHJvcHNfMF07XG4gICAgICBuZXdQYW5lbHNfMi5mb3JFYWNoKChwYW5lbF8xKSA9PiB7XG4gICAgICAgIHJvdXRlc1N0b3JlLmN1cnJlbnRbcGFuZWxfMS5rZXldID0gcGFuZWxfMTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgYmFzZUxvY2F0aW9uXzEgPSBsb2NhdGlvbi5zdGF0ZT8uYmFzZV9sb2NhdGlvbiA/PyBsb2NhdGlvbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYW5lbHNfMSA9IFsuLi5zaWRlUGFuZWxzLnNsaWNlKDAsIC1uZXdQYW5lbHNfMi5sZW5ndGgpLCAuLi5uZXdQYW5lbHNfMl07XG4gICAgICB1cGRhdGVTaWRlUGFuZWxzKHVwZGF0ZWRQYW5lbHNfMSk7XG4gICAgICBuZXdQYW5lbHNfMi5mb3JFYWNoKChwYW5lbF8yKSA9PiB7XG4gICAgICAgIGlmIChwYW5lbF8yLnVybFBhdGgpIHtcbiAgICAgICAgICBuYXZpZ2F0ZShwYW5lbF8yLnVybFBhdGgsIHtcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICBiYXNlX2xvY2F0aW9uOiBiYXNlTG9jYXRpb25fMSxcbiAgICAgICAgICAgICAgcGFuZWxzOiB1cGRhdGVkUGFuZWxzXzEubWFwKF90ZW1wNilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICAkWzE1XSA9IGxvY2F0aW9uO1xuICAgICRbMTZdID0gbmF2aWdhdGU7XG4gICAgJFsxN10gPSBzaWRlUGFuZWxzO1xuICAgICRbMThdID0gdDc7XG4gIH0gZWxzZSB7XG4gICAgdDcgPSAkWzE4XTtcbiAgfVxuICBjb25zdCByZXBsYWNlID0gdDc7XG4gIGxldCB0ODtcbiAgaWYgKCRbMTldICE9PSBjbG9zZSB8fCAkWzIwXSAhPT0gb3BlbiB8fCAkWzIxXSAhPT0gcmVwbGFjZSB8fCAkWzIyXSAhPT0gc2lkZVBhbmVscykge1xuICAgIHQ4ID0ge1xuICAgICAgc2lkZVBhbmVscyxcbiAgICAgIHNldFNpZGVQYW5lbHM6IHVwZGF0ZVNpZGVQYW5lbHMsXG4gICAgICBjbG9zZSxcbiAgICAgIG9wZW4sXG4gICAgICByZXBsYWNlXG4gICAgfTtcbiAgICAkWzE5XSA9IGNsb3NlO1xuICAgICRbMjBdID0gb3BlbjtcbiAgICAkWzIxXSA9IHJlcGxhY2U7XG4gICAgJFsyMl0gPSBzaWRlUGFuZWxzO1xuICAgICRbMjNdID0gdDg7XG4gIH0gZWxzZSB7XG4gICAgdDggPSAkWzIzXTtcbiAgfVxuICByZXR1cm4gdDg7XG59XG5mdW5jdGlvbiBfdGVtcDYocF80KSB7XG4gIHJldHVybiBwXzQua2V5O1xufVxuZnVuY3Rpb24gX3RlbXA1KHBfMykge1xuICByZXR1cm4gcF8zLmtleTtcbn1cbmZ1bmN0aW9uIF90ZW1wNChwXzIpIHtcbiAgcmV0dXJuIHBfMi5rZXk7XG59XG5mdW5jdGlvbiBfdGVtcDMkMShwXzEpIHtcbiAgcmV0dXJuIHBfMS5rZXk7XG59XG5mdW5jdGlvbiBfdGVtcDIkMyhwXzApIHtcbiAgcmV0dXJuIHBfMC5rZXk7XG59XG5mdW5jdGlvbiBfdGVtcCQ0KHApIHtcbiAgcmV0dXJuIEJvb2xlYW4ocCk7XG59XG5mdW5jdGlvbiB1c2VCdWlsZERhdGFTb3VyY2Uoe1xuICBkZWxlZ2F0ZSxcbiAgcHJvcGVydHlDb25maWdzLFxuICBuYXZpZ2F0aW9uQ29udHJvbGxlclxufSkge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIEZldGNoIGVudGl0aWVzIGluIGEgRmlyZXN0b3JlIHBhdGhcbiAgICAgKiBAcGFyYW0gcGF0aFxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIGZpbHRlclxuICAgICAqIEBwYXJhbSBsaW1pdFxuICAgICAqIEBwYXJhbSBzdGFydEFmdGVyXG4gICAgICogQHBhcmFtIHNlYXJjaFN0cmluZ1xuICAgICAqIEBwYXJhbSBvcmRlckJ5XG4gICAgICogQHBhcmFtIG9yZGVyXG4gICAgICogQHJldHVybiBGdW5jdGlvbiB0byBjYW5jZWwgc3Vic2NyaXB0aW9uXG4gICAgICogQHNlZSB1c2VDb2xsZWN0aW9uRmV0Y2ggaWYgeW91IG5lZWQgdGhpcyBmdW5jdGlvbmFsaXR5IGltcGxlbWVudGVkIGFzIGEgaG9va1xuICAgICAqIEBncm91cCBGaXJlc3RvcmVcbiAgICAgKi9cbiAgICBmZXRjaENvbGxlY3Rpb246IHVzZUNhbGxiYWNrKCh7XG4gICAgICBwYXRoLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGZpbHRlcixcbiAgICAgIGxpbWl0LFxuICAgICAgc3RhcnRBZnRlcixcbiAgICAgIHNlYXJjaFN0cmluZyxcbiAgICAgIG9yZGVyQnksXG4gICAgICBvcmRlclxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IHVzZWREZWxlZ2F0ZSA9IGNvbGxlY3Rpb24/Lm92ZXJyaWRlcz8uZGF0YVNvdXJjZURlbGVnYXRlID8/IGRlbGVnYXRlO1xuICAgICAgcmV0dXJuIHVzZWREZWxlZ2F0ZS5mZXRjaENvbGxlY3Rpb24oe1xuICAgICAgICBwYXRoLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzdGFydEFmdGVyLFxuICAgICAgICBzZWFyY2hTdHJpbmcsXG4gICAgICAgIG9yZGVyQnksXG4gICAgICAgIG9yZGVyLFxuICAgICAgICBjb2xsZWN0aW9uXG4gICAgICB9KTtcbiAgICB9LCBbZGVsZWdhdGVdKSxcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBlbnRpdGllcyBpbiBhIGdpdmVuIHBhdGhcbiAgICAgKiBAcGFyYW0gcGF0aFxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIG9uRXJyb3JcbiAgICAgKiBAcGFyYW0gZmlsdGVyXG4gICAgICogQHBhcmFtIGxpbWl0XG4gICAgICogQHBhcmFtIHN0YXJ0QWZ0ZXJcbiAgICAgKiBAcGFyYW0gc2VhcmNoU3RyaW5nXG4gICAgICogQHBhcmFtIG9yZGVyQnlcbiAgICAgKiBAcGFyYW0gb3JkZXJcbiAgICAgKiBAcGFyYW0gb25VcGRhdGVcbiAgICAgKiBAcmV0dXJuIEZ1bmN0aW9uIHRvIGNhbmNlbCBzdWJzY3JpcHRpb25cbiAgICAgKiBAc2VlIHVzZUNvbGxlY3Rpb25GZXRjaCBpZiB5b3UgbmVlZCB0aGlzIGZ1bmN0aW9uYWxpdHkgaW1wbGVtZW50ZWQgYXMgYSBob29rXG4gICAgICogQGdyb3VwIEZpcmVzdG9yZVxuICAgICAqL1xuICAgIGxpc3RlbkNvbGxlY3Rpb246IGRlbGVnYXRlLmxpc3RlbkNvbGxlY3Rpb24gPyB1c2VDYWxsYmFjaygoe1xuICAgICAgcGF0aDogcGF0aF8wLFxuICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvblByb3AsXG4gICAgICBmaWx0ZXI6IGZpbHRlcl8wLFxuICAgICAgbGltaXQ6IGxpbWl0XzAsXG4gICAgICBzdGFydEFmdGVyOiBzdGFydEFmdGVyXzAsXG4gICAgICBzZWFyY2hTdHJpbmc6IHNlYXJjaFN0cmluZ18wLFxuICAgICAgb3JkZXJCeTogb3JkZXJCeV8wLFxuICAgICAgb3JkZXI6IG9yZGVyXzAsXG4gICAgICBvblVwZGF0ZSxcbiAgICAgIG9uRXJyb3JcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uXzAgPSBjb2xsZWN0aW9uUHJvcCA/PyBuYXZpZ2F0aW9uQ29udHJvbGxlci5nZXRDb2xsZWN0aW9uKHBhdGhfMCk7XG4gICAgICBjb25zdCB1c2VkRGVsZWdhdGVfMCA9IGNvbGxlY3Rpb25fMD8ub3ZlcnJpZGVzPy5kYXRhU291cmNlRGVsZWdhdGUgPz8gZGVsZWdhdGU7XG4gICAgICBpZiAoIXVzZWREZWxlZ2F0ZV8wLmxpc3RlbkNvbGxlY3Rpb24pIHRocm93IEVycm9yKFwidXNlQnVpbGREYXRhU291cmNlIGRlbGVnYXRlIG5vdCBpbml0aWFsaXNlZFwiKTtcbiAgICAgIHJldHVybiB1c2VkRGVsZWdhdGVfMC5saXN0ZW5Db2xsZWN0aW9uKHtcbiAgICAgICAgcGF0aDogcGF0aF8wLFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcl8wLFxuICAgICAgICBsaW1pdDogbGltaXRfMCxcbiAgICAgICAgc3RhcnRBZnRlcjogc3RhcnRBZnRlcl8wLFxuICAgICAgICBzZWFyY2hTdHJpbmc6IHNlYXJjaFN0cmluZ18wLFxuICAgICAgICBvcmRlckJ5OiBvcmRlckJ5XzAsXG4gICAgICAgIG9yZGVyOiBvcmRlcl8wLFxuICAgICAgICBvblVwZGF0ZSxcbiAgICAgICAgb25FcnJvcixcbiAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8wXG4gICAgICB9KTtcbiAgICB9LCBbZGVsZWdhdGUsIG5hdmlnYXRpb25Db250cm9sbGVyLmdldENvbGxlY3Rpb25dKSA6IHZvaWQgMCxcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhbiBlbnRpdHkgZ2l2ZW4gYSBwYXRoIGFuZCBhIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gcGF0aFxuICAgICAqIEBwYXJhbSBlbnRpdHlJZFxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAgICogQGdyb3VwIEZpcmVzdG9yZVxuICAgICAqL1xuICAgIGZldGNoRW50aXR5OiB1c2VDYWxsYmFjaygoe1xuICAgICAgcGF0aDogcGF0aF8xLFxuICAgICAgZW50aXR5SWQsXG4gICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzFcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCB1c2VkRGVsZWdhdGVfMSA9IGNvbGxlY3Rpb25fMT8ub3ZlcnJpZGVzPy5kYXRhU291cmNlRGVsZWdhdGUgPz8gZGVsZWdhdGU7XG4gICAgICByZXR1cm4gdXNlZERlbGVnYXRlXzEuZmV0Y2hFbnRpdHkoe1xuICAgICAgICBwYXRoOiBwYXRoXzEsXG4gICAgICAgIGVudGl0eUlkLFxuICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzFcbiAgICAgIH0pO1xuICAgIH0sIFtkZWxlZ2F0ZS5mZXRjaEVudGl0eV0pLFxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gZW50aXR5SWRcbiAgICAgKiBAcGFyYW0gY29sbGVjdGlvblxuICAgICAqIEBwYXJhbSBvblVwZGF0ZVxuICAgICAqIEBwYXJhbSBvbkVycm9yXG4gICAgICogQHJldHVybiBGdW5jdGlvbiB0byBjYW5jZWwgc3Vic2NyaXB0aW9uXG4gICAgICogQGdyb3VwIEZpcmVzdG9yZVxuICAgICAqL1xuICAgIGxpc3RlbkVudGl0eTogZGVsZWdhdGUubGlzdGVuRW50aXR5ID8gdXNlQ2FsbGJhY2soKHtcbiAgICAgIHBhdGg6IHBhdGhfMixcbiAgICAgIGVudGl0eUlkOiBlbnRpdHlJZF8wLFxuICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8yLFxuICAgICAgb25VcGRhdGU6IG9uVXBkYXRlXzAsXG4gICAgICBvbkVycm9yOiBvbkVycm9yXzBcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCB1c2VkRGVsZWdhdGVfMiA9IGNvbGxlY3Rpb25fMj8ub3ZlcnJpZGVzPy5kYXRhU291cmNlRGVsZWdhdGUgPz8gZGVsZWdhdGU7XG4gICAgICBpZiAoIXVzZWREZWxlZ2F0ZV8yLmxpc3RlbkVudGl0eSkgdGhyb3cgRXJyb3IoXCJ1c2VCdWlsZERhdGFTb3VyY2UgZGVsZWdhdGUgbm90IGluaXRpYWxpc2VkXCIpO1xuICAgICAgcmV0dXJuIHVzZWREZWxlZ2F0ZV8yLmxpc3RlbkVudGl0eSh7XG4gICAgICAgIHBhdGg6IHBhdGhfMixcbiAgICAgICAgZW50aXR5SWQ6IGVudGl0eUlkXzAsXG4gICAgICAgIG9uVXBkYXRlOiBvblVwZGF0ZV8wLFxuICAgICAgICBvbkVycm9yOiBvbkVycm9yXzAsXG4gICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fMlxuICAgICAgfSk7XG4gICAgfSwgW2RlbGVnYXRlLmxpc3RlbkVudGl0eV0pIDogdm9pZCAwLFxuICAgIC8qKlxuICAgICAqIFNhdmUgZW50aXR5IHRvIHRoZSBzcGVjaWZpZWQgcGF0aC4gTm90ZSB0aGF0IEZpcmVzdG9yZSBkb2VzIG5vdCBhbGxvd1xuICAgICAqIHVuZGVmaW5lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gZW50aXR5SWRcbiAgICAgKiBAcGFyYW0gdmFsdWVzXG4gICAgICogQHBhcmFtIHNjaGVtYUlkXG4gICAgICogQHBhcmFtIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gc3RhdHVzXG4gICAgICogQGdyb3VwIEZpcmVzdG9yZVxuICAgICAqL1xuICAgIHNhdmVFbnRpdHk6IHVzZUNhbGxiYWNrKCh7XG4gICAgICBwYXRoOiBwYXRoXzMsXG4gICAgICBlbnRpdHlJZDogZW50aXR5SWRfMSxcbiAgICAgIHZhbHVlcyxcbiAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25Qcm9wXzAsXG4gICAgICBzdGF0dXNcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uXzMgPSBjb2xsZWN0aW9uUHJvcF8wID8/IG5hdmlnYXRpb25Db250cm9sbGVyLmdldENvbGxlY3Rpb24ocGF0aF8zKTtcbiAgICAgIGNvbnN0IHVzZWREZWxlZ2F0ZV8zID0gY29sbGVjdGlvbl8zPy5vdmVycmlkZXM/LmRhdGFTb3VyY2VEZWxlZ2F0ZSA/PyBkZWxlZ2F0ZTtcbiAgICAgIGNvbnN0IHJlc29sdmVkQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb25fMyA/IHJlc29sdmVDb2xsZWN0aW9uKHtcbiAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbl8zLFxuICAgICAgICBwYXRoOiBwYXRoXzMsXG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHlJZF8xLFxuICAgICAgICBwcm9wZXJ0eUNvbmZpZ3NcbiAgICAgIH0pIDogdm9pZCAwO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHJlc29sdmVkQ29sbGVjdGlvbj8ucHJvcGVydGllcztcbiAgICAgIGNvbnN0IGZpcmVzdG9yZVZhbHVlcyA9IHVzZWREZWxlZ2F0ZV8zLmNtc1RvRGVsZWdhdGVNb2RlbCh2YWx1ZXMpO1xuICAgICAgY29uc3QgdXBkYXRlZFZhbHVlcyA9IHByb3BlcnRpZXMgPyB1cGRhdGVEYXRlQXV0b1ZhbHVlcyh7XG4gICAgICAgIGlucHV0VmFsdWVzOiBmaXJlc3RvcmVWYWx1ZXMsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgdGltZXN0YW1wTm93VmFsdWU6IHVzZWREZWxlZ2F0ZV8zLmN1cnJlbnRUaW1lPy4oKSA/PyAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc2V0RGF0ZVRvTWlkbmlnaHQ6IHVzZWREZWxlZ2F0ZV8zLnNldERhdGVUb01pZG5pZ2h0XG4gICAgICB9KSA6IGZpcmVzdG9yZVZhbHVlcztcbiAgICAgIHJldHVybiB1c2VkRGVsZWdhdGVfMy5zYXZlRW50aXR5KHtcbiAgICAgICAgcGF0aDogcGF0aF8zLFxuICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzMsXG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHlJZF8xLFxuICAgICAgICB2YWx1ZXM6IHVwZGF0ZWRWYWx1ZXMsXG4gICAgICAgIHN0YXR1c1xuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHJlcy5pZCxcbiAgICAgICAgICBwYXRoOiByZXMucGF0aCxcbiAgICAgICAgICB2YWx1ZXM6IHVzZWREZWxlZ2F0ZV8zLmRlbGVnYXRlVG9DTVNNb2RlbCh1cGRhdGVkVmFsdWVzKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSwgW2RlbGVnYXRlLnNhdmVFbnRpdHksIG5hdmlnYXRpb25Db250cm9sbGVyLmdldENvbGxlY3Rpb25dKSxcbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gZW50aXR5XG4gICAgICogQHBhcmFtIGVudGl0eVxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAgICogQGdyb3VwIEZpcmVzdG9yZVxuICAgICAqL1xuICAgIGRlbGV0ZUVudGl0eTogdXNlQ2FsbGJhY2soKHtcbiAgICAgIGVudGl0eSxcbiAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fNFxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IHVzZWREZWxlZ2F0ZV80ID0gY29sbGVjdGlvbl80Py5vdmVycmlkZXM/LmRhdGFTb3VyY2VEZWxlZ2F0ZSA/PyBkZWxlZ2F0ZTtcbiAgICAgIHJldHVybiB1c2VkRGVsZWdhdGVfNC5kZWxldGVFbnRpdHkoe1xuICAgICAgICBlbnRpdHksXG4gICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fNFxuICAgICAgfSk7XG4gICAgfSwgW2RlbGVnYXRlLmRlbGV0ZUVudGl0eV0pLFxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiBwcm9wZXJ0eSBpcyB1bmlxdWUgaW4gdGhlIGdpdmVuIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gcGF0aCBDb2xsZWN0aW9uIHBhdGhcbiAgICAgKiBAcGFyYW0gbmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gZW50aXR5SWRcbiAgICAgKiBAcmV0dXJuIGB0cnVlYCBpZiB0aGVyZSBhcmUgbm8gb3RoZXIgZmllbGRzIGJlc2lkZXMgdGhlIGdpdmVuIGVudGl0eVxuICAgICAqIEBncm91cCBGaXJlc3RvcmVcbiAgICAgKi9cbiAgICBjaGVja1VuaXF1ZUZpZWxkOiB1c2VDYWxsYmFjaygocGF0aF80LCBuYW1lLCB2YWx1ZSwgZW50aXR5SWRfMiwgY29sbGVjdGlvbl81KSA9PiB7XG4gICAgICBjb25zdCB1c2VkRGVsZWdhdGVfNSA9IGNvbGxlY3Rpb25fNT8ub3ZlcnJpZGVzPy5kYXRhU291cmNlRGVsZWdhdGUgPz8gZGVsZWdhdGU7XG4gICAgICByZXR1cm4gdXNlZERlbGVnYXRlXzUuY2hlY2tVbmlxdWVGaWVsZChwYXRoXzQsIG5hbWUsIHZhbHVlLCBlbnRpdHlJZF8yLCBjb2xsZWN0aW9uXzUpO1xuICAgIH0sIFtkZWxlZ2F0ZS5jaGVja1VuaXF1ZUZpZWxkXSksXG4gICAgZ2VuZXJhdGVFbnRpdHlJZDogdXNlQ2FsbGJhY2soKHBhdGhfNSwgY29sbGVjdGlvbl82KSA9PiB7XG4gICAgICBjb25zdCB1c2VkRGVsZWdhdGVfNiA9IGNvbGxlY3Rpb25fNj8ub3ZlcnJpZGVzPy5kYXRhU291cmNlRGVsZWdhdGUgPz8gZGVsZWdhdGU7XG4gICAgICByZXR1cm4gdXNlZERlbGVnYXRlXzYuZ2VuZXJhdGVFbnRpdHlJZChwYXRoXzUsIGNvbGxlY3Rpb25fNik7XG4gICAgfSwgW2RlbGVnYXRlLmdlbmVyYXRlRW50aXR5SWRdKSxcbiAgICBjb3VudEVudGl0aWVzOiBkZWxlZ2F0ZS5jb3VudEVudGl0aWVzID8gYXN5bmMgKHtcbiAgICAgIHBhdGg6IHBhdGhfNixcbiAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25fNyxcbiAgICAgIGZpbHRlcjogZmlsdGVyXzEsXG4gICAgICBvcmRlcjogb3JkZXJfMSxcbiAgICAgIG9yZGVyQnk6IG9yZGVyQnlfMVxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IHVzZWREZWxlZ2F0ZV83ID0gY29sbGVjdGlvbl83Py5vdmVycmlkZXM/LmRhdGFTb3VyY2VEZWxlZ2F0ZSA/PyBkZWxlZ2F0ZTtcbiAgICAgIHJldHVybiB1c2VkRGVsZWdhdGVfNy5jb3VudEVudGl0aWVzKHtcbiAgICAgICAgcGF0aDogcGF0aF82LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcl8xLFxuICAgICAgICBvcmRlckJ5OiBvcmRlckJ5XzEsXG4gICAgICAgIG9yZGVyOiBvcmRlcl8xLFxuICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXzdcbiAgICAgIH0pO1xuICAgIH0gOiB2b2lkIDAsXG4gICAgaXNGaWx0ZXJDb21iaW5hdGlvblZhbGlkOiB1c2VDYWxsYmFjaygoe1xuICAgICAgcGF0aDogcGF0aF83LFxuICAgICAgZGF0YWJhc2VJZCxcbiAgICAgIGZpbHRlclZhbHVlcyxcbiAgICAgIHNvcnRCeVxuICAgIH0pID0+IHtcbiAgICAgIGlmICghZGVsZWdhdGUuaXNGaWx0ZXJDb21iaW5hdGlvblZhbGlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBkZWxlZ2F0ZS5pc0ZpbHRlckNvbWJpbmF0aW9uVmFsaWQoe1xuICAgICAgICBwYXRoOiBwYXRoXzcsXG4gICAgICAgIGRhdGFiYXNlSWQsXG4gICAgICAgIGZpbHRlclZhbHVlcyxcbiAgICAgICAgc29ydEJ5XG4gICAgICB9KTtcbiAgICB9LCBbZGVsZWdhdGUuaXNGaWx0ZXJDb21iaW5hdGlvblZhbGlkXSksXG4gICAgaW5pdFRleHRTZWFyY2g6IHVzZUNhbGxiYWNrKGFzeW5jIChwcm9wcykgPT4ge1xuICAgICAgY29uc3QgdXNlZERlbGVnYXRlXzggPSBwcm9wcy5jb2xsZWN0aW9uPy5vdmVycmlkZXM/LmRhdGFTb3VyY2VEZWxlZ2F0ZSA/PyBkZWxlZ2F0ZTtcbiAgICAgIGlmICghdXNlZERlbGVnYXRlXzguaW5pdFRleHRTZWFyY2gpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB1c2VkRGVsZWdhdGVfOC5pbml0VGV4dFNlYXJjaChwcm9wcyk7XG4gICAgfSwgW2RlbGVnYXRlLmluaXRUZXh0U2VhcmNoXSlcbiAgfTtcbn1cbmNvbnN0IERFRkFVTFRfU0VSVkVSID0gXCJodHRwczovL2FwaS1kcnBseWkzYjZxLWV5LmEucnVuLmFwcFwiO1xuYXN5bmMgZnVuY3Rpb24gbWFrZVJlcXVlc3QoYXV0aENvbnRyb2xsZXIsIGRhdGFTb3VyY2VLZXksIHBsdWdpbktleXMsIGFwaUtleSkge1xuICBsZXQgaWRUb2tlbjtcbiAgdHJ5IHtcbiAgICBpZFRva2VuID0gYXdhaXQgYXV0aENvbnRyb2xsZXIuZ2V0QXV0aFRva2VuKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZFRva2VuID0gbnVsbDtcbiAgfVxuICByZXR1cm4gZmV0Y2goREVGQVVMVF9TRVJWRVIgKyBcIi9hY2Nlc3NfbG9nXCIsIHtcbiAgICAvLyBtb2RlOiBcIm5vLWNvcnNcIixcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7aWRUb2tlbn1gXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhcGlLZXksXG4gICAgICBlbWFpbDogYXV0aENvbnRyb2xsZXIudXNlcj8uZW1haWwgPz8gbnVsbCxcbiAgICAgIGRhdGFzb3VyY2U6IGRhdGFTb3VyY2VLZXksXG4gICAgICBwbHVnaW5zOiBwbHVnaW5LZXlzXG4gICAgfSlcbiAgfSkudGhlbihhc3luYyAocmVzKSA9PiB7XG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlUHJvamVjdExvZyh0MCkge1xuICBjb25zdCAkID0gYygxMSk7XG4gIGNvbnN0IHtcbiAgICBhdXRoQ29udHJvbGxlcixcbiAgICBkYXRhU291cmNlRGVsZWdhdGUsXG4gICAgcGx1Z2lucyxcbiAgICBhcGlLZXlcbiAgfSA9IHQwO1xuICBjb25zdCBbYWNjZXNzUmVzcG9uc2UsIHNldEFjY2Vzc1Jlc3BvbnNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBhY2Nlc3NlZFVzZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRhdGFTb3VyY2VLZXkgPSBkYXRhU291cmNlRGVsZWdhdGUua2V5O1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBwbHVnaW5zKSB7XG4gICAgdDEgPSBwbHVnaW5zPy5tYXAoX3RlbXAkMyk7XG4gICAgJFswXSA9IHBsdWdpbnM7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBwbHVnaW5LZXlzID0gdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbMl0gIT09IGFwaUtleSB8fCAkWzNdICE9PSBhdXRoQ29udHJvbGxlciB8fCAkWzRdICE9PSBkYXRhU291cmNlS2V5IHx8ICRbNV0gIT09IHBsdWdpbktleXMpIHtcbiAgICB0MiA9ICgpID0+IHtcbiAgICAgIGlmIChhdXRoQ29udHJvbGxlci51c2VyICYmIGF1dGhDb250cm9sbGVyLnVzZXIudWlkICE9PSBhY2Nlc3NlZFVzZXJSZWYuY3VycmVudCAmJiAhYXV0aENvbnRyb2xsZXIuaW5pdGlhbExvYWRpbmcpIHtcbiAgICAgICAgbWFrZVJlcXVlc3QoYXV0aENvbnRyb2xsZXIsIGRhdGFTb3VyY2VLZXksIHBsdWdpbktleXMsIGFwaUtleSkudGhlbihzZXRBY2Nlc3NSZXNwb25zZSk7XG4gICAgICAgIGFjY2Vzc2VkVXNlclJlZi5jdXJyZW50ID0gYXV0aENvbnRyb2xsZXIudXNlci51aWQ7XG4gICAgICB9XG4gICAgfTtcbiAgICAkWzJdID0gYXBpS2V5O1xuICAgICRbM10gPSBhdXRoQ29udHJvbGxlcjtcbiAgICAkWzRdID0gZGF0YVNvdXJjZUtleTtcbiAgICAkWzVdID0gcGx1Z2luS2V5cztcbiAgICAkWzZdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzZdO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbN10gIT09IGF1dGhDb250cm9sbGVyIHx8ICRbOF0gIT09IGRhdGFTb3VyY2VLZXkgfHwgJFs5XSAhPT0gcGx1Z2luS2V5cykge1xuICAgIHQzID0gW2F1dGhDb250cm9sbGVyLCBkYXRhU291cmNlS2V5LCBwbHVnaW5LZXlzXTtcbiAgICAkWzddID0gYXV0aENvbnRyb2xsZXI7XG4gICAgJFs4XSA9IGRhdGFTb3VyY2VLZXk7XG4gICAgJFs5XSA9IHBsdWdpbktleXM7XG4gICAgJFsxMF0gPSB0MztcbiAgfSBlbHNlIHtcbiAgICB0MyA9ICRbMTBdO1xuICB9XG4gIHVzZUVmZmVjdCh0MiwgdDMpO1xuICByZXR1cm4gYWNjZXNzUmVzcG9uc2U7XG59XG5mdW5jdGlvbiBfdGVtcCQzKHBsdWdpbikge1xuICByZXR1cm4gcGx1Z2luLmtleTtcbn1cbmZ1bmN0aW9uIEZpcmVDTVMocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGVudGl0eUxpbmtCdWlsZGVyLFxuICAgIHVzZXJDb25maWdQZXJzaXN0ZW5jZSxcbiAgICBkYXRlVGltZUZvcm1hdCxcbiAgICBsb2NhbGUsXG4gICAgYXV0aENvbnRyb2xsZXIsXG4gICAgc3RvcmFnZVNvdXJjZSxcbiAgICBkYXRhU291cmNlRGVsZWdhdGUsXG4gICAgcGx1Z2lucyxcbiAgICBvbkFuYWx5dGljc0V2ZW50LFxuICAgIHByb3BlcnR5Q29uZmlncyxcbiAgICBlbnRpdHlWaWV3cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5hdmlnYXRpb25Db250cm9sbGVyLFxuICAgIGFwaUtleVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSB1c2VCdWlsZERhdGFTb3VyY2Uoe1xuICAgIGRlbGVnYXRlOiBkYXRhU291cmNlRGVsZWdhdGUsXG4gICAgcHJvcGVydHlDb25maWdzLFxuICAgIG5hdmlnYXRpb25Db250cm9sbGVyXG4gIH0pO1xuICBjb25zdCBzaWRlRGlhbG9nc0NvbnRyb2xsZXIgPSB1c2VCdWlsZFNpZGVEaWFsb2dzQ29udHJvbGxlcigpO1xuICBjb25zdCBzaWRlRW50aXR5Q29udHJvbGxlciA9IHVzZUJ1aWxkU2lkZUVudGl0eUNvbnRyb2xsZXIobmF2aWdhdGlvbkNvbnRyb2xsZXIsIHNpZGVEaWFsb2dzQ29udHJvbGxlcik7XG4gIGNvbnN0IHBsdWdpbnNMb2FkaW5nID0gcGx1Z2lucz8uc29tZSgocCkgPT4gcC5sb2FkaW5nKSA/PyBmYWxzZTtcbiAgY29uc3QgbG9hZGluZyA9IGF1dGhDb250cm9sbGVyLmluaXRpYWxMb2FkaW5nIHx8IG5hdmlnYXRpb25Db250cm9sbGVyLmxvYWRpbmcgfHwgcGx1Z2luc0xvYWRpbmc7XG4gIGNvbnN0IGN1c3RvbWl6YXRpb25Db250cm9sbGVyID0ge1xuICAgIGRhdGVUaW1lRm9ybWF0LFxuICAgIGxvY2FsZSxcbiAgICBlbnRpdHlMaW5rQnVpbGRlcixcbiAgICBwbHVnaW5zLFxuICAgIGVudGl0eVZpZXdzOiBlbnRpdHlWaWV3cyA/PyBbXSxcbiAgICBwcm9wZXJ0eUNvbmZpZ3M6IHByb3BlcnR5Q29uZmlncyA/PyB7fSxcbiAgICBjb21wb25lbnRzXG4gIH07XG4gIGNvbnN0IGFuYWx5dGljc0NvbnRyb2xsZXIgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgb25BbmFseXRpY3NFdmVudFxuICB9KSwgW10pO1xuICBjb25zdCBhY2Nlc3NSZXNwb25zZSA9IHVzZVByb2plY3RMb2coe1xuICAgIGFwaUtleSxcbiAgICBhdXRoQ29udHJvbGxlcixcbiAgICBkYXRhU291cmNlRGVsZWdhdGUsXG4gICAgcGx1Z2luc1xuICB9KTtcbiAgaWYgKGFjY2Vzc1Jlc3BvbnNlPy5tZXNzYWdlKSB7XG4gICAgY29uc29sZS53YXJuKGFjY2Vzc1Jlc3BvbnNlLm1lc3NhZ2UpO1xuICB9XG4gIGlmIChuYXZpZ2F0aW9uQ29udHJvbGxlci5uYXZpZ2F0aW9uTG9hZGluZ0Vycm9yKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2VudGVyZWRWaWV3LCB7IG1heFdpZHRoOiBcIm1kXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yVmlldywgeyB0aXRsZTogXCJFcnJvciBsb2FkaW5nIG5hdmlnYXRpb25cIiwgZXJyb3I6IG5hdmlnYXRpb25Db250cm9sbGVyLm5hdmlnYXRpb25Mb2FkaW5nRXJyb3IgfSkgfSk7XG4gIH1cbiAgaWYgKGF1dGhDb250cm9sbGVyLmF1dGhFcnJvcikge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENlbnRlcmVkVmlldywgeyBtYXhXaWR0aDogXCJtZFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvclZpZXcsIHsgdGl0bGU6IFwiRXJyb3IgbG9hZGluZyBhdXRoXCIsIGVycm9yOiBhdXRoQ29udHJvbGxlci5hdXRoRXJyb3IgfSkgfSk7XG4gIH1cbiAgaWYgKGFjY2Vzc1Jlc3BvbnNlPy5ibG9ja2VkKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKENlbnRlcmVkVmlldywgeyBtYXhXaWR0aDogXCJtZFwiLCBmdWxsU2NyZWVuOiB0cnVlLCBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBnYXAtMlwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiaDRcIiwgZ3V0dGVyQm90dG9tOiB0cnVlLCBjaGlsZHJlbjogXCJMaWNlbnNlIG5lZWRlZFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoVHlwb2dyYXBoeSwgeyBjaGlsZHJlbjogW1xuICAgICAgICBcIllvdSBuZWVkIGEgdmFsaWQgbGljZW5zZSB0byB1c2UgRmlyZUNNUyBQUk8uIFBsZWFzZSByZWFjaCBvdXQgYXQgXCIsXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJhXCIsIHsgaHJlZjogXCJtYWlsdG86aGVsbG9AZmlyZWNtcy5jb1wiLCBjaGlsZHJlbjogXCJoZWxsb0BmaXJlY21zLmNvXCIgfSksXG4gICAgICAgIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICBdIH0pLFxuICAgICAgYWNjZXNzUmVzcG9uc2U/Lm1lc3NhZ2UgJiYgLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IGNoaWxkcmVuOiBhY2Nlc3NSZXNwb25zZT8ubWVzc2FnZSB9KVxuICAgIF0gfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQW5hbHl0aWNzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogYW5hbHl0aWNzQ29udHJvbGxlciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ3VzdG9taXphdGlvbkNvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjdXN0b21pemF0aW9uQ29udHJvbGxlciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVXNlckNvbmZpZ3VyYXRpb25QZXJzaXN0ZW5jZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHVzZXJDb25maWdQZXJzaXN0ZW5jZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RvcmFnZVNvdXJjZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0b3JhZ2VTb3VyY2UsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KERhdGFTb3VyY2VDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhU291cmNlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChBdXRoQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGF1dGhDb250cm9sbGVyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTaWRlRGlhbG9nc0NvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzaWRlRGlhbG9nc0NvbnRyb2xsZXIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFNpZGVFbnRpdHlDb250cm9sbGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc2lkZUVudGl0eUNvbnRyb2xsZXIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KE5hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBuYXZpZ2F0aW9uQ29udHJvbGxlciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRGlhbG9nc1Byb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJyZWFkY3J1bWJzUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRmlyZUNNU0ludGVybmFsLCB7IGxvYWRpbmcsIGNoaWxkcmVuIH0pIH0pIH0pIH0pIH0pIH0pIH0pIH0pIH0pIH0pIH0pIH0pO1xufVxuZnVuY3Rpb24gRmlyZUNNU0ludGVybmFsKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDcpO1xuICBjb25zdCB7XG4gICAgbG9hZGluZyxcbiAgICBjaGlsZHJlblxuICB9ID0gdDA7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VGaXJlQ01TQ29udGV4dCgpO1xuICBjb25zdCBjdXN0b21pemF0aW9uQ29udHJvbGxlciA9IHVzZUN1c3RvbWl6YXRpb25Db250cm9sbGVyKCk7XG4gIGxldCBjaGlsZHJlblJlc3VsdDtcbiAgaWYgKCRbMF0gIT09IGNoaWxkcmVuIHx8ICRbMV0gIT09IGNvbnRleHQgfHwgJFsyXSAhPT0gY3VzdG9taXphdGlvbkNvbnRyb2xsZXIucGx1Z2lucyB8fCAkWzNdICE9PSBsb2FkaW5nKSB7XG4gICAgY2hpbGRyZW5SZXN1bHQgPSBjaGlsZHJlbih7XG4gICAgICBjb250ZXh0LFxuICAgICAgbG9hZGluZ1xuICAgIH0pO1xuICAgIGNvbnN0IHBsdWdpbnMgPSBjdXN0b21pemF0aW9uQ29udHJvbGxlci5wbHVnaW5zO1xuICAgIGlmICghbG9hZGluZyAmJiBwbHVnaW5zKSB7XG4gICAgICBwbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgICAgICBpZiAocGx1Z2luLnByb3ZpZGVyKSB7XG4gICAgICAgICAgY2hpbGRyZW5SZXN1bHQgPSAvKiBAX19QVVJFX18gKi8ganN4KHBsdWdpbi5wcm92aWRlci5Db21wb25lbnQsIHsgLi4ucGx1Z2luLnByb3ZpZGVyLnByb3BzLCBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW5SZXN1bHQgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAkWzBdID0gY2hpbGRyZW47XG4gICAgJFsxXSA9IGNvbnRleHQ7XG4gICAgJFsyXSA9IGN1c3RvbWl6YXRpb25Db250cm9sbGVyLnBsdWdpbnM7XG4gICAgJFszXSA9IGxvYWRpbmc7XG4gICAgJFs0XSA9IGNoaWxkcmVuUmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuUmVzdWx0ID0gJFs0XTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzVdICE9PSBjaGlsZHJlblJlc3VsdCkge1xuICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW5SZXN1bHQgfSk7XG4gICAgJFs1XSA9IGNoaWxkcmVuUmVzdWx0O1xuICAgICRbNl0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNl07XG4gIH1cbiAgcmV0dXJuIHQxO1xufVxuZnVuY3Rpb24gRHJhd2VyTmF2aWdhdGlvbkl0ZW0odDApIHtcbiAgY29uc3QgJCA9IGMoMjQpO1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICBpY29uLFxuICAgIGRyYXdlck9wZW4sXG4gICAgYWRtaW5NZW51T3BlbixcbiAgICB0b29sdGlwc09wZW4sXG4gICAgdXJsLFxuICAgIG9uQ2xpY2tcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBpY29uKSB7XG4gICAgdDEgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LXRleHQtc2Vjb25kYXJ5LWRhcmtcIiwgY2hpbGRyZW46IGljb24gfSk7XG4gICAgJFswXSA9IGljb247XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBjb25zdCBpY29uV3JhcCA9IHQxO1xuICBjb25zdCB0MiA9IGRyYXdlck9wZW4gPyBcIndpZHRoIDE1MG1zIGVhc2UtaW5cIiA6IHZvaWQgMDtcbiAgbGV0IHQzO1xuICBpZiAoJFsyXSAhPT0gdDIpIHtcbiAgICB0MyA9IHtcbiAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgIHRyYW5zaXRpb246IHQyXG4gICAgfTtcbiAgICAkWzJdID0gdDI7XG4gICAgJFszXSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFszXTtcbiAgfVxuICBsZXQgdDQ7XG4gIGlmICgkWzRdICE9PSBkcmF3ZXJPcGVuKSB7XG4gICAgdDQgPSAodDUyKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGlzQWN0aXZlXG4gICAgICB9ID0gdDUyO1xuICAgICAgcmV0dXJuIGNscyhcInJvdW5kZWQtbGcgdHJ1bmNhdGVcIiwgXCJob3ZlcjpiZy1zdXJmYWNlLWFjY2VudC0zMDAgaG92ZXI6Ymctb3BhY2l0eS03NSBkYXJrOmhvdmVyOmJnLXN1cmZhY2UtYWNjZW50LTgwMCBkYXJrOmhvdmVyOmJnLW9wYWNpdHktNzUgdGV4dC10ZXh0LXByaW1hcnkgZGFyazp0ZXh0LXN1cmZhY2UtMjAwIGhvdmVyOnRleHQtc3VyZmFjZS05MDAgaG92ZXI6ZGFyazp0ZXh0LXdoaXRlXCIsIFwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIgbXItOFwiLCBkcmF3ZXJPcGVuID8gXCJwbC00IGgtMTJcIiA6IFwicGwtNCBoLTExXCIsIFwiZm9udC1zZW1pYm9sZCB0ZXh0LXhzXCIsIGlzQWN0aXZlID8gXCJiZy1zdXJmYWNlLWFjY2VudC0yMDAgYmctb3BhY2l0eS02MCBkYXJrOmJnLXN1cmZhY2UtODAwIGRhcms6Ymctb3BhY2l0eS01MFwiIDogXCJcIik7XG4gICAgfTtcbiAgICAkWzRdID0gZHJhd2VyT3BlbjtcbiAgICAkWzVdID0gdDQ7XG4gIH0gZWxzZSB7XG4gICAgdDQgPSAkWzVdO1xuICB9XG4gIGNvbnN0IHQ1ID0gZHJhd2VyT3BlbiA/IFwib3BhY2l0eS0xMDBcIiA6IFwib3BhY2l0eS0wIGhpZGRlblwiO1xuICBsZXQgdDY7XG4gIGlmICgkWzZdICE9PSB0NSkge1xuICAgIHQ2ID0gY2xzKHQ1LCBcIm1sLTQgZm9udC1pbmhlcml0IHRleHQtaW5oZXJpdFwiKTtcbiAgICAkWzZdID0gdDU7XG4gICAgJFs3XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFs3XTtcbiAgfVxuICBsZXQgdDc7XG4gIGlmICgkWzhdICE9PSBuYW1lKSB7XG4gICAgdDcgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgJFs4XSA9IG5hbWU7XG4gICAgJFs5XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFs5XTtcbiAgfVxuICBsZXQgdDg7XG4gIGlmICgkWzEwXSAhPT0gdDYgfHwgJFsxMV0gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0NiwgY2hpbGRyZW46IHQ3IH0pO1xuICAgICRbMTBdID0gdDY7XG4gICAgJFsxMV0gPSB0NztcbiAgICAkWzEyXSA9IHQ4O1xuICB9IGVsc2Uge1xuICAgIHQ4ID0gJFsxMl07XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFsxM10gIT09IGljb25XcmFwIHx8ICRbMTRdICE9PSBvbkNsaWNrIHx8ICRbMTVdICE9PSB0MyB8fCAkWzE2XSAhPT0gdDQgfHwgJFsxN10gIT09IHQ4IHx8ICRbMThdICE9PSB1cmwpIHtcbiAgICB0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoTmF2TGluaywgeyBvbkNsaWNrLCBzdHlsZTogdDMsIGNsYXNzTmFtZTogdDQsIHRvOiB1cmwsIGNoaWxkcmVuOiBbXG4gICAgICBpY29uV3JhcCxcbiAgICAgIHQ4XG4gICAgXSB9KSB9KTtcbiAgICAkWzEzXSA9IGljb25XcmFwO1xuICAgICRbMTRdID0gb25DbGljaztcbiAgICAkWzE1XSA9IHQzO1xuICAgICRbMTZdID0gdDQ7XG4gICAgJFsxN10gPSB0ODtcbiAgICAkWzE4XSA9IHVybDtcbiAgICAkWzE5XSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFsxOV07XG4gIH1cbiAgY29uc3QgbGlzdEl0ZW0gPSB0OTtcbiAgY29uc3QgdDEwID0gZHJhd2VyT3BlbiB8fCBhZG1pbk1lbnVPcGVuID8gZmFsc2UgOiB0b29sdGlwc09wZW47XG4gIGxldCB0MTE7XG4gIGlmICgkWzIwXSAhPT0gbGlzdEl0ZW0gfHwgJFsyMV0gIT09IG5hbWUgfHwgJFsyMl0gIT09IHQxMCkge1xuICAgIHQxMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyBvcGVuOiB0MTAsIHNpZGU6IFwicmlnaHRcIiwgdGl0bGU6IG5hbWUsIGNoaWxkcmVuOiBsaXN0SXRlbSB9KTtcbiAgICAkWzIwXSA9IGxpc3RJdGVtO1xuICAgICRbMjFdID0gbmFtZTtcbiAgICAkWzIyXSA9IHQxMDtcbiAgICAkWzIzXSA9IHQxMTtcbiAgfSBlbHNlIHtcbiAgICB0MTEgPSAkWzIzXTtcbiAgfVxuICByZXR1cm4gdDExO1xufVxuZnVuY3Rpb24gRGVmYXVsdERyYXdlcih0MCkge1xuICBjb25zdCAkID0gYyg1Mik7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGVcbiAgfSA9IHQwO1xuICBjb25zdCB7XG4gICAgZHJhd2VySG92ZXJlZCxcbiAgICBkcmF3ZXJPcGVuLFxuICAgIGNsb3NlRHJhd2VyLFxuICAgIGxvZ29cbiAgfSA9IHVzZUFwcCgpO1xuICBjb25zdCBbYWRtaW5NZW51T3Blbiwgc2V0QWRtaW5NZW51T3Blbl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGFuYWx5dGljc0NvbnRyb2xsZXIgPSB1c2VBbmFseXRpY3NDb250cm9sbGVyKCk7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCB0b29sdGlwc09wZW4gPSBkcmF3ZXJIb3ZlcmVkICYmICFkcmF3ZXJPcGVuICYmICFhZG1pbk1lbnVPcGVuO1xuICBjb25zdCBsYXJnZUxheW91dCA9IHVzZUxhcmdlTGF5b3V0KCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgaWYgKCFuYXZpZ2F0aW9uLnRvcExldmVsTmF2aWdhdGlvbikge1xuICAgIHRocm93IEVycm9yKFwiTmF2aWdhdGlvbiBub3QgcmVhZHkgaW4gRHJhd2VyXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0aW9uRW50cmllcyxcbiAgICBncm91cHNcbiAgfSA9IG5hdmlnYXRpb24udG9wTGV2ZWxOYXZpZ2F0aW9uO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBhZG1pbk1lbnVPcGVuIHx8ICRbMV0gIT09IGFuYWx5dGljc0NvbnRyb2xsZXIgfHwgJFsyXSAhPT0gY2xhc3NOYW1lIHx8ICRbM10gIT09IGNsb3NlRHJhd2VyIHx8ICRbNF0gIT09IGRyYXdlck9wZW4gfHwgJFs1XSAhPT0gZ3JvdXBzIHx8ICRbNl0gIT09IGxhcmdlTGF5b3V0IHx8ICRbN10gIT09IGxvZ28gfHwgJFs4XSAhPT0gbmF2aWdhdGUgfHwgJFs5XSAhPT0gbmF2aWdhdGlvbkVudHJpZXMgfHwgJFsxMF0gIT09IHN0eWxlIHx8ICRbMTFdICE9PSB0b29sdGlwc09wZW4pIHtcbiAgICBjb25zdCBhZG1pblZpZXdzID0gbmF2aWdhdGlvbkVudHJpZXMuZmlsdGVyKF90ZW1wJDIpID8/IFtdO1xuICAgIGxldCB0MjtcbiAgICBsZXQgdDM7XG4gICAgbGV0IHQ0O1xuICAgIGxldCB0NTtcbiAgICBsZXQgdDY7XG4gICAgbGV0IHQ3O1xuICAgIGlmICgkWzEzXSAhPT0gYWRtaW5NZW51T3BlbiB8fCAkWzE0XSAhPT0gYW5hbHl0aWNzQ29udHJvbGxlciB8fCAkWzE1XSAhPT0gY2xhc3NOYW1lIHx8ICRbMTZdICE9PSBjbG9zZURyYXdlciB8fCAkWzE3XSAhPT0gZHJhd2VyT3BlbiB8fCAkWzE4XSAhPT0gZ3JvdXBzIHx8ICRbMTldICE9PSBsYXJnZUxheW91dCB8fCAkWzIwXSAhPT0gbG9nbyB8fCAkWzIxXSAhPT0gbmF2aWdhdGlvbkVudHJpZXMgfHwgJFsyMl0gIT09IHN0eWxlIHx8ICRbMjNdICE9PSB0b29sdGlwc09wZW4pIHtcbiAgICAgIGNvbnN0IGdyb3Vwc1dpdGhvdXRBZG1pbiA9IGdyb3Vwcy5maWx0ZXIoX3RlbXAyJDIpO1xuICAgICAgbGV0IHQ4MjtcbiAgICAgIGlmICgkWzMwXSAhPT0gZHJhd2VyT3Blbikge1xuICAgICAgICB0ODIgPSAoZ3JvdXApID0+IHtcbiAgICAgICAgICBpZiAoIWRyYXdlck9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInctZnVsbFwiIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwbC02IHByLTggcHktNCBmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlclwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiLCBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY2xhc3NOYW1lOiBcImZvbnQtbWVkaXVtIGZsZXgtZ3JvdyBsaW5lLWNsYW1wLTFcIiwgY2hpbGRyZW46IGdyb3VwID8gZ3JvdXAudG9VcHBlckNhc2UoKSA6IFwiVmlld3NcIi50b1VwcGVyQ2FzZSgpIH0pIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkWzMwXSA9IGRyYXdlck9wZW47XG4gICAgICAgICRbMzFdID0gdDgyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDgyID0gJFszMV07XG4gICAgICB9XG4gICAgICBjb25zdCBidWlsZEdyb3VwSGVhZGVyID0gdDgyO1xuICAgICAgbGV0IHQ5O1xuICAgICAgaWYgKCRbMzJdICE9PSBhbmFseXRpY3NDb250cm9sbGVyIHx8ICRbMzNdICE9PSBjbG9zZURyYXdlciB8fCAkWzM0XSAhPT0gbGFyZ2VMYXlvdXQpIHtcbiAgICAgICAgdDkgPSAodmlldykgPT4ge1xuICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHZpZXcudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIgPyBcImRyYXdlcl9uYXZpZ2F0ZV90b19jb2xsZWN0aW9uXCIgOiB2aWV3LnR5cGUgPT09IFwidmlld1wiID8gXCJkcmF3ZXJfbmF2aWdhdGVfdG9fdmlld1wiIDogXCJ1bm1hcHBlZF9ldmVudFwiO1xuICAgICAgICAgIGFuYWx5dGljc0NvbnRyb2xsZXIub25BbmFseXRpY3NFdmVudD8uKGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgdXJsOiB2aWV3LnVybFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghbGFyZ2VMYXlvdXQpIHtcbiAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkWzMyXSA9IGFuYWx5dGljc0NvbnRyb2xsZXI7XG4gICAgICAgICRbMzNdID0gY2xvc2VEcmF3ZXI7XG4gICAgICAgICRbMzRdID0gbGFyZ2VMYXlvdXQ7XG4gICAgICAgICRbMzVdID0gdDk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0OSA9ICRbMzVdO1xuICAgICAgfVxuICAgICAgY29uc3Qgb25DbGljayA9IHQ5O1xuICAgICAgaWYgKCRbMzZdICE9PSBjbGFzc05hbWUpIHtcbiAgICAgICAgdDUgPSBjbHMoXCJmbGV4IGZsZXgtY29sIGgtZnVsbCByZWxhdGl2ZSBmbGV4LWdyb3cgdy1mdWxsXCIsIGNsYXNzTmFtZSk7XG4gICAgICAgICRbMzZdID0gY2xhc3NOYW1lO1xuICAgICAgICAkWzM3XSA9IHQ1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDUgPSAkWzM3XTtcbiAgICAgIH1cbiAgICAgIHQ2ID0gc3R5bGU7XG4gICAgICBpZiAoJFszOF0gIT09IGxvZ28pIHtcbiAgICAgICAgdDcgPSAvKiBAX19QVVJFX18gKi8ganN4KERyYXdlckxvZ28sIHsgbG9nbyB9KTtcbiAgICAgICAgJFszOF0gPSBsb2dvO1xuICAgICAgICAkWzM5XSA9IHQ3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDcgPSAkWzM5XTtcbiAgICAgIH1cbiAgICAgIHQyID0gXCJtdC00IGZsZXgtZ3JvdyBvdmVyZmxvdy1zY3JvbGwgbm8tc2Nyb2xsYmFyXCI7XG4gICAgICBpZiAoJFs0MF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgICAgIHQzID0ge1xuICAgICAgICAgIG1hc2tJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCAwLCBibGFjayAyMHB4LCBibGFjayBjYWxjKDEwMCUgLSAyMHB4KSwgdHJhbnNwYXJlbnQgMTAwJSlcIlxuICAgICAgICB9O1xuICAgICAgICAkWzQwXSA9IHQzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDMgPSAkWzQwXTtcbiAgICAgIH1cbiAgICAgIGxldCB0MTA7XG4gICAgICBpZiAoJFs0MV0gIT09IGFkbWluTWVudU9wZW4gfHwgJFs0Ml0gIT09IGJ1aWxkR3JvdXBIZWFkZXIgfHwgJFs0M10gIT09IGRyYXdlck9wZW4gfHwgJFs0NF0gIT09IG5hdmlnYXRpb25FbnRyaWVzIHx8ICRbNDVdICE9PSBvbkNsaWNrIHx8ICRbNDZdICE9PSB0b29sdGlwc09wZW4pIHtcbiAgICAgICAgdDEwID0gKGdyb3VwXzApID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJnLXN1cmZhY2UtNTAgZGFyazpiZy1zdXJmYWNlLTgwMCBkYXJrOmJnLW9wYWNpdHktMzAgbXktNCByb3VuZGVkLWxnIG1sLTMgbXItMVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIGJ1aWxkR3JvdXBIZWFkZXIoZ3JvdXBfMCksXG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhuYXZpZ2F0aW9uRW50cmllcykuZmlsdGVyKChlXzApID0+IGVfMC5ncm91cCA9PT0gZ3JvdXBfMCkubWFwKCh2aWV3XzAsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KERyYXdlck5hdmlnYXRpb25JdGVtLCB7IGljb246IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkZvclZpZXcsIHsgY29sbGVjdGlvbk9yVmlldzogdmlld18wLmNvbGxlY3Rpb24gPz8gdmlld18wLnZpZXcsIHNpemU6IFwic21hbGxcIiB9KSwgdG9vbHRpcHNPcGVuLCBhZG1pbk1lbnVPcGVuLCBkcmF3ZXJPcGVuLCBvbkNsaWNrOiAoKSA9PiBvbkNsaWNrKHZpZXdfMCksIHVybDogdmlld18wLnVybCwgbmFtZTogdmlld18wLm5hbWUgfSwgYG5hdmlnYXRpb25fJHtpbmRleH1gKSlcbiAgICAgICAgXSB9LCBgZHJhd2VyX2dyb3VwXyR7Z3JvdXBfMH1gKTtcbiAgICAgICAgJFs0MV0gPSBhZG1pbk1lbnVPcGVuO1xuICAgICAgICAkWzQyXSA9IGJ1aWxkR3JvdXBIZWFkZXI7XG4gICAgICAgICRbNDNdID0gZHJhd2VyT3BlbjtcbiAgICAgICAgJFs0NF0gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAgICAgJFs0NV0gPSBvbkNsaWNrO1xuICAgICAgICAkWzQ2XSA9IHRvb2x0aXBzT3BlbjtcbiAgICAgICAgJFs0N10gPSB0MTA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MTAgPSAkWzQ3XTtcbiAgICAgIH1cbiAgICAgIHQ0ID0gZ3JvdXBzV2l0aG91dEFkbWluLm1hcCh0MTApO1xuICAgICAgJFsxM10gPSBhZG1pbk1lbnVPcGVuO1xuICAgICAgJFsxNF0gPSBhbmFseXRpY3NDb250cm9sbGVyO1xuICAgICAgJFsxNV0gPSBjbGFzc05hbWU7XG4gICAgICAkWzE2XSA9IGNsb3NlRHJhd2VyO1xuICAgICAgJFsxN10gPSBkcmF3ZXJPcGVuO1xuICAgICAgJFsxOF0gPSBncm91cHM7XG4gICAgICAkWzE5XSA9IGxhcmdlTGF5b3V0O1xuICAgICAgJFsyMF0gPSBsb2dvO1xuICAgICAgJFsyMV0gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAgICRbMjJdID0gc3R5bGU7XG4gICAgICAkWzIzXSA9IHRvb2x0aXBzT3BlbjtcbiAgICAgICRbMjRdID0gdDI7XG4gICAgICAkWzI1XSA9IHQzO1xuICAgICAgJFsyNl0gPSB0NDtcbiAgICAgICRbMjddID0gdDU7XG4gICAgICAkWzI4XSA9IHQ2O1xuICAgICAgJFsyOV0gPSB0NztcbiAgICB9IGVsc2Uge1xuICAgICAgdDIgPSAkWzI0XTtcbiAgICAgIHQzID0gJFsyNV07XG4gICAgICB0NCA9ICRbMjZdO1xuICAgICAgdDUgPSAkWzI3XTtcbiAgICAgIHQ2ID0gJFsyOF07XG4gICAgICB0NyA9ICRbMjldO1xuICAgIH1cbiAgICBsZXQgdDg7XG4gICAgaWYgKCRbNDhdICE9PSB0MiB8fCAkWzQ5XSAhPT0gdDMgfHwgJFs1MF0gIT09IHQ0KSB7XG4gICAgICB0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQyLCBzdHlsZTogdDMsIGNoaWxkcmVuOiB0NCB9KTtcbiAgICAgICRbNDhdID0gdDI7XG4gICAgICAkWzQ5XSA9IHQzO1xuICAgICAgJFs1MF0gPSB0NDtcbiAgICAgICRbNTFdID0gdDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ4ID0gJFs1MV07XG4gICAgfVxuICAgIHQxID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQ1LCBzdHlsZTogdDYsIGNoaWxkcmVuOiBbXG4gICAgICB0NyxcbiAgICAgIHQ4LFxuICAgICAgYWRtaW5WaWV3cy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudSwgeyBzaWRlOiBcInJpZ2h0XCIsIG9wZW46IGFkbWluTWVudU9wZW4sIG9uT3BlbkNoYW5nZTogc2V0QWRtaW5NZW51T3BlbiwgdHJpZ2dlcjogLyogQF9fUFVSRV9fICovIGpzeHMoSWNvbkJ1dHRvbiwgeyBzaGFwZTogXCJzcXVhcmVcIiwgY2xhc3NOYW1lOiBcIm0tNCB0ZXh0LXN1cmZhY2UtOTAwIGRhcms6dGV4dC13aGl0ZSB3LWZpdFwiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgdGl0bGU6IFwiQWRtaW5cIiwgb3BlbjogdG9vbHRpcHNPcGVuLCBzaWRlOiBcInJpZ2h0XCIsIHNpZGVPZmZzZXQ6IDI4LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChNb3JlVmVydEljb24sIHt9KSB9KSxcbiAgICAgICAgZHJhd2VyT3BlbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHMoZHJhd2VyT3BlbiA/IFwib3BhY2l0eS0xMDBcIiA6IFwib3BhY2l0eS0wIGhpZGRlblwiLCBcIm14LTQgZm9udC1pbmhlcml0IHRleHQtaW5oZXJpdFwiKSwgY2hpbGRyZW46IFwiQURNSU5cIiB9KVxuICAgICAgXSB9KSwgY2hpbGRyZW46IGFkbWluVmlld3MubWFwKChlbnRyeSwgaW5kZXhfMCkgPT4gLyogQF9fUFVSRV9fICovIGpzeHMoTWVudUl0ZW0sIHsgb25DbGljazogKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG5hdmlnYXRlKGVudHJ5LnBhdGgpO1xuICAgICAgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChJY29uRm9yVmlldywgeyBjb2xsZWN0aW9uT3JWaWV3OiBlbnRyeS52aWV3IH0pLFxuICAgICAgICBlbnRyeS5uYW1lXG4gICAgICBdIH0sIGBuYXZpZ2F0aW9uXyR7aW5kZXhfMH1gKSkgfSlcbiAgICBdIH0pIH0pO1xuICAgICRbMF0gPSBhZG1pbk1lbnVPcGVuO1xuICAgICRbMV0gPSBhbmFseXRpY3NDb250cm9sbGVyO1xuICAgICRbMl0gPSBjbGFzc05hbWU7XG4gICAgJFszXSA9IGNsb3NlRHJhd2VyO1xuICAgICRbNF0gPSBkcmF3ZXJPcGVuO1xuICAgICRbNV0gPSBncm91cHM7XG4gICAgJFs2XSA9IGxhcmdlTGF5b3V0O1xuICAgICRbN10gPSBsb2dvO1xuICAgICRbOF0gPSBuYXZpZ2F0ZTtcbiAgICAkWzldID0gbmF2aWdhdGlvbkVudHJpZXM7XG4gICAgJFsxMF0gPSBzdHlsZTtcbiAgICAkWzExXSA9IHRvb2x0aXBzT3BlbjtcbiAgICAkWzEyXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxMl07XG4gIH1cbiAgcmV0dXJuIHQxO1xufVxuZnVuY3Rpb24gX3RlbXAyJDIoZykge1xuICByZXR1cm4gZyAhPT0gXCJBZG1pblwiO1xufVxuZnVuY3Rpb24gX3RlbXAkMihlKSB7XG4gIHJldHVybiBlLnR5cGUgPT09IFwiYWRtaW5cIjtcbn1cbmZ1bmN0aW9uIERyYXdlckxvZ28odDApIHtcbiAgY29uc3QgJCA9IGMoMTIpO1xuICBjb25zdCB7XG4gICAgbG9nb1xuICB9ID0gdDA7XG4gIGNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICBjb25zdCB7XG4gICAgZHJhd2VyT3BlblxuICB9ID0gdXNlQXBwKCk7XG4gIGNvbnN0IHQxID0gZHJhd2VyT3BlbiA/IFwiMzJweCAxNDRweCAwcHggMjRweFwiIDogXCI3MnB4IDEycHggMHB4IDEycHhcIjtcbiAgbGV0IHQyO1xuICBpZiAoJFswXSAhPT0gdDEpIHtcbiAgICB0MiA9IHtcbiAgICAgIHRyYW5zaXRpb246IFwicGFkZGluZyAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtc1wiLFxuICAgICAgcGFkZGluZzogdDFcbiAgICB9O1xuICAgICRbMF0gPSB0MTtcbiAgICAkWzFdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzFdO1xuICB9XG4gIGxldCB0MztcbiAgaWYgKCRbMl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDMgPSBjbHMoXCJjdXJzb3ItcG9pbnRlciByb3VuZGVkIG1sLTMgbXItMVwiKTtcbiAgICAkWzJdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzJdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbM10gIT09IGRyYXdlck9wZW4gfHwgJFs0XSAhPT0gbG9nbykge1xuICAgIHQ0ID0gbG9nbyA/IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJpbWdcIiwgeyBzcmM6IGxvZ28sIGFsdDogXCJMb2dvXCIsIGNsYXNzTmFtZTogY2xzKFwibWF4LXctZnVsbCBtYXgtaC1mdWxsIHRyYW5zaXRpb24tYWxsIG9iamVjdC1jb250YWluXCIsIGRyYXdlck9wZW4gPyBcInctWzk2cHhdIGgtWzk2cHhdXCIgOiBcInctWzMycHhdIGgtWzMycHhdXCIpIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChGaXJlQ01TTG9nbywge30pO1xuICAgICRbM10gPSBkcmF3ZXJPcGVuO1xuICAgICRbNF0gPSBsb2dvO1xuICAgICRbNV0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNV07XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFs2XSAhPT0gbmF2aWdhdGlvbi5iYXNlUGF0aCB8fCAkWzddICE9PSB0NCkge1xuICAgIHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBcIkhvbWVcIiwgc2lkZU9mZnNldDogMjAsIHNpZGU6IFwicmlnaHRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goTGluaywgeyBjbGFzc05hbWU6IFwiYmxvY2tcIiwgdG86IG5hdmlnYXRpb24uYmFzZVBhdGgsIGNoaWxkcmVuOiB0NCB9KSB9KTtcbiAgICAkWzZdID0gbmF2aWdhdGlvbi5iYXNlUGF0aDtcbiAgICAkWzddID0gdDQ7XG4gICAgJFs4XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs4XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzldICE9PSB0MiB8fCAkWzEwXSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogdDIsIGNsYXNzTmFtZTogdDMsIGNoaWxkcmVuOiB0NSB9KTtcbiAgICAkWzldID0gdDI7XG4gICAgJFsxMF0gPSB0NTtcbiAgICAkWzExXSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFsxMV07XG4gIH1cbiAgcmV0dXJuIHQ2O1xufVxuZnVuY3Rpb24gRmlyZUNNU1JvdXRlKCkge1xuICBjb25zdCAkID0gYygzMik7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24kMSgpO1xuICBjb25zdCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSB1c2VCcmVhZGNydW1ic0NvbnRyb2xsZXIoKTtcbiAgY29uc3QgaGFzaDIgPSBsb2NhdGlvbi5oYXNoO1xuICBjb25zdCBpc1NpZGVQYW5lbCA9IGhhc2gyLmluY2x1ZGVzKFwiI3NpZGVcIik7XG4gIGxldCB0MDtcbiAgaWYgKCRbMF0gIT09IGhhc2gyKSB7XG4gICAgdDAgPSBoYXNoMi5pbmNsdWRlcyhcIiNuZXdcIikgfHwgaGFzaDIuaW5jbHVkZXMoXCIjbmV3X3NpZGVcIik7XG4gICAgJFswXSA9IGhhc2gyO1xuICAgICRbMV0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMV07XG4gIH1cbiAgY29uc3QgaXNOZXcgPSB0MDtcbiAgbGV0IHQxO1xuICBpZiAoJFsyXSAhPT0gaGFzaDIpIHtcbiAgICB0MSA9IGhhc2gyLmluY2x1ZGVzKFwiI2NvcHlcIik7XG4gICAgJFsyXSA9IGhhc2gyO1xuICAgICRbM10gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgY29uc3QgaXNDb3B5ID0gdDE7XG4gIGNvbnN0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gIGxldCBuYXZpZ2F0aW9uRW50cmllcztcbiAgbGV0IHQyO1xuICBsZXQgdDM7XG4gIGxldCB0NDtcbiAgaWYgKCRbNF0gIT09IGJyZWFkY3J1bWJzIHx8ICRbNV0gIT09IG5hdmlnYXRpb24gfHwgJFs2XSAhPT0gcGF0aG5hbWUpIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uUGF0aCA9IG5hdmlnYXRpb24udXJsUGF0aFRvRGF0YVBhdGgocGF0aG5hbWUpO1xuICAgIGxldCB0NTI7XG4gICAgaWYgKCRbMTFdICE9PSBuYXZpZ2F0aW9uLmNvbGxlY3Rpb25zKSB7XG4gICAgICB0NTIgPSBuYXZpZ2F0aW9uLmNvbGxlY3Rpb25zID8/IFtdO1xuICAgICAgJFsxMV0gPSBuYXZpZ2F0aW9uLmNvbGxlY3Rpb25zO1xuICAgICAgJFsxMl0gPSB0NTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQ1MiA9ICRbMTJdO1xuICAgIH1cbiAgICBuYXZpZ2F0aW9uRW50cmllcyA9IGdldE5hdmlnYXRpb25FbnRyaWVzRnJvbVBhdGgoe1xuICAgICAgcGF0aDogbmF2aWdhdGlvblBhdGgsXG4gICAgICBjb2xsZWN0aW9uczogdDUyXG4gICAgfSk7XG4gICAgdDMgPSB1c2VFZmZlY3Q7XG4gICAgdDQgPSAoKSA9PiB7XG4gICAgICBicmVhZGNydW1icy5zZXQoe1xuICAgICAgICBicmVhZGNydW1iczogbmF2aWdhdGlvbkVudHJpZXMubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSBcImVudGl0eVwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0aXRsZTogZW50cnkuZW50aXR5SWQsXG4gICAgICAgICAgICAgIHVybDogbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoKGVudHJ5LmZ1bGxQYXRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IFwiY3VzdG9tX3ZpZXdcIikge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBlbnRyeS52aWV3Lm5hbWUsXG4gICAgICAgICAgICAgICAgdXJsOiBuYXZpZ2F0aW9uLmJ1aWxkVXJsQ29sbGVjdGlvblBhdGgoZW50cnkuZnVsbFBhdGgpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdGl0bGU6IGVudHJ5LmNvbGxlY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgIHVybDogbmF2aWdhdGlvbi5idWlsZFVybENvbGxlY3Rpb25QYXRoKGVudHJ5LmZ1bGxQYXRoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBuYXZpZ2F0aW9uIGVudHJ5IHR5cGVcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHQyID0gbmF2aWdhdGlvbkVudHJpZXMubWFwKF90ZW1wJDEpLmpvaW4oXCIsXCIpO1xuICAgICRbNF0gPSBicmVhZGNydW1icztcbiAgICAkWzVdID0gbmF2aWdhdGlvbjtcbiAgICAkWzZdID0gcGF0aG5hbWU7XG4gICAgJFs3XSA9IG5hdmlnYXRpb25FbnRyaWVzO1xuICAgICRbOF0gPSB0MjtcbiAgICAkWzldID0gdDM7XG4gICAgJFsxMF0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICBuYXZpZ2F0aW9uRW50cmllcyA9ICRbN107XG4gICAgdDIgPSAkWzhdO1xuICAgIHQzID0gJFs5XTtcbiAgICB0NCA9ICRbMTBdO1xuICB9XG4gIGxldCB0NTtcbiAgaWYgKCRbMTNdICE9PSB0Mikge1xuICAgIHQ1ID0gW3QyXTtcbiAgICAkWzEzXSA9IHQyO1xuICAgICRbMTRdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzE0XTtcbiAgfVxuICB0Myh0NCwgdDUpO1xuICBpZiAoaXNOZXcpIHtcbiAgICBsZXQgdDYyO1xuICAgIGlmICgkWzE1XSAhPT0gbmF2aWdhdGlvbkVudHJpZXMgfHwgJFsxNl0gIT09IHBhdGhuYW1lKSB7XG4gICAgICB0NjIgPSAvKiBAX19QVVJFX18gKi8ganN4KEVudGl0eUZ1bGxTY3JlZW5Sb3V0ZSwgeyBwYXRobmFtZSwgbmF2aWdhdGlvbkVudHJpZXMsIGlzTmV3OiB0cnVlLCBpc0NvcHk6IGZhbHNlIH0pO1xuICAgICAgJFsxNV0gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAgICRbMTZdID0gcGF0aG5hbWU7XG4gICAgICAkWzE3XSA9IHQ2MjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDYyID0gJFsxN107XG4gICAgfVxuICAgIHJldHVybiB0NjI7XG4gIH1cbiAgaWYgKG5hdmlnYXRpb25FbnRyaWVzLmxlbmd0aCA9PT0gMSAmJiBuYXZpZ2F0aW9uRW50cmllc1swXS50eXBlID09PSBcImNvbGxlY3Rpb25cIikge1xuICAgIGxldCB0NjI7XG4gICAgbGV0IHQ3O1xuICAgIGlmICgkWzE4XSAhPT0gbmF2aWdhdGlvbiB8fCAkWzE5XSAhPT0gbmF2aWdhdGlvbkVudHJpZXMpIHtcbiAgICAgIHQ3ID0gU3ltYm9sLmZvcihcInJlYWN0LmVhcmx5X3JldHVybl9zZW50aW5lbFwiKTtcbiAgICAgIGJiMDoge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gbmF2aWdhdGlvbi5nZXRDb2xsZWN0aW9uKG5hdmlnYXRpb25FbnRyaWVzWzBdLnBhdGgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB0NyA9IG51bGw7XG4gICAgICAgICAgYnJlYWsgYmIwO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ODtcbiAgICAgICAgaWYgKCRbMjJdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgIHQ4ID0gW107XG4gICAgICAgICAgJFsyMl0gPSB0ODtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0OCA9ICRbMjJdO1xuICAgICAgICB9XG4gICAgICAgIHQ2MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5Q29sbGVjdGlvblZpZXcsIHsgaXNTdWJDb2xsZWN0aW9uOiBmYWxzZSwgcGFyZW50Q29sbGVjdGlvbklkczogdDgsIGZ1bGxQYXRoOiBjb2xsZWN0aW9uLmlkLCB1cGRhdGVVcmw6IHRydWUsIC4uLmNvbGxlY3Rpb24sIEFjdGlvbnM6IHRvQXJyYXkoY29sbGVjdGlvbi5BY3Rpb25zKSB9LCBgY29sbGVjdGlvbl92aWV3XyR7Y29sbGVjdGlvbi5pZCA/PyBjb2xsZWN0aW9uLnBhdGh9YCk7XG4gICAgICB9XG4gICAgICAkWzE4XSA9IG5hdmlnYXRpb247XG4gICAgICAkWzE5XSA9IG5hdmlnYXRpb25FbnRyaWVzO1xuICAgICAgJFsyMF0gPSB0NjI7XG4gICAgICAkWzIxXSA9IHQ3O1xuICAgIH0gZWxzZSB7XG4gICAgICB0NjIgPSAkWzIwXTtcbiAgICAgIHQ3ID0gJFsyMV07XG4gICAgfVxuICAgIGlmICh0NyAhPT0gU3ltYm9sLmZvcihcInJlYWN0LmVhcmx5X3JldHVybl9zZW50aW5lbFwiKSkge1xuICAgICAgcmV0dXJuIHQ3O1xuICAgIH1cbiAgICByZXR1cm4gdDYyO1xuICB9XG4gIGlmIChpc1NpZGVQYW5lbCkge1xuICAgIGxldCB0NjI7XG4gICAgaWYgKCRbMjNdICE9PSBuYXZpZ2F0aW9uIHx8ICRbMjRdICE9PSBuYXZpZ2F0aW9uRW50cmllcykge1xuICAgICAgdDYyID0gU3ltYm9sLmZvcihcInJlYWN0LmVhcmx5X3JldHVybl9zZW50aW5lbFwiKTtcbiAgICAgIGJiMToge1xuICAgICAgICBjb25zdCBsYXN0Q29sbGVjdGlvbkVudHJ5ID0gbmF2aWdhdGlvbkVudHJpZXMuZmluZExhc3QoX3RlbXAyJDEpO1xuICAgICAgICBpZiAobGFzdENvbGxlY3Rpb25FbnRyeSkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25fMCA9IG5hdmlnYXRpb24uZ2V0Q29sbGVjdGlvbihsYXN0Q29sbGVjdGlvbkVudHJ5LnBhdGgpO1xuICAgICAgICAgIGlmICghY29sbGVjdGlvbl8wKSB7XG4gICAgICAgICAgICB0NjIgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWsgYmIxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdDc7XG4gICAgICAgICAgaWYgKCRbMjZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgICAgICAgdDcgPSBbXTtcbiAgICAgICAgICAgICRbMjZdID0gdDc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQ3ID0gJFsyNl07XG4gICAgICAgICAgfVxuICAgICAgICAgIHQ2MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRW50aXR5Q29sbGVjdGlvblZpZXcsIHsgaXNTdWJDb2xsZWN0aW9uOiBmYWxzZSwgcGFyZW50Q29sbGVjdGlvbklkczogdDcsIGZ1bGxQYXRoOiBjb2xsZWN0aW9uXzAuaWQsIHVwZGF0ZVVybDogdHJ1ZSwgLi4uY29sbGVjdGlvbl8wLCBBY3Rpb25zOiB0b0FycmF5KGNvbGxlY3Rpb25fMC5BY3Rpb25zKSB9LCBgY29sbGVjdGlvbl92aWV3XyR7Y29sbGVjdGlvbl8wLmlkID8/IGNvbGxlY3Rpb25fMC5wYXRofWApO1xuICAgICAgICAgIGJyZWFrIGJiMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJFsyM10gPSBuYXZpZ2F0aW9uO1xuICAgICAgJFsyNF0gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAgICRbMjVdID0gdDYyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0NjIgPSAkWzI1XTtcbiAgICB9XG4gICAgaWYgKHQ2MiAhPT0gU3ltYm9sLmZvcihcInJlYWN0LmVhcmx5X3JldHVybl9zZW50aW5lbFwiKSkge1xuICAgICAgcmV0dXJuIHQ2MjtcbiAgICB9XG4gIH1cbiAgbGV0IHQ2O1xuICBpZiAoJFsyN10gIT09IGlzQ29weSB8fCAkWzI4XSAhPT0gaXNOZXcgfHwgJFsyOV0gIT09IG5hdmlnYXRpb25FbnRyaWVzIHx8ICRbMzBdICE9PSBwYXRobmFtZSkge1xuICAgIHQ2ID0gLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlGdWxsU2NyZWVuUm91dGUsIHsgcGF0aG5hbWUsIG5hdmlnYXRpb25FbnRyaWVzLCBpc05ldywgaXNDb3B5IH0pO1xuICAgICRbMjddID0gaXNDb3B5O1xuICAgICRbMjhdID0gaXNOZXc7XG4gICAgJFsyOV0gPSBuYXZpZ2F0aW9uRW50cmllcztcbiAgICAkWzMwXSA9IHBhdGhuYW1lO1xuICAgICRbMzFdID0gdDY7XG4gIH0gZWxzZSB7XG4gICAgdDYgPSAkWzMxXTtcbiAgfVxuICByZXR1cm4gdDY7XG59XG5mdW5jdGlvbiBfdGVtcDIkMShlbnRyeV8xKSB7XG4gIHJldHVybiBlbnRyeV8xLnR5cGUgPT09IFwiY29sbGVjdGlvblwiO1xufVxuZnVuY3Rpb24gX3RlbXAkMShlbnRyeV8wKSB7XG4gIHJldHVybiBlbnRyeV8wLnBhdGg7XG59XG5mdW5jdGlvbiBnZXRTZWxlY3RlZFRhYkZyb21VcmwoaXNOZXcsIGxhc3RDdXN0b21WaWV3KSB7XG4gIGlmIChpc05ldykge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH0gZWxzZSBpZiAobGFzdEN1c3RvbVZpZXcpIHtcbiAgICBpZiAobGFzdEN1c3RvbVZpZXcudHlwZSA9PT0gXCJjdXN0b21fdmlld1wiKSB7XG4gICAgICByZXR1cm4gbGFzdEN1c3RvbVZpZXcudmlldy5rZXk7XG4gICAgfSBlbHNlIGlmIChsYXN0Q3VzdG9tVmlldy50eXBlID09PSBcImNvbGxlY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGxhc3RDdXN0b21WaWV3LmlkID8/IGxhc3RDdXN0b21WaWV3LnBhdGg7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBFbnRpdHlGdWxsU2NyZWVuUm91dGUoe1xuICBwYXRobmFtZSxcbiAgbmF2aWdhdGlvbkVudHJpZXMsXG4gIGlzTmV3LFxuICBpc0NvcHlcbn0pIHtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgY29uc3QgbmF2aWdhdGlvblBhdGggPSBuYXZpZ2F0aW9uLnVybFBhdGhUb0RhdGFQYXRoKHBhdGhuYW1lKTtcbiAgY29uc3QgYmxvY2tlZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGxhc3RFbnRpdHlFbnRyeSA9IG5hdmlnYXRpb25FbnRyaWVzLmZpbmRMYXN0KChlbnRyeSkgPT4gZW50cnkudHlwZSA9PT0gXCJlbnRpdHlcIik7XG4gIGNvbnN0IG5hdmlnYXRpb25FbnRyaWVzQWZ0ZXJFbnRpdHkgPSBsYXN0RW50aXR5RW50cnkgPyBuYXZpZ2F0aW9uRW50cmllcy5zbGljZShuYXZpZ2F0aW9uRW50cmllcy5pbmRleE9mKGxhc3RFbnRpdHlFbnRyeSkgKyAxKSA6IFtdO1xuICBjb25zdCBsYXN0Q3VzdG9tVmlldyA9IG5hdmlnYXRpb25FbnRyaWVzQWZ0ZXJFbnRpdHkuZmluZExhc3QoKGVudHJ5XzApID0+IGVudHJ5XzAudHlwZSA9PT0gXCJjdXN0b21fdmlld1wiIHx8IGVudHJ5XzAudHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpO1xuICBjb25zdCBlbnRpdHlJZCA9IGxhc3RFbnRpdHlFbnRyeT8uZW50aXR5SWQ7XG4gIGNvbnN0IHVybFRhYiA9IGdldFNlbGVjdGVkVGFiRnJvbVVybChpc05ldywgbGFzdEN1c3RvbVZpZXcpO1xuICBjb25zdCBbc2VsZWN0ZWRUYWIsIHNldFNlbGVjdGVkVGFiXSA9IHVzZVN0YXRlKHVybFRhYik7XG4gIGNvbnN0IHBhcmVudENvbGxlY3Rpb25JZHMgPSBuYXZpZ2F0aW9uLmdldFBhcmVudENvbGxlY3Rpb25JZHMobmF2aWdhdGlvblBhdGgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1cmxUYWIgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICBzZXRTZWxlY3RlZFRhYih1cmxUYWIpO1xuICAgIH1cbiAgfSwgW3VybFRhYl0pO1xuICBjb25zdCBiYXNlUGF0aCA9ICFlbnRpdHlJZCB8fCBpc05ldyA/IHBhdGhuYW1lIDogcGF0aG5hbWUuc3Vic3RyaW5nKDAsIHBhdGhuYW1lLmxhc3RJbmRleE9mKGAvJHtlbnRpdHlJZH1gKSk7XG4gIGNvbnN0IGVudGl0eVBhdGggPSBiYXNlUGF0aCArIGAvJHtlbnRpdHlJZH1gO1xuICBsZXQgYmxvY2tlciA9IHZvaWQgMDtcbiAgdHJ5IHtcbiAgICBibG9ja2VyID0gdXNlQmxvY2tlcigoe1xuICAgICAgbmV4dExvY2F0aW9uXG4gICAgfSkgPT4ge1xuICAgICAgaWYgKG5leHRMb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKGVudGl0eVBhdGgpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gYmxvY2tlZC5jdXJyZW50O1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKFwiQmxvY2tlciBub3QgYXZhaWxhYmxlLCBuYXZpZ2F0aW9uIHdpbGwgbm90IGJlIGJsb2NrZWRcIik7XG4gIH1cbiAgY29uc3QgbGFzdENvbGxlY3Rpb25FbnRyeSA9IG5hdmlnYXRpb25FbnRyaWVzLmZpbmRMYXN0KChlbnRyeV8xKSA9PiBlbnRyeV8xLnR5cGUgPT09IFwiY29sbGVjdGlvblwiKTtcbiAgaWYgKGlzTmV3ICYmICFsYXN0Q29sbGVjdGlvbkVudHJ5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSU5URVJOQUw6IE5vIGNvbGxlY3Rpb24gZm91bmQgaW4gdGhlIG5hdmlnYXRpb25cIik7XG4gIH1cbiAgaWYgKCFpc05ldyAmJiAhbGFzdEVudGl0eUVudHJ5KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTm90Rm91bmRQYWdlLCB7fSk7XG4gIH1cbiAgY29uc3QgY29sbGVjdGlvbiA9IGlzTmV3ID8gbGFzdENvbGxlY3Rpb25FbnRyeS5jb2xsZWN0aW9uIDogbGFzdEVudGl0eUVudHJ5LnBhcmVudENvbGxlY3Rpb247XG4gIGNvbnN0IGNvbGxlY3Rpb25QYXRoID0gbmF2aWdhdGlvbi5yZXNvbHZlSWRzRnJvbShpc05ldyA/IGxhc3RDb2xsZWN0aW9uRW50cnkucGF0aCA6IGxhc3RFbnRpdHlFbnRyeS5wYXRoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChFbnRpdHlFZGl0VmlldywgeyBlbnRpdHlJZDogaXNOZXcgPyB2b2lkIDAgOiBlbnRpdHlJZCwgY29sbGVjdGlvbiwgbGF5b3V0OiBcImZ1bGxfc2NyZWVuXCIsIHBhdGg6IGNvbGxlY3Rpb25QYXRoLCBjb3B5OiBpc0NvcHksIHNlbGVjdGVkVGFiOiBzZWxlY3RlZFRhYiA/PyB2b2lkIDAsIG9uVmFsdWVzTW9kaWZpZWQ6IChtb2RpZmllZCkgPT4gYmxvY2tlZC5jdXJyZW50ID0gbW9kaWZpZWQsIG9uU2F2ZWQ6IChwYXJhbXMpID0+IHtcbiAgICAgIGNvbnN0IG5ld1NlbGVjdGVkVGFiID0gcGFyYW1zLnNlbGVjdGVkVGFiO1xuICAgICAgY29uc3QgbmV3RW50aXR5SWQgPSBwYXJhbXMuZW50aXR5SWQ7XG4gICAgICBpZiAobmV3U2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgbmF2aWdhdGUoYCR7YmFzZVBhdGh9LyR7bmV3RW50aXR5SWR9LyR7bmV3U2VsZWN0ZWRUYWJ9YCwge1xuICAgICAgICAgIHJlcGxhY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYXZpZ2F0ZShgJHtiYXNlUGF0aH0vJHtuZXdFbnRpdHlJZH1gLCB7XG4gICAgICAgICAgcmVwbGFjZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBvblRhYkNoYW5nZTogKHBhcmFtc18wKSA9PiB7XG4gICAgICBzZXRTZWxlY3RlZFRhYihwYXJhbXNfMC5zZWxlY3RlZFRhYik7XG4gICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3U2VsZWN0ZWRUYWJfMCA9IHBhcmFtc18wLnNlbGVjdGVkVGFiO1xuICAgICAgaWYgKG5ld1NlbGVjdGVkVGFiXzApIHtcbiAgICAgICAgbmF2aWdhdGUoYCR7YmFzZVBhdGh9LyR7ZW50aXR5SWR9LyR7bmV3U2VsZWN0ZWRUYWJfMH1gLCB7XG4gICAgICAgICAgcmVwbGFjZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hdmlnYXRlKGAke2Jhc2VQYXRofS8ke2VudGl0eUlkfWAsIHtcbiAgICAgICAgICByZXBsYWNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHBhcmVudENvbGxlY3Rpb25JZHMgfSwgY29sbGVjdGlvbi5pZCArIFwiX1wiICsgKGlzTmV3ID8gXCJuZXdcIiA6IGlzQ29weSA/IGVudGl0eUlkICsgXCJfY29weVwiIDogZW50aXR5SWQpKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFVuc2F2ZWRDaGFuZ2VzRGlhbG9nLCB7IG9wZW46IGJsb2NrZXI/LnN0YXRlID09PSBcImJsb2NrZWRcIiwgaGFuZGxlT2s6ICgpID0+IGJsb2NrZXI/LnByb2NlZWQ/LigpLCBoYW5kbGVDYW5jZWw6ICgpID0+IGJsb2NrZXI/LnJlc2V0Py4oKSwgYm9keTogXCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBlbnRpdHkuXCIgfSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIEN1c3RvbUNNU1JvdXRlKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDYpO1xuICBjb25zdCB7XG4gICAgY21zVmlld1xuICB9ID0gdDA7XG4gIGNvbnN0IGJyZWFkY3J1bWJzID0gdXNlQnJlYWRjcnVtYnNDb250cm9sbGVyKCk7XG4gIGxldCB0MTtcbiAgaWYgKCRbMF0gIT09IGJyZWFkY3J1bWJzIHx8ICRbMV0gIT09IGNtc1ZpZXcubmFtZSB8fCAkWzJdICE9PSBjbXNWaWV3LnBhdGgpIHtcbiAgICB0MSA9ICgpID0+IHtcbiAgICAgIGJyZWFkY3J1bWJzLnNldCh7XG4gICAgICAgIGJyZWFkY3J1bWJzOiBbe1xuICAgICAgICAgIHRpdGxlOiBjbXNWaWV3Lm5hbWUsXG4gICAgICAgICAgdXJsOiBjbXNWaWV3LnBhdGhcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgJFswXSA9IGJyZWFkY3J1bWJzO1xuICAgICRbMV0gPSBjbXNWaWV3Lm5hbWU7XG4gICAgJFsyXSA9IGNtc1ZpZXcucGF0aDtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGxldCB0MjtcbiAgaWYgKCRbNF0gIT09IGNtc1ZpZXcucGF0aCkge1xuICAgIHQyID0gW2Ntc1ZpZXcucGF0aF07XG4gICAgJFs0XSA9IGNtc1ZpZXcucGF0aDtcbiAgICAkWzVdID0gdDI7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSAkWzVdO1xuICB9XG4gIHVzZUVmZmVjdCh0MSwgdDIpO1xuICByZXR1cm4gY21zVmlldy52aWV3O1xufVxuZnVuY3Rpb24gSG9tZVBhZ2VSb3V0ZSh0MCkge1xuICBjb25zdCAkID0gYygzKTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuXG4gIH0gPSB0MDtcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSB1c2VCcmVhZGNydW1ic0NvbnRyb2xsZXIoKTtcbiAgbGV0IHQxO1xuICBpZiAoJFswXSAhPT0gYnJlYWRjcnVtYnMpIHtcbiAgICB0MSA9ICgpID0+IHtcbiAgICAgIGJyZWFkY3J1bWJzLnNldCh7XG4gICAgICAgIGJyZWFkY3J1bWJzOiBbXVxuICAgICAgfSk7XG4gICAgfTtcbiAgICAkWzBdID0gYnJlYWRjcnVtYnM7XG4gICAgJFsxXSA9IHQxO1xuICB9IGVsc2Uge1xuICAgIHQxID0gJFsxXTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzJdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQyID0gW107XG4gICAgJFsyXSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFsyXTtcbiAgfVxuICB1c2VFZmZlY3QodDEsIHQyKTtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuY29uc3QgTmF2aWdhdGlvblJvdXRlcyA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gTmF2aWdhdGlvblJvdXRlczIoe1xuICBob21lUGFnZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdEhvbWVQYWdlLCB7fSksXG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb25Db250cm9sbGVyKCk7XG4gIGlmICghbmF2aWdhdGlvbikgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHt9KTtcbiAgY29uc3Qgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgY29uc3QgYmFzZUxvY2F0aW9uID0gc3RhdGUgJiYgc3RhdGUuYmFzZV9sb2NhdGlvbiA/IHN0YXRlLmJhc2VfbG9jYXRpb24gOiBsb2NhdGlvbjtcbiAgY29uc3QgY21zVmlld3MgPSBbXTtcbiAgaWYgKG5hdmlnYXRpb24udmlld3MpIHtcbiAgICBuYXZpZ2F0aW9uLnZpZXdzLmZvckVhY2goKGNtc1ZpZXcpID0+IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNtc1ZpZXcucGF0aCkpIGNtc1ZpZXdzLnB1c2goLi4uY21zVmlldy5wYXRoLm1hcCgocGF0aCkgPT4gYnVpbGRDTVNWaWV3Um91dGUocGF0aCwgY21zVmlldykpKTtcbiAgICAgIGVsc2UgY21zVmlld3MucHVzaChidWlsZENNU1ZpZXdSb3V0ZShjbXNWaWV3LnBhdGgsIGNtc1ZpZXcpKTtcbiAgICB9KTtcbiAgfVxuICBpZiAobmF2aWdhdGlvbi5hZG1pblZpZXdzKSB7XG4gICAgbmF2aWdhdGlvbi5hZG1pblZpZXdzLmZvckVhY2goKGNtc1ZpZXdfMCkgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY21zVmlld18wLnBhdGgpKSBjbXNWaWV3cy5wdXNoKC4uLmNtc1ZpZXdfMC5wYXRoLm1hcCgocGF0aF8wKSA9PiBidWlsZENNU1ZpZXdSb3V0ZShwYXRoXzAsIGNtc1ZpZXdfMCkpKTtcbiAgICAgIGVsc2UgY21zVmlld3MucHVzaChidWlsZENNU1ZpZXdSb3V0ZShjbXNWaWV3XzAucGF0aCwgY21zVmlld18wKSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgY29sbGVjdGlvblVybFBhdGggPSBuYXZpZ2F0aW9uLmJ1aWxkVXJsQ29sbGVjdGlvblBhdGgoXCJcIik7XG4gIGNvbnN0IGNvbGxlY3Rpb25Sb3V0ZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUm91dGUsIHsgcGF0aDogY29sbGVjdGlvblVybFBhdGggKyBcIi8qXCIsIGVsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChGaXJlQ01TUm91dGUsIHt9KSB9KSB9LCBgbmF2aWdhdGlvbl9lbnRpdHlgKTtcbiAgY29uc3QgaG9tZVJvdXRlID0gLyogQF9fUFVSRV9fICovIGpzeChSb3V0ZSwgeyBwYXRoOiBcIi9cIiwgZWxlbWVudDogLyogQF9fUFVSRV9fICovIGpzeChIb21lUGFnZVJvdXRlLCB7IGNoaWxkcmVuOiBob21lUGFnZSB9KSB9KTtcbiAgY29uc3Qgbm90Rm91bmRSb3V0ZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUm91dGUsIHsgcGF0aDogXCIqXCIsIGVsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBqc3goTm90Rm91bmRQYWdlLCB7fSkgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhSb3V0ZXMsIHsgbG9jYXRpb246IGJhc2VMb2NhdGlvbiwgY2hpbGRyZW46IFtcbiAgICBjb2xsZWN0aW9uUm91dGUsXG4gICAgY21zVmlld3MsXG4gICAgaG9tZVJvdXRlLFxuICAgIG5vdEZvdW5kUm91dGUsXG4gICAgY2hpbGRyZW5cbiAgXSB9KTtcbn0pO1xuY29uc3QgYnVpbGRDTVNWaWV3Um91dGUgPSAocGF0aCwgY21zVmlldykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb3V0ZSwgeyBwYXRoLCBlbGVtZW50OiAvKiBAX19QVVJFX18gKi8ganN4KEN1c3RvbUNNU1JvdXRlLCB7IGNtc1ZpZXcgfSkgfSwgXCJuYXZpZ2F0aW9uX3ZpZXdfXCIgKyBwYXRoKTtcbn07XG5mdW5jdGlvbiBGaXJlQ01TUm91dGVyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDUpO1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgYmFzZVBhdGhcbiAgfSA9IHQwO1xuICBjb25zdCB0MSA9IGJhc2VQYXRoID8gYCR7cmVtb3ZlSW5pdGlhbEFuZFRyYWlsaW5nU2xhc2hlcyhiYXNlUGF0aCl9LypgIDogXCIvKlwiO1xuICBsZXQgdDI7XG4gIGlmICgkWzBdICE9PSBjaGlsZHJlbiB8fCAkWzFdICE9PSB0MSkge1xuICAgIHQyID0gY3JlYXRlQnJvd3NlclJvdXRlcihbe1xuICAgICAgcGF0aDogdDEsXG4gICAgICBlbGVtZW50OiBjaGlsZHJlblxuICAgIH1dKTtcbiAgICAkWzBdID0gY2hpbGRyZW47XG4gICAgJFsxXSA9IHQxO1xuICAgICRbMl0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbMl07XG4gIH1cbiAgbGV0IHQzO1xuICBpZiAoJFszXSAhPT0gdDIpIHtcbiAgICB0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUm91dGVyUHJvdmlkZXIsIHsgcm91dGVyOiB0MiB9KTtcbiAgICAkWzNdID0gdDI7XG4gICAgJFs0XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs0XTtcbiAgfVxuICByZXR1cm4gdDM7XG59XG5mdW5jdGlvbiBEcmF3ZXIodDApIHtcbiAgY29uc3QgJCA9IGMoNik7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGVcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGlmICgkWzBdICE9PSBjaGlsZHJlbiB8fCAkWzFdICE9PSBjbGFzc05hbWUgfHwgJFsyXSAhPT0gc3R5bGUpIHtcbiAgICB0MSA9IGNoaWxkcmVuID8/IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdERyYXdlciwgeyBjbGFzc05hbWUsIHN0eWxlIH0pO1xuICAgICRbMF0gPSBjaGlsZHJlbjtcbiAgICAkWzFdID0gY2xhc3NOYW1lO1xuICAgICRbMl0gPSBzdHlsZTtcbiAgICAkWzNdID0gdDE7XG4gIH0gZWxzZSB7XG4gICAgdDEgPSAkWzNdO1xuICB9XG4gIGNvbnN0IHVzZWRDaGlsZHJlbiA9IHQxO1xuICBsZXQgdDI7XG4gIGlmICgkWzRdICE9PSB1c2VkQ2hpbGRyZW4pIHtcbiAgICB0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHVzZWRDaGlsZHJlbiB9KTtcbiAgICAkWzRdID0gdXNlZENoaWxkcmVuO1xuICAgICRbNV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNV07XG4gIH1cbiAgcmV0dXJuIHQyO1xufVxuRHJhd2VyLmNvbXBvbmVudFR5cGUgPSBcIkRyYXdlclwiO1xuZnVuY3Rpb24gQXBwQmFyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDgpO1xuICBsZXQgY2hpbGRyZW47XG4gIGxldCBwcm9wcztcbiAgaWYgKCRbMF0gIT09IHQwKSB7XG4gICAgKHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdDApO1xuICAgICRbMF0gPSB0MDtcbiAgICAkWzFdID0gY2hpbGRyZW47XG4gICAgJFsyXSA9IHByb3BzO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gJFsxXTtcbiAgICBwcm9wcyA9ICRbMl07XG4gIH1cbiAgbGV0IHQxO1xuICBpZiAoJFszXSAhPT0gY2hpbGRyZW4gfHwgJFs0XSAhPT0gcHJvcHMpIHtcbiAgICB0MSA9IGNoaWxkcmVuID8/IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdEFwcEJhciwgeyAuLi5wcm9wcyB9KTtcbiAgICAkWzNdID0gY2hpbGRyZW47XG4gICAgJFs0XSA9IHByb3BzO1xuICAgICRbNV0gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbNV07XG4gIH1cbiAgY29uc3QgdXNlZENoaWxkcmVuID0gdDE7XG4gIGxldCB0MjtcbiAgaWYgKCRbNl0gIT09IHVzZWRDaGlsZHJlbikge1xuICAgIHQyID0gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogdXNlZENoaWxkcmVuIH0pO1xuICAgICRbNl0gPSB1c2VkQ2hpbGRyZW47XG4gICAgJFs3XSA9IHQyO1xuICB9IGVsc2Uge1xuICAgIHQyID0gJFs3XTtcbiAgfVxuICByZXR1cm4gdDI7XG59XG5BcHBCYXIuY29tcG9uZW50VHlwZSA9IFwiQXBwQmFyXCI7XG5jb25zdCBEUkFXRVJfV0lEVEggPSAyODA7XG5jb25zdCBTY2FmZm9sZCA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gU2NhZmZvbGQyKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDQ2KTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGF1dG9PcGVuRHJhd2VyLFxuICAgIGxvZ28sXG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlXG4gIH0gPSBwcm9wcztcbiAgbGV0IHQwO1xuICBpZiAoJFswXSAhPT0gY2hpbGRyZW4pIHtcbiAgICB0MCA9IFJlYWN0X19kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZpbHRlcihfdGVtcCk7XG4gICAgJFswXSA9IGNoaWxkcmVuO1xuICAgICRbMV0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMV07XG4gIH1cbiAgY29uc3QgZHJhd2VyQ2hpbGRyZW4gPSB0MDtcbiAgaWYgKGRyYXdlckNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICB0aHJvdyBFcnJvcihcIk9ubHkgb25lIERyYXdlciBjb21wb25lbnQgaXMgYWxsb3dlZCBpbiBTY2FmZm9sZFwiKTtcbiAgfVxuICBsZXQgdDE7XG4gIGlmICgkWzJdICE9PSBjaGlsZHJlbikge1xuICAgIHQxID0gUmVhY3RfX2RlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikuZmlsdGVyKF90ZW1wMik7XG4gICAgJFsyXSA9IGNoaWxkcmVuO1xuICAgICRbM10gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgY29uc3QgYXBwQmFyQ2hpbGRyZW4gPSB0MTtcbiAgaWYgKGFwcEJhckNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICB0aHJvdyBFcnJvcihcIk9ubHkgb25lIEFwcEJhciBjb21wb25lbnQgaXMgYWxsb3dlZCBpbiBTY2FmZm9sZFwiKTtcbiAgfVxuICBsZXQgdDI7XG4gIGlmICgkWzRdICE9PSBjaGlsZHJlbikge1xuICAgIHQyID0gUmVhY3RfX2RlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikuZmlsdGVyKF90ZW1wMyk7XG4gICAgJFs0XSA9IGNoaWxkcmVuO1xuICAgICRbNV0gPSB0MjtcbiAgfSBlbHNlIHtcbiAgICB0MiA9ICRbNV07XG4gIH1cbiAgY29uc3Qgb3RoZXJDaGlsZHJlbiA9IHQyO1xuICBjb25zdCBpbmNsdWRlRHJhd2VyID0gZHJhd2VyQ2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgY29uc3QgbGFyZ2VMYXlvdXQgPSB1c2VMYXJnZUxheW91dCgpO1xuICBjb25zdCBbZHJhd2VyT3Blbiwgc2V0RHJhd2VyT3Blbl0gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtvbkhvdmVyLCBzZXRPbkhvdmVyXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGZhbHNlKTtcbiAgbGV0IHQzO1xuICBpZiAoJFs2XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MyA9ICgpID0+IHNldE9uSG92ZXIodHJ1ZSk7XG4gICAgJFs2XSA9IHQzO1xuICB9IGVsc2Uge1xuICAgIHQzID0gJFs2XTtcbiAgfVxuICBjb25zdCBzZXRPbkhvdmVyVHJ1ZSA9IHQzO1xuICBsZXQgdDQ7XG4gIGlmICgkWzddID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgIHQ0ID0gKCkgPT4gc2V0T25Ib3ZlcihmYWxzZSk7XG4gICAgJFs3XSA9IHQ0O1xuICB9IGVsc2Uge1xuICAgIHQ0ID0gJFs3XTtcbiAgfVxuICBjb25zdCBzZXRPbkhvdmVyRmFsc2UgPSB0NDtcbiAgbGV0IHQ1O1xuICBpZiAoJFs4XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NSA9ICgpID0+IHtcbiAgICAgIHNldERyYXdlck9wZW4odHJ1ZSk7XG4gICAgfTtcbiAgICAkWzhdID0gdDU7XG4gIH0gZWxzZSB7XG4gICAgdDUgPSAkWzhdO1xuICB9XG4gIGNvbnN0IGhhbmRsZURyYXdlck9wZW4gPSB0NTtcbiAgbGV0IHQ2O1xuICBpZiAoJFs5XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0NiA9ICgpID0+IHtcbiAgICAgIHNldERyYXdlck9wZW4oZmFsc2UpO1xuICAgIH07XG4gICAgJFs5XSA9IHQ2O1xuICB9IGVsc2Uge1xuICAgIHQ2ID0gJFs5XTtcbiAgfVxuICBjb25zdCBoYW5kbGVEcmF3ZXJDbG9zZSA9IHQ2O1xuICBjb25zdCBjb21wdXRlZERyYXdlck9wZW4gPSBkcmF3ZXJPcGVuIHx8IEJvb2xlYW4obGFyZ2VMYXlvdXQgJiYgYXV0b09wZW5EcmF3ZXIgJiYgb25Ib3Zlcik7XG4gIGNvbnN0IGhhc0FwcEJhciA9IEJvb2xlYW4oYXBwQmFyQ2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gIGxldCB0NztcbiAgaWYgKCRbMTBdICE9PSBhdXRvT3BlbkRyYXdlciB8fCAkWzExXSAhPT0gY29tcHV0ZWREcmF3ZXJPcGVuIHx8ICRbMTJdICE9PSBpbmNsdWRlRHJhd2VyIHx8ICRbMTNdICE9PSBsb2dvIHx8ICRbMTRdICE9PSBvbkhvdmVyKSB7XG4gICAgdDcgPSB7XG4gICAgICBsb2dvLFxuICAgICAgaGFzRHJhd2VyOiBpbmNsdWRlRHJhd2VyLFxuICAgICAgZHJhd2VySG92ZXJlZDogb25Ib3ZlcixcbiAgICAgIGRyYXdlck9wZW46IGNvbXB1dGVkRHJhd2VyT3BlbixcbiAgICAgIGNsb3NlRHJhd2VyOiBoYW5kbGVEcmF3ZXJDbG9zZSxcbiAgICAgIG9wZW5EcmF3ZXI6IGhhbmRsZURyYXdlck9wZW4sXG4gICAgICBhdXRvT3BlbkRyYXdlclxuICAgIH07XG4gICAgJFsxMF0gPSBhdXRvT3BlbkRyYXdlcjtcbiAgICAkWzExXSA9IGNvbXB1dGVkRHJhd2VyT3BlbjtcbiAgICAkWzEyXSA9IGluY2x1ZGVEcmF3ZXI7XG4gICAgJFsxM10gPSBsb2dvO1xuICAgICRbMTRdID0gb25Ib3ZlcjtcbiAgICAkWzE1XSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxNV07XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxNl0gIT09IGNsYXNzTmFtZSkge1xuICAgIHQ4ID0gY2xzKFwiZmxleCBoLXNjcmVlbiB3LXNjcmVlbiBiZy1zdXJmYWNlLTUwIGRhcms6Ymctc3VyZmFjZS05MDAgdGV4dC1zdXJmYWNlLTkwMCBkYXJrOnRleHQtd2hpdGUgb3ZlcmZsb3ctaGlkZGVuXCIsIGNsYXNzTmFtZSk7XG4gICAgJFsxNl0gPSBjbGFzc05hbWU7XG4gICAgJFsxN10gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMTddO1xuICB9XG4gIGxldCB0OTtcbiAgaWYgKCRbMThdICE9PSBzdHlsZSkge1xuICAgIHQ5ID0ge1xuICAgICAgcGFkZGluZ1RvcDogXCJlbnYoc2FmZS1hcmVhLWluc2V0LXRvcClcIixcbiAgICAgIHBhZGRpbmdMZWZ0OiBcImVudihzYWZlLWFyZWEtaW5zZXQtbGVmdClcIixcbiAgICAgIHBhZGRpbmdSaWdodDogXCJlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0KVwiLFxuICAgICAgcGFkZGluZ0JvdHRvbTogXCJlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSlcIixcbiAgICAgIGhlaWdodDogXCIxMDBkdmhcIixcbiAgICAgIC4uLnN0eWxlXG4gICAgfTtcbiAgICAkWzE4XSA9IHN0eWxlO1xuICAgICRbMTldID0gdDk7XG4gIH0gZWxzZSB7XG4gICAgdDkgPSAkWzE5XTtcbiAgfVxuICBjb25zdCB0MTAgPSBpbmNsdWRlRHJhd2VyICYmIGRyYXdlckNoaWxkcmVuO1xuICBsZXQgdDExO1xuICBpZiAoJFsyMF0gIT09IGNvbXB1dGVkRHJhd2VyT3BlbiB8fCAkWzIxXSAhPT0gaW5jbHVkZURyYXdlciB8fCAkWzIyXSAhPT0gb25Ib3ZlciB8fCAkWzIzXSAhPT0gdDEwKSB7XG4gICAgdDExID0gLyogQF9fUFVSRV9fICovIGpzeChEcmF3ZXJXcmFwcGVyLCB7IGRpc3BsYXllZDogaW5jbHVkZURyYXdlciwgb25Nb3VzZUVudGVyOiBzZXRPbkhvdmVyVHJ1ZSwgb25Nb3VzZU1vdmU6IHNldE9uSG92ZXJUcnVlLCBvbk1vdXNlTGVhdmU6IHNldE9uSG92ZXJGYWxzZSwgb3BlbjogY29tcHV0ZWREcmF3ZXJPcGVuLCBob3ZlcmVkOiBvbkhvdmVyLCBzZXREcmF3ZXJPcGVuLCBjaGlsZHJlbjogdDEwIH0pO1xuICAgICRbMjBdID0gY29tcHV0ZWREcmF3ZXJPcGVuO1xuICAgICRbMjFdID0gaW5jbHVkZURyYXdlcjtcbiAgICAkWzIyXSA9IG9uSG92ZXI7XG4gICAgJFsyM10gPSB0MTA7XG4gICAgJFsyNF0gPSB0MTE7XG4gIH0gZWxzZSB7XG4gICAgdDExID0gJFsyNF07XG4gIH1cbiAgbGV0IHQxMjtcbiAgaWYgKCRbMjVdICE9PSBoYXNBcHBCYXIpIHtcbiAgICB0MTIgPSBoYXNBcHBCYXIgJiYgLyogQF9fUFVSRV9fICovIGpzeChEcmF3ZXJIZWFkZXIsIHt9KTtcbiAgICAkWzI1XSA9IGhhc0FwcEJhcjtcbiAgICAkWzI2XSA9IHQxMjtcbiAgfSBlbHNlIHtcbiAgICB0MTIgPSAkWzI2XTtcbiAgfVxuICBjb25zdCB0MTMgPSAhaGFzQXBwQmFyO1xuICBsZXQgdDE0O1xuICBpZiAoJFsyN10gIT09IHQxMykge1xuICAgIHQxNCA9IGNscyhkZWZhdWx0Qm9yZGVyTWl4aW4sIFwiZmxleC1ncm93IG92ZXJmbG93LWF1dG8gbGc6bS0wIGxnOm14LTQgbGc6bWItNCBsZzpyb3VuZGVkLWxnIGxnOmJvcmRlciBsZzpib3JkZXItc29saWQgbS0wIG10LTFcIiwge1xuICAgICAgXCJsZzptdC00XCI6IHQxM1xuICAgIH0pO1xuICAgICRbMjddID0gdDEzO1xuICAgICRbMjhdID0gdDE0O1xuICB9IGVsc2Uge1xuICAgIHQxNCA9ICRbMjhdO1xuICB9XG4gIGxldCB0MTU7XG4gIGlmICgkWzI5XSAhPT0gb3RoZXJDaGlsZHJlbikge1xuICAgIHQxNSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogb3RoZXJDaGlsZHJlbiB9KTtcbiAgICAkWzI5XSA9IG90aGVyQ2hpbGRyZW47XG4gICAgJFszMF0gPSB0MTU7XG4gIH0gZWxzZSB7XG4gICAgdDE1ID0gJFszMF07XG4gIH1cbiAgbGV0IHQxNjtcbiAgaWYgKCRbMzFdICE9PSB0MTQgfHwgJFszMl0gIT09IHQxNSkge1xuICAgIHQxNiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQxNCwgY2hpbGRyZW46IHQxNSB9KTtcbiAgICAkWzMxXSA9IHQxNDtcbiAgICAkWzMyXSA9IHQxNTtcbiAgICAkWzMzXSA9IHQxNjtcbiAgfSBlbHNlIHtcbiAgICB0MTYgPSAkWzMzXTtcbiAgfVxuICBsZXQgdDE3O1xuICBpZiAoJFszNF0gIT09IHQxMiB8fCAkWzM1XSAhPT0gdDE2KSB7XG4gICAgdDE3ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJtYWluXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wgZmxleC1ncm93IG92ZXJmbG93LWF1dG9cIiwgY2hpbGRyZW46IFtcbiAgICAgIHQxMixcbiAgICAgIHQxNlxuICAgIF0gfSk7XG4gICAgJFszNF0gPSB0MTI7XG4gICAgJFszNV0gPSB0MTY7XG4gICAgJFszNl0gPSB0MTc7XG4gIH0gZWxzZSB7XG4gICAgdDE3ID0gJFszNl07XG4gIH1cbiAgbGV0IHQxODtcbiAgaWYgKCRbMzddICE9PSBhcHBCYXJDaGlsZHJlbiB8fCAkWzM4XSAhPT0gdDExIHx8ICRbMzldICE9PSB0MTcgfHwgJFs0MF0gIT09IHQ4IHx8ICRbNDFdICE9PSB0OSkge1xuICAgIHQxOCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0OCwgc3R5bGU6IHQ5LCBjaGlsZHJlbjogW1xuICAgICAgYXBwQmFyQ2hpbGRyZW4sXG4gICAgICB0MTEsXG4gICAgICB0MTdcbiAgICBdIH0pO1xuICAgICRbMzddID0gYXBwQmFyQ2hpbGRyZW47XG4gICAgJFszOF0gPSB0MTE7XG4gICAgJFszOV0gPSB0MTc7XG4gICAgJFs0MF0gPSB0ODtcbiAgICAkWzQxXSA9IHQ5O1xuICAgICRbNDJdID0gdDE4O1xuICB9IGVsc2Uge1xuICAgIHQxOCA9ICRbNDJdO1xuICB9XG4gIGxldCB0MTk7XG4gIGlmICgkWzQzXSAhPT0gdDE4IHx8ICRbNDRdICE9PSB0Nykge1xuICAgIHQxOSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQXBwQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdDcsIGNoaWxkcmVuOiB0MTggfSk7XG4gICAgJFs0M10gPSB0MTg7XG4gICAgJFs0NF0gPSB0NztcbiAgICAkWzQ1XSA9IHQxOTtcbiAgfSBlbHNlIHtcbiAgICB0MTkgPSAkWzQ1XTtcbiAgfVxuICByZXR1cm4gdDE5O1xufSwgZXF1YWwpO1xuY29uc3QgRHJhd2VySGVhZGVyID0gKCkgPT4ge1xuICBjb25zdCAkID0gYygxKTtcbiAgbGV0IHQwO1xuICBpZiAoJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikpIHtcbiAgICB0MCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LWNvbCBtaW4taC0xNlwiIH0pO1xuICAgICRbMF0gPSB0MDtcbiAgfSBlbHNlIHtcbiAgICB0MCA9ICRbMF07XG4gIH1cbiAgcmV0dXJuIHQwO1xufTtcbmZ1bmN0aW9uIERyYXdlcldyYXBwZXIocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoMzkpO1xuICBjb25zdCB3aWR0aCA9ICFwcm9wcy5kaXNwbGF5ZWQgPyAwIDogcHJvcHMub3BlbiA/IERSQVdFUl9XSURUSCA6IDcyO1xuICBsZXQgdDA7XG4gIGlmICgkWzBdICE9PSB3aWR0aCkge1xuICAgIHQwID0ge1xuICAgICAgd2lkdGgsXG4gICAgICB0cmFuc2l0aW9uOiBcImxlZnQgMTAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXMsIG9wYWNpdHkgMTAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXMsIHdpZHRoIDEwMG1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSkgMG1zXCJcbiAgICB9O1xuICAgICRbMF0gPSB3aWR0aDtcbiAgICAkWzFdID0gdDA7XG4gIH0gZWxzZSB7XG4gICAgdDAgPSAkWzFdO1xuICB9XG4gIGxldCB0MTtcbiAgaWYgKCRbMl0gIT09IHByb3BzKSB7XG4gICAgdDEgPSAhcHJvcHMub3BlbiAmJiBwcm9wcy5kaXNwbGF5ZWQgJiYgLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IHRpdGxlOiBcIk9wZW4gbWVudVwiLCBzaWRlOiBcInJpZ2h0XCIsIHNpZGVPZmZzZXQ6IDEyLCBhc0NoaWxkOiB0cnVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtbC0yIGZpeGVkIHRvcC0xIGxlZnQtMiBzbTp0b3AtMiBzbTpsZWZ0LTIgIWJnLXN1cmZhY2UtNTAgZGFyazohYmctc3VyZmFjZS05MDAgcm91bmRlZC1mdWxsIHctZml0IHotMjBcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBjb2xvcjogXCJpbmhlcml0XCIsIFwiYXJpYS1sYWJlbFwiOiBcIk9wZW4gbWVudVwiLCBvbkNsaWNrOiAoKSA9PiBwcm9wcy5zZXREcmF3ZXJPcGVuKHRydWUpLCBzaXplOiBcImxhcmdlXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJY29uLCB7fSkgfSkgfSkgfSk7XG4gICAgJFsyXSA9IHByb3BzO1xuICAgICRbM10gPSB0MTtcbiAgfSBlbHNlIHtcbiAgICB0MSA9ICRbM107XG4gIH1cbiAgY29uc3QgdDIgPSBgei0yMCBhYnNvbHV0ZSByaWdodC0wIHRvcC00ICR7cHJvcHMub3BlbiA/IFwib3BhY2l0eS0xMDBcIiA6IFwib3BhY2l0eS0wIGludmlzaWJsZVwifSB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0YDtcbiAgbGV0IHQzO1xuICBpZiAoJFs0XSAhPT0gcHJvcHMpIHtcbiAgICB0MyA9ICgpID0+IHByb3BzLnNldERyYXdlck9wZW4oZmFsc2UpO1xuICAgICRbNF0gPSBwcm9wcztcbiAgICAkWzVdID0gdDM7XG4gIH0gZWxzZSB7XG4gICAgdDMgPSAkWzVdO1xuICB9XG4gIGxldCB0NDtcbiAgaWYgKCRbNl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpKSB7XG4gICAgdDQgPSAvKiBAX19QVVJFX18gKi8ganN4KENoZXZyb25MZWZ0SWNvbiwge30pO1xuICAgICRbNl0gPSB0NDtcbiAgfSBlbHNlIHtcbiAgICB0NCA9ICRbNl07XG4gIH1cbiAgbGV0IHQ1O1xuICBpZiAoJFs3XSAhPT0gdDMpIHtcbiAgICB0NSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkJ1dHRvbiwgeyBcImFyaWEtbGFiZWxcIjogXCJDbG9zZSBkcmF3ZXJcIiwgb25DbGljazogdDMsIGNoaWxkcmVuOiB0NCB9KTtcbiAgICAkWzddID0gdDM7XG4gICAgJFs4XSA9IHQ1O1xuICB9IGVsc2Uge1xuICAgIHQ1ID0gJFs4XTtcbiAgfVxuICBsZXQgdDY7XG4gIGlmICgkWzldICE9PSB0MiB8fCAkWzEwXSAhPT0gdDUpIHtcbiAgICB0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IHQyLCBjaGlsZHJlbjogdDUgfSk7XG4gICAgJFs5XSA9IHQyO1xuICAgICRbMTBdID0gdDU7XG4gICAgJFsxMV0gPSB0NjtcbiAgfSBlbHNlIHtcbiAgICB0NiA9ICRbMTFdO1xuICB9XG4gIGxldCB0NztcbiAgaWYgKCRbMTJdICE9PSBwcm9wcy5jaGlsZHJlbikge1xuICAgIHQ3ID0gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGgtZnVsbFwiLCBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfSk7XG4gICAgJFsxMl0gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAkWzEzXSA9IHQ3O1xuICB9IGVsc2Uge1xuICAgIHQ3ID0gJFsxM107XG4gIH1cbiAgbGV0IHQ4O1xuICBpZiAoJFsxNF0gIT09IHQwIHx8ICRbMTVdICE9PSB0MSB8fCAkWzE2XSAhPT0gdDYgfHwgJFsxN10gIT09IHQ3KSB7XG4gICAgdDggPSAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZWxhdGl2ZSBoLWZ1bGwgbm8tc2Nyb2xsYmFyIG92ZXJmbG93LXktYXV0byBvdmVyZmxvdy14LWhpZGRlblwiLCBzdHlsZTogdDAsIGNoaWxkcmVuOiBbXG4gICAgICB0MSxcbiAgICAgIHQ2LFxuICAgICAgdDdcbiAgICBdIH0pO1xuICAgICRbMTRdID0gdDA7XG4gICAgJFsxNV0gPSB0MTtcbiAgICAkWzE2XSA9IHQ2O1xuICAgICRbMTddID0gdDc7XG4gICAgJFsxOF0gPSB0ODtcbiAgfSBlbHNlIHtcbiAgICB0OCA9ICRbMThdO1xuICB9XG4gIGNvbnN0IGlubmVyRHJhd2VyID0gdDg7XG4gIGNvbnN0IGxhcmdlTGF5b3V0ID0gdXNlTGFyZ2VMYXlvdXQoKTtcbiAgaWYgKCFsYXJnZUxheW91dCkge1xuICAgIGlmICghcHJvcHMuZGlzcGxheWVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHQ5MjtcbiAgICBpZiAoJFsxOV0gIT09IHByb3BzKSB7XG4gICAgICB0OTIgPSAoKSA9PiBwcm9wcy5zZXREcmF3ZXJPcGVuKHRydWUpO1xuICAgICAgJFsxOV0gPSBwcm9wcztcbiAgICAgICRbMjBdID0gdDkyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0OTIgPSAkWzIwXTtcbiAgICB9XG4gICAgbGV0IHQxMDI7XG4gICAgaWYgKCRbMjFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSkge1xuICAgICAgdDEwMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUljb24sIHt9KTtcbiAgICAgICRbMjFdID0gdDEwMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdDEwMiA9ICRbMjFdO1xuICAgIH1cbiAgICBsZXQgdDExO1xuICAgIGlmICgkWzIyXSAhPT0gdDkyKSB7XG4gICAgICB0MTEgPSAvKiBAX19QVVJFX18gKi8ganN4KEljb25CdXR0b24sIHsgY29sb3I6IFwiaW5oZXJpdFwiLCBcImFyaWEtbGFiZWxcIjogXCJPcGVuIGRyYXdlclwiLCBvbkNsaWNrOiB0OTIsIHNpemU6IFwibGFyZ2VcIiwgY2xhc3NOYW1lOiBcImFic29sdXRlIHNtOnRvcC0yIHNtOmxlZnQtNCB0b3AtMSBsZWZ0LTJcIiwgY2hpbGRyZW46IHQxMDIgfSk7XG4gICAgICAkWzIyXSA9IHQ5MjtcbiAgICAgICRbMjNdID0gdDExO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MTEgPSAkWzIzXTtcbiAgICB9XG4gICAgbGV0IHQxMjtcbiAgICBpZiAoJFsyNF0gIT09IGlubmVyRHJhd2VyIHx8ICRbMjVdICE9PSBwcm9wcy5vcGVuIHx8ICRbMjZdICE9PSBwcm9wcy5zZXREcmF3ZXJPcGVuKSB7XG4gICAgICB0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFNoZWV0LCB7IHNpZGU6IFwibGVmdFwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BlbjogcHJvcHMub3Blbiwgb25PcGVuQ2hhbmdlOiBwcm9wcy5zZXREcmF3ZXJPcGVuLCB0aXRsZTogXCJOYXZpZ2F0aW9uIGRyYXdlclwiLCBvdmVybGF5Q2xhc3NOYW1lOiBcImJnLXdoaXRlIGJnLW9wYWNpdHktODBcIiwgY2hpbGRyZW46IGlubmVyRHJhd2VyIH0pO1xuICAgICAgJFsyNF0gPSBpbm5lckRyYXdlcjtcbiAgICAgICRbMjVdID0gcHJvcHMub3BlbjtcbiAgICAgICRbMjZdID0gcHJvcHMuc2V0RHJhd2VyT3BlbjtcbiAgICAgICRbMjddID0gdDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0MTIgPSAkWzI3XTtcbiAgICB9XG4gICAgbGV0IHQxMztcbiAgICBpZiAoJFsyOF0gIT09IHQxMSB8fCAkWzI5XSAhPT0gdDEyKSB7XG4gICAgICB0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgICB0MTEsXG4gICAgICAgIHQxMlxuICAgICAgXSB9KTtcbiAgICAgICRbMjhdID0gdDExO1xuICAgICAgJFsyOV0gPSB0MTI7XG4gICAgICAkWzMwXSA9IHQxMztcbiAgICB9IGVsc2Uge1xuICAgICAgdDEzID0gJFszMF07XG4gICAgfVxuICAgIHJldHVybiB0MTM7XG4gIH1cbiAgbGV0IHQ5O1xuICBpZiAoJFszMV0gIT09IHdpZHRoKSB7XG4gICAgdDkgPSB7XG4gICAgICB3aWR0aCxcbiAgICAgIHRyYW5zaXRpb246IFwibGVmdCAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcywgb3BhY2l0eSAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcywgd2lkdGggMTAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXNcIlxuICAgIH07XG4gICAgJFszMV0gPSB3aWR0aDtcbiAgICAkWzMyXSA9IHQ5O1xuICB9IGVsc2Uge1xuICAgIHQ5ID0gJFszMl07XG4gIH1cbiAgbGV0IHQxMDtcbiAgaWYgKCRbMzNdICE9PSBpbm5lckRyYXdlciB8fCAkWzM0XSAhPT0gcHJvcHMub25Nb3VzZUVudGVyIHx8ICRbMzVdICE9PSBwcm9wcy5vbk1vdXNlTGVhdmUgfHwgJFszNl0gIT09IHByb3BzLm9uTW91c2VNb3ZlIHx8ICRbMzddICE9PSB0OSkge1xuICAgIHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiei0yMCByZWxhdGl2ZVwiLCBvbk1vdXNlRW50ZXI6IHByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZU1vdmU6IHByb3BzLm9uTW91c2VNb3ZlLCBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTW91c2VMZWF2ZSwgc3R5bGU6IHQ5LCBjaGlsZHJlbjogaW5uZXJEcmF3ZXIgfSk7XG4gICAgJFszM10gPSBpbm5lckRyYXdlcjtcbiAgICAkWzM0XSA9IHByb3BzLm9uTW91c2VFbnRlcjtcbiAgICAkWzM1XSA9IHByb3BzLm9uTW91c2VMZWF2ZTtcbiAgICAkWzM2XSA9IHByb3BzLm9uTW91c2VNb3ZlO1xuICAgICRbMzddID0gdDk7XG4gICAgJFszOF0gPSB0MTA7XG4gIH0gZWxzZSB7XG4gICAgdDEwID0gJFszOF07XG4gIH1cbiAgcmV0dXJuIHQxMDtcbn1cbmZ1bmN0aW9uIF90ZW1wKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC50eXBlLmNvbXBvbmVudFR5cGUgPT09IFwiRHJhd2VyXCI7XG59XG5mdW5jdGlvbiBfdGVtcDIoY2hpbGRfMCkge1xuICByZXR1cm4gY2hpbGRfMC50eXBlLmNvbXBvbmVudFR5cGUgPT09IFwiQXBwQmFyXCI7XG59XG5mdW5jdGlvbiBfdGVtcDMoY2hpbGRfMSkge1xuICByZXR1cm4gY2hpbGRfMS50eXBlLmNvbXBvbmVudFR5cGUgIT09IFwiRHJhd2VyXCIgJiYgY2hpbGRfMS50eXBlLmNvbXBvbmVudFR5cGUgIT09IFwiQXBwQmFyXCI7XG59XG5leHBvcnQge1xuICBBcHBCYXIsXG4gIEFwcENvbnRleHQsXG4gIEFycmF5Q29udGFpbmVyLFxuICBBcnJheUNvbnRhaW5lckl0ZW0sXG4gIEFycmF5Q3VzdG9tU2hhcGVkRmllbGRCaW5kaW5nLFxuICBBcnJheUVudW1QcmV2aWV3LFxuICBBcnJheUl0ZW1PcHRpb25zLFxuICBBcnJheU9mTWFwc1ByZXZpZXcsXG4gIEFycmF5T2ZSZWZlcmVuY2VzRmllbGRCaW5kaW5nLFxuICBBcnJheU9mUmVmZXJlbmNlc1ByZXZpZXcsXG4gIEFycmF5T2ZTdG9yYWdlQ29tcG9uZW50c1ByZXZpZXcsXG4gIEFycmF5T2ZTdHJpbmdzUHJldmlldyxcbiAgQXJyYXlPbmVPZlByZXZpZXcsXG4gIEFycmF5UHJvcGVydHlFbnVtUHJldmlldyxcbiAgQXJyYXlQcm9wZXJ0eVByZXZpZXcsXG4gIEFzeW5jUHJldmlld0NvbXBvbmVudCxcbiAgQXV0aENvbnRyb2xsZXJDb250ZXh0LFxuICBCbG9ja0ZpZWxkQmluZGluZyxcbiAgQm9vbGVhblByZXZpZXcsXG4gIENPTExFQ1RJT05fR1JPVVBfUEFSRU5UX0lELFxuICBDT0xMRUNUSU9OX1BBVEhfU0VQQVJBVE9SLFxuICBDaXJjdWxhclByb2dyZXNzQ2VudGVyLFxuICBDb25maXJtYXRpb25EaWFsb2csXG4gIERFRkFVTFRfRklFTERfQ09ORklHUyxcbiAgRFJBV0VSX1dJRFRILFxuICBEYXRlUHJldmlldyxcbiAgRGF0ZVRpbWVGaWVsZEJpbmRpbmcsXG4gIERlZmF1bHRBcHBCYXIsXG4gIERlZmF1bHREcmF3ZXIsXG4gIERlZmF1bHRIb21lUGFnZSxcbiAgRHJhd2VyLFxuICBEcmF3ZXJMb2dvLFxuICBEcmF3ZXJOYXZpZ2F0aW9uSXRlbSxcbiAgRW1wdHlWYWx1ZSxcbiAgRW50aXR5Q29sbGVjdGlvblJvd0FjdGlvbnMsXG4gIEVudGl0eUNvbGxlY3Rpb25UYWJsZSxcbiAgRW50aXR5Q29sbGVjdGlvblZpZXcsXG4gIEVudGl0eUNvbGxlY3Rpb25WaWV3QWN0aW9ucyxcbiAgRW50aXR5Rm9ybSxcbiAgRW50aXR5UmVmZXJlbmNlLFxuICBFbnRpdHlWaWV3LFxuICBFbnVtVmFsdWVzQ2hpcCxcbiAgRXJyb3JCb3VuZGFyeSxcbiAgRXJyb3JWaWV3LFxuICBGaWVsZENhcHRpb24sXG4gIEZpZWxkSGVscGVyVGV4dCxcbiAgRmlyZUNNUyxcbiAgRmlyZUNNU0xvZ28sXG4gIEZpcmVDTVNSb3V0ZXIsXG4gIEZvcm1FbnRyeSxcbiAgRm9ybUxheW91dCxcbiAgR2VvUG9pbnQsXG4gIEljb25Gb3JWaWV3LFxuICBJbWFnZVByZXZpZXcsXG4gIEtleVZhbHVlRmllbGRCaW5kaW5nLFxuICBLZXlWYWx1ZVByZXZpZXcsXG4gIExhYmVsV2l0aEljb24sXG4gIExhYmVsV2l0aEljb25BbmRUb29sdGlwLFxuICBNYXBGaWVsZEJpbmRpbmcsXG4gIE1hcFByb3BlcnR5UHJldmlldyxcbiAgTWFya2Rvd25FZGl0b3JGaWVsZEJpbmRpbmcsXG4gIE1vZGVDb250cm9sbGVyQ29udGV4dCxcbiAgTW9kZUNvbnRyb2xsZXJQcm92aWRlcixcbiAgTXVsdGlTZWxlY3RGaWVsZEJpbmRpbmcsXG4gIE5hdmlnYXRpb25DYXJkLFxuICBOYXZpZ2F0aW9uQ2FyZEJpbmRpbmcsXG4gIE5hdmlnYXRpb25Hcm91cCxcbiAgTmF2aWdhdGlvblJvdXRlcyxcbiAgTm90Rm91bmRQYWdlLFxuICBOdW1iZXJQcm9wZXJ0eVByZXZpZXcsXG4gIFByb3BlcnR5Q29uZmlnQmFkZ2UsXG4gIFByb3BlcnR5RmllbGRCaW5kaW5nLFxuICBQcm9wZXJ0eUlkQ29weVRvb2x0aXAsXG4gIFByb3BlcnR5SWRDb3B5VG9vbHRpcENvbnRlbnQsXG4gIFByb3BlcnR5UHJldmlldyxcbiAgUHJvcGVydHlUYWJsZUNlbGwsXG4gIFJlYWRPbmx5RmllbGRCaW5kaW5nLFxuICBSZWZlcmVuY2VGaWVsZEJpbmRpbmcsXG4gIFJlZmVyZW5jZVByZXZpZXcsXG4gIFJlZmVyZW5jZVNlbGVjdGlvblRhYmxlLFxuICBSZWZlcmVuY2VXaWRnZXQsXG4gIFJlcGVhdEZpZWxkQmluZGluZyxcbiAgU2NhZmZvbGQsXG4gIFNlYXJjaEljb25zVmlldyxcbiAgU2VsZWN0RmllbGRCaW5kaW5nLFxuICBTZWxlY3RhYmxlVGFibGUsXG4gIFNlbGVjdGFibGVUYWJsZUNvbnRleHQsXG4gIFNpZGVEaWFsb2dzLFxuICBTa2VsZXRvblByb3BlcnR5Q29tcG9uZW50LFxuICBTbWFsbE5hdmlnYXRpb25DYXJkLFxuICBTbmFja2JhclByb3ZpZGVyLFxuICBTdG9yYWdlVGh1bWJuYWlsLFxuICBTdG9yYWdlVGh1bWJuYWlsSW50ZXJuYWwsXG4gIFN0b3JhZ2VVcGxvYWRGaWVsZEJpbmRpbmcsXG4gIFN0cmluZ1Byb3BlcnR5UHJldmlldyxcbiAgU3dpdGNoRmllbGRCaW5kaW5nLFxuICBUZXh0RmllbGRCaW5kaW5nLFxuICBVcmxDb21wb25lbnRQcmV2aWV3LFxuICBWZWN0b3IsXG4gIFZpcnR1YWxUYWJsZSxcbiAgYWRkSW5pdGlhbFNsYXNoLFxuICBhcHBseVBlcm1pc3Npb25zRnVuY3Rpb25JZkVtcHR5LFxuICBidWlsZEFkZGl0aW9uYWxGaWVsZERlbGVnYXRlLFxuICBidWlsZENvbGxlY3Rpb24sXG4gIGJ1aWxkRW50aXR5Q2FsbGJhY2tzLFxuICBidWlsZEVudW1MYWJlbCxcbiAgYnVpbGRFbnVtVmFsdWVDb25maWcsXG4gIGJ1aWxkRW51bVZhbHVlcyxcbiAgYnVpbGRGaWVsZENvbmZpZyxcbiAgYnVpbGRJZENvbHVtbixcbiAgYnVpbGRQcm9wZXJ0aWVzLFxuICBidWlsZFByb3BlcnRpZXNPckJ1aWxkZXIsXG4gIGJ1aWxkUHJvcGVydHksXG4gIGNhbkNyZWF0ZUVudGl0eSxcbiAgY2FuRGVsZXRlRW50aXR5LFxuICBjYW5FZGl0RW50aXR5LFxuICBjb3B5RW50aXR5QWN0aW9uLFxuICBkZWZhdWx0RGF0ZUZvcm1hdCxcbiAgZGVsZXRlRW50aXR5QWN0aW9uLFxuICBkZWxldGVFbnRpdHlXaXRoQ2FsbGJhY2tzLFxuICBlZGl0RW50aXR5QWN0aW9uLFxuICBlbnVtVG9PYmplY3RFbnRyaWVzLFxuICBmbGF0dGVuT2JqZWN0LFxuICBmdWxsUGF0aFRvQ29sbGVjdGlvblNlZ21lbnRzLFxuICBnZXRBcnJheVJlc29sdmVkUHJvcGVydGllcyxcbiAgZ2V0QXJyYXlWYWx1ZXNDb3VudCxcbiAgZ2V0QnJhY2tldE5vdGF0aW9uLFxuICBnZXRDb2xsZWN0aW9uQnlQYXRoT3JJZCxcbiAgZ2V0Q29sbGVjdGlvblBhdGhzQ29tYmluYXRpb25zLFxuICBnZXRDb2xvckZvclByb3BlcnR5LFxuICBnZXRDb2xvclNjaGVtZSxcbiAgZ2V0Q29sdW1uS2V5c0ZvclByb3BlcnR5LFxuICBnZXREZWZhdWx0RmllbGRDb25maWcsXG4gIGdldERlZmF1bHRGaWVsZElkLFxuICBnZXREZWZhdWx0UHJvcGVydGllc09yZGVyLFxuICBnZXREZWZhdWx0VmFsdWVGb3IsXG4gIGdldERlZmF1bHRWYWx1ZUZvckRhdGFUeXBlLFxuICBnZXREZWZhdWx0VmFsdWVzRm9yLFxuICBnZXRFbnRpdHlJbWFnZVByZXZpZXdQcm9wZXJ0eUtleSxcbiAgZ2V0RW50aXR5UHJldmlld0tleXMsXG4gIGdldEVudGl0eVRpdGxlUHJvcGVydHlLZXksXG4gIGdldEZpZWxkQ29uZmlnLFxuICBnZXRGaWVsZElkLFxuICBnZXRGb3JtRmllbGRLZXlzLFxuICBnZXRIYXNoVmFsdWUsXG4gIGdldEljb24sXG4gIGdldEljb25Gb3JQcm9wZXJ0eSxcbiAgZ2V0SWNvbkZvcldpZGdldCxcbiAgZ2V0SWRJY29uLFxuICBnZXRMYWJlbE9yQ29uZmlnRnJvbSxcbiAgZ2V0TGFzdFNlZ21lbnQsXG4gIGdldFByb3BlcnRpZXNXaXRoUHJvcGVydGllc09yZGVyLFxuICBnZXRQcm9wZXJ0eUluUGF0aCxcbiAgZ2V0UmFuZG9tSWQkMSBhcyBnZXRSYW5kb21JZCxcbiAgZ2V0UmVmZXJlbmNlRnJvbSxcbiAgZ2V0UmVzb2x2ZWRQcm9wZXJ0eUluUGF0aCxcbiAgZ2V0VmFsdWVJblBhdGgsXG4gIGh5ZHJhdGVSZWdFeHAsXG4gIGljb25TeW5vbnltcyxcbiAgaWNvbnNTZWFyY2gsXG4gIGlzRGVmYXVsdEZpZWxkQ29uZmlnSWQsXG4gIGlzRW1wdHlPYmplY3QsXG4gIGlzRW51bVZhbHVlRGlzYWJsZWQsXG4gIGlzSGlkZGVuLFxuICBpc09iamVjdCxcbiAgaXNQcm9wZXJ0eUJ1aWxkZXIsXG4gIGlzUmVhZE9ubHksXG4gIGlzUmVmZXJlbmNlUHJvcGVydHksXG4gIGlzVmFsaWRSZWdFeHAsXG4gIGpvaW5Db2xsZWN0aW9uTGlzdHMsXG4gIG1ha2VQcm9wZXJ0aWVzRWRpdGFibGUsXG4gIG1ha2VQcm9wZXJ0aWVzTm9uRWRpdGFibGUsXG4gIG1lcmdlQ29sbGVjdGlvbixcbiAgbWVyZ2VEZWVwLFxuICBtZXJnZUVudGl0eUFjdGlvbnMsXG4gIG5hdmlnYXRlVG9FbnRpdHksXG4gIHBpY2ssXG4gIHBsdXJhbCxcbiAgcHJpbnRDaGFuZ2VkLFxuICBwcm9wZXJ0aWVzVG9Db2x1bW5zLFxuICByYW5kb21Db2xvcixcbiAgcmFuZG9tU3RyaW5nLFxuICByZW1vdmVGdW5jdGlvbnMsXG4gIHJlbW92ZUluUGF0aCxcbiAgcmVtb3ZlSW5pdGlhbEFuZFRyYWlsaW5nU2xhc2hlcyxcbiAgcmVtb3ZlSW5pdGlhbFNsYXNoLFxuICByZW1vdmVOdWxscyxcbiAgcmVtb3ZlUHJvcHNJZkV4aXN0aW5nLFxuICByZW1vdmVUcmFpbGluZ1NsYXNoLFxuICByZW1vdmVVbmRlZmluZWQsXG4gIHJlbmRlclNrZWxldG9uQ2FwdGlvblRleHQsXG4gIHJlbmRlclNrZWxldG9uSWNvbixcbiAgcmVuZGVyU2tlbGV0b25JbWFnZVRodW1ibmFpbCxcbiAgcmVuZGVyU2tlbGV0b25UZXh0LFxuICByZXNvbHZlQXJyYXlQcm9wZXJ0eSxcbiAgcmVzb2x2ZUNvbGxlY3Rpb24sXG4gIHJlc29sdmVDb2xsZWN0aW9uUGF0aElkcyxcbiAgcmVzb2x2ZURlZmF1bHRTZWxlY3RlZFZpZXcsXG4gIHJlc29sdmVFbnRpdHlWaWV3LFxuICByZXNvbHZlRW51bVZhbHVlcyxcbiAgcmVzb2x2ZU5hdmlnYXRpb25Gcm9tLFxuICByZXNvbHZlUGVybWlzc2lvbnMsXG4gIHJlc29sdmVQcm9wZXJ0aWVzLFxuICByZXNvbHZlUHJvcGVydHksXG4gIHJlc29sdmVQcm9wZXJ0eUVudW0sXG4gIHJlc29sdmVTdG9yYWdlRmlsZW5hbWVTdHJpbmcsXG4gIHJlc29sdmVTdG9yYWdlUGF0aFN0cmluZyxcbiAgcmVzb2x2ZWRTZWxlY3RlZEVudGl0eVZpZXcsXG4gIHNhbml0aXplRGF0YSxcbiAgc2F2ZUVudGl0eVdpdGhDYWxsYmFja3MsXG4gIHNlZ21lbnRzVG9TdHJpcHBlZFBhdGgsXG4gIHNlcmlhbGl6ZVJlZ0V4cCxcbiAgc2luZ3VsYXIsXG4gIHNsdWdpZnksXG4gIHNvcnRQcm9wZXJ0aWVzLFxuICBzdHJpcENvbGxlY3Rpb25QYXRoLFxuICB0b0tlYmFiQ2FzZSxcbiAgdG9TbmFrZUNhc2UsXG4gIHRyYXZlcnNlVmFsdWVQcm9wZXJ0eSxcbiAgdHJhdmVyc2VWYWx1ZXNQcm9wZXJ0aWVzLFxuICB1bnNsdWdpZnksXG4gIHVwZGF0ZURhdGVBdXRvVmFsdWVzLFxuICB1c2VBcHAsXG4gIHVzZUF1dGhDb250cm9sbGVyLFxuICB1c2VCcm93c2VyVGl0bGVBbmRJY29uLFxuICB1c2VCdWlsZExvY2FsQ29uZmlndXJhdGlvblBlcnNpc3RlbmNlLFxuICB1c2VCdWlsZE1vZGVDb250cm9sbGVyLFxuICB1c2VCdWlsZE5hdmlnYXRpb25Db250cm9sbGVyLFxuICB1c2VDbGVhclJlc3RvcmVWYWx1ZSxcbiAgdXNlQ2xpcGJvYXJkLFxuICB1c2VDb2xsZWN0aW9uRmV0Y2gsXG4gIHVzZUNvbHVtbklkcyxcbiAgdXNlQ3VzdG9taXphdGlvbkNvbnRyb2xsZXIsXG4gIHVzZURhdGFTb3VyY2UsXG4gIHVzZURhdGFTb3VyY2VUYWJsZUNvbnRyb2xsZXIsXG4gIHVzZURlYm91bmNlZENhbGxiYWNrLFxuICB1c2VEZWJvdW5jZWREYXRhLFxuICB1c2VEaWFsb2dzQ29udHJvbGxlcixcbiAgdXNlRW50aXR5RmV0Y2gsXG4gIHVzZUZpcmVDTVNDb250ZXh0LFxuICB1c2VMYXJnZUxheW91dCxcbiAgdXNlTW9kZUNvbnRyb2xsZXIsXG4gIHVzZU5hdmlnYXRpb25Db250cm9sbGVyLFxuICB1c2VSZWZlcmVuY2VEaWFsb2csXG4gIHVzZVJlc29sdmVkTmF2aWdhdGlvbkZyb20sXG4gIHVzZVNlbGVjdGFibGVUYWJsZUNvbnRyb2xsZXIsXG4gIHVzZVNlbGVjdGlvbkNvbnRyb2xsZXIsXG4gIHVzZVNpZGVEaWFsb2dDb250ZXh0LFxuICB1c2VTaWRlRGlhbG9nc0NvbnRyb2xsZXIsXG4gIHVzZVNpZGVFbnRpdHlDb250cm9sbGVyLFxuICB1c2VTbmFja2JhckNvbnRyb2xsZXIsXG4gIHVzZVN0b3JhZ2VTb3VyY2UsXG4gIHVzZVRhYmxlU2VhcmNoSGVscGVyLFxuICB1c2VUcmFjZVVwZGF0ZSxcbiAgdXNlVmFsaWRhdGVBdXRoZW50aWNhdG9yLFxuICB5dXBUb0Zvcm1FcnJvcnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@firecms+core@3.0.0-beta.12_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.2_sdo5nwpxnnm4g3nm64nvhkbfbi/node_modules/@firecms/core/dist/index.es.js\n");

/***/ })

};
;